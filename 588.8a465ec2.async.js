!(function(){var sM=Math.pow;var lM=(j,M,l)=>new Promise((v,d)=>{var m=A=>{try{x(l.next(A))}catch(E){d(E)}},g=A=>{try{x(l.throw(A))}catch(E){d(E)}},x=A=>A.done?v(A.value):Promise.resolve(A.value).then(m,g);x((l=l.apply(j,M)).next())});(self.webpackChunk_infore_editor=self.webpackChunk_infore_editor||[]).push([[588],{92138:function(j,M,l){"use strict";l.d(M,{R_:function(){return Y},ez:function(){return re}});var v=l(86500),d=l(1350),m=2,g=.16,x=.05,A=.05,E=.15,w=5,k=4,Z=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function U(It){var Ve=It.r,Me=It.g,Qe=It.b,bt=(0,v.py)(Ve,Me,Qe);return{h:bt.h*360,s:bt.s,v:bt.v}}function $(It){var Ve=It.r,Me=It.g,Qe=It.b;return"#".concat((0,v.vq)(Ve,Me,Qe,!1))}function te(It,Ve,Me){var Qe=Me/100,bt={r:(Ve.r-It.r)*Qe+It.r,g:(Ve.g-It.g)*Qe+It.g,b:(Ve.b-It.b)*Qe+It.b};return bt}function Q(It,Ve,Me){var Qe;return Math.round(It.h)>=60&&Math.round(It.h)<=240?Qe=Me?Math.round(It.h)-m*Ve:Math.round(It.h)+m*Ve:Qe=Me?Math.round(It.h)+m*Ve:Math.round(It.h)-m*Ve,Qe<0?Qe+=360:Qe>=360&&(Qe-=360),Qe}function J(It,Ve,Me){if(It.h===0&&It.s===0)return It.s;var Qe;return Me?Qe=It.s-g*Ve:Ve===k?Qe=It.s+g:Qe=It.s+x*Ve,Qe>1&&(Qe=1),Me&&Ve===w&&Qe>.1&&(Qe=.1),Qe<.06&&(Qe=.06),Number(Qe.toFixed(2))}function K(It,Ve,Me){var Qe;return Me?Qe=It.v+A*Ve:Qe=It.v-E*Ve,Qe>1&&(Qe=1),Number(Qe.toFixed(2))}function Y(It){for(var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Me=[],Qe=(0,d.uA)(It),bt=w;bt>0;bt-=1){var Ge=U(Qe),Ae=$((0,d.uA)({h:Q(Ge,bt,!0),s:J(Ge,bt,!0),v:K(Ge,bt,!0)}));Me.push(Ae)}Me.push($(Qe));for(var be=1;be<=k;be+=1){var Ne=U(Qe),Re=$((0,d.uA)({h:Q(Ne,be),s:J(Ne,be),v:K(Ne,be)}));Me.push(Re)}return Ve.theme==="dark"?Z.map(function(ht){var Wt=ht.index,Yt=ht.opacity,Lt=$(te((0,d.uA)(Ve.backgroundColor||"#141414"),(0,d.uA)(Me[Wt]),Yt*100));return Lt}):Me}var re={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},fe={},le={};Object.keys(re).forEach(function(It){fe[It]=Y(re[It]),fe[It].primary=fe[It][5],le[It]=Y(re[It],{theme:"dark",backgroundColor:"#141414"}),le[It].primary=le[It][5]});var ie=fe.red,ve=fe.volcano,Oe=fe.gold,L=fe.orange,Pe=fe.yellow,pe=fe.lime,Be=fe.green,je=fe.cyan,he=fe.blue,st=fe.geekblue,en=fe.purple,vn=fe.magenta,Mt=fe.grey},20499:function(){},64851:function(){},59518:function(){},26199:function(){},14156:function(){},71468:function(){},48871:function(){},9871:function(){},25612:function(){},92777:function(){},20159:function(){},61622:function(){},59165:function(j,M){"use strict";var l;var v=Symbol.for("react.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),E=Symbol.for("react.context"),w=Symbol.for("react.server_context"),k=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),J;J=Symbol.for("react.module.reference");function K(Y){if(typeof Y=="object"&&Y!==null){var re=Y.$$typeof;switch(re){case v:switch(Y=Y.type,Y){case m:case x:case g:case Z:case U:return Y;default:switch(Y=Y&&Y.$$typeof,Y){case w:case E:case k:case te:case $:case A:return Y;default:return re}}case d:return re}}}l=E,l=A,l=v,M.ForwardRef=k,l=m,l=te,l=$,l=d,l=x,l=g,l=Z,l=U,l=function(){return!1},l=function(){return!1},l=function(Y){return K(Y)===E},l=function(Y){return K(Y)===A},l=function(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===v},l=function(Y){return K(Y)===k},M.isFragment=function(Y){return K(Y)===m},l=function(Y){return K(Y)===te},M.isMemo=function(Y){return K(Y)===$},l=function(Y){return K(Y)===d},l=function(Y){return K(Y)===x},l=function(Y){return K(Y)===g},l=function(Y){return K(Y)===Z},l=function(Y){return K(Y)===U},l=function(Y){return typeof Y=="string"||typeof Y=="function"||Y===m||Y===x||Y===g||Y===Z||Y===U||Y===Q||typeof Y=="object"&&Y!==null&&(Y.$$typeof===te||Y.$$typeof===$||Y.$$typeof===A||Y.$$typeof===E||Y.$$typeof===k||Y.$$typeof===J||Y.getModuleId!==void 0)},l=K},40256:function(j,M,l){"use strict";j.exports=l(59165)},66005:function(j,M,l){"use strict";l.d(M,{ep:function(){return m},vI:function(){return $}});var v=l(58379);const d=v.Bz.create({type:"react componnet"});v.kJ.registerReactComponent=d.register,v.kJ.unregisterReactComponent=d.unregister,v.kJ.Hook.prototype.getReactComponent=function(te){const Q=this.options.getReactComponent;if(typeof Q=="function"){const K=v.Iw.call(Q,this.graph,te);if(K!=null)return K}let J=te.getComponent();if(typeof J=="string"){const K=d.get(J);if(K==null)return d.onNotFound(J);J=K}return J};class m extends v.NB{get component(){return this.getComponent()}set component(Q){this.setComponent(Q)}getComponent(){return this.store.get("component")}setComponent(Q,J={}){return Q==null?this.removeComponent(J):this.store.set("component",Q,J),this}removeComponent(Q={}){return this.store.remove("component",Q),this}}(function(te){function Q(J,K,Y="rect"){const re=[],fe=K?v.Lu.getForeignObjectMarkup():{tagName:"g",selector:"content"};return J?re.push(fe):re.push({tagName:Y,selector:"body"},fe,{tagName:"text",selector:"label"}),re}te.config({view:"react-shape-view",markup:Q(!1,!0),attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"},label:{fontSize:14,fill:"#333",refX:"50%",refY:"50%",textAnchor:"middle",textVerticalAnchor:"middle"}},propHooks(J){if(J.markup==null){const K=J.primer,Y=J.useForeignObject!==!1;if(K&&K!=="rect"){J.markup=Q(!1,Y,K);let re={};K==="circle"?re={refCx:"50%",refCy:"50%",refR:"50%"}:K==="ellipse"&&(re={refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}),J.attrs=v.QK.merge({},{body:Object.assign({refWidth:null,refHeight:null},re)},J.attrs||{})}else J.simple&&(J.markup=Q(!0,Y),J.attrs=v.QK.merge({},{body:null,label:null},J.attrs||{}))}return J}}),v.NB.registry.register("react-shape",te,!0)})(m||(m={}));var g=l(67294),x=l(73935),A;(function(te){let Q=!1,J;const K=(ie,ve)=>{const Oe=ve.payload;switch(ve.type){case"add":{const L=ie.findIndex(Pe=>Pe.id===Oe.id);return L>=0?(ie[L]=Oe,[...ie]):[...ie,Oe]}case"remove":{const L=ie.findIndex(Pe=>Pe.id===Oe.id);if(L>=0){const Pe=[...ie];return Pe.splice(L,1),Pe}break}default:break}return ie};function Y(ie,ve){Q&&J({type:"add",payload:{id:ie,portal:ve}})}te.connect=Y;function re(ie){Q&&J({type:"remove",payload:{id:ie}})}te.disconnect=re;function fe(){return Q}te.isActive=fe;function le(){return()=>{Q=!0;const[ie,ve]=(0,g.useReducer)(K,[]);return J=ve,g.createElement(g.Fragment,{children:ie.map(Oe=>Oe.portal)})}}te.getProvider=le})(A||(A={}));class E extends g.PureComponent{constructor(Q){super(Q),this.scheduledAnimationFrame=!1,this.throttleUpdateFunc=()=>{this.scheduledAnimationFrame||(this.scheduledAnimationFrame=!0,window.requestAnimationFrame(()=>{this.setState(J=>(this.scheduledAnimationFrame=!1,{tick:J.tick+1}))}))},this.onChange=J=>{if(E.throttleChangeTypes.includes(J.key)){this.throttleUpdateFunc();return}this.setState({tick:this.state.tick+1})},this.state={tick:0}}componentDidMount(){this.props.node.on("change:*",this.onChange)}componentWillUnmount(){this.props.node.off("change:*",this.onChange)}clone(Q){const{node:J}=this.props;return typeof Q.type=="string"?g.cloneElement(Q):g.cloneElement(Q,{node:J})}render(){const{graph:Q,node:J,component:K}=this.props;if(g.isValidElement(K))return this.clone(K);if(typeof K=="function"){const Y=v.Iw.call(K,Q,J);if(g.isValidElement(Y))return this.clone(Y)}return K}}E.throttleChangeTypes=["position","size"];class w extends v.DK{targetId(){return`${this.graph.view.cid}:${this.cell.id}`}init(){super.init(),this.cell.on("removed",()=>{A.disconnect(this.targetId())})}getComponentContainer(){return this.selectors&&(this.cell.prop("useForeignObject")===!1?this.selectors.content:this.selectors.foContent)}confirmUpdate(Q){const J=super.confirmUpdate(Q);return this.handleAction(J,w.action,()=>{v.b2?v.b2.scheduleTask(()=>{this.renderReactComponent()}):this.renderReactComponent()})}renderReactComponent(){this.unmountReactComponent();const Q=this.getComponentContainer(),J=this.cell,K=this.graph;if(Q){const Y=this.graph.hook.getReactComponent(J),re=g.createElement(E,{graph:K,node:J,component:Y});A.isActive()?A.connect(this.targetId(),x.createPortal(re,Q)):x.render(re,Q)}}unmountReactComponent(){const Q=this.getComponentContainer();return Q&&x.unmountComponentAtNode(Q),Q}unmount(){return A.disconnect(this.targetId()),this.unmountReactComponent(),super.unmount(),this}}(function(te){te.action="react",te.config({bootstrap:[te.action],actions:{component:te.action}}),v.DK.registry.register("react-shape-view",te,!0)})(w||(w={}));var k=function(te,Q,J,K){var Y=arguments.length,re=Y<3?Q:K===null?K=Object.getOwnPropertyDescriptor(Q,J):K,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(te,Q,J,K);else for(var le=te.length-1;le>=0;le--)(fe=te[le])&&(re=(Y<3?fe(re):Y>3?fe(Q,J,re):fe(Q,J))||re);return Y>3&&re&&Object.defineProperty(Q,J,re),re};const Z="react";function U(te){const Q={current:()=>{}},J=ve=>{Q.current(ve)};let K,Y;function re(ve,Oe){K({id:ve,portal:Oe})}function fe(ve){Y(ve)}const le=()=>{const[ve,Oe]=(0,g.useState)([]),[L,Pe]=(0,g.useState)(),pe=(0,g.useRef)([]),Be=(0,g.useRef)([]);Q.current=Pe,K=(0,g.useCallback)(vn=>{const{id:Mt}=vn;if(pe.current.includes(Mt)){const It=Be.current,Ve=It.findIndex(Me=>Me.id===Mt);Ve>-1?It[Ve]=vn:It.push(vn),Be.current=It}else Oe(It=>{const Ve=[...It],Me=Ve.findIndex(Qe=>Qe.id===Mt);return Me>-1?Ve[Me]=vn:Ve.push(vn),Ve})},[]),Y=(0,g.useCallback)(vn=>{pe.current.includes(vn)&&(pe.current=pe.current.filter(Mt=>Mt!==vn)),Be.current.map(Mt=>Mt.id).includes(vn)&&(Be.current=Be.current.filter(Mt=>Mt.id!==vn)),Oe(Mt=>Mt.filter(It=>It.id!==vn))},[]);const st=(0,g.useCallback)(vn=>{const{name:Mt,data:It}=vn,{cells:Ve=[]}=It||{};if(Mt==="add"){const Me=Ve.filter(Qe=>Qe.isNode()).map(Qe=>Qe.id);pe.current=Array.from(new Set([...pe.current,...Me]))}},[]),en=(0,g.useCallback)(({name:vn})=>{if(vn==="add"){const Mt=Be.current;if(Mt.length){const It=Mt.map(Ve=>Ve.id);pe.current=pe.current.filter(Ve=>!It.includes(Ve)),Be.current=[],Oe(Ve=>{const Me=[...Ve];return Mt.forEach(Qe=>{const bt=Me.findIndex(Ge=>Ge.id===Qe.id);bt>-1?Me[bt]=Qe:Me.push(Qe)}),Me})}}},[]);return(0,g.useLayoutEffect)(()=>(L&&(L.on("batch:start",st),L.on("batch:stop",en)),()=>{L&&(L.off("batch:start",st),L.off("batch:stop",en),Oe([]),pe.current=[],Be.current=[])}),[L,st,en]),g.createElement(g.Fragment,null,...ve.map(vn=>vn.portal))};class ie extends v.DK{init(){super.init(),this.cell.on("removed",()=>{fe(this.cell.id)})}getComponentContainer(){return this.cell.prop("useForeignObject")===!1?this.selectors.content:this.selectors.foContent}confirmUpdate(Oe){const L=super.confirmUpdate(Oe);return this.handleAction(L,Z,()=>this.renderReactComponent())}renderReactComponent(){this.unmountReactComponent();const Oe=this.getComponentContainer(),L=this.cell,Pe=this.graph;if(Oe){const pe=this.graph.hook.getReactComponent(L),Be=g.createElement(E,{graph:Pe,node:L,component:pe});re(this.cell.id,x.createPortal(Be,Oe))}}unmountReactComponent(){const Oe=this.getComponentContainer();return Oe&&x.unmountComponentAtNode(Oe),Oe}onMouseDown(Oe,L,Pe){const pe=Oe.target;if(pe.tagName.toLowerCase()==="input"){const je=pe.getAttribute("type");if(je==null||["text","password","number","email","search","tel","url"].includes(je))return}super.onMouseDown(Oe,L,Pe)}dispose(){fe(this.cell.id),this.unmountReactComponent()}}return k([v.DK.dispose()],ie.prototype,"dispose",null),ie.config({bootstrap:[Z],actions:{component:Z}}),v.DK.registry.register(te,ie,!0),{Portal:le,setGraph:J}}function $(te){const Q=(0,g.useRef)(!1),[J]=(0,g.useState)(()=>Q.current?{}:(Q.current=!0,U(te)));return[J.Portal,J.setGraph]}},58379:function(j,M,l){"use strict";l.d(M,{e9:function(){return ve},is:function(){return x},kS:function(){return Jc},Iw:function(){return g},kJ:function(){return Hl},Lu:function(){return Fl},NB:function(){return Qc},DK:function(){return Zf},GH:function(){return m},QK:function(){return v},y$:function(){return rs},E9:function(){return Bn},aH:function(){return du},Bz:function(){return le},b2:function(){return _g},bn:function(){return ie},kf:function(){return d}});var v={};l.r(v),l.d(v,{applyMixins:function(){return Ro},clone:function(){return Dr},cloneDeep:function(){return oo},createClass:function(){return Vo},defaults:function(){return on},defaultsDeep:function(){return yo},ensure:function(){return jo},extend:function(){return Ki},flatten:function(){return Bo},forIn:function(){return Ea},getBoolean:function(){return pa},getByPath:function(){return Pa},getNumber:function(){return Si},getValue:function(){return so},has:function(){return ra},inherit:function(){return Jo},isEmpty:function(){return gt},isEqual:function(){return da},isMaliciousProp:function(){return xo},isObject:function(){return xt.Z},isPlainObject:function(){return _n.Z},merge:function(){return ea.Z},pick:function(){return No},setByPath:function(){return Fo},unsetByPath:function(){return Sa}});var d={};l.r(d),l.d(d,{camelCase:function(){return Md},constantCase:function(){return pd},dotCase:function(){return Rp},endsWith:function(){return cs},escape:function(){return Ar},eval:function(){return Rt},getSpellingSuggestion:function(){return ri},hashcode:function(){return Kr},isString:function(){return nn},kebabCase:function(){return Jh},lowerFirst:function(){return Qh},pad:function(){return eh},padEnd:function(){return bd},padStart:function(){return ou},pascalCase:function(){return Ph},pathCase:function(){return $e},repeat:function(){return ps},sanitizeHTML:function(){return Yr},sentenceCase:function(){return Jt},split:function(){return Vc},startsWith:function(){return La},template:function(){return V},titleCase:function(){return Gn},toString:function(){return yn.Z},truncate:function(){return Iu},unescape:function(){return Xt},uniqueId:function(){return qe},upperFirst:function(){return ql},uuid:function(){return Br}});var m={};l.r(m),l.d(m,{clamp:function(){return Ci},inRange:function(){return Oi},isFinite:function(){return li},isInteger:function(){return Zo},isNaN:function(){return _o},isNumber:function(){return zi},isNumeric:function(){return Bc},isPercentage:function(){return sl},isSafeInteger:function(){return Mi},mod:function(){return Ns},normalizePercentage:function(){return jl},normalizeSides:function(){return Al},parseCssNumeric:function(){return xc},parseInt:function(){return hl},random:function(){return Rc},toFinite:function(){return wo},toInteger:function(){return ko},toNumber:function(){return ci.Z},toSafeInteger:function(){return la}});var g={};l.r(g),l.d(g,{apply:function(){return Tn},cacher:function(){return na},call:function(){return er},debounce:function(){return za.Z},defer:function(){return Pd},isAsync:function(){return fn},isAsyncLike:function(){return Rs},isFunction:function(){return vc.Z},noop:function(){return et},once:function(){return Dl},toAsyncBoolean:function(){return Ut},toDeferredBoolean:function(){return tr}});var x={};l.r(x),l.d(x,{CASE_SENSITIVE_ATTR:function(){return sv},KAPPA:function(){return Wa},MouseWheelHandle:function(){return ac},addClass:function(){return Qt},animate:function(){return gm},animateAlongPath:function(){return Tg},animateTransform:function(){return vm},append:function(){return ep},appendTo:function(){return r0},attr:function(){return Il},bbox:function(){return ap},before:function(){return gg},breakText:function(){return bv},cancelAnimationFrame:function(){return bg},circleToPathData:function(){return ch},clearSelection:function(){return gb},clickable:function(){return vg},contains:function(){return Th},createElement:function(){return va},createElementNS:function(){return ms},createSVGMatrix:function(){return Ms},createSVGPoint:function(){return Ku},createSVGTransform:function(){return op},createSlicePathData:function(){return Ai},createSvgDocument:function(){return _a},createSvgElement:function(){return $o},createVector:function(){return mm},createVectors:function(){return Sv},decomposeMatrix:function(){return Xc},ellipseToPathData:function(){return Ss},empty:function(){return qh},ensureId:function(){return pi},find:function(){return Hu},findOne:function(){return lh},findParentByClass:function(){return Sf},getAttribute:function(){return i0},getBBox:function(){return ai},getBBoxByElementAttr:function(){return gu},getBoundingOffsetRect:function(){return _d},getClass:function(){return Jn},getComputedStyle:function(){return gv},getIntersection:function(){return pm},getMatrixByElementAttr:function(){return Od},getPointsFromSvgElement:function(){return Zp},getTransformToElement:function(){return Ec},getVendorPrefixedName:function(){return El},hasClass:function(){return vr},hasScrollbars:function(){return pb},index:function(){return mc},isHTMLElement:function(){return Ip},isInputElement:function(){return av},isSVGGraphicsElement:function(){return vi},isVector:function(){return yb},kebablizeAttrs:function(){return np},lineToPathData:function(){return Qa},matrixToRotation:function(){return Cv},matrixToScale:function(){return Mg},matrixToTransformString:function(){return Ud},matrixToTranslation:function(){return Pg},mergeAttrs:function(){return mg},ns:function(){return Jr},parseTransformString:function(){return Vd},parseXML:function(){return as},polygonToPathData:function(){return d0},polylineToPathData:function(){return aa},prepend:function(){return em},qualifyAttr:function(){return cv},rectToPathData:function(){return pu},rectangleToPathData:function(){return uh},remove:function(){return cu},removeAttribute:function(){return lv},removeClass:function(){return Zn},requestAnimationFrame:function(){return yg},rotate:function(){return Bf},sample:function(){return ss},scale:function(){return jd},setAttribute:function(){return tp},setAttributes:function(){return kp},setPrefixedStyle:function(){return hb},styleToObject:function(){return Oh},svgVersion:function(){return Hi},tagName:function(){return Qs},text:function(){return yv},toGeometryShape:function(){return Nh},toLocalPoint:function(){return $f},toPath:function(){return Zc},toPathData:function(){return ho},toggleClass:function(){return ln},transform:function(){return $s},transformLine:function(){return xv},transformPoint:function(){return rd},transformPolyline:function(){return id},transformRectangle:function(){return Pf},transformStringToMatrix:function(){return Gf},translate:function(){return Og},translateAndAutoOrient:function(){return wv},uniqueId:function(){return Zr}});var A={};l.r(A),l.d(A,{async:function(){return $b},block:function(){return jb},circle:function(){return Ov},circlePlus:function(){return Gm},classic:function(){return ec},cross:function(){return Tv},diamond:function(){return Js},ellipse:function(){return Wb},path:function(){return up}});var E={};l.r(E),l.d(E,{annotations:function(){return Nm},atConnectionLength:function(){return $p},atConnectionLengthIgnoreGradient:function(){return Qb},atConnectionLengthKeepGradient:function(){return dh},atConnectionRatio:function(){return Dv},atConnectionRatioIgnoreGradient:function(){return Jb},atConnectionRatioKeepGradient:function(){return Av},connection:function(){return _v},displayEmpty:function(){return Lb},eol:function(){return kb},fill:function(){return Db},filter:function(){return Ub},html:function(){return zb},lineHeight:function(){return Rb},port:function(){return Vb},ref:function(){return Eb},refCx:function(){return Yu},refCy:function(){return Wf},refD:function(){return Tb},refDKeepOffset:function(){return Mb},refDResetOffset:function(){return wm},refDx:function(){return wb},refDy:function(){return Cm},refHeight:function(){return lp},refHeight2:function(){return Ab},refPoints:function(){return Ob},refPointsKeepOffset:function(){return Mm},refPointsResetOffset:function(){return Sm},refR:function(){return Pb},refRCircumscribed:function(){return Em},refRInscribed:function(){return xm},refRx:function(){return m0},refRy:function(){return Sb},refWidth:function(){return Pv},refWidth2:function(){return _b},refX:function(){return g0},refX2:function(){return cp},refY:function(){return v0},refY2:function(){return Pm},resetOffset:function(){return Bb},sourceMarker:function(){return Kb},stroke:function(){return Up},style:function(){return Zb},targetMarker:function(){return Yb},text:function(){return Am},textPath:function(){return Dm},textVerticalAnchor:function(){return Ib},textWrap:function(){return Nb},title:function(){return Rm},vertexMarker:function(){return Xb},xAlign:function(){return Fb},yAlign:function(){return Gb}});var w={};l.r(w),l.d(w,{dot:function(){return qb},doubleMesh:function(){return t1},fixedDot:function(){return Zm},mesh:function(){return e1}});var k={};l.r(k),l.d(k,{blur:function(){return r1},brightness:function(){return zm},contrast:function(){return Um},dropShadow:function(){return y0},grayScale:function(){return i1},highlight:function(){return n1},hueRotate:function(){return a1},invert:function(){return fp},outline:function(){return Nv},saturate:function(){return o1},sepia:function(){return b0}});var Z={};l.r(Z),l.d(Z,{flipX:function(){return C0},flipXY:function(){return E0},flipY:function(){return x0},watermark:function(){return Vm}});var U={};l.r(U),l.d(U,{className:function(){return jm},opacity:function(){return _},stroke:function(){return Fe}});var $={};l.r($),l.d($,{absolute:function(){return qr},bottom:function(){return Ll},ellipse:function(){return qi},ellipseSpread:function(){return to},left:function(){return Ls},line:function(){return ia},right:function(){return ml},top:function(){return Is}});var te={};l.r(te),l.d(te,{bottom:function(){return Vr},inside:function(){return c1},insideOriented:function(){return u1},left:function(){return vd},manual:function(){return mu},outside:function(){return s1},outsideOriented:function(){return l1},radial:function(){return f1},radialOriented:function(){return uC},right:function(){return Hd},top:function(){return S0}});var Q={};l.r(Q),l.d(Q,{noop:function(){return hC},pinAbsolute:function(){return vC},pinRelative:function(){return gC}});var J={};l.r(J),l.d(J,{bottom:function(){return CC},bottomLeft:function(){return Ox},bottomRight:function(){return T0},center:function(){return bC},left:function(){return ty},midSide:function(){return xC},nodeCenter:function(){return Ax},orth:function(){return _x},right:function(){return Px},top:function(){return od},topLeft:function(){return Tx},topRight:function(){return y1}});var K={};l.r(K),l.d(K,{closest:function(){return Ix},length:function(){return Rx},orth:function(){return kx},ratio:function(){return Nx}});var Y={};l.r(Y),l.d(Y,{anchor:function(){return Fx},bbox:function(){return Bg},boundary:function(){return Lx},rect:function(){return wC}});var re={};l.r(re),l.d(re,{er:function(){return D1},loop:function(){return N0},manhattan:function(){return fy},metro:function(){return A1},normal:function(){return SC},oneSide:function(){return Gx},orth:function(){return TC}});var fe={};l.r(fe),l.d(fe,{jumpover:function(){return DC},loop:function(){return zg},normal:function(){return N1},rounded:function(){return R1},smooth:function(){return I1}});var le={};l.r(le),l.d(le,{Attr:function(){return Dd},Background:function(){return dp},ConnectionPoint:function(){return Qp},ConnectionStrategy:function(){return Wp},Connector:function(){return Bh},EdgeAnchor:function(){return Xp},EdgeTool:function(){return mp},Filter:function(){return kh},Grid:function(){return hh},Highlighter:function(){return rn},Marker:function(){return Hf},NodeAnchor:function(){return Fg},NodeTool:function(){return Yp},PortLabelLayout:function(){return hp},PortLayout:function(){return Ou},Registry:function(){return ru},Router:function(){return Gh},create:function(){return gy}});var ie={};l.r(ie),l.d(ie,{kS:function(){return wy}});var ve={};l.r(ve),l.d(ve,{q6:function(){return mh}});var Oe=l(19755),L=l.n(Oe),Pe=l(50450);let pe=!1,Be=!1,je=!1,he=!1,st=!1,en=!1,vn=!1,Mt=!1,It=!1,Ve=!1,Me=!1,Qe=!1,bt=!1,Ge=!1,Ae=!1,be=!1;if(typeof navigator=="object"){const c=navigator.userAgent;pe=c.indexOf("Macintosh")>=0,Be=!!c.match(/(iPad|iPhone|iPod)/g),je=c.indexOf("Windows")>=0,he=c.indexOf("MSIE")>=0,st=!!c.match(/Trident\/7\./),en=!!c.match(/Edge\//),vn=c.indexOf("Mozilla/")>=0&&c.indexOf("MSIE")<0&&c.indexOf("Edge/")<0,It=c.indexOf("Chrome/")>=0&&c.indexOf("Edge/")<0,Ve=c.indexOf("Opera/")>=0||c.indexOf("OPR/")>=0,Me=c.indexOf("Firefox/")>=0,Qe=c.indexOf("AppleWebKit/")>=0&&c.indexOf("Chrome/")<0&&c.indexOf("Edge/")<0,typeof document=="object"&&(be=!document.createElementNS||`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`!="[object SVGForeignObjectElement]"||c.indexOf("Opera/")>=0)}if(typeof window=="object"&&(Mt=window.chrome!=null&&window.chrome.app!=null&&window.chrome.app.runtime!=null,Ge=window.PointerEvent!=null&&!pe),typeof document=="object"){bt="ontouchstart"in document.documentElement;try{const c=Object.defineProperty({},"passive",{get(){Ae=!0}}),e=document.createElement("div");e.addEventListener&&e.addEventListener("click",()=>{},c)}catch(c){}}var Ne;if(function(c){c.IS_MAC=pe,c.IS_IOS=Be,c.IS_WINDOWS=je,c.IS_IE=he,c.IS_IE11=st,c.IS_EDGE=en,c.IS_NETSCAPE=vn,c.IS_CHROME_APP=Mt,c.IS_CHROME=It,c.IS_OPERA=Ve,c.IS_FIREFOX=Me,c.IS_SAFARI=Qe,c.SUPPORT_TOUCH=bt,c.SUPPORT_POINTER=Ge,c.SUPPORT_PASSIVE=Ae,c.NO_FOREIGNOBJECT=be,c.SUPPORT_FOREIGNOBJECT=!c.NO_FOREIGNOBJECT}(Ne||(Ne={})),function(c){function e(){const u=window.module;return u!=null&&u.hot!=null&&u.hot.status!=null?u.hot.status():"unkonwn"}c.getHMRStatus=e;function t(){return e()==="apply"}c.isApplyingHMR=t;const r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function a(u){const p=document.createElement(r[u]||"div"),b=`on${u}`;let P=b in p;return P||(p.setAttribute(b,"return;"),P=typeof p[b]=="function"),P}c.isEventSupported=a}(Ne||(Ne={})),Ne.SUPPORT_PASSIVE){L().event.special.touchstart={setup(e,t,r){if(!this.addEventListener)return!1;this.addEventListener("touchstart",r,{passive:!0})}};const c=L().event.special.mousewheel;if(c){const e=c.setup;c.setup=function(){const t=this.addEventListener;if(!t)return!1;this.addEventListener=(r,a)=>{t.call(this,r,a,{passive:!0})},e.call(this),this.addEventListener=t}}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),function(c){c.forEach(e=>{Object.prototype.hasOwnProperty.call(e,"append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value(...t){const r=document.createDocumentFragment();t.forEach(a=>{const u=a instanceof Node;r.appendChild(u?a:document.createTextNode(String(a)))}),this.appendChild(r)}})})}([Element.prototype,Document.prototype,DocumentFragment.prototype]);var Re=l(27771),ht=l(50585),Wt=l(63001);function Yt(c,e,t,r){for(var a=c.length,u=t+(r?1:-1);r?u--:++u<a;)if(e(c[u],u,c))return u;return-1}var Lt=Yt;function Dt(c){return c!==c}var lt=Dt;function Ft(c,e,t){for(var r=t-1,a=c.length;++r<a;)if(c[r]===e)return r;return-1}var qt=Ft;function Nn(c,e,t){return e===e?qt(c,e,t):Lt(c,lt,t)}var kn=Nn;function An(c,e){var t=c==null?0:c.length;return!!t&&kn(c,e,0)>-1}var Kn=An;function ee(c,e,t){for(var r=-1,a=c==null?0:c.length;++r<a;)if(t(e,c[r]))return!0;return!1}var it=ee,Ze=l(59548),ot=l(93203);function Xe(){}var et=Xe,pt=l(6545),He=1/0,Et=ot.Z&&1/(0,pt.Z)(new ot.Z([,-0]))[1]==He?function(c){return new ot.Z(c)}:et,Vt=Et,On=200;function Wn(c,e,t){var r=-1,a=Kn,u=c.length,p=!0,b=[],P=b;if(t)p=!1,a=it;else if(u>=On){var I=e?null:Vt(c);if(I)return(0,pt.Z)(I);p=!1,a=Ze.Z,P=new Wt.Z}else P=e?[]:b;e:for(;++r<u;){var z=c[r],W=e?e(z):z;if(z=t||z!==0?z:0,p&&W===W){for(var ne=P.length;ne--;)if(P[ne]===W)continue e;e&&P.push(W),b.push(z)}else a(P,W,t)||(P!==b&&P.push(W),b.push(z))}return b}var pr=Wn;function Cr(c){return c&&c.length?pr(c):[]}var Sn=Cr,Cn=l(10626),Fn=l(69581),Hn=l(836),sr=(0,Fn.Z)(function(c){return pr((0,Cn.Z)(c,1,Hn.Z,!0))}),ti=sr,Ir=l(72714),kr=4294967295,di=kr-1,Yn=Math.floor,Bt=Math.min;function kt(c,e,t,r){var a=0,u=c==null?0:c.length;if(u===0)return 0;e=t(e);for(var p=e!==e,b=e===null,P=(0,Ir.Z)(e),I=e===void 0;a<u;){var z=Yn((a+u)/2),W=t(c[z]),ne=W!==void 0,Te=W===null,Ke=W===W,Ue=(0,Ir.Z)(W);if(p)var At=r||Ke;else I?At=Ke&&(r||ne):b?At=Ke&&ne&&(r||!Te):P?At=Ke&&ne&&!Te&&(r||!Ue):Te||Ue?At=!1:At=r?W<=e:W<e;At?a=z+1:u=z}return Bt(u,di)}var dn=kt,Ot=l(69203),ur=4294967295,Mn=ur>>>1;function zr(c,e,t){var r=0,a=c==null?r:c.length;if(typeof e=="number"&&e===e&&a<=Mn){for(;r<a;){var u=r+a>>>1,p=c[u];p!==null&&!(0,Ir.Z)(p)&&(t?p<=e:p<e)?r=u+1:a=u}return a}return dn(c,e,Ot.Z,t)}var jt=zr;function gn(c,e){return jt(c,e)}var Ln=gn,vt=l(14669);function Zt(c,e,t){return dn(c,e,(0,vt.Z)(t,2))}var or=Zt,ir=l(74073),lr=l(13317),Pr=l(21018);function $r(c,e){var t=c.length;for(c.sort(e);t--;)c[t]=c[t].value;return c}var dr=$r,ni=l(21162);function un(c,e){if(c!==e){var t=c!==void 0,r=c===null,a=c===c,u=(0,Ir.Z)(c),p=e!==void 0,b=e===null,P=e===e,I=(0,Ir.Z)(e);if(!b&&!I&&!u&&c>e||u&&p&&P&&!b&&!I||r&&p&&P||!t&&P||!a)return 1;if(!r&&!u&&!I&&c<e||I&&t&&a&&!r&&!u||b&&t&&a||!p&&a||!P)return-1}return 0}var ue=un;function De(c,e,t){for(var r=-1,a=c.criteria,u=e.criteria,p=a.length,b=t.length;++r<p;){var P=ue(a[r],u[r]);if(P){if(r>=b)return P;var I=t[r];return P*(I=="desc"?-1:1)}}return c.index-e.index}var oe=De;function R(c,e,t){e.length?e=(0,ir.Z)(e,function(u){return(0,Re.Z)(u)?function(p){return(0,lr.Z)(p,u.length===1?u[0]:u)}:u}):e=[Ot.Z];var r=-1;e=(0,ir.Z)(e,(0,ni.Z)(vt.Z));var a=(0,Pr.Z)(c,function(u,p,b){var P=(0,ir.Z)(e,function(I){return I(u)});return{criteria:P,index:++r,value:u}});return dr(a,function(u,p){return oe(u,p,t)})}var N=R,G=l(50439),ye=(0,Fn.Z)(function(c,e){if(c==null)return[];var t=e.length;return t>1&&(0,G.Z)(c,e[0],e[1])?e=[]:t>2&&(0,G.Z)(e[0],e[1],e[2])&&(e=[e[0]]),N(c,(0,Cn.Z)(e,1),[])}),Ie=ye,ze=l(74752);function Ce(c,e,t,r){for(var a=-1,u=c==null?0:c.length;++a<u;){var p=c[a];e(r,p,t(p),c)}return r}var ke=Ce,rt=l(52310);function Tt(c,e,t,r){return(0,rt.Z)(c,function(a,u,p){e(r,a,t(a),p)}),r}var En=Tt;function Rn(c,e){return function(t,r){var a=(0,Re.Z)(t)?ke:En,u=e?e():{};return a(t,c,(0,vt.Z)(r,2),u)}}var $n=Rn,Xn=Object.prototype,$t=Xn.hasOwnProperty,hn=$n(function(c,e,t){$t.call(c,t)?c[t].push(e):(0,ze.Z)(c,t,[e])}),bn=hn,br=200;function qn(c,e,t,r){var a=-1,u=Kn,p=!0,b=c.length,P=[],I=e.length;if(!b)return P;t&&(e=(0,ir.Z)(e,(0,ni.Z)(t))),r?(u=it,p=!1):e.length>=br&&(u=Ze.Z,p=!1,e=new Wt.Z(e));e:for(;++a<b;){var z=c[a],W=t==null?z:t(z);if(z=r||z!==0?z:0,p&&W===W){for(var ne=I;ne--;)if(e[ne]===W)continue e;P.push(z)}else u(e,W,r)||P.push(z)}return P}var Li=qn,$i=(0,Fn.Z)(function(c,e){return(0,Hn.Z)(c)?Li(c,(0,Cn.Z)(e,1,Hn.Z,!0)):[]}),Bi=$i;function co(c,e,t){for(var r=-1,a=c.length;++r<a;){var u=c[r],p=e(u);if(p!=null&&(b===void 0?p===p&&!(0,Ir.Z)(p):t(p,b)))var b=p,P=u}return P}var Do=co;function Wo(c,e){return c>e}var hi=Wo;function ua(c){return c&&c.length?Do(c,Ot.Z,hi):void 0}var ya=ua;function fi(c,e,t){const r=Pi(c,t),a=Pi(e,t),u=a.free,p=r.keyIndex,b=a.keyIndex,P=[],I=[];let z=0,W,ne,Te=0;for(;z<c.length;){if(W=c[z],ne=W[t],ne)if(!b.hasOwnProperty(ne))I.push(null);else{const zn=b[ne];I.push(e[zn])}else{Te+=1;const zn=u[Te];I.push(zn||null)}z+=1}const Ke=I.slice(0);for(z=0;z<Ke.length;)Ke[z]===null?(tn(z),Kt(z)):z+=1;let Ue=z=0;for(;z<e.length;){W=e[z],ne=W[t];const zn=Ke[Ue];if(zn){const gr=zn[t];if(ne===gr)Ue+=1;else if(!p.hasOwnProperty(ne))pn(z,W);else{const ii=Ke[Ue+1];ii&&(ii[t]===ne?(tn(z),Kt(Ue),Ue+=1):pn(z,W))}}else pn(z,W);z+=1}let At=Ke.length-Ue;for(;(Ue+=1)<Ke.length;)At-=1,tn(At+z);function tn(zn){const gr={index:zn,type:0,item:null};P.push(gr)}function pn(zn,gr){const ii={index:zn,item:gr,type:1};P.push(ii)}function Kt(zn){Ke.splice(zn,1)}return{moves:P}}function Pi(c,e){const t={},r=[];for(let a=0,u=c.length;a<u;a+=1){const p=c[a],b=p[e];b?t[b]=a:r.push(p)}return{keyIndex:t,free:r}}var Qi=Object.prototype,Zi=Qi.hasOwnProperty;function Ta(c,e){return c!=null&&Zi.call(c,e)}var uo=Ta,xa=l(16174);function Qo(c,e){return c!=null&&(0,xa.Z)(c,e,uo)}var ra=Qo,To=l(72954),fa=l(10134),Ba=l(56009),xt=l(77226),sn=l(62281);function Ht(c,e,t,r){if(!(0,xt.Z)(c))return c;e=(0,fa.Z)(e,c);for(var a=-1,u=e.length,p=u-1,b=c;b!=null&&++a<u;){var P=(0,sn.Z)(e[a]),I=t;if(P==="__proto__"||P==="constructor"||P==="prototype")return c;if(a!=p){var z=b[P];I=r?r(z,P,b):void 0,I===void 0&&(I=(0,xt.Z)(z)?z:(0,Ba.Z)(e[a+1])?[]:{})}(0,To.Z)(b,P,I),b=b[P]}return c}var jn=Ht;function xr(c,e,t){for(var r=-1,a=e.length,u={};++r<a;){var p=e[r],b=(0,lr.Z)(c,p);t(b,p)&&jn(u,(0,fa.Z)(p,c),b)}return u}var nr=xr,zt=l(75487);function Qr(c,e){return nr(c,e,function(t,r){return(0,zt.Z)(c,r)})}var hr=Qr,gi=l(94008),mo=(0,gi.Z)(function(c,e){return c==null?{}:hr(c,e)}),No=mo,io=l(61395),Ti=l(68882),Fi=l(32957);function ha(c,e){return c==null?c:(0,io.Z)(c,(0,Ti.Z)(e),Fi.Z)}var Ea=ha,ea=l(48568),Ja=l(31899),hs=l(49268),Gs=(0,hs.Z)(function(c,e){(0,Ja.Z)(e,(0,Fi.Z)(e),c)}),Ki=Gs,Oa=l(2674);function qa(c,e){return(0,Oa.Z)(c,e)}var da=qa,Aa=l(39473),Ps=l(83970),wa=l(29169),is=l(77008),Pl=l(72764),F=l(18843),X="[object Map]",ge="[object Set]",_e=Object.prototype,Je=_e.hasOwnProperty;function tt(c){if(c==null)return!0;if((0,ht.Z)(c)&&((0,Re.Z)(c)||typeof c=="string"||typeof c.splice=="function"||(0,is.Z)(c)||(0,F.Z)(c)||(0,wa.Z)(c)))return!c.length;var e=(0,Ps.Z)(c);if(e==X||e==ge)return!c.size;if((0,Pl.Z)(c))return!(0,Aa.Z)(c).length;for(var t in c)if(Je.call(c,t))return!1;return!0}var gt=tt,_n=l(37514),Dn=l(45401),Un=4;function Mr(c){return(0,Dn.Z)(c,Un)}var Dr=Mr,fr=1,Er=4;function ao(c){return(0,Dn.Z)(c,fr|Er)}var oo=ao,ba=l(79651),es=Object.prototype,Da=es.hasOwnProperty,ut=(0,Fn.Z)(function(c,e){c=Object(c);var t=-1,r=e.length,a=r>2?e[2]:void 0;for(a&&(0,G.Z)(e[0],e[1],a)&&(r=1);++t<r;)for(var u=e[t],p=(0,Fi.Z)(u),b=-1,P=p.length;++b<P;){var I=p[b],z=c[I];(z===void 0||(0,ba.Z)(z,es[I])&&!Da.call(c,I))&&(c[I]=u[I])}return c}),on=ut,xn=l(18069),cr=l(11363);function mn(c,e,t,r,a,u){return(0,xt.Z)(c)&&(0,xt.Z)(e)&&(u.set(e,c),(0,cr.Z)(c,e,void 0,mn,u),u.delete(e)),c}var Or=mn,ei=(0,hs.Z)(function(c,e,t,r){(0,cr.Z)(c,e,t,r)}),Ni=ei,ki=(0,Fn.Z)(function(c){return c.push(void 0,Or),(0,xn.Z)(Ni,void 0,c)}),yo=ki;function Ro(c,...e){e.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(c.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r))})})}const Lo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(c[t]=e[t])};function Jo(c,e){Lo(c,e);function t(){this.constructor=c}c.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}class Io{}const qo=/^\s*class\s+/.test(`${Io}`)||/^\s*class\s*\{/.test(`${class{}}`);function Vo(c,e){let t;return qo?t=class extends e{}:(t=function(){return e.apply(this,arguments)},Jo(t,e)),Object.defineProperty(t,"name",{value:c}),t}function jo(c,e){return c!=null?c:e}function so(c,e,t){const r=c!=null?c[e]:null;return t!==void 0?jo(r,t):r}function Si(c,e,t){let r=c!=null?c[e]:null;return r==null||(r=+r,Number.isNaN(r)||!Number.isFinite(r))?t:r}function pa(c,e,t){const r=c!=null?c[e]:null;return r==null?t:!!r}function xo(c){return c==="__proto__"}function Pa(c,e,t="/"){let r;const a=Array.isArray(e)?e:e.split(t);if(a.length)for(r=c;a.length;){const u=a.shift();if(Object(r)===r&&u&&u in r)r=r[u];else return}return r}function Fo(c,e,t,r="/"){const a=Array.isArray(e)?e:e.split(r),u=a.pop();if(u&&!xo(u)){let p=c;a.forEach(b=>{xo(b)||(p[b]==null&&(p[b]={}),p=p[b])}),p[u]=t}return c}function Sa(c,e,t="/"){const r=Array.isArray(e)?e.slice():e.split(t),a=r.pop();if(a)if(r.length>0){const u=Pa(c,r);u&&delete u[a]}else delete c[a];return c}function Bo(c,e="/",t){const r={};Object.keys(c).forEach(a=>{const u=c[a];let p=typeof u=="object"||Array.isArray(u);if(p&&t&&t(u)&&(p=!1),p){const b=Bo(u,e,t);Object.keys(b).forEach(P=>{r[a+e+P]=b[P]})}else r[a]=u});for(const a in c)Object.prototype.hasOwnProperty.call(c,a);return r}var se=l(93589),Ye=l(18533),ft="[object String]";function Ct(c){return typeof c=="string"||!(0,Re.Z)(c)&&(0,Ye.Z)(c)&&(0,se.Z)(c)==ft}var nn=Ct,yn=l(77338);function Vn(c){return function(e){return c==null?void 0:c[e]}}var wr=Vn,Nr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jr=wr(Nr),bi=jr,Hr=/[&<>"']/g,_r=RegExp(Hr.source);function Lr(c){return c=(0,yn.Z)(c),c&&_r.test(c)?c.replace(Hr,bi):c}var Ar=Lr,mi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},oi=wr(mi),Pt=oi,cn=/&(?:amp|lt|gt|quot|#39);/g,Qn=RegExp(cn.source);function _t(c){return c=(0,yn.Z)(c),c&&Qn.test(c)?c.replace(cn,Pt):c}var Xt=_t;function an(c,e,t){return c===c&&(t!==void 0&&(c=c<=t?c:t),e!==void 0&&(c=c>=e?c:e)),c}var yr=an,Ur=l(42845),ci=l(21357),Yi=1/0,ui=17976931348623157e292;function go(c){if(!c)return c===0?c:0;if(c=(0,ci.Z)(c),c===Yi||c===-Yi){var e=c<0?-1:1;return e*ui}return c===c?c:0}var wo=go;function ji(c){var e=wo(c),t=e%1;return e===e?t?e-t:e:0}var ko=ji;function os(c,e,t){return c=(0,yn.Z)(c),t=t==null?0:yr(ko(t),0,c.length),e=(0,Ur.Z)(e),c.slice(t,t+e.length)==e}var La=os;function Ua(c,e,t){c=(0,yn.Z)(c),e=(0,Ur.Z)(e);var r=c.length;t=t===void 0?r:yr(ko(t),0,r);var a=t;return t-=e.length,t>=0&&c.slice(t,a)==e}var cs=Ua,sa=l(47855);function Ka(c,e,t){var r=c.length;return t=t===void 0?r:t,!e&&t>=r?c:(0,sa.Z)(c,e,t)}var Ks=Ka,qs="\\ud800-\\udfff",yl="\\u0300-\\u036f",Ds="\\ufe20-\\ufe2f",tc="\\u20d0-\\u20ff",Rl=yl+Ds+tc,Ca="\\ufe0e\\ufe0f",us="\\u200d",Va=RegExp("["+us+qs+Rl+Ca+"]");function zs(c){return Va.test(c)}var Fa=zs,Ys="[object RegExp]";function Us(c){return(0,Ye.Z)(c)&&(0,se.Z)(c)==Ys}var _s=Us,Tl=l(98351),Bl=Tl.Z&&Tl.Z.isRegExp,Zl=Bl?(0,ni.Z)(Bl):_s,Pc=Zl;function zl(c){return c.split("")}var uc=zl,Uc="\\ud800-\\udfff",nl="\\u0300-\\u036f",bc="\\ufe20-\\ufe2f",kc="\\u20d0-\\u20ff",ll=nl+bc+kc,fc="\\ufe0e\\ufe0f",bl="["+Uc+"]",Ha="["+ll+"]",Ts="\\ud83c[\\udffb-\\udfff]",Yl="(?:"+Ha+"|"+Ts+")",nc="[^"+Uc+"]",Ol="(?:\\ud83c[\\udde6-\\uddff]){2}",Wl="[\\ud800-\\udbff][\\udc00-\\udfff]",sc="\\u200d",Cl=Yl+"?",cl="["+fc+"]?",bs="(?:"+sc+"(?:"+[nc,Ol,Wl].join("|")+")"+cl+Cl+")*",Ia=cl+Cl+bs,ta="(?:"+[nc+Ha+"?",Ha,Ol,Wl,bl].join("|")+")",Bs=RegExp(Ts+"(?="+Ts+")|"+ta+Ia,"g");function ts(c){return c.match(Bs)||[]}var Cs=ts;function Ul(c){return Fa(c)?Cs(c):uc(c)}var Lc=Ul,rl=4294967295;function Du(c,e,t){return t&&typeof t!="number"&&(0,G.Z)(c,e,t)&&(e=t=void 0),t=t===void 0?rl:t>>>0,t?(c=(0,yn.Z)(c),c&&(typeof e=="string"||e!=null&&!Pc(e))&&(e=(0,Ur.Z)(e),!e&&Fa(c))?Ks(Lc(c),0,t):c.split(e,t)):[]}var Vc=Du,dc=9007199254740991,ul=Math.floor;function yt(c,e){var t="";if(!c||e<1||e>dc)return t;do e%2&&(t+=c),e=ul(e/2),e&&(c+=c);while(e);return t}var Ga=yt;function fl(c,e,t){return(t?(0,G.Z)(c,e,t):e===void 0)?e=1:e=ko(e),Ga((0,yn.Z)(c),e)}var ps=fl,fs=l(54193),Nu=(0,fs.Z)("length"),qu=Nu,jc="\\ud800-\\udfff",lc="\\u0300-\\u036f",af="\\ufe20-\\ufe2f",Af="\\u20d0-\\u20ff",ju=lc+af+Af,il="\\ufe0e\\ufe0f",Ws="["+jc+"]",Ya="["+ju+"]",Vl="\\ud83c[\\udffb-\\udfff]",ds="(?:"+Ya+"|"+Vl+")",Za="[^"+jc+"]",xl="(?:\\ud83c[\\udde6-\\uddff]){2}",yu="[\\ud800-\\udbff][\\udc00-\\udfff]",ef="\\u200d",iu=ds+"?",Xl="["+il+"]?",Xo="(?:"+ef+"(?:"+[Za,xl,yu].join("|")+")"+Xl+iu+")*",$u=Xl+iu+Xo,Uf="(?:"+[Za+Ya+"?",Ya,xl,yu,Ws].join("|")+")",Tc=RegExp(Vl+"(?="+Vl+")|"+Uf+$u,"g");function fo(c){for(var e=Tc.lastIndex=0;Tc.test(c);)++e;return e}var Hs=fo;function tu(c){return Fa(c)?Hs(c):qu(c)}var sf=tu,Xs=Math.ceil;function mf(c,e){e=e===void 0?" ":(0,Ur.Z)(e);var t=e.length;if(t<2)return t?Ga(e,c):e;var r=Ga(e,Xs(c/sf(e)));return Fa(e)?Ks(Lc(r),0,c).join(""):r.slice(0,c)}var Df=mf,yf=Math.ceil,Mu=Math.floor;function nu(c,e,t){c=(0,yn.Z)(c),e=ko(e);var r=e?sf(c):0;if(!e||r>=e)return c;var a=(e-r)/2;return Df(Mu(a),t)+c+Df(yf(a),t)}var eh=nu;function Vf(c,e,t){c=(0,yn.Z)(c),e=ko(e);var r=e?sf(c):0;return e&&r<e?c+Df(e-r,t):c}var bd=Vf;function ol(c,e,t){c=(0,yn.Z)(c),e=ko(e);var r=e?sf(c):0;return e&&r<e?Df(e-r,t)+c:c}var ou=ol,Jl=30,Ru="...",ad=/\w*$/;function hc(c,e){var t=Jl,r=Ru;if((0,xt.Z)(e)){var a="separator"in e?e.separator:a;t="length"in e?ko(e.length):t,r="omission"in e?(0,Ur.Z)(e.omission):r}c=(0,yn.Z)(c);var u=c.length;if(Fa(c)){var p=Lc(c);u=p.length}if(t>=u)return c;var b=t-sf(r);if(b<1)return r;var P=p?Ks(p,0,b).join(""):c.slice(0,b);if(a===void 0)return P+r;if(p&&(b+=P.length-b),Pc(a)){if(c.slice(b).search(a)){var I,z=P;for(a.global||(a=RegExp(a.source,(0,yn.Z)(ad.exec(a))+"g")),a.lastIndex=0;I=a.exec(z);)var W=I.index;P=P.slice(0,W===void 0?b:W)}}else if(c.indexOf((0,Ur.Z)(a),b)!=b){var ne=P.lastIndexOf(a);ne>-1&&(P=P.slice(0,ne))}return P+r}var Iu=hc,ku=(0,hs.Z)(function(c,e,t,r){(0,Ja.Z)(e,(0,Fi.Z)(e),c,r)}),Fc=ku,Cd="[object DOMException]",_l="[object Error]";function Nf(c){if(!(0,Ye.Z)(c))return!1;var e=(0,se.Z)(c);return e==_l||e==Cd||typeof c.message=="string"&&typeof c.name=="string"&&!(0,_n.Z)(c)}var lf=Nf,$c=(0,Fn.Z)(function(c,e){try{return(0,xn.Z)(c,void 0,e)}catch(t){return lf(t)?t:new Error(t)}}),sd=$c;function Lu(c,e){return(0,ir.Z)(e,function(t){return c[t]})}var tf=Lu,ld=Object.prototype,cf=ld.hasOwnProperty;function Gc(c,e,t,r){return c===void 0||(0,ba.Z)(c,ld[t])&&!cf.call(r,t)?e:c}var bf=Gc,qf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function au(c){return"\\"+qf[c]}var su=au,Cf=l(17179),rc=/<%=([\s\S]+?)%>/g,pc=rc,Ql=/<%-([\s\S]+?)%>/g,ed=Ql,Rf=/<%([\s\S]+?)%>/g,xf=Rf,xd={escape:ed,evaluate:xf,interpolate:pc,variable:"",imports:{_:{escape:Ar}}},lu=xd,Wu="Invalid `variable` option passed into `_.template`",Ef=/\b__p \+= '';/g,Ee=/\b(__p \+=) '' \+/g,Le=/(__e\(.*?\)|\b__t\)) \+\n'';/g,at=/[()=,{}\[\]\/\s]/,ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/($^)/,mt=/['\n\r\u2028\u2029\\]/g,St=Object.prototype,Nt=St.hasOwnProperty;function O(c,e,t){var r=lu.imports._.templateSettings||lu;t&&(0,G.Z)(c,e,t)&&(e=void 0),c=(0,yn.Z)(c),e=Fc({},e,r,bf);var a=Fc({},e.imports,r.imports,bf),u=(0,Cf.Z)(a),p=tf(a,u),b,P,I=0,z=e.interpolate||dt,W="__p += '",ne=RegExp((e.escape||dt).source+"|"+z.source+"|"+(z===pc?ct:dt).source+"|"+(e.evaluate||dt).source+"|$","g"),Te=Nt.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";c.replace(ne,function(At,tn,pn,Kt,zn,gr){return pn||(pn=Kt),W+=c.slice(I,gr).replace(mt,su),tn&&(b=!0,W+=`' +
__e(`+tn+`) +
'`),zn&&(P=!0,W+=`';
`+zn+`;
__p += '`),pn&&(W+=`' +
((__t = (`+pn+`)) == null ? '' : __t) +
'`),I=gr+At.length,At}),W+=`';
`;var Ke=Nt.call(e,"variable")&&e.variable;if(!Ke)W=`with (obj) {
`+W+`
}
`;else if(at.test(Ke))throw new Error(Wu);W=(P?W.replace(Ef,""):W).replace(Ee,"$1").replace(Le,"$1;"),W="function("+(Ke||"obj")+`) {
`+(Ke?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(P?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+W+`return __p
}`;var Ue=sd(function(){return Function(u,Te+"return "+W).apply(void 0,p)});if(Ue.source=W,lf(Ue))throw Ue;return Ue}var V=O,ae=0;function we(c){var e=++ae;return(0,yn.Z)(c)+e}var qe=we;function Rt(c){let e=null;try{e=window.eval(c)}catch(t){}return e}function In(c,e,t,r){var a=-1,u=c==null?0:c.length;for(r&&u&&(t=c[++a]);++a<u;)t=e(t,c[a],a,c);return t}var Wr=In,_i={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},So=wr(_i),Ho=So,ga=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ns="\\u0300-\\u036f",xs="\\ufe20-\\ufe2f",el="\\u20d0-\\u20ff",ja=ns+xs+el,Vs="["+ja+"]",dl=RegExp(Vs,"g");function al(c){return c=(0,yn.Z)(c),c&&c.replace(ga,Ho).replace(dl,"")}var Oc=al,$a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Ao(c){return c.match($a)||[]}var eo=Ao,As=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function ic(c){return As.test(c)}var _c=ic,Ac="\\ud800-\\udfff",cc="\\u0300-\\u036f",Pu="\\ufe20-\\ufe2f",gc="\\u20d0-\\u20ff",fu=cc+Pu+gc,Cc="\\u2700-\\u27bf",bu="a-z\\xdf-\\xf6\\xf8-\\xff",vl="\\xac\\xb1\\xd7\\xf7",oc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Dc="\\u2000-\\u206f",Fu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gu="A-Z\\xc0-\\xd6\\xd8-\\xde",Ch="\\ufe0e\\ufe0f",Ed=vl+oc+Dc+Fu,th="['\u2019]",nh="["+Ed+"]",Bd="["+fu+"]",nf="\\d+",Zd="["+Cc+"]",wf="["+bu+"]",rh="[^"+Ac+Ed+nf+Cc+bu+Gu+"]",If="\\ud83c[\\udffb-\\udfff]",ih="(?:"+Bd+"|"+If+")",oh="[^"+Ac+"]",xh="(?:\\ud83c[\\udde6-\\uddff]){2}",ah="[\\ud800-\\udbff][\\udc00-\\udfff]",uf="["+Gu+"]",ug="\\u200d",zd="(?:"+wf+"|"+rh+")",fg="(?:"+uf+"|"+rh+")",dg="(?:"+th+"(?:d|ll|m|re|s|t|ve))?",_p="(?:"+th+"(?:D|LL|M|RE|S|T|VE))?",cd=ih+"?",Bu="["+Ch+"]?",kf="(?:"+ug+"(?:"+[oh,xh,ah].join("|")+")"+Bu+cd+")*",Ap="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hg="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Eh=Bu+cd+kf,ud="(?:"+[Zd,xh,ah].join("|")+")"+Eh,jf=RegExp([uf+"?"+wf+"+"+dg+"(?="+[nh,uf,"$"].join("|")+")",fg+"+"+_p+"(?="+[nh,uf+zd,"$"].join("|")+")",uf+"?"+zd+"+"+dg,uf+"+"+_p,hg,Ap,nf,ud].join("|"),"g");function Dp(c){return c.match(jf)||[]}var sh=Dp;function fd(c,e,t){return c=(0,yn.Z)(c),e=t?void 0:e,e===void 0?_c(c)?sh(c):eo(c):c.match(e)||[]}var wd=fd,Sd="['\u2019]",Kh=RegExp(Sd,"g");function Yh(c){return function(e){return Wr(wd(Oc(e).replace(Kh,"")),c,"")}}var Cu=Yh;function Lf(c){return function(e){e=(0,yn.Z)(e);var t=Fa(e)?Lc(e):void 0,r=t?t[0]:e.charAt(0),a=t?Ks(t,1).join(""):e.slice(1);return r[c]()+a}}var Nc=Lf,xu=Nc("toUpperCase"),ql=xu,Xh=Cu(function(c,e,t){return c+(t?" ":"")+ql(e)}),pg=Xh;function iv(c){return ql((0,yn.Z)(c).toLowerCase())}var wh=iv,Sh=Cu(function(c,e,t){return e=e.toLowerCase(),c+(t?wh(e):e)}),Md=Sh,dd=Cu(function(c,e,t){return c+(t?" ":"")+e.toUpperCase()}),ov=dd,td=Cu(function(c,e,t){return c+(t?" ":"")+e.toLowerCase()}),Mh=td,Np=Nc("toLowerCase"),Qh=Np;const hd=c=>{const e=Object.create(null);return t=>e[t]||(e[t]=c(t))},Jh=hd(c=>c.replace(/\B([A-Z])/g,"-$1").toLowerCase()),Ph=hd(c=>pg(Md(c)).replace(/ /g,"")),pd=hd(c=>ov(c).replace(/ /g,"_")),Rp=hd(c=>Mh(c).replace(/ /g,".")),$e=hd(c=>Mh(c).replace(/ /g,"/")),Jt=hd(c=>ql(Mh(c))),Gn=hd(c=>pg(Md(c)));function Kr(c){let e=2166136261,t=!1,r=c;for(let a=0,u=r.length;a<u;a+=1){let p=r.charCodeAt(a);p>127&&!t&&(r=unescape(encodeURIComponent(r)),p=r.charCodeAt(a),t=!0),e^=p,e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}return e>>>0}function Br(){let c="";const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";for(let t=0,r=e.length;t<r;t+=1){const a=e[t],u=Math.random()*16|0,p=a==="x"?u:a==="y"?u&3|8:a;c+=p.toString(16)}return c}function Yr(c,e={}){const t=L().parseHTML(c,null,!1);return t.forEach(r=>{const a=r;if(a){const u=a.attributes;if(u)for(let p=0,b=u.length;p<b;p+=1){const P=u.item(p);if(P){const I=P.value.toLowerCase(),z=P.name.toLowerCase();(z.startsWith("on")||I.startsWith("javascript:")||I.startsWith("data:")||I.startsWith("vbscript:"))&&a.removeAttribute(z)}}}}),e.raw?t:L()("<div/>").append(t).html()}function ri(c,e,t){const r=Math.min(2,Math.floor(c.length*.34));let a=Math.floor(c.length*.4)+1,u,p=!1;const b=c.toLowerCase();for(const P of e){const I=t(P);if(I!==void 0&&Math.abs(I.length-b.length)<=r){const z=I.toLowerCase();if(z===b){if(I===c)continue;return P}if(p||I.length<3)continue;const W=Ii(b,z,a-1);if(W===void 0)continue;W<3?(p=!0,u=P):(a=W,u=P)}}return u}function Ii(c,e,t){let r=new Array(e.length+1),a=new Array(e.length+1);const u=t+1;for(let b=0;b<=e.length;b+=1)r[b]=b;for(let b=1;b<=c.length;b+=1){const P=c.charCodeAt(b-1),I=b>t?b-t:1,z=e.length>t+b?t+b:e.length;a[0]=b;let W=b;for(let Te=1;Te<I;Te+=1)a[Te]=u;for(let Te=I;Te<=z;Te+=1){const Ke=P===e.charCodeAt(Te-1)?r[Te-1]:Math.min(r[Te]+1,a[Te-1]+1,r[Te-1]+2);a[Te]=Ke,W=Math.min(W,Ke)}for(let Te=z+1;Te<=e.length;Te+=1)a[Te]=u;if(W>t)return;const ne=r;r=a,a=ne}const p=r[e.length];return p>t?void 0:p}var Wi="[object Number]";function Xi(c){return typeof c=="number"||(0,Ye.Z)(c)&&(0,se.Z)(c)==Wi}var zi=Xi;function Ui(c){return zi(c)&&c!=+c}var _o=Ui,Vi=l(66092),vo=Vi.Z.isFinite;function Gr(c){return typeof c=="number"&&vo(c)}var li=Gr;function Ji(c){return typeof c=="number"&&c==ko(c)}var Zo=Ji,Di=9007199254740991;function Go(c){return Zo(c)&&c>=-Di&&c<=Di}var Mi=Go;function bo(c,e,t){return t===void 0&&(t=e,e=void 0),t!==void 0&&(t=(0,ci.Z)(t),t=t===t?t:0),e!==void 0&&(e=(0,ci.Z)(e),e=e===e?e:0),yr((0,ci.Z)(c),e,t)}var Ci=bo,Co=Math.max,Na=Math.min;function gs(c,e,t){return c>=Na(e,t)&&c<Co(e,t)}var Eo=gs;function no(c,e,t){return e=wo(e),t===void 0?(t=e,e=0):t=wo(t),c=(0,ci.Z)(c),Eo(c,e,t)}var Oi=no,Xa=9007199254740991;function Es(c){return c?yr(ko(c),-Xa,Xa):c===0?c:0}var la=Es,Zs=/^\s+/,vs=Vi.Z.parseInt;function Os(c,e,t){return t||e==null?e=0:e&&(e=+e),vs((0,yn.Z)(c).replace(Zs,""),e||0)}var hl=Os;const Wc=c=>c&&c===c.window,Bc=c=>!Array.isArray(c)&&c-parseFloat(c)+1>=0;function Ns(c,e){return(c%e+e)%e}function Rc(c,e){if(e==null)e=c==null?1:c,c=0;else if(e<c){const t=c;c=e,e=t}return Math.floor(Math.random()*(e-c+1)+c)}function sl(c){return typeof c=="string"&&c.slice(-1)==="%"}function jl(c,e){if(c==null)return 0;let t;if(typeof c=="string"){if(t=parseFloat(c),sl(c)&&(t/=100,Number.isFinite(t)))return t*e}else t=c;return Number.isFinite(t)?t>0&&t<1?t*e:t:0}function xc(c,e){function t(p){const b=new RegExp(`(?:\\d+(?:\\.\\d+)*)(${p})$`).exec(c);return b?b[1]:null}const r=parseFloat(c);if(Number.isNaN(r))return null;let a;if(e==null)a="[A-Za-z]*";else if(Array.isArray(e)){if(e.length===0)return null;a=e.join("|")}else typeof e=="string"&&(a=e);const u=t(a);return u===null?null:{unit:u,value:r}}function Al(c){if(typeof c=="object"){let t=0,r=0,a=0,u=0;return c.vertical!=null&&Number.isFinite(c.vertical)&&(r=u=c.vertical),c.horizontal!=null&&Number.isFinite(c.horizontal)&&(a=t=c.horizontal),c.left!=null&&Number.isFinite(c.left)&&(t=c.left),c.top!=null&&Number.isFinite(c.top)&&(r=c.top),c.right!=null&&Number.isFinite(c.right)&&(a=c.right),c.bottom!=null&&Number.isFinite(c.bottom)&&(u=c.bottom),{top:r,right:a,bottom:u,left:t}}let e=0;return c!=null&&Number.isFinite(c)&&(e=c),{top:e,right:e,bottom:e,left:e}}var vc=l(73234),Ic="Expected a function";function Hc(c,e){var t;if(typeof e!="function")throw new TypeError(Ic);return c=ko(c),function(){return--c>0&&(t=e.apply(this,arguments)),c<=1&&(e=void 0),t}}var ws=Hc;function Tu(c){return ws(2,c)}var Dl=Tu,za=l(36409),js="Expected a function";function pl(c,e,t){if(typeof c!="function")throw new TypeError(js);return setTimeout(function(){c.apply(void 0,t)},e)}var Kc=pl,nd=(0,Fn.Z)(function(c,e){return Kc(c,1,e)}),Pd=nd;function Tn(c,e,t){if(t)switch(t.length){case 0:return c.call(e);case 1:return c.call(e,t[0]);case 2:return c.call(e,t[0],t[1]);case 3:return c.call(e,t[0],t[1],t[2]);case 4:return c.call(e,t[0],t[1],t[2],t[3]);case 5:return c.call(e,t[0],t[1],t[2],t[3],t[4]);case 6:return c.call(e,t[0],t[1],t[2],t[3],t[4],t[5]);default:return c.apply(e,t)}return c.call(e)}function er(c,e,...t){return Tn(c,e,t)}function Xr(c,e){for(let t=0,r=c.length;t<r;t+=1)if(c[t]===e)return c.push(c.splice(t,1)[0])}function na(c,e,t){const r=[],a={};return(...p)=>{let b=!1;const P=p.join("\u2400");return P in a?(b=!0,Xr(r,P)):(r.length>=1e3&&delete a[r.shift()],r.push(P),a[P]=Tn(c,e||null,p)),t?t(a[P],b):a[P]}}function Rs(c){return typeof c=="object"&&c.then&&typeof c.then=="function"}function fn(c){return c!=null&&(c instanceof Promise||Rs(c))}function Ut(...c){const e=[];if(c.forEach(r=>{Array.isArray(r)?e.push(...r):e.push(r)}),e.some(r=>fn(r))){const r=e.map(a=>fn(a)?a:Promise.resolve(a!==!1));return Promise.all(r).then(a=>a.reduce((u,p)=>p!==!1&&u,!0))}return e.every(r=>r!==!1)}function tr(...c){const e=Ut(c);return typeof e=="boolean"?Promise.resolve(e):e}const Rr=/[\t\r\n\f]/g,Fr=/\S+/g,ar=c=>` ${c} `;function Jn(c){return c&&c.getAttribute&&c.getAttribute("class")||""}function vr(c,e){if(c==null||e==null)return!1;const t=ar(Jn(c)),r=ar(e);return c.nodeType===1?t.replace(Rr," ").includes(r):!1}function Qt(c,e){if(!(c==null||e==null)){if(typeof e=="function")return Qt(c,e(Jn(c)));if(typeof e=="string"&&c.nodeType===1){const t=e.match(Fr)||[],r=ar(Jn(c)).replace(Rr," ");let a=t.reduce((u,p)=>u.indexOf(ar(p))<0?`${u}${p} `:u,r);a=a.trim(),r!==a&&c.setAttribute("class",a)}}}function Zn(c,e){if(c!=null){if(typeof e=="function")return Zn(c,e(Jn(c)));if((!e||typeof e=="string")&&c.nodeType===1){const t=(e||"").match(Fr)||[],r=ar(Jn(c)).replace(Rr," ");let a=t.reduce((u,p)=>{const b=ar(p);return u.indexOf(b)>-1?u.replace(b," "):u},r);a=e?a.trim():"",r!==a&&c.setAttribute("class",a)}}}function ln(c,e,t){if(!(c==null||e==null)){if(t!=null&&typeof e=="string"){t?Qt(c,e):Zn(c,e);return}if(typeof e=="function")return ln(c,e(Jn(c),t),t);typeof e=="string"&&(e.match(Fr)||[]).forEach(a=>{vr(c,a)?Zn(c,a):Qt(c,a)})}}let mr=0;function Zr(){return mr+=1,`v${mr}`}function pi(c){return(c.id==null||c.id==="")&&(c.id=Zr()),c.id}function vi(c){return c==null?!1:typeof c.getScreenCTM=="function"&&c instanceof SVGElement}const Jr={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},Hi="1.1";function va(c,e=document){return e.createElement(c)}function ms(c,e=Jr.xhtml,t=document){return t.createElementNS(e,c)}function $o(c,e=document){return ms(c,Jr.svg,e)}function _a(c){if(c){const t=`<svg xmlns="${Jr.svg}" xmlns:xlink="${Jr.xlink}" version="${Hi}">${c}</svg>`,{documentElement:r}=as(t,{async:!1});return r}const e=document.createElementNS(Jr.svg,"svg");return e.setAttributeNS(Jr.xmlns,"xmlns:xlink",Jr.xlink),e.setAttribute("version",Hi),e}function as(c,e={}){let t;try{const r=new DOMParser;if(e.async!=null){const a=r;a.async=e.async}t=r.parseFromString(c,e.mimeType||"text/xml")}catch(r){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${c}`);return t}function Qs(c,e=!0){const t=c.nodeName;return e?t.toLowerCase():t.toUpperCase()}function mc(c){let e=0,t=c.previousSibling;for(;t;)t.nodeType===1&&(e+=1),t=t.previousSibling;return e}function Hu(c,e){return c.querySelectorAll(e)}function lh(c,e){return c.querySelector(e)}function Sf(c,e,t){const r=c.ownerSVGElement;let a=c.parentNode;for(;a&&a!==t&&a!==r;){if(vr(a,e))return a;a=a.parentNode}return null}function Th(c,e){const t=e&&e.parentNode;return c===t||!!(t&&t.nodeType===1&&c.compareDocumentPosition(t)&16)}function cu(c){c.parentNode&&c.parentNode.removeChild(c)}function qh(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function ep(c,e){(Array.isArray(e)?e:[e]).forEach(r=>{r!=null&&c.appendChild(r)})}function em(c,e){const t=c.firstChild;return t?gg(t,e):ep(c,e)}function gg(c,e){const t=c.parentNode;t&&(Array.isArray(e)?e:[e]).forEach(a=>{a!=null&&t.insertBefore(a,c)})}function r0(c,e){e!=null&&e.appendChild(c)}function Ip(c){try{return c instanceof HTMLElement}catch(e){return typeof c=="object"&&c.nodeType===1&&typeof c.style=="object"&&typeof c.ownerDocument=="object"}}function vg(c){return!c||!Ip(c)?!1:["a","button"].includes(Qs(c))||c.getAttribute("role")==="button"||c.getAttribute("type")==="button"?!0:vg(c.parentNode)}function av(c){if(Qs(c)==="input"){const t=c.getAttribute("type");if(t==null||["text","password","number","email","search","tel","url"].includes(t))return!0}return!1}const sv=["viewBox","attributeName","attributeType","repeatCount"];function i0(c,e){return c.getAttribute(e)}function lv(c,e){const t=cv(e);t.ns?c.hasAttributeNS(t.ns,t.local)&&c.removeAttributeNS(t.ns,t.local):c.hasAttribute(e)&&c.removeAttribute(e)}function tp(c,e,t){if(t==null)return lv(c,e);const r=cv(e);r.ns&&typeof t=="string"?c.setAttributeNS(r.ns,e,t):e==="id"?c.id=`${t}`:c.setAttribute(e,`${t}`)}function kp(c,e){Object.keys(e).forEach(t=>{tp(c,t,e[t])})}function Il(c,e,t){if(e==null){const r=c.attributes,a={};for(let u=0;u<r.length;u+=1)a[r[u].name]=r[u].value;return a}if(typeof e=="string"&&t===void 0)return c.getAttribute(e);typeof e=="object"?kp(c,e):tp(c,e,t)}function cv(c){if(c.indexOf(":")!==-1){const e=c.split(":");return{ns:Jr[e[0]],local:e[1]}}return{ns:null,local:c}}function np(c){const e={};return Object.keys(c).forEach(t=>{const r=sv.includes(t)?t:Jh(t);e[r]=c[t]}),e}function Oh(c){const e={};return c.split(";").forEach(r=>{const a=r.trim();if(a){const u=a.split("=");u.length&&(e[u[0].trim()]=u[1]?u[1].trim():"")}}),e}function mg(c,e){return Object.keys(e).forEach(t=>{if(t==="class")c[t]=c[t]?`${c[t]} ${e[t]}`:e[t];else if(t==="style"){const r=typeof c[t]=="object",a=typeof e[t]=="object";let u,p;r&&a?(u=c[t],p=e[t]):r?(u=c[t],p=Oh(e[t])):a?(u=Oh(c[t]),p=e[t]):(u=Oh(c[t]),p=Oh(e[t])),c[t]=mg(u,p)}else c[t]=e[t]}),c}function tm(c,e,t={}){const r=t.offset||0,a=[],u=[];let p,b,P=null;for(let I=0;I<c.length;I+=1){p=u[I]=c[I];for(let z=0,W=e.length;z<W;z+=1){const ne=e[z],Te=ne.start+r,Ke=ne.end+r;I>=Te&&I<Ke&&(typeof p=="string"?p=u[I]={t:c[I],attrs:ne.attrs}:p.attrs=mg(mg({},p.attrs),ne.attrs),t.includeAnnotationIndices&&(p.annotations==null&&(p.annotations=[]),p.annotations.push(z)))}b=u[I-1],b?xt.Z(p)&&xt.Z(b)?(P=P,JSON.stringify(p.attrs)===JSON.stringify(b.attrs)?P.t+=p.t:(a.push(P),P=p)):xt.Z(p)||xt.Z(b)?(P=P,a.push(P),P=p):P=(P||"")+p:P=p}return P!=null&&a.push(P),a}function ub(c,e){return c?c.filter(t=>t.start<e&&e<=t.end):[]}function fb(c,e,t){return c?c.filter(r=>e>=r.start&&e<r.end||t>r.start&&t<=r.end||r.start>=e&&r.end<t):[]}function db(c,e,t){return c&&c.forEach(r=>{r.start<e&&r.end>=e?r.end+=t:r.start>=e&&(r.start+=t,r.end+=t)}),c}function o0(c){return c.replace(/ /g,"\xA0")}var a0;(function(c){c.emptyObject=Object.freeze({}),c.emptyArray=Object.freeze([]);function e(z){return z==null||typeof z=="boolean"||typeof z=="number"||typeof z=="string"}c.isPrimitive=e;function t(z){return Array.isArray(z)}c.isArray=t;function r(z){return!e(z)&&!t(z)}c.isObject=r;function a(z,W){if(z===W)return!0;if(e(z)||e(W))return!1;const ne=t(z),Te=t(W);return ne!==Te?!1:ne&&Te?p(z,W):b(z,W)}c.deepEqual=a;function u(z){return e(z)?z:t(z)?P(z):I(z)}c.deepCopy=u;function p(z,W){if(z===W)return!0;if(z.length!==W.length)return!1;for(let ne=0,Te=z.length;ne<Te;ne+=1)if(!a(z[ne],W[ne]))return!1;return!0}function b(z,W){if(z===W)return!0;for(const ne in z)if(!(ne in W))return!1;for(const ne in W)if(!(ne in z))return!1;for(const ne in z)if(!a(z[ne],W[ne]))return!1;return!0}function P(z){const W=new Array(z.length);for(let ne=0,Te=z.length;ne<Te;ne+=1)W[ne]=u(z[ne]);return W}function I(z){const W={};return Object.keys(z).forEach(ne=>{W[ne]=u(z[ne])}),W}})(a0||(a0={}));var rp;(function(c){function e(I){const z="data:";return I.substr(0,z.length)===z}c.isDataUrl=e;function t(I,z){if(!I||e(I)){setTimeout(()=>z(null,I));return}const W=()=>{z(new Error(`Failed to load image: ${I}`))},ne=window.FileReader?Ke=>{if(Ke.status===200){const Ue=new FileReader;Ue.onload=At=>{const tn=At.target.result;z(null,tn)},Ue.onerror=W,Ue.readAsDataURL(Ke.response)}else W()}:Ke=>{const Ue=At=>{const pn=[];for(let Kt=0;Kt<At.length;Kt+=32768)pn.push(String.fromCharCode.apply(null,At.subarray(Kt,Kt+32768)));return pn.join("")};if(Ke.status===200){let At=I.split(".").pop()||"png";At==="svg"&&(At="svg+xml");const tn=`data:image/${At};base64,`,pn=new Uint8Array(Ke.response),Kt=tn+btoa(Ue(pn));z(null,Kt)}else W()},Te=new XMLHttpRequest;Te.responseType=window.FileReader?"blob":"arraybuffer",Te.open("GET",I,!0),Te.addEventListener("error",W),Te.addEventListener("load",()=>ne(Te)),Te.send()}c.imageToDataUri=t;function r(I){let z=I.replace(/\s/g,"");z=decodeURIComponent(z);const W=z.indexOf(","),ne=z.slice(0,W),Te=ne.split(":")[1].split(";")[0],Ke=z.slice(W+1);let Ue;ne.indexOf("base64")>=0?Ue=atob(Ke):Ue=unescape(encodeURIComponent(Ke));const At=new Uint8Array(Ue.length);for(let tn=0;tn<Ue.length;tn+=1)At[tn]=Ue.charCodeAt(tn);return new Blob([At],{type:Te})}c.dataUriToBlob=r;function a(I,z){const W=window.navigator.msSaveBlob;if(W)W(I,z);else{const ne=window.URL.createObjectURL(I),Te=document.createElement("a");Te.href=ne,Te.download=z,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),window.URL.revokeObjectURL(ne)}}c.downloadBlob=a;function u(I,z){const W=r(I);a(W,z)}c.downloadDataUri=u;function p(I){const z=I.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return z&&z[2]?z[2].replace(/\s+/," ").split(" "):null}function b(I){const z=parseFloat(I);return Number.isNaN(z)?null:z}function P(I,z={}){let W=null;const ne=Kt=>(W==null&&(W=p(I)),W!=null?b(W[Kt]):null),Te=Kt=>{const zn=I.match(Kt);return zn&&zn[2]?b(zn[2]):null};let Ke=z.width;if(Ke==null&&(Ke=Te(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),Ke==null&&(Ke=ne(2)),Ke==null)throw new Error("Can not parse width from svg string");let Ue=z.height;if(Ue==null&&(Ue=Te(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),Ue==null&&(Ue=ne(3)),Ue==null)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(I).replace(/'/g,"%27").replace(/"/g,"%22")}`}c.svgToDataUrl=P})(rp||(rp={}));let _h;const nm={px(c){return c},mm(c){return _h*c},cm(c){return _h*c*10},in(c){return _h*c*25.4},pt(c){return _h*(25.4*c/72)},pc(c){return _h*(25.4*c/6)}};var uv;(function(c){function e(r,a,u){const p=L()("<div/>").css({display:"inline-block",position:"absolute",left:-15e3,top:-15e3,width:r+(u||""),height:a+(u||"")}).appendTo(document.body),b={width:p.width()||0,height:p.height()||0};return p.remove(),b}c.measure=e;function t(r,a){_h==null&&(_h=e("1","1","mm").width);const u=a?nm[a]:null;return u?u(r):r}c.toPx=t})(uv||(uv={}));const yg=function(){let c;const e=window;if(e!=null&&(c=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,c!=null&&(c=c.bind(e))),c==null){let t=0;c=r=>{const a=new Date().getTime(),u=Math.max(0,16-(a-t)),p=setTimeout(()=>{r(a+u)},u);return t=a+u,p}}return c}(),bg=function(){let c;const e=window;return e!=null&&(c=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.msCancelAnimationFrame||e.msCancelRequestAnimationFrame||e.oCancelAnimationFrame||e.oCancelRequestAnimationFrame||e.mozCancelAnimationFrame||e.mozCancelRequestAnimationFrame,c&&(c=c.bind(e))),c==null&&(c=clearTimeout),c}(),fv=/-(.)/g;function dv(c){return c.replace(fv,(e,t)=>t.toUpperCase())}const hv={},Cg=["Webkit","ms","Moz","O"],pv=document?document.createElement("div").style:{};function xg(c){for(let e=0;e<Cg.length;e+=1){const t=Cg[e]+c;if(t in pv)return t}return null}function El(c){const e=dv(c);if(hv[e]==null){const t=e.charAt(0).toUpperCase()+e.slice(1);hv[e]=e in pv?e:xg(t)}return hv[e]}function hb(c,e,t){const r=El(e);r!=null&&(c[r]=t),c[e]=t}function gv(c,e){const t=c.ownerDocument&&c.ownerDocument.defaultView&&c.ownerDocument.defaultView.opener?c.ownerDocument.defaultView.getComputedStyle(c,null):window.getComputedStyle(c,null);return t&&e?t.getPropertyValue(e)||t[e]:t}function pb(c){const e=gv(c);return e!=null&&(e.overflow==="scroll"||e.overflow==="auto")}const gb=function(){const c=document;return c.selection?function(){c.selection.empty()}:window.getSelection?function(){const e=window.getSelection();e&&(e.empty?e.empty():e.removeAllRanges&&e.removeAllRanges())}:function(){}}();var gl;(function(c){function e(r){return 180*r/Math.PI%360}c.toDeg=e,c.toRad=function(r,a=!1){return(a?r:r%360)*Math.PI/180};function t(r){return r%360+(r<0?360:0)}c.normalize=t})(gl||(gl={}));function Ah(c,e=0){return Number.isInteger(c)?c:+c.toFixed(e)}function rm(c,e){let t,r;if(e==null?(r=c==null?1:c,t=0):(r=e,t=c==null?0:c),r<t){const a=t;t=r,r=a}return Math.floor(Math.random()*(r-t+1)+t)}function Lp(c,e,t){return Number.isNaN(c)?NaN:Number.isNaN(e)||Number.isNaN(t)?0:e<t?c<e?e:c>t?t:c:c<t?t:c>e?e:c}function Td(c,e){return e*Math.round(c/e)}function im(c,e){return e!=null&&c!=null&&e.x>=c.x&&e.x<=c.x+c.width&&e.y>=c.y&&e.y<=c.y+c.height}function Eg(c,e){const t=c.x-e.x,r=c.y-e.y;return t*t+r*r}class Dh{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class Bn extends Dh{constructor(e,t){super(),this.x=e==null?0:e,this.y=t==null?0:t}get[Symbol.toStringTag](){return Bn.toStringTag}round(e=0){return this.x=Ah(this.x,e),this.y=Ah(this.y,e),this}add(e,t){const r=Bn.create(e,t);return this.x+=r.x,this.y+=r.y,this}update(e,t){const r=Bn.create(e,t);return this.x=r.x,this.y=r.y,this}translate(e,t){const r=Bn.create(e,t);return this.x+=r.x,this.y+=r.y,this}rotate(e,t){const r=Bn.rotate(this,e,t);return this.x=r.x,this.y=r.y,this}scale(e,t,r=new Bn){const a=Bn.create(r);return this.x=a.x+e*(this.x-a.x),this.y=a.y+t*(this.y-a.y),this}closest(e){if(e.length===1)return Bn.create(e[0]);let t=null,r=1/0;return e.forEach(a=>{const u=this.squaredDistance(a);u<r&&(t=a,r=u)}),t?Bn.create(t):null}distance(e){return Math.sqrt(this.squaredDistance(e))}squaredDistance(e){const t=Bn.create(e),r=this.x-t.x,a=this.y-t.y;return r*r+a*a}manhattanDistance(e){const t=Bn.create(e);return Math.abs(t.x-this.x)+Math.abs(t.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(e=new Bn){const t=Bn.create(e),r=-(t.y-this.y),a=t.x-this.x;let u=Math.atan2(r,a);return u<0&&(u=2*Math.PI+u),180*u/Math.PI}angleBetween(e,t){if(this.equals(e)||this.equals(t))return NaN;let r=this.theta(t)-this.theta(e);return r<0&&(r+=360),r}vectorAngle(e){return new Bn(0,0).angleBetween(this,e)}toPolar(e){return this.update(Bn.toPolar(this,e)),this}changeInAngle(e,t,r=new Bn){return this.clone().translate(-e,-t).theta(r)-this.theta(r)}adhereToRect(e){return im(e,this)||(this.x=Math.min(Math.max(this.x,e.x),e.x+e.width),this.y=Math.min(Math.max(this.y,e.y),e.y+e.height)),this}bearing(e){const t=Bn.create(e),r=gl.toRad(this.y),a=gl.toRad(t.y),u=this.x,p=t.x,b=gl.toRad(p-u),P=Math.sin(b)*Math.cos(a),I=Math.cos(r)*Math.sin(a)-Math.sin(r)*Math.cos(a)*Math.cos(b),z=gl.toDeg(Math.atan2(P,I)),W=["NE","E","SE","S","SW","W","NW","N"];let ne=z-22.5;return ne<0&&(ne+=360),ne=parseInt(ne/45,10),W[ne]}cross(e,t){if(e!=null&&t!=null){const r=Bn.create(e),a=Bn.create(t);return(a.x-this.x)*(r.y-this.y)-(a.y-this.y)*(r.x-this.x)}return NaN}dot(e){const t=Bn.create(e);return this.x*t.x+this.y*t.y}diff(e,t){if(typeof e=="number")return new Bn(this.x-e,this.y-t);const r=Bn.create(e);return new Bn(this.x-r.x,this.y-r.y)}lerp(e,t){const r=Bn.create(e);return new Bn((1-t)*this.x+t*r.x,(1-t)*this.y+t*r.y)}normalize(e=1){const t=e/this.magnitude();return this.scale(t,t)}move(e,t){const r=Bn.create(e),a=gl.toRad(r.theta(this));return this.translate(Math.cos(a)*t,-Math.sin(a)*t)}reflection(e){return Bn.create(e).move(this,this.distance(e))}snapToGrid(e,t){return this.x=Td(this.x,e),this.y=Td(this.y,t==null?e:t),this}equals(e){const t=Bn.create(e);return t!=null&&t.x===this.x&&t.y===this.y}clone(){return Bn.clone(this)}toJSON(){return Bn.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(c){c.toStringTag=`X6.Geometry.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&typeof a.x=="number"&&typeof a.y=="number"&&typeof a.toPolar=="function"}c.isPoint=e})(Bn||(Bn={})),function(c){function e(r){return r!=null&&typeof r=="object"&&typeof r.x=="number"&&typeof r.y=="number"}c.isPointLike=e;function t(r){return r!=null&&Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}c.isPointData=t}(Bn||(Bn={})),function(c){function e(W,ne){return W==null||typeof W=="number"?new c(W,ne):t(W)}c.create=e;function t(W){return c.isPoint(W)?new c(W.x,W.y):Array.isArray(W)?new c(W[0],W[1]):new c(W.x,W.y)}c.clone=t;function r(W){return c.isPoint(W)?{x:W.x,y:W.y}:Array.isArray(W)?{x:W[0],y:W[1]}:{x:W.x,y:W.y}}c.toJSON=r;function a(W,ne,Te=new c){let Ke=Math.abs(W*Math.cos(ne)),Ue=Math.abs(W*Math.sin(ne));const At=t(Te),tn=gl.normalize(gl.toDeg(ne));return tn<90?Ue=-Ue:tn<180?(Ke=-Ke,Ue=-Ue):tn<270&&(Ke=-Ke),new c(At.x+Ke,At.y+Ue)}c.fromPolar=a;function u(W,ne=new c){const Te=t(W),Ke=t(ne),Ue=Te.x-Ke.x,At=Te.y-Ke.y;return new c(Math.sqrt(Ue*Ue+At*At),gl.toRad(Ke.theta(Te)))}c.toPolar=u;function p(W,ne){return W===ne?!0:W!=null&&ne!=null?W.x===ne.x&&W.y===ne.y:!1}c.equals=p;function b(W,ne){if(W==null&&ne!=null||W!=null&&ne==null||W!=null&&ne!=null&&W.length!==ne.length)return!1;if(W!=null&&ne!=null){for(let Te=0,Ke=W.length;Te<Ke;Te+=1)if(!p(W[Te],ne[Te]))return!1}return!0}c.equalPoints=b;function P(W,ne,Te,Ke){return new c(rm(W,ne),rm(Te,Ke))}c.random=P;function I(W,ne,Te){const Ke=gl.toRad(gl.normalize(-ne)),Ue=Math.sin(Ke),At=Math.cos(Ke);return z(W,At,Ue,Te)}c.rotate=I;function z(W,ne,Te,Ke=new c){const Ue=t(W),At=t(Ke),tn=Ue.x-At.x,pn=Ue.y-At.y,Kt=tn*ne-pn*Te,zn=pn*ne+tn*Te;return new c(Kt+At.x,zn+At.y)}c.rotateEx=z}(Bn||(Bn={}));class Oo extends Dh{constructor(e,t,r,a){super(),this.x=e==null?0:e,this.y=t==null?0:t,this.width=r==null?0:r,this.height=a==null?0:a}get[Symbol.toStringTag](){return Oo.toStringTag}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new Bn(this.x,this.y)}get topLeft(){return new Bn(this.x,this.y)}get topCenter(){return new Bn(this.x+this.width/2,this.y)}get topRight(){return new Bn(this.x+this.width,this.y)}get center(){return new Bn(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new Bn(this.x,this.y+this.height)}get bottomCenter(){return new Bn(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new Bn(this.x+this.width,this.y+this.height)}get corner(){return new Bn(this.x+this.width,this.y+this.height)}get rightMiddle(){return new Bn(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new Bn(this.x,this.y+this.height/2)}get topLine(){return new Ra(this.topLeft,this.topRight)}get rightLine(){return new Ra(this.topRight,this.bottomRight)}get bottomLine(){return new Ra(this.bottomLeft,this.bottomRight)}get leftLine(){return new Ra(this.topLeft,this.bottomLeft)}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(e){if(!e)return this.clone();const t=gl.toRad(e),r=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t)),u=this.width*a+this.height*r,p=this.width*r+this.height*a;return new Oo(this.x+(this.width-u)/2,this.y+(this.height-p)/2,u,p)}round(e=0){return this.x=Ah(this.x,e),this.y=Ah(this.y,e),this.width=Ah(this.width,e),this.height=Ah(this.height,e),this}add(e,t,r,a){const u=Oo.create(e,t,r,a),p=Math.min(this.x,u.x),b=Math.min(this.y,u.y),P=Math.max(this.x+this.width,u.x+u.width),I=Math.max(this.y+this.height,u.y+u.height);return this.x=p,this.y=b,this.width=P-p,this.height=I-b,this}update(e,t,r,a){const u=Oo.create(e,t,r,a);return this.x=u.x,this.y=u.y,this.width=u.width,this.height=u.height,this}inflate(e,t){const r=e,a=t!=null?t:e;return this.x-=r,this.y-=a,this.width+=2*r,this.height+=2*a,this}snapToGrid(e,t){const r=this.origin.snapToGrid(e,t),a=this.corner.snapToGrid(e,t);return this.x=r.x,this.y=r.y,this.width=a.x-r.x,this.height=a.y-r.y,this}translate(e,t){const r=Bn.create(e,t);return this.x+=r.x,this.y+=r.y,this}scale(e,t,r=new Bn){const a=this.origin.scale(e,t,r);return this.x=a.x,this.y=a.y,this.width*=e,this.height*=t,this}rotate(e,t=this.getCenter()){if(e!==0){const r=gl.toRad(e),a=Math.cos(r),u=Math.sin(r);let p=this.getOrigin(),b=this.getTopRight(),P=this.getBottomRight(),I=this.getBottomLeft();p=Bn.rotateEx(p,a,u,t),b=Bn.rotateEx(b,a,u,t),P=Bn.rotateEx(P,a,u,t),I=Bn.rotateEx(I,a,u,t);const z=new Oo(p.x,p.y,0,0);z.add(b.x,b.y,0,0),z.add(P.x,P.y,0,0),z.add(I.x,I.y,0,0),this.update(z)}return this}rotate90(){const e=(this.width-this.height)/2;this.x+=e,this.y-=e;const t=this.width;return this.width=this.height,this.height=t,this}moveAndExpand(e){const t=Oo.clone(e);return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this}getMaxScaleToFit(e,t=this.center){const r=Oo.clone(e),a=t.x,u=t.y;let p=1/0,b=1/0,P=1/0,I=1/0,z=1/0,W=1/0,ne=1/0,Te=1/0;const Ke=r.topLeft;Ke.x<a&&(p=(this.x-a)/(Ke.x-a)),Ke.y<u&&(z=(this.y-u)/(Ke.y-u));const Ue=r.bottomRight;Ue.x>a&&(b=(this.x+this.width-a)/(Ue.x-a)),Ue.y>u&&(W=(this.y+this.height-u)/(Ue.y-u));const At=r.topRight;At.x>a&&(P=(this.x+this.width-a)/(At.x-a)),At.y<u&&(ne=(this.y-u)/(At.y-u));const tn=r.bottomLeft;return tn.x<a&&(I=(this.x-a)/(tn.x-a)),tn.y>u&&(Te=(this.y+this.height-u)/(tn.y-u)),{sx:Math.min(p,b,P,I),sy:Math.min(z,W,ne,Te)}}getMaxUniformScaleToFit(e,t=this.center){const r=this.getMaxScaleToFit(e,t);return Math.min(r.sx,r.sy)}containsPoint(e,t){return im(this,Bn.create(e,t))}containsRect(e,t,r,a){const u=Oo.create(e,t,r,a),p=this.x,b=this.y,P=this.width,I=this.height,z=u.x,W=u.y,ne=u.width,Te=u.height;return P===0||I===0||ne===0||Te===0?!1:z>=p&&W>=b&&z+ne<=p+P&&W+Te<=b+I}intersectsWithLine(e){const t=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],r=[],a=[];return t.forEach(u=>{const p=e.intersectsWithLine(u);p!==null&&a.indexOf(p.toString())<0&&(r.push(p),a.push(p.toString()))}),r.length>0?r:null}intersectsWithLineFromCenterToPoint(e,t){const r=Bn.clone(e),a=this.center;let u=null;t!=null&&t!==0&&r.rotate(t,a);const p=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],b=new Ra(a,r);for(let P=p.length-1;P>=0;P-=1){const I=p[P].intersectsWithLine(b);if(I!==null){u=I;break}}return u&&t!=null&&t!==0&&u.rotate(-t,a),u}intersectsWithRect(e,t,r,a){const u=Oo.create(e,t,r,a);if(!this.isIntersectWithRect(u))return null;const p=this.origin,b=this.corner,P=u.origin,I=u.corner,z=Math.max(p.x,P.x),W=Math.max(p.y,P.y);return new Oo(z,W,Math.min(b.x,I.x)-z,Math.min(b.y,I.y)-W)}isIntersectWithRect(e,t,r,a){const u=Oo.create(e,t,r,a),p=this.origin,b=this.corner,P=u.origin,I=u.corner;return!(I.x<=p.x||I.y<=p.y||P.x>=b.x||P.y>=b.y)}normalize(){let e=this.x,t=this.y,r=this.width,a=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(t=this.y+this.height,a=-this.height),this.x=e,this.y=t,this.width=r,this.height=a,this}union(e){const t=Oo.clone(e),r=this.origin,a=this.corner,u=t.origin,p=t.corner,b=Math.min(r.x,u.x),P=Math.min(r.y,u.y),I=Math.max(a.x,p.x),z=Math.max(a.y,p.y);return new Oo(b,P,I-b,z-P)}getNearestSideToPoint(e){const t=Bn.clone(e),r=t.x-this.x,a=this.x+this.width-t.x,u=t.y-this.y,p=this.y+this.height-t.y;let b=r,P="left";return a<b&&(b=a,P="right"),u<b&&(b=u,P="top"),p<b&&(P="bottom"),P}getNearestPointToPoint(e){const t=Bn.clone(e);if(this.containsPoint(t))switch(this.getNearestSideToPoint(t)){case"right":return new Bn(this.x+this.width,t.y);case"left":return new Bn(this.x,t.y);case"bottom":return new Bn(t.x,this.y+this.height);case"top":return new Bn(t.x,this.y);default:break}return t.adhereToRect(this)}equals(e){return e!=null&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}clone(){return new Oo(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(c){c.toStringTag=`X6.Geometry.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&typeof a.x=="number"&&typeof a.y=="number"&&typeof a.width=="number"&&typeof a.height=="number"&&typeof a.inflate=="function"&&typeof a.moveAndExpand=="function"}c.isRectangle=e})(Oo||(Oo={})),function(c){function e(t){return t!=null&&typeof t=="object"&&typeof t.x=="number"&&typeof t.y=="number"&&typeof t.width=="number"&&typeof t.height=="number"}c.isRectangleLike=e}(Oo||(Oo={})),function(c){function e(p,b,P,I){return p==null||typeof p=="number"?new c(p,b,P,I):t(p)}c.create=e;function t(p){return c.isRectangle(p)?p.clone():Array.isArray(p)?new c(p[0],p[1],p[2],p[3]):new c(p.x,p.y,p.width,p.height)}c.clone=t;function r(p){return new c(0,0,p.width,p.height)}c.fromSize=r;function a(p,b){return new c(p.x,p.y,b.width,b.height)}c.fromPositionAndSize=a;function u(p){return new c(p.x-p.a,p.y-p.b,2*p.a,2*p.b)}c.fromEllipse=u}(Oo||(Oo={}));class Ra extends Dh{constructor(e,t,r,a){super(),typeof e=="number"&&typeof t=="number"?(this.start=new Bn(e,t),this.end=new Bn(r,a)):(this.start=Bn.create(e),this.end=Bn.create(t))}get[Symbol.toStringTag](){return Ra.toStringTag}get center(){return new Bn((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}getCenter(){return this.center}round(e=0){return this.start.round(e),this.end.round(e),this}translate(e,t){return typeof e=="number"?(this.start.translate(e,t),this.end.translate(e,t)):(this.start.translate(e),this.end.translate(e)),this}rotate(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this}scale(e,t,r){return this.start.scale(e,t,r),this.end.scale(e,t,r),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const e=this.start.x-this.end.x,t=this.start.y-this.end.y;return e*e+t*t}setLength(e){const t=this.length();if(!t)return this;const r=e/t;return this.scale(r,r,this.start)}parallel(e){const t=this.clone();if(!t.isDifferentiable())return t;const{start:r,end:a}=t,u=r.clone().rotate(270,a),p=a.clone().rotate(90,r);return r.move(p,e),a.move(u,e),t}vector(){return new Bn(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const e=new Bn(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)}bbox(){const e=Math.min(this.start.x,this.end.x),t=Math.min(this.start.y,this.end.y),r=Math.max(this.start.x,this.end.x),a=Math.max(this.start.y,this.end.y);return new Oo(e,t,r-e,a-t)}bearing(){return this.start.bearing(this.end)}closestPoint(e){return this.pointAt(this.closestPointNormalizedLength(e))}closestPointLength(e){return this.closestPointNormalizedLength(e)*this.length()}closestPointTangent(e){return this.tangentAt(this.closestPointNormalizedLength(e))}closestPointNormalizedLength(e){const t=this.vector().dot(new Ra(this.start,e).vector()),r=Math.min(1,Math.max(0,t/this.squaredLength()));return Number.isNaN(r)?0:r}pointAt(e){const t=this.start,r=this.end;return e<=0?t.clone():e>=1?r.clone():t.lerp(r,e)}pointAtLength(e){const t=this.start,r=this.end;let a=!0;e<0&&(a=!1,e=-e);const u=this.length();if(e>=u)return a?r.clone():t.clone();const p=(a?e:u-e)/u;return this.pointAt(p)}divideAt(e){const t=this.pointAt(e);return[new Ra(this.start,t),new Ra(t,this.end)]}divideAtLength(e){const t=this.pointAtLength(e);return[new Ra(this.start,t),new Ra(t,this.end)]}containsPoint(e){const t=this.start,r=this.end;if(t.cross(e,r)!==0)return!1;const a=this.length();return!(new Ra(t,e).length()>a||new Ra(e,r).length()>a)}intersect(e,t){const r=e.intersectsWithLine(this,t);return r?Array.isArray(r)?r:[r]:null}intersectsWithLine(e){const t=new Bn(this.end.x-this.start.x,this.end.y-this.start.y),r=new Bn(e.end.x-e.start.x,e.end.y-e.start.y),a=t.x*r.y-t.y*r.x,u=new Bn(e.start.x-this.start.x,e.start.y-this.start.y),p=u.x*r.y-u.y*r.x,b=u.x*t.y-u.y*t.x;if(a===0||p*a<0||b*a<0)return null;if(a>0){if(p>a||b>a)return null}else if(p<a||b<a)return null;return new Bn(this.start.x+p*t.x/a,this.start.y+p*t.y/a)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(e){const t=Bn.clone(e),r=this.start,a=this.end;return((a.x-r.x)*(t.y-r.y)-(a.y-r.y)*(t.x-r.x))/this.length()}pointSquaredDistance(e,t){const r=Bn.create(e,t);return this.closestPoint(r).squaredDistance(r)}pointDistance(e,t){const r=Bn.create(e,t);return this.closestPoint(r).distance(r)}tangentAt(e){if(!this.isDifferentiable())return null;const t=this.start,r=this.end,a=this.pointAt(e),u=new Ra(t,r);return u.translate(a.x-t.x,a.y-t.y),u}tangentAtLength(e){if(!this.isDifferentiable())return null;const t=this.start,r=this.end,a=this.pointAtLength(e),u=new Ra(t,r);return u.translate(a.x-t.x,a.y-t.y),u}relativeCcw(e,t){const r=Bn.create(e,t);let a=r.x-this.start.x,u=r.y-this.start.y;const p=this.end.x-this.start.x,b=this.end.y-this.start.y;let P=a*b-u*p;return P===0&&(P=a*p+u*b,P>0&&(a-=p,u-=b,P=a*p+u*b,P<0&&(P=0))),P<0?-1:P>0?1:0}equals(e){return e!=null&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y}clone(){return new Ra(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}(function(c){c.toStringTag=`X6.Geometry.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;try{if((r==null||r===c.toStringTag)&&Bn.isPoint(a.start)&&Bn.isPoint(a.end)&&typeof a.vector=="function"&&typeof a.bearing=="function"&&typeof a.parallel=="function"&&typeof a.intersect=="function")return!0}catch(u){return!1}return!1}c.isLine=e})(Ra||(Ra={}));class gd extends Dh{constructor(e,t,r,a){super(),this.x=e==null?0:e,this.y=t==null?0:t,this.a=r==null?0:r,this.b=a==null?0:a}get[Symbol.toStringTag](){return gd.toStringTag}get center(){return new Bn(this.x,this.y)}bbox(){return Oo.fromEllipse(this)}getCenter(){return this.center}inflate(e,t){const r=e,a=t!=null?t:e;return this.a+=2*r,this.b+=2*a,this}normalizedDistance(e,t){const r=Bn.create(e,t),a=r.x-this.x,u=r.y-this.y,p=this.a,b=this.b;return a*a/(p*p)+u*u/(b*b)}containsPoint(e,t){return this.normalizedDistance(e,t)<=1}intersectsWithLine(e){const t=[],r=this.a,a=this.b,u=e.start,p=e.end,b=e.vector(),P=u.diff(new Bn(this.x,this.y)),I=new Bn(b.x/(r*r),b.y/(a*a)),z=new Bn(P.x/(r*r),P.y/(a*a)),W=b.dot(I),ne=b.dot(z),Te=P.dot(z)-1,Ke=ne*ne-W*Te;if(Ke<0)return null;if(Ke>0){const Ue=Math.sqrt(Ke),At=(-ne-Ue)/W,tn=(-ne+Ue)/W;if((At<0||At>1)&&(tn<0||tn>1))return null;At>=0&&At<=1&&t.push(u.lerp(p,At)),tn>=0&&tn<=1&&t.push(u.lerp(p,tn))}else{const Ue=-ne/W;if(Ue>=0&&Ue<=1)t.push(u.lerp(p,Ue));else return null}return t}intersectsWithLineFromCenterToPoint(e,t=0){const r=Bn.clone(e);t&&r.rotate(t,this.getCenter());const a=r.x-this.x,u=r.y-this.y;let p;if(a===0)return p=this.bbox().getNearestPointToPoint(r),t?p.rotate(-t,this.getCenter()):p;const b=u/a,P=b*b,I=this.a*this.a,z=this.b*this.b;let W=Math.sqrt(1/(1/I+P/z));W=a<0?-W:W;const ne=b*W;return p=new Bn(this.x+W,this.y+ne),t?p.rotate(-t,this.getCenter()):p}tangentTheta(e){const t=Bn.clone(e),r=t.x,a=t.y,u=this.a,p=this.b,b=this.bbox().center,P=b.x,I=b.y,z=30,W=r>b.x+u/2,ne=r<b.x-u/2;let Te,Ke;return W||ne?(Ke=r>b.x?a-z:a+z,Te=u*u/(r-P)-u*u*(a-I)*(Ke-I)/(p*p*(r-P))+P):(Te=a>b.y?r+z:r-z,Ke=p*p/(a-I)-p*p*(r-P)*(Te-P)/(u*u*(a-I))+I),new Bn(Te,Ke).theta(t)}scale(e,t){return this.a*=e,this.b*=t,this}rotate(e,t){const r=Oo.fromEllipse(this);r.rotate(e,t);const a=gd.fromRect(r);return this.a=a.a,this.b=a.b,this.x=a.x,this.y=a.y,this}translate(e,t){const r=Bn.create(e,t);return this.x+=r.x,this.y+=r.y,this}equals(e){return e!=null&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b}clone(){return new gd(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(c){c.toStringTag=`X6.Geometry.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&typeof a.x=="number"&&typeof a.y=="number"&&typeof a.a=="number"&&typeof a.b=="number"&&typeof a.inflate=="function"&&typeof a.normalizedDistance=="function"}c.isEllipse=e})(gd||(gd={})),function(c){function e(a,u,p,b){return a==null||typeof a=="number"?new c(a,u,p,b):t(a)}c.create=e;function t(a){return c.isEllipse(a)?a.clone():Array.isArray(a)?new c(a[0],a[1],a[2],a[3]):new c(a.x,a.y,a.a,a.b)}c.parse=t;function r(a){const u=a.center;return new c(u.x,u.y,a.width/2,a.height/2)}c.fromRect=r}(gd||(gd={}));class du extends Dh{constructor(e){if(super(),e!=null){if(typeof e=="string")return du.parse(e);this.points=e.map(t=>Bn.create(t))}else this.points=[]}get[Symbol.toStringTag](){return du.toStringTag}get start(){return this.points.length===0?null:this.points[0]}get end(){return this.points.length===0?null:this.points[this.points.length-1]}scale(e,t,r=new Bn){return this.points.forEach(a=>a.scale(e,t,r)),this}rotate(e,t){return this.points.forEach(r=>r.rotate(e,t)),this}translate(e,t){const r=Bn.create(e,t);return this.points.forEach(a=>a.translate(r.x,r.y)),this}bbox(){if(this.points.length===0)return new Oo;let e=1/0,t=-1/0,r=1/0,a=-1/0;const u=this.points;for(let p=0,b=u.length;p<b;p+=1){const P=u[p],I=P.x,z=P.y;I<e&&(e=I),I>t&&(t=I),z<r&&(r=z),z>a&&(a=z)}return new Oo(e,r,t-e,a-r)}closestPoint(e){const t=this.closestPointLength(e);return this.pointAtLength(t)}closestPointLength(e){const t=this.points,r=t.length;if(r===0||r===1)return 0;let a=0,u=0,p=1/0;for(let b=0,P=r-1;b<P;b+=1){const I=new Ra(t[b],t[b+1]),z=I.length(),W=I.closestPointNormalizedLength(e),Te=I.pointAt(W).squaredDistance(e);Te<p&&(p=Te,u=a+W*z),a+=z}return u}closestPointNormalizedLength(e){const t=this.closestPointLength(e);if(t===0)return 0;const r=this.length();return r===0?0:t/r}closestPointTangent(e){const t=this.closestPointLength(e);return this.tangentAtLength(t)}containsPoint(e){if(this.points.length===0)return!1;const t=Bn.clone(e),r=t.x,a=t.y,u=this.points,p=u.length;let b=p-1,P=0;for(let I=0;I<p;I+=1){const z=u[b],W=u[I];if(t.equals(z))return!0;const ne=new Ra(z,W);if(ne.containsPoint(e))return!0;if(a<=z.y&&a>W.y||a>z.y&&a<=W.y){const Te=z.x-r>W.x-r?z.x-r:W.x-r;if(Te>=0){const Ke=new Bn(r+Te,a),Ue=new Ra(e,Ke);ne.intersectsWithLine(Ue)&&(P+=1)}}b=I}return P%2===1}intersectsWithLine(e){const t=[];for(let r=0,a=this.points.length-1;r<a;r+=1){const u=this.points[r],p=this.points[r+1],b=e.intersectsWithLine(new Ra(u,p));b&&t.push(b)}return t.length>0?t:null}isDifferentiable(){for(let e=0,t=this.points.length-1;e<t;e+=1){const r=this.points[e],a=this.points[e+1];if(new Ra(r,a).isDifferentiable())return!0}return!1}length(){let e=0;for(let t=0,r=this.points.length-1;t<r;t+=1){const a=this.points[t],u=this.points[t+1];e+=a.distance(u)}return e}pointAt(e){const t=this.points,r=t.length;if(r===0)return null;if(r===1||e<=0)return t[0].clone();if(e>=1)return t[r-1].clone();const u=this.length()*e;return this.pointAtLength(u)}pointAtLength(e){const t=this.points,r=t.length;if(r===0)return null;if(r===1)return t[0].clone();let a=!0;e<0&&(a=!1,e=-e);let u=0;for(let b=0,P=r-1;b<P;b+=1){const I=a?b:P-1-b,z=t[I],W=t[I+1],ne=new Ra(z,W),Te=z.distance(W);if(e<=u+Te)return ne.pointAtLength((a?1:-1)*(e-u));u+=Te}return(a?t[r-1]:t[0]).clone()}tangentAt(e){const r=this.points.length;if(r===0||r===1)return null;e<0&&(e=0),e>1&&(e=1);const u=this.length()*e;return this.tangentAtLength(u)}tangentAtLength(e){const t=this.points,r=t.length;if(r===0||r===1)return null;let a=!0;e<0&&(a=!1,e=-e);let u,p=0;for(let b=0,P=r-1;b<P;b+=1){const I=a?b:P-1-b,z=t[I],W=t[I+1],ne=new Ra(z,W),Te=z.distance(W);if(ne.isDifferentiable()){if(e<=p+Te)return ne.tangentAtLength((a?1:-1)*(e-p));u=ne}p+=Te}if(u){const b=a?1:0;return u.tangentAt(b)}return null}simplify(e={}){const t=this.points;if(t.length<3)return this;const r=e.threshold||0;let a=0;for(;t[a+2];){const u=a,p=a+1,b=a+2,P=t[u],I=t[p],z=t[b];new Ra(P,z).closestPoint(I).distance(I)<=r?t.splice(p,1):a+=1}return this}toHull(){const e=this.points,t=e.length;if(t===0)return new du;let r=e[0];for(let ne=1;ne<t;ne+=1)(e[ne].y<r.y||e[ne].y===r.y&&e[ne].x>r.x)&&(r=e[ne]);const a=[];for(let ne=0;ne<t;ne+=1){let Te=r.theta(e[ne]);Te===0&&(Te=360),a.push([e[ne],ne,Te])}if(a.sort((ne,Te)=>{let Ke=ne[2]-Te[2];return Ke===0&&(Ke=Te[1]-ne[1]),Ke}),a.length>2){const ne=a[a.length-1];a.unshift(ne)}const u={},p=[],b=ne=>`${ne[0].toString()}@${ne[1]}`;for(;a.length!==0;){const ne=a.pop(),Te=ne[0];if(u[b(ne)])continue;let Ke=!1;for(;!Ke;)if(p.length<2)p.push(ne),Ke=!0;else{const Ue=p.pop(),At=Ue[0],tn=p.pop(),pn=tn[0],Kt=pn.cross(At,Te);if(Kt<0)p.push(tn),p.push(Ue),p.push(ne),Ke=!0;else if(Kt===0){const gr=At.angleBetween(pn,Te);Math.abs(gr-180)<1e-10||At.equals(Te)||pn.equals(At)?(u[b(Ue)]=At,p.push(tn)):Math.abs((gr+1)%360-1)<1e-10&&(p.push(tn),a.push(Ue))}else u[b(Ue)]=At,p.push(tn)}}p.length>2&&p.pop();let P,I=-1;for(let ne=0,Te=p.length;ne<Te;ne+=1){const Ke=p[ne][1];(P===void 0||Ke<P)&&(P=Ke,I=ne)}let z=[];if(I>0){const ne=p.slice(I),Te=p.slice(0,I);z=ne.concat(Te)}else z=p;const W=[];for(let ne=0,Te=z.length;ne<Te;ne+=1)W.push(z[ne][0]);return new du(W)}equals(e){return e==null||e.points.length!==this.points.length?!1:e.points.every((t,r)=>t.equals(this.points[r]))}clone(){return new du(this.points.map(e=>e.clone()))}toJSON(){return this.points.map(e=>e.toJSON())}serialize(){return this.points.map(e=>`${e.x}, ${e.y}`).join(" ")}}(function(c){c.toStringTag=`X6.Geometry.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&typeof a.toHull=="function"&&typeof a.simplify=="function"}c.isPolyline=e})(du||(du={})),function(c){function e(t){const r=t.trim();if(r==="")return new c;const a=[],u=r.split(/\s*,\s*|\s+/);for(let p=0,b=u.length;p<b;p+=2)a.push({x:+u[p],y:+u[p+1]});return new c(a)}c.parse=e}(du||(du={}));class hu extends Dh{constructor(e,t,r,a){super(),this.PRECISION=3,this.start=Bn.create(e),this.controlPoint1=Bn.create(t),this.controlPoint2=Bn.create(r),this.end=Bn.create(a)}get[Symbol.toStringTag](){return hu.toStringTag}bbox(){const e=this.start,t=this.controlPoint1,r=this.controlPoint2,a=this.end,u=e.x,p=e.y,b=t.x,P=t.y,I=r.x,z=r.y,W=a.x,ne=a.y,Te=[],Ke=[],Ue=[[],[]];let At,tn,pn,Kt,zn,gr,ii,si;for(let ys=0;ys<2;ys+=1){if(ys===0?(tn=6*u-12*b+6*I,At=-3*u+9*b-9*I+3*W,pn=3*b-3*u):(tn=6*p-12*P+6*z,At=-3*p+9*P-9*z+3*ne,pn=3*P-3*p),Math.abs(At)<1e-12){if(Math.abs(tn)<1e-12)continue;Kt=-pn/tn,Kt>0&&Kt<1&&Ke.push(Kt);continue}ii=tn*tn-4*pn*At,si=Math.sqrt(ii),!(ii<0)&&(zn=(-tn+si)/(2*At),zn>0&&zn<1&&Ke.push(zn),gr=(-tn-si)/(2*At),gr>0&&gr<1&&Ke.push(gr))}let Ri,zo,ro,po=Ke.length;const Yo=po;for(;po;)po-=1,Kt=Ke[po],ro=1-Kt,Ri=ro*ro*ro*u+3*ro*ro*Kt*b+3*ro*Kt*Kt*I+Kt*Kt*Kt*W,Ue[0][po]=Ri,zo=ro*ro*ro*p+3*ro*ro*Kt*P+3*ro*Kt*Kt*z+Kt*Kt*Kt*ne,Ue[1][po]=zo,Te[po]={X:Ri,Y:zo};Ke[Yo]=0,Ke[Yo+1]=1,Te[Yo]={X:u,Y:p},Te[Yo+1]={X:W,Y:ne},Ue[0][Yo]=u,Ue[1][Yo]=p,Ue[0][Yo+1]=W,Ue[1][Yo+1]=ne,Ke.length=Yo+2,Ue[0].length=Yo+2,Ue[1].length=Yo+2,Te.length=Yo+2;const ks=Math.min.apply(null,Ue[0]),Fs=Math.min.apply(null,Ue[1]),Ei=Math.max.apply(null,Ue[0]),Po=Math.max.apply(null,Ue[1]);return new Oo(ks,Fs,Ei-ks,Po-Fs)}closestPoint(e,t={}){return this.pointAtT(this.closestPointT(e,t))}closestPointLength(e,t={}){const r=this.getOptions(t);return this.lengthAtT(this.closestPointT(e,r),r)}closestPointNormalizedLength(e,t={}){const r=this.getOptions(t),a=this.closestPointLength(e,r);if(!a)return 0;const u=this.length(r);return u===0?0:a/u}closestPointT(e,t={}){const r=this.getPrecision(t),a=this.getDivisions(t),u=Math.pow(10,-r);let p=null,b=0,P=0,I=0,z=0,W=0,ne=null;const Te=a.length;let Ke=Te>0?1/Te:0;for(a.forEach((Ue,At)=>{const tn=Ue.start.distance(e),pn=Ue.end.distance(e),Kt=tn+pn;(ne==null||Kt<ne)&&(p=Ue,b=At*Ke,P=(At+1)*Ke,I=tn,z=pn,ne=Kt,W=Ue.endpointDistance())});;){const Ue=I?Math.abs(I-z)/I:0,At=z!=null?Math.abs(I-z)/z:0,tn=Ue<u||At<u,pn=I?I<W*u:!0,Kt=z?z<W*u:!0;if(tn||(pn||Kt))return I<=z?b:P;const gr=p.divide(.5);Ke/=2;const ii=gr[0].start.distance(e),si=gr[0].end.distance(e),Ri=ii+si,zo=gr[1].start.distance(e),ro=gr[1].end.distance(e),po=zo+ro;Ri<=po?(p=gr[0],P-=Ke,I=ii,z=si):(p=gr[1],b+=Ke,I=zo,z=ro)}}closestPointTangent(e,t={}){return this.tangentAtT(this.closestPointT(e,t))}containsPoint(e,t={}){return this.toPolyline(t).containsPoint(e)}divideAt(e,t={}){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);const r=this.tAt(e,t);return this.divideAtT(r)}divideAtLength(e,t={}){const r=this.tAtLength(e,t);return this.divideAtT(r)}divide(e){return this.divideAtT(e)}divideAtT(e){const t=this.start,r=this.controlPoint1,a=this.controlPoint2,u=this.end;if(e<=0)return[new hu(t,t,t,t),new hu(t,r,a,u)];if(e>=1)return[new hu(t,r,a,u),new hu(u,u,u,u)];const p=this.getSkeletonPoints(e),b=p.startControlPoint1,P=p.startControlPoint2,I=p.divider,z=p.dividerControlPoint1,W=p.dividerControlPoint2;return[new hu(t,b,P,I),new hu(I,z,W,u)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(e){const t=this.start,r=this.controlPoint1,a=this.controlPoint2,u=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:a.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:a.clone(),divider:u.clone(),dividerControlPoint1:u.clone(),dividerControlPoint2:u.clone()};const p=new Ra(t,r).pointAt(e),b=new Ra(r,a).pointAt(e),P=new Ra(a,u).pointAt(e),I=new Ra(p,b).pointAt(e),z=new Ra(b,P).pointAt(e),W=new Ra(I,z).pointAt(e);return{startControlPoint1:p,startControlPoint2:I,divider:W,dividerControlPoint1:z,dividerControlPoint2:P}}getSubdivisions(e={}){const t=this.getPrecision(e);let r=[new hu(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(t===0)return r;let a=this.endpointDistance();const u=Math.pow(10,-t);let p=0;for(;;){p+=1;const b=[];r.forEach(z=>{const W=z.divide(.5);b.push(W[0],W[1])});const P=b.reduce((z,W)=>z+W.endpointDistance(),0),I=P!==0?(P-a)/P:0;if(p>1&&I<u)return b;r=b,a=P}}length(e={}){return this.getDivisions(e).reduce((r,a)=>r+a.endpointDistance(),0)}lengthAtT(e,t={}){if(e<=0)return 0;const r=t.precision===void 0?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:r})}pointAt(e,t={}){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const r=this.tAt(e,t);return this.pointAtT(r)}pointAtLength(e,t={}){const r=this.tAtLength(e,t);return this.pointAtT(r)}pointAtT(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider}isDifferentiable(){const e=this.start,t=this.controlPoint1,r=this.controlPoint2,a=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(a))}tangentAt(e,t={}){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);const r=this.tAt(e,t);return this.tangentAtT(r)}tangentAtLength(e,t={}){if(!this.isDifferentiable())return null;const r=this.tAtLength(e,t);return this.tangentAtT(r)}tangentAtT(e){if(!this.isDifferentiable())return null;e<0&&(e=0),e>1&&(e=1);const t=this.getSkeletonPoints(e),r=t.startControlPoint2,a=t.dividerControlPoint1,u=t.divider,p=new Ra(r,a);return p.translate(u.x-r.x,u.y-r.y),p}getPrecision(e={}){return e.precision==null?this.PRECISION:e.precision}getDivisions(e={}){if(e.subdivisions!=null)return e.subdivisions;const t=this.getPrecision(e);return this.getSubdivisions({precision:t})}getOptions(e={}){const t=this.getPrecision(e),r=this.getDivisions(e);return{precision:t,subdivisions:r}}tAt(e,t={}){if(e<=0)return 0;if(e>=1)return 1;const r=this.getOptions(t),u=this.length(r)*e;return this.tAtLength(u,r)}tAtLength(e,t={}){let r=!0;e<0&&(r=!1,e=-e);const a=this.getPrecision(t),u=this.getDivisions(t),p={precision:a,subdivisions:u};let b=null,P,I,z=0,W=0,ne=0;const Te=u.length;let Ke=Te>0?1/Te:0;for(let tn=0;tn<Te;tn+=1){const pn=r?tn:Te-1-tn,Kt=u[tn],zn=Kt.endpointDistance();if(e<=ne+zn){b=Kt,P=pn*Ke,I=(pn+1)*Ke,z=r?e-ne:zn+ne-e,W=r?zn+ne-e:e-ne;break}ne+=zn}if(b==null)return r?1:0;const Ue=this.length(p),At=Math.pow(10,-a);for(;;){let tn;if(tn=Ue!==0?z/Ue:0,tn<At)return P;if(tn=Ue!==0?W/Ue:0,tn<At)return I;let pn,Kt;const zn=b.divide(.5);Ke/=2;const gr=zn[0].endpointDistance(),ii=zn[1].endpointDistance();z<=gr?(b=zn[0],I-=Ke,pn=z,Kt=gr-pn):(b=zn[1],P+=Ke,pn=z-gr,Kt=ii-pn),z=pn,W=Kt}}toPoints(e={}){const t=this.getDivisions(e),r=[t[0].start.clone()];return t.forEach(a=>r.push(a.end.clone())),r}toPolyline(e={}){return new du(this.toPoints(e))}scale(e,t,r){return this.start.scale(e,t,r),this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this}rotate(e,t){return this.start.rotate(e,t),this.controlPoint1.rotate(e,t),this.controlPoint2.rotate(e,t),this.end.rotate(e,t),this}translate(e,t){return typeof e=="number"?(this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t)):(this.start.translate(e),this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return e!=null&&this.start.equals(e.start)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)&&this.end.equals(e.end)}clone(){return new hu(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(c){c.toStringTag=`X6.Geometry.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;try{if((r==null||r===c.toStringTag)&&Bn.isPoint(a.start)&&Bn.isPoint(a.controlPoint1)&&Bn.isPoint(a.controlPoint2)&&Bn.isPoint(a.end)&&typeof a.toPoints=="function"&&typeof a.toPolyline=="function")return!0}catch(u){return!1}return!1}c.isCurve=e})(hu||(hu={})),function(c){function e(a){const u=a.length,p=[],b=[];let P=2;p[0]=a[0]/P;for(let I=1;I<u;I+=1)b[I]=1/P,P=(I<u-1?4:3.5)-b[I],p[I]=(a[I]-p[I-1])/P;for(let I=1;I<u;I+=1)p[u-I-1]-=b[u-I]*p[u-I];return p}function t(a){const u=a.map(ne=>Bn.clone(ne)),p=[],b=[],P=u.length-1;if(P===1)return p[0]=new Bn((2*u[0].x+u[1].x)/3,(2*u[0].y+u[1].y)/3),b[0]=new Bn(2*p[0].x-u[0].x,2*p[0].y-u[0].y),[p,b];const I=[];for(let ne=1;ne<P-1;ne+=1)I[ne]=4*u[ne].x+2*u[ne+1].x;I[0]=u[0].x+2*u[1].x,I[P-1]=(8*u[P-1].x+u[P].x)/2;const z=e(I);for(let ne=1;ne<P-1;ne+=1)I[ne]=4*u[ne].y+2*u[ne+1].y;I[0]=u[0].y+2*u[1].y,I[P-1]=(8*u[P-1].y+u[P].y)/2;const W=e(I);for(let ne=0;ne<P;ne+=1)p.push(new Bn(z[ne],W[ne])),ne<P-1?b.push(new Bn(2*u[ne+1].x-z[ne+1],2*u[ne+1].y-W[ne+1])):b.push(new Bn((u[P].x+z[P-1])/2,(u[P].y+W[P-1])/2));return[p,b]}function r(a){if(a==null||Array.isArray(a)&&a.length<2)throw new Error("At least 2 points are required");const u=t(a),p=[];for(let b=0,P=u[0].length;b<P;b+=1){const I=new Bn(u[0][b].x,u[0][b].y),z=new Bn(u[1][b].x,u[1][b].y);p.push(new c(a[b],I,z,a[b+1]))}return p}c.throughPoints=r}(hu||(hu={}));class vv extends Dh{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(this.previousSegment==null)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(e,t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(e,t){if(e<=0)return 0;const r=this.length();return e>=1?r:r*e}divideAtT(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class Mf extends vv{constructor(e,t){super(),Ra.isLine(e)?this.endPoint=e.end.clone().round(2):this.endPoint=Bn.create(e,t).round(2)}get type(){return"L"}get line(){return new Ra(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const t=this.line.divideAt(e);return[new Mf(t[0]),new Mf(t[1])]}divideAtLength(e){const t=this.line.divideAtLength(e);return[new Mf(t[0]),new Mf(t[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return this.previousSegment==null?!1:!this.start.equals(this.end)}clone(){return new Mf(this.end)}scale(e,t,r){return this.end.scale(e,t,r),this}rotate(e,t){return this.end.rotate(e,t),this}translate(e,t){return typeof e=="number"?this.end.translate(e,t):this.end.translate(e),this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}(function(c){function e(...t){const r=t.length,a=t[0];if(Ra.isLine(a))return new c(a);if(Bn.isPointLike(a))return r===1?new c(a):t.map(p=>new c(p));if(r===2)return new c(+t[0],+t[1]);const u=[];for(let p=0;p<r;p+=2){const b=+t[p],P=+t[p+1];u.push(new c(b,P))}return u}c.create=e})(Mf||(Mf={}));class Fp extends vv{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new Ra(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const t=this.line.divideAt(e);return[t[1].isDifferentiable()?new Mf(t[0]):this.clone(),new Mf(t[1])]}divideAtLength(e){const t=this.line.divideAtLength(e);return[t[1].isDifferentiable()?new Mf(t[0]):this.clone(),new Mf(t[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)}scale(){return this}rotate(){return this}translate(){return this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}clone(){return new Fp}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}(function(c){function e(){return new c}c.create=e})(Fp||(Fp={}));class Gp extends vv{constructor(e,t){super(),this.isVisible=!1,this.isSubpathStart=!0,Ra.isLine(e)||hu.isCurve(e)?this.endPoint=e.end.clone().round(2):this.endPoint=Bn.create(e,t).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(e,t,r){return this.end.scale(e,t,r),this}rotate(e,t){return this.end.rotate(e,t),this}translate(e,t){return typeof e=="number"?this.end.translate(e,t):this.end.translate(e),this}clone(){return new Gp(this.end)}equals(e){return this.type===e.type&&this.end.equals(e.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}(function(c){function e(...t){const r=t.length,a=t[0];if(Ra.isLine(a))return new c(a);if(hu.isCurve(a))return new c(a);if(Bn.isPointLike(a)){if(r===1)return new c(a);const p=[];for(let b=0;b<r;b+=1)b===0?p.push(new c(t[b])):p.push(new Mf(t[b]));return p}if(r===2)return new c(+t[0],+t[1]);const u=[];for(let p=0;p<r;p+=2){const b=+t[p],P=+t[p+1];p===0?u.push(new c(b,P)):u.push(new Mf(b,P))}return u}c.create=e})(Gp||(Gp={}));class Ff extends vv{constructor(e,t,r,a,u,p){super(),hu.isCurve(e)?(this.controlPoint1=e.controlPoint1.clone().round(2),this.controlPoint2=e.controlPoint2.clone().round(2),this.endPoint=e.end.clone().round(2)):typeof e=="number"?(this.controlPoint1=new Bn(e,t).round(2),this.controlPoint2=new Bn(r,a).round(2),this.endPoint=new Bn(u,p).round(2)):(this.controlPoint1=Bn.create(e).round(2),this.controlPoint2=Bn.create(t).round(2),this.endPoint=Bn.create(r).round(2))}get type(){return"C"}get curve(){return new hu(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(e){return this.curve.closestPoint(e)}closestPointLength(e){return this.curve.closestPointLength(e)}closestPointNormalizedLength(e){return this.curve.closestPointNormalizedLength(e)}closestPointTangent(e){return this.curve.closestPointTangent(e)}length(){return this.curve.length()}divideAt(e,t={}){const r=this.curve.divideAt(e,t);return[new Ff(r[0]),new Ff(r[1])]}divideAtLength(e,t={}){const r=this.curve.divideAtLength(e,t);return[new Ff(r[0]),new Ff(r[1])]}divideAtT(e){const t=this.curve.divideAtT(e);return[new Ff(t[0]),new Ff(t[1])]}getSubdivisions(){return[]}pointAt(e){return this.curve.pointAt(e)}pointAtLength(e){return this.curve.pointAtLength(e)}tangentAt(e){return this.curve.tangentAt(e)}tangentAtLength(e){return this.curve.tangentAtLength(e)}isDifferentiable(){if(!this.previousSegment)return!1;const e=this.start,t=this.controlPoint1,r=this.controlPoint2,a=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(a))}scale(e,t,r){return this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this}rotate(e,t){return this.controlPoint1.rotate(e,t),this.controlPoint2.rotate(e,t),this.end.rotate(e,t),this}translate(e,t){return typeof e=="number"?(this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t)):(this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return this.start.equals(e.start)&&this.end.equals(e.end)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)}clone(){return new Ff(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.controlPoint1,t=this.controlPoint2,r=this.end;return[this.type,e.x,e.y,t.x,t.y,r.x,r.y].join(" ")}}(function(c){function e(...t){const r=t.length,a=t[0];if(hu.isCurve(a))return new c(a);if(Bn.isPointLike(a)){if(r===3)return new c(t[0],t[1],t[2]);const p=[];for(let b=0;b<r;b+=3)p.push(new c(t[b],t[b+1],t[b+2]));return p}if(r===6)return new c(t[0],t[1],t[2],t[3],t[4],t[5]);const u=[];for(let p=0;p<r;p+=6)u.push(new c(t[p],t[p+1],t[p+2],t[p+3],t[p+4],t[p+5]));return u}c.create=e})(Ff||(Ff={}));function Bp(c,e,t){return{x:c*Math.cos(t)-e*Math.sin(t),y:c*Math.sin(t)+e*Math.cos(t)}}function s0(c,e,t,r,a,u){const p=.3333333333333333,b=2/3;return[p*c+b*t,p*e+b*r,p*a+b*t,p*u+b*r,a,u]}function l0(c,e,t,r,a,u,p,b,P,I){const z=Math.PI*120/180,W=Math.PI/180*(+a||0);let ne=[],Te,Ke,Ue,At,tn;if(I)Ke=I[0],Ue=I[1],At=I[2],tn=I[3];else{Te=Bp(c,e,-W),c=Te.x,e=Te.y,Te=Bp(b,P,-W),b=Te.x,P=Te.y;const Fs=(c-b)/2,Ei=(e-P)/2;let Po=Fs*Fs/(t*t)+Ei*Ei/(r*r);Po>1&&(Po=Math.sqrt(Po),t=Po*t,r=Po*r);const ys=t*t,yc=r*r,zc=(u===p?-1:1)*Math.sqrt(Math.abs((ys*yc-ys*Ei*Ei-yc*Fs*Fs)/(ys*Ei*Ei+yc*Fs*Fs)));At=zc*t*Ei/r+(c+b)/2,tn=zc*-r*Fs/t+(e+P)/2,Ke=Math.asin((e-tn)/r),Ue=Math.asin((P-tn)/r),Ke=c<At?Math.PI-Ke:Ke,Ue=b<At?Math.PI-Ue:Ue,Ke<0&&(Ke=Math.PI*2+Ke),Ue<0&&(Ue=Math.PI*2+Ue),p&&Ke>Ue&&(Ke-=Math.PI*2),!p&&Ue>Ke&&(Ue-=Math.PI*2)}let pn=Ue-Ke;if(Math.abs(pn)>z){const Fs=Ue,Ei=b,Po=P;Ue=Ke+z*(p&&Ue>Ke?1:-1),b=At+t*Math.cos(Ue),P=tn+r*Math.sin(Ue),ne=l0(b,P,t,r,a,0,p,Ei,Po,[Ue,Fs,At,tn])}pn=Ue-Ke;const Kt=Math.cos(Ke),zn=Math.sin(Ke),gr=Math.cos(Ue),ii=Math.sin(Ue),si=Math.tan(pn/4),Ri=4/3*(t*si),zo=4/3*(r*si),ro=[c,e],po=[c+Ri*zn,e-zo*Kt],Yo=[b+Ri*ii,P-zo*gr],ks=[b,P];if(po[0]=2*ro[0]-po[0],po[1]=2*ro[1]-po[1],I)return[po,Yo,ks].concat(ne);{ne=[po,Yo,ks].concat(ne).join().split(",");const Fs=[],Ei=ne.length;for(let Po=0;Po<Ei;Po+=1)Fs[Po]=Po%2?Bp(+ne[Po-1],+ne[Po],W).y:Bp(+ne[Po],+ne[Po+1],W).x;return Fs}}function c0(c){if(!c)return null;const e=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,t=new RegExp(`([a-z])[${e},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${e}]*,?[${e}]*)+)`,"ig"),r=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${e}]*,?[${e}]*`,"ig"),a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},u=[];return c.replace(t,(p,b,P)=>{const I=[];let z=b.toLowerCase();P.replace(r,(ne,Te)=>(Te&&I.push(+Te),ne)),z==="m"&&I.length>2&&(u.push([b,...I.splice(0,2)]),z="l",b=b==="m"?"l":"L");const W=a[z];for(;I.length>=W&&(u.push([b,...I.splice(0,W)]),!!W););return p}),u}function om(c){const e=c0(c);if(!e||!e.length)return[["M",0,0]];let t=0,r=0,a=0,u=0;const p=[];for(let b=0,P=e.length;b<P;b+=1){const I=[];p.push(I);const z=e[b],W=z[0];if(W!==W.toUpperCase())switch(I[0]=W.toUpperCase(),I[0]){case"A":I[1]=z[1],I[2]=z[2],I[3]=z[3],I[4]=z[4],I[5]=z[5],I[6]=+z[6]+t,I[7]=+z[7]+r;break;case"V":I[1]=+z[1]+r;break;case"H":I[1]=+z[1]+t;break;case"M":a=+z[1]+t,u=+z[2]+r;for(let ne=1,Te=z.length;ne<Te;ne+=1)I[ne]=+z[ne]+(ne%2?t:r);break;default:for(let ne=1,Te=z.length;ne<Te;ne+=1)I[ne]=+z[ne]+(ne%2?t:r);break}else for(let ne=0,Te=z.length;ne<Te;ne+=1)I[ne]=z[ne];switch(I[0]){case"Z":t=+a,r=+u;break;case"H":t=I[1];break;case"V":r=I[1];break;case"M":a=I[I.length-2],u=I[I.length-1],t=I[I.length-2],r=I[I.length-1];break;default:t=I[I.length-2],r=I[I.length-1];break}}return p}function am(c){const e=om(c),t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function r(P,I,z){let W,ne;if(!P)return["C",I.x,I.y,I.x,I.y,I.x,I.y];switch(P[0]in{T:1,Q:1}||(I.qx=null,I.qy=null),P[0]){case"M":I.X=P[1],I.Y=P[2];break;case"A":return parseFloat(P[1])===0||parseFloat(P[2])===0?["L",P[6],P[7]]:["C"].concat(l0.apply(0,[I.x,I.y].concat(P.slice(1))));case"S":return z==="C"||z==="S"?(W=I.x*2-I.bx,ne=I.y*2-I.by):(W=I.x,ne=I.y),["C",W,ne].concat(P.slice(1));case"T":return z==="Q"||z==="T"?(I.qx=I.x*2-I.qx,I.qy=I.y*2-I.qy):(I.qx=I.x,I.qy=I.y),["C"].concat(s0(I.x,I.y,I.qx,I.qy,P[1],P[2]));case"Q":return I.qx=P[1],I.qy=P[2],["C"].concat(s0(I.x,I.y,P[1],P[2],P[3],P[4]));case"H":return["L"].concat(P[1],I.y);case"V":return["L"].concat(I.x,P[1]);case"L":break;case"Z":break;default:break}return P}function a(P,I){if(P[I].length>7){P[I].shift();const z=P[I];for(;z.length;)u[I]="A",I+=1,P.splice(I,0,["C"].concat(z.splice(0,6)));P.splice(I,1),b=e.length}}const u=[];let p="",b=e.length;for(let P=0;P<b;P+=1){let I="";e[P]&&(I=e[P][0]),I!=="C"&&(u[P]=I,P>0&&(p=u[P-1])),e[P]=r(e[P],t,p),u[P]!=="A"&&I==="C"&&(u[P]="C"),a(e,P);const z=e[P],W=z.length;t.x=z[W-2],t.y=z[W-1],t.bx=parseFloat(z[W-4])||t.x,t.by=parseFloat(z[W-3])||t.y}return(!e[0][0]||e[0][0]!=="M")&&e.unshift(["M",0,0]),e}function sm(c){return am(c).map(e=>e.map(t=>typeof t=="string"?t:Ah(t,2))).join(",").split(",").join(" ")}const lm=new RegExp("^[\\s\\dLMCZz,.]*$");function vb(c){return typeof c!="string"?!1:lm.test(c)}function u0(c,e){return(c%e+e)%e}function mb(c,e,t,r,a){const u=[],p=c[c.length-1],b=e!=null&&e>0,P=e||0;if(r&&b){c=c.slice();const W=c[0],ne=new Bn(p.x+(W.x-p.x)/2,p.y+(W.y-p.y)/2);c.splice(0,0,ne)}let I=c[0],z=1;for(t?u.push("M",I.x,I.y):u.push("L",I.x,I.y);z<(r?c.length:c.length-1);){let W=c[u0(z,c.length)],ne=I.x-W.x,Te=I.y-W.y;if(b&&(ne!==0||Te!==0)&&(a==null||a.indexOf(z-1)<0)){let Ke=Math.sqrt(ne*ne+Te*Te);const Ue=ne*Math.min(P,Ke/2)/Ke,At=Te*Math.min(P,Ke/2)/Ke,tn=W.x+Ue,pn=W.y+At;u.push("L",tn,pn);let Kt=c[u0(z+1,c.length)];for(;z<c.length-2&&Math.round(Kt.x-W.x)===0&&Math.round(Kt.y-W.y)===0;)Kt=c[u0(z+2,c.length)],z+=1;ne=Kt.x-W.x,Te=Kt.y-W.y,Ke=Math.max(1,Math.sqrt(ne*ne+Te*Te));const zn=ne*Math.min(P,Ke/2)/Ke,gr=Te*Math.min(P,Ke/2)/Ke,ii=W.x+zn,si=W.y+gr;u.push("Q",W.x,W.y,ii,si),W=new Bn(ii,si)}else u.push("L",W.x,W.y);I=W,z+=1}return r?u.push("Z"):u.push("L",p.x,p.y),u.map(W=>typeof W=="string"?W:+W.toFixed(3)).join(" ")}function wg(c,e={}){const t=[];return c&&c.length&&c.forEach(r=>{Array.isArray(r)?t.push({x:r[0],y:r[1]}):t.push({x:r.x,y:r.y})}),mb(t,e.round,e.initialMove==null||e.initialMove,e.close,e.exclude)}function ip(c,e,t,r,a=0,u=0,p=0,b,P){if(t===0||r===0)return[];b-=c,P-=e,t=Math.abs(t),r=Math.abs(r);const I=-b/2,z=-P/2,W=Math.cos(a*Math.PI/180),ne=Math.sin(a*Math.PI/180),Te=W*I+ne*z,Ke=-1*ne*I+W*z,Ue=Te*Te,At=Ke*Ke,tn=t*t,pn=r*r,Kt=Ue/tn+At/pn;let zn;if(Kt>1)t=Math.sqrt(Kt)*t,r=Math.sqrt(Kt)*r,zn=0;else{let Wh=1;u===p&&(Wh=-1),zn=Wh*Math.sqrt((tn*pn-tn*At-pn*Ue)/(tn*At+pn*Ue))}const gr=zn*t*Ke/r,ii=-1*zn*r*Te/t,si=W*gr-ne*ii+b/2,Ri=ne*gr+W*ii+P/2;let zo=Math.atan2((Ke-ii)/r,(Te-gr)/t)-Math.atan2(0,1),ro=zo>=0?zo:2*Math.PI+zo;zo=Math.atan2((-Ke-ii)/r,(-Te-gr)/t)-Math.atan2((Ke-ii)/r,(Te-gr)/t);let po=zo>=0?zo:2*Math.PI+zo;p===0&&po>0?po-=2*Math.PI:p!==0&&po<0&&(po+=2*Math.PI);const Yo=po*2/Math.PI,ks=Math.ceil(Yo<0?-1*Yo:Yo),Fs=po/ks,Ei=8/3*Math.sin(Fs/4)*Math.sin(Fs/4)/Math.sin(Fs/2),Po=W*t,ys=W*r,yc=ne*t,zc=ne*r;let Uu=Math.cos(ro),wu=Math.sin(ro),G0=-Ei*(Po*wu+zc*Uu),B0=-Ei*(yc*wu-ys*Uu),Sp=0,qv=0;const $h=[];for(let Wh=0;Wh<ks;Wh+=1){ro+=Fs,Uu=Math.cos(ro),wu=Math.sin(ro),Sp=Po*Uu-zc*wu+si,qv=yc*Uu+ys*wu+Ri;const s2=-Ei*(Po*wu+zc*Uu),l2=-Ei*(yc*wu-ys*Uu),Mc=Wh*6;$h[Mc]=Number(G0+c),$h[Mc+1]=Number(B0+e),$h[Mc+2]=Number(Sp-s2+c),$h[Mc+3]=Number(qv-l2+e),$h[Mc+4]=Number(Sp+c),$h[Mc+5]=Number(qv+e),G0=Sp+s2,B0=qv+l2}return $h.map(Wh=>+Wh.toFixed(2))}function cm(c,e,t,r,a=0,u=0,p=0,b,P){const I=[],z=ip(c,e,t,r,a,u,p,b,P);if(z!=null)for(let W=0,ne=z.length;W<ne;W+=6)I.push("C",z[W],z[W+1],z[W+2],z[W+3],z[W+4],z[W+5]);return I.join(" ")}class rs extends Dh{constructor(e){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(e))if(Ra.isLine(e[0])||hu.isCurve(e[0])){let t=null;e.forEach((a,u)=>{u===0&&this.appendSegment(rs.createSegment("M",a.start)),t!=null&&!t.end.equals(a.start)&&this.appendSegment(rs.createSegment("M",a.start)),Ra.isLine(a)?this.appendSegment(rs.createSegment("L",a.end)):hu.isCurve(a)&&this.appendSegment(rs.createSegment("C",a.controlPoint1,a.controlPoint2,a.end)),t=a})}else e.forEach(r=>{r.isSegment&&this.appendSegment(r)});else e!=null&&(Ra.isLine(e)?(this.appendSegment(rs.createSegment("M",e.start)),this.appendSegment(rs.createSegment("L",e.end))):hu.isCurve(e)?(this.appendSegment(rs.createSegment("M",e.start)),this.appendSegment(rs.createSegment("C",e.controlPoint1,e.controlPoint2,e.end))):du.isPolyline(e)?e.points&&e.points.length&&e.points.forEach((t,r)=>{const a=r===0?rs.createSegment("M",t):rs.createSegment("L",t);this.appendSegment(a)}):e.isSegment&&this.appendSegment(e))}get[Symbol.toStringTag](){return rs.toStringTag}get start(){const e=this.segments,t=e.length;if(t===0)return null;for(let r=0;r<t;r+=1){const a=e[r];if(a.isVisible)return a.start}return e[t-1].end}get end(){const e=this.segments,t=e.length;if(t===0)return null;for(let r=t-1;r>=0;r-=1){const a=e[r];if(a.isVisible)return a.end}return e[t-1].end}moveTo(...e){return this.appendSegment(Gp.create.call(null,...e))}lineTo(...e){return this.appendSegment(Mf.create.call(null,...e))}curveTo(...e){return this.appendSegment(Ff.create.call(null,...e))}arcTo(e,t,r,a,u,p,b){const P=this.end||new Bn,I=typeof p=="number"?ip(P.x,P.y,e,t,r,a,u,p,b):ip(P.x,P.y,e,t,r,a,u,p.x,p.y);if(I!=null)for(let z=0,W=I.length;z<W;z+=6)this.curveTo(I[z],I[z+1],I[z+2],I[z+3],I[z+4],I[z+5]);return this}quadTo(e,t,r,a){const u=this.end||new Bn,p=["M",u.x,u.y];if(typeof e=="number")p.push("Q",e,t,r,a);else{const P=t;p.push("Q",e.x,e.y,P.x,P.y)}const b=rs.parse(p.join(" "));return this.appendSegment(b.segments.slice(1)),this}close(){return this.appendSegment(Fp.create())}drawPoints(e,t={}){const r=wg(e,t),a=rs.parse(r);a&&a.segments&&this.appendSegment(a.segments)}bbox(){const e=this.segments,t=e.length;if(t===0)return null;let r;for(let u=0;u<t;u+=1){const p=e[u];if(p.isVisible){const b=p.bbox();b!=null&&(r=r?r.union(b):b)}}if(r!=null)return r;const a=e[t-1];return new Oo(a.end.x,a.end.y,0,0)}appendSegment(e){const t=this.segments.length;let r=t!==0?this.segments[t-1]:null,a;const u=null;if(Array.isArray(e))for(let p=0,b=e.length;p<b;p+=1){const P=e[p];a=this.prepareSegment(P,r,u),this.segments.push(a),r=a}else e!=null&&e.isSegment&&(a=this.prepareSegment(e,r,u),this.segments.push(a));return this}insertSegment(e,t){const r=this.segments.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");let a,u=null,p=null;if(r!==0&&(e>=1?(u=this.segments[e-1],p=u.nextSegment):(u=null,p=this.segments[0])),!Array.isArray(t))a=this.prepareSegment(t,u,p),this.segments.splice(e,0,a);else for(let b=0,P=t.length;b<P;b+=1){const I=t[b];a=this.prepareSegment(I,u,p),this.segments.splice(e+b,0,a),u=a}return this}removeSegment(e){const t=this.fixIndex(e),r=this.segments.splice(t,1)[0],a=r.previousSegment,u=r.nextSegment;return a&&(a.nextSegment=u),u&&(u.previousSegment=a),r.isSubpathStart&&u&&this.updateSubpathStartSegment(u),r}replaceSegment(e,t){const r=this.fixIndex(e);let a;const u=this.segments[r];let p=u.previousSegment;const b=u.nextSegment;let P=u.isSubpathStart;if(!Array.isArray(t))a=this.prepareSegment(t,p,b),this.segments.splice(r,1,a),P&&a.isSubpathStart&&(P=!1);else{this.segments.splice(e,1);for(let I=0,z=t.length;I<z;I+=1){const W=t[I];a=this.prepareSegment(W,p,b),this.segments.splice(e+I,0,a),p=a,P&&a.isSubpathStart&&(P=!1)}}P&&b&&this.updateSubpathStartSegment(b)}getSegment(e){const t=this.fixIndex(e);return this.segments[t]}fixIndex(e){const t=this.segments.length;if(t===0)throw new Error("Path has no segments.");let r=e;for(;r<0;)r=t+r;if(r>=t||r<0)throw new Error("Index out of range.");return r}segmentAt(e,t={}){const r=this.segmentIndexAt(e,t);return r?this.getSegment(r):null}segmentAtLength(e,t={}){const r=this.segmentIndexAtLength(e,t);return r?this.getSegment(r):null}segmentIndexAt(e,t={}){if(this.segments.length===0)return null;const r=Lp(e,0,1),a=this.getOptions(t),p=this.length(a)*r;return this.segmentIndexAtLength(p,a)}segmentIndexAtLength(e,t={}){const r=this.segments.length;if(r===0)return null;let a=!0;e<0&&(a=!1,e=-e);const u=this.getPrecision(t),p=this.getSubdivisions(t);let b=0,P=null;for(let I=0;I<r;I+=1){const z=a?I:r-1-I,W=this.segments[z],ne=p[z],Te=W.length({precision:u,subdivisions:ne});if(W.isVisible){if(e<=b+Te)return z;P=z}b+=Te}return P}getSegmentSubdivisions(e={}){const t=this.getPrecision(e),r=[];for(let a=0,u=this.segments.length;a<u;a+=1){const b=this.segments[a].getSubdivisions({precision:t});r.push(b)}return r}updateSubpathStartSegment(e){let t=e.previousSegment,r=e;for(;r&&!r.isSubpathStart;)t!=null?r.subpathStartSegment=t.subpathStartSegment:r.subpathStartSegment=null,t=r,r=r.nextSegment}prepareSegment(e,t,r){e.previousSegment=t,e.nextSegment=r,t!=null&&(t.nextSegment=e),r!=null&&(r.previousSegment=e);let a=e;return e.isSubpathStart&&(e.subpathStartSegment=e,a=r),a!=null&&this.updateSubpathStartSegment(a),e}closestPoint(e,t={}){const r=this.closestPointT(e,t);return r?this.pointAtT(r):null}closestPointLength(e,t={}){const r=this.getOptions(t),a=this.closestPointT(e,r);return a?this.lengthAtT(a,r):0}closestPointNormalizedLength(e,t={}){const r=this.getOptions(t),a=this.closestPointLength(e,r);if(a===0)return 0;const u=this.length(r);return u===0?0:a/u}closestPointT(e,t={}){if(this.segments.length===0)return null;const r=this.getPrecision(t),a=this.getSubdivisions(t);let u,p=1/0;for(let b=0,P=this.segments.length;b<P;b+=1){const I=this.segments[b],z=a[b];if(I.isVisible){const W=I.closestPointT(e,{precision:r,subdivisions:z}),ne=I.pointAtT(W),Te=Eg(ne,e);Te<p&&(u={segmentIndex:b,value:W},p=Te)}}return u||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(e,t={}){if(this.segments.length===0)return null;const r=this.getPrecision(t),a=this.getSubdivisions(t);let u,p=1/0;for(let b=0,P=this.segments.length;b<P;b+=1){const I=this.segments[b],z=a[b];if(I.isDifferentiable()){const W=I.closestPointT(e,{precision:r,subdivisions:z}),ne=I.pointAtT(W),Te=Eg(ne,e);Te<p&&(u=I.tangentAtT(W),p=Te)}}return u||null}containsPoint(e,t={}){const r=this.toPolylines(t);if(!r)return!1;let a=0;for(let u=0,p=r.length;u<p;u+=1)r[u].containsPoint(e)&&(a+=1);return a%2===1}pointAt(e,t={}){if(this.segments.length===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const r=this.getOptions(t),u=this.length(r)*e;return this.pointAtLength(u,r)}pointAtLength(e,t={}){if(this.segments.length===0)return null;if(e===0)return this.start.clone();let r=!0;e<0&&(r=!1,e=-e);const a=this.getPrecision(t),u=this.getSubdivisions(t);let p,b=0;for(let I=0,z=this.segments.length;I<z;I+=1){const W=r?I:z-1-I,ne=this.segments[W],Te=u[W],Ke=ne.length({precision:a,subdivisions:Te});if(ne.isVisible){if(e<=b+Ke)return ne.pointAtLength((r?1:-1)*(e-b),{precision:a,subdivisions:Te});p=ne}b+=Ke}return p?r?p.end:p.start:this.segments[this.segments.length-1].end.clone()}pointAtT(e){const t=this.segments,r=t.length;if(r===0)return null;const a=e.segmentIndex;if(a<0)return t[0].pointAtT(0);if(a>=r)return t[r-1].pointAtT(1);const u=Lp(e.value,0,1);return t[a].pointAtT(u)}divideAt(e,t={}){if(this.segments.length===0)return null;const r=Lp(e,0,1),a=this.getOptions(t),p=this.length(a)*r;return this.divideAtLength(p,a)}divideAtLength(e,t={}){if(this.segments.length===0)return null;let r=!0;e<0&&(r=!1,e=-e);const a=this.getPrecision(t),u=this.getSubdivisions(t);let p=0,b,P,I,z,W;for(let gr=0,ii=this.segments.length;gr<ii;gr+=1){const si=r?gr:ii-1-gr,Ri=this.getSegment(si),zo=u[si],ro={precision:a,subdivisions:zo},po=Ri.length(ro);if(Ri.isDifferentiable()&&(I=Ri,z=si,e<=p+po)){P=si,b=Ri.divideAtLength((r?1:-1)*(e-p),ro);break}p+=po}if(!I)return null;b||(P=z,W=r?1:0,b=I.divideAtT(W));const ne=this.clone(),Te=P;ne.replaceSegment(Te,b);const Ke=Te;let Ue=Te+1,At=Te+2;b[0].isDifferentiable()||(ne.removeSegment(Ke),Ue-=1,At-=1);const tn=ne.getSegment(Ue).start;ne.insertSegment(Ue,rs.createSegment("M",tn)),At+=1,b[1].isDifferentiable()||(ne.removeSegment(At-1),At-=1);const pn=At-Ke-1;for(let gr=At,ii=ne.segments.length;gr<ii;gr+=1){const si=this.getSegment(gr-pn),Ri=ne.getSegment(gr);if(Ri.type==="Z"&&!si.subpathStartSegment.end.equals(Ri.subpathStartSegment.end)){const zo=rs.createSegment("L",si.end);ne.replaceSegment(gr,zo)}}const Kt=new rs(ne.segments.slice(0,Ue)),zn=new rs(ne.segments.slice(Ue));return[Kt,zn]}intersectsWithLine(e,t={}){const r=this.toPolylines(t);if(r==null)return null;let a=null;for(let u=0,p=r.length;u<p;u+=1){const b=r[u],P=e.intersect(b);P&&(a==null&&(a=[]),Array.isArray(P)?a.push(...P):a.push(P))}return a}isDifferentiable(){for(let e=0,t=this.segments.length;e<t;e+=1)if(this.segments[e].isDifferentiable())return!0;return!1}isValid(){const e=this.segments;return e.length===0||e[0].type==="M"}length(e={}){if(this.segments.length===0)return 0;const t=this.getSubdivisions(e);let r=0;for(let a=0,u=this.segments.length;a<u;a+=1){const p=this.segments[a],b=t[a];r+=p.length({subdivisions:b})}return r}lengthAtT(e,t={}){const r=this.segments.length;if(r===0)return 0;let a=e.segmentIndex;if(a<0)return 0;let u=Lp(e.value,0,1);a>=r&&(a=r-1,u=1);const p=this.getPrecision(t),b=this.getSubdivisions(t);let P=0;for(let W=0;W<a;W+=1){const ne=this.segments[W],Te=b[W];P+=ne.length({precision:p,subdivisions:Te})}const I=this.segments[a],z=b[a];return P+=I.lengthAtT(u,{precision:p,subdivisions:z}),P}tangentAt(e,t={}){if(this.segments.length===0)return null;const r=Lp(e,0,1),a=this.getOptions(t),p=this.length(a)*r;return this.tangentAtLength(p,a)}tangentAtLength(e,t={}){if(this.segments.length===0)return null;let r=!0;e<0&&(r=!1,e=-e);const a=this.getPrecision(t),u=this.getSubdivisions(t);let p,b=0;for(let P=0,I=this.segments.length;P<I;P+=1){const z=r?P:I-1-P,W=this.segments[z],ne=u[z],Te=W.length({precision:a,subdivisions:ne});if(W.isDifferentiable()){if(e<=b+Te)return W.tangentAtLength((r?1:-1)*(e-b),{precision:a,subdivisions:ne});p=W}b+=Te}if(p){const P=r?1:0;return p.tangentAtT(P)}return null}tangentAtT(e){const t=this.segments.length;if(t===0)return null;const r=e.segmentIndex;if(r<0)return this.segments[0].tangentAtT(0);if(r>=t)return this.segments[t-1].tangentAtT(1);const a=Lp(e.value,0,1);return this.segments[r].tangentAtT(a)}getPrecision(e={}){return e.precision==null?this.PRECISION:e.precision}getSubdivisions(e={}){if(e.segmentSubdivisions==null){const t=this.getPrecision(e);return this.getSegmentSubdivisions({precision:t})}return e.segmentSubdivisions}getOptions(e={}){const t=this.getPrecision(e),r=this.getSubdivisions(e);return{precision:t,segmentSubdivisions:r}}toPoints(e={}){const t=this.segments,r=t.length;if(r===0)return null;const a=this.getSubdivisions(e),u=[];let p=[];for(let b=0;b<r;b+=1){const P=t[b];if(P.isVisible){const I=a[b];I.length>0?I.forEach(z=>p.push(z.start)):p.push(P.start)}else p.length>0&&(p.push(t[b-1].end),u.push(p),p=[])}return p.length>0&&(p.push(this.end),u.push(p)),u}toPolylines(e={}){const t=this.toPoints(e);return t?t.map(r=>new du(r)):null}scale(e,t,r){return this.segments.forEach(a=>a.scale(e,t,r)),this}rotate(e,t){return this.segments.forEach(r=>r.rotate(e,t)),this}translate(e,t){return typeof e=="number"?this.segments.forEach(r=>r.translate(e,t)):this.segments.forEach(r=>r.translate(e)),this}clone(){const e=new rs;return this.segments.forEach(t=>e.appendSegment(t.clone())),e}equals(e){if(e==null)return!1;const t=this.segments,r=e.segments,a=t.length;if(r.length!==a)return!1;for(let u=0;u<a;u+=1){const p=t[u],b=r[u];if(p.type!==b.type||!p.equals(b))return!1}return!0}toJSON(){return this.segments.map(e=>e.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(e=>e.serialize()).join(" ")}toString(){return this.serialize()}}(function(c){c.toStringTag=`X6.Geometry.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return!!((r==null||r===c.toStringTag)&&Array.isArray(a.segments)&&typeof a.moveTo=="function"&&typeof a.lineTo=="function"&&typeof a.curveTo=="function")}c.isPath=e})(rs||(rs={})),function(c){function e(r){if(!r)return new c;const a=new c,u=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,p=c.normalize(r).match(u);if(p!=null)for(let b=0,P=p.length;b<P;b+=1){const I=p[b],z=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,W=I.match(z);if(W!=null){const ne=W[0],Te=W.slice(1).map(Ue=>+Ue),Ke=t.call(null,ne,...Te);a.appendSegment(Ke)}}return a}c.parse=e;function t(r,...a){if(r==="M")return Gp.create.call(null,...a);if(r==="L")return Mf.create.call(null,...a);if(r==="C")return Ff.create.call(null,...a);if(r==="z"||r==="Z")return Fp.create();throw new Error(`Invalid path segment type "${r}"`)}c.createSegment=t}(rs||(rs={})),function(c){c.normalize=sm,c.isValid=vb,c.drawArc=cm,c.drawPoints=wg,c.arcToCurves=ip}(rs||(rs={}));class ma{constructor(e,t,r){if(!e)throw new TypeError("Invalid element to create vector");let a;if(ma.isVector(e))a=e.node;else if(typeof e=="string")if(e.toLowerCase()==="svg")a=_a();else if(e[0]==="<"){const u=_a(e);a=document.importNode(u.firstChild,!0)}else a=document.createElementNS(Jr.svg,e);else a=e;this.node=a,t&&this.setAttributes(t),r&&this.append(r)}get[Symbol.toStringTag](){return ma.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(e){this.node.id=e}transform(e,t){return e==null?$s(this.node):($s(this.node,e,t),this)}translate(e,t=0,r={}){return e==null?Og(this.node):(Og(this.node,e,t,r),this)}rotate(e,t,r,a={}){return e==null?Bf(this.node):(Bf(this.node,e,t,r,a),this)}scale(e,t){return e==null?jd(this.node):(jd(this.node,e,t),this)}getTransformToElement(e){const t=ma.toNode(e);return Ec(this.node,t)}removeAttribute(e){return lv(this.node,e),this}getAttribute(e){return i0(this.node,e)}setAttribute(e,t){return tp(this.node,e,t),this}setAttributes(e){return kp(this.node,e),this}attr(e,t){return e==null?Il(this.node):typeof e=="string"&&t===void 0?Il(this.node,e):(typeof e=="object"?Il(this.node,e):Il(this.node,e,t),this)}svg(){return this.node instanceof SVGSVGElement?this:ma.create(this.node.ownerSVGElement)}defs(){const e=this.svg()||this,t=e.node.getElementsByTagName("defs")[0];return t?ma.create(t):ma.create("defs").appendTo(e)}text(e,t={}){return yv(this.node,e,t),this}tagName(){return Qs(this.node)}clone(){return ma.create(this.node.cloneNode(!0))}remove(){return cu(this.node),this}empty(){return qh(this.node),this}append(e){return ep(this.node,ma.toNodes(e)),this}appendTo(e){return r0(this.node,ma.isVector(e)?e.node:e),this}prepend(e){return em(this.node,ma.toNodes(e)),this}before(e){return gg(this.node,ma.toNodes(e)),this}replace(e){return this.node.parentNode&&this.node.parentNode.replaceChild(ma.toNode(e),this.node),ma.create(e)}first(){return this.node.firstChild?ma.create(this.node.firstChild):null}last(){return this.node.lastChild?ma.create(this.node.lastChild):null}get(e){const t=this.node.childNodes[e];return t?ma.create(t):null}indexOf(e){return Array.prototype.slice.call(this.node.childNodes).indexOf(ma.toNode(e))}find(e){const t=[],r=Hu(this.node,e);if(r)for(let a=0,u=r.length;a<u;a+=1)t.push(ma.create(r[a]));return t}findOne(e){const t=lh(this.node,e);return t?ma.create(t):null}findParentByClass(e,t){const r=Sf(this.node,e,t);return r?ma.create(r):null}matches(e){const t=this.node,r=this.node.matches,a=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return a&&a.call(t,e)}contains(e){return Th(this.node,ma.isVector(e)?e.node:e)}wrap(e){const t=ma.create(e),r=this.node.parentNode;return r!=null&&r.insertBefore(t.node,this.node),t.append(this)}parent(e){let t=this;if(t.node.parentNode==null)return null;if(t=ma.create(t.node.parentNode),e==null)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=ma.create(t.node.parentNode));return t}children(){const e=this.node.childNodes,t=[];for(let r=0;r<e.length;r+=1)e[r].nodeType===1&&t.push(ma.create(e[r]));return t}eachChild(e,t){const r=this.children();for(let a=0,u=r.length;a<u;a+=1)e.call(r[a],r[a],a,r),t&&r[a].eachChild(e,t);return this}index(){return mc(this.node)}hasClass(e){return vr(this.node,e)}addClass(e){return Qt(this.node,e),this}removeClass(e){return Zn(this.node,e),this}toggleClass(e,t){return ln(this.node,e,t),this}toLocalPoint(e,t){return $f(this.node,e,t)}toGeometryShape(){return Nh(this.node)}translateCenterToPoint(e){const r=this.getBBox({target:this.svg()}).getCenter();return this.translate(e.x-r.x,e.y-r.y),this}translateAndAutoOrient(e,t,r){return wv(this.node,e,t,r),this}animate(e){return gm(this.node,e)}animateTransform(e){return vm(this.node,e)}animateAlongPath(e,t){return Tg(this.node,e,t)}normalizePath(){return this.tagName()==="path"&&this.attr("d",rs.normalize(this.attr("d"))),this}bbox(e,t){return ap(this.node,e,t)}getBBox(e={}){return ai(this.node,{recursive:e.recursive,target:e.target?ma.toNode(e.target):null})}sample(e=1){return this.node instanceof SVGPathElement?ss(this.node,e):[]}toPath(){return ma.create(Zc(this.node))}toPathData(){return ho(this.node)}}(function(c){c.toStringTag=`X6.${c.name}`;function e(p){if(p==null)return!1;if(p instanceof c)return!0;const b=p[Symbol.toStringTag],P=p;return(b==null||b===c.toStringTag)&&P.node instanceof SVGElement&&typeof P.animate=="function"&&typeof P.sample=="function"&&typeof P.normalizePath=="function"&&typeof P.toPath=="function"}c.isVector=e;function t(p,b,P){return new c(p,b,P)}c.create=t;function r(p){if(p[0]==="<"){const b=_a(p),P=[];for(let I=0,z=b.childNodes.length;I<z;I+=1){const W=b.childNodes[I];P.push(t(document.importNode(W,!0)))}return P}return[t(p)]}c.createVectors=r;function a(p){return e(p)?p.node:p}c.toNode=a;function u(p){return Array.isArray(p)?p.map(b=>a(b)):[a(p)]}c.toNodes=u})(ma||(ma={}));function f0(c,e){const t=ma.create(e),r=ma.create("textPath"),a=c.d;if(a&&c["xlink:href"]===void 0){const u=ma.create("path").attr("d",a).appendTo(t.defs());r.attr("xlink:href",`#${u.id}`)}return typeof c=="object"&&r.attr(c),r.node}function um(c,e,t){const r=t.eol,a=t.baseSize,u=t.lineHeight;let p=0,b;const P={},I=e.length-1;for(let z=0;z<=I;z+=1){let W=e[z],ne=null;if(typeof W=="object"){const Te=W.attrs,Ke=ma.create("tspan",Te);b=Ke.node;let Ue=W.t;r&&z===I&&(Ue+=r),b.textContent=Ue;const At=Te.class;At&&Ke.addClass(At),t.includeAnnotationIndices&&Ke.attr("annotations",W.annotations.join(",")),ne=parseFloat(Te["font-size"]),ne===void 0&&(ne=a),ne&&ne>p&&(p=ne)}else r&&z===I&&(W+=r),b=document.createTextNode(W||" "),a&&a>p&&(p=a);c.appendChild(b)}return p&&(P.maxFontSize=p),u?P.lineHeight=u:p&&(P.lineHeight=p*1.2),P}const mv=/em$/;function Sg(c,e){const t=parseFloat(c);return mv.test(c)?t*e:t}function fm(c,e,t,r){if(!Array.isArray(e))return 0;const a=e.length;if(!a)return 0;let u=e[0];const p=Sg(u.maxFontSize,t)||t;let b=0;const P=Sg(r,t);for(let W=1;W<a;W+=1){u=e[W];const ne=Sg(u.lineHeight,t)||P;b+=ne}const I=Sg(u.maxFontSize,t)||t;let z;switch(c){case"middle":z=p/2-.15*I-b/2;break;case"bottom":z=-(.25*I)-b;break;default:case"top":z=.8*p;break}return z}function yv(c,e,t={}){e=o0(e);const r=t.eol;let a=t.textPath;const u=t.textVerticalAnchor,p=u==="middle"||u==="bottom"||u==="top";let b=t.x;b===void 0&&(b=c.getAttribute("x")||0);const P=t.includeAnnotationIndices;let I=t.annotations;I&&!Array.isArray(I)&&(I=[I]);const z=t.lineHeight,W=z==="auto",ne=W?"1.5em":z||"1em";qh(c),Il(c,{"xml:space":"preserve",display:e||t.displayEmpty?null:"none"});const Te=Il(c,"font-size");let Ke=parseFloat(Te);Ke||(Ke=16,(p||I)&&!Te&&Il(c,"font-size",`${Ke}`));let Ue;a?(typeof a=="string"&&(a={d:a}),Ue=f0(a,c)):Ue=document.createDocumentFragment();let At,tn=0,pn;const Kt=e.split(`
`),zn=[],gr=Kt.length-1;for(let si=0;si<=gr;si+=1){At=ne;let Ri="v-line";const zo=$o("tspan");let ro,po=Kt[si];if(po)if(I){const Yo=tm(po,I,{offset:-tn,includeAnnotationIndices:P});ro=um(zo,Yo,{eol:si!==gr&&r,baseSize:Ke,lineHeight:W?null:ne,includeAnnotationIndices:P});const ks=ro.lineHeight;ks&&W&&si!==0&&(At=ks),si===0&&(pn=ro.maxFontSize*.8)}else r&&si!==gr&&(po+=r),zo.textContent=po;else{zo.textContent="-",Ri+=" v-empty-line";const Yo=zo.style;Yo.fillOpacity=0,Yo.strokeOpacity=0,I&&(ro={})}ro&&zn.push(ro),si>0&&zo.setAttribute("dy",At),(si>0||a)&&zo.setAttribute("x",b),zo.className.baseVal=Ri,Ue.appendChild(zo),tn+=po.length+1}if(p)if(I)At=fm(u,zn,Ke,ne);else if(u==="top")At="0.8em";else{let si;switch(gr>0?(si=parseFloat(ne)||1,si*=gr,mv.test(ne)||(si/=Ke)):si=0,u){case"middle":At=`${.3-si/2}em`;break;case"bottom":At=`${-si-.3}em`;break;default:break}}else u===0?At="0em":u?At=u:(At=0,c.getAttribute("y")==null&&c.setAttribute("y",`${pn||"0.8em"}`));Ue.firstChild.setAttribute("dy",At),c.appendChild(Ue)}function dm(c,e,t,r){const a=[],u=[];if(e!=null){const p=c.split(e);if(a.push(...p),typeof e=="string")for(let b=0,P=p.length-1;b<P;b+=1)u.push(e);else{const b=c.match(new RegExp(e,"g"));for(let P=0,I=p.length-1;P<I;P+=1)u.push(b?b[P]:"")}}else{let p="";for(let b=0,P=c.length;b<P;b+=1){const I=c[b];I===" "?(a.push(p),u.push(" "),p=""):I.match(/[^\x00-\xff]/)?(p.length&&(a.push(p),u.push("")),a.push(I),u.push(""),p=""):p+=I}p.length&&a.push(p)}for(let p=0;p<a.length;p+=1){const b=a[p];if(b.indexOf(t)>=0&&b.length>1){const P=b.split(t);for(let W=0,ne=P.length-1;W<ne;W+=1)P.splice(2*W+1,0,t);const I=P.filter(W=>W!=="");a.splice(p,1,...I);const z=I.map(()=>"");z.pop(),u.splice(p,0,...z)}}for(let p=0;p<a.length;p+=1){const b=a[p],P=b.search(r);P>0&&P<b.length-1&&(a.splice(p,1,b.substring(0,P+1),b.substring(P+1)),u.splice(p,0,""))}return{words:a,separators:u}}function bv(c,e,t={},r={}){const a=e.width,u=e.height,p=r.svgDocument||$o("svg"),b=$o("text"),P=$o("tspan"),I=document.createTextNode("");Il(b,t),b.appendChild(P),b.style.opacity="0",b.style.display="block",P.style.display="block",P.appendChild(I),p.appendChild(b);const z=p.parentNode==null;z&&document.body.appendChild(p);const W=r.eol||`
`,ne=r.separator||" ",Te=r.hyphen?new RegExp(r.hyphen):/[^\w\d]/,Ke=r.breakWord!==!1,Ue=[],At={};let tn=[],pn,Kt,zn;const{words:gr,separators:ii}=dm(c,r.separator,W,Te);for(let si=0,Ri=0,zo=gr.length;si<zo;si+=1){const ro=gr[si];if(ro){if(ro===W){Ue[Ri]=!0,Ri+=1,tn[Ri]="";continue}if(tn[Ri]!=null?(zn=ii[si-1]||"",I.data=`${tn[Ri]}${zn}${ro}`):I.data=ro,P.getComputedTextLength()<=a)tn[Ri]=I.data,At[Ri]=ii[si],pn&&(Ue[Ri]=!0,Ri+=1,pn=0);else{if(Ke){if(!tn[Ri]||pn){const po=!!pn,Yo=ro.length===1;if(pn=ro.length-1,po||Yo){if(Yo){if(!tn[Ri]){tn=[];break}gr.splice(si,2,ro+gr[si+1]),ii.splice(si+1,1),Ue[Ri]=!0,Ri+=1,zo-=1,si-=1;continue}gr[si]=ro.substring(0,pn),gr[si+1]=ro.substring(pn)+gr[si+1]}else gr.splice(si,1,ro.substring(0,pn),ro.substring(pn)),ii.splice(si,0,""),zo+=1,Ri&&!Ue[Ri-1]&&(Ri-=1);si-=1;continue}}else if(!tn[Ri]){tn[Ri]=ro,Ue[Ri]=!0,Ri+=1;continue}Ri+=1,si-=1}if(u!=null){if(Kt==null){let po;t.lineHeight==="auto"?po={value:1.5,unit:"em"}:po=xc(t.lineHeight,["em"])||{value:1,unit:"em"},Kt=po.value,po.unit==="em"&&(Ne.IS_FIREFOX?Kt*=P.getBBox().height:Kt*=b.getBBox().height)}if(Kt*tn.length>u){const po=Math.floor(u/Kt)-1,Yo=tn[po],ks=tn[po+1];if(tn.splice(po+1),Yo==null)break;let Fs=r.ellipsis;if(!Fs)break;typeof Fs!="string"&&(Fs="\u2026");let Ei=Yo;ks&&Ke&&(Ei+=zn+ks);let Po=Ei.length,ys,yc;do{if(yc=Ei[Po],ys=Ei.substring(0,Po),yc?yc.match(ne)&&(ys+=yc):ys+=At[po],ys+=Fs,I.data=ys,P.getComputedTextLength()<=a){tn[po]=ys;break}Po-=1}while(Po>=0);break}}}}return cu(z?p:b),tn.join(W)}const Wa=.551784;function oa(c,e,t=NaN){const r=c.getAttribute(e);if(r==null)return t;const a=parseFloat(r);return Number.isNaN(a)?t:a}function ss(c,e=1){const t=c.getTotalLength(),r=[];let a=0,u;for(;a<t;)u=c.getPointAtLength(a),r.push({distance:a,x:u.x,y:u.y}),a+=e;return r}function Qa(c){return["M",oa(c,"x1"),oa(c,"y1"),"L",oa(c,"x2"),oa(c,"y2")].join(" ")}function d0(c){const e=Zp(c);return e.length===0?null:`${kl(e)} Z`}function aa(c){const e=Zp(c);return e.length===0?null:kl(e)}function kl(c){return`M ${c.map(t=>`${t.x} ${t.y}`).join(" L")}`}function Zp(c){const e=[],t=c.points;if(t)for(let r=0,a=t.numberOfItems;r<a;r+=1)e.push(t.getItem(r));return e}function ch(c){const e=oa(c,"cx",0),t=oa(c,"cy",0),r=oa(c,"r"),a=r*Wa;return["M",e,t-r,"C",e+a,t-r,e+r,t-a,e+r,t,"C",e+r,t+a,e+a,t+r,e,t+r,"C",e-a,t+r,e-r,t+a,e-r,t,"C",e-r,t-a,e-a,t-r,e,t-r,"Z"].join(" ")}function Ss(c){const e=oa(c,"cx",0),t=oa(c,"cy",0),r=oa(c,"rx"),a=oa(c,"ry")||r,u=r*Wa,p=a*Wa;return["M",e,t-a,"C",e+u,t-a,e+r,t-p,e+r,t,"C",e+r,t+p,e+u,t+a,e,t+a,"C",e-u,t+a,e-r,t+p,e-r,t,"C",e-r,t-p,e-u,t-a,e,t-a,"Z"].join(" ")}function uh(c){return pu({x:oa(c,"x",0),y:oa(c,"y",0),width:oa(c,"width",0),height:oa(c,"height",0),rx:oa(c,"rx",0),ry:oa(c,"ry",0)})}function pu(c){let e;const t=c.x,r=c.y,a=c.width,u=c.height,p=Math.min(c.rx||c["top-rx"]||0,a/2),b=Math.min(c.rx||c["bottom-rx"]||0,a/2),P=Math.min(c.ry||c["top-ry"]||0,u/2),I=Math.min(c.ry||c["bottom-ry"]||0,u/2);return p||b||P||I?e=["M",t,r+P,"v",u-P-I,"a",b,I,0,0,0,b,I,"h",a-2*b,"a",b,I,0,0,0,b,-I,"v",-(u-I-P),"a",p,P,0,0,0,-p,-P,"h",-(a-2*p),"a",p,P,0,0,0,-p,P,"Z"]:e=["M",t,r,"H",t+a,"V",r+u,"H",t,"V",r,"Z"],e.join(" ")}function Zc(c){const e=$o("path");Il(e,Il(c));const t=ho(c);return t&&e.setAttribute("d",t),e}function ho(c){const e=c.tagName.toLowerCase();switch(e){case"path":return c.getAttribute("d");case"line":return Qa(c);case"polygon":return d0(c);case"polyline":return aa(c);case"ellipse":return Ss(c);case"circle":return ch(c);case"rect":return uh(c);default:break}throw new Error(`"${e}" cannot be converted to svg path element.`)}function Ai(c,e,t,r){const a=2*Math.PI-1e-6,u=c,p=e;let b=t,P=r;if(P<b){const Ue=b;b=P,P=Ue}const I=P-b,z=I<Math.PI?"0":"1",W=Math.cos(b),ne=Math.sin(b),Te=Math.cos(P),Ke=Math.sin(P);return I>=a?u?`M0,${p}A${p},${p} 0 1,1 0,${-p}A${p},${p} 0 1,1 0,${p}M0,${u}A${u},${u} 0 1,0 0,${-u}A${u},${u} 0 1,0 0,${u}Z`:`M0,${p}A${p},${p} 0 1,1 0,${-p}A${p},${p} 0 1,1 0,${p}Z`:u?`M${p*W},${p*ne}A${p},${p} 0 ${z},1 ${p*Te},${p*Ke}L${u*Te},${u*Ke}A${u},${u} 0 ${z},0 ${u*W},${u*ne}Z`:`M${p*W},${p*ne}A${p},${p} 0 ${z},1 ${p*Te},${p*Ke}L0,0Z`}const zp=$o("svg"),hm=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,h0=/[ ,]+/,ff=/^(\w+)\((.*)\)/;function Ku(c,e){const t=zp.createSVGPoint();return t.x=c,t.y=e,t}function Ms(c){const e=zp.createSVGMatrix();if(c!=null){const t=c,r=e;for(const a in t)r[a]=t[a]}return e}function op(c){return c!=null?(c instanceof DOMMatrix||(c=Ms(c)),zp.createSVGTransformFromMatrix(c)):zp.createSVGTransform()}function Gf(c){let e=Ms();const t=c!=null&&c.match(hm);if(!t)return e;for(let r=0,a=t.length;r<a;r+=1){const p=t[r].match(ff);if(p){let b,P,I,z,W,ne=Ms();const Te=p[2].split(h0);switch(p[1].toLowerCase()){case"scale":b=parseFloat(Te[0]),P=Te[1]===void 0?b:parseFloat(Te[1]),ne=ne.scaleNonUniform(b,P);break;case"translate":I=parseFloat(Te[0]),z=parseFloat(Te[1]),ne=ne.translate(I,z);break;case"rotate":W=parseFloat(Te[0]),I=parseFloat(Te[1])||0,z=parseFloat(Te[2])||0,I!==0||z!==0?ne=ne.translate(I,z).rotate(W).translate(-I,-z):ne=ne.rotate(W);break;case"skewx":W=parseFloat(Te[0]),ne=ne.skewX(W);break;case"skewy":W=parseFloat(Te[0]),ne=ne.skewY(W);break;case"matrix":ne.a=parseFloat(Te[0]),ne.b=parseFloat(Te[1]),ne.c=parseFloat(Te[2]),ne.d=parseFloat(Te[3]),ne.e=parseFloat(Te[4]),ne.f=parseFloat(Te[5]);break;default:continue}e=e.multiply(ne)}}return e}function Ud(c){const e=c||{},t=e.a!=null?e.a:1,r=e.b!=null?e.b:0,a=e.c!=null?e.c:0,u=e.d!=null?e.d:1,p=e.e!=null?e.e:0,b=e.f!=null?e.f:0;return`matrix(${t},${r},${a},${u},${p},${b})`}function Vd(c){let e,t,r;if(c){const u=h0;if(c.trim().indexOf("matrix")>=0){const p=Gf(c),b=Xc(p);e=[b.translateX,b.translateY],t=[b.rotation],r=[b.scaleX,b.scaleY];const P=[];(e[0]!==0||e[1]!==0)&&P.push(`translate(${e.join(",")})`),(r[0]!==1||r[1]!==1)&&P.push(`scale(${r.join(",")})`),t[0]!==0&&P.push(`rotate(${t[0]})`),c=P.join(" ")}else{const p=c.match(/translate\((.*?)\)/);p&&(e=p[1].split(u));const b=c.match(/rotate\((.*?)\)/);b&&(t=b[1].split(u));const P=c.match(/scale\((.*?)\)/);P&&(r=P[1].split(u))}}const a=r&&r[0]?parseFloat(r[0]):1;return{raw:c||"",translation:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotation:{angle:t&&t[0]?parseInt(t[0],10):0,cx:t&&t[1]?parseInt(t[1],10):void 0,cy:t&&t[2]?parseInt(t[2],10):void 0},scale:{sx:a,sy:r&&r[1]?parseFloat(r[1]):a}}}function Yc(c,e){const t=e.x*c.a+e.y*c.c+0,r=e.x*c.b+e.y*c.d+0;return{x:t,y:r}}function Xc(c){const e=Yc(c,{x:0,y:1}),t=Yc(c,{x:1,y:0}),r=180/Math.PI*Math.atan2(e.y,e.x)-90,a=180/Math.PI*Math.atan2(t.y,t.x);return{skewX:r,skewY:a,translateX:c.e,translateY:c.f,scaleX:Math.sqrt(c.a*c.a+c.b*c.b),scaleY:Math.sqrt(c.c*c.c+c.d*c.d),rotation:r}}function Mg(c){let e,t,r,a;return c?(e=c.a==null?1:c.a,a=c.d==null?1:c.d,t=c.b,r=c.c):e=a=1,{sx:t?Math.sqrt(e*e+t*t):e,sy:r?Math.sqrt(r*r+a*a):a}}function Cv(c){let e={x:0,y:1};return c&&(e=Yc(c,e)),{angle:gl.normalize(gl.toDeg(Math.atan2(e.y,e.x))-90)}}function Pg(c){return{tx:c&&c.e||0,ty:c&&c.f||0}}function rd(c,e){const t=Ku(c.x,c.y).matrixTransform(e);return new Bn(t.x,t.y)}function xv(c,e){return new Ra(rd(c.start,e),rd(c.end,e))}function id(c,e){let t=c instanceof du?c.points:c;return Array.isArray(t)||(t=[]),new du(t.map(r=>rd(r,e)))}function Pf(c,e){const t=zp.createSVGPoint();t.x=c.x,t.y=c.y;const r=t.matrixTransform(e);t.x=c.x+c.width,t.y=c.y;const a=t.matrixTransform(e);t.x=c.x+c.width,t.y=c.y+c.height;const u=t.matrixTransform(e);t.x=c.x,t.y=c.y+c.height;const p=t.matrixTransform(e),b=Math.min(r.x,a.x,u.x,p.x),P=Math.max(r.x,a.x,u.x,p.x),I=Math.min(r.y,a.y,u.y,p.y),z=Math.max(r.y,a.y,u.y,p.y);return new Oo(b,I,P-b,z-I)}var Ev=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};function ap(c,e,t){let r;const a=c.ownerSVGElement;if(!a)return new Oo(0,0,0,0);try{r=c.getBBox()}catch(p){r={x:c.clientLeft,y:c.clientTop,width:c.clientWidth,height:c.clientHeight}}if(e)return Oo.create(r);const u=Ec(c,t||a);return Pf(r,u)}function ai(c,e={}){let t;if(!c.ownerSVGElement||!vi(c)){if(Ip(c)){const{left:p,top:b,width:P,height:I}=_d(c);return new Oo(p,b,P,I)}return new Oo(0,0,0,0)}let a=e.target;if(!e.recursive){try{t=c.getBBox()}catch(b){t={x:c.clientLeft,y:c.clientTop,width:c.clientWidth,height:c.clientHeight}}if(!a)return Oo.create(t);const p=Ec(c,a);return Pf(t,p)}{const p=c.childNodes,b=p.length;if(b===0)return ai(c,{target:a});a||(a=c);for(let P=0;P<b;P+=1){const I=p[P];let z;I.childNodes.length===0?z=ai(I,{target:a}):z=ai(I,{target:a,recursive:!0}),t?t=t.union(z):t=z}return t}}function gu(c){let e=c,t=e?e.tagName.toLowerCase():"";for(;t==="g";)e=e.firstElementChild,t=e?e.tagName.toLowerCase():"";const r=p=>{const b=e.getAttribute(p),P=b?parseFloat(b):0;return Number.isNaN(P)?0:P};let a,u;switch(t){case"rect":u=new Oo(r("x"),r("y"),r("width"),r("height"));break;case"circle":a=r("r"),u=new Oo(r("cx")-a,r("cy")-a,2*a,2*a);break;default:break}return u}function Od(c,e){let t=Ms();if(vi(e)&&vi(c)){let r=c;const a=[];for(;r&&r!==e;){const u=r.getAttribute("transform")||null,p=Gf(u);a.push(p),r=r.parentNode}a.reverse().forEach(u=>{t=t.multiply(u)})}return t}function Ec(c,e){if(vi(e)&&vi(c)){const t=e.getScreenCTM(),r=c.getScreenCTM();if(t&&r)return t.inverse().multiply(r)}return Ms()}function $f(c,e,t){const r=c instanceof SVGSVGElement?c:c.ownerSVGElement,a=r.createSVGPoint();a.x=e,a.y=t;try{const u=r.getScreenCTM(),p=a.matrixTransform(u.inverse()),b=Ec(c,r).inverse();return p.matrixTransform(b)}catch(u){return a}}function Nh(c){const e=t=>{const r=c.getAttribute(t),a=r?parseFloat(r):0;return Number.isNaN(a)?0:a};switch(c instanceof SVGElement&&c.nodeName.toLowerCase()){case"rect":return new Oo(e("x"),e("y"),e("width"),e("height"));case"circle":return new gd(e("cx"),e("cy"),e("r"),e("r"));case"ellipse":return new gd(e("cx"),e("cy"),e("rx"),e("ry"));case"polyline":{const t=Zp(c);return new du(t)}case"polygon":{const t=Zp(c);return t.length>1&&t.push(t[0]),new du(t)}case"path":{let t=c.getAttribute("d");return rs.isValid(t)||(t=rs.normalize(t)),rs.parse(t)}case"line":return new Ra(e("x1"),e("y1"),e("x2"),e("y2"));default:break}return ai(c)}function pm(c,e,t){const r=c instanceof SVGSVGElement?c:c.ownerSVGElement;t=t||r;const a=ai(t),u=a.getCenter();if(!a.intersectsWithLineFromCenterToPoint(e))return null;let p=null;const b=c.tagName.toLowerCase();if(b==="rect"){const P=new Oo(parseFloat(c.getAttribute("x")||"0"),parseFloat(c.getAttribute("y")||"0"),parseFloat(c.getAttribute("width")||"0"),parseFloat(c.getAttribute("height")||"0")),I=Ec(c,t),z=Xc(I),W=r.createSVGTransform();W.setRotate(-z.rotation,u.x,u.y);const ne=Pf(P,W.matrix.multiply(I));p=Oo.create(ne).intersectsWithLineFromCenterToPoint(e,z.rotation)}else if(b==="path"||b==="polygon"||b==="polyline"||b==="circle"||b==="ellipse"){const P=b==="path"?c:Zc(c),I=ss(P);let z=1/0,W=[];for(let ne=0,Te=I.length;ne<Te;ne+=1){const Ke=I[ne];let Ue=Ku(Ke.x,Ke.y);Ue=Ue.matrixTransform(Ec(c,t));const At=Bn.create(Ue),tn=At.distance(u),pn=At.distance(e)*1.1,Kt=tn+pn;Kt<z?(z=Kt,W=[{sample:Ke,refDistance:pn}]):Kt<z+1&&W.push({sample:Ke,refDistance:pn})}W.sort((ne,Te)=>ne.refDistance-Te.refDistance),W[0]&&(p=Bn.create(W[0].sample))}return p}function gm(c,e){return sp(c,e,"animate")}function vm(c,e){return sp(c,e,"animateTransform")}function sp(c,e,t){const r=$o(t);c.appendChild(r);try{return p0(r,e)}catch(a){}return()=>{}}function p0(c,e){const{start:t,complete:r,repeat:a}=e,u=Ev(e,["start","complete","repeat"]);Il(c,u),t&&c.addEventListener("beginEvent",t),r&&c.addEventListener("endEvent",r),a&&c.addEventListener("repeatEvent",a);const p=c;return setTimeout(()=>{p.beginElement()}),()=>p.endElement()}function Tg(c,e,t){const r=pi(t),a=$o("animateMotion"),u=$o("mpath");Il(u,{"xlink:href":`#${r}`}),a.appendChild(u),c.appendChild(a);try{return p0(a,e)}catch(p){if(document.documentElement.getAttribute("smiling")==="fake"){const b=a;b.animators=[];const P=window,I=b.getAttribute("id");I&&(P.id2anim[I]=b);const z=P.getTargets(b);for(let W=0,ne=z.length;W<ne;W+=1){const Te=z[W],Ke=new P.Animator(b,Te,W);P.animators.push(Ke),b.animators[W]=Ke,Ke.register()}}}return()=>{}}function _d(c){let e=0,t=0,r=0,a=0;if(c){let u=c;for(;u;)e+=u.offsetLeft,t+=u.offsetTop,u=u.offsetParent,u&&(e+=parseInt(gv(u,"borderLeft"),10),t+=parseInt(gv(u,"borderTop"),10));r=c.offsetWidth,a=c.offsetHeight}return{left:e,top:t,width:r,height:a}}function $s(c,e,t={}){if(e==null)return Gf(Il(c,"transform"));if(t.absolute){c.setAttribute("transform",Ud(e));return}const r=c.transform,a=op(e);r.baseVal.appendItem(a)}function Og(c,e,t=0,r={}){let a=Il(c,"transform");const u=Vd(a);if(e==null)return u.translation;a=u.raw,a=a.replace(/translate\([^)]*\)/g,"").trim();const p=r.absolute?e:u.translation.tx+e,b=r.absolute?t:u.translation.ty+t,P=`translate(${p},${b})`;c.setAttribute("transform",`${P} ${a}`.trim())}function Bf(c,e,t,r,a={}){let u=Il(c,"transform");const p=Vd(u);if(e==null)return p.rotation;u=p.raw,u=u.replace(/rotate\([^)]*\)/g,"").trim(),e%=360;const b=a.absolute?e:p.rotation.angle+e,P=t!=null&&r!=null?`,${t},${r}`:"",I=`rotate(${b}${P})`;c.setAttribute("transform",`${u} ${I}`.trim())}function jd(c,e,t){let r=Il(c,"transform");const a=Vd(r);if(e==null)return a.scale;t=t==null?e:t,r=a.raw,r=r.replace(/scale\([^)]*\)/g,"").trim();const u=`scale(${e},${t})`;c.setAttribute("transform",`${r} ${u}`.trim())}function wv(c,e,t,r){const a=Bn.create(e),u=Bn.create(t);r||(r=c instanceof SVGSVGElement?c:c.ownerSVGElement);const p=jd(c);c.setAttribute("transform","");const b=ai(c,{target:r}).scale(p.sx,p.sy),P=op();P.setTranslate(-b.x-b.width/2,-b.y-b.height/2);const I=op(),z=a.angleBetween(u,a.clone().translate(1,0));z&&I.setRotate(z,0,0);const W=op(),ne=a.clone().move(u,b.width/2);W.setTranslate(2*a.x-ne.x,2*a.y-ne.y);const Te=Ec(c,r),Ke=op();Ke.setMatrix(W.matrix.multiply(I.matrix.multiply(P.matrix.multiply(Te.scale(p.sx,p.sy))))),c.setAttribute("transform",Ud(Ke.matrix))}class ac{constructor(e,t,r){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=Ne.isEventSupported("wheel")?"wheel":"mousewheel",this.target=e,this.onWheelCallback=t,this.onWheelGuard=r,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){Ne.SUPPORT_PASSIVE?this.target.addEventListener(this.eventName,this.onWheel,{passive:!1}):L()(this.target).on("mousewheel",this.onWheel)}disable(){Ne.SUPPORT_PASSIVE?this.target.removeEventListener(this.eventName,this.onWheel):L()(this.target).off("mousewheel")}onWheel(e){if(this.onWheelGuard!=null&&!this.onWheelGuard(e))return;this.deltaX+=e.deltaX,this.deltaY+=e.deltaY,e.preventDefault();let t;(this.deltaX!==0||this.deltaY!==0)&&(e.stopPropagation(),t=!0),t===!0&&this.animationFrameId===0&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(e)}))}didWheel(e){this.animationFrameId=0,this.onWheelCallback(e,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}const yb=ma.isVector,mm=ma.create,Sv=ma.createVectors;function ym(c,e=60){let t=null;return(...r)=>{t&&clearTimeout(t),t=window.setTimeout(()=>{c.apply(this,r)},e)}}function bm(c){let e=null,t=[];const r=()=>{if(getComputedStyle(c).position==="static"){const I=c.style;I.position="relative"}const P=document.createElement("object");return P.onload=()=>{P.contentDocument.defaultView.addEventListener("resize",a),a()},P.style.display="block",P.style.position="absolute",P.style.top="0",P.style.left="0",P.style.height="100%",P.style.width="100%",P.style.overflow="hidden",P.style.pointerEvents="none",P.style.zIndex="-1",P.style.opacity="0",P.setAttribute("tabindex","-1"),P.type="text/html",c.appendChild(P),P.data="about:blank",P},a=ym(()=>{t.forEach(P=>P(c))}),u=P=>{e||(e=r()),t.indexOf(P)===-1&&t.push(P)},p=()=>{e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",a),e.parentNode.removeChild(e),e=null,t=[])};return{element:c,bind:u,destroy:p,unbind:P=>{const I=t.indexOf(P);I!==-1&&t.splice(I,1),t.length===0&&e&&p()}}}function bb(c){let e=null,t=[];const r=ym(()=>{t.forEach(P=>{P(c)})}),a=()=>{const P=new ResizeObserver(r);return P.observe(c),r(),P},u=P=>{e||(e=a()),t.indexOf(P)===-1&&t.push(P)},p=()=>{e&&(e.disconnect(),t=[],e=null)};return{element:c,bind:u,destroy:p,unbind:P=>{const I=t.indexOf(P);I!==-1&&t.splice(I,1),t.length===0&&e&&p()}}}const Cb=typeof ResizeObserver!="undefined"?bb:bm;var Mv;(function(c){const e=new WeakMap;function t(a){let u=e.get(a);return u||(u=Cb(a),e.set(a,u),u)}function r(a){a.destroy(),e.delete(a.element)}c.bind=(a,u)=>{const p=t(a);return p.bind(u),()=>p.unbind(u)},c.clear=a=>{const u=t(a);r(u)}})(Mv||(Mv={}));var _g;(function(c){const e=[],t=16.666666666666668,r=[];let a=0;const u=()=>performance.now(),p=z=>z[0],b=z=>r.push(z)===1&&P(),P=(()=>{const z=()=>{var W,ne;return(ne=(W=r.splice(0,r.length))[0])===null||ne===void 0?void 0:ne.call(W)};if(typeof MessageChannel!="undefined"){const{port1:W,port2:ne}=new MessageChannel;return W.onmessage=z,()=>ne.postMessage(null)}return()=>setTimeout(z)})(),I=()=>{a=u()+t;let z=p(e);for(;z&&!c.shouldYield();){const{callback:W,data:ne}=z;z.callback=null;const Te=W&&W(ne);Te?z.callback=Te:e.shift(),z=p(e)}z&&b(I)};c.scheduleTask=(z,W)=>{const ne={callback:z,data:W};e.push(ne),b(I)},c.shouldYield=()=>{var z,W;return((W=(z=navigator)===null||z===void 0?void 0:z.scheduling)===null||W===void 0?void 0:W.isInputPending())||u()>=a}})(_g||(_g={}));class ru{constructor(e){this.options=Object.assign({},e),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(e,t,r=!1){if(typeof e=="object"){Object.keys(e).forEach(p=>{this.register(p,e[p],t)});return}this.exist(e)&&!r&&!Ne.isApplyingHMR()&&this.onDuplicated(e);const a=this.options.process,u=a?er(a,this,e,t):t;return this.data[e]=u,u}unregister(e){const t=e?this.data[e]:null;return delete this.data[e],t}get(e){return e?this.data[e]:null}exist(e){return e?this.data[e]!=null:!1}onDuplicated(e){try{throw this.options.onConflict&&er(this.options.onConflict,this,e),new Error(`${ql(this.options.type)} with name '${e}' already registered.`)}catch(t){throw t}}onNotFound(e,t){throw new Error(this.getSpellingSuggestion(e,t))}getSpellingSuggestion(e,t){const r=this.getSpellingSuggestionForName(e),a=t?`${t} ${Qh(this.options.type)}`:this.options.type;return`${ql(a)} with name '${e}' does not exist.${r?` Did you mean '${r}'?`:""}`}getSpellingSuggestionForName(e){return ri(e,Object.keys(this.data),t=>t)}}(function(c){function e(t){return new c(t)}c.create=e})(ru||(ru={}));const xb={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},Eb={},g0={position:Ag("x","width","origin")},v0={position:Ag("y","height","origin")},wb={position:Ag("x","width","corner")},Cm={position:Ag("y","height","corner")},Pv={set:fh("width","width")},lp={set:fh("height","height")},m0={set:fh("rx","width")},Sb={set:fh("ry","height")},xm={set:(c=>{const e=fh(c,"width"),t=fh(c,"height");return function(r,a){const u=a.refBBox,p=u.height>u.width?e:t;return er(p,this,r,a)}})("r")},Em={set(c,{refBBox:e}){let t=parseFloat(c);const r=sl(c);r&&(t/=100);const a=Math.sqrt(e.height*e.height+e.width*e.width);let u;return Number.isFinite(t)&&(r||t>=0&&t<=1?u=t*a:u=Math.max(t+a,0)),{r:u}}},Yu={set:fh("cx","width")},Wf={set:fh("cy","height")},wm={set:Om({resetOffset:!0})},Mb={set:Om({resetOffset:!1})},Sm={set:_m({resetOffset:!0})},Mm={set:_m({resetOffset:!1})},Pb=xm,Tb=wm,Ob=Sm,cp=g0,Pm=v0,_b=Pv,Ab=lp;function Ag(c,e,t){return(r,{refBBox:a})=>{if(r==null)return null;let u=parseFloat(r);const p=sl(r);p&&(u/=100);let b;if(Number.isFinite(u)){const I=a[t];p||u>0&&u<1?b=I[c]+a[e]*u:b=I[c]+u}const P=new Bn;return P[c]=b||0,P}}function fh(c,e){return function(t,{refBBox:r}){let a=parseFloat(t);const u=sl(t);u&&(a/=100);const p={};if(Number.isFinite(a)){const b=u||a>=0&&a<=1?a*r[e]:Math.max(a+r[e],0);p[c]=b}return p}}function Tm(c,e){const t="x6-shape",r=e&&e.resetOffset;return function(a,{view:u,elem:p,refBBox:b}){const P=u.$(p);let I=P.data(t);if(!I||I.value!==a){const tn=c(a);I={value:a,shape:tn,shapeBBox:tn.bbox()},P.data(t,I)}const z=I.shape.clone(),W=I.shapeBBox.clone(),ne=W.getOrigin(),Te=b.getOrigin();W.x=Te.x,W.y=Te.y;const Ke=b.getMaxScaleToFit(W,Te),Ue=W.width===0||b.width===0?1:Ke.sx,At=W.height===0||b.height===0?1:Ke.sy;return z.scale(Ue,At,ne),r&&z.translate(-ne.x,-ne.y),z}}function Om(c){function e(r){return rs.parse(r)}const t=Tm(e,c);return(r,a)=>({d:t(r,a).serialize()})}function _m(c){const e=Tm(t=>new du(t),c);return(t,r)=>({points:e(t,r).serialize()})}const Db={qualify:_n.Z,set(c,{view:e}){return`url(#${e.graph.defineGradient(c)})`}},Up={qualify:_n.Z,set(c,{view:e}){const t=e.cell,r=Object.assign({},c);if(t.isEdge()&&r.type==="linearGradient"){const a=e,u=a.sourcePoint,p=a.targetPoint;r.id=`gradient-${r.type}-${t.id}`,r.attrs=Object.assign(Object.assign({},r.attrs),{x1:u.x,y1:u.y,x2:p.x,y2:p.y,gradientUnits:"userSpaceOnUse"}),e.graph.defs.remove(r.id)}return`url(#${e.graph.defineGradient(r)})`}},Am={qualify(c,{attrs:e}){return e.textWrap==null||!_n.Z(e.textWrap)},set(c,{view:e,elem:t,attrs:r}){const a="x6-text",u=e.$(t),p=u.data(a),b=W=>{try{return JSON.parse(W)}catch(ne){return W}},P={x:r.x,eol:r.eol,annotations:b(r.annotations),textPath:b(r["text-path"]||r.textPath),textVerticalAnchor:r["text-vertical-anchor"]||r.textVerticalAnchor,displayEmpty:(r["display-empty"]||r.displayEmpty)==="true",lineHeight:r["line-height"]||r.lineHeight},I=r["font-size"]||r.fontSize,z=JSON.stringify([c,P]);if(I&&t.setAttribute("font-size",I),p==null||p!==z){const W=P.textPath;if(W!=null&&typeof W=="object"){const ne=W.selector;if(typeof ne=="string"){const Te=e.find(ne)[0];Te instanceof SVGPathElement&&(pi(Te),P.textPath=Object.assign({"xlink:href":`#${Te.id}`},W))}}yv(t,`${c}`,P),u.data(a,z)}}},Nb={qualify:_n.Z,set(c,{view:e,elem:t,attrs:r,refBBox:a}){const u=c,p=u.width||0;sl(p)?a.width*=parseFloat(p)/100:p<=0?a.width+=p:a.width=p;const b=u.height||0;sl(b)?a.height*=parseFloat(b)/100:b<=0?a.height+=b:a.height=b;let P,I=u.text;I==null&&(I=r.text),I!=null?P=bv(`${I}`,a,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight},{svgDocument:e.graph.view.svg,ellipsis:u.ellipsis,hyphen:u.hyphen,breakWord:u.breakWord}):P="",er(Am.set,this,P,{view:e,elem:t,attrs:r,refBBox:a,cell:e.cell})}},Vp=(c,{attrs:e})=>e.text!==void 0,Rb={qualify:Vp},Ib={qualify:Vp},Dm={qualify:Vp},Nm={qualify:Vp},kb={qualify:Vp},Lb={qualify:Vp},Rm={qualify(c,{elem:e}){return e instanceof SVGElement},set(c,{view:e,elem:t}){const r="x6-title",a=`${c}`,u=e.$(t),p=u.data(r);if(p==null||p!==a){u.data(r,a);const b=t.firstChild;if(b&&b.tagName.toUpperCase()==="TITLE"){const P=b;P.textContent=a}else{const P=document.createElementNS(t.namespaceURI,"title");P.textContent=a,t.insertBefore(P,b)}}}},Fb={offset:Im("x","width","right")},Gb={offset:Im("y","height","bottom")},Bb={offset(c,{refBBox:e}){return c?{x:-e.x,y:-e.y}:{x:0,y:0}}};function Im(c,e,t){return(r,{refBBox:a})=>{const u=new Bn;let p;return r==="middle"?p=a[e]/2:r===t?p=a[e]:typeof r=="number"&&Number.isFinite(r)?p=r>-1&&r<1?-a[e]*r:-r:sl(r)?p=a[e]*parseFloat(r)/100:p=0,u[c]=-(a[c]+p),u}}const Zb={qualify:_n.Z,set(c,{view:e,elem:t}){e.$(t).css(c)}},zb={set(c,{view:e,elem:t}){e.$(t).html(`${c}`)}},Ub={qualify:_n.Z,set(c,{view:e}){return`url(#${e.graph.defineFilter(c)})`}},Vb={set(c){return c!=null&&typeof c=="object"&&c.id?c.id:c}};function Rh(c,e,t){let r,a;typeof e=="object"?(r=e.x,a=e.y):(r=e,a=t);const u=rs.parse(c),p=u.bbox();if(p){let b=-p.height/2-p.y,P=-p.width/2-p.x;typeof r=="number"&&(P-=r),typeof a=="number"&&(b-=a),u.translate(P,b)}return u.serialize()}var km=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};const jb=c=>{var{size:e,width:t,height:r,offset:a,open:u}=c,p=km(c,["size","width","height","offset","open"]);return Ad({size:e,width:t,height:r,offset:a},u===!0,!0,void 0,p)},ec=c=>{var{size:e,width:t,height:r,offset:a,factor:u}=c,p=km(c,["size","width","height","offset","factor"]);return Ad({size:e,width:t,height:r,offset:a},!1,!1,u,p)};function Ad(c,e,t,r=3/4,a={}){const u=c.size||10,p=c.width||u,b=c.height||u,P=new rs,I={};if(e)P.moveTo(p,0).lineTo(0,b/2).lineTo(p,b),I.fill="none";else{if(P.moveTo(0,b/2),P.lineTo(p,0),!t){const z=Ci(r,0,1);P.lineTo(p*z,b/2)}P.lineTo(p,b),P.close()}return Object.assign(Object.assign(Object.assign({},I),a),{tagName:"path",d:Rh(P.serialize(),{x:c.offset!=null?c.offset:-p/2})})}var Dg=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};const Js=c=>{var{size:e,width:t,height:r,offset:a}=c,u=Dg(c,["size","width","height","offset"]);const p=e||10,b=t||p,P=r||p,I=new rs;return I.moveTo(0,P/2).lineTo(b/2,0).lineTo(b,P/2).lineTo(b/2,P).close(),Object.assign(Object.assign({},u),{tagName:"path",d:Rh(I.serialize(),a==null?-b/2:a)})};var rf=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};const up=c=>{var{d:e,offsetX:t,offsetY:r}=c,a=rf(c,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},a),{tagName:"path",d:Rh(e,t,r)})};var $d=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};const Tv=c=>{var{size:e,width:t,height:r,offset:a}=c,u=$d(c,["size","width","height","offset"]);const p=e||10,b=t||p,P=r||p,I=new rs;return I.moveTo(0,0).lineTo(b,P).moveTo(0,P).lineTo(b,0),Object.assign(Object.assign({},u),{tagName:"path",fill:"none",d:Rh(I.serialize(),a||-b/2)})};var Lm=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};const $b=c=>{var{width:e,height:t,offset:r,open:a,flip:u}=c,p=Lm(c,["width","height","offset","open","flip"]);let b=t||6;const P=e||10,I=a===!0,z=u===!0,W=Object.assign(Object.assign({},p),{tagName:"path"});z&&(b=-b);const ne=new rs;return ne.moveTo(0,b).lineTo(P,0),I?W.fill="none":(ne.lineTo(P,b),ne.close()),W.d=Rh(ne.serialize(),{x:r||-P/2,y:b/2}),W};var Fm=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};const Ov=c=>{var{r:e}=c,t=Fm(c,["r"]);const r=e||5;return Object.assign(Object.assign({cx:r},t),{tagName:"circle",r})},Gm=c=>{var{r:e}=c,t=Fm(c,["r"]);const r=e||5,a=new rs;return a.moveTo(r,0).lineTo(r,r*2),a.moveTo(0,r).lineTo(r*2,r),{children:[Object.assign(Object.assign({},Ov({r})),{fill:"none"}),Object.assign(Object.assign({},t),{tagName:"path",d:Rh(a.serialize(),-r)})]}};var Bm=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};const Wb=c=>{var{rx:e,ry:t}=c,r=Bm(c,["rx","ry"]);const a=e||5,u=t||5;return Object.assign(Object.assign({cx:a},r),{tagName:"ellipse",rx:a,ry:u})};var Hf;(function(c){c.presets=A,c.registry=ru.create({type:"marker"}),c.registry.register(c.presets,!0)})(Hf||(Hf={})),function(c){c.normalize=Rh}(Hf||(Hf={}));var Hb=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};function jp(c){return typeof c=="string"||_n.Z(c)}const Kb={qualify:jp,set(c,{view:e,attrs:t}){return Tf("marker-start",c,e,t)}},Yb={qualify:jp,set(c,{view:e,attrs:t}){return Tf("marker-end",c,e,t,{transform:"rotate(180)"})}},Xb={qualify:jp,set(c,{view:e,attrs:t}){return Tf("marker-mid",c,e,t)}};function Tf(c,e,t,r,a={}){const u=typeof e=="string"?{name:e}:e,{name:p,args:b}=u,P=Hb(u,["name","args"]);let I=P;if(p&&typeof p=="string"){const W=Hf.registry.get(p);if(W)I=W(Object.assign(Object.assign({},P),b));else return Hf.registry.onNotFound(p)}const z=Object.assign(Object.assign(Object.assign({},Ih(r,c)),a),I);return{[c]:`url(#${t.graph.defineMarker(z)})`}}function Ih(c,e){const t={},r=c.stroke;typeof r=="string"&&(t.stroke=r,t.fill=r);let a=c.strokeOpacity;if(a==null&&(a=c["stroke-opacity"]),a==null&&(a=c.opacity),a!=null&&(t["stroke-opacity"]=a,t["fill-opacity"]=a),e!=="marker-mid"){const u=parseFloat(c.strokeWidth||c["stroke-width"]);if(Number.isFinite(u)&&u>1){const p=Math.ceil(u/2);t.refX=e==="marker-start"?p:-p}}return t}const Wd=(c,{view:e})=>e.cell.isEdge(),_v={qualify:Wd,set(c,e){var t,r,a,u;const p=e.view,b=c.reverse||!1,P=c.stubs||0;let I;if(Number.isFinite(P)&&P!==0)if(b){let z,W;const ne=p.getConnectionLength()||0;P<0?(z=(ne+P)/2,W=-P):(z=P,W=ne-P*2);const Te=p.getConnection();I=(u=(a=(r=(t=Te==null?void 0:Te.divideAtLength(z))===null||t===void 0?void 0:t[1])===null||r===void 0?void 0:r.divideAtLength(W))===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.serialize()}else{let z;P<0?z=((p.getConnectionLength()||0)+P)/2:z=P;const W=p.getConnection();if(W){const ne=W.divideAtLength(z),Te=W.divideAtLength(-z);ne&&Te&&(I=`${ne[0].serialize()} ${Te[1].serialize()}`)}}return{d:I||p.getConnectionPathData()}}},dh={qualify:Wd,set:Ng("getTangentAtLength",{rotate:!0})},Qb={qualify:Wd,set:Ng("getTangentAtLength",{rotate:!1})},Av={qualify:Wd,set:Ng("getTangentAtRatio",{rotate:!0})},Jb={qualify:Wd,set:Ng("getTangentAtRatio",{rotate:!1})},$p=dh,Dv=Av;function Ng(c,e){const t={x:1,y:0};return(r,a)=>{let u,p;const b=a.view,P=b[c](Number(r));return P?(p=e.rotate?P.vector().vectorAngle(t):0,u=P.start):(u=b.path.start,p=0),p===0?{transform:`translate(${u.x},${u.y}')`}:{transform:`translate(${u.x},${u.y}') rotate(${p})`}}}var Dd;(function(c){function e(t,r,a){return!!(t!=null&&(typeof t=="string"||typeof t.qualify!="function"||er(t.qualify,this,r,a)))}c.isValidDefinition=e})(Dd||(Dd={})),function(c){c.presets=Object.assign(Object.assign({},xb),E),c.registry=ru.create({type:"attribute definition"}),c.registry.register(c.presets,!0)}(Dd||(Dd={}));const qb={color:"#aaaaaa",thickness:1,markup:"rect",update(c,e){const t=e.thickness*e.sx,r=e.thickness*e.sy;Il(c,{width:t,height:r,rx:t,ry:r,fill:e.color})}},Zm={color:"#aaaaaa",thickness:1,markup:"rect",update(c,e){const t=e.sx<=1?e.thickness*e.sx:e.thickness;Il(c,{width:t,height:t,rx:t,ry:t,fill:e.color})}},e1={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(c,e){let t;const r=e.width,a=e.height,u=e.thickness;r-u>=0&&a-u>=0?t=["M",r,0,"H0 M0 0 V0",a].join(" "):t="M 0 0 0 0",Il(c,{d:t,stroke:e.color,"stroke-width":e.thickness})}},t1=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(c,e){let t;const r=e.width,a=e.height,u=e.thickness;r-u>=0&&a-u>=0?t=["M",r,0,"H0 M0 0 V0",a].join(" "):t="M 0 0 0 0",Il(c,{d:t,stroke:e.color,"stroke-width":e.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(c,e){let t;const r=e.factor||1,a=e.width*r,u=e.height*r,p=e.thickness;a-p>=0&&u-p>=0?t=["M",a,0,"H0 M0 0 V0",u].join(" "):t="M 0 0 0 0",e.width=a,e.height=u,Il(c,{d:t,stroke:e.color,"stroke-width":e.thickness})}}];class hh{constructor(){this.patterns={},this.root=ma.create(_a(),{width:"100%",height:"100%"},[$o("defs")]).node}add(e,t){const r=this.root.childNodes[0];r&&r.appendChild(t),this.patterns[e]=t,ma.create("rect",{width:"100%",height:"100%",fill:`url(#${e})`}).appendTo(this.root)}get(e){return this.patterns[e]}has(e){return this.patterns[e]!=null}}(function(c){c.presets=w,c.registry=ru.create({type:"grid"}),c.registry.register(c.presets,!0)})(hh||(hh={}));function Rg(c,e){return c!=null?c:e}function Zu(c,e){return c!=null&&Number.isFinite(c)?c:e}function Nv(c={}){const e=Rg(c.color,"blue"),t=Zu(c.width,1),r=Zu(c.margin,2),a=Zu(c.opacity,1),u=r,p=r+t;return`
    <filter>
      <feFlood flood-color="${e}" flood-opacity="${a}" result="colored"/>
      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${p}" />
      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${u}" />
      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>
      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>
      <feMerge>
        <feMergeNode in="outline"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  `.trim()}function n1(c={}){const e=Rg(c.color,"red"),t=Zu(c.blur,0),r=Zu(c.width,1),a=Zu(c.opacity,1);return`
      <filter>
        <feFlood flood-color="${e}" flood-opacity="${a}" result="colored"/>
        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${r}"/>
        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>
        <feGaussianBlur result="blured" in="composed" stdDeviation="${t}"/>
        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>
      </filter>
    `.trim()}function r1(c={}){const e=Zu(c.x,2);return`
    <filter>
      <feGaussianBlur stdDeviation="${c.y!=null&&Number.isFinite(c.y)?[e,c.y]:e}"/>
    </filter>
  `.trim()}function y0(c={}){const e=Zu(c.dx,0),t=Zu(c.dy,0),r=Rg(c.color,"black"),a=Zu(c.blur,4),u=Zu(c.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>
         <feDropShadow stdDeviation="${a}" dx="${e}" dy="${t}" flood-color="${r}" flood-opacity="${u}" />
       </filter>`.trim():`<filter>
         <feGaussianBlur in="SourceAlpha" stdDeviation="${a}" />
         <feOffset dx="${e}" dy="${t}" result="offsetblur" />
         <feFlood flood-color="${r}" />
         <feComposite in2="offsetblur" operator="in" />
         <feComponentTransfer>
           <feFuncA type="linear" slope="${u}" />
         </feComponentTransfer>
         <feMerge>
           <feMergeNode/>
           <feMergeNode in="SourceGraphic"/>
         </feMerge>
       </filter>`.trim()}function i1(c={}){const e=Zu(c.amount,1),t=.2126+.7874*(1-e),r=.7152-.7152*(1-e),a=.0722-.0722*(1-e),u=.2126-.2126*(1-e),p=.7152+.2848*(1-e),b=.0722-.0722*(1-e),P=.2126-.2126*(1-e),I=.0722+.9278*(1-e);return`
    <filter>
      <feColorMatrix type="matrix" values="${t} ${r} ${a} 0 0 ${u} ${p} ${b} 0 0 ${P} ${r} ${I} 0 0 0 0 0 1 0"/>
    </filter>
  `.trim()}function b0(c={}){const e=Zu(c.amount,1),t=.393+.607*(1-e),r=.769-.769*(1-e),a=.189-.189*(1-e),u=.349-.349*(1-e),p=.686+.314*(1-e),b=.168-.168*(1-e),P=.272-.272*(1-e),I=.534-.534*(1-e),z=.131+.869*(1-e);return`
      <filter>
        <feColorMatrix type="matrix" values="${t} ${r} ${a} 0 0 ${u} ${p} ${b} 0 0 ${P} ${I} ${z} 0 0 0 0 0 1 0"/>
      </filter>
    `.trim()}function o1(c={}){return`
      <filter>
        <feColorMatrix type="saturate" values="${1-Zu(c.amount,1)}"/>
      </filter>
    `.trim()}function a1(c={}){return`
      <filter>
        <feColorMatrix type="hueRotate" values="${Zu(c.angle,0)}"/>
      </filter>
    `.trim()}function fp(c={}){const e=Zu(c.amount,1),t=1-e;return`
      <filter>
        <feComponentTransfer>
          <feFuncR type="table" tableValues="${e} ${t}"/>
          <feFuncG type="table" tableValues="${e} ${t}"/>
          <feFuncB type="table" tableValues="${e} ${t}"/>
        </feComponentTransfer>
      </filter>
    `.trim()}function zm(c={}){const e=Zu(c.amount,1);return`
    <filter>
      <feComponentTransfer>
        <feFuncR type="linear" slope="${e}"/>
        <feFuncG type="linear" slope="${e}"/>
        <feFuncB type="linear" slope="${e}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}function Um(c={}){const e=Zu(c.amount,1),t=.5-e/2;return`
    <filter>
     <feComponentTransfer>
        <feFuncR type="linear" slope="${e}" intercept="${t}"/>
        <feFuncG type="linear" slope="${e}" intercept="${t}"/>
        <feFuncB type="linear" slope="${e}" intercept="${t}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}var kh;(function(c){c.presets=k,c.registry=ru.create({type:"filter"}),c.registry.register(c.presets,!0)})(kh||(kh={}));const C0=function(c){const e=document.createElement("canvas"),t=c.width,r=c.height;e.width=t*2,e.height=r;const a=e.getContext("2d");return a.drawImage(c,0,0,t,r),a.translate(2*t,0),a.scale(-1,1),a.drawImage(c,0,0,t,r),e},x0=function(c){const e=document.createElement("canvas"),t=c.width,r=c.height;e.width=t,e.height=r*2;const a=e.getContext("2d");return a.drawImage(c,0,0,t,r),a.translate(0,2*r),a.scale(1,-1),a.drawImage(c,0,0,t,r),e},E0=function(c){const e=document.createElement("canvas"),t=c.width,r=c.height;e.width=2*t,e.height=2*r;const a=e.getContext("2d");return a.drawImage(c,0,0,t,r),a.setTransform(-1,0,0,-1,e.width,e.height),a.drawImage(c,0,0,t,r),a.setTransform(-1,0,0,1,e.width,0),a.drawImage(c,0,0,t,r),a.setTransform(1,0,0,-1,0,e.height),a.drawImage(c,0,0,t,r),e},Vm=function(c,e){const t=c.width,r=c.height,a=document.createElement("canvas");a.width=t*3,a.height=r*3;const u=a.getContext("2d"),p=e.angle!=null?-e.angle:-20,b=gl.toRad(p),P=a.width/4,I=a.height/4;for(let z=0;z<4;z+=1)for(let W=0;W<4;W+=1)(z+W)%2>0&&(u.setTransform(1,0,0,1,(2*z-1)*P,(2*W-1)*I),u.rotate(b),u.drawImage(c,-t/2,-r/2,t,r));return a};var dp;(function(c){c.presets=Object.assign({},Z),c.presets["flip-x"]=C0,c.presets["flip-y"]=x0,c.presets["flip-xy"]=E0,c.registry=ru.create({type:"background pattern"}),c.registry.register(c.presets,!0)})(dp||(dp={}));const Kf={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,trackable:!1,trackInfo:{},track(c){Kf.trackable=c}};var vu;(function(c){c.snapToGrid=Td,c.normalizeMarker=Rh;function e(t){return`${Kf.prefixCls}-${t}`}c.prefix=e})(vu||(vu={})),function(c){function e(t,r,a,u=[]){const p=typeof r.children=="function"?r.children(t):t[r.children||"children"];return a||(a=r.createNode(t),u.push(a)),Array.isArray(p)&&p.forEach(b=>{const P=r.createNode(b),I=r.createEdge(a,P);u.push(P,I),this.makeTree(b,r,P,u)}),u}c.makeTree=e}(vu||(vu={}));const w0=vu.prefix("highlighted"),jm={highlight(c,e,t){const r=t&&t.className||w0;Qt(e,r)},unhighlight(c,e,t){const r=t&&t.className||w0;Zn(e,r)}},y=vu.prefix("highlight-opacity"),_={highlight(c,e){Qt(e,y)},unhighlight(c,e){Zn(e,y)}},q={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},Fe={highlight(c,e,t){const r=wt.getHighlighterId(e,t);if(wt.hasCache(r))return;t=yo({},t,q);const a=ma.create(e);let u,p;try{u=a.toPathData()}catch(z){p=a.bbox(!0),u=pu(Object.assign(Object.assign({},t),p))}const b=$o("path");if(Il(b,Object.assign({d:u,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},t.attrs?np(t.attrs):null)),c.isEdgeElement(e))Il(b,"d",c.getConnectionPathData());else{let z=a.getTransformToElement(c.container);const W=t.padding;if(W){p==null&&(p=a.bbox(!0));const ne=p.x+p.width/2,Te=p.y+p.height/2;p=Pf(p,z);const Ke=Math.max(p.width,1),Ue=Math.max(p.height,1),At=(Ke+W)/Ke,tn=(Ue+W)/Ue,pn=Ms({a:At,b:0,c:0,d:tn,e:ne-At*ne,f:Te-tn*Te});z=z.multiply(pn)}$s(b,z)}Qt(b,vu.prefix("highlight-stroke"));const P=c.cell,I=()=>wt.removeHighlighter(r);P.on("removed",I),P.model&&P.model.on("reseted",I),c.container.appendChild(b),wt.setCache(r,b)},unhighlight(c,e,t){wt.removeHighlighter(wt.getHighlighterId(e,t))}};var wt;(function(c){function e(p,b){return pi(p),p.id+JSON.stringify(b)}c.getHighlighterId=e;const t={};function r(p,b){t[p]=b}c.setCache=r;function a(p){return t[p]!=null}c.hasCache=a;function u(p){const b=t[p];b&&(cu(b),delete t[p])}c.removeHighlighter=u})(wt||(wt={}));var rn;(function(c){function e(t,r){if(typeof r.highlight!="function")throw new Error(`Highlighter '${t}' is missing required \`highlight()\` method`);if(typeof r.unhighlight!="function")throw new Error(`Highlighter '${t}' is missing required \`unhighlight()\` method`)}c.check=e})(rn||(rn={})),function(c){c.presets=U,c.registry=ru.create({type:"highlighter"}),c.registry.register(c.presets,!0)}(rn||(rn={}));function rr(c,e={}){return new Bn(jl(e.x,c.width),jl(e.y,c.height))}function Sr(c,e,t){return Object.assign({angle:e,position:c.toJSON()},t)}const qr=(c,e)=>c.map(({x:t,y:r,angle:a})=>Sr(rr(e,{x:t,y:r}),a||0)),qi=(c,e,t)=>{const r=t.start||0,a=t.step||20;return Mo(c,e,r,(u,p)=>(u+.5-p/2)*a)},to=(c,e,t)=>{const r=t.start||0,a=t.step||360/c.length;return Mo(c,e,r,u=>u*a)};function Mo(c,e,t,r){const a=e.getCenter(),u=e.getTopCenter(),p=e.width/e.height,b=gd.fromRect(e),P=c.length;return c.map((I,z)=>{const W=t+r(z,P),ne=u.clone().rotate(-W,a).scale(p,1,a),Te=I.compensateRotate?-b.tangentTheta(ne):0;return(I.dx||I.dy)&&ne.translate(I.dx||0,I.dy||0),I.dr&&ne.move(a,I.dr),Sr(ne.round(),Te,I)})}var Ma=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};const ia=(c,e,t)=>{const r=rr(e,t.start||e.getOrigin()),a=rr(e,t.end||e.getCorner());return wl(c,r,a,t)},Ls=(c,e,t)=>wl(c,e.getTopLeft(),e.getBottomLeft(),t),ml=(c,e,t)=>wl(c,e.getTopRight(),e.getBottomRight(),t),Is=(c,e,t)=>wl(c,e.getTopLeft(),e.getTopRight(),t),Ll=(c,e,t)=>wl(c,e.getBottomLeft(),e.getBottomRight(),t);function wl(c,e,t,r){const a=new Ra(e,t),u=c.length;return c.map((p,b)=>{var{strict:P}=p,I=Ma(p,["strict"]);const z=P||r.strict?(b+1)/(u+1):(b+.5)/u,W=a.pointAt(z);return(I.dx||I.dy)&&W.translate(I.dx||0,I.dy||0),Sr(W.round(),0,I)})}var Ou;(function(c){c.presets=$,c.registry=ru.create({type:"port layout"}),c.registry.register(c.presets,!0)})(Ou||(Ou={}));const df={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function Eu(c,e){const{x:t,y:r,angle:a,attrs:u}=e||{};return yo({},{angle:a,attrs:u,position:{x:t,y:r}},c,df)}const mu=(c,e,t)=>Eu({position:e.getTopLeft()},t),vd=(c,e,t)=>Eu({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},t),Hd=(c,e,t)=>Eu({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},t),S0=(c,e,t)=>Eu({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},t),Vr=(c,e,t)=>Eu({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},t),s1=(c,e,t)=>Rv(c,e,!1,t),l1=(c,e,t)=>Rv(c,e,!0,t),c1=(c,e,t)=>$m(c,e,!1,t),u1=(c,e,t)=>$m(c,e,!0,t);function Rv(c,e,t,r){const a=r.offset!=null?r.offset:15,u=e.getCenter().theta(c),p=Wm(e);let b,P,I,z,W=0;return u<p[1]||u>p[2]?(b=".3em",P=a,I=0,z="start"):u<p[0]?(b="0",P=0,I=-a,t?(W=-90,z="start"):z="middle"):u<p[3]?(b=".3em",P=-a,I=0,z="end"):(b=".6em",P=0,I=a,t?(W=90,z="start"):z="middle"),Eu({position:{x:Math.round(P),y:Math.round(I)},angle:W,attrs:{".":{y:b,"text-anchor":z}}},r)}function $m(c,e,t,r){const a=r.offset!=null?r.offset:15,u=e.getCenter().theta(c),p=Wm(e);let b,P,I,z,W=0;return u<p[1]||u>p[2]?(b=".3em",P=-a,I=0,z="end"):u<p[0]?(b=".6em",P=0,I=a,t?(W=90,z="start"):z="middle"):u<p[3]?(b=".3em",P=a,I=0,z="start"):(b="0em",P=0,I=-a,t?(W=-90,z="start"):z="middle"),Eu({position:{x:Math.round(P),y:Math.round(I)},angle:W,attrs:{".":{y:b,"text-anchor":z}}},r)}function Wm(c){const e=c.getCenter(),t=e.theta(c.getTopLeft()),r=e.theta(c.getBottomLeft()),a=e.theta(c.getBottomRight()),u=e.theta(c.getTopRight());return[t,u,a,r]}const f1=(c,e,t)=>Hm(c.diff(e.getCenter()),!1,t),uC=(c,e,t)=>Hm(c.diff(e.getCenter()),!0,t);function Hm(c,e,t){const r=t.offset!=null?t.offset:20,a=new Bn(0,0),u=-c.theta(a),p=c.clone().move(a,r).diff(c).round();let b=".3em",P,I=u;return(u+90)%180===0?(P=e?"end":"middle",!e&&u===-270&&(b="0em")):u>-270&&u<-90?(P="start",I=u-180):P="end",Eu({position:p.round().toJSON(),angle:e?I:0,attrs:{".":{y:b,"text-anchor":P}}},t)}var hp;(function(c){c.presets=te,c.registry=ru.create({type:"port label layout"}),c.registry.register(c.presets,!0)})(hp||(hp={}));class Lh{constructor(e,t,r,a){if(e==null)return this.set(255,255,255,1);if(typeof e=="number")return this.set(e,t,r,a);if(typeof e=="string")return Lh.fromString(e)||this;if(Array.isArray(e))return this.set(e);this.set(e.r,e.g,e.b,e.a==null?1:e.a)}blend(e,t,r){this.set(e.r+(t.r-e.r)*r,e.g+(t.g-e.g)*r,e.b+(t.b-e.b)*r,e.a+(t.a-e.a)*r)}lighten(e){const t=Lh.lighten(this.toArray(),e);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}darken(e){this.lighten(-e)}set(e,t,r,a){const u=Array.isArray(e)?e[0]:e,p=Array.isArray(e)?e[1]:t,b=Array.isArray(e)?e[2]:r,P=Array.isArray(e)?e[3]:a;return this.r=Math.round(Ci(u,0,255)),this.g=Math.round(Ci(p,0,255)),this.b=Math.round(Ci(b,0,255)),this.a=P==null?1:Ci(P,0,1),this}toHex(){return`#${["r","g","b"].map(t=>{const r=this[t].toString(16);return r.length<2?`0${r}`:r}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return Lh.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(e){const t=`${this.r},${this.g},${this.b},`;return e?`rgb(${t})`:`rgba(${t},${this.a})`}toGrey(){return Lh.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(c){function e(Kt){return new c(Kt)}c.fromArray=e;function t(Kt){return new c([...Ke(Kt),1])}c.fromHex=t;function r(Kt){const zn=Kt.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(zn){const gr=zn[1].split(/\s*,\s*/).map(ii=>parseInt(ii,10));return new c(gr)}return null}c.fromRGBA=r;function a(Kt,zn,gr){gr<0&&++gr,gr>1&&--gr;const ii=6*gr;return ii<1?Kt+(zn-Kt)*ii:2*gr<1?zn:3*gr<2?Kt+(zn-Kt)*(2/3-gr)*6:Kt}function u(Kt){const zn=Kt.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(zn){const gr=zn[2].split(/\s*,\s*/),ii=(parseFloat(gr[0])%360+360)%360/360,si=parseFloat(gr[1])/100,Ri=parseFloat(gr[2])/100,zo=gr[3]==null?1:parseInt(gr[3],10);return new c(I(ii,si,Ri,zo))}return null}c.fromHSLA=u;function p(Kt){if(Kt.startsWith("#"))return t(Kt);if(Kt.startsWith("rgb"))return r(Kt);const zn=c.named[Kt];return zn?t(zn):u(Kt)}c.fromString=p;function b(Kt,zn){return c.fromArray([Kt,Kt,Kt,zn])}c.makeGrey=b;function P(Kt,zn,gr,ii){const si=Array.isArray(Kt)?Kt[0]:Kt,Ri=Array.isArray(Kt)?Kt[1]:zn,zo=Array.isArray(Kt)?Kt[2]:gr,ro=Array.isArray(Kt)?Kt[3]:ii,po=Math.max(si,Ri,zo),Yo=Math.min(si,Ri,zo),ks=(po+Yo)/2;let Fs=0,Ei=0;if(Yo!==po){const Po=po-Yo;switch(Ei=ks>.5?Po/(2-po-Yo):Po/(po+Yo),po){case si:Fs=(Ri-zo)/Po+(Ri<zo?6:0);break;case Ri:Fs=(zo-si)/Po+2;break;case zo:Fs=(si-Ri)/Po+4;break;default:break}Fs/=6}return[Fs,Ei,ks,ro==null?1:ro]}c.rgba2hsla=P;function I(Kt,zn,gr,ii){const si=Array.isArray(Kt)?Kt[0]:Kt,Ri=Array.isArray(Kt)?Kt[1]:zn,zo=Array.isArray(Kt)?Kt[2]:gr,ro=Array.isArray(Kt)?Kt[3]:ii,po=zo<=.5?zo*(Ri+1):zo+Ri-zo*Ri,Yo=2*zo-po;return[a(Yo,po,si+1/3)*256,a(Yo,po,si)*256,a(Yo,po,si-1/3)*256,ro==null?1:ro]}c.hsla2rgba=I;function z(Kt){return new c(Math.round(Math.random()*256),Math.round(Math.random()*256),Math.round(Math.random()*256),Kt?void 0:parseFloat(Math.random().toFixed(2)))}c.random=z;function W(){const Kt="0123456789ABCDEF";let zn="#";for(let gr=0;gr<6;gr+=1)zn+=Kt[Math.floor(Math.random()*16)];return zn}c.randomHex=W;function ne(Kt){return z(Kt).toString()}c.randomRGBA=ne;function Te(Kt,zn){if(typeof Kt=="string"){const zo=Kt[0]==="#",[ro,po,Yo]=Ke(Kt);return zn?ro*.299+po*.587+Yo*.114>186?"#000000":"#ffffff":`${zo?"#":""}${Ue(255-ro,255-po,255-Yo)}`}const gr=Kt[0],ii=Kt[1],si=Kt[2],Ri=Kt[3];return zn?gr*.299+ii*.587+si*.114>186?[0,0,0,Ri]:[255,255,255,Ri]:[255-gr,255-ii,255-si,Ri]}c.invert=Te;function Ke(Kt){const zn=Kt.indexOf("#")===0?Kt:`#${Kt}`;let gr=+`0x${zn.substr(1)}`;if(!(zn.length===4||zn.length===7)||Number.isNaN(gr))throw new Error("Invalid hex color.");const ii=zn.length===4?4:8,si=(1<<ii)-1,Ri=["b","g","r"].map(()=>{const zo=gr&si;return gr>>=ii,ii===4?17*zo:zo});return[Ri[2],Ri[1],Ri[0]]}function Ue(Kt,zn,gr){const ii=si=>si.length<2?`0${si}`:si;return`${ii(Kt.toString(16))}${ii(zn.toString(16))}${ii(gr.toString(16))}`}function At(Kt,zn){return pn(Kt,zn)}c.lighten=At;function tn(Kt,zn){return pn(Kt,-zn)}c.darken=tn;function pn(Kt,zn){if(typeof Kt=="string"){const si=Kt[0]==="#",Ri=parseInt(si?Kt.substr(1):Kt,16),zo=Ci((Ri>>16)+zn,0,255),ro=Ci((Ri>>8&255)+zn,0,255),po=Ci((Ri&255)+zn,0,255);return`${si?"#":""}${(po|ro<<8|zo<<16).toString(16)}`}const gr=Ue(Kt[0],Kt[1],Kt[2]),ii=Ke(pn(gr,zn));return[ii[0],ii[1],ii[2],Kt[3]]}})(Lh||(Lh={})),function(c){c.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}(Lh||(Lh={}));class fC{constructor(){this.listeners={}}on(e,t,r){return t==null?this:(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t,r),this)}once(e,t,r){const a=(...u)=>(this.off(e,a),Iv.call([t,r],u));return this.on(e,a,this)}off(e,t,r){if(!(e||t||r))return this.listeners={},this;const a=this.listeners;return(e?[e]:Object.keys(a)).forEach(p=>{const b=a[p];if(b){if(!(t||r)){delete a[p];return}for(let P=b.length-2;P>=0;P-=2)t&&b[P]!==t||r&&b[P+1]!==r||b.splice(P,2)}}),this}trigger(e,...t){let r=!0;if(e!=="*"){const u=this.listeners[e];u!=null&&(r=Iv.call([...u],t))}const a=this.listeners["*"];return a!=null?Ut([r,Iv.call([...a],[e,...t])]):r}emit(e,...t){return this.trigger(e,...t)}}var Iv;(function(c){function e(t,r){const a=[];for(let u=0;u<t.length;u+=2){const p=t[u],b=t[u+1],P=Array.isArray(r)?r:[r],I=Tn(p,b,P);a.push(I)}return Ut(a)}c.call=e})(Iv||(Iv={}));class Nd{get disposed(){return this._disposed===!0}dispose(){this._disposed=!0}}(function(c){function e(){return(t,r,a)=>{const u=a.value,p=t.__proto__;a.value=function(){this.disposed||(u.call(this),p.dispose.call(this))}}}c.dispose=e})(Nd||(Nd={}));class dC{constructor(e){this.callback=e}get disposed(){return!this.callback}dispose(){if(!this.callback)return;const e=this.callback;this.callback=null,e()}}class Km{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(e=>{e.dispose()}),this.items.clear())}contains(e){return this.items.has(e)}add(e){this.items.add(e)}remove(e){this.items.delete(e)}clear(){this.items.clear()}}(function(c){function e(t){const r=new c;return t.forEach(a=>{r.add(a)}),r}c.from=e})(Km||(Km={}));class hf extends fC{}(function(c){c.dispose=Nd.dispose})(hf||(hf={})),Ro(hf,Nd);class Ym extends hf{get disabled(){return this._disabled===!0}enable(){delete this._disabled}disable(){this._disabled=!0}}var kv=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class Lv extends Nd{constructor(){super(),this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(e){return this.map.has(e)}get(e){return this.map.get(e)}set(e,t){this.map.set(e,t),this.arr.push(e)}delete(e){const t=this.arr.indexOf(e);t>=0&&this.arr.splice(t,1);const r=this.map.get(e);return this.map.delete(e),r}each(e){this.arr.forEach(t=>{const r=this.map.get(t);e(r,t)})}dispose(){this.clear()}}kv([Nd.dispose()],Lv.prototype,"dispose",null);class Ig{constructor(e={}){this.comparator=e.comparator||Ig.defaultComparator,this.index={},this.data=e.data||[],this.heapify()}isEmpty(){return this.data.length===0}insert(e,t,r){const a={priority:e,value:t},u=this.data.length;return r&&(a.id=r,this.index[r]=u),this.data.push(a),this.bubbleUp(u),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(e,t){const r=this.index[e];if(typeof r=="undefined")throw new Error(`Node with id '${e}' was not found in the heap.`);const a=this.data,u=a[r].priority,p=this.comparator(t,u);p<0?(a[r].priority=t,this.bubbleUp(r)):p>0&&(a[r].priority=t,this.bubbleDown(r))}remove(){const e=this.data,t=e[0],r=e.pop();return t.id&&delete this.index[t.id],e.length>0&&(e[0]=r,r.id&&(this.index[r.id]=0),this.bubbleDown(0)),t?t.value:null}heapify(){for(let e=0;e<this.data.length;e+=1)this.bubbleUp(e)}bubbleUp(e){const t=this.data;let r,a,u=e;for(;u>0&&(a=u-1>>>1,this.comparator(t[u].priority,t[a].priority)<0);){r=t[a],t[a]=t[u];let p=t[u].id;p!=null&&(this.index[p]=a),t[u]=r,p=t[u].id,p!=null&&(this.index[p]=u),u=a}}bubbleDown(e){const t=this.data,r=t.length-1;let a=e;for(;;){const u=(a<<1)+1,p=u+1;let b=a;if(u<=r&&this.comparator(t[u].priority,t[b].priority)<0&&(b=u),p<=r&&this.comparator(t[p].priority,t[b].priority)<0&&(b=p),b!==a){const P=t[b];t[b]=t[a];let I=t[a].id;I!=null&&(this.index[I]=b),t[a]=P,I=t[a].id,I!=null&&(this.index[I]=a),a=b}else break}}}(function(c){c.defaultComparator=(e,t)=>e-t})(Ig||(Ig={}));var M0;(function(c){function e(t,r,a=(u,p)=>1){const u={},p={},b={},P=new Ig;for(u[r]=0,Object.keys(t).forEach(I=>{I!==r&&(u[I]=1/0),P.insert(u[I],I,I)});!P.isEmpty();){const I=P.remove();b[I]=!0;const z=t[I]||[];for(let W=0;W<z.length;W+=1){const ne=z[W];if(!b[ne]){const Te=u[I]+a(I,ne);Te<u[ne]&&(u[ne]=Te,p[ne]=I,P.updatePriority(ne,Te))}}}return p}c.run=e})(M0||(M0={}));var pp;(function(c){c.linear=e=>e,c.quad=e=>e*e,c.cubic=e=>e*e*e,c.inout=e=>{if(e<=0)return 0;if(e>=1)return 1;const t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)},c.exponential=e=>Math.pow(2,10*(e-1)),c.bounce=e=>{for(let t=0,r=1;;t+=r,r/=2)if(e>=(7-4*t)/11){const a=(11-6*t-11*e)/4;return-a*a+r*r}}})(pp||(pp={})),function(c){c.decorators={reverse(e){return t=>1-e(1-t)},reflect(e){return t=>.5*(t<.5?e(2*t):2-e(2-2*t))},clamp(e,t=0,r=1){return a=>{const u=e(a);return u<t?t:u>r?r:u}},back(e=1.70158){return t=>t*t*((e+1)*t-e)},elastic(e=1.5){return t=>Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}}(pp||(pp={})),function(c){function e(Ei){return-1*Math.cos(Ei*(Math.PI/2))+1}c.easeInSine=e;function t(Ei){return Math.sin(Ei*(Math.PI/2))}c.easeOutSine=t;function r(Ei){return-.5*(Math.cos(Math.PI*Ei)-1)}c.easeInOutSine=r;function a(Ei){return Ei*Ei}c.easeInQuad=a;function u(Ei){return Ei*(2-Ei)}c.easeOutQuad=u;function p(Ei){return Ei<.5?2*Ei*Ei:-1+(4-2*Ei)*Ei}c.easeInOutQuad=p;function b(Ei){return Ei*Ei*Ei}c.easeInCubic=b;function P(Ei){const Po=Ei-1;return Po*Po*Po+1}c.easeOutCubic=P;function I(Ei){return Ei<.5?4*Ei*Ei*Ei:(Ei-1)*(2*Ei-2)*(2*Ei-2)+1}c.easeInOutCubic=I;function z(Ei){return Ei*Ei*Ei*Ei}c.easeInQuart=z;function W(Ei){const Po=Ei-1;return 1-Po*Po*Po*Po}c.easeOutQuart=W;function ne(Ei){const Po=Ei-1;return Ei<.5?8*Ei*Ei*Ei*Ei:1-8*Po*Po*Po*Po}c.easeInOutQuart=ne;function Te(Ei){return Ei*Ei*Ei*Ei*Ei}c.easeInQuint=Te;function Ke(Ei){const Po=Ei-1;return 1+Po*Po*Po*Po*Po}c.easeOutQuint=Ke;function Ue(Ei){const Po=Ei-1;return Ei<.5?16*Ei*Ei*Ei*Ei*Ei:1+16*Po*Po*Po*Po*Po}c.easeInOutQuint=Ue;function At(Ei){return Ei===0?0:Math.pow(2,10*(Ei-1))}c.easeInExpo=At;function tn(Ei){return Ei===1?1:-Math.pow(2,-10*Ei)+1}c.easeOutExpo=tn;function pn(Ei){if(Ei===0||Ei===1)return Ei;const Po=Ei*2,ys=Po-1;return Po<1?.5*Math.pow(2,10*ys):.5*(-Math.pow(2,-10*ys)+2)}c.easeInOutExpo=pn;function Kt(Ei){const Po=Ei/1;return-1*(Math.sqrt(1-Po*Ei)-1)}c.easeInCirc=Kt;function zn(Ei){const Po=Ei-1;return Math.sqrt(1-Po*Po)}c.easeOutCirc=zn;function gr(Ei){const Po=Ei*2,ys=Po-2;return Po<1?-.5*(Math.sqrt(1-Po*Po)-1):.5*(Math.sqrt(1-ys*ys)+1)}c.easeInOutCirc=gr;function ii(Ei,Po=1.70158){return Ei*Ei*((Po+1)*Ei-Po)}c.easeInBack=ii;function si(Ei,Po=1.70158){const ys=Ei/1-1;return ys*ys*((Po+1)*ys+Po)+1}c.easeOutBack=si;function Ri(Ei,Po=1.70158){const ys=Ei*2,yc=ys-2,zc=Po*1.525;return ys<1?.5*ys*ys*((zc+1)*ys-zc):.5*(yc*yc*((zc+1)*yc+zc)+2)}c.easeInOutBack=Ri;function zo(Ei,Po=.7){if(Ei===0||Ei===1)return Ei;const yc=Ei/1-1,zc=1-Po,Uu=zc/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*yc)*Math.sin((yc-Uu)*(2*Math.PI)/zc))}c.easeInElastic=zo;function ro(Ei,Po=.7){const ys=1-Po,yc=Ei*2;if(Ei===0||Ei===1)return Ei;const zc=ys/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*yc)*Math.sin((yc-zc)*(2*Math.PI)/ys)+1}c.easeOutElastic=ro;function po(Ei,Po=.65){const ys=1-Po;if(Ei===0||Ei===1)return Ei;const yc=Ei*2,zc=yc-1,Uu=ys/(2*Math.PI)*Math.asin(1);return yc<1?-.5*(Math.pow(2,10*zc)*Math.sin((zc-Uu)*(2*Math.PI)/ys)):Math.pow(2,-10*zc)*Math.sin((zc-Uu)*(2*Math.PI)/ys)*.5+1}c.easeInOutElastic=po;function Yo(Ei){const Po=Ei/1;if(Po<1/2.75)return 7.5625*Po*Po;if(Po<2/2.75){const ys=Po-.5454545454545454;return 7.5625*ys*ys+.75}if(Po<2.5/2.75){const ys=Po-.8181818181818182;return 7.5625*ys*ys+.9375}{const ys=Po-.9545454545454546;return 7.5625*ys*ys+.984375}}c.easeOutBounce=Yo;function ks(Ei){return 1-Yo(1-Ei)}c.easeInBounce=ks;function Fs(Ei){return Ei<.5?ks(Ei*2)*.5:Yo(Ei*2-1)*.5+.5}c.easeInOutBounce=Fs}(pp||(pp={}));var gp;(function(c){c.number=(e,t)=>{const r=t-e;return a=>e+r*a},c.object=(e,t)=>{const r=Object.keys(e);return a=>{const u={};for(let p=r.length-1;p!==-1;p-=1){const b=r[p];u[b]=e[b]+(t[b]-e[b])*a}return u}},c.unit=(e,t)=>{const r=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,a=r.exec(e),u=r.exec(t),p=u?u[1]:"",b=a?+a[1]:0,P=u?+u[1]:0,I=p.indexOf("."),z=I>0?p[1].length-I-1:0,W=P-b,ne=a?a[2]:"";return Te=>(b+W*Te).toFixed(z)+ne},c.color=(e,t)=>{const r=parseInt(e.slice(1),16),a=parseInt(t.slice(1),16),u=r&255,p=(a&255)-u,b=r&65280,P=(a&65280)-b,I=r&16711680,z=(a&16711680)-I;return W=>{const ne=u+p*W&255,Te=b+P*W&65280,Ke=I+z*W&16711680;return`#${(1<<24|ne|Te|Ke).toString(16).slice(1)}`}}})(gp||(gp={}));var Xm;(function(c){const e=`${Kf.prefixCls}.storage`;function t(W,ne,Te){const Ke=ne.id||qe("doc-"),Ue=P(W);Ue.keys.push(Ke),p(I(W,Ke),ne),p(z(W),Ue),u(Te,null,Object.assign(Object.assign({},ne),{id:Ke}))}c.insert=t;function r(W,ne,Te){const Ke=P(W),Ue=[];if(ne==null)Ke.keys.forEach(At=>{const tn=b(I(W,At));tn?Ue.push(tn):u(Te,new Error(`No document found for an ID '${At}' from index.`))}),u(Te,null,Ue);else if(ne.id){const At=b(I(W,ne.id));u(Te,null,At?[At]:[])}else u(Te,null,[])}c.find=r;function a(W,ne,Te){const Ke=P(W);if(ne==null)Ke.keys.forEach(Ue=>{localStorage.removeItem(I(W,Ue))}),localStorage.removeItem(z(W)),u(Te,null);else if(ne.id){const Ue=Ke.keys.indexOf(ne.id);Ue>=0&&Ke.keys.splice(Ue,1),localStorage.removeItem(I(W,ne.id)),p(z(W),Ke),u(Te,null)}}c.remove=a;function u(W,ne,Te){W&&Pd(()=>{W(ne,Te)})}function p(W,ne){localStorage.setItem(W,JSON.stringify(ne))}function b(W){const ne=localStorage.getItem(W);return ne?JSON.parse(ne):null}function P(W){const ne=b(z(W));return ne?(ne.keys==null&&(ne.keys=[]),ne):{keys:[]}}function I(W,ne){return`${e}.${W}.docs.${ne}`}function z(W){return`${e}.${W}.index`}})(Xm||(Xm={}));class Nl extends hf{constructor(){super(),this.cid=Qm.uniqueId(),Nl.views[this.cid]=this}get priority(){return 2}confirmUpdate(e,t){return 0}$(e){return Nl.$(e)}empty(e=this.container){return this.$(e).empty(),this}unmount(e=this.container){return this.$(e).remove(),this}remove(e=this.container){return e===this.container&&(this.removeEventListeners(document),this.onRemove(),delete Nl.views[this.cid]),this.unmount(e),this}onRemove(){}setClass(e,t=this.container){t.classList.value=Array.isArray(e)?e.join(" "):e}addClass(e,t=this.container){return this.$(t).addClass(Array.isArray(e)?e.join(" "):e),this}removeClass(e,t=this.container){return this.$(t).removeClass(Array.isArray(e)?e.join(" "):e),this}setStyle(e,t=this.container){return this.$(t).css(e),this}setAttrs(e,t=this.container){return e!=null&&t!=null&&(t instanceof SVGElement?Il(t,e):this.$(t).attr(e)),this}findAttr(e,t=this.container){let r=t;for(;r&&r.nodeType===1;){const a=r.getAttribute(e);if(a!=null)return a;if(r===this.container)return null;r=r.parentNode}return null}find(e,t=this.container,r=this.selectors){return Nl.find(e,t,r).elems}findOne(e,t=this.container,r=this.selectors){const a=this.find(e,t,r);return a.length>0?a[0]:null}findByAttr(e,t=this.container){let r=t;for(;r&&r.getAttribute;){const a=r.getAttribute(e);if((a!=null||r===this.container)&&a!=="false")return r;r=r.parentNode}return null}getSelector(e,t){let r;if(e===this.container)return typeof t=="string"&&(r=`> ${t}`),r;if(e){const a=mc(e)+1;r=`${e.tagName.toLowerCase()}:nth-child(${a})`,t&&(r+=` > ${t}`),r=this.getSelector(e.parentNode,r)}return r}prefixClassName(e){return vu.prefix(e)}delegateEvents(e,t){if(e==null)return this;t||this.undelegateEvents();const r=/^(\S+)\s*(.*)$/;return Object.keys(e).forEach(a=>{const u=a.match(r);if(u==null)return;const p=this.getEventHandler(e[a]);typeof p=="function"&&this.delegateEvent(u[1],u[2],p)}),this}undelegateEvents(){return this.$(this.container).off(this.getEventNamespace()),this}delegateDocumentEvents(e,t){return this.addEventListeners(document,e,t),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(e,t,r){return this.$(this.container).on(e+this.getEventNamespace(),t,r),this}undelegateEvent(e,t,r){const a=e+this.getEventNamespace();return t==null?this.$(this.container).off(a):typeof t=="string"?this.$(this.container).off(a,t,r):this.$(this.container).off(a,t),this}addEventListeners(e,t,r){if(t==null)return this;const a=this.getEventNamespace(),u=this.$(e);return Object.keys(t).forEach(p=>{const b=this.getEventHandler(t[p]);typeof b=="function"&&u.on(p+a,r,b)}),this}removeEventListeners(e){return e!=null&&this.$(e).off(this.getEventNamespace()),this}getEventNamespace(){return`.${Kf.prefixCls}-event-${this.cid}`}getEventHandler(e){let t;if(typeof e=="string"){const r=this[e];typeof r=="function"&&(t=(...a)=>r.call(this,...a))}else t=(...r)=>e.call(this,...r);return t}getEventTarget(e,t={}){const{target:r,type:a,clientX:u=0,clientY:p=0}=e;return t.fromPoint||a==="touchmove"||a==="touchend"?document.elementFromPoint(u,p):r}stopPropagation(e){return this.setEventData(e,{propagationStopped:!0}),this}isPropagationStopped(e){return this.getEventData(e).propagationStopped===!0}getEventData(e){return this.eventData(e)}setEventData(e,t){return this.eventData(e,t)}eventData(e,t){if(e==null)throw new TypeError("Event object required");let r=e.data;const a=`__${this.cid}__`;return t==null?r==null?{}:r[a]||{}:(r==null&&(r=e.data={}),r[a]==null?r[a]=Object.assign({},t):r[a]=Object.assign(Object.assign({},r[a]),t),r[a])}normalizeEvent(e){return Nl.normalizeEvent(e)}}(function(c){function e(u){return L()(u)}c.$=e;function t(u,p){return p?$o(u||"g"):ms(u||"div")}c.createElement=t;function r(u,p,b){if(!u||u===".")return{elems:[p]};if(b){const P=b[u];if(P)return{elems:Array.isArray(P)?P:[P]}}return Kf.useCSSSelector?{isCSSSelector:!0,elems:e(p).find(u).toArray()}:{elems:[]}}c.find=r;function a(u){let p=u;const b=u.originalEvent,P=b&&b.changedTouches&&b.changedTouches[0];if(P){for(const z in u)P[z]===void 0&&(P[z]=u[z]);p=P}const I=p.target;if(I){const z=I.correspondingUseElement;z&&(p.target=z)}return p}c.normalizeEvent=a})(Nl||(Nl={})),function(c){c.views={};function e(t){return c.views[t]||null}c.getView=e}(Nl||(Nl={}));var Qm;(function(c){let e=0;function t(){const r=`v${e}`;return e+=1,r}c.uniqueId=t})(Qm||(Qm={}));const hC=c=>c;function P0(c,e){return e===0?"0%":`${Math.round(c/e*100)}%`}function d1(c){return(t,r,a,u)=>r.isEdgeElement(a)?pC(c,t,r,a,u):Jm(c,t,r,a,u)}function Jm(c,e,t,r,a){const u=t.cell,p=u.getAngle(),b=t.getUnrotatedBBoxOfElement(r),P=u.getBBox().getCenter(),I=Bn.create(a).rotate(p,P);let z=I.x-b.x,W=I.y-b.y;return c&&(z=P0(z,b.width),W=P0(W,b.height)),e.anchor={name:"topLeft",args:{dx:z,dy:W,rotate:!0}},e}function pC(c,e,t,r,a){const u=t.getConnection();if(!u)return e;const p=u.closestPointLength(a);if(c){const b=u.length();e.anchor={name:"ratio",args:{ratio:p/b}}}else e.anchor={name:"length",args:{length:p}};return e}const gC=d1(!0),vC=d1(!1);var Wp;(function(c){c.presets=Q,c.registry=ru.create({type:"connection strategy"}),c.registry.register(c.presets,!0)})(Wp||(Wp={}));class vp{constructor(e){this.view=e,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new Lv,this.pathCache={}}get(e){return this.elemCache.has(e)||this.elemCache.set(e,{}),this.elemCache.get(e)}getData(e){const t=this.get(e);return t.data||(t.data={}),t.data}getMatrix(e){const t=this.get(e);if(t.matrix==null){const r=this.view.rotatableNode||this.view.container;t.matrix=Ec(e,r)}return Ms(t.matrix)}getShape(e){const t=this.get(e);return t.shape==null&&(t.shape=Nh(e)),t.shape.clone()}getBoundingRect(e){const t=this.get(e);return t.boundingRect==null&&(t.boundingRect=ai(e)),t.boundingRect.clone()}}var Fl;(function(c){function e(z){return z!=null&&!t(z)}c.isJSONMarkup=e;function t(z){return z!=null&&typeof z=="string"}c.isStringMarkup=t;function r(z){return z==null||t(z)?z:oo(z)}c.clone=r;function a(z){return`${z}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}c.sanitize=a;function u(z){const W=document.createDocumentFragment(),ne={},Te={},Ke=a(z);return Yr(Ke,{raw:!0}).forEach(At=>{W.appendChild(At)}),{fragment:W,selectors:Te,groups:ne}}c.parseStringMarkup=u;function p(z,W={ns:Jr.svg}){const ne=document.createDocumentFragment(),Te={},Ke={},Ue=[{markup:Array.isArray(z)?z:[z],parent:ne,ns:W.ns}];for(;Ue.length>0;){const At=Ue.pop();let tn=At.ns||Jr.svg;const pn=At.markup,Kt=At.parent;pn.forEach(zn=>{const gr=zn.tagName;if(!gr)throw new TypeError("Invalid tagName");zn.ns&&(tn=zn.ns);const ii=tn===Jr.svg,si=tn?ms(gr,tn):va(gr),Ri=zn.attrs;Ri&&(ii?Il(si,np(Ri)):L()(si).attr(Ri));const zo=zn.style;zo&&L()(si).css(zo);const ro=zn.className;ro!=null&&si.setAttribute("class",Array.isArray(ro)?ro.join(" "):ro),zn.textContent&&(si.textContent=zn.textContent);const po=zn.selector;if(po!=null){if(Ke[po])throw new TypeError("Selector must be unique");Ke[po]=si}if(zn.groupSelector){let ks=zn.groupSelector;Array.isArray(ks)||(ks=[ks]),ks.forEach(Fs=>{Te[Fs]||(Te[Fs]=[]),Te[Fs].push(si)})}Kt.appendChild(si);const Yo=zn.children;Array.isArray(Yo)&&Ue.push({ns:tn,markup:Yo,parent:si})})}return Object.keys(Te).forEach(At=>{if(Ke[At])throw new Error("Ambiguous group selector");Ke[At]=Te[At]}),{fragment:ne,selectors:Ke,groups:Te}}c.parseJSONMarkup=p;function b(z){return z instanceof SVGElement?$o("g"):va("div")}function P(z){if(t(z)){const Ke=ma.createVectors(z),Ue=Ke.length;if(Ue===1)return{elem:Ke[0].node};if(Ue>1){const At=b(Ke[0].node);return Ke.forEach(tn=>{At.appendChild(tn.node)}),{elem:At}}return{}}const W=p(z),ne=W.fragment;let Te=null;return ne.childNodes.length>1?(Te=b(ne.firstChild),Te.appendChild(ne)):Te=ne.firstChild,{elem:Te,selectors:W.selectors}}c.renderMarkup=P;function I(z){const W=ma.createVectors(z),ne=document.createDocumentFragment();for(let Te=0,Ke=W.length;Te<Ke;Te+=1){const Ue=W[Te].node;ne.appendChild(Ue)}return{fragment:ne,selectors:{}}}c.parseLabelStringMarkup=I})(Fl||(Fl={})),function(c){function e(a,u,p){if(a!=null){let b;const P=a.tagName.toLowerCase();if(a===u)return typeof p=="string"?b=`> ${P} > ${p}`:b=`> ${P}`,b;const I=a.parentNode;if(I&&I.childNodes.length>1){const z=mc(a)+1;b=`${P}:nth-child(${z})`}else b=P;return p&&(b+=` > ${p}`),e(a.parentNode,u,b)}return p}c.getSelector=e;function t(a,u,p){if(a.nodeName==="#text")return null;let b=null,P=null,I=null,z=!1;const W={tagName:a.tagName};if(a.attributes){I={};for(let ne=0,Te=a.attributes.length;ne<Te;ne+=1){const Ke=a.attributes[ne],Ue=Ke.nodeName,At=Ke.nodeValue;Ue==="selector"?b=At:Ue==="groupSelector"?P=At:Ue==="class"?W.attrs={class:At}:I[Ue]=At}}return b==null&&(z=!0,b=e(a,u)),a.namespaceURI&&(W.ns=a.namespaceURI),W.ns==null&&(["body","div","section","main","nav","footer","span","p","h1","h2","h3","h4","h5","h6","ul","ol","dl","center","strong","pre","form","select","textarea","fieldset","marquee","bgsound","iframe","frameset"].includes(a.tagName)?W.ns=Jr.xhtml:p&&(W.ns=p)),b&&(W.selector=b),P!=null&&(W.groupSelector=P),{markup:W,attrs:I,isCSSSelector:z}}function r(a){const u=c.sanitize(a),p=as(u,{mimeType:"image/svg+xml"}),b=Array.prototype.slice.call(p.childNodes),P={},I=new WeakMap,z=(ne,Te,Ke)=>{const Ue=t(ne,Te,Ke);if(Ue==null){const At=I.get(ne.parentNode);At&&ne.textContent&&(At.textContent=ne.textContent)}else{const{markup:At,attrs:tn,isCSSSelector:pn}=Ue;if(I.set(ne,At),At.selector&&tn!=null&&(Object.keys(tn).length&&(P[At.selector]=tn),pn&&delete At.selector),ne.childNodes&&ne.childNodes.length>0)for(let Kt=0,zn=ne.childNodes.length;Kt<zn;Kt+=1){const gr=ne.childNodes[Kt],ii=z(gr,Te,At.ns);ii&&(At.children==null&&(At.children=[]),At.children.push(ii))}return At}};return{markup:b.map(ne=>z(ne,ne)).filter(ne=>ne!=null),attrs:P}}c.xml2json=r}(Fl||(Fl={})),function(c){function e(){return"g"}c.getPortContainerMarkup=e;function t(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}}c.getPortMarkup=t;function r(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}c.getPortLabelMarkup=r}(Fl||(Fl={})),function(c){function e(){return c.sanitize(`
    <path class="connection" stroke="black" d="M 0 0 0 0"/>
    <path class="source-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="target-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="connection-wrap" d="M 0 0 0 0"/>
    <g class="labels"/>
    <g class="vertices"/>
    <g class="arrowheads"/>
    <g class="tools"/>
  `)}c.getEdgeMarkup=e;function t(){return c.sanitize(`
    <g class="edge-tool">
      <g class="tool-remove" event="edge:remove">
        <circle r="11" />
        <path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />
        <title>Remove edge.</title>
      </g>
      <g class="tool-options" event="edge:options">
        <circle r="11" transform="translate(25)"/>
        <path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>
        <title>Edge options.</title>
      </g>
    </g>
  `)}c.getEdgeToolMarkup=t;function r(){return c.sanitize(`
    <g class="vertex-group" transform="translate(<%= x %>, <%= y %>)">
      <circle class="vertex" data-index="<%= index %>" r="10" />
      <path class="vertex-remove-area" data-index="<%= index %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>
      <path class="vertex-remove" data-index="<%= index %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">
      <title>Remove vertex.</title>
      </path>
    </g>
  `)}c.getEdgeVertexMarkup=r;function a(){return c.sanitize(`
    <g class="arrowhead-group arrowhead-group-<%= end %>">
      <path class="arrowhead" data-terminal="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />
    </g>
  `)}c.getEdgeArrowheadMarkup=a}(Fl||(Fl={})),function(c){function e(t=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:Jr.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:Jr.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:t?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}c.getForeignObjectMarkup=e}(Fl||(Fl={}));class Fv{constructor(e){this.view=e}get cell(){return this.view.cell}getDefinition(e){return this.cell.getAttrDefinition(e)}processAttrs(e,t){let r,a,u,p,b;const P=[];return Object.keys(t).forEach(I=>{const z=t[I],W=this.getDefinition(I),ne=er(Dd.isValidDefinition,this.view,W,z,{elem:e,attrs:t,cell:this.cell,view:this.view});if(W&&ne)typeof W=="string"?(r==null&&(r={}),r[W]=z):z!==null&&P.push({name:I,definition:W});else{r==null&&(r={});const Te=sv.includes(I)?I:Jh(I);r[Te]=z}}),P.forEach(({name:I,definition:z})=>{const W=t[I];typeof z.set=="function"&&(!Ip(e)&&Fv.DELAY_ATTRS.includes(I)?(b==null&&(b={}),b[I]=W):(a==null&&(a={}),a[I]=W)),typeof z.offset=="function"&&(u==null&&(u={}),u[I]=W),typeof z.position=="function"&&(p==null&&(p={}),p[I]=W)}),{raw:t,normal:r,set:a,offset:u,position:p,delay:b}}mergeProcessedAttrs(e,t){e.set=Object.assign(Object.assign({},e.set),t.set),e.position=Object.assign(Object.assign({},e.position),t.position),e.offset=Object.assign(Object.assign({},e.offset),t.offset);const r=e.normal&&e.normal.transform;r!=null&&t.normal&&(t.normal.transform=r),e.normal=t.normal}findAttrs(e,t,r,a){const u=[],p=new Lv;return Object.keys(e).forEach(b=>{const P=e[b];if(!_n.Z(P))return;const{isCSSSelector:I,elems:z}=Nl.find(b,t,a);r[b]=z;for(let W=0,ne=z.length;W<ne;W+=1){const Te=z[W],Ke=a&&a[b]===Te,Ue=p.get(Te);if(Ue){Ue.array||(u.push(Te),Ue.array=!0,Ue.attrs=[Ue.attrs],Ue.priority=[Ue.priority]);const At=Ue.attrs,tn=Ue.priority;if(Ke)At.unshift(P),tn.unshift(-1);else{const pn=Ln(tn,I?-1:ne);At.splice(pn,0,P),tn.splice(pn,0,ne)}}else p.set(Te,{elem:Te,attrs:P,priority:Ke?-1:ne,array:!1})}}),u.forEach(b=>{const P=p.get(b),I=P.attrs;P.attrs=I.reduceRight((z,W)=>ea.Z(z,W),{})}),p}updateRelativeAttrs(e,t,r,a){const u=t.raw||{};let p=t.normal||{};const b=t.set,P=t.position,I=t.offset,z=t.delay,W=()=>({elem:e,cell:this.cell,view:this.view,attrs:u,refBBox:r.clone()});if(b!=null&&Object.keys(b).forEach(gr=>{const ii=b[gr],si=this.getDefinition(gr);if(si!=null){const Ri=er(si.set,this.view,ii,W());typeof Ri=="object"?p=Object.assign(Object.assign({},p),Ri):Ri!=null&&(p[gr]=Ri)}}),Ip(e)){this.view.setAttrs(p,e);return}const ne=p.transform,Te=ne?`${ne}`:null,Ke=Gf(Te),Ue=new Bn(Ke.e,Ke.f);ne&&(delete p.transform,Ke.e=0,Ke.f=0);let At=1,tn=1;if(P||I){const gr=this.view.getScaleOfElement(e,a.scalableNode);At=gr.sx,tn=gr.sy}let pn=!1;P!=null&&Object.keys(P).forEach(gr=>{const ii=P[gr],si=this.getDefinition(gr);if(si!=null){const Ri=er(si.position,this.view,ii,W());Ri!=null&&(pn=!0,Ue.translate(Bn.create(Ri).scale(At,tn)))}}),this.view.setAttrs(p,e);let Kt=!1;if(I!=null){const gr=this.view.getBoundingRectOfElement(e);if(gr.width>0&&gr.height>0){const ii=Pf(gr,Ke).scale(1/At,1/tn);Object.keys(I).forEach(si=>{const Ri=I[si],zo=this.getDefinition(si);if(zo!=null){const ro=er(zo.offset,this.view,Ri,{elem:e,cell:this.cell,view:this.view,attrs:u,refBBox:ii});ro!=null&&(Kt=!0,Ue.translate(Bn.create(ro).scale(At,tn)))}})}}(ne!=null||pn||Kt)&&(Ue.round(1),Ke.e=Ue.x,Ke.f=Ue.y,e.setAttribute("transform",Ud(Ke)));const zn=()=>{z!=null&&Object.keys(z).forEach(gr=>{const ii=z[gr],si=this.getDefinition(gr);if(si!=null){const Ri=er(si.set,this.view,ii,W());typeof Ri=="object"?this.view.setAttrs(Ri,e):Ri!=null&&this.view.setAttrs({[gr]:Ri},e)}})};a.forceSync?zn():_g.scheduleTask(zn)}update(e,t,r){const a={},u=this.findAttrs(r.attrs||t,e,a,r.selectors),p=r.attrs?this.findAttrs(t,e,a,r.selectors):u,b=[];u.each(z=>{const W=z.elem,ne=z.attrs,Te=this.processAttrs(W,ne);if(Te.set==null&&Te.position==null&&Te.offset==null&&Te.delay==null)this.view.setAttrs(Te.normal,W);else{const Ke=p.get(W),Ue=Ke?Ke.attrs:null,At=Ue&&ne.ref==null?Ue.ref:ne.ref;let tn;if(At){if(tn=(a[At]||this.view.find(At,e,r.selectors))[0],!tn)throw new Error(`"${At}" reference does not exist.`)}else tn=null;const pn={node:W,refNode:tn,attributes:Ue,processedAttributes:Te},Kt=b.findIndex(zn=>zn.refNode===W);Kt>-1?b.splice(Kt,0,pn):b.push(pn)}});const P=new Lv;let I;b.forEach(z=>{const W=z.node,ne=z.refNode;let Te;const Ke=ne!=null&&r.rotatableNode!=null&&Th(r.rotatableNode,ne);if(ne&&(Te=P.get(ne)),!Te){const pn=Ke?r.rotatableNode:e;Te=ne?ai(ne,{target:pn}):r.rootBBox,ne&&P.set(ne,Te)}let Ue;r.attrs&&z.attributes?(Ue=this.processAttrs(W,z.attributes),this.mergeProcessedAttrs(Ue,z.processedAttributes)):Ue=z.processedAttributes;let At=Te;Ke&&r.rotatableNode!=null&&!r.rotatableNode.contains(W)&&(I||(I=Gf(Il(r.rotatableNode,"transform"))),At=Pf(Te,I)),b.find(pn=>pn.refNode===W)&&(r.forceSync=!0),this.updateRelativeAttrs(W,Ue,At,r)})}}(function(c){c.DELAY_ATTRS=["text","textWrap","sourceMarker","targetMarker"]})(Fv||(Fv={}));class mC{constructor(e,t,r=[]){this.view=e;const a={},u={};let p=0;Object.keys(t).forEach(P=>{let I=t[P];Array.isArray(I)||(I=[I]),I.forEach(z=>{let W=a[z];W||(p+=1,W=a[z]=1<<p),u[P]|=W})});let b=r;if(Array.isArray(b)||(b=[b]),b.forEach(P=>{a[P]||(p+=1,a[P]=1<<p)}),p>25)throw new Error("Maximum number of flags exceeded.");this.flags=a,this.attrs=u,this.bootstrap=r}get cell(){return this.view.cell}getFlag(e){const t=this.flags;return t==null?0:Array.isArray(e)?e.reduce((r,a)=>r|t[a],0):t[e]|0}hasAction(e,t){return e&this.getFlag(t)}removeAction(e,t){return e^e&this.getFlag(t)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let e=0;return this.attrs&&Object.keys(this.attrs).forEach(t=>{this.cell.hasChanged(t)&&(e|=this.attrs[t])}),e}}var Mx=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class uu extends Nl{constructor(e,t={}){super(),this.cell=e,this.options=this.ensureOptions(t),this.graph=this.options.graph,this.attr=new Fv(this),this.flag=new mC(this,this.options.actions,this.options.bootstrap),this.cache=new vp(this),this.setContainer(this.ensureContainer()),this.setup(),this.$(this.container).data("view",this),this.init()}static getDefaults(){return this.defaults}static config(e){this.defaults=this.getOptions(e)}static getOptions(e){const t=(I,z)=>z!=null?Sn([...Array.isArray(I)?I:[I],...Array.isArray(z)?z:[z]]):Array.isArray(I)?[...I]:[I],r=oo(this.getDefaults()),{bootstrap:a,actions:u,events:p,documentEvents:b}=e,P=Mx(e,["bootstrap","actions","events","documentEvents"]);return a&&(r.bootstrap=t(r.bootstrap,a)),u&&Object.keys(u).forEach(I=>{const z=u[I],W=r.actions[I];z&&W?r.actions[I]=t(W,z):z&&(r.actions[I]=t(z))}),p&&(r.events=Object.assign(Object.assign({},r.events),p)),e.documentEvents&&(r.documentEvents=Object.assign(Object.assign({},r.documentEvents),b)),ea.Z(r,P)}get[Symbol.toStringTag](){return uu.toStringTag}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(e){return this.getConstructor().getOptions(e)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return Nl.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(e){if(this.container!==e){this.undelegateEvents(),this.container=e,this.options.events!=null&&this.delegateEvents(this.options.events);const t=this.getContainerAttrs();t!=null&&this.setAttrs(t,e);const r=this.getContainerStyle();r!=null&&this.setStyle(r,e);const a=this.getContainerClassName();a!=null&&this.addClass(a,e)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(e,t={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(e){return this.flag.getFlag(e)}hasAction(e,t){return this.flag.hasAction(e,t)}removeAction(e,t){return this.flag.removeAction(e,t)}handleAction(e,t,r,a){if(this.hasAction(e,t)){r();const u=[t];return a&&(typeof a=="string"?u.push(a):u.push(...a)),this.removeAction(e,u)}return e}setup(){this.cell.on("changed",({options:e})=>this.onAttrsChange(e))}onAttrsChange(e){let t=this.flag.getChangedFlag();e.updated||!t||(e.dirty&&this.hasAction(t,"update")&&(t|=this.getFlag("render")),e.toolId&&(e.async=!1),this.graph!=null&&this.graph.renderer.requestViewUpdate(this,t,this.priority,e))}parseJSONMarkup(e,t){const r=Fl.parseJSONMarkup(e),a=r.selectors,u=this.rootSelector;if(t&&u){if(a[u])throw new Error("Invalid root selector");a[u]=t}return r}can(e){let t=this.graph.options.interacting;if(typeof t=="function"&&(t=er(t,this.graph,this)),typeof t=="object"){let r=t[e];return typeof r=="function"&&(r=er(r,this.graph,this)),r!==!1}return typeof t=="boolean"?t:!1}cleanCache(){return this.cache.clean(),this}getCache(e){return this.cache.get(e)}getDataOfElement(e){return this.cache.getData(e)}getMatrixOfElement(e){return this.cache.getMatrix(e)}getShapeOfElement(e){return this.cache.getShape(e)}getScaleOfElement(e,t){let r,a;if(t&&t.contains(e)){const u=jd(t);r=1/u.sx,a=1/u.sy}else r=1,a=1;return{sx:r,sy:a}}getBoundingRectOfElement(e){return this.cache.getBoundingRect(e)}getBBoxOfElement(e){const t=this.getBoundingRectOfElement(e),r=this.getMatrixOfElement(e),a=this.getRootRotatedMatrix(),u=this.getRootTranslatedMatrix();return Pf(t,u.multiply(a).multiply(r))}getUnrotatedBBoxOfElement(e){const t=this.getBoundingRectOfElement(e),r=this.getMatrixOfElement(e),a=this.getRootTranslatedMatrix();return Pf(t,a.multiply(r))}getBBox(e={}){let t;if(e.useCellGeometry){const r=this.cell,a=r.isNode()?r.getAngle():0;t=r.getBBox().bbox(a)}else t=this.getBBoxOfElement(this.container);return this.graph.localToGraph(t)}getRootTranslatedMatrix(){const e=this.cell,t=e.isNode()?e.getPosition():{x:0,y:0};return Ms().translate(t.x,t.y)}getRootRotatedMatrix(){let e=Ms();const t=this.cell,r=t.isNode()?t.getAngle():0;if(r){const a=t.getBBox(),u=a.width/2,p=a.height/2;e=e.translate(u,p).rotate(r).translate(-u,-p)}return e}findMagnet(e=this.container){return this.findByAttr("magnet",e)}updateAttrs(e,t,r={}){r.rootBBox==null&&(r.rootBBox=new Oo),r.selectors==null&&(r.selectors=this.selectors),this.attr.update(e,t,r)}isEdgeElement(e){return this.cell.isEdge()&&(e==null||e===this.container)}prepareHighlight(e,t={}){const r=e&&this.$(e)[0]||this.container;return t.partial=r===this.container,r}highlight(e,t={}){const r=this.prepareHighlight(e,t);return this.notify("cell:highlight",{magnet:r,options:t,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:r,options:t,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:r,options:t,view:this,node:this.cell,cell:this.cell}),this}unhighlight(e,t={}){const r=this.prepareHighlight(e,t);return this.notify("cell:unhighlight",{magnet:r,options:t,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:r,options:t,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:r,options:t,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(e,t){}getEdgeTerminal(e,t,r,a,u){const p=this.cell,b=this.findAttr("port",e),P=e.getAttribute("data-selector"),I={cell:p.id};return P!=null&&(I.magnet=P),b!=null?(I.port=b,p.isNode()&&!p.hasPort(b)&&P==null&&(I.selector=this.getSelector(e))):P==null&&this.container!==e&&(I.selector=this.getSelector(e)),this.customizeEdgeTerminal(I,e,t,r,a,u)}customizeEdgeTerminal(e,t,r,a,u,p){const b=u.getStrategy()||this.graph.options.connecting.strategy;if(b){const P=typeof b=="string"?b:b.name,I=typeof b=="string"?{}:b.args||{},z=Wp.registry;if(P){const W=z.get(P);if(W==null)return z.onNotFound(P);const ne=er(W,this.graph,e,this,t,new Bn(r,a),u,p,I);if(ne)return ne}}return e}getMagnetFromEdgeTerminal(e){const t=this.cell,r=this.container,a=e.port;let u=e.magnet,p;return a!=null&&t.isNode()&&t.hasPort(a)?p=this.findPortElem(a,u)||r:(u||(u=e.selector),!u&&a!=null&&(u=`[port="${a}"]`),p=this.findOne(u,r,this.selectors)),p}animate(e,t){const r=typeof e=="string"?this.findOne(e):e;if(r==null)throw new Error("Invalid animation element.");const a=r.parentNode,u=()=>{a||cu(r)},p=ma.create(r);a||p.appendTo(this.graph.view.stage);const b=t.complete;return t.complete=P=>{u(),b&&b(P)},p.animate(t)}animateTransform(e,t){const r=typeof e=="string"?this.findOne(e):e;if(r==null)throw new Error("Invalid animation element.");const a=r.parentNode,u=()=>{a||cu(r)},p=ma.create(r);a||p.appendTo(this.graph.view.stage);const b=t.complete;return t.complete=P=>{u(),b&&b(P)},p.animateTransform(t)}hasTools(e){const t=this.tools;return t==null?!1:e==null?!0:t.name===e}addTools(e){if(!this.can("toolsAddable"))return this;if(this.removeTools(),e){const t=Xu.isToolsView(e)?e:new Xu(e);this.tools=t,this.graph.on("tools:hide",this.hideTools,this),this.graph.on("tools:show",this.showTools,this),this.graph.on("tools:remove",this.removeTools,this),t.config({view:this}),t.mount()}return this}updateTools(e={}){return this.tools&&this.tools.update(e),this}removeTools(){return this.tools&&(this.tools.remove(),this.graph.off("tools:hide",this.hideTools,this),this.graph.off("tools:show",this.showTools,this),this.graph.off("tools:remove",this.removeTools,this),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}notify(e,t){return this.trigger(e,t),this.graph.trigger(e,t),this}getEventArgs(e,t,r){const a=this,u=a.cell;return t==null||r==null?{e,view:a,cell:u}:{e,x:t,y:r,view:a,cell:u}}onClick(e,t,r){this.notify("cell:click",this.getEventArgs(e,t,r))}onDblClick(e,t,r){this.notify("cell:dblclick",this.getEventArgs(e,t,r))}onContextMenu(e,t,r){this.notify("cell:contextmenu",this.getEventArgs(e,t,r))}onMouseDown(e,t,r){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(e,t,r))}onMouseUp(e,t,r){this.notify("cell:mouseup",this.getEventArgs(e,t,r)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(e,t,r){this.notify("cell:mousemove",this.getEventArgs(e,t,r))}onMouseOver(e){this.notify("cell:mouseover",this.getEventArgs(e))}onMouseOut(e){this.notify("cell:mouseout",this.getEventArgs(e))}onMouseEnter(e){this.notify("cell:mouseenter",this.getEventArgs(e))}onMouseLeave(e){this.notify("cell:mouseleave",this.getEventArgs(e))}onMouseWheel(e,t,r,a){this.notify("cell:mousewheel",Object.assign({delta:a},this.getEventArgs(e,t,r)))}onCustomEvent(e,t,r,a){this.notify("cell:customevent",Object.assign({name:t},this.getEventArgs(e,r,a))),this.notify(t,Object.assign({},this.getEventArgs(e,r,a)))}onMagnetMouseDown(e,t,r,a){}onMagnetDblClick(e,t,r,a){}onMagnetContextMenu(e,t,r,a){}onLabelMouseDown(e,t,r){}checkMouseleave(e){const t=this.graph;t.renderer.isAsync()&&t.renderer.dumpView(this);const r=this.getEventTarget(e,{fromPoint:!0}),a=t.renderer.findViewByElem(r);a!==this&&(this.onMouseLeave(e),a&&a.onMouseEnter(e))}}uu.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}},function(c){c.Flag=mC,c.Attr=Fv}(uu||(uu={})),function(c){c.toStringTag=`X6.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&typeof a.isNodeView=="function"&&typeof a.isEdgeView=="function"&&typeof a.confirmUpdate=="function"}c.isCellView=e}(uu||(uu={})),function(c){function e(r){return function(a){a.config({priority:r})}}c.priority=e;function t(r){return function(a){a.config({bootstrap:r})}}c.bootstrap=t}(uu||(uu={})),function(c){c.registry=ru.create({type:"view"})}(uu||(uu={}));class Xu extends Nl{constructor(e={}){super(),this.svgContainer=this.createContainer(!0,e),this.htmlContainer=this.createContainer(!1,e),this.config(e)}get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return Xu.toStringTag}createContainer(e,t){const r=e?Nl.createElement("g",!0):Nl.createElement("div",!1);return Qt(r,this.prefixClassName("cell-tools")),t.className&&Qt(r,t.className),r}config(e){if(this.options=Object.assign(Object.assign({},this.options),e),!uu.isCellView(e.view)||e.view===this.cellView)return this;this.cellView=e.view,this.cell.isEdge()?(Qt(this.svgContainer,this.prefixClassName("edge-tools")),Qt(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(Qt(this.svgContainer,this.prefixClassName("node-tools")),Qt(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const t=this.options.items;if(!Array.isArray(t))return this;this.tools=[];const r=[];t.forEach(a=>{Xu.ToolItem.isToolItem(a)?a.name==="vertices"?r.unshift(a):r.push(a):(typeof a=="object"?a.name:a)==="vertices"?r.unshift(a):r.push(a)});for(let a=0;a<r.length;a+=1){const u=r[a];let p;if(Xu.ToolItem.isToolItem(u))p=u;else{const b=typeof u=="object"?u.name:u,P=typeof u=="object"?u.args||{}:{};if(b){if(this.cell.isNode()){const I=Yp.registry.get(b);if(I)p=new I(P);else return Yp.registry.onNotFound(b)}else if(this.cell.isEdge()){const I=mp.registry.get(b);if(I)p=new I(P);else return mp.registry.onNotFound(b)}}}p&&(p.config(this.cellView,this),p.render(),(p.options.isSVGElement!==!1?this.svgContainer:this.htmlContainer).appendChild(p.container),this.tools.push(p))}return this}update(e={}){const t=this.tools;return t&&t.forEach(r=>{e.toolId!==r.cid&&r.isVisible()&&r.update()}),this}focus(e){const t=this.tools;return t&&t.forEach(r=>{e===r?r.show():r.hide()}),this}blur(e){const t=this.tools;return t&&t.forEach(r=>{r!==e&&!r.isVisible()&&(r.show(),r.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const e=this.tools;return e&&(e.forEach(t=>t.remove()),this.tools=null),cu(this.svgContainer),cu(this.htmlContainer),super.remove()}mount(){const e=this.tools,t=this.cellView;if(t&&e){const r=e.some(u=>u.options.isSVGElement!==!1),a=e.some(u=>u.options.isSVGElement===!1);r&&(this.options.local?t.container:t.graph.view.decorator).appendChild(this.svgContainer),a&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(c){c.toStringTag=`X6.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&a.graph!=null&&a.cell!=null&&typeof a.config=="function"&&typeof a.update=="function"&&typeof a.focus=="function"&&typeof a.blur=="function"&&typeof a.show=="function"&&typeof a.hide=="function"}c.isToolsView=e})(Xu||(Xu={})),function(c){class e extends Nl{constructor(r={}){super(),this.visible=!0,this.options=this.getOptions(r),this.container=Nl.createElement(this.options.tagName||"g",this.options.isSVGElement!==!1),Qt(this.container,this.prefixClassName("cell-tool")),typeof this.options.className=="string"&&Qt(this.container,this.options.className),this.init()}static getDefaults(){return this.defaults}static config(r){this.defaults=this.getOptions(r)}static getOptions(r){return ea.Z(oo(this.getDefaults()),r)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return e.toStringTag}init(){}getOptions(r){return this.constructor.getOptions(r)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(r,a){return this.cellView=r,this.parent=a,this.stamp(this.container),this.cell.isEdge()?Qt(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&Qt(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const r=this.options.markup;if(r){const a=Fl.isStringMarkup(r)?Fl.parseStringMarkup(r):Fl.parseJSONMarkup(r);this.container.appendChild(a.fragment),this.childNodes=a.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(r){r&&r.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return!!this.visible}focus(){const r=this.options.focusOpacity;return r!=null&&Number.isFinite(r)&&(this.container.style.opacity=`${r}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(r){return this.graph==null||this.cellView==null?!0:this.graph.view.guard(r,this.cellView)}}e.defaults={isSVGElement:!0,tagName:"g"},c.ToolItem=e,function(t){let r=0;function a(p){return p?Ph(p):(r+=1,`CustomTool${r}`)}function u(p){const b=Vo(a(p.name),this);return b.config(p),b}t.define=u}(e=c.ToolItem||(c.ToolItem={})),function(t){t.toStringTag=`X6.${t.name}`;function r(a){if(a==null)return!1;if(a instanceof t)return!0;const u=a[Symbol.toStringTag],p=a;return(u==null||u===t.toStringTag)&&p.graph!=null&&p.cell!=null&&typeof p.config=="function"&&typeof p.update=="function"&&typeof p.focus=="function"&&typeof p.blur=="function"&&typeof p.show=="function"&&typeof p.hide=="function"&&typeof p.isVisible=="function"}t.isToolItem=r}(e=c.ToolItem||(c.ToolItem={}))}(Xu||(Xu={}));function yC(c,e,t,r){return er(Wp.presets.pinRelative,this.graph,{},e,t,c,this.cell,r,{}).anchor}function qm(c,e){return e?c.cell.getBBox():c.cell.isEdge()?c.getConnection().bbox():c.getUnrotatedBBoxOfElement(c.container)}class Fh extends Xu.ToolItem{onRender(){Qt(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const t=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();$s(this.container,t,{absolute:!0})}getNodeMatrix(){const e=this.cellView,t=this.options;let{x:r=0,y:a=0}=t;const{offset:u,useCellGeometry:p,rotate:b}=t;let P=qm(e,p);const I=e.cell.getAngle();b||(P=P.bbox(I));let z=0,W=0;typeof u=="number"?(z=u,W=u):typeof u=="object"&&(z=u.x,W=u.y),r=jl(r,P.width),a=jl(a,P.height);let ne=Ms().translate(P.x+P.width/2,P.y+P.height/2);return b&&(ne=ne.rotate(I)),ne=ne.translate(r+z-P.width/2,a+W-P.height/2),ne}getEdgeMatrix(){const e=this.cellView,t=this.options,{offset:r=0,distance:a=0,rotate:u}=t;let p,b,P;const I=jl(a,1);I>=0&&I<=1?p=e.getTangentAtRatio(I):p=e.getTangentAtLength(I),p?(b=p.start,P=p.vector().vectorAngle(new Bn(1,0))||0):(b=e.getConnection().start,P=0);let z=Ms().translate(b.x,b.y).rotate(P);return typeof r=="object"?z=z.translate(r.x||0,r.y||0):z=z.translate(0,r),u||(z=z.rotate(-P)),z}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const t=this.options.onClick;typeof t=="function"&&er(t,this.cellView,{e,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(c){c.config({name:"button",events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(Fh||(Fh={})),function(c){c.Remove=c.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,onClick({view:e,btn:t}){t.parent.remove(),e.cell.remove({ui:!0,toolId:t.cid})}})}(Fh||(Fh={}));var h1=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class Gv extends Xu.ToolItem{onRender(){if(Qt(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const e=this.options.attrs,{class:t}=e,r=h1(e,["class"]);Il(this.container,np(r)),t&&Qt(this.container,t)}this.update()}update(){const e=this.cellView,t=this.options,{useCellGeometry:r,rotate:a}=t,u=Al(t.padding);let p=qm(e,r).moveAndExpand({x:-u.left,y:-u.top,width:u.left+u.right,height:u.top+u.bottom});const b=e.cell;if(b.isNode()){const P=b.getAngle();if(P)if(a){const I=b.getBBox().getCenter();Bf(this.container,P,I.x,I.y,{absolute:!0})}else p=p.bbox(P)}return Il(this.container,p.toJSON()),this}}(function(c){c.config({name:"boundary",tagName:"rect",padding:10,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})})(Gv||(Gv={}));class kg extends Xu.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(t=>{this.stopHandleListening(t),t.remove()})}renderHandles(){const e=this.vertices;for(let t=0,r=e.length;t<r;t+=1){const a=e[t],u=this.options.createHandle,p=this.options.processHandle,b=u({index:t,graph:this.graph,guard:P=>this.guard(P),attrs:this.options.attrs||{}});p&&p(b),this.graph.hook.onToolItemCreated({name:"vertices",cell:this.cell,view:this.cellView,tool:b}),b.updatePosition(a.x,a.y),this.stamp(b.container),this.container.appendChild(b.container),this.handles.push(b),this.startHandleListening(b)}}updateHandles(){const e=this.vertices;for(let t=0,r=e.length;t<r;t+=1){const a=e[t],u=this.handles[t];u&&u.updatePosition(a.x,a.y)}}updatePath(){const e=this.childNodes.connection;e&&e.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(e){const t=this.cellView;t.can("vertexMovable")&&(e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)),t.can("vertexDeletable")&&e.on("remove",this.onHandleRemove,this)}stopHandleListening(e){const t=this.cellView;t.can("vertexMovable")&&(e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)),t.can("vertexDeletable")&&e.off("remove",this.onHandleRemove,this)}getNeighborPoints(e){const t=this.cellView,r=this.vertices,a=e>0?r[e-1]:t.sourceAnchor,u=e<r.length-1?r[e+1]:t.targetAnchor;return{prev:Bn.create(a),next:Bn.create(u)}}getMouseEventArgs(e){const t=this.normalizeEvent(e),{x:r,y:a}=this.graph.snapToGrid(t.clientX,t.clientY);return{e:t,x:r,y:a}}onHandleChange({e}){this.focus();const t=this.cellView;if(t.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:r,x:a,y:u}=this.getMouseEventArgs(e);t.notifyMouseDown(r,a,u)}}onHandleChanging({handle:e,e:t}){const r=this.cellView,a=e.options.index,{e:u,x:p,y:b}=this.getMouseEventArgs(t),P={x:p,y:b};this.snapVertex(P,a),r.cell.setVertexAt(a,P,{ui:!0,toolId:this.cid}),e.updatePosition(P.x,P.y),this.options.stopPropagation||r.notifyMouseMove(u,p,b)}onHandleChanged({e}){const t=this.options,r=this.cellView;if(t.addable&&this.updatePath(),!t.removeRedundancies)return;r.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),r.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),this.eventData(e).vertexAdded&&r.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid});const{e:u,x:p,y:b}=this.getMouseEventArgs(e);this.options.stopPropagation||r.notifyMouseUp(u,p,b),r.checkMouseleave(u),t.onChanged&&t.onChanged({edge:r.cell,edgeView:r})}snapVertex(e,t){const r=this.options.snapRadius||0;if(r>0){const a=this.getNeighborPoints(t),u=a.prev,p=a.next;Math.abs(e.x-u.x)<r?e.x=u.x:Math.abs(e.x-p.x)<r&&(e.x=p.x),Math.abs(e.y-u.y)<r?e.y=a.prev.y:Math.abs(e.y-p.y)<r&&(e.y=p.y)}}onHandleRemove({handle:e,e:t}){if(this.options.removable){const r=e.options.index,a=this.cellView;a.cell.removeVertexAt(r,{ui:!0}),this.options.addable&&this.updatePath(),a.checkMouseleave(this.normalizeEvent(t))}}onPathMouseDown(e){const t=this.cellView;if(this.guard(e)||!this.options.addable||!t.can("vertexAddable"))return;e.stopPropagation(),e.preventDefault();const r=this.normalizeEvent(e),a=this.graph.snapToGrid(r.clientX,r.clientY).toJSON();t.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const u=t.getVertexIndex(a.x,a.y);this.snapVertex(a,u),t.cell.insertVertex(a,u,{ui:!0,toolId:this.cid}),this.render();const p=this.handles[u];this.eventData(r,{vertexAdded:!0}),p.onMouseDown(r)}onRemove(){this.resetHandles()}}(function(c){class e extends Nl{constructor(r){super(),this.options=r,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}get graph(){return this.options.graph}render(){this.container=Nl.createElement("circle",!0);const r=this.options.attrs;if(typeof r=="function"){const a=c.getDefaults();this.setAttrs(Object.assign(Object.assign({},a.attrs),r(this)))}else this.setAttrs(r);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(r,a){this.setAttrs({cx:r,cy:a})}onMouseDown(r){this.options.guard(r)||(r.stopPropagation(),r.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},r.data),this.emit("change",{e:r,handle:this}))}onMouseMove(r){this.emit("changing",{e:r,handle:this})}onMouseUp(r){this.emit("changed",{e:r,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(r){this.emit("remove",{e:r,handle:this})}}c.Handle=e})(kg||(kg={})),function(c){const e=vu.prefix("edge-tool-vertex-path");c.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:t=>new c.Handle(t),markup:[{tagName:"path",selector:"connection",className:e,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${e}`]:"onPathMouseDown",[`touchstart .${e}`]:"onPathMouseDown"}})}(kg||(kg={}));class Lg extends Xu.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){Qt(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const e=this.cellView,t=[...this.vertices];this.options.addRoutePoint===!0&&t.length===0&&t.push(...e.routePoints),t.unshift(e.sourcePoint),t.push(e.targetPoint);for(let r=0,a=t.length;r<a-1;r+=1){const u=t[r],p=t[r+1],b=this.renderHandle(u,p,r);this.stamp(b.container),this.handles.push(b)}return this}renderHandle(e,t,r){const a=this.options.createHandle({index:r,graph:this.graph,guard:u=>this.guard(u),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(a),this.graph.hook.onToolItemCreated({name:"segments",cell:this.cell,view:this.cellView,tool:a}),this.updateHandle(a,e,t),this.container.appendChild(a.container),this.startHandleListening(a),a}startHandleListening(e){e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)}stopHandleListening(e){e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(t=>{this.stopHandleListening(t),t.remove()})}shiftHandleIndexes(e){const t=this.handles;for(let r=0,a=t.length;r<a;r+=1)t[r].options.index+=e}resetAnchor(e,t){const r=this.cellView.cell,a={ui:!0,toolId:this.cid};t?r.prop([e,"anchor"],t,a):r.removeProp([e,"anchor"],a)}snapHandle(e,t,r){const a=e.options.axis,u=e.options.index,P=this.cellView.cell.getVertices(),I=P[u-2]||r.sourceAnchor,z=P[u+1]||r.targetAnchor,W=this.options.snapRadius;return Math.abs(t[a]-I[a])<W?t[a]=I[a]:Math.abs(t[a]-z[a])<W&&(t[a]=z[a]),t}onHandleChanging({handle:e,e:t}){const r=this.graph,a=this.options,u=this.cellView,p=a.anchor,b=e.options.axis,P=e.options.index-1,I=this.getEventData(t),z=this.normalizeEvent(t),W=r.snapToGrid(z.clientX,z.clientY),ne=this.snapHandle(e,W.clone(),I),Te=oo(this.vertices);let Ke=Te[P],Ue=Te[P+1];const At=u.sourceView,tn=u.sourceBBox;let pn=!1,Kt=!1;if(Ke?P===0?tn.containsPoint(Ke)?(Te.shift(),this.shiftHandleIndexes(-1),pn=!0):(Ke[b]=ne[b],Kt=!0):Ke[b]=ne[b]:(Ke=u.sourceAnchor.toJSON(),Ke[b]=ne[b],tn.containsPoint(Ke)?pn=!0:(Te.unshift(Ke),this.shiftHandleIndexes(1),Kt=!0)),typeof p=="function"&&At){if(pn){const Ri=I.sourceAnchor.clone();Ri[b]=ne[b];const zo=er(p,u,Ri,At,u.sourceMagnet||At.container,"source",u,this);this.resetAnchor("source",zo)}Kt&&this.resetAnchor("source",I.sourceAnchorDef)}const zn=u.targetView,gr=u.targetBBox;let ii=!1,si=!1;if(Ue?P===Te.length-2?gr.containsPoint(Ue)?(Te.pop(),ii=!0):(Ue[b]=ne[b],si=!0):Ue[b]=ne[b]:(Ue=u.targetAnchor.toJSON(),Ue[b]=ne[b],gr.containsPoint(Ue)?ii=!0:(Te.push(Ue),si=!0)),typeof p=="function"&&zn){if(ii){const Ri=I.targetAnchor.clone();Ri[b]=ne[b];const zo=er(p,u,Ri,zn,u.targetMagnet||zn.container,"target",u,this);this.resetAnchor("target",zo)}si&&this.resetAnchor("target",I.targetAnchorDef)}Bn.equalPoints(Te,this.vertices)||this.cellView.cell.setVertices(Te,{ui:!0,toolId:this.cid}),this.updateHandle(e,Ke,Ue,0),a.stopPropagation||u.notifyMouseMove(z,W.x,W.y)}onHandleChange({handle:e,e:t}){const r=this.options,a=this.handles,u=this.cellView,p=e.options.index;if(Array.isArray(a)){for(let b=0,P=a.length;b<P;b+=1)b!==p&&a[b].hide();if(this.focus(),this.setEventData(t,{sourceAnchor:u.sourceAnchor.clone(),targetAnchor:u.targetAnchor.clone(),sourceAnchorDef:oo(this.cell.prop(["source","anchor"])),targetAnchorDef:oo(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!r.stopPropagation){const b=this.normalizeEvent(t),P=this.graph.snapToGrid(b.clientX,b.clientY);u.notifyMouseDown(b,P.x,P.y)}}}onHandleChanged({e}){const t=this.options,r=this.cellView;t.removeRedundancies&&r.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const a=this.normalizeEvent(e),u=this.graph.snapToGrid(a.clientX,a.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),t.stopPropagation||r.notifyMouseUp(a,u.x,u.y),r.checkMouseleave(a),t.onChanged&&t.onChanged({edge:r.cell,edgeView:r})}updateHandle(e,t,r,a=0){const u=this.options.precision||0,p=Math.abs(t.x-r.x)<u,b=Math.abs(t.y-r.y)<u;if(p||b){const P=new Ra(t,r);if(P.length()<this.options.threshold)e.hide();else{const z=P.getCenter(),W=p?"x":"y";z[W]+=a||0;const ne=P.vector().vectorAngle(new Bn(1,0));e.updatePosition(z.x,z.y,ne,this.cellView),e.show(),e.options.axis=W}}else e.hide()}onRemove(){this.resetHandles()}}(function(c){class e extends Nl{constructor(r){super(),this.options=r,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=Nl.createElement("rect",!0);const r=this.options.attrs;if(typeof r=="function"){const a=c.getDefaults();this.setAttrs(Object.assign(Object.assign({},a.attrs),r(this)))}else this.setAttrs(r);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(r,a,u,p){const b=p.getClosestPoint(new Bn(r,a))||new Bn(r,a);let P=Ms().translate(b.x,b.y);if(b.equals({x:r,y:a}))P=P.rotate(u);else{let z=new Ra(r,a,b.x,b.y).vector().vectorAngle(new Bn(1,0));z!==0&&(z+=90),P=P.rotate(z)}this.setAttrs({transform:Ud(P),cursor:u%180===0?"row-resize":"col-resize"})}onMouseDown(r){this.options.guard(r)||(this.trigger("change",{e:r,handle:this}),r.stopPropagation(),r.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},r.data))}onMouseMove(r){this.emit("changing",{e:r,handle:this})}onMouseUp(r){this.emit("changed",{e:r,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}c.Handle=e})(Lg||(Lg={})),function(c){c.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:e=>new c.Handle(e),anchor:yC,addRoutePoint:!1})}(Lg||(Lg={}));class Bv extends Xu.ToolItem{get type(){return this.options.type}onRender(){Qt(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){const e=this.type;return this.cellView.getTerminalView(e)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const e=this.childNodes;if(!e)return;const t=e.anchor;if(!t)return;const r=this.type,a=this.cellView,u=this.options,p=a.getTerminalAnchor(r),b=a.cell.prop([r,"anchor"]);t.setAttribute("transform",`translate(${p.x}, ${p.y})`);const P=b?u.customAnchorAttrs:u.defaultAnchorAttrs;P&&Object.keys(P).forEach(I=>{t.setAttribute(I,P[I])})}updateArea(){const e=this.childNodes;if(!e)return;const t=e.area;if(!t)return;const r=this.type,a=this.cellView,u=a.getTerminalView(r);if(u){const p=u.cell,b=a.getTerminalMagnet(r);let P=this.options.areaPadding||0;Number.isFinite(P)||(P=0);let I,z,W;u.isEdgeElement(b)?(I=u.getBBox(),z=0,W=I.getCenter()):(I=u.getUnrotatedBBoxOfElement(b),z=p.getAngle(),W=I.getCenter(),z&&W.rotate(-z,p.getBBox().getCenter())),I.inflate(P),Il(t,{x:-I.width/2,y:-I.height/2,width:I.width,height:I.height,transform:`translate(${W.x}, ${W.y}) rotate(${z})`})}}toggleArea(e){if(this.childNodes){const t=this.childNodes.area;t&&(t.style.display=e?"":"none")}}onMouseDown(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(e){const t=this.type,r=this.cell;e?r.prop([t,"anchor"],e,{rewrite:!0,ui:!0,toolId:this.cid}):r.removeProp([t,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(e){const t=this.type,r=this.cellView,a=r.getTerminalView(t);if(a==null)return;const u=this.normalizeEvent(e),p=a.cell,b=r.getTerminalMagnet(t);let P=this.graph.clientToLocal(u.clientX,u.clientY);const I=this.options.snap;if(typeof I=="function"){const ne=er(I,r,P,a,b,t,r,this);P=Bn.create(ne)}if(this.options.restrictArea)if(a.isEdgeElement(b)){const ne=a.getClosestPoint(P);ne&&(P=ne)}else{const ne=a.getUnrotatedBBoxOfElement(b),Te=p.getAngle(),Ke=p.getBBox().getCenter(),Ue=P.clone().rotate(Te,Ke);ne.containsPoint(Ue)||(P=ne.getNearestPointToPoint(Ue).rotate(-Te,Ke))}let z;const W=this.options.anchor;typeof W=="function"&&(z=er(W,r,P,a,b,t,r,this)),this.resetAnchor(z),this.update()}onMouseUp(e){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);const t=this.cellView;this.options.removeRedundancies&&t.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const e=this.options.resetAnchor;e&&this.resetAnchor(e===!0?void 0:e),this.update()}}(function(c){c.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:yC,snap(e,t,r,a,u,p){const b=p.options.snapRadius||0,P=a==="source",I=P?0:-1,z=this.cell.getVertexAt(I)||this.getTerminalAnchor(P?"target":"source");return z&&(Math.abs(z.x-e.x)<b&&(e.x=z.x),Math.abs(z.y-e.y)<b&&(e.y=z.y)),e}})})(Bv||(Bv={}));const Hp=Bv.define({name:"source-anchor",type:"source"}),p1=Bv.define({name:"target-anchor",type:"target"});var g1=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class Zv extends Xu.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const e=this.options.attrs,{class:t}=e,r=g1(e,["class"]);this.setAttrs(r,this.container),t&&Qt(this.container,t)}}onRender(){Qt(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const e=this.ratio,t=this.cellView,r=t.getTangentAtRatio(e),a=r?r.start:t.getPointAtRatio(e),u=r&&r.vector().vectorAngle(new Bn(1,0))||0;if(!a)return this;const p=Ms().translate(a.x,a.y).rotate(u);return $s(this.container,p,{absolute:!0}),this}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const t=this.cellView;if(t.can("arrowheadMovable")){t.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const r=this.graph.snapToGrid(e.clientX,e.clientY),a=t.prepareArrowheadDragging(this.type,{x:r.x,y:r.y,options:{toolId:this.cid}});this.cellView.setEventData(e,a),this.delegateDocumentEvents(this.options.documentEvents,e.data),t.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(e){const t=this.normalizeEvent(e),r=this.graph.snapToGrid(t.clientX,t.clientY);this.cellView.onMouseMove(t,r.x,r.y),this.update()}onMouseUp(e){this.undelegateDocumentEvents();const t=this.normalizeEvent(e),r=this.cellView,a=this.graph.snapToGrid(t.clientX,t.clientY);r.onMouseUp(t,a.x,a.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",r.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}(function(c){c.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})})(Zv||(Zv={}));const v1=Zv.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),m1=Zv.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class Kp extends Xu.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5}render(){return this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents),this}createElement(){const{cell:e}=this,t=[this.prefixClassName(`${e.isEdge()?"edge":"node"}-tool-editor`),this.prefixClassName("cell-tool-editor")];this.editor=Xu.createElement("div",!1),this.addClass(t,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}updateEditor(){const{graph:e,cell:t,editor:r}=this,a=r.style;let u=new Bn,p=20;if(t.isNode())u=t.getBBox().center,p=t.size().width-4;else if(t.isEdge()){const W=this.options.event,ne=W.target,Te=ne.parentElement;if(Te&&vr(Te,this.prefixClassName("edge-label"))){const Ue=Te.getAttribute("data-index")||"0";this.labelIndex=parseInt(Ue,10);const At=Te.getAttribute("transform"),{translation:tn}=Vd(At);u=new Bn(tn.tx,tn.ty),p=ai(ne).width}else{if(!this.options.labelAddable)return this;u=e.clientToLocal(Bn.create(W.clientX,W.clientY));const At=this.cellView.path.closestPointLength(u);this.distance=At}}u=e.localToGraph(u),a.left=`${u.x}px`,a.top=`${u.y}px`,a.minWidth=`${p}px`;const b=e.scale();a.transform=`scale(${b.sx}, ${b.sy}) translate(-50%, -50%)`;const P=this.options.attrs;a.fontSize=`${P.fontSize}px`,a.fontFamily=P.fontFamily,a.color=P.color,a.backgroundColor=P.backgroundColor;const I=this.options.getText;let z;return typeof I=="function"&&(z=er(I,this.cellView,{cell:this.cell,index:this.labelIndex})),r.innerText=z||"",this}onDocumentMouseDown(e){if(e.target!==this.editor){const t=this.cell,r=this.editor.innerText.replace(/\n$/,"")||"",a=this.options.setText;typeof a=="function"&&er(a,this.cellView,{cell:this.cell,value:r,index:this.labelIndex,distance:this.distance}),t.removeTool(t.isEdge()?"edge-editor":"node-editor"),this.undelegateDocumentEvents()}}onDblClick(e){e.stopPropagation()}onMouseDown(e){e.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor.focus(),this.selectText()})}selectText(){if(window.getSelection){const e=document.createRange(),t=window.getSelection();e.selectNodeContents(this.editor),t.removeAllRanges(),t.addRange(e)}}}(function(c){c.config({tagName:"div",isSVGElement:!1,events:{dblclick:"onDblClick",mousedown:"onMouseDown"},documentEvents:{mousedown:"onDocumentMouseDown"}})})(Kp||(Kp={})),function(c){c.NodeEditor=c.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText({cell:e}){return e.attr("text/text")},setText({cell:e,value:t}){e.attr("text/text",t)}}),c.EdgeEditor=c.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText({cell:e,index:t}){return t===-1?"":e.prop(`labels/${t}/attrs/label/text`)},setText({cell:e,value:t,index:r,distance:a}){const u=e;r===-1?u.appendLabel({position:{distance:a},attrs:{label:{text:t}}}):t?u.prop(`labels/${r}/attrs/label/text`,t):typeof r=="number"&&u.removeLabelAt(r)}})}(Kp||(Kp={}));var ey=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t},Yp;(function(c){c.presets={boundary:Gv,button:Fh,"button-remove":Fh.Remove,"node-editor":Kp.NodeEditor},c.registry=ru.create({type:"node tool",process(e,t){if(typeof t=="function")return t;let r=Xu.ToolItem;const{inherit:a}=t,u=ey(t,["inherit"]);if(a){const p=this.get(a);p==null?this.onNotFound(a,"inherited"):r=p}return u.name==null&&(u.name=e),r.define.call(r,u)}}),c.registry.register(c.presets,!0)})(Yp||(Yp={}));var mp;(function(c){c.presets={boundary:Gv,vertices:kg,segments:Lg,button:Fh,"button-remove":Fh.Remove,"source-anchor":Hp,"target-anchor":p1,"source-arrowhead":v1,"target-arrowhead":m1,"edge-editor":Kp.EdgeEditor},c.registry=ru.create({type:"edge tool",process(e,t){if(typeof t=="function")return t;let r=Xu.ToolItem;const{inherit:a}=t,u=ey(t,["inherit"]);if(a){const p=this.get(a);p==null?this.onNotFound(a,"inherited"):r=p}return u.name==null&&(u.name=e),r.define.call(r,u)}}),c.registry.register(c.presets,!0)})(mp||(mp={}));const bC=yp("center"),od=yp("topCenter"),CC=yp("bottomCenter"),ty=yp("leftMiddle"),Px=yp("rightMiddle"),Tx=yp("topLeft"),y1=yp("topRight"),Ox=yp("bottomLeft"),T0=yp("bottomRight");function yp(c){return function(e,t,r,a={}){const u=a.rotate?e.getUnrotatedBBoxOfElement(t):e.getBBoxOfElement(t),p=u[c];p.x+=jl(a.dx,u.width),p.y+=jl(a.dy,u.height);const b=e.cell;return a.rotate?p.rotate(-b.getAngle(),b.getBBox().getCenter()):p}}function ny(c){return function(e,t,r,a){if(r instanceof Element){const u=this.graph.renderer.findViewByElem(r);let p;if(u)if(u.isEdgeElement(r)){const b=a.fixedAt!=null?a.fixedAt:"50%";p=bp(u,b)}else p=u.getBBoxOfElement(r).getCenter();else p=new Bn;return c.call(this,e,t,p,a)}return c.apply(this,arguments)}}function bp(c,e){const t=sl(e),r=typeof e=="string"?parseFloat(e):e;return t?c.getPointAtRatio(r/100):c.getPointAtLength(r)}const _x=ny(function(c,e,t,r){const a=c.cell.getAngle(),u=c.getBBoxOfElement(e),p=u.getCenter(),b=u.getTopLeft(),P=u.getBottomRight();let I=r.padding;if(Number.isFinite(I)||(I=0),b.y+I<=t.y&&t.y<=P.y-I){const z=t.y-p.y;p.x+=a===0||a===180?0:z*1/Math.tan(gl.toRad(a)),p.y+=z}else if(b.x+I<=t.x&&t.x<=P.x-I){const z=t.x-p.x;p.y+=a===90||a===270?0:z*Math.tan(gl.toRad(a)),p.x+=z}return p}),Ax=function(c,e,t,r,a){const u=c.cell.getConnectionPoint(this.cell,a);return(r.dx||r.dy)&&u.translate(r.dx||0,r.dy||0),u},xC=ny(function(c,e,t,r){let a,u=0,p;const b=c.cell;r.rotate?(a=c.getUnrotatedBBoxOfElement(e),p=b.getBBox().getCenter(),u=b.getAngle()):a=c.getBBoxOfElement(e);const P=r.padding;P!=null&&Number.isFinite(P)&&a.inflate(P),r.rotate&&t.rotate(u,p);const I=a.getNearestSideToPoint(t);let z;switch(I){case"left":z=a.getLeftMiddle();break;case"right":z=a.getRightMiddle();break;case"top":z=a.getTopCenter();break;case"bottom":z=a.getBottomCenter();break;default:break}const W=r.direction;return W==="H"?(I==="top"||I==="bottom")&&(t.x<=a.x+a.width?z=a.getLeftMiddle():z=a.getRightMiddle()):W==="V"&&(t.y<=a.y+a.height?z=a.getTopCenter():z=a.getBottomCenter()),r.rotate?z.rotate(-u,p):z});var Fg;(function(c){c.presets=J,c.registry=ru.create({type:"node endpoint"}),c.registry.register(c.presets,!0)})(Fg||(Fg={}));const Nx=function(c,e,t,r){let a=r.ratio!=null?r.ratio:.5;return a>1&&(a/=100),c.getPointAtRatio(a)},Rx=function(c,e,t,r){const a=r.length!=null?r.length:20;return c.getPointAtLength(a)},EC=function(c,e,t,r){const a=c.getClosestPoint(t);return a!=null?a:new Bn},Ix=ny(EC),kx=ny(function(c,e,t,r){const u=c.getConnection(),p=c.getConnectionSubdivisions(),b=new Ra(t.clone().translate(0,1e6),t.clone().translate(0,-1e6)),P=new Ra(t.clone().translate(1e6,0),t.clone().translate(-1e6,0)),I=b.intersect(u,{segmentSubdivisions:p}),z=P.intersect(u,{segmentSubdivisions:p}),W=[];return I&&W.push(...I),z&&W.push(...z),W.length>0?t.closest(W):r.fallbackAt!=null?bp(c,r.fallbackAt):er(EC,this,c,e,t,r)});var Xp;(function(c){c.presets=K,c.registry=ru.create({type:"edge endpoint"}),c.registry.register(c.presets,!0)})(Xp||(Xp={}));function ry(c,e,t){let r;if(typeof t=="object"){if(Number.isFinite(t.y)){const u=new Ra(e,c),{start:p,end:b}=u.parallel(t.y);e=p,c=b}r=t.x}else r=t;if(r==null||!Number.isFinite(r))return c;const a=c.distance(e);return r===0&&a>0?c:c.move(e,-Math.min(r,a-1))}function Cp(c){const e=c.getAttribute("stroke-width");return e===null?0:parseFloat(e)||0}function Gg(c){if(c==null)return null;let e=c;do{let t=e.tagName;if(typeof t!="string")return null;if(t=t.toUpperCase(),t==="G")e=e.firstElementChild;else if(t==="TITLE")e=e.nextElementSibling;else break}while(e);return e}const Bg=function(c,e,t,r){const a=e.getBBoxOfElement(t);r.stroked&&a.inflate(Cp(t)/2);const u=c.intersect(a),p=u&&u.length?c.start.closest(u):c.end;return ry(p,c.start,r.offset)},wC=function(c,e,t,r,a){const u=e.cell,p=u.isNode()?u.getAngle():0;if(p===0)return er(Bg,this,c,e,t,r,a);const b=e.getUnrotatedBBoxOfElement(t);r.stroked&&b.inflate(Cp(t)/2);const P=b.getCenter(),I=c.clone().rotate(p,P),z=I.setLength(1e6).intersect(b),W=z&&z.length?I.start.closest(z).rotate(-p,P):c.end;return ry(W,c.start,r.offset)},Lx=function(c,e,t,r){let a,u;const p=c.end,b=r.selector;if(typeof b=="string"?a=e.findOne(b):Array.isArray(b)?a=Pa(t,b):a=Gg(t),!vi(a)){if(a===t||!vi(t))return p;a=t}const P=e.getShapeOfElement(a),I=e.getMatrixOfElement(a),z=e.getRootTranslatedMatrix(),W=e.getRootRotatedMatrix(),ne=z.multiply(W).multiply(I),Te=ne.inverse(),Ke=xv(c,Te),Ue=Ke.start.clone(),At=e.getDataOfElement(a);if(r.insideout===!1){At.shapeBBox==null&&(At.shapeBBox=P.bbox());const zn=At.shapeBBox;if(zn!=null&&zn.containsPoint(Ue))return p}r.extrapolate===!0&&Ke.setLength(1e6);let tn;if(rs.isPath(P)){const zn=r.precision||2;At.segmentSubdivisions==null&&(At.segmentSubdivisions=P.getSegmentSubdivisions({precision:zn})),tn={precision:zn,segmentSubdivisions:At.segmentSubdivisions},u=Ke.intersect(P,tn)}else u=Ke.intersect(P);u?Array.isArray(u)&&(u=Ue.closest(u)):r.sticky===!0&&(Oo.isRectangle(P)?u=P.getNearestPointToPoint(Ue):gd.isEllipse(P)?u=P.intersectsWithLineFromCenterToPoint(Ue):u=P.closestPoint(Ue,tn));const pn=u?rd(u,ne):p;let Kt=r.offset||0;return r.stroked!==!1&&(typeof Kt=="object"?(Kt=Object.assign({},Kt),Kt.x==null&&(Kt.x=0),Kt.x+=Cp(a)/2):Kt+=Cp(a)/2),ry(pn,c.start,Kt)};function b1(c,e,t=0){const{start:r,end:a}=c;let u,p,b,P;switch(e){case"left":P="x",u=a,p=r,b=-1;break;case"right":P="x",u=r,p=a,b=1;break;case"top":P="y",u=a,p=r,b=-1;break;case"bottom":P="y",u=r,p=a,b=1;break;default:return}r[P]<a[P]?u[P]=p[P]:p[P]=u[P],Number.isFinite(t)&&(u[P]+=b*t,p[P]+=b*t)}const Fx=function(c,e,t,r){const{alignOffset:a,align:u}=r;return u&&b1(c,u,a),ry(c.end,c.start,r.offset)};var Qp;(function(c){c.presets=Y,c.registry=ru.create({type:"connection point"}),c.registry.register(c.presets,!0)})(Qp||(Qp={}));const SC=function(c){return[...c]},Gx=function(c,e,t){const r=e.side||"bottom",a=Al(e.padding||40),u=t.sourceBBox,p=t.targetBBox,b=u.getCenter(),P=p.getCenter();let I,z,W;switch(r){case"top":W=-1,I="y",z="height";break;case"left":W=-1,I="x",z="width";break;case"right":W=1,I="x",z="width";break;case"bottom":default:W=1,I="y",z="height";break}return b[I]+=W*(u[z]/2+a[r]),P[I]+=W*(p[z]/2+a[r]),W*(b[I]-P[I])>0?P[I]=b[I]:b[I]=P[I],[b.toJSON(),...c,P.toJSON()]};function iy(c){return new Oo(c.x,c.y,0,0)}function _0(c={}){const e=Al(c.padding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function C1(c,e={}){return c.sourceBBox.clone().moveAndExpand(_0(e))}function MC(c,e={}){return c.targetBBox.clone().moveAndExpand(_0(e))}function PC(c,e={}){return c.sourceAnchor?c.sourceAnchor:C1(c,e).getCenter()}function Bx(c,e={}){return c.targetAnchor?c.targetAnchor:MC(c,e).getCenter()}const TC=function(c,e,t){let r=C1(t,e),a=MC(t,e);const u=PC(t,e),p=Bx(t,e);r=r.union(iy(u)),a=a.union(iy(p));const b=c.map(z=>Bn.create(z));b.unshift(u),b.push(p);let P=null;const I=[];for(let z=0,W=b.length-1;z<W;z+=1){let ne=null;const Te=b[z],Ke=b[z+1],Ue=Kd.getBearing(Te,Ke)!=null;if(z===0)z+1===W?r.intersectsWithRect(a.clone().inflate(1))?ne=Kd.insideNode(Te,Ke,r,a):Ue||(ne=Kd.nodeToNode(Te,Ke,r,a)):r.containsPoint(Ke)?ne=Kd.insideNode(Te,Ke,r,iy(Ke).moveAndExpand(_0(e))):Ue||(ne=Kd.nodeToVertex(Te,Ke,r));else if(z+1===W){const At=Ue&&Kd.getBearing(Ke,Te)===P;a.containsPoint(Te)||At?ne=Kd.insideNode(Te,Ke,iy(Te).moveAndExpand(_0(e)),a,P):Ue||(ne=Kd.vertexToNode(Te,Ke,a,P))}else Ue||(ne=Kd.vertexToVertex(Te,Ke,P));ne?(I.push(...ne.points),P=ne.direction):P=Kd.getBearing(Te,Ke),z+1<W&&I.push(Ke)}return I};var Kd;(function(c){const e={N:"S",S:"N",E:"W",W:"E"},t={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function r(W,ne,Te){let Ke=new Bn(W.x,ne.y);return Te.containsPoint(Ke)&&(Ke=new Bn(ne.x,W.y)),Ke}function a(W,ne){return W[ne==="W"||ne==="E"?"width":"height"]}c.getBBoxSize=a;function u(W,ne){return W.x===ne.x?W.y>ne.y?"N":"S":W.y===ne.y?W.x>ne.x?"W":"E":null}c.getBearing=u;function p(W,ne,Te){const Ke=new Bn(W.x,ne.y),Ue=new Bn(ne.x,W.y),At=u(W,Ke),tn=u(W,Ue),pn=Te?e[Te]:null,Kt=At===Te||At!==pn&&(tn===pn||tn!==Te)?Ke:Ue;return{points:[Kt],direction:u(Kt,ne)}}c.vertexToVertex=p;function b(W,ne,Te){const Ke=r(W,ne,Te);return{points:[Ke],direction:u(Ke,ne)}}c.nodeToVertex=b;function P(W,ne,Te,Ke){const Ue=[new Bn(W.x,ne.y),new Bn(ne.x,W.y)],At=Ue.filter(Kt=>!Te.containsPoint(Kt)),tn=At.filter(Kt=>u(Kt,W)!==Ke);let pn;if(tn.length>0)return pn=tn.filter(Kt=>u(W,Kt)===Ke).pop(),pn=pn||tn[0],{points:[pn],direction:u(pn,ne)};{pn=Bi(Ue,At)[0];const Kt=Bn.create(ne).move(pn,-a(Te,Ke)/2);return{points:[r(Kt,W,Te),Kt],direction:u(Kt,ne)}}}c.vertexToNode=P;function I(W,ne,Te,Ke){let Ue=b(ne,W,Ke);const At=Ue.points[0];if(Te.containsPoint(At)){Ue=b(W,ne,Te);const tn=Ue.points[0];if(Ke.containsPoint(tn)){const pn=Bn.create(W).move(tn,-a(Te,u(W,tn))/2),Kt=Bn.create(ne).move(At,-a(Ke,u(ne,At))/2),zn=new Ra(pn,Kt).getCenter(),gr=b(W,zn,Te),ii=p(zn,ne,gr.direction);Ue.points=[gr.points[0],ii.points[0]],Ue.direction=ii.direction}}return Ue}c.nodeToNode=I;function z(W,ne,Te,Ke,Ue){const At=Te.union(Ke).inflate(1),tn=At.getCenter(),pn=tn.distance(ne)>tn.distance(W),Kt=pn?ne:W,zn=pn?W:ne;let gr,ii,si;Ue?(gr=Bn.fromPolar(At.width+At.height,t[Ue],Kt),gr=At.getNearestPointToPoint(gr).move(gr,-1)):gr=At.getNearestPointToPoint(Kt).move(Kt,1),ii=r(gr,zn,At);let Ri;gr.round().equals(ii.round())?(ii=Bn.fromPolar(At.width+At.height,gl.toRad(gr.theta(Kt))+Math.PI/2,zn),ii=At.getNearestPointToPoint(ii).move(zn,1).round(),si=r(gr,ii,At),Ri=pn?[ii,si,gr]:[gr,si,ii]):Ri=pn?[ii,gr]:[gr,ii];const zo=u(pn?gr:ii,ne);return{points:Ri,direction:zo}}c.insideNode=z})(Kd||(Kd={}));const Zx={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeShapes:[],excludeNodes:[],excludeHiddenNodes:!1,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return Jp(this.step,this)},directions(){const c=Jp(this.step,this),e=Jp(this.cost,this);return[{cost:e,offsetX:c,offsetY:0},{cost:e,offsetX:-c,offsetY:0},{cost:e,offsetX:0,offsetY:c},{cost:e,offsetX:0,offsetY:-c}]},penalties(){const c=Jp(this.step,this);return{0:0,45:c/2,90:c/2}},paddingBox(){const c=Jp(this.step,this);return{x:-c,y:-c,width:2*c,height:2*c}},fallbackRouter:TC,draggingRouter:null};function Jp(c,e){return typeof c=="function"?c.call(e):c}function zx(c){const e=Object.keys(c).reduce((t,r)=>{const a=t;return r==="fallbackRouter"||r==="draggingRouter"||r==="fallbackRoute"?a[r]=c[r]:a[r]=Jp(c[r],c),t},{});if(e.padding){const t=Al(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}return e.directions.forEach(t=>{const r=new Bn(0,0),a=new Bn(t.offsetX,t.offsetY);t.angle=gl.normalize(r.theta(a))}),e}const OC=1,_C=2;class Ux{constructor(){this.items=[],this.hash={},this.values={}}add(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=OC,this.values[e]=t;const r=or(this.items,e,a=>this.values[a]);this.items.splice(r,0,e)}pop(){const e=this.items.shift();return e&&(this.hash[e]=_C),e}isOpen(e){return this.hash[e]===OC}isClose(e){return this.hash[e]===_C}isEmpty(){return this.items.length===0}}class Vx{constructor(e){this.options=e,this.mapGridSize=100,this.map={}}build(e,t){const r=this.options,a=r.excludeTerminals.reduce((I,z)=>{const W=t[z];if(W){const ne=e.getCell(W.cell);ne&&I.push(ne)}return I},[]);let u=[];const p=e.getCell(t.getSourceCellId());p&&(u=ti(u,p.getAncestors().map(I=>I.id)));const b=e.getCell(t.getTargetCellId());b&&(u=ti(u,b.getAncestors().map(I=>I.id)));const P=this.mapGridSize;return e.getNodes().reduce((I,z)=>{const W=z.shape,ne=r.excludeShapes,Te=W?ne.includes(W):!1,Ke=a.some(Kt=>Kt.id===z.id),Ue=r.excludeNodes.some(Kt=>typeof Kt=="string"?z.id===Kt:Kt===z),At=u.includes(z.id),tn=r.excludeHiddenNodes&&!z.isVisible();if(!(Te||Ke||Ue||At||tn)){const Kt=z.getBBox().moveAndExpand(r.paddingBox),zn=Kt.getOrigin().snapToGrid(P),gr=Kt.getCorner().snapToGrid(P);for(let ii=zn.x;ii<=gr.x;ii+=P)for(let si=zn.y;si<=gr.y;si+=P){const Ri=new Bn(ii,si).toString();I[Ri]==null&&(I[Ri]=[]),I[Ri].push(Kt)}}return I},this.map),this}isAccessible(e){const t=e.clone().snapToGrid(this.mapGridSize).toString(),r=this.map[t];return r?r.every(a=>!a.containsPoint(e)):!0}}function AC(c,e){const t=c.sourceBBox.clone();return e&&e.paddingBox?t.moveAndExpand(e.paddingBox):t}function oy(c,e){const t=c.targetBBox.clone();return e&&e.paddingBox?t.moveAndExpand(e.paddingBox):t}function ay(c,e){return c.sourceAnchor?c.sourceAnchor:AC(c,e).getCenter()}function x1(c,e){return c.targetAnchor?c.targetAnchor:oy(c,e).getCenter()}function A0(c,e,t,r,a){const u=360/t,p=c.theta(E1(c,e,r,a)),b=gl.normalize(p+u/2);return u*Math.floor(b/u)}function E1(c,e,t,r){const a=r.step,u=e.x-c.x,p=e.y-c.y,b=u/t.x,P=p/t.y,I=b*a,z=P*a;return new Bn(c.x+I,c.y+z)}function sy(c,e){const t=Math.abs(c-e);return t>180?360-t:t}function w1(c,e){const t=e.step;return e.directions.forEach(r=>{r.gridOffsetX=r.offsetX/t*c.x,r.gridOffsetY=r.offsetY/t*c.y}),e.directions}function S1(c,e,t){return{source:e.clone(),x:ly(t.x-e.x,c),y:ly(t.y-e.y,c)}}function ly(c,e){if(!c)return e;const t=Math.abs(c),r=Math.round(t/e);if(!r)return t;const a=r*e,p=(t-a)/r;return e+p}function M1(c,e){const t=e.source,r=vu.snapToGrid(c.x-t.x,e.x)+t.x,a=vu.snapToGrid(c.y-t.y,e.y)+t.y;return new Bn(r,a)}function Zg(c,e){return c.round(e)}function zv(c,e,t){return Zg(M1(c.clone(),e),t)}function Yf(c){return c.toString()}function D0(c){return new Bn(c.x===0?0:Math.abs(c.x)/c.x,c.y===0?0:Math.abs(c.y)/c.y)}function cy(c,e){let t=1/0;for(let r=0,a=e.length;r<a;r+=1){const u=c.manhattanDistance(e[r]);u<t&&(t=u)}return t}function uy(c,e,t,r,a){const u=a.precision,p=a.directionMap,b=c.diff(e.getCenter()),P=Object.keys(p).reduce((I,z)=>{if(t.includes(z)){const W=p[z],ne=new Bn(c.x+W.x*(Math.abs(b.x)+e.width),c.y+W.y*(Math.abs(b.y)+e.height)),Ke=new Ra(c,ne).intersect(e)||[];let Ue,At=null;for(let tn=0;tn<Ke.length;tn+=1){const pn=Ke[tn],Kt=c.squaredDistance(pn);(Ue==null||Kt>Ue)&&(Ue=Kt,At=pn)}if(At){let tn=zv(At,r,u);e.containsPoint(tn)&&(tn=zv(tn.translate(W.x*r.x,W.y*r.y),r,u)),I.push(tn)}}return I},[]);return e.containsPoint(c)||P.push(zv(c,r,u)),P}function P1(c,e,t,r,a){const u=[];let p=D0(a.diff(t)),b=Yf(t),P=c[b],I;for(;P;){I=e[b];const ne=D0(I.diff(P));ne.equals(p)||(u.unshift(I),p=ne),b=Yf(P),P=c[b]}const z=e[b];return D0(z.diff(r)).equals(p)||u.unshift(z),u}function T1(c,e,t,r,a){const u=a.precision;let p,b;Oo.isRectangle(e)?p=Zg(ay(c,a).clone(),u):p=Zg(e.clone(),u),Oo.isRectangle(t)?b=Zg(x1(c,a).clone(),u):b=Zg(t.clone(),u);const P=S1(a.step,p,b),I=p,z=b;let W,ne;if(Oo.isRectangle(e)?W=uy(I,e,a.startDirections,P,a):W=[I],Oo.isRectangle(t)?ne=uy(b,t,a.endDirections,P,a):ne=[z],W=W.filter(Te=>r.isAccessible(Te)),ne=ne.filter(Te=>r.isAccessible(Te)),W.length>0&&ne.length>0){const Te=new Ux,Ke={},Ue={},At={};for(let ro=0,po=W.length;ro<po;ro+=1){const Yo=W[ro],ks=Yf(Yo);Te.add(ks,cy(Yo,ne)),Ke[ks]=Yo,At[ks]=0}const tn=a.previousDirectionAngle,pn=tn===void 0;let Kt,zn;const gr=w1(P,a),ii=gr.length,si=ne.reduce((ro,po)=>{const Yo=Yf(po);return ro.push(Yo),ro},[]),Ri=Bn.equalPoints(W,ne);let zo=a.maxLoopCount;for(;!Te.isEmpty()&&zo>0;){const ro=Te.pop(),po=Ke[ro],Yo=Ue[ro],ks=At[ro],Fs=po.equals(I),Ei=Yo==null;let Po;if(Ei?pn?Fs?Po=null:Po=A0(I,po,ii,P,a):Po=tn:Po=A0(Yo,po,ii,P,a),!(Ei&&Ri)&&si.indexOf(ro)>=0)return a.previousDirectionAngle=Po,P1(Ue,Ke,po,I,z);for(let yc=0;yc<ii;yc+=1){Kt=gr[yc];const zc=Kt.angle;if(zn=sy(Po,zc),!(pn&&Fs)&&zn>a.maxDirectionChange)continue;const Uu=zv(po.clone().translate(Kt.gridOffsetX||0,Kt.gridOffsetY||0),P,u),wu=Yf(Uu);if(Te.isClose(wu)||!r.isAccessible(Uu))continue;if(si.indexOf(wu)>=0&&!Uu.equals(z)){const $h=A0(Uu,z,ii,P,a);if(sy(zc,$h)>a.maxDirectionChange)continue}const G0=Kt.cost,B0=Fs?0:a.penalties[zn],Sp=ks+G0+B0;(!Te.isOpen(wu)||Sp<At[wu])&&(Ke[wu]=Uu,Ue[wu]=po,At[wu]=Sp,Te.add(wu,Sp+cy(Uu,ne)))}zo-=1}}return a.fallbackRoute?er(a.fallbackRoute,this,I,z,a):null}const O1=function(c,e,t){const r=zx(e),a=AC(t,r),u=oy(t,r),p=ay(t,r),b=new Vx(r).build(t.graph.model,t.cell),P=c.map(Te=>Bn.create(Te)),I=[];let z=p,W,ne;for(let Te=0,Ke=P.length;Te<=Ke;Te+=1){let Ue=null;if(W=ne||a,ne=P[Te],ne==null){ne=u;const tn=t.cell;if((tn.getSourceCellId()==null||tn.getTargetCellId()==null)&&typeof r.draggingRouter=="function"){const Kt=W===a?p:W,zn=ne.getOrigin();Ue=er(r.draggingRouter,t,Kt,zn,r)}}if(Ue==null&&(Ue=T1(t,W,ne,b,r)),Ue===null)return console.warn("Unable to execute manhattan algorithm, use orth instead"),er(r.fallbackRouter,this,c,r,t);const At=Ue[0];At&&At.equals(z)&&Ue.shift(),z=Ue[Ue.length-1]||z,I.push(...Ue)}return I},fy=function(c,e,t){return er(O1,this,c,Object.assign(Object.assign({},Zx),e),t)},_1={maxDirectionChange:45,directions(){const c=Jp(this.step,this),e=Jp(this.cost,this),t=Math.ceil(Math.sqrt(c*c<<1));return[{cost:e,offsetX:c,offsetY:0},{cost:t,offsetX:c,offsetY:c},{cost:e,offsetX:0,offsetY:c},{cost:t,offsetX:-c,offsetY:c},{cost:e,offsetX:-c,offsetY:0},{cost:t,offsetX:-c,offsetY:-c},{cost:e,offsetX:0,offsetY:-c},{cost:t,offsetX:c,offsetY:-c}]},fallbackRoute(c,e,t){const r=c.theta(e),a=[];let u={x:e.x,y:c.y},p={x:c.x,y:e.y};if(r%180>90){const Kt=u;u=p,p=Kt}const b=r%90<45?u:p,P=new Ra(c,b),I=90*Math.ceil(r/90),z=Bn.fromPolar(P.squaredLength(),gl.toRad(I+135),b),W=new Ra(e,z),ne=P.intersectsWithLine(W),Te=ne||e,Ke=ne?Te:c,Ue=360/t.directions.length,At=Ke.theta(e),tn=gl.normalize(At+Ue/2),pn=Ue*Math.floor(tn/Ue);return t.previousDirectionAngle=pn,Te&&a.push(Te.round()),a.push(e),a}},A1=function(c,e,t){return er(fy,this,c,Object.assign(Object.assign({},_1),e),t)},D1=function(c,e,t){const r=e.offset||32,a=e.min==null?16:e.min;let u=0,p=e.direction;const b=t.sourceBBox,P=t.targetBBox,I=b.getCenter(),z=P.getCenter();if(typeof r=="number"&&(u=r),p==null){let tn=P.left-b.right,pn=P.top-b.bottom;tn>=0&&pn>=0?p=tn>=pn?"L":"T":tn<=0&&pn>=0?(tn=b.left-P.right,tn>=0?p=tn>=pn?"R":"T":p="T"):tn>=0&&pn<=0?(pn=b.top-P.bottom,pn>=0?p=tn>=pn?"L":"B":p="L"):(tn=b.left-P.right,pn=b.top-P.bottom,tn>=0&&pn>=0?p=tn>=pn?"R":"B":tn<=0&&pn>=0?p="B":tn>=0&&pn<=0?p="R":p=Math.abs(tn)>Math.abs(pn)?"R":"B")}p==="H"?p=z.x-I.x>=0?"L":"R":p==="V"&&(p=z.y-I.y>=0?"T":"B"),r==="center"&&(p==="L"?u=(P.left-b.right)/2:p==="R"?u=(b.left-P.right)/2:p==="T"?u=(P.top-b.bottom)/2:p==="B"&&(u=(b.top-P.bottom)/2));let W,ne,Te;const Ke=p==="L"||p==="R";if(Ke){if(z.y===I.y)return[...c];Te=p==="L"?1:-1,W="x",ne="width"}else{if(z.x===I.x)return[...c];Te=p==="T"?1:-1,W="y",ne="height"}const Ue=I.clone(),At=z.clone();if(Ue[W]+=Te*(b[ne]/2+u),At[W]-=Te*(P[ne]/2+u),Ke){const tn=Ue.x,pn=At.x,Kt=b.width/2+a,zn=P.width/2+a;z.x>I.x?pn<=tn&&(Ue.x=Math.max(pn,I.x+Kt),At.x=Math.min(tn,z.x-zn)):pn>=tn&&(Ue.x=Math.min(pn,I.x-Kt),At.x=Math.max(tn,z.x+zn))}else{const tn=Ue.y,pn=At.y,Kt=b.height/2+a,zn=P.height/2+a;z.y>I.y?pn<=tn&&(Ue.y=Math.max(pn,I.y+Kt),At.y=Math.min(tn,z.y-zn)):pn>=tn&&(Ue.y=Math.min(pn,I.y-Kt),At.y=Math.max(tn,z.y+zn))}return[Ue.toJSON(),...c,At.toJSON()]};function qp(c,e){if(e!=null&&e!==!1){const t=typeof e=="boolean"?0:e;if(t>0){const r=Bn.create(c[1]).move(c[2],t),a=Bn.create(c[1]).move(c[0],t);return[r.toJSON(),...c,a.toJSON()]}{const r=c[1];return[Object.assign({},r),...c,Object.assign({},r)]}}return c}const N0=function(c,e,t){const r=e.width||50,u=(e.height||80)/2,p=e.angle||"auto",b=t.sourceAnchor,P=t.targetAnchor,I=t.sourceBBox,z=t.targetBBox;if(b.equals(P)){const W=tn=>{const pn=gl.toRad(tn),Kt=Math.sin(pn),zn=Math.cos(pn),gr=new Bn(b.x+zn*r,b.y+Kt*r),ii=new Bn(gr.x-zn*u,gr.y-Kt*u),si=ii.clone().rotate(-90,gr),Ri=ii.clone().rotate(90,gr);return[si.toJSON(),gr.toJSON(),Ri.toJSON()]},ne=tn=>{const pn=b.clone().move(tn,-1),Kt=new Ra(pn,tn);return!I.containsPoint(tn)&&!I.intersectsWithLine(Kt)},Te=[0,90,180,270,45,135,225,315];if(typeof p=="number")return qp(W(p),e.merge);const Ke=I.getCenter();if(Ke.equals(b))return qp(W(0),e.merge);const Ue=Ke.angleBetween(b,Ke.clone().translate(1,0));let At=W(Ue);if(ne(At[1]))return qp(At,e.merge);for(let tn=1,pn=Te.length;tn<pn;tn+=1)if(At=W(Ue+Te[tn]),ne(At[1]))return qp(At,e.merge);return qp(At,e.merge)}{const W=new Ra(b,P);let ne=W.parallel(-r),Te=ne.getCenter(),Ke=ne.start.clone().move(ne.end,u),Ue=ne.end.clone().move(ne.start,u);const At=W.parallel(-1),tn=new Ra(At.start,Te),pn=new Ra(At.end,Te);if((I.containsPoint(Te)||z.containsPoint(Te)||I.intersectsWithLine(tn)||I.intersectsWithLine(pn)||z.intersectsWithLine(tn)||z.intersectsWithLine(pn))&&(ne=W.parallel(r),Te=ne.getCenter(),Ke=ne.start.clone().move(ne.end,u),Ue=ne.end.clone().move(ne.start,u)),e.merge){const Kt=new Ra(b,P),zn=new Ra(Te,Kt.center).setLength(Number.MAX_SAFE_INTEGER),gr=I.intersectsWithLine(zn),ii=z.intersectsWithLine(zn),si=gr?Array.isArray(gr)?gr:[gr]:[];ii&&(Array.isArray(ii)?si.push(...ii):si.push(ii));const Ri=Kt.center.closest(si);Ri?(t.sourceAnchor=Ri.clone(),t.targetAnchor=Ri.clone()):(t.sourceAnchor=Kt.center.clone(),t.targetAnchor=Kt.center.clone())}return qp([Ke.toJSON(),Te.toJSON(),Ue.toJSON()],e.merge)}};var Gh;(function(c){c.presets=re,c.registry=ru.create({type:"router"}),c.registry.register(c.presets,!0)})(Gh||(Gh={}));const N1=function(c,e,t,r={}){const a=[c,...t,e],u=new du(a),p=new rs(u);return r.raw?p:p.serialize()},zg=function(c,e,t,r={}){const a=t.length===3?0:1,u=Bn.create(t[0+a]),p=Bn.create(t[2+a]),b=Bn.create(t[1+a]);if(!Bn.equals(c,e)){const I=new Bn((c.x+e.x)/2,(c.y+e.y)/2),z=I.angleBetween(Bn.create(c).rotate(90,I),b);z>1&&(u.rotate(180-z,I),p.rotate(180-z,I),b.rotate(180-z,I))}const P=`
     M ${c.x} ${c.y}
     Q ${u.x} ${u.y} ${b.x} ${b.y}
     Q ${p.x} ${p.y} ${e.x} ${e.y}
  `;return r.raw?rs.parse(P):P},R1=function(c,e,t,r={}){const a=new rs;a.appendSegment(rs.createSegment("M",c));const u=1/3,p=2/3,b=r.radius||10;let P,I;for(let z=0,W=t.length;z<W;z+=1){const ne=Bn.create(t[z]),Te=t[z-1]||c,Ke=t[z+1]||e;P=I||ne.distance(Te)/2,I=ne.distance(Ke)/2;const Ue=-Math.min(b,P),At=-Math.min(b,I),tn=ne.clone().move(Te,Ue).round(),pn=ne.clone().move(Ke,At).round(),Kt=new Bn(u*tn.x+p*ne.x,p*ne.y+u*tn.y),zn=new Bn(u*pn.x+p*ne.x,p*ne.y+u*pn.y);a.appendSegment(rs.createSegment("L",tn)),a.appendSegment(rs.createSegment("C",Kt,zn,pn))}return a.appendSegment(rs.createSegment("L",e)),r.raw?a:a.serialize()},I1=function(c,e,t,r={}){let a,u=r.direction;if(t&&t.length!==0){const p=[c,...t,e],b=hu.throughPoints(p);a=new rs(b)}else if(a=new rs,a.appendSegment(rs.createSegment("M",c)),u||(u=Math.abs(c.x-e.x)>=Math.abs(c.y-e.y)?"H":"V"),u==="H"){const p=(c.x+e.x)/2;a.appendSegment(rs.createSegment("C",p,c.y,p,e.y,e.x,e.y))}else{const p=(c.y+e.y)/2;a.appendSegment(rs.createSegment("C",c.x,p,e.x,p,e.x,e.y))}return r.raw?a:a.serialize()},dy=1,Uv=1/3,Vv=2/3;function k1(c){let e=c.graph._jumpOverUpdateList;if(e==null&&(e=c.graph._jumpOverUpdateList=[],c.graph.on("cell:mouseup",()=>{const t=c.graph._jumpOverUpdateList;for(let r=0;r<t.length;r+=1)t[r].update()}),c.graph.on("model:reseted",()=>{e=c.graph._jumpOverUpdateList=[]})),e.indexOf(c)<0){e.push(c);const t=()=>e.splice(e.indexOf(c),1);c.cell.once("change:connector",t),c.cell.once("removed",t)}}function xp(c,e,t=[]){const r=[c,...t,e],a=[];return r.forEach((u,p)=>{const b=r[p+1];b!=null&&a.push(new Ra(u,b))}),a}function L1(c,e){const t=[];return e.forEach(r=>{const a=c.intersectsWithLine(r);a&&t.push(a)}),t}function hy(c,e){return new Ra(c,e).squaredLength()}function F1(c,e,t){return e.reduce((r,a,u)=>{if(Vg.includes(a))return r;const p=r.pop()||c,b=Bn.create(a).move(p.start,-t);let P=Bn.create(a).move(p.start,+t);const I=e[u+1];if(I!=null){const ne=P.distance(I);ne<=t&&(P=I.move(p.start,ne),Vg.push(I))}else if(b.distance(p.end)<t*2+dy)return r.push(p),r;if(P.distance(p.start)<t*2+dy)return r.push(p),r;const W=new Ra(b,P);return Ug.push(W),r.push(new Ra(p.start,b),W,new Ra(P,p.end)),r},[])}function py(c,e,t,r){const a=new rs;let u;return u=rs.createSegment("M",c[0].start),a.appendSegment(u),c.forEach((p,b)=>{if(Ug.includes(p)){let P,I,z,W;if(t==="arc"){P=-90,I=p.start.diff(p.end),(I.x<0||I.x===0&&I.y<0)&&(P+=180);const Te=p.getCenter(),Ke=new Ra(Te,p.end).rotate(P,Te);let Ue;Ue=new Ra(p.start,Te),z=Ue.pointAt(2/3).rotate(P,p.start),W=Ke.pointAt(1/3).rotate(-P,Ke.end),u=rs.createSegment("C",z,W,Ke.end),a.appendSegment(u),Ue=new Ra(Te,p.end),z=Ke.pointAt(1/3).rotate(P,Ke.end),W=Ue.pointAt(1/3).rotate(-P,p.end),u=rs.createSegment("C",z,W,p.end),a.appendSegment(u)}else if(t==="gap")u=rs.createSegment("M",p.end),a.appendSegment(u);else if(t==="cubic"){P=p.start.theta(p.end);const ne=e*.6;let Te=e*1.35;I=p.start.diff(p.end),(I.x<0||I.x===0&&I.y<0)&&(Te*=-1),z=new Bn(p.start.x+ne,p.start.y+Te).rotate(P,p.start),W=new Bn(p.end.x-ne,p.end.y+Te).rotate(P,p.end),u=rs.createSegment("C",z,W,p.end),a.appendSegment(u)}}else{const P=c[b+1];r===0||!P||Ug.includes(P)?(u=rs.createSegment("L",p.end),a.appendSegment(u)):G1(r,a,p.end,p.start,P.end)}}),a}function G1(c,e,t,r,a){const u=t.distance(r)/2,p=t.distance(a)/2,b=-Math.min(c,u),P=-Math.min(c,p),I=t.clone().move(r,b).round(),z=t.clone().move(a,P).round(),W=new Bn(Uv*I.x+Vv*t.x,Vv*t.y+Uv*I.y),ne=new Bn(Uv*z.x+Vv*t.x,Vv*t.y+Uv*z.y);let Te;Te=rs.createSegment("L",I),e.appendSegment(Te),Te=rs.createSegment("C",W,ne,z),e.appendSegment(Te)}let Ug,Vg;const DC=function(c,e,t,r={}){Ug=[],Vg=[],k1(this);const a=r.size||5,u=r.type||"arc",p=r.radius||0,b=r.ignoreConnectors||["smooth"],P=this.graph,z=P.model.getEdges();if(z.length===1)return py(xp(c,e,t),a,u,p);const W=this.cell,ne=z.indexOf(W),Te=P.options.connecting.connector||{},Ke=z.filter((zn,gr)=>{const ii=zn.getConnector()||Te;return b.includes(ii.name)?!1:gr>ne?ii.name!=="jumpover":!0}),Ue=Ke.map(zn=>P.renderer.findViewByCell(zn)),At=xp(c,e,t),tn=Ue.map(zn=>zn==null?[]:zn===this?At:xp(zn.sourcePoint,zn.targetPoint,zn.routePoints)),pn=[];At.forEach(zn=>{const gr=Ke.reduce((ii,si,Ri)=>{if(si!==W){const zo=L1(zn,tn[Ri]);ii.push(...zo)}return ii},[]).sort((ii,si)=>hy(zn.start,ii)-hy(zn.start,si));gr.length>0?pn.push(...F1(zn,gr,a)):pn.push(zn)});const Kt=py(pn,a,u,p);return Ug=[],Vg=[],r.raw?Kt:Kt.serialize()};var Bh;(function(c){c.presets=fe,c.registry=ru.create({type:"connector"}),c.registry.register(c.presets,!0)})(Bh||(Bh={}));const gy=ru.create;class eg{constructor(e){this.cell=e,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(e,t,r={},a="/"){const u=this.cell.getPropByPath(e),p=on(r,eg.defaultOptions),b=this.getTiming(p.timing),P=this.getInterp(p.interp,u,t);let I=0;const z=Array.isArray(e)?e.join(a):e,W=Array.isArray(e)?e:e.split(a),ne=()=>{const Te=new Date().getTime();I===0&&(I=Te);let Ue=(Te-I)/p.duration;Ue<1?this.ids[z]=yg(ne):Ue=1;const At=P(b(Ue));this.cell.setPropByPath(W,At),r.progress&&r.progress(Object.assign({progress:Ue,currentValue:At},this.getArgs(z))),Ue===1&&(this.cell.notify("transition:end",this.getArgs(z)),this.cell.notify("transition:complete",this.getArgs(z)),r.complete&&r.complete(this.getArgs(z)),this.cell.notify("transition:finish",this.getArgs(z)),r.finish&&r.finish(this.getArgs(z)),this.clean(z))};return setTimeout(()=>{this.stop(e,void 0,a),this.cache[z]={startValue:u,targetValue:t,options:p},this.ids[z]=yg(ne),this.cell.notify("transition:begin",this.getArgs(z)),this.cell.notify("transition:start",this.getArgs(z)),r.start&&r.start(this.getArgs(z))},r.delay),this.stop.bind(this,e,a,r)}stop(e,t={},r="/"){const a=Array.isArray(e)?e:e.split(r);return Object.keys(this.ids).filter(u=>da(a,u.split(r).slice(0,a.length))).forEach(u=>{bg(this.ids[u]);const p=this.cache[u],b=this.getArgs(u),P=Object.assign(Object.assign({},p.options),t),I=P.jumpedToEnd;I&&p.targetValue!=null&&(this.cell.setPropByPath(u,p.targetValue),this.cell.notify("transition:end",Object.assign({},b)),this.cell.notify("transition:complete",Object.assign({},b)),P.complete&&P.complete(Object.assign({},b)));const z=Object.assign({jumpedToEnd:I},b);this.cell.notify("transition:stop",Object.assign({},z)),P.stop&&P.stop(Object.assign({},z)),this.cell.notify("transition:finish",Object.assign({},b)),P.finish&&P.finish(Object.assign({},b)),this.clean(u)}),this}clean(e){delete this.ids[e],delete this.cache[e]}getTiming(e){return typeof e=="string"?pp[e]:e}getInterp(e,t,r){return e?e(t,r):typeof r=="number"?gp.number(t,r):typeof r=="string"?r[0]==="#"?gp.color(t,r):gp.unit(t,r):gp.object(t,r)}getArgs(e){const t=this.cache[e];return{path:e,startValue:t.startValue,targetValue:t.targetValue,cell:this.cell}}}(function(c){c.defaultOptions={delay:10,duration:100,timing:"linear"}})(eg||(eg={}));var B1=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class vy extends hf{constructor(e={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(oo(e)),this.changed={}}mutate(e,t={}){const r=t.unset===!0,a=t.silent===!0,u=[],p=this.changing;this.changing=!0,p||(this.previous=oo(this.data),this.changed={});const b=this.data,P=this.previous,I=this.changed;if(Object.keys(e).forEach(z=>{const W=z,ne=e[W];da(b[W],ne)||u.push(W),da(P[W],ne)?delete I[W]:I[W]=ne,r?delete b[W]:b[W]=ne}),!a&&u.length>0&&(this.pending=!0,this.pendingOptions=t,u.forEach(z=>{this.emit("change:*",{key:z,options:t,store:this,current:b[z],previous:P[z]})})),p)return this;if(!a)for(;this.pending;)this.pending=!1,this.emit("changed",{current:b,previous:P,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(e,t){if(e==null)return this.data;const r=this.data[e];return r==null?t:r}getPrevious(e){if(this.previous){const t=this.previous[e];return t==null?void 0:t}}set(e,t,r){return e!=null&&(typeof e=="object"?this.mutate(e,t):this.mutate({[e]:t},r)),this}remove(e,t){const a={};let u;if(typeof e=="string")a[e]=void 0,u=t;else if(Array.isArray(e))e.forEach(p=>a[p]=void 0),u=t;else{for(const p in this.data)a[p]=void 0;u=e}return this.mutate(a,Object.assign(Object.assign({},u),{unset:!0})),this}getByPath(e){return Pa(this.data,e,"/")}setByPath(e,t,r={}){const a="/",u=Array.isArray(e)?[...e]:e.split(a),p=Array.isArray(e)?e.join(a):e,b=u[0],P=u.length;if(r.propertyPath=p,r.propertyValue=t,r.propertyPathArray=u,P===1)this.set(b,t,r);else{const I={};let z=I,W=b;for(let Ke=1;Ke<P;Ke+=1){const Ue=u[Ke],At=Number.isFinite(Number(Ue));z=z[W]=At?[]:{},W=Ue}Fo(I,u,t,a);const ne=oo(this.data);r.rewrite&&Sa(ne,e,a);const Te=ea.Z(ne,I);this.set(b,Te[b],r)}return this}removeByPath(e,t){const r=Array.isArray(e)?e:e.split("/"),a=r[0];if(r.length===1)this.remove(a,t);else{const u=r.slice(1),p=oo(this.get(a));p&&Sa(p,u),this.set(a,p,t)}return this}hasChanged(e){return e==null?Object.keys(this.changed).length>0:e in this.changed}getChanges(e){if(e==null)return this.hasChanged()?oo(this.changed):null;const t=this.changing?this.previous:this.data,r={};let a;for(const u in e){const p=e[u];da(t[u],p)||(r[u]=p,a=!0)}return a?oo(r):null}toJSON(){return oo(this.data)}clone(){const e=this.constructor;return new e(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}B1([hf.dispose()],vy.prototype,"dispose",null);var Z1=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u},my=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class tl extends hf{constructor(e={}){super();const r=this.constructor.getDefaults(!0),a=ea.Z({},this.preprocess(r),this.preprocess(e));this.id=a.id||Br(),this.store=new vy(a),this.animation=new eg(this),this.setup(),this.init(),this.postprocess(e)}static config(e){const{markup:t,propHooks:r,attrHooks:a}=e,u=my(e,["markup","propHooks","attrHooks"]);t!=null&&(this.markup=t),r&&(this.propHooks=this.propHooks.slice(),Array.isArray(r)?this.propHooks.push(...r):typeof r=="function"?this.propHooks.push(r):Object.keys(r).forEach(p=>{const b=r[p];typeof b=="function"&&this.propHooks.push(b)})),a&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),a)),this.defaults=ea.Z({},this.defaults,u)}static getMarkup(){return this.markup}static getDefaults(e){return e?this.defaults:oo(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(e,t){return this.propHooks.reduce((r,a)=>a?er(a,e,r):r,t)}get[Symbol.toStringTag](){return tl.toStringTag}init(){}get model(){return this._model}set model(e){this._model!==e&&(this._model=e)}preprocess(e,t){const r=e.id,u=this.constructor.applyPropHooks(this,e);return r==null&&t!==!0&&(u.id=Br()),u}postprocess(e){}setup(){this.store.on("change:*",e=>{const{key:t,current:r,previous:a,options:u}=e;this.notify("change:*",{key:t,options:u,current:r,previous:a,cell:this}),this.notify(`change:${t}`,{options:u,current:r,previous:a,cell:this});const p=t;(p==="source"||p==="target")&&this.notify("change:terminal",{type:p,current:r,previous:a,options:u,cell:this})}),this.store.on("changed",({options:e})=>this.notify("changed",{options:e,cell:this}))}notify(e,t){this.trigger(e,t);const r=this.model;return r&&(r.notify(`cell:${e}`,t),this.isNode()?r.notify(`node:${e}`,Object.assign(Object.assign({},t),{node:this})):this.isEdge()&&r.notify(`edge:${e}`,Object.assign(Object.assign({},t),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(e){return this.store===e.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(e,t){return e==null?this.store.get():this.store.get(e,t)}setProp(e,t,r){if(typeof e=="string")this.store.set(e,t,r);else{const a=this.preprocess(e,!0);this.store.set(ea.Z({},this.getProp(),a),t),this.postprocess(e)}return this}removeProp(e,t){return typeof e=="string"||Array.isArray(e)?this.store.removeByPath(e,t):this.store.remove(t),this}hasChanged(e){return e==null?this.store.hasChanged():this.store.hasChanged(e)}getPropByPath(e){return this.store.getByPath(e)}setPropByPath(e,t,r={}){return this.model&&(e==="children"?this._children=t?t.map(a=>this.model.getCell(a)).filter(a=>a!=null):null:e==="parent"&&(this._parent=t?this.model.getCell(t):null)),this.store.setByPath(e,t,r),this}removePropByPath(e,t={}){const r=Array.isArray(e)?e:e.split("/");return r[0]==="attrs"&&(t.dirty=!0),this.store.removeByPath(r,t),this}prop(e,t,r){return e==null?this.getProp():typeof e=="string"||Array.isArray(e)?arguments.length===1?this.getPropByPath(e):t==null?this.removePropByPath(e,r||{}):this.setPropByPath(e,t,r||{}):this.setProp(e,t||{})}previous(e){return this.store.getPrevious(e)}get zIndex(){return this.getZIndex()}set zIndex(e){e==null?this.removeZIndex():this.setZIndex(e)}getZIndex(){return this.store.get("zIndex")}setZIndex(e,t={}){return this.store.set("zIndex",e,t),this}removeZIndex(e={}){return this.store.remove("zIndex",e),this}toFront(e={}){const t=this.model;if(t){let r=t.getMaxZIndex(),a;e.deep?(a=this.getDescendants({deep:!0,breadthFirst:!0}),a.unshift(this)):a=[this],r=r-a.length+1;const u=t.total();let p=t.indexOf(this)!==u-a.length;p||(p=a.some((b,P)=>b.getZIndex()!==r+P)),p&&this.batchUpdate("to-front",()=>{r+=a.length,a.forEach((b,P)=>{b.setZIndex(r+P,e)})})}return this}toBack(e={}){const t=this.model;if(t){let r=t.getMinZIndex(),a;e.deep?(a=this.getDescendants({deep:!0,breadthFirst:!0}),a.unshift(this)):a=[this];let u=t.indexOf(this)!==0;u||(u=a.some((p,b)=>p.getZIndex()!==r+b)),u&&this.batchUpdate("to-back",()=>{r-=a.length,a.forEach((p,b)=>{p.setZIndex(r+b,e)})})}return this}get markup(){return this.getMarkup()}set markup(e){e==null?this.removeMarkup():this.setMarkup(e)}getMarkup(){let e=this.store.get("markup");return e==null&&(e=this.constructor.getMarkup()),e}setMarkup(e,t={}){return this.store.set("markup",e,t),this}removeMarkup(e={}){return this.store.remove("markup",e),this}get attrs(){return this.getAttrs()}set attrs(e){e==null?this.removeAttrs():this.setAttrs(e)}getAttrs(){const e=this.store.get("attrs");return e?Object.assign({},e):{}}setAttrs(e,t={}){if(e==null)this.removeAttrs(t);else{const r=a=>this.store.set("attrs",a,t);if(t.overwrite===!0)r(e);else{const a=this.getAttrs();t.deep===!1?r(Object.assign(Object.assign({},a),e)):r(ea.Z({},a,e))}}return this}replaceAttrs(e,t={}){return this.setAttrs(e,Object.assign(Object.assign({},t),{overwrite:!0}))}updateAttrs(e,t={}){return this.setAttrs(e,Object.assign(Object.assign({},t),{deep:!1}))}removeAttrs(e={}){return this.store.remove("attrs",e),this}getAttrDefinition(e){if(!e)return null;const r=this.constructor.getAttrHooks()||{};let a=r[e]||Dd.registry.get(e);if(!a){const u=Md(e);a=r[u]||Dd.registry.get(u)}return a||null}getAttrByPath(e){return e==null||e===""?this.getAttrs():this.getPropByPath(this.prefixAttrPath(e))}setAttrByPath(e,t,r={}){return this.setPropByPath(this.prefixAttrPath(e),t,r),this}removeAttrByPath(e,t={}){return this.removePropByPath(this.prefixAttrPath(e),t),this}prefixAttrPath(e){return Array.isArray(e)?["attrs"].concat(e):`attrs/${e}`}attr(e,t,r){return e==null?this.getAttrByPath():typeof e=="string"||Array.isArray(e)?arguments.length===1?this.getAttrByPath(e):t==null?this.removeAttrByPath(e,r||{}):this.setAttrByPath(e,t,r||{}):this.setAttrs(e,t||{})}get visible(){return this.isVisible()}set visible(e){this.setVisible(e)}setVisible(e,t={}){return this.store.set("visible",e,t),this}isVisible(){return this.store.get("visible")!==!1}show(e={}){return this.isVisible()||this.setVisible(!0,e),this}hide(e={}){return this.isVisible()&&this.setVisible(!1,e),this}toggleVisible(e,t={}){const r=typeof e=="boolean"?e:!this.isVisible(),a=typeof e=="boolean"?t:e;return r?this.show(a):this.hide(a),this}get data(){return this.getData()}set data(e){this.setData(e)}getData(){return this.store.get("data")}setData(e,t={}){if(e==null)this.removeData(t);else{const r=a=>this.store.set("data",a,t);if(t.overwrite===!0)r(e);else{const a=this.getData();t.deep===!1?r(typeof e=="object"?Object.assign(Object.assign({},a),e):e):r(ea.Z({},a,e))}}return this}replaceData(e,t={}){return this.setData(e,Object.assign(Object.assign({},t),{overwrite:!0}))}updateData(e,t={}){return this.setData(e,Object.assign(Object.assign({},t),{deep:!1}))}removeData(e={}){return this.store.remove("data",e),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const e=this.getParentId();if(e&&this.model){const t=this.model.getCell(e);return this._parent=t,t}return null}getChildren(){const e=this.store.get("children");if(e&&e.length&&this.model){const t=e.map(r=>{var a;return(a=this.model)===null||a===void 0?void 0:a.getCell(r)}).filter(r=>r!=null);return this._children=t,[...t]}return null}hasParent(){return this.parent!=null}isParentOf(e){return e!=null&&e.getParent()===this}isChildOf(e){return e!=null&&this.getParent()===e}eachChild(e,t){return this.children&&this.children.forEach(e,t),this}filterChild(e,t){return this.children?this.children.filter(e,t):[]}getChildCount(){return this.children==null?0:this.children.length}getChildIndex(e){return this.children==null?-1:this.children.indexOf(e)}getChildAt(e){return this.children!=null&&e>=0?this.children[e]:null}getAncestors(e={}){const t=[];let r=this.getParent();for(;r;)t.push(r),r=e.deep!==!1?r.getParent():null;return t}getDescendants(e={}){if(e.deep!==!1){if(e.breadthFirst){const t=[],r=this.getChildren()||[];for(;r.length>0;){const a=r.shift(),u=a.getChildren();t.push(a),u&&r.push(...u)}return t}{const t=this.getChildren()||[];return t.forEach(r=>{t.push(...r.getDescendants(e))}),t}}return this.getChildren()||[]}isDescendantOf(e,t={}){if(e==null)return!1;if(t.deep!==!1){let r=this.getParent();for(;r;){if(r===e)return!0;r=r.getParent()}return!1}return this.isChildOf(e)}isAncestorOf(e,t={}){return e==null?!1:e.isDescendantOf(this,t)}contains(e){return this.isAncestorOf(e)}getCommonAncestor(...e){return tl.getCommonAncestor(this,...e)}setParent(e,t={}){return this._parent=e,e?this.store.set("parent",e.id,t):this.store.remove("parent",t),this}setChildren(e,t={}){return this._children=e,e!=null?this.store.set("children",e.map(r=>r.id),t):this.store.remove("children",t),this}unembed(e,t={}){const r=this.children;if(r!=null&&e!=null){const a=this.getChildIndex(e);a!==-1&&(r.splice(a,1),e.setParent(null,t),this.setChildren(r,t))}return this}embed(e,t={}){return e.addTo(this,t),this}addTo(e,t={}){return tl.isCell(e)?e.addChild(this,t):e.addCell(this,t),this}insertTo(e,t,r={}){return e.insertChild(this,t,r),this}addChild(e,t={}){return this.insertChild(e,void 0,t)}insertChild(e,t,r={}){if(e!=null&&e!==this){const a=e.getParent(),u=this!==a;let p=t;if(p==null&&(p=this.getChildCount(),u||(p-=1)),a){const P=a.getChildren();if(P){const I=P.indexOf(e);I>=0&&(e.setParent(null,r),P.splice(I,1),a.setChildren(P,r))}}let b=this.children;if(b==null?(b=[],b.push(e)):b.splice(p,0,e),e.setParent(this,r),this.setChildren(b,r),u&&this.model){const P=this.model.getIncomingEdges(this),I=this.model.getOutgoingEdges(this);P&&P.forEach(z=>z.updateParent(r)),I&&I.forEach(z=>z.updateParent(r))}this.model&&this.model.addCell(e,r)}return this}removeFromParent(e={}){const t=this.getParent();if(t!=null){const r=t.getChildIndex(this);t.removeChildAt(r,e)}return this}removeChild(e,t={}){const r=this.getChildIndex(e);return this.removeChildAt(r,t)}removeChildAt(e,t={}){const r=this.getChildAt(e);return this.children!=null&&r!=null&&(this.unembed(r,t),r.remove(t)),r}remove(e={}){return this.batchUpdate("remove",()=>{const t=this.getParent();t&&t.removeChild(this,e),e.deep!==!1&&this.eachChild(r=>r.remove(e)),this.model&&this.model.removeCell(this,e)}),this}transition(e,t,r={},a="/"){return this.animation.start(e,t,r,a)}stopTransition(e,t,r="/"){return this.animation.stop(e,t,r),this}getTransitions(){return this.animation.get()}translate(e,t,r){return this}scale(e,t,r,a){return this}addTools(e,t,r){const a=Array.isArray(e)?e:[e],u=typeof t=="string"?t:null,p=typeof t=="object"?t:typeof r=="object"?r:{};if(p.reset)return this.setTools({name:u,items:a,local:p.local},p);let b=oo(this.getTools());if(b==null||u==null||b.name===u)return b==null&&(b={}),b.items||(b.items=[]),b.name=u,b.items=[...b.items,...a],this.setTools(Object.assign({},b),p)}setTools(e,t={}){return e==null?this.removeTools():this.store.set("tools",tl.normalizeTools(e),t),this}getTools(){return this.store.get("tools")}removeTools(e={}){return this.store.remove("tools",e),this}hasTools(e){const t=this.getTools();return t==null?!1:e==null?!0:t.name===e}hasTool(e){const t=this.getTools();return t==null?!1:t.items.some(r=>typeof r=="string"?r===e:r.name===e)}removeTool(e,t={}){const r=oo(this.getTools());if(r){let a=!1;const u=r.items.slice(),p=b=>{u.splice(b,1),a=!0};if(typeof e=="number")p(e);else for(let b=u.length-1;b>=0;b-=1){const P=u[b];(typeof P=="string"?P===e:P.name===e)&&p(b)}a&&(r.items=u,this.setTools(r,t))}return this}getBBox(e){return new Oo}getConnectionPoint(e,t){return new Bn}toJSON(e={}){const t=Object.assign({},this.store.get()),r=Object.prototype.toString,a=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!t.shape){const Ke=this.constructor;throw new Error(`Unable to serialize ${a} missing "shape" prop, check the ${a} "${Ke.name||r.call(Ke)}"`)}const u=this.constructor,p=e.diff===!0,b=t.attrs||{},P=u.getDefaults(!0),I=p?this.preprocess(P,!0):P,z=I.attrs||{},W={};Object.keys(t).forEach(Ke=>{const Ue=t[Ke];if(Ue!=null&&!Array.isArray(Ue)&&typeof Ue=="object"&&!_n.Z(Ue))throw new Error(`Can only serialize ${a} with plain-object props, but got a "${r.call(Ue)}" type of key "${Ke}" on ${a} "${this.id}"`);if(Ke!=="attrs"&&Ke!=="shape"&&p){const At=I[Ke];da(Ue,At)&&delete t[Ke]}}),Object.keys(b).forEach(Ke=>{const Ue=b[Ke],At=z[Ke];Object.keys(Ue).forEach(tn=>{const pn=Ue[tn],Kt=At?At[tn]:null;pn!=null&&typeof pn=="object"&&!Array.isArray(pn)?Object.keys(pn).forEach(zn=>{const gr=pn[zn];if(At==null||Kt==null||!xt.Z(Kt)||!da(Kt[zn],gr)){W[Ke]==null&&(W[Ke]={}),W[Ke][tn]==null&&(W[Ke][tn]={});const ii=W[Ke][tn];ii[zn]=gr}}):(At==null||!da(Kt,pn))&&(W[Ke]==null&&(W[Ke]={}),W[Ke][tn]=pn)})});const ne=Object.assign(Object.assign({},t),{attrs:gt(W)?void 0:W});ne.attrs==null&&delete ne.attrs;const Te=ne;return Te.angle===0&&delete Te.angle,oo(Te)}clone(e={}){if(!e.deep){const r=Object.assign({},this.store.get());e.keepId||delete r.id,delete r.parent,delete r.children;const a=this.constructor;return new a(r)}return tl.deepClone(this)[this.id]}findView(e){return e.renderer.findViewByCell(this)}startBatch(e,t={},r=this.model){return this.notify("batch:start",{name:e,data:t,cell:this}),r&&r.startBatch(e,Object.assign(Object.assign({},t),{cell:this})),this}stopBatch(e,t={},r=this.model){return r&&r.stopBatch(e,Object.assign(Object.assign({},t),{cell:this})),this.notify("batch:stop",{name:e,data:t,cell:this}),this}batchUpdate(e,t,r){const a=this.model;this.startBatch(e,r,a);const u=t();return this.stopBatch(e,r,a),u}dispose(){this.removeFromParent(),this.store.dispose()}}tl.defaults={},tl.attrHooks={},tl.propHooks=[],Z1([hf.dispose()],tl.prototype,"dispose",null),function(c){function e(t){return typeof t=="string"?{items:[t]}:Array.isArray(t)?{items:t}:t.items?t:{items:[t]}}c.normalizeTools=e}(tl||(tl={})),function(c){c.toStringTag=`X6.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&typeof a.isNode=="function"&&typeof a.isEdge=="function"&&typeof a.prop=="function"&&typeof a.attr=="function"}c.isCell=e}(tl||(tl={})),function(c){function e(...u){const p=u.filter(P=>P!=null).map(P=>P.getAncestors()).sort((P,I)=>P.length-I.length);return p.shift().find(P=>p.every(I=>I.includes(P)))||null}c.getCommonAncestor=e;function t(u,p={}){let b=null;for(let P=0,I=u.length;P<I;P+=1){const z=u[P];let W=z.getBBox(p);if(W){if(z.isNode()){const ne=z.getAngle();ne!=null&&ne!==0&&(W=W.bbox(ne))}b=b==null?W:b.union(W)}}return b}c.getCellsBBox=t;function r(u){const p=[u,...u.getDescendants({deep:!0})];return c.cloneCells(p)}c.deepClone=r;function a(u){const p=Sn(u),b=p.reduce((P,I)=>(P[I.id]=I.clone(),P),{});return p.forEach(P=>{const I=b[P.id];if(I.isEdge()){const ne=I.getSourceCellId(),Te=I.getTargetCellId();ne&&b[ne]&&I.setSource(Object.assign(Object.assign({},I.getSource()),{cell:b[ne].id})),Te&&b[Te]&&I.setTarget(Object.assign(Object.assign({},I.getTarget()),{cell:b[Te].id}))}const z=P.getParent();z&&b[z.id]&&I.setParent(b[z.id]);const W=P.getChildren();if(W&&W.length){const ne=W.reduce((Te,Ke)=>(b[Ke.id]&&Te.push(b[Ke.id]),Te),[]);ne.length>0&&I.setChildren(ne)}}),b}c.cloneCells=a}(tl||(tl={})),function(c){c.config({propHooks(e){var{tools:t}=e,r=my(e,["tools"]);return t&&(r.tools=c.normalizeTools(t)),r}})}(tl||(tl={}));var tg;(function(c){let e,t;function r(p,b){return b?e!=null&&e.exist(p):t!=null&&t.exist(p)}c.exist=r;function a(p){e=p}c.setEdgeRegistry=a;function u(p){t=p}c.setNodeRegistry=u})(tg||(tg={}));class z1{constructor(e){this.ports=[],this.groups={},this.init(oo(e))}getPorts(){return this.ports}getGroup(e){return e!=null?this.groups[e]:null}getPortsByGroup(e){return this.ports.filter(t=>t.group===e||t.group==null&&e==null)}getPortsLayoutByGroup(e,t){const r=this.getPortsByGroup(e),a=e?this.getGroup(e):null,u=a?a.position:null,p=u?u.name:null;let b;if(p!=null){const W=Ou.registry.get(p);if(W==null)return Ou.registry.onNotFound(p);b=W}else b=Ou.presets.left;const P=r.map(W=>W&&W.position&&W.position.args||{}),I=u&&u.args||{};return b(P,t,I).map((W,ne)=>{const Te=r[ne];return{portLayout:W,portId:Te.id,portSize:Te.size,portAttrs:Te.attrs,labelSize:Te.label.size,labelLayout:this.getPortLabelLayout(Te,Bn.create(W.position),t)}})}init(e){const{groups:t,items:r}=e;t!=null&&Object.keys(t).forEach(a=>{this.groups[a]=this.parseGroup(t[a])}),Array.isArray(r)&&r.forEach(a=>{this.ports.push(this.parsePort(a))})}parseGroup(e){return Object.assign(Object.assign({},e),{label:this.getLabel(e,!0),position:this.getPortPosition(e.position,!0)})}parsePort(e){const t=Object.assign({},e),r=this.getGroup(e.group)||{};return t.markup=t.markup||r.markup,t.attrs=ea.Z({},r.attrs,t.attrs),t.position=this.createPosition(r,t),t.label=ea.Z({},r.label,this.getLabel(t)),t.zIndex=this.getZIndex(r,t),t.size=Object.assign(Object.assign({},r.size),t.size),t}getZIndex(e,t){return typeof t.zIndex=="number"?t.zIndex:typeof e.zIndex=="number"||e.zIndex==="auto"?e.zIndex:"auto"}createPosition(e,t){return ea.Z({name:"left",args:{}},e.position,{args:t.args})}getPortPosition(e,t=!1){if(e==null){if(t)return{name:"left",args:{}}}else{if(typeof e=="string")return{name:e,args:{}};if(Array.isArray(e))return{name:"absolute",args:{x:e[0],y:e[1]}};if(typeof e=="object")return e}return{args:{}}}getPortLabelPosition(e,t=!1){if(e==null){if(t)return{name:"left",args:{}}}else{if(typeof e=="string")return{name:e,args:{}};if(typeof e=="object")return e}return{args:{}}}getLabel(e,t=!1){const r=e.label||{};return r.position=this.getPortLabelPosition(r.position,t),r}getPortLabelLayout(e,t,r){const a=e.label.position.name||"left",u=e.label.position.args||{},p=hp.registry.get(a)||hp.presets.left;return p?p(t,r,u):null}}var jv=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class Qc extends tl{constructor(e={}){super(e),this.initPorts()}get[Symbol.toStringTag](){return Qc.toStringTag}preprocess(e,t){const{x:r,y:a,width:u,height:p}=e,b=jv(e,["x","y","width","height"]);if(r!=null||a!=null){const P=b.position;b.position=Object.assign(Object.assign({},P),{x:r!=null?r:P?P.x:0,y:a!=null?a:P?P.y:0})}if(u!=null||p!=null){const P=b.size;b.size=Object.assign(Object.assign({},P),{width:u!=null?u:P?P.width:0,height:p!=null?p:P?P.height:0})}return super.preprocess(b,t)}isNode(){return!0}size(e,t,r){return e===void 0?this.getSize():typeof e=="number"?this.setSize(e,t,r):this.setSize(e,t)}getSize(){const e=this.store.get("size");return e?Object.assign({},e):{width:1,height:1}}setSize(e,t,r){return typeof e=="object"?this.resize(e.width,e.height,t):this.resize(e,t,r),this}resize(e,t,r={}){this.startBatch("resize",r);const a=r.direction;if(a){const u=this.getSize();switch(a){case"left":case"right":t=u.height;break;case"top":case"bottom":e=u.width;break;default:break}let b={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[a];const P=gl.normalize(this.getAngle()||0);r.absolute&&(b+=Math.floor((P+45)/90),b%=4);const I=this.getBBox();let z;b===0?z=I.getBottomLeft():b===1?z=I.getCorner():b===2?z=I.getTopRight():z=I.getOrigin();const W=z.clone().rotate(-P,I.getCenter()),ne=Math.sqrt(e*e+t*t)/2;let Te=b*Math.PI/2;Te+=Math.atan(b%2===0?t/e:e/t),Te-=gl.toRad(P);const Ue=Bn.fromPolar(ne,Te,W).clone().translate(e/-2,t/-2);this.store.set("size",{width:e,height:t},r),this.setPosition(Ue.x,Ue.y,r)}else this.store.set("size",{width:e,height:t},r);return this.stopBatch("resize",r),this}scale(e,t,r,a={}){const u=this.getBBox().scale(e,t,r==null?void 0:r);return this.startBatch("scale",a),this.setPosition(u.x,u.y,a),this.resize(u.width,u.height,a),this.stopBatch("scale"),this}position(e,t,r){return typeof e=="number"?this.setPosition(e,t,r):this.getPosition(e)}getPosition(e={}){if(e.relative){const r=this.getParent();if(r!=null&&r.isNode()){const a=this.getPosition(),u=r.getPosition();return{x:a.x-u.x,y:a.y-u.y}}}const t=this.store.get("position");return t?Object.assign({},t):{x:0,y:0}}setPosition(e,t,r={}){let a,u,p;if(typeof e=="object"?(a=e.x,u=e.y,p=t||{}):(a=e,u=t,p=r||{}),p.relative){const b=this.getParent();if(b!=null&&b.isNode()){const P=b.getPosition();a+=P.x,u+=P.y}}if(p.deep){const b=this.getPosition();this.translate(a-b.x,u-b.y,p)}else this.store.set("position",{x:a,y:u},p);return this}translate(e=0,t=0,r={}){if(e===0&&t===0)return this;r.translateBy=r.translateBy||this.id;const a=this.getPosition();if(r.restrict!=null&&r.translateBy===this.id){const p=this.getBBox({deep:!0}),b=r.restrict,P=a.x-p.x,I=a.y-p.y,z=Math.max(b.x+P,Math.min(b.x+b.width+P-p.width,a.x+e)),W=Math.max(b.y+I,Math.min(b.y+b.height+I-p.height,a.y+t));e=z-a.x,t=W-a.y}const u={x:a.x+e,y:a.y+t};return r.tx=e,r.ty=t,r.transition?(typeof r.transition!="object"&&(r.transition={}),this.transition("position",u,Object.assign(Object.assign({},r.transition),{interp:gp.object})),this.eachChild(p=>{var b;((b=r.exclude)===null||b===void 0?void 0:b.includes(p))||p.translate(e,t,r)})):(this.startBatch("translate",r),this.store.set("position",u,r),this.eachChild(p=>{var b;((b=r.exclude)===null||b===void 0?void 0:b.includes(p))||p.translate(e,t,r)}),this.stopBatch("translate",r)),this}angle(e,t){return e==null?this.getAngle():this.rotate(e,t)}getAngle(){return this.store.get("angle",0)}rotate(e,t={}){const r=this.getAngle();if(t.center){const a=this.getSize(),u=this.getPosition(),p=this.getBBox().getCenter();p.rotate(r-e,t.center);const b=p.x-a.width/2-u.x,P=p.y-a.height/2-u.y;this.startBatch("rotate",{angle:e,options:t}),this.setPosition(u.x+b,u.y+P,t),this.rotate(e,Object.assign(Object.assign({},t),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",t.absolute?e:(r+e)%360,t);return this}getBBox(e={}){if(e.deep){const t=this.getDescendants({deep:!0,breadthFirst:!0});return t.push(this),tl.getCellsBBox(t)}return Oo.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(e,t){const r=this.getBBox(),a=r.getCenter(),u=e.getTerminal(t);if(u==null)return a;const p=u.port;if(!p||!this.hasPort(p))return a;const b=this.getPort(p);if(!b||!b.group)return a;const I=this.getPortsPosition(b.group)[p].position,z=Bn.create(I).translate(r.getOrigin()),W=this.getAngle();return W&&z.rotate(-W,a),z}fit(e={}){const r=(this.getChildren()||[]).filter(I=>I.isNode());if(r.length===0)return this;this.startBatch("fit-embeds",e),e.deep&&r.forEach(I=>I.fit(e));let{x:a,y:u,width:p,height:b}=tl.getCellsBBox(r);const P=Al(e.padding);return a-=P.left,u-=P.top,p+=P.left+P.right,b+=P.bottom+P.top,this.store.set({position:{x:a,y:u},size:{width:p,height:b}},e),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(e){this.setPortContainerMarkup(e)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||Fl.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(e,t={}){return this.store.set("portContainerMarkup",Fl.clone(e),t),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(e){this.setPortMarkup(e)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||Fl.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(e,t={}){return this.store.set("portMarkup",Fl.clone(e),t),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(e){this.setPortLabelMarkup(e)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||Fl.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(e,t={}){return this.store.set("portLabelMarkup",Fl.clone(e),t),this}get ports(){const e=this.store.get("ports",{items:[]});return e.items==null&&(e.items=[]),e}getPorts(){return oo(this.ports.items)}getPortsByGroup(e){return this.getPorts().filter(t=>t.group===e)}getPort(e){return oo(this.ports.items.find(t=>t.id&&t.id===e))}getPortAt(e){return this.ports.items[e]||null}hasPorts(){return this.ports.items.length>0}hasPort(e){return this.getPortIndex(e)!==-1}getPortIndex(e){const t=typeof e=="string"?e:e.id;return t!=null?this.ports.items.findIndex(r=>r.id===t):-1}getPortsPosition(e){const t=this.getSize();return this.port.getPortsLayoutByGroup(e,new Oo(0,0,t.width,t.height)).reduce((a,u)=>{const p=u.portLayout;return a[u.portId]={position:Object.assign({},p.position),angle:p.angle||0},a},{})}getPortProp(e,t){return this.getPropByPath(this.prefixPortPath(e,t))}setPortProp(e,t,r,a){if(typeof t=="string"||Array.isArray(t)){const b=this.prefixPortPath(e,t),P=r;return this.setPropByPath(b,P,a)}const u=this.prefixPortPath(e),p=t;return this.setPropByPath(u,p,r)}removePortProp(e,t,r){return typeof t=="string"||Array.isArray(t)?this.removePropByPath(this.prefixPortPath(e,t),r):this.removePropByPath(this.prefixPortPath(e),t)}portProp(e,t,r,a){return t==null?this.getPortProp(e):typeof t=="string"||Array.isArray(t)?arguments.length===2?this.getPortProp(e,t):r==null?this.removePortProp(e,t,a):this.setPortProp(e,t,r,a):this.setPortProp(e,t,r)}prefixPortPath(e,t){const r=this.getPortIndex(e);if(r===-1)throw new Error(`Unable to find port with id: "${e}"`);return t==null||t===""?["ports","items",`${r}`]:Array.isArray(t)?["ports","items",`${r}`,...t]:`ports/items/${r}/${t}`}addPort(e,t){const r=[...this.ports.items];return r.push(e),this.setPropByPath("ports/items",r,t),this}addPorts(e,t){return this.setPropByPath("ports/items",[...this.ports.items,...e],t),this}insertPort(e,t,r){const a=[...this.ports.items];return a.splice(e,0,t),this.setPropByPath("ports/items",a,r),this}removePort(e,t={}){return this.removePortAt(this.getPortIndex(e),t)}removePortAt(e,t={}){if(e>=0){const r=[...this.ports.items];r.splice(e,1),t.rewrite=!0,this.setPropByPath("ports/items",r,t)}return this}removePorts(e,t){let r;if(Array.isArray(e)){if(r=t||{},e.length){r.rewrite=!0;const u=[...this.ports.items].filter(p=>!e.some(b=>{const P=typeof b=="string"?b:b.id;return p.id===P}));this.setPropByPath("ports/items",u,r)}}else r=e||{},r.rewrite=!0,this.setPropByPath("ports/items",[],r);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(e,t){return this.port.getPortsLayoutByGroup(e,t)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const e=this.ports,t={};e.items.forEach(p=>{p.id&&(t[p.id]=!0)});const r={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(p=>{p.id&&!t[p.id]&&(r[p.id]=!0)});const u=this.model;u&&!gt(r)&&(u.getConnectedEdges(this,{incoming:!0}).forEach(P=>{const I=P.getTargetPortId();I&&r[I]&&P.remove()}),u.getConnectedEdges(this,{outgoing:!0}).forEach(P=>{const I=P.getSourcePortId();I&&r[I]&&P.remove()}))}validatePorts(){const e={},t=[];return this.ports.items.forEach(r=>{typeof r!="object"&&t.push(`Invalid port ${r}.`),r.id==null&&(r.id=this.generatePortId()),e[r.id]&&t.push("Duplicitied port id."),e[r.id]=!0}),t}generatePortId(){return Br()}updatePortData(){const e=this.validatePorts();if(e.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(e.join(" "));const t=this.port?this.port.getPorts():null;this.port=new z1(this.ports);const r=this.port.getPorts(),a=t?r.filter(p=>t.find(b=>b.id===p.id)?null:p):[...r],u=t?t.filter(p=>r.find(b=>b.id===p.id)?null:p):[];a.length>0&&this.notify("ports:added",{added:a,cell:this,node:this}),u.length>0&&this.notify("ports:removed",{removed:u,cell:this,node:this})}}Qc.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}},function(c){c.toStringTag=`X6.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&typeof a.isNode=="function"&&typeof a.isEdge=="function"&&typeof a.prop=="function"&&typeof a.attr=="function"&&typeof a.size=="function"&&typeof a.position=="function"}c.isNode=e}(Qc||(Qc={})),function(c){c.config({propHooks(e){var{ports:t}=e,r=jv(e,["ports"]);return t&&(r.ports=Array.isArray(t)?{items:t}:t),r}})}(Qc||(Qc={})),function(c){c.registry=ru.create({type:"node",process(e,t){if(tg.exist(e,!0))throw new Error(`Node with name '${e}' was registered by anthor Edge`);if(typeof t=="function")return t.config({shape:e}),t;let r=c;const{inherit:a}=t,u=jv(t,["inherit"]);if(a)if(typeof a=="string"){const b=this.get(a);b==null?this.onNotFound(a,"inherited"):r=b}else r=a;u.constructorName==null&&(u.constructorName=e);const p=r.define.call(r,u);return p.config({shape:e}),p}}),tg.setNodeRegistry(c.registry)}(Qc||(Qc={})),function(c){let e=0;function t(u){return u?Ph(u):(e+=1,`CustomNode${e}`)}function r(u){const{constructorName:p,overwrite:b}=u,P=jv(u,["constructorName","overwrite"]),I=Vo(t(p||P.shape),this);return I.config(P),P.shape&&c.registry.register(P.shape,I,b),I}c.define=r;function a(u){const p=u.shape||"rect",b=c.registry.get(p);return b?new b(u):c.registry.onNotFound(p)}c.create=a}(Qc||(Qc={}));var NC=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class pf extends Qc{get label(){return this.getLabel()}set label(e){this.setLabel(e)}getLabel(){return this.getAttrByPath("text/text")}setLabel(e,t){return e==null?this.removeLabel():this.setAttrByPath("text/text",e,t),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}(function(c){c.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},c.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},c.config({attrs:{text:Object.assign({},c.labelAttr)},propHooks(e){const{label:t}=e,r=NC(e,["label"]);return t&&Fo(r,"attrs/text/text",t),r},visible:!0})})(pf||(pf={}));var RC=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};function IC(c,e=!1){return`<g class="rotatable"><g class="scalable"><${c}/></g>${e?"":"<text/>"}</g>`}function jg(c){return`basic.${c}`}function $g(c="xlink:href"){return t=>{const{imageUrl:r,imageWidth:a,imageHeight:u}=t,p=RC(t,["imageUrl","imageWidth","imageHeight"]);if(r!=null||a!=null||u!=null){const b=()=>{if(p.attrs){const P=p.attrs.image;r!=null&&(P[c]=r),a!=null&&(P.width=a),u!=null&&(P.height=u),p.attrs.image=P}};p.attrs?(p.attrs.image==null&&(p.attrs.image={}),b()):(p.attrs={image:{}},b())}return p}}function Yd(c,e,t={}){const r=jg(c),a={constructorName:r,attrs:{".":{fill:"#ffffff",stroke:"none"},[c]:{fill:"#ffffff",stroke:"#000000"}}};return t.ignoreMarkup||(a.markup=IC(c,t.noText===!0)),(t.parent||pf).define(ea.Z(a,e,{shape:r}))}const kC=Yd("rect",{attrs:{rect:{width:100,height:60}}}),LC=Yd("circle",{width:60,height:60,attrs:{circle:{r:30,cx:30,cy:30}}}),FC=Yd("ellipse",{width:60,height:40,attrs:{ellipse:{rx:30,ry:20,cx:30,cy:20}}}),GC=Yd("polygon",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}}),BC=Yd("polyline",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}}),$v=Yd("image",{attrs:{text:{refY:null,refDy:16}},propHooks:$g()});var U1=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};const yy=Yd("path",{width:60,height:60,attrs:{text:{ref:"path",refY:null,refDy:16}},propHooks(c){const{d:e}=c,t=U1(c,["d"]);return e!=null&&Fo(t,"attrs/path/d",e),t}}),ZC=Yd("rhombus",{d:"M 30 0 L 60 30 30 60 0 30 z",attrs:{text:{refY:.5,refDy:null}}},{parent:yy,ignoreMarkup:!0}),zC=Yd("cylinder",{width:40,height:40,attrs:{path:{fill:"#FFFFFF",stroke:"#cbd2d7",strokeWidth:3,d:["M 0 10 C 10 5, 30 5, 40 10 C 30 15, 10 15, 0 10","L 0 20","C 10 25, 30 25, 40 20","L 40 10"].join(" ")},text:{refY:.7,refDy:null,fill:"#435460"}}},{parent:yy,ignoreMarkup:!0});var Wv=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class Jc extends tl{constructor(e={}){super(e)}get[Symbol.toStringTag](){return Jc.toStringTag}preprocess(e,t){const{source:r,sourceCell:a,sourcePort:u,sourcePoint:p,target:b,targetCell:P,targetPort:I,targetPoint:z}=e,ne=Wv(e,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),Te=Ke=>typeof Ke=="string"||typeof Ke=="number";if(r!=null)if(tl.isCell(r))ne.source={cell:r.id};else if(Te(r))ne.source={cell:r};else if(Bn.isPoint(r))ne.source=r.toJSON();else if(Array.isArray(r))ne.source={x:r[0],y:r[1]};else{const Ke=r.cell;tl.isCell(Ke)?ne.source=Object.assign(Object.assign({},r),{cell:Ke.id}):ne.source=r}if(a!=null||u!=null){let Ke=ne.source;if(a!=null){const Ue=Te(a)?a:a.id;Ke?Ke.cell=Ue:Ke=ne.source={cell:Ue}}u!=null&&Ke&&(Ke.port=u)}else p!=null&&(ne.source=Bn.create(p).toJSON());if(b!=null)if(tl.isCell(b))ne.target={cell:b.id};else if(Te(b))ne.target={cell:b};else if(Bn.isPoint(b))ne.target=b.toJSON();else if(Array.isArray(b))ne.target={x:b[0],y:b[1]};else{const Ke=b.cell;tl.isCell(Ke)?ne.target=Object.assign(Object.assign({},b),{cell:Ke.id}):ne.target=b}if(P!=null||I!=null){let Ke=ne.target;if(P!=null){const Ue=Te(P)?P:P.id;Ke?Ke.cell=Ue:Ke=ne.target={cell:Ue}}I!=null&&Ke&&(Ke.port=I)}else z!=null&&(ne.target=Bn.create(z).toJSON());return super.preprocess(ne,t)}setup(){super.setup(),this.on("change:labels",e=>this.onLabelsChanged(e)),this.on("change:vertices",e=>this.onVertexsChanged(e))}isEdge(){return!0}disconnect(e={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},e),this}get source(){return this.getSource()}set source(e){this.setSource(e)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(e,t,r={}){return this.setTerminal("source",e,t,r)}get target(){return this.getTarget()}set target(e){this.setTarget(e)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(e,t,r={}){return this.setTerminal("target",e,t,r)}getTerminal(e){return Object.assign({},this.store.get(e))}setTerminal(e,t,r,a={}){if(tl.isCell(t))return this.store.set(e,ea.Z({},r,{cell:t.id}),a),this;const u=t;return Bn.isPoint(t)||u.x!=null&&u.y!=null?(this.store.set(e,ea.Z({},r,{x:u.x,y:u.y}),a),this):(this.store.set(e,oo(t),a),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(e){const t=this[e];if(Bn.isPointLike(t))return Bn.create(t);const r=this.getTerminalCell(e);return r?r.getConnectionPoint(this,e):new Bn}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(e){if(this.model){const t=e==="source"?this.getSourceCellId():this.getTargetCellId();if(t)return this.model.getCell(t)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(e){let t=this;const r={};for(;t&&t.isEdge();){if(r[t.id])return null;r[t.id]=!0,t=t.getTerminalCell(e)}return t&&t.isNode()?t:null}get router(){return this.getRouter()}set router(e){e==null?this.removeRouter():this.setRouter(e)}getRouter(){return this.store.get("router")}setRouter(e,t,r){return typeof e=="object"?this.store.set("router",e,t):this.store.set("router",{name:e,args:t},r),this}removeRouter(e={}){return this.store.remove("router",e),this}get connector(){return this.getConnector()}set connector(e){e==null?this.removeConnector():this.setConnector(e)}getConnector(){return this.store.get("connector")}setConnector(e,t,r){return typeof e=="object"?this.store.set("connector",e,t):this.store.set("connector",{name:e,args:t},r),this}removeConnector(e={}){return this.store.remove("connector",e)}get strategy(){return this.getStrategy()}set strategy(e){e==null?this.removeStrategy():this.setStrategy(e)}getStrategy(){return this.store.get("strategy")}setStrategy(e,t,r){return typeof e=="object"?this.store.set("strategy",e,t):this.store.set("strategy",{name:e,args:t},r),this}removeStrategy(e={}){return this.store.remove("strategy",e)}getDefaultLabel(){const e=this.constructor,t=this.store.get("defaultLabel")||e.defaultLabel||{};return oo(t)}get labels(){return this.getLabels()}set labels(e){this.setLabels(e)}getLabels(){return[...this.store.get("labels",[])].map(e=>this.parseLabel(e))}setLabels(e,t={}){return this.store.set("labels",Array.isArray(e)?e:[e],t),this}insertLabel(e,t,r={}){const a=this.getLabels(),u=a.length;let p=t!=null&&Number.isFinite(t)?t:u;return p<0&&(p=u+p+1),a.splice(p,0,this.parseLabel(e)),this.setLabels(a,r)}appendLabel(e,t={}){return this.insertLabel(e,-1,t)}getLabelAt(e){const t=this.getLabels();return e!=null&&Number.isFinite(e)?this.parseLabel(t[e]):null}setLabelAt(e,t,r={}){if(e!=null&&Number.isFinite(e)){const a=this.getLabels();a[e]=this.parseLabel(t),this.setLabels(a,r)}return this}removeLabelAt(e,t={}){const r=this.getLabels(),a=e!=null&&Number.isFinite(e)?e:-1,u=r.splice(a,1);return this.setLabels(r,t),u.length?u[0]:null}parseLabel(e){return typeof e=="string"?this.constructor.parseStringLabel(e):e}onLabelsChanged({previous:e,current:t}){const r=e&&t?t.filter(u=>e.find(p=>u===p||da(u,p))?null:u):t?[...t]:[],a=e&&t?e.filter(u=>t.find(p=>u===p||da(u,p))?null:u):e?[...e]:[];r.length>0&&this.notify("labels:added",{added:r,cell:this,edge:this}),a.length>0&&this.notify("labels:removed",{removed:a,cell:this,edge:this})}get vertexMarkup(){return this.getVertexMarkup()}set vertexMarkup(e){this.setVertexMarkup(e)}getDefaultVertexMarkup(){return this.store.get("defaultVertexMarkup")||Fl.getEdgeVertexMarkup()}getVertexMarkup(){return this.store.get("vertexMarkup")||this.getDefaultVertexMarkup()}setVertexMarkup(e,t={}){return this.store.set("vertexMarkup",Fl.clone(e),t),this}get vertices(){return this.getVertices()}set vertices(e){this.setVertices(e)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(e,t={}){const r=Array.isArray(e)?e:[e];return this.store.set("vertices",r.map(a=>Bn.toJSON(a)),t),this}insertVertex(e,t,r={}){const a=this.getVertices(),u=a.length;let p=t!=null&&Number.isFinite(t)?t:u;return p<0&&(p=u+p+1),a.splice(p,0,Bn.toJSON(e)),this.setVertices(a,r)}appendVertex(e,t={}){return this.insertVertex(e,-1,t)}getVertexAt(e){return e!=null&&Number.isFinite(e)?this.getVertices()[e]:null}setVertexAt(e,t,r={}){if(e!=null&&Number.isFinite(e)){const a=this.getVertices();a[e]=t,this.setVertices(a,r)}return this}removeVertexAt(e,t={}){const r=this.getVertices(),a=e!=null&&Number.isFinite(e)?e:-1;return r.splice(a,1),this.setVertices(r,t)}onVertexsChanged({previous:e,current:t}){const r=e&&t?t.filter(u=>e.find(p=>Bn.equals(u,p))?null:u):t?[...t]:[],a=e&&t?e.filter(u=>t.find(p=>Bn.equals(u,p))?null:u):e?[...e]:[];r.length>0&&this.notify("vertexs:added",{added:r,cell:this,edge:this}),a.length>0&&this.notify("vertexs:removed",{removed:a,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||Fl.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}get toolMarkup(){return this.getToolMarkup()}set toolMarkup(e){this.setToolMarkup(e)}getDefaultToolMarkup(){return this.store.get("defaultToolMarkup")||Fl.getEdgeToolMarkup()}getToolMarkup(){return this.store.get("toolMarkup")||this.getDefaultToolMarkup()}setToolMarkup(e,t={}){return this.store.set("toolMarkup",e,t),this}get doubleToolMarkup(){return this.getDoubleToolMarkup()}set doubleToolMarkup(e){this.setDoubleToolMarkup(e)}getDefaultDoubleToolMarkup(){return this.store.get("defaultDoubleToolMarkup")}getDoubleToolMarkup(){return this.store.get("doubleToolMarkup")||this.getDefaultDoubleToolMarkup()}setDoubleToolMarkup(e,t={}){return this.store.set("doubleToolMarkup",e,t),this}get arrowheadMarkup(){return this.getArrowheadMarkup()}set arrowheadMarkup(e){this.setArrowheadMarkup(e)}getDefaultArrowheadMarkup(){return this.store.get("defaultArrowheadMarkup")||Fl.getEdgeArrowheadMarkup()}getArrowheadMarkup(){return this.store.get("arrowheadMarkup")||this.getDefaultArrowheadMarkup()}setArrowheadMarkup(e,t={}){return this.store.set("arrowheadMarkup",e,t),this}translate(e,t,r={}){return r.translateBy=r.translateBy||this.id,r.tx=e,r.ty=t,this.applyToPoints(a=>({x:(a.x||0)+e,y:(a.y||0)+t}),r)}scale(e,t,r,a={}){return this.applyToPoints(u=>Bn.create(u).scale(e,t,r).toJSON(),a)}applyToPoints(e,t={}){const r={},a=this.getSource(),u=this.getTarget();Bn.isPointLike(a)&&(r.source=e(a)),Bn.isPointLike(u)&&(r.target=e(u));const p=this.getVertices();return p.length>0&&(r.vertices=p.map(e)),this.store.set(r,t),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const e=[this.getSourcePoint(),...this.getVertices().map(t=>Bn.create(t)),this.getTargetPoint()];return new du(e)}updateParent(e){let t=null;const r=this.getSourceCell(),a=this.getTargetCell(),u=this.getParent();return r&&a&&(r===a||r.isDescendantOf(a)?t=a:a.isDescendantOf(r)?t=r:t=tl.getCommonAncestor(r,a)),u&&(!t||t.id!==u.id)&&u.unembed(this,e),t&&t.embed(this,e),t}hasLoop(e={}){const t=this.getSource(),r=this.getTarget(),a=t.cell,u=r.cell;if(!a||!u)return!1;let p=a===u;if(!p&&e.deep&&this._model){const b=this.getSourceCell(),P=this.getTargetCell();b&&P&&(p=b.isAncestorOf(P,e)||P.isAncestorOf(b,e))}return p}getFragmentAncestor(){const e=[this,this.getSourceNode(),this.getTargetNode()].filter(t=>t!=null);return this.getCommonAncestor(...e)}isFragmentDescendantOf(e){const t=this.getFragmentAncestor();return!!t&&(t.id===e.id||t.isDescendantOf(e))}}Jc.defaults={},function(c){function e(t,r){const a=t,u=r;return a.cell===u.cell?a.port===u.port||a.port==null&&u.port==null:!1}c.equalTerminals=e}(Jc||(Jc={})),function(c){c.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}};function e(t){return{attrs:{label:{text:t}}}}c.parseStringLabel=e}(Jc||(Jc={})),function(c){c.toStringTag=`X6.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&typeof a.isNode=="function"&&typeof a.isEdge=="function"&&typeof a.prop=="function"&&typeof a.attr=="function"&&typeof a.disconnect=="function"&&typeof a.getSource=="function"&&typeof a.getTarget=="function"}c.isEdge=e}(Jc||(Jc={})),function(c){c.registry=ru.create({type:"edge",process(e,t){if(tg.exist(e,!1))throw new Error(`Edge with name '${e}' was registered by anthor Node`);if(typeof t=="function")return t.config({shape:e}),t;let r=c;const{inherit:a="edge"}=t,u=Wv(t,["inherit"]);if(typeof a=="string"){const b=this.get(a||"edge");b==null&&a?this.onNotFound(a,"inherited"):r=b}else r=a;u.constructorName==null&&(u.constructorName=e);const p=r.define.call(r,u);return p.config({shape:e}),p}}),tg.setEdgeRegistry(c.registry)}(Jc||(Jc={})),function(c){let e=0;function t(u){return u?Ph(u):(e+=1,`CustomEdge${e}`)}function r(u){const{constructorName:p,overwrite:b}=u,P=Wv(u,["constructorName","overwrite"]),I=Vo(t(p||P.shape),this);return I.config(P),P.shape&&c.registry.register(P.shape,I,b),I}c.define=r;function a(u){const p=u.shape||"edge",b=c.registry.get(p);return b?new b(u):c.registry.onNotFound(p)}c.create=a}(Jc||(Jc={})),function(c){const e="basic.edge";c.config({shape:e,propHooks(t){const{label:r,vertices:a}=t,u=Wv(t,["label","vertices"]);if(r){u.labels==null&&(u.labels=[]);const p=typeof r=="string"?c.parseStringLabel(r):r;u.labels.push(p)}return a&&Array.isArray(a)&&(u.vertices=a.map(p=>Bn.create(p).toJSON())),u}}),c.registry.register(e,c)}(Jc||(Jc={}));var UC=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class Zh extends uu{constructor(){super(...arguments),this.POINT_ROUNDING=2,this.markerCache={}}get[Symbol.toStringTag](){return Zh.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const e=this.sourceView;if(!e){const r=this.cell.getSource();return new Oo(r.x,r.y)}const t=this.sourceMagnet;return e.isEdgeElement(t)?new Oo(this.sourceAnchor.x,this.sourceAnchor.y):e.getBBoxOfElement(t||e.container)}get targetBBox(){const e=this.targetView;if(!e){const r=this.cell.getTarget();return new Oo(r.x,r.y)}const t=this.targetMagnet;return e.isEdgeElement(t)?new Oo(this.targetAnchor.x,this.targetAnchor.y):e.getBBoxOfElement(t||e.container)}isEdgeView(){return!0}confirmUpdate(e,t={}){let r=e;if(this.hasAction(r,"source")){if(!this.updateTerminalProperties("source"))return r;r=this.removeAction(r,"source")}if(this.hasAction(r,"target")){if(!this.updateTerminalProperties("target"))return r;r=this.removeAction(r,"target")}const a=this.graph,u=this.sourceView,p=this.targetView;return a&&(u&&!a.renderer.isViewMounted(u)||p&&!a.renderer.isViewMounted(p))?r:this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","vertices","labels","tools","widget"]),r):(r=this.handleAction(r,"vertices",()=>this.renderVertexMarkers()),r=this.handleAction(r,"update",()=>this.update(null,t)),r=this.handleAction(r,"labels",()=>this.onLabelsChange(t)),r=this.handleAction(r,"tools",()=>{this.renderTools(),this.updateToolsPosition()}),r=this.handleAction(r,"widget",()=>this.renderExternalTools()),r)}onLabelsChange(e={}){this.shouldRerenderLabels(e)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(e={}){const t=this.cell.previous("labels");if(t==null)return!0;if("propertyPathArray"in e&&"propertyValue"in e){const r=e.propertyPathArray||[],a=r.length;if(a>1){const u=r[1];if(t[u]){if(a===2)return typeof e.propertyValue=="object"&&ra(e.propertyValue,"markup");if(r[2]!=="markup")return!1}}}return!0}render(){return this.empty(),this.containers={},this.renderMarkup(),this.renderLabels(),this.update(),this.renderExternalTools(),this}renderMarkup(){const e=this.cell.markup;if(e)return typeof e=="string"?this.renderStringMarkup(e):this.renderJSONMarkup(e);throw new TypeError("Invalid edge markup.")}renderJSONMarkup(e){const t=this.parseJSONMarkup(e,this.container);this.selectors=t.selectors,this.container.append(t.fragment)}renderStringMarkup(e){const t=this.containers,r=ma.createVectors(e);r.forEach(a=>{const u=a.attr("class");u&&(t[Md(u)]=a.node)}),this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),ep(this.container,r.map(a=>a.node))}renderLabels(){const e=this.cell,t=e.getLabels(),r=t.length;let a=this.containers.labels;if(this.labelCache={},this.labelSelectors={},r<=0)return a&&a.parentNode&&a.parentNode.removeChild(a),this;a?this.empty(a):(a=$o("g"),this.addClass(this.prefixClassName("edge-labels"),a),this.containers.labels=a);for(let u=0,p=t.length;u<p;u+=1){const b=t[u],P=this.normalizeLabelMarkup(this.parseLabelMarkup(b.markup));let I,z;if(P)I=P.node,z=P.selectors;else{const ne=e.getDefaultLabel(),Te=this.normalizeLabelMarkup(this.parseLabelMarkup(ne.markup));I=Te.node,z=Te.selectors}I.setAttribute("data-index",`${u}`),a.appendChild(I);const W=this.rootSelector;if(z[W])throw new Error("Ambiguous label root selector.");z[W]=I,this.labelCache[u]=I,this.labelSelectors[u]=z}return a.parentNode==null&&this.container.appendChild(a),this.updateLabels(),this.customizeLabels(),this}parseLabelMarkup(e){return e?typeof e=="string"?this.parseLabelStringMarkup(e):this.parseJSONMarkup(e):null}parseLabelStringMarkup(e){const t=ma.createVectors(e),r=document.createDocumentFragment();for(let a=0,u=t.length;a<u;a+=1){const p=t[a].node;r.appendChild(p)}return{fragment:r,selectors:{}}}normalizeLabelMarkup(e){if(e==null)return;const t=e.fragment;if(!(t instanceof DocumentFragment)||!t.hasChildNodes())throw new Error("Invalid label markup.");let r;const a=t.childNodes;return a.length>1||a[0].nodeName.toUpperCase()!=="G"?r=ma.create("g").append(t):r=ma.create(a[0]),r.addClass(this.prefixClassName("edge-label")),{node:r.node,selectors:e.selectors}}updateLabels(){if(this.containers.labels){const e=this.cell,t=e.labels,r=this.can("edgeLabelMovable"),a=e.getDefaultLabel();for(let u=0,p=t.length;u<p;u+=1){const b=this.labelCache[u],P=this.labelSelectors[u];b.setAttribute("cursor",r?"move":"default");const I=t[u],z=ea.Z({},a.attrs,I.attrs);this.updateAttrs(b,z,{selectors:P,rootBBox:I.size?Oo.fromSize(I.size):void 0})}}}mergeLabelAttrs(e,t,r){if(t===null)return null;if(t===void 0)return r===null?null:r===void 0?void 0:e?r:ea.Z({},r);if(e)return ea.Z({},r,t)}customizeLabels(){if(this.containers.labels){const e=this.cell,t=e.labels;for(let r=0,a=t.length;r<a;r+=1){const u=t[r],p=this.labelCache[r],b=this.labelSelectors[r];this.graph.hook.onEdgeLabelRendered({edge:e,label:u,container:p,selectors:b})}}}renderTools(){const e=this.containers.tools;if(e==null)return this;const t=this.cell.toolMarkup,r=this.$(e).empty();if(Fl.isStringMarkup(t)){let a=V(t);const u=ma.create(a());if(r.append(u.node),this.toolCache=u.node,this.options.doubleTools){let p;const b=this.cell.doubleToolMarkup;Fl.isStringMarkup(b)?(a=V(b),p=ma.create(a())):p=u.clone(),r.append(p.node),this.tool2Cache=p.node}}return this}renderExternalTools(){const e=this.cell.getTools();return this.addTools(e),this}renderVertexMarkers(){const e=this.containers.vertices;if(e==null)return this;const t=this.cell.vertexMarkup,r=this.$(e).empty();if(Fl.isStringMarkup(t)){const a=V(t);this.cell.getVertices().forEach((u,p)=>{r.append(ma.create(a(Object.assign({index:p},u))).node)})}return this}renderArrowheadMarkers(){const e=this.containers.arrowheads;if(e==null)return this;const t=this.cell.arrowheadMarkup,r=this.$(e).empty();if(Fl.isStringMarkup(t)){const a=V(t),u=ma.create(a({end:"source"})).node,p=ma.create(a({end:"target"})).node;this.containers.sourceArrowhead=u,this.containers.targetArrowhead=p,r.append(u,p)}return this}update(e,t={}){this.cleanCache(),this.updateConnection(t);const r=this.cell.getAttrs();return r!=null&&this.updateAttrs(this.container,r,{attrs:e===r?null:e,selectors:this.selectors}),this.updateConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.updateTools(t),this}removeRedundantLinearVertices(e={}){const t=this.cell,r=t.getVertices(),a=[this.sourceAnchor,...r,this.targetAnchor],u=a.length,p=new du(a);p.simplify({threshold:.01});const b=p.points.map(I=>I.toJSON()),P=b.length;return u===P?0:(t.setVertices(b.slice(1,P-1),e),u-P)}updateConnectionPath(){const e=this.containers;if(e.connection){const t=this.getConnectionPathData();e.connection.setAttribute("d",t)}if(e.connectionWrap){const t=this.getConnectionPathData();e.connectionWrap.setAttribute("d",t)}e.sourceMarker&&e.targetMarker&&this.translateAndAutoOrientArrows(e.sourceMarker,e.targetMarker)}getTerminalView(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalAnchor(e){switch(e){case"source":return Bn.create(this.sourceAnchor);case"target":return Bn.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalConnectionPoint(e){switch(e){case"source":return Bn.create(this.sourcePoint);case"target":return Bn.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalMagnet(e,t={}){switch(e){case"source":{if(t.raw)return this.sourceMagnet;const r=this.sourceView;return r?this.sourceMagnet||r.container:null}case"target":{if(t.raw)return this.targetMagnet;const r=this.targetView;return r?this.targetMagnet||r.container:null}default:throw new Error(`Unknown terminal type '${e}'`)}}updateConnection(e={}){const t=this.cell;if(e.translateBy&&t.isFragmentDescendantOf(e.translateBy)){const r=e.tx||0,a=e.ty||0;this.routePoints=new du(this.routePoints).translate(r,a).points,this.translateConnectionPoints(r,a),this.path.translate(r,a)}else{const r=t.getVertices(),a=this.findAnchors(r);this.sourceAnchor=a.source,this.targetAnchor=a.target,this.routePoints=this.findRoutePoints(r);const u=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=u.source,this.targetPoint=u.target;const p=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,p.source||this.sourcePoint,p.target||this.targetPoint)}this.cleanCache()}findAnchors(e){const t=this.cell,r=t.source,a=t.target,u=e[0],p=e[e.length-1];return a.priority&&!r.priority?this.findAnchorsOrdered("target",p,"source",u):this.findAnchorsOrdered("source",u,"target",p)}findAnchorsOrdered(e,t,r,a){let u,p;const b=this.cell,P=b[e],I=b[r],z=this.getTerminalView(e),W=this.getTerminalView(r),ne=this.getTerminalMagnet(e),Te=this.getTerminalMagnet(r);if(z){let Ke;t?Ke=Bn.create(t):W?Ke=Te:Ke=Bn.create(I),u=this.getAnchor(P.anchor,z,ne,Ke,e)}else u=Bn.create(P);if(W){const Ke=Bn.create(a||u);p=this.getAnchor(I.anchor,W,Te,Ke,r)}else p=Bn.isPointLike(I)?Bn.create(I):new Bn;return{[e]:u,[r]:p}}getAnchor(e,t,r,a,u){const p=t.isEdgeElement(r),b=this.graph.options.connecting;let P=typeof e=="string"?{name:e}:e;if(!P){const W=p?(u==="source"?b.sourceEdgeAnchor:b.targetEdgeAnchor)||b.edgeAnchor:(u==="source"?b.sourceAnchor:b.targetAnchor)||b.anchor;P=typeof W=="string"?{name:W}:W}if(!P)throw new Error("Anchor should be specified.");let I;const z=P.name;if(p){const W=Xp.registry.get(z);if(typeof W!="function")return Xp.registry.onNotFound(z);I=er(W,this,t,r,a,P.args||{},u)}else{const W=Fg.registry.get(z);if(typeof W!="function")return Fg.registry.onNotFound(z);I=er(W,this,t,r,a,P.args||{},u)}return I?I.round(this.POINT_ROUNDING):new Bn}findRoutePoints(e=[]){const t=this.graph.options.connecting.router||Gh.presets.normal,r=this.cell.getRouter()||t;let a;if(typeof r=="function")a=er(r,this,e,{},this);else{const u=typeof r=="string"?r:r.name,p=typeof r=="string"?{}:r.args||{},b=u?Gh.registry.get(u):Gh.presets.normal;if(typeof b!="function")return Gh.registry.onNotFound(u);a=er(b,this,e,p,this)}return a==null?e.map(u=>Bn.create(u)):a.map(u=>Bn.create(u))}findConnectionPoints(e,t,r){const a=this.cell,u=this.graph.options.connecting,p=a.getSource(),b=a.getTarget(),P=this.sourceView,I=this.targetView,z=e[0],W=e[e.length-1];let ne;if(P&&!P.isEdgeElement(this.sourceMagnet)){const Ke=this.sourceMagnet||P.container,Ue=z||r,At=new Ra(Ue,t),tn=p.connectionPoint||u.sourceConnectionPoint||u.connectionPoint;ne=this.getConnectionPoint(tn,P,Ke,At,"source")}else ne=t;let Te;if(I&&!I.isEdgeElement(this.targetMagnet)){const Ke=this.targetMagnet||I.container,Ue=b.connectionPoint||u.targetConnectionPoint||u.connectionPoint,At=W||t,tn=new Ra(At,r);Te=this.getConnectionPoint(Ue,I,Ke,tn,"target")}else Te=r;return{source:ne,target:Te}}getConnectionPoint(e,t,r,a,u){const p=a.end;if(e==null)return p;const b=typeof e=="string"?e:e.name,P=typeof e=="string"?{}:e.args,I=Qp.registry.get(b);if(typeof I!="function")return Qp.registry.onNotFound(b);const z=er(I,this,a,t,r,P||{},u);return z?z.round(this.POINT_ROUNDING):p}updateMarkerAttr(e){const t=this.cell.getAttrs(),r=`.${e}-marker`,a=t&&t[r];a&&this.updateAttrs(this.container,{},{attrs:{[r]:a},selectors:this.selectors})}findMarkerPoints(e,t,r){const a=ne=>{const Te=this.cell.getAttrs(),Ke=Object.keys(Te);for(let Ue=0,At=Ke.length;Ue<At;Ue+=1){const tn=Te[Ke[Ue]];if(tn[`${ne}Marker`]||tn[`${ne}-marker`]){const pn=tn.strokeWidth||tn["stroke-width"];if(pn)return parseFloat(pn);break}}return null},u=e[0],p=e[e.length-1],b=this.containers.sourceMarker,P=this.containers.targetMarker,I=this.markerCache;let z,W;if(b){if(this.updateMarkerAttr("source"),I.sourceBBox=I.sourceBBox||ai(b),I.sourceBBox.width>0){const ne=jd(b);z=t.clone().move(u||r,I.sourceBBox.width*ne.sx*-1)}}else{const ne=a("source");ne&&(z=t.clone().move(u||r,-ne))}if(P){if(this.updateMarkerAttr("target"),I.targetBBox=I.targetBBox||ai(P),I.targetBBox.width>0){const ne=jd(P);W=r.clone().move(p||t,I.targetBBox.width*ne.sx*-1)}}else{const ne=a("target");ne&&(W=r.clone().move(p||t,-ne))}return I.sourcePoint=z||t.clone(),I.targetPoint=W||r.clone(),{source:z,target:W}}findPath(e,t,r){const a=this.cell.getConnector()||this.graph.options.connecting.connector;let u,p,b;if(typeof a=="string"?u=a:(u=a.name,p=a.args),u){const I=Bh.registry.get(u);if(typeof I!="function")return Bh.registry.onNotFound(u);b=I}else b=Bh.presets.normal;const P=er(b,this,t,r,e,Object.assign(Object.assign({},p),{raw:!0}),this);return typeof P=="string"?rs.parse(P):P}translateConnectionPoints(e,t){const r=this.markerCache;r.sourcePoint&&r.sourcePoint.translate(e,t),r.targetPoint&&r.targetPoint.translate(e,t),this.sourcePoint.translate(e,t),this.targetPoint.translate(e,t),this.sourceAnchor.translate(e,t),this.targetAnchor.translate(e,t)}updateLabelPositions(){if(this.containers.labels==null)return this;if(!this.path)return this;const t=this.cell,r=t.getLabels();if(r.length===0)return this;const a=t.getDefaultLabel(),u=this.normalizeLabelPosition(a.position);for(let p=0,b=r.length;p<b;p+=1){const P=r[p],I=this.labelCache[p];if(!I)continue;const z=this.normalizeLabelPosition(P.position),W=ea.Z({},u,z),ne=this.getLabelTransformationMatrix(W);I.setAttribute("transform",Ud(ne))}return this}updateToolsPosition(){if(this.containers.tools==null)return this;let e="",t=this.options.toolsOffset;const r=this.getConnectionLength();if(r!=null){r<this.options.shortLength&&(e="scale(.5)",t/=2);let a=this.getPointAtLength(t);if(a!=null&&Il(this.toolCache,"transform",`translate(${a.x},${a.y}) ${e}`),this.options.doubleTools&&r>=this.options.longLength){const u=this.options.doubleToolsOffset||t;a=this.getPointAtLength(r-u),a!=null&&Il(this.tool2Cache,"transform",`translate(${a.x},${a.y}) ${e}`),Il(this.tool2Cache,"visibility","visible")}else this.options.doubleTools&&Il(this.tool2Cache,"visibility","hidden")}return this}updateArrowheadMarkers(){const e=this.containers.arrowheads;if(e==null)return this;if(e.style.display==="none")return this;const t=this.containers.sourceArrowhead,r=this.containers.targetArrowhead;if(t&&r){const u=(this.getConnectionLength()||0)<this.options.shortLength?.5:1;jd(t,u),jd(r,u),this.translateAndAutoOrientArrows(t,r)}return this}updateTerminalProperties(e){const t=this.cell,r=this.graph,a=t[e],u=a&&a.cell,p=`${e}View`;if(!u)return this[p]=null,this.updateTerminalMagnet(e),!0;const b=r.getCellById(u);if(!b)throw new Error(`Edge's ${e} node with id "${u}" not exists`);const P=b.findView(r);return P?(this[p]=P,this.updateTerminalMagnet(e),!0):!1}updateTerminalMagnet(e){const t=`${e}Magnet`,r=this.getTerminalView(e);if(r){let a=r.getMagnetFromEdgeTerminal(this.cell[e]);a===r.container&&(a=null),this[t]=a}else this[t]=null}translateAndAutoOrientArrows(e,t){const r=this.routePoints;e&&wv(e,this.sourcePoint,r[0]||this.targetPoint,this.graph.view.stage),t&&wv(t,this.targetPoint,r[r.length-1]||this.sourcePoint,this.graph.view.stage)}getLabelPositionAngle(e){const t=this.cell.getLabelAt(e);return t&&t.position&&typeof t.position=="object"&&t.position.angle||0}getLabelPositionArgs(e){const t=this.cell.getLabelAt(e);if(t&&t.position&&typeof t.position=="object")return t.position.options}getDefaultLabelPositionArgs(){const e=this.cell.getDefaultLabel();if(e&&e.position&&typeof e.position=="object")return e.position.options}mergeLabelPositionArgs(e,t){return e===null?null:e===void 0?t===null?null:t:ea.Z({},t,e)}addLabel(e,t,r,a){let u,p,b=0,P;typeof e!="number"?(u=e.x,p=e.y,typeof t=="number"?(b=t,P=r):P=t):(u=e,p=t,typeof r=="number"?(b=r,P=a):P=r);const I=this.getDefaultLabelPositionArgs(),z=P,W=this.mergeLabelPositionArgs(z,I),ne={position:this.getLabelPosition(u,p,b,W)},Te=-1;return this.cell.insertLabel(ne,Te,P),Te}addVertex(e,t,r){const a=typeof e!="number",u=a?e.x:e,p=a?e.y:t,b=a?t:r,P={x:u,y:p},I=this.getVertexIndex(u,p);return this.cell.insertVertex(P,I,b),I}sendToken(e,t,r){let a,u,p,b,P="linear";typeof t=="object"?(a=t.duration,u=t.reversed===!0,p=t.selector,t.rotate===!1?b="":t.rotate===!0?b="auto":t.rotate!=null&&(b=`${t.rotate}`),t.timing&&(P=t.timing)):(a=t,u=!1,p=null),a=a||1e3;const I={dur:`${a}ms`,repeatCount:"1",calcMode:P,fill:"freeze"};if(b&&(I.rotate=b),u&&(I.keyPoints="1;0",I.keyTimes="0;1"),typeof t=="object"){const{duration:tn,reversed:pn,selector:Kt,rotate:zn,timing:gr}=t,ii=UC(t,["duration","reversed","selector","rotate","timing"]);Object.keys(ii).forEach(si=>{I[si]=ii[si]})}let z;if(typeof p=="string"?z=this.findOne(p,this.container,this.selectors):z=this.containers.connection?this.containers.connection:this.container.querySelector("path"),!(z instanceof SVGPathElement))throw new Error("Token animation requires a valid connection path.");const W=typeof e=="string"?this.findOne(e):e;if(W==null)throw new Error("Token animation requires a valid token element.");const ne=W.parentNode,Te=()=>{ne||cu(W)},Ke=ma.create(W);ne||Ke.appendTo(this.graph.view.stage);const Ue=I.complete;I.complete=tn=>{Te(),r&&r(),Ue&&Ue(tn)};const At=Ke.animateAlongPath(I,z);return()=>{Te(),At()}}getConnection(){return this.path!=null?this.path.clone():null}getConnectionPathData(){if(this.path==null)return"";const e=this.cache.pathCache;return ra(e,"data")||(e.data=this.path.serialize()),e.data||""}getConnectionSubdivisions(){if(this.path==null)return null;const e=this.cache.pathCache;return ra(e,"segmentSubdivisions")||(e.segmentSubdivisions=this.path.getSegmentSubdivisions()),e.segmentSubdivisions}getConnectionLength(){if(this.path==null)return 0;const e=this.cache.pathCache;return ra(e,"length")||(e.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),e.length}getPointAtLength(e){return this.path==null?null:this.path.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(e){return this.path==null?null:(sl(e)&&(e=parseFloat(e)/100),this.path.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(e){return this.path==null?null:this.path.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(e){return this.path==null?null:this.path.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(e){return this.path==null?null:this.path.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(e){return this.path==null?null:this.path.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(e){return this.path==null?null:this.path.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(e,t,r,a){const u={distance:0};let p=0,b;typeof r=="number"?(p=r,b=a):b=r,b!=null&&(u.options=b);const P=b&&b.absoluteOffset,I=!(b&&b.absoluteDistance),z=b&&b.absoluteDistance&&b.reverseDistance,W=this.path,ne={segmentSubdivisions:this.getConnectionSubdivisions()},Te=new Bn(e,t),Ke=W.closestPointT(Te,ne),Ue=this.getConnectionLength()||0;let At=W.lengthAtT(Ke,ne);I&&(At=Ue>0?At/Ue:0),z&&(At=-1*(Ue-At)||1),u.distance=At;let tn;P||(tn=W.tangentAtT(Ke));let pn;if(tn)pn=tn.pointOffset(Te);else{const Kt=W.pointAtT(Ke),zn=Te.diff(Kt);pn={x:zn.x,y:zn.y}}return u.offset=pn,u.angle=p,u}normalizeLabelPosition(e){return typeof e=="number"?{distance:e}:e}getLabelTransformationMatrix(e){const t=this.normalizeLabelPosition(e),r=t.options||{},a=t.angle||0,u=t.distance,p=u>0&&u<=1;let b=0;const P={x:0,y:0},I=t.offset;I&&(typeof I=="number"?b=I:(I.x!=null&&(P.x=I.x),I.y!=null&&(P.y=I.y)));const z=P.x!==0||P.y!==0||b===0,W=r.keepGradient,ne=r.ensureLegibility,Te=this.path,Ke={segmentSubdivisions:this.getConnectionSubdivisions()},Ue=p?u*this.getConnectionLength():u,At=Te.tangentAtLength(Ue,Ke);let tn,pn=a;if(At){if(z)tn=At.start,tn.translate(P);else{const Kt=At.clone();Kt.rotate(-90,At.start),Kt.setLength(b),tn=Kt.end}W&&(pn=At.angle()+a,ne&&(pn=gl.normalize((pn+90)%180-90)))}else tn=Te.start,z&&tn.translate(P);return Ms().translate(tn.x,tn.y).rotate(pn)}getLabelCoordinates(e){const t=this.getLabelTransformationMatrix(e);return new Bn(t.e,t.f)}getVertexIndex(e,t){const a=this.cell.getVertices(),u=this.getClosestPointLength(new Bn(e,t));let p=0;if(u!=null)for(const b=a.length;p<b;p+=1){const P=a[p],I=this.getClosestPointLength(P);if(I!=null&&u<I)break}return p}getEventArgs(e,t,r){const a=this,u=a.cell,p=u;return t==null||r==null?{e,view:a,edge:u,cell:p}:{e,x:t,y:r,view:a,edge:u,cell:p}}notifyUnhandledMouseDown(e,t,r){this.notify("edge:unhandled:mousedown",{e,x:t,y:r,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(e,t,r){super.onMouseDown(e,t,r),this.notify("edge:mousedown",this.getEventArgs(e,t,r))}notifyMouseMove(e,t,r){super.onMouseMove(e,t,r),this.notify("edge:mousemove",this.getEventArgs(e,t,r))}notifyMouseUp(e,t,r){super.onMouseUp(e,t,r),this.notify("edge:mouseup",this.getEventArgs(e,t,r))}onClick(e,t,r){super.onClick(e,t,r),this.notify("edge:click",this.getEventArgs(e,t,r))}onDblClick(e,t,r){super.onDblClick(e,t,r),this.notify("edge:dblclick",this.getEventArgs(e,t,r))}onContextMenu(e,t,r){super.onContextMenu(e,t,r),this.notify("edge:contextmenu",this.getEventArgs(e,t,r))}onMouseDown(e,t,r){switch(this.notifyMouseDown(e,t,r),e.target.getAttribute("class")){case"vertex":{this.startVertexDragging(e,t,r);return}case"vertex-remove":case"vertex-remove-area":{this.handleVertexRemoving(e,t,r);return}case"connection":case"connection-wrap":{this.handleVertexAdding(e,t,r);return}case"arrowhead":{this.startArrowheadDragging(e,t,r);return}case"source-marker":case"target-marker":{this.notifyUnhandledMouseDown(e,t,r);return}default:break}this.startEdgeDragging(e,t,r)}onMouseMove(e,t,r){const a=this.getEventData(e);switch(a.action){case"drag-vertex":{this.dragVertex(e,t,r);break}case"drag-label":{this.dragLabel(e,t,r);break}case"drag-arrowhead":{this.dragArrowhead(e,t,r);break}case"drag-edge":{this.dragEdge(e,t,r);break}default:break}return this.notifyMouseMove(e,t,r),a}onMouseUp(e,t,r){const a=this.getEventData(e);switch(a.action){case"drag-vertex":{this.stopVertexDragging(e,t,r);break}case"drag-label":{this.stopLabelDragging(e,t,r);break}case"drag-arrowhead":{this.stopArrowheadDragging(e,t,r);break}case"drag-edge":{this.stopEdgeDragging(e,t,r);break}default:break}return this.notifyMouseUp(e,t,r),this.checkMouseleave(e),a}onMouseOver(e){super.onMouseOver(e),this.notify("edge:mouseover",this.getEventArgs(e))}onMouseOut(e){super.onMouseOut(e),this.notify("edge:mouseout",this.getEventArgs(e))}onMouseEnter(e){super.onMouseEnter(e),this.notify("edge:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("edge:mouseleave",this.getEventArgs(e))}onMouseWheel(e,t,r,a){super.onMouseWheel(e,t,r,a),this.notify("edge:mousewheel",Object.assign({delta:a},this.getEventArgs(e,t,r)))}onCustomEvent(e,t,r,a){if(Sf(e.target,"edge-tool",this.container)){if(e.stopPropagation(),this.can("useEdgeTools")){if(t==="edge:remove"){this.cell.remove({ui:!0});return}this.notify("edge:customevent",Object.assign({name:t},this.getEventArgs(e,r,a)))}this.notifyMouseDown(e,r,a)}else this.notify("edge:customevent",Object.assign({name:t},this.getEventArgs(e,r,a))),super.onCustomEvent(e,t,r,a)}onLabelMouseDown(e,t,r){this.notifyMouseDown(e,t,r),this.startLabelDragging(e,t,r),this.getEventData(e).stopPropagation&&e.stopPropagation()}startEdgeDragging(e,t,r){if(!this.can("edgeMovable")){this.notifyUnhandledMouseDown(e,t,r);return}this.setEventData(e,{x:t,y:r,moving:!1,action:"drag-edge"})}dragEdge(e,t,r){const a=this.getEventData(e);a.moving||(a.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e,x:t,y:r,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(t-a.x,r-a.y,{ui:!0}),this.setEventData(e,{x:t,y:r}),this.notify("edge:moving",{e,x:t,y:r,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(e,t,r){const a=this.getEventData(e);a.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e,x:t,y:r,view:this,cell:this.cell,edge:this.cell})),a.moving=!1}prepareArrowheadDragging(e,t){const r=this.getTerminalMagnet(e),a={action:"drag-arrowhead",x:t.x,y:t.y,isNewEdge:t.isNewEdge===!0,terminalType:e,initialMagnet:r,initialTerminal:Dr(this.cell[e]),fallbackAction:t.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(e),options:t.options};return this.beforeArrowheadDragging(a),a}createValidateConnectionArgs(e){const t=[];t[4]=e,t[5]=this;let r,a=0,u=0;e==="source"?(a=2,r="target"):(u=2,r="source");const p=this.cell[r],b=p.cell;if(b){let P;const I=t[a]=this.graph.renderer.findViewByCell(b);I&&(P=I.getMagnetFromEdgeTerminal(p),P===I.container&&(P=void 0)),t[a+1]=P}return(P,I)=>(t[u]=P,t[u+1]=P.container===I?void 0:I,t)}beforeArrowheadDragging(e){e.zIndex=this.cell.zIndex,this.cell.toFront();const t=this.container.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(e)}afterArrowheadDragging(e){e.zIndex!=null&&(this.cell.setZIndex(e.zIndex,{ui:!0}),e.zIndex=null);const t=this.container;t.style.pointerEvents=e.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(e)}arrowheadDragging(e,t,r,a){a.x=t,a.y=r,a.currentTarget!==e&&(a.currentMagnet&&a.currentView&&a.currentView.unhighlight(a.currentMagnet,{type:"magnetAdsorbed"}),a.currentView=this.graph.renderer.findViewByElem(e),a.currentView?(a.currentMagnet=a.currentView.findMagnet(e),a.currentMagnet&&this.graph.hook.validateConnection(...a.getValidateConnectionArgs(a.currentView,a.currentMagnet),a.currentView.getEdgeTerminal(a.currentMagnet,t,r,this.cell,a.terminalType))?a.currentView.highlight(a.currentMagnet,{type:"magnetAdsorbed"}):a.currentMagnet=null):a.currentMagnet=null),a.currentTarget=e,this.cell.prop(a.terminalType,{x:t,y:r},Object.assign(Object.assign({},a.options),{ui:!0}))}arrowheadDragged(e,t,r){const a=e.currentView,u=e.currentMagnet;if(!u||!a)return;a.unhighlight(u,{type:"magnetAdsorbed"});const p=e.terminalType,b=a.getEdgeTerminal(u,t,r,this.cell,p);this.cell.setTerminal(p,b,{ui:!0})}snapArrowhead(e,t,r){const a=this.graph,{snap:u,allowEdge:p}=a.options.connecting,b=typeof u=="object"&&u.radius||50,P={x:e-b,y:t-b,width:2*b,height:2*b},I=a.renderer.findViewsInArea(P);if(p){const zn=a.renderer.findEdgeViewsInArea(P).filter(gr=>gr!==this);I.push(...zn)}const z=r.closestView||null,W=r.closestMagnet||null;r.closestView=null,r.closestMagnet=null;let ne,Te=Number.MAX_SAFE_INTEGER;const Ke=new Bn(e,t);I.forEach(zn=>{zn.container.getAttribute("magnet")!=="false"&&(ne=zn.cell.getBBox().getCenter().distance(Ke),ne<b&&ne<Te&&(W===zn.container||a.hook.validateConnection(...r.getValidateConnectionArgs(zn,null),zn.getEdgeTerminal(zn.container,e,t,this.cell,r.terminalType)))&&(Te=ne,r.closestView=zn,r.closestMagnet=zn.container)),zn.container.querySelectorAll("[magnet]").forEach(gr=>{if(gr.getAttribute("magnet")!=="false"){const ii=zn.getBBoxOfElement(gr);ne=Ke.distance(ii.getCenter()),ne<b&&ne<Te&&(W===gr||a.hook.validateConnection(...r.getValidateConnectionArgs(zn,gr),zn.getEdgeTerminal(gr,e,t,this.cell,r.terminalType)))&&(Te=ne,r.closestView=zn,r.closestMagnet=gr)}})});let Ue;const At=r.terminalType,tn=r.closestView,pn=r.closestMagnet,Kt=W!==pn;if(z&&Kt&&z.unhighlight(W,{type:"magnetAdsorbed"}),tn){if(!Kt)return;tn.highlight(pn,{type:"magnetAdsorbed"}),Ue=tn.getEdgeTerminal(pn,e,t,this.cell,At)}else Ue={x:e,y:t};this.cell.setTerminal(At,Ue,{},Object.assign(Object.assign({},r.options),{ui:!0}))}snapArrowheadEnd(e){const t=e.closestView,r=e.closestMagnet;t&&r&&(t.unhighlight(r,{type:"magnetAdsorbed"}),e.currentMagnet=t.findMagnet(r)),e.closestView=null,e.closestMagnet=null}finishEmbedding(e){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(e.zIndex=null)}fallbackConnection(e){switch(e.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(e.terminalType,e.initialTerminal,{ui:!0});break}}notifyConnectionEvent(e,t){const r=e.terminalType,a=e.initialTerminal,u=this.cell[r];if(u&&!Jc.equalTerminals(a,u)){const b=this.graph,P=a,I=P.cell?b.getCellById(P.cell):null,z=P.port,W=I?b.findViewByCell(I):null,ne=I||e.isNewEdge?null:Bn.create(a).toJSON(),Te=u,Ke=Te.cell?b.getCellById(Te.cell):null,Ue=Te.port,At=Ke?b.findViewByCell(Ke):null,tn=Ke?null:Bn.create(u).toJSON();this.notify("edge:connected",{e:t,previousCell:I,previousPort:z,previousView:W,previousPoint:ne,currentCell:Ke,currentView:At,currentPort:Ue,currentPoint:tn,previousMagnet:e.initialMagnet,currentMagnet:e.currentMagnet,edge:this.cell,view:this,type:r,isNew:e.isNewEdge})}}highlightAvailableMagnets(e){const t=this.graph,r=t.model.getCells();e.marked={};for(let a=0,u=r.length;a<u;a+=1){const p=t.renderer.findViewByCell(r[a]);if(!p)continue;const b=Array.prototype.slice.call(p.container.querySelectorAll("[magnet]"));p.container.getAttribute("magnet")!=="false"&&b.push(p.container);const P=b.filter(I=>t.hook.validateConnection(...e.getValidateConnectionArgs(p,I),p.getEdgeTerminal(I,e.x,e.y,this.cell,e.terminalType)));if(P.length>0){for(let I=0,z=P.length;I<z;I+=1)p.highlight(P[I],{type:"magnetAvailable"});p.highlight(null,{type:"nodeAvailable"}),e.marked[p.cell.id]=P}}}unhighlightAvailableMagnets(e){const t=e.marked||{};Object.keys(t).forEach(r=>{const a=this.graph.renderer.findViewByCell(r);a&&(t[r].forEach(p=>{a.unhighlight(p,{type:"magnetAvailable"})}),a.unhighlight(null,{type:"nodeAvailable"}))}),e.marked=null}startArrowheadDragging(e,t,r){if(!this.can("arrowheadMovable")){this.notifyUnhandledMouseDown(e,t,r);return}const u=e.target.getAttribute("data-terminal"),p=this.prepareArrowheadDragging(u,{x:t,y:r});this.setEventData(e,p)}dragArrowhead(e,t,r){const a=this.getEventData(e);this.graph.options.connecting.snap?this.snapArrowhead(t,r,a):this.arrowheadDragging(this.getEventTarget(e),t,r,a)}stopArrowheadDragging(e,t,r){const a=this.graph,u=this.getEventData(e);a.options.connecting.snap?this.snapArrowheadEnd(u):this.arrowheadDragged(u,t,r),a.hook.validateEdge(this.cell,u.terminalType,u.initialTerminal)?(this.finishEmbedding(u),this.notifyConnectionEvent(u,e)):this.fallbackConnection(u),this.afterArrowheadDragging(u)}startLabelDragging(e,t,r){if(this.can("edgeLabelMovable")){const a=e.currentTarget,u=parseInt(a.getAttribute("data-index"),10),p=this.getLabelPositionAngle(u),b=this.getLabelPositionArgs(u),P=this.getDefaultLabelPositionArgs(),I=this.mergeLabelPositionArgs(b,P);this.setEventData(e,{index:u,positionAngle:p,positionArgs:I,stopPropagation:!0,action:"drag-label"})}else this.setEventData(e,{stopPropagation:!0});this.graph.view.delegateDragEvents(e,this)}dragLabel(e,t,r){const a=this.getEventData(e),u=this.cell.getLabelAt(a.index),p=ea.Z({},u,{position:this.getLabelPosition(t,r,a.positionAngle,a.positionArgs)});this.cell.setLabelAt(a.index,p)}stopLabelDragging(e,t,r){}handleVertexAdding(e,t,r){if(!this.can("vertexAddable")){this.notifyUnhandledMouseDown(e,t,r);return}const a=this.addVertex({x:t,y:r},{ui:!0});this.setEventData(e,{index:a,action:"drag-vertex"})}handleVertexRemoving(e,t,r){if(!this.can("vertexDeletable")){this.notifyUnhandledMouseDown(e,t,r);return}const a=e.target,u=parseInt(a.getAttribute("idx"),10);this.cell.removeVertexAt(u)}startVertexDragging(e,t,r){if(!this.can("vertexMovable")){this.notifyUnhandledMouseDown(e,t,r);return}const a=e.target,u=parseInt(a.getAttribute("idx"),10);this.setEventData(e,{index:u,action:"drag-vertex"})}dragVertex(e,t,r){const a=this.getEventData(e);this.cell.setVertexAt(a.index,{x:t,y:r},{ui:!0})}stopVertexDragging(e,t,r){}}(function(c){c.toStringTag=`X6.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&typeof a.isNodeView=="function"&&typeof a.isEdgeView=="function"&&typeof a.confirmUpdate=="function"&&typeof a.update=="function"&&typeof a.getConnection=="function"}c.isEdgeView=e})(Zh||(Zh={})),Zh.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],vertices:["vertices","update"],vertexMarkup:["vertices"],toolMarkup:["tools"],tools:["widget"]},shortLength:105,longLength:155,toolsOffset:40,doubleTools:!1,doubleToolsOffset:65,sampleInterval:50}),Zh.registry.register("edge",Zh,!0);class Zf extends uu{constructor(){super(...arguments),this.scalableNode=null,this.rotatableNode=null,this.scalableSelector="scalable",this.rotatableSelector="rotatable",this.defaultPortMarkup=Fl.getPortMarkup(),this.defaultPortLabelMarkup=Fl.getPortLabelMarkup(),this.defaultPortContainerMarkup=Fl.getPortContainerMarkup(),this.portsCache={}}get[Symbol.toStringTag](){return Zf.toStringTag}getContainerClassName(){const e=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||e.push(this.prefixClassName("node-immovable")),e.join(" ")}updateClassName(e){const t=e.target;if(t.hasAttribute("magnet")){const r=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?Zn(t,r):Qt(t,r)}else{const r=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(r):this.addClass(r)}}isNodeView(){return!0}confirmUpdate(e,t={}){let r=e;return this.hasAction(r,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","resize","translate","rotate","ports","tools"])):(r=this.handleAction(r,"resize",()=>this.resize(t),"update"),r=this.handleAction(r,"update",()=>this.update(),Kf.useCSSSelector?"ports":null),r=this.handleAction(r,"translate",()=>this.translate()),r=this.handleAction(r,"rotate",()=>this.rotate()),r=this.handleAction(r,"ports",()=>this.renderPorts()),r=this.handleAction(r,"tools",()=>this.renderTools())),r}update(e){this.cleanCache(),Kf.useCSSSelector&&this.removePorts();const t=this.cell,r=t.getSize(),a=t.getAttrs();this.updateAttrs(this.container,a,{attrs:e===a?null:e,rootBBox:new Oo(0,0,r.width,r.height),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode}),Kf.useCSSSelector&&this.renderPorts()}renderMarkup(){const e=this.cell.markup;if(e)return typeof e=="string"?this.renderStringMarkup(e):this.renderJSONMarkup(e);throw new TypeError("Invalid node markup.")}renderJSONMarkup(e){const t=this.parseJSONMarkup(e,this.container),r=a=>Array.isArray(a)?a[0]:a;this.selectors=t.selectors,this.rotatableNode=r(this.selectors[this.rotatableSelector]),this.scalableNode=r(this.selectors[this.scalableSelector]),this.container.appendChild(t.fragment)}renderStringMarkup(e){ep(this.container,ma.toNodes(ma.createVectors(e))),this.rotatableNode=lh(this.container,`.${this.rotatableSelector}`),this.scalableNode=lh(this.container,`.${this.scalableSelector}`),this.selectors={},this.rootSelector&&(this.selectors[this.rootSelector]=this.container)}render(){return this.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransform(),Kf.useCSSSelector||this.renderPorts(),this.renderTools(),this}resize(e={}){if(this.scalableNode)return this.updateSize(e);this.cell.getAngle()&&this.rotate(),this.update()}translate(){if(this.rotatableNode)return this.updateTranslation();this.updateTransform()}rotate(){if(this.rotatableNode){this.updateRotation(),this.update();return}this.updateTransform()}getTranslationString(){const e=this.cell.getPosition();return`translate(${e.x},${e.y})`}getRotationString(){const e=this.cell.getAngle();if(e){const t=this.cell.getSize();return`rotate(${e},${t.width/2},${t.height/2})`}}updateTransform(){let e=this.getTranslationString();const t=this.getRotationString();t&&(e+=` ${t}`),this.container.setAttribute("transform",e)}updateRotation(){if(this.rotatableNode!=null){const e=this.getRotationString();e!=null?this.rotatableNode.setAttribute("transform",e):this.rotatableNode.removeAttribute("transform")}}updateTranslation(){this.container.setAttribute("transform",this.getTranslationString())}updateSize(e={}){const t=this.cell,r=t.getSize(),a=t.getAngle(),u=this.scalableNode;let p=!1;u.getElementsByTagName("path").length>0&&(p=!0);const b=ai(u,{recursive:p}),P=r.width/(b.width||1),I=r.height/(b.height||1);u.setAttribute("transform",`scale(${P},${I})`);const z=this.rotatableNode;if(z!=null){const W=z.getAttribute("transform");if(W){z.setAttribute("transform",`${W} rotate(${-a},${r.width/2},${r.height/2})`);const ne=ai(u,{target:this.graph.view.stage});t.prop("position",{x:ne.x,y:ne.y},Object.assign({updated:!0},e)),this.translate(),this.rotate()}}this.update()}findPortElem(e,t){const r=e?this.portsCache[e]:null;if(!r)return null;const a=r.portContentElement,u=r.portContentSelectors||{};return this.findOne(t,a,u)}initializePorts(){this.cleanPortsCache()}refreshPorts(){this.removePorts(),this.cleanPortsCache(),this.renderPorts()}cleanPortsCache(){this.portsCache={}}removePorts(){Object.keys(this.portsCache).forEach(e=>{const t=this.portsCache[e];cu(t.portElement)})}renderPorts(){const e=this.getPortsContainer(),t=[];e.childNodes.forEach(u=>{t.push(u)});const r=bn(this.cell.getParsedPorts(),"zIndex"),a="auto";r[a]&&r[a].forEach(u=>{const p=this.getPortElement(u);e.append(p),t.push(p)}),Object.keys(r).forEach(u=>{if(u!==a){const p=parseInt(u,10);this.appendPorts(r[u],p,t)}}),this.updatePorts()}getPortsContainer(){return this.rotatableNode||this.container}appendPorts(e,t,r){const a=e.map(u=>this.getPortElement(u));r[t]||t<0?gg(r[Math.max(t,0)],a):ep(this.getPortsContainer(),a)}getPortElement(e){const t=this.portsCache[e.id];return t?t.portElement:this.createPortElement(e)}createPortElement(e){let t=Fl.renderMarkup(this.getPortContainerMarkup());const r=t.elem;if(r==null)throw new Error("Invalid port container markup.");t=Fl.renderMarkup(this.getPortMarkup(e));const a=t.elem,u=t.selectors;if(a==null)throw new Error("Invalid port markup.");this.setAttrs({port:e.id,"port-group":e.group},a),t=Fl.renderMarkup(this.getPortLabelMarkup(e.label));const p=t.elem,b=t.selectors;if(p==null)throw new Error("Invalid port label markup.");let P;if(u&&b){for(const z in b)if(u[z]&&z!==this.rootSelector)throw new Error("Selectors within port must be unique.");P=Object.assign(Object.assign({},u),b)}else P=u||b;let I="x6-port";return e.group&&(I+=` x6-port-${e.group}`),Qt(r,I),Qt(a,"x6-port-body"),Qt(p,"x6-port-label"),r.appendChild(a),r.appendChild(p),this.portsCache[e.id]={portElement:r,portSelectors:P,portLabelElement:p,portLabelSelectors:b,portContentElement:a,portContentSelectors:u},this.graph.hook.onPortRendered({port:e,node:this.cell,container:r,selectors:P,labelContainer:p,labelSelectors:b,contentContainer:a,contentSelectors:u}),r}updatePorts(){this.updatePortGroup();const e=this.cell.getParsedGroups();Object.keys(e).forEach(t=>this.updatePortGroup(t))}updatePortGroup(e){const t=Oo.fromSize(this.cell.getSize()),r=this.cell.getPortsLayoutByGroup(e,t);for(let a=0,u=r.length;a<u;a+=1){const p=r[a],b=p.portId,P=this.portsCache[b]||{},I=p.portLayout;if(this.applyPortTransform(P.portElement,I),p.portAttrs!=null){const W={selectors:P.portSelectors||{}};p.portSize&&(W.rootBBox=Oo.fromSize(p.portSize)),this.updateAttrs(P.portElement,p.portAttrs,W)}const z=p.labelLayout;if(z&&(this.applyPortTransform(P.portLabelElement,z,-(I.angle||0)),z.attrs)){const W={selectors:P.portLabelSelectors||{}};p.labelSize&&(W.rootBBox=Oo.fromSize(p.labelSize)),this.updateAttrs(P.portLabelElement,z.attrs,W)}}}applyPortTransform(e,t,r=0){const a=t.angle,u=t.position,p=Ms().rotate(r).translate(u.x||0,u.y||0).rotate(a||0);$s(e,p,{absolute:!0})}getPortContainerMarkup(){return this.cell.getPortContainerMarkup()||this.defaultPortContainerMarkup}getPortMarkup(e){return e.markup||this.cell.portMarkup||this.defaultPortMarkup}getPortLabelMarkup(e){return e.markup||this.cell.portLabelMarkup||this.defaultPortLabelMarkup}getEventArgs(e,t,r){const a=this,u=a.cell,p=u;return t==null||r==null?{e,view:a,node:u,cell:p}:{e,x:t,y:r,view:a,node:u,cell:p}}notifyMouseDown(e,t,r){super.onMouseDown(e,t,r),this.notify("node:mousedown",this.getEventArgs(e,t,r))}notifyMouseMove(e,t,r){super.onMouseMove(e,t,r),this.notify("node:mousemove",this.getEventArgs(e,t,r))}notifyMouseUp(e,t,r){super.onMouseUp(e,t,r),this.notify("node:mouseup",this.getEventArgs(e,t,r))}onClick(e,t,r){super.onClick(e,t,r),this.notify("node:click",this.getEventArgs(e,t,r))}onDblClick(e,t,r){super.onDblClick(e,t,r),this.notify("node:dblclick",this.getEventArgs(e,t,r))}onContextMenu(e,t,r){super.onContextMenu(e,t,r),this.notify("node:contextmenu",this.getEventArgs(e,t,r))}onMouseDown(e,t,r){if(this.isPropagationStopped(e))return;const a=e.target;vg(a)||av(a)||(this.notifyMouseDown(e,t,r),this.startNodeDragging(e,t,r))}onMouseMove(e,t,r){const a=this.getEventData(e),u=a.action;if(u==="magnet")this.dragMagnet(e,t,r);else{if(u==="move"){const b=a.targetView||this;b.dragNode(e,t,r),b.notify("node:moving",{e,x:t,y:r,view:b,cell:b.cell,node:b.cell})}this.notifyMouseMove(e,t,r)}this.setEventData(e,a)}onMouseUp(e,t,r){const a=this.getEventData(e),u=a.action;if(u==="magnet")this.stopMagnetDragging(e,t,r);else{const b=e.target;if(vg(b)||av(b))return;this.notifyMouseUp(e,t,r),u==="move"&&(a.targetView||this).stopNodeDragging(e,t,r)}const p=a.targetMagnet;p&&this.onMagnetClick(e,p,t,r),this.checkMouseleave(e)}onMouseOver(e){super.onMouseOver(e),this.notify("node:mouseover",this.getEventArgs(e))}onMouseOut(e){super.onMouseOut(e),this.notify("node:mouseout",this.getEventArgs(e))}onMouseEnter(e){this.updateClassName(e),super.onMouseEnter(e),this.notify("node:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("node:mouseleave",this.getEventArgs(e))}onMouseWheel(e,t,r,a){super.onMouseWheel(e,t,r,a),this.notify("node:mousewheel",Object.assign({delta:a},this.getEventArgs(e,t,r)))}onMagnetClick(e,t,r,a){this.graph.view.getMouseMovedCount(e)>this.graph.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:t},this.getEventArgs(e,r,a)))}onMagnetDblClick(e,t,r,a){this.notify("node:magnet:dblclick",Object.assign({magnet:t},this.getEventArgs(e,r,a)))}onMagnetContextMenu(e,t,r,a){this.notify("node:magnet:contextmenu",Object.assign({magnet:t},this.getEventArgs(e,r,a)))}onMagnetMouseDown(e,t,r,a){this.startMagnetDragging(e,r,a)}onCustomEvent(e,t,r,a){this.notify("node:customevent",Object.assign({name:t},this.getEventArgs(e,r,a))),super.onCustomEvent(e,t,r,a)}prepareEmbedding(e){const r=this.getEventData(e).cell||this.cell,a=this.graph.findViewByCell(r),u=this.graph.snapToGrid(e.clientX,e.clientY);this.notify("node:embed",{e,node:r,view:a,cell:r,x:u.x,y:u.y,currentParent:r.getParent()})}processEmbedding(e,t){const r=t.cell||this.cell,a=t.graph||this.graph,u=a.options.embedding,p=u.findParent;let b=typeof p=="function"?er(p,a,{view:this,node:this.cell}).filter(ne=>tl.isCell(ne)&&this.cell.id!==ne.id&&!ne.isDescendantOf(this.cell)):a.model.getNodesUnderNode(r,{by:p});if(u.frontOnly&&b.length>0){const ne=bn(b,"zIndex"),Te=ya(Object.keys(ne).map(Ke=>parseInt(Ke,10)));Te&&(b=ne[Te])}b=b.filter(ne=>ne.visible);let P=null;const I=t.candidateEmbedView,z=u.validate;for(let ne=b.length-1;ne>=0;ne-=1){const Te=b[ne];if(I&&I.cell.id===Te.id){P=I;break}else{const Ke=Te.findView(a);if(er(z,a,{child:this.cell,parent:Ke.cell,childView:this,parentView:Ke})){P=Ke;break}}}this.clearEmbedding(t),P&&P.highlight(null,{type:"embedding"}),t.candidateEmbedView=P;const W=a.snapToGrid(e.clientX,e.clientY);this.notify("node:embedding",{e,cell:r,node:r,view:a.findViewByCell(r),x:W.x,y:W.y,currentParent:r.getParent(),candidateParent:P?P.cell:null})}clearEmbedding(e){const t=e.candidateEmbedView;t&&(t.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null)}finalizeEmbedding(e,t){this.graph.startBatch("embedding");const r=t.cell||this.cell,a=t.graph||this.graph,u=a.findViewByCell(r),p=r.getParent(),b=t.candidateEmbedView;if(b?(b.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null,(p==null||p.id!==b.cell.id)&&b.cell.insertChild(r,void 0,{ui:!0})):p&&p.unembed(r,{ui:!0}),a.model.getConnectedEdges(r,{deep:!0}).forEach(P=>{P.updateParent({ui:!0})}),u&&b){const P=a.snapToGrid(e.clientX,e.clientY);u.notify("node:embedded",{e,cell:r,x:P.x,y:P.y,node:r,view:a.findViewByCell(r),previousParent:p,currentParent:r.getParent()})}this.graph.stopBatch("embedding")}getDelegatedView(){let e=this.cell,t=this;for(;t&&!e.isEdge();){if(!e.hasParent()||t.can("stopDelegateOnDragging"))return t;e=e.getParent(),t=this.graph.renderer.findViewByCell(e)}return null}startMagnetDragging(e,t,r){if(!this.can("magnetConnectable"))return;e.stopPropagation();const a=e.currentTarget,u=this.graph;this.setEventData(e,{targetMagnet:a}),u.hook.validateMagnet(this,a,e)?(u.options.magnetThreshold<=0&&this.startConnectting(e,a,t,r),this.setEventData(e,{action:"magnet"}),this.stopPropagation(e)):((vr(a,"x6-port-body")||L()(a).closest(".x6-port-body").length>0)&&this.stopPropagation(e),this.onMouseDown(e,t,r)),u.view.delegateDragEvents(e,this)}startConnectting(e,t,r,a){this.graph.model.startBatch("add-edge");const u=this.createEdgeFromMagnet(t,r,a);u.notifyMouseDown(e,r,a),u.setEventData(e,u.prepareArrowheadDragging("target",{x:r,y:a,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(e,{edgeView:u})}createEdgeFromMagnet(e,t,r){const a=this.graph,u=a.model,p=a.hook.getDefaultEdge(this,e);return p.setSource(Object.assign(Object.assign({},p.getSource()),this.getEdgeTerminal(e,t,r,p,"source"))),p.setTarget(Object.assign(Object.assign({},p.getTarget()),{x:t,y:r})),p.addTo(u,{async:!1,ui:!0}),p.findView(a)}dragMagnet(e,t,r){const a=this.getEventData(e),u=a.edgeView;if(u)u.onMouseMove(e,t,r),this.autoScrollGraph(e.clientX,e.clientY);else{const p=this.graph,b=p.options.magnetThreshold,P=this.getEventTarget(e),I=a.targetMagnet;if(b==="onleave"){if(I===P||I.contains(P))return}else if(p.view.getMouseMovedCount(e)<=b)return;this.startConnectting(e,I,t,r)}}stopMagnetDragging(e,t,r){const u=this.eventData(e).edgeView;u&&(u.onMouseUp(e,t,r),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(e,t,r){this.notify("node:unhandled:mousedown",{e,x:t,y:r,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(e,t,r,a,u){let p=[u];const b=this.graph.selection.widget;if(b&&b.options.movable){const P=this.graph.getSelectedCells();P.includes(u)&&(p=P.filter(I=>I.isNode()))}p.forEach(P=>{this.notify(e,{e:t,x:r,y:a,cell:P,node:P,view:P.findView(this.graph)})})}startNodeDragging(e,t,r){const a=this.getDelegatedView();if(a==null||!a.can("nodeMovable"))return this.notifyUnhandledMouseDown(e,t,r);this.setEventData(e,{targetView:a,action:"move"});const u=Bn.create(a.cell.getPosition());a.setEventData(e,{moving:!1,offset:u.diff(t,r),restrict:this.graph.hook.getRestrictArea(a)})}dragNode(e,t,r){const a=this.cell,u=this.graph,p=u.getGridSize(),b=this.getEventData(e),P=b.offset,I=b.restrict;b.moving||(b.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",e,t,r,this.cell)),this.autoScrollGraph(e.clientX,e.clientY);const z=vu.snapToGrid(t+P.x,p),W=vu.snapToGrid(r+P.y,p);a.setPosition(z,W,{restrict:I,deep:!0,ui:!0}),u.options.embedding.enabled&&(b.embedding||(this.prepareEmbedding(e),b.embedding=!0),this.processEmbedding(e,b))}stopNodeDragging(e,t,r){const a=this.getEventData(e);a.embedding&&this.finalizeEmbedding(e,a),a.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",e,t,r,this.cell)),a.moving=!1,a.embedding=!1}autoScrollGraph(e,t){const r=this.graph.scroller.widget;r&&r.autoScroll(e,t)}}(function(c){c.toStringTag=`X6.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&typeof a.isNodeView=="function"&&typeof a.isEdgeView=="function"&&typeof a.confirmUpdate=="function"&&typeof a.update=="function"&&typeof a.findPortElem=="function"&&typeof a.resize=="function"&&typeof a.rotate=="function"&&typeof a.translate=="function"}c.isNodeView=e})(Zf||(Zf={})),Zf.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}}),Zf.registry.register("node",Zf,!0);const by=jg("text");class Cy extends Yd("text",{view:by,attrs:{text:{fontSize:18,fill:"#000000",stroke:null,refX:.5,refY:.5}}},{noText:!0}){}(function(c){class e extends Zf{confirmUpdate(r,a={}){let u=super.confirmUpdate(r,a);return this.hasAction(u,"scale")&&(this.resize(),u=this.removeAction(u,"scale")),u}}c.View=e,e.config({actions:{attrs:["scale"]}}),Zf.registry.register(by,e)})(Cy||(Cy={}));class xy extends hf{constructor(e,t={}){super(),this.length=0,this.comparator=t.comparator||"zIndex",this.clean(),e&&this.reset(e,{silent:!0})}toJSON(){return this.cells.map(e=>e.toJSON())}add(e,t,r){let a,u;typeof t=="number"?(a=t,u=Object.assign({merge:!1},r)):(a=this.length,u=Object.assign({merge:!1},t)),a>this.length&&(a=this.length),a<0&&(a+=this.length+1);const p=Array.isArray(e)?e:[e],b=this.comparator&&typeof t!="number"&&u.sort!==!1,P=this.comparator||null;let I=!1;const z=[],W=[];return p.forEach(ne=>{const Te=this.get(ne);Te?u.merge&&!ne.isSameStore(Te)&&(Te.setProp(ne.getProp(),r),W.push(Te),b&&!I&&(P==null||typeof P=="function"?I=Te.hasChanged():typeof P=="string"?I=Te.hasChanged(P):I=P.some(Ke=>Te.hasChanged(Ke)))):(z.push(ne),this.reference(ne))}),z.length&&(b&&(I=!0),this.cells.splice(a,0,...z),this.length=this.cells.length),I&&this.sort({silent:!0}),u.silent||(z.forEach((ne,Te)=>{const Ke={cell:ne,index:a+Te,options:u};this.trigger("added",Ke),u.dryrun||ne.notify("added",Object.assign({},Ke))}),I&&this.trigger("sorted"),(z.length||W.length)&&this.trigger("updated",{added:z,merged:W,removed:[],options:u})),this}remove(e,t={}){const r=Array.isArray(e)?e:[e],a=this.removeCells(r,t);return!t.silent&&a.length>0&&this.trigger("updated",{options:t,removed:a,added:[],merged:[]}),Array.isArray(e)?a:a[0]}removeCells(e,t){const r=[];for(let a=0;a<e.length;a+=1){const u=this.get(e[a]);if(u==null)continue;const p=this.cells.indexOf(u);this.cells.splice(p,1),this.length-=1,delete this.map[u.id],r.push(u),this.unreference(u),t.dryrun||u.remove(),t.silent||(this.trigger("removed",{cell:u,index:p,options:t}),t.dryrun||u.notify("removed",{cell:u,index:p,options:t}))}return r}reset(e,t={}){const r=this.cells.slice();if(r.forEach(a=>this.unreference(a)),this.clean(),this.add(e,Object.assign({silent:!0},t)),!t.silent){const a=this.cells.slice();this.trigger("reseted",{options:t,previous:r,current:a});const u=[],p=[];a.forEach(b=>{r.some(I=>I.id===b.id)||u.push(b)}),r.forEach(b=>{a.some(I=>I.id===b.id)||p.push(b)}),this.trigger("updated",{options:t,added:u,removed:p,merged:[]})}return this}push(e,t){return this.add(e,this.length,t)}pop(e){const t=this.at(this.length-1);return this.remove(t,e)}unshift(e,t){return this.add(e,0,t)}shift(e){const t=this.at(0);return this.remove(t,e)}get(e){if(e==null)return null;const t=typeof e=="string"||typeof e=="number"?e:e.id;return this.map[t]||null}has(e){return this.get(e)!=null}at(e){return e<0&&(e+=this.length),this.cells[e]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(e){return this.cells.indexOf(e)}toArray(){return this.cells.slice()}sort(e={}){return this.comparator!=null&&(this.cells=Ie(this.cells,this.comparator),e.silent||this.trigger("sorted")),this}clone(){const e=this.constructor;return new e(this.cells.slice(),{comparator:this.comparator})}reference(e){this.map[e.id]=e,e.on("*",this.notifyCellEvent,this)}unreference(e){e.off("*",this.notifyCellEvent,this),delete this.map[e.id]}notifyCellEvent(e,t){const r=t.cell;this.trigger(`cell:${e}`,t),r&&(r.isNode()?this.trigger(`node:${e}`,Object.assign(Object.assign({},t),{node:r})):r.isEdge()&&this.trigger(`edge:${e}`,Object.assign(Object.assign({},t),{edge:r})))}clean(){this.length=0,this.cells=[],this.map={}}}class gf extends hf{constructor(e=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new xy(e),this.setup()}get[Symbol.toStringTag](){return gf.toStringTag}notify(e,t){this.trigger(e,t);const r=this.graph;return r&&(e==="sorted"||e==="reseted"||e==="updated"?r.trigger(`model:${e}`,t):r.trigger(e,t)),this}setup(){const e=this.collection;e.on("sorted",()=>this.notify("sorted",null)),e.on("updated",t=>this.notify("updated",t)),e.on("cell:change:zIndex",()=>this.sortOnChangeZ()),e.on("added",({cell:t})=>{this.onCellAdded(t)}),e.on("removed",t=>{const r=t.cell;this.onCellRemoved(r,t.options),this.notify("cell:removed",t),r.isNode()?this.notify("node:removed",Object.assign(Object.assign({},t),{node:r})):r.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},t),{edge:r}))}),e.on("reseted",t=>{this.onReset(t.current),this.notify("reseted",t)}),e.on("edge:change:source",({edge:t})=>this.onEdgeTerminalChanged(t,"source")),e.on("edge:change:target",({edge:t})=>{this.onEdgeTerminalChanged(t,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(e){const t=e.id;e.isEdge()?(e.updateParent(),this.edges[t]=!0,this.onEdgeTerminalChanged(e,"source"),this.onEdgeTerminalChanged(e,"target")):this.nodes[t]=!0}onCellRemoved(e,t){const r=e.id;if(e.isEdge()){delete this.edges[r];const a=e.getSource(),u=e.getTarget();if(a&&a.cell){const p=this.outgoings[a.cell],b=p?p.indexOf(r):-1;b>=0&&(p.splice(b,1),p.length===0&&delete this.outgoings[a.cell])}if(u&&u.cell){const p=this.incomings[u.cell],b=p?p.indexOf(r):-1;b>=0&&(p.splice(b,1),p.length===0&&delete this.incomings[u.cell])}}else delete this.nodes[r];t.clear||(t.disconnectEdges?this.disconnectConnectedEdges(e,t):this.removeConnectedEdges(e,t)),e.model===this&&(e.model=null)}onReset(e){this.nodes={},this.edges={},this.outgoings={},this.incomings={},e.forEach(t=>this.onCellAdded(t))}onEdgeTerminalChanged(e,t){const r=t==="source"?this.outgoings:this.incomings,a=e.previous(t);if(a&&a.cell){const p=tl.isCell(a.cell)?a.cell.id:a.cell,b=r[p],P=b?b.indexOf(e.id):-1;P>=0&&(b.splice(P,1),b.length===0&&delete r[p])}const u=e.getTerminal(t);if(u&&u.cell){const p=tl.isCell(u.cell)?u.cell.id:u.cell,b=r[p]||[];b.indexOf(e.id)===-1&&b.push(e.id),r[p]=b}}prepareCell(e,t){return!e.model&&(!t||!t.dryrun)&&(e.model=this),e.zIndex==null&&e.setZIndex(this.getMaxZIndex()+1,{silent:!0}),e}resetCells(e,t={}){return e.map(r=>this.prepareCell(r,Object.assign(Object.assign({},t),{dryrun:!0}))),this.collection.reset(e,t),e.map(r=>this.prepareCell(r,{options:t})),this}clear(e={}){const t=this.getCells();if(t.length===0)return this;const r=Object.assign(Object.assign({},e),{clear:!0});return this.batchUpdate("clear",()=>{const a=t.sort((u,p)=>{const b=u.isEdge()?1:2,P=p.isEdge()?1:2;return b-P});for(;a.length>0;){const u=a.shift();u&&u.remove(r)}},r),this}addNode(e,t={}){const r=Qc.isNode(e)?e:this.createNode(e);return this.addCell(r,t),r}createNode(e){return Qc.create(e)}addEdge(e,t={}){const r=Jc.isEdge(e)?e:this.createEdge(e);return this.addCell(r,t),r}createEdge(e){return Jc.create(e)}addCell(e,t={}){return Array.isArray(e)?this.addCells(e,t):(!this.collection.has(e)&&!this.addings.has(e)&&(this.addings.set(e,!0),this.collection.add(this.prepareCell(e,t),t),e.eachChild(r=>this.addCell(r,t)),this.addings.delete(e)),this)}addCells(e,t={}){const r=e.length;if(r===0)return this;const a=Object.assign(Object.assign({},t),{position:r-1,maxPosition:r-1});return this.startBatch("add",Object.assign(Object.assign({},a),{cells:e})),e.forEach(u=>{this.addCell(u,a),a.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},a),{cells:e})),this}removeCell(e,t={}){const r=typeof e=="string"?this.getCell(e):e;return r&&this.has(r)?this.collection.remove(r,t):null}updateCellId(e,t){this.startBatch("update",{id:t}),e.prop("id",t);const r=e.clone({keepId:!0});return this.addCell(r),this.getConnectedEdges(e).forEach(u=>{const p=u.getSourceCell(),b=u.getTargetCell();p===e&&u.setSource(Object.assign(Object.assign({},u.getSource()),{cell:t})),b===e&&u.setTarget(Object.assign(Object.assign({},u.getTarget()),{cell:t}))}),this.removeCell(e),this.stopBatch("update",{id:t}),r}removeCells(e,t={}){return e.length?this.batchUpdate("remove",()=>e.map(r=>this.removeCell(r,t))):[]}removeConnectedEdges(e,t={}){const r=this.getConnectedEdges(e);return r.forEach(a=>{a.remove(t)}),r}disconnectConnectedEdges(e,t={}){const r=typeof e=="string"?e:e.id;this.getConnectedEdges(e).forEach(a=>{const u=a.getSourceCell(),p=a.getTargetCell();u&&u.id===r&&a.setSource({x:0,y:0},t),p&&p.id===r&&a.setTarget({x:0,y:0},t)})}has(e){return this.collection.has(e)}total(){return this.collection.length}indexOf(e){return this.collection.indexOf(e)}getCell(e){return this.collection.get(e)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const e=this.collection.first();return e&&e.getZIndex()||0}getMaxZIndex(){const e=this.collection.last();return e&&e.getZIndex()||0}getCellsFromCache(e){return e?Object.keys(e).map(t=>this.getCell(t)).filter(t=>t!=null):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(e){const t=typeof e=="string"?e:e.id,r=this.outgoings[t];return r?r.map(a=>this.getCell(a)).filter(a=>a&&a.isEdge()):null}getIncomingEdges(e){const t=typeof e=="string"?e:e.id,r=this.incomings[t];return r?r.map(a=>this.getCell(a)).filter(a=>a&&a.isEdge()):null}getConnectedEdges(e,t={}){const r=[],a=typeof e=="string"?this.getCell(e):e;if(a==null)return r;const u={},p=t.indirect;let b=t.incoming,P=t.outgoing;b==null&&P==null&&(b=P=!0);const I=(z,W)=>{const ne=W?this.getOutgoingEdges(z):this.getIncomingEdges(z);if(ne!=null&&ne.forEach(Te=>{u[Te.id]||(r.push(Te),u[Te.id]=!0,p&&(b&&I(Te,!1),P&&I(Te,!0)))}),p&&z.isEdge()){const Te=W?z.getTargetCell():z.getSourceCell();Te&&Te.isEdge()&&(u[Te.id]||(r.push(Te),I(Te,W)))}};if(P&&I(a,!0),b&&I(a,!1),t.deep){const z=a.getDescendants({deep:!0}),W={};z.forEach(Te=>{Te.isNode()&&(W[Te.id]=!0)});const ne=(Te,Ke)=>{const Ue=Ke?this.getOutgoingEdges(Te.id):this.getIncomingEdges(Te.id);Ue!=null&&Ue.forEach(At=>{if(!u[At.id]){const tn=At.getSourceCell(),pn=At.getTargetCell();if(!t.enclosed&&tn&&W[tn.id]&&pn&&W[pn.id])return;r.push(At),u[At.id]=!0}})};z.forEach(Te=>{Te.isEdge()||(P&&ne(Te,!0),b&&ne(Te,!1))})}return r}isBoundary(e,t){const r=typeof e=="string"?this.getCell(e):e,a=t?this.getIncomingEdges(r):this.getOutgoingEdges(r);return a==null||a.length===0}getBoundaryNodes(e){const t=[];return Object.keys(this.nodes).forEach(r=>{if(this.isBoundary(r,e)){const a=this.getCell(r);a&&t.push(a)}}),t}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(e){return this.isBoundary(e,!0)}isLeaf(e){return this.isBoundary(e,!1)}getNeighbors(e,t={}){let r=t.incoming,a=t.outgoing;r==null&&a==null&&(r=a=!0);const p=this.getConnectedEdges(e,t).reduce((b,P)=>{const I=P.hasLoop(t),z=P.getSourceCell(),W=P.getTargetCell();return r&&z&&z.isNode()&&!b[z.id]&&(I||z!==e&&(!t.deep||!z.isDescendantOf(e)))&&(b[z.id]=z),a&&W&&W.isNode()&&!b[W.id]&&(I||W!==e&&(!t.deep||!W.isDescendantOf(e)))&&(b[W.id]=W),b},{});if(e.isEdge()){if(r){const b=e.getSourceCell();b&&b.isNode()&&!p[b.id]&&(p[b.id]=b)}if(a){const b=e.getTargetCell();b&&b.isNode()&&!p[b.id]&&(p[b.id]=b)}}return Object.keys(p).map(b=>p[b])}isNeighbor(e,t,r={}){let a=r.incoming,u=r.outgoing;return a==null&&u==null&&(a=u=!0),this.getConnectedEdges(e,r).some(p=>{const b=p.getSourceCell(),P=p.getTargetCell();return!!(a&&b&&b.id===t.id||u&&P&&P.id===t.id)})}getSuccessors(e,t={}){const r=[];return this.search(e,(a,u)=>{a!==e&&this.matchDistance(u,t.distance)&&r.push(a)},Object.assign(Object.assign({},t),{outgoing:!0})),r}isSuccessor(e,t,r={}){let a=!1;return this.search(e,(u,p)=>{if(u===t&&u!==e&&this.matchDistance(p,r.distance))return a=!0,!1},Object.assign(Object.assign({},r),{outgoing:!0})),a}getPredecessors(e,t={}){const r=[];return this.search(e,(a,u)=>{a!==e&&this.matchDistance(u,t.distance)&&r.push(a)},Object.assign(Object.assign({},t),{incoming:!0})),r}isPredecessor(e,t,r={}){let a=!1;return this.search(e,(u,p)=>{if(u===t&&u!==e&&this.matchDistance(p,r.distance))return a=!0,!1},Object.assign(Object.assign({},r),{incoming:!0})),a}matchDistance(e,t){return t==null?!0:typeof t=="function"?t(e):Array.isArray(t)&&t.includes(e)?!0:e===t}getCommonAncestor(...e){const t=[];return e.forEach(r=>{r&&(Array.isArray(r)?t.push(...r):t.push(r))}),tl.getCommonAncestor(...t)}getSubGraph(e,t={}){const r=[],a={},u=[],p=[],b=P=>{a[P.id]||(r.push(P),a[P.id]=P,P.isEdge()&&p.push(P),P.isNode()&&u.push(P))};return e.forEach(P=>{b(P),t.deep&&P.getDescendants({deep:!0}).forEach(z=>b(z))}),p.forEach(P=>{const I=P.getSourceCell(),z=P.getTargetCell();I&&!a[I.id]&&(r.push(I),a[I.id]=I,I.isNode()&&u.push(I)),z&&!a[z.id]&&(r.push(z),a[z.id]=z,z.isNode()&&u.push(z))}),u.forEach(P=>{this.getConnectedEdges(P,t).forEach(z=>{const W=z.getSourceCell(),ne=z.getTargetCell();!a[z.id]&&W&&a[W.id]&&ne&&a[ne.id]&&(r.push(z),a[z.id]=z)})}),r}cloneSubGraph(e,t={}){const r=this.getSubGraph(e,t);return this.cloneCells(r)}cloneCells(e){return tl.cloneCells(e)}getNodesFromPoint(e,t){const r=typeof e=="number"?{x:e,y:t||0}:e;return this.getNodes().filter(a=>a.getBBox().containsPoint(r))}getNodesInArea(e,t,r,a,u){const p=typeof e=="number"?new Oo(e,t,r,a):Oo.create(e),b=typeof e=="number"?u:t,P=b&&b.strict;return this.getNodes().filter(I=>{const z=I.getBBox();return P?p.containsRect(z):p.isIntersectWithRect(z)})}getEdgesInArea(e,t,r,a,u){const p=typeof e=="number"?new Oo(e,t,r,a):Oo.create(e),b=typeof e=="number"?u:t,P=b&&b.strict;return this.getEdges().filter(I=>{const z=I.getBBox();return z.width===0?z.inflate(1,0):z.height===0&&z.inflate(0,1),P?p.containsRect(z):p.isIntersectWithRect(z)})}getNodesUnderNode(e,t={}){const r=e.getBBox();return(t.by==null||t.by==="bbox"?this.getNodesInArea(r):this.getNodesFromPoint(r[t.by])).filter(u=>e.id!==u.id&&!u.isDescendantOf(e))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(e,t={}){return tl.getCellsBBox(e,t)}search(e,t,r={}){r.breadthFirst?this.breadthFirstSearch(e,t,r):this.depthFirstSearch(e,t,r)}breadthFirstSearch(e,t,r={}){const a=[],u={},p={};for(a.push(e),p[e.id]=0;a.length>0;){const b=a.shift();if(b==null||u[b.id]||(u[b.id]=!0,er(t,this,b,p[b.id])===!1))continue;this.getNeighbors(b,r).forEach(I=>{p[I.id]=p[b.id]+1,a.push(I)})}}depthFirstSearch(e,t,r={}){const a=[],u={},p={};for(a.push(e),p[e.id]=0;a.length>0;){const b=a.pop();if(b==null||u[b.id]||(u[b.id]=!0,er(t,this,b,p[b.id])===!1))continue;const P=this.getNeighbors(b,r),I=a.length;P.forEach(z=>{p[z.id]=p[b.id]+1,a.splice(I,0,z)})}}getShortestPath(e,t,r={}){const a={};this.getEdges().forEach(I=>{const z=I.getSourceCellId(),W=I.getTargetCellId();z&&W&&(a[z]||(a[z]=[]),a[W]||(a[W]=[]),a[z].push(W),r.directed||a[W].push(z))});const u=typeof e=="string"?e:e.id,p=M0.run(a,u,r.weight),b=[];let P=typeof t=="string"?t:t.id;for(p[P]&&b.push(P);P=p[P];)b.unshift(P);return b}translate(e,t,r){return this.getCells().filter(a=>!a.hasParent()).forEach(a=>a.translate(e,t,r)),this}resize(e,t,r){return this.resizeCells(e,t,this.getCells(),r)}resizeCells(e,t,r,a={}){const u=this.getCellsBBox(r);if(u){const p=Math.max(e/u.width,0),b=Math.max(t/u.height,0),P=u.getOrigin();r.forEach(I=>I.scale(p,b,P,a))}return this}toJSON(e={}){return gf.toJSON(this.getCells(),e)}parseJSON(e){return gf.fromJSON(e)}fromJSON(e,t={}){const r=this.parseJSON(e);return this.resetCells(r,t),this}startBatch(e,t={}){return this.batches[e]=(this.batches[e]||0)+1,this.notify("batch:start",{name:e,data:t}),this}stopBatch(e,t={}){return this.batches[e]=(this.batches[e]||0)-1,this.notify("batch:stop",{name:e,data:t}),this}batchUpdate(e,t,r={}){this.startBatch(e,r);const a=t();return this.stopBatch(e,r),a}hasActiveBatch(e=Object.keys(this.batches)){return(Array.isArray(e)?e:[e]).some(r=>this.batches[r]>0)}}(function(c){c.toStringTag=`X6.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&typeof a.addNode=="function"&&typeof a.addEdge=="function"&&a.collection!=null}c.isModel=e})(gf||(gf={})),function(c){function e(r,a={}){return{cells:r.map(u=>u.toJSON(a))}}c.toJSON=e;function t(r){const a=[];return Array.isArray(r)?a.push(...r):(r.cells&&a.push(...r.cells),r.nodes&&r.nodes.forEach(u=>{u.shape==null&&(u.shape="rect"),a.push(u)}),r.edges&&r.edges.forEach(u=>{u.shape==null&&(u.shape="edge"),a.push(u)})),a.map(u=>{const p=u.shape;if(p){if(Qc.registry.exist(p))return Qc.create(u);if(Jc.registry.exist(p))return Jc.create(u)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}c.fromJSON=t}(gf||(gf={}));const Xd=".text-block-content",Ep=jg("text-block");class Hv extends Qc{get content(){return this.getContent()}set content(e){this.setContent(e)}getContent(){return this.store.get("content","")}setContent(e,t={}){this.store.set("content",e,t)}setup(){super.setup(),this.store.on("change:*",e=>{const t=e.key;t==="content"?this.updateContent(this.getContent()):t==="size"&&this.updateSize(this.getSize())}),this.updateSize(this.getSize()),this.updateContent(this.getContent())}updateSize(e){Ne.SUPPORT_FOREIGNOBJECT&&this.setAttrs({foreignObject:Object.assign({},e),[Xd]:{style:Object.assign({},e)}})}updateContent(e){Ne.SUPPORT_FOREIGNOBJECT?this.setAttrs({[Xd]:{html:e?Yr(e):""}}):this.setAttrs({[Xd]:{text:e}})}}(function(c){c.config({type:Ep,view:Ep,markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Ne.SUPPORT_FOREIGNOBJECT?["<foreignObject>",'<body xmlns="http://www.w3.org/1999/xhtml">',`<div class="${Xd.substr(1)}" />`,"</body>","</foreignObject>"].join(""):`<text class="${Xd.substr(1)}"/>`,"</g>"].join(""),attrs:{".":{fill:"#ffffff",stroke:"none"},rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000",fontSize:14,fontFamily:"Arial, helvetica, sans-serif"},body:{style:{background:"transparent",position:"static",margin:0,padding:0}},foreignObject:{style:{overflow:"hidden"}},[Xd]:{refX:.5,refY:.5,yAlign:"middle",xAlign:"middle",style:{textAlign:"center",verticalAlign:"middle",display:"table-cell",padding:"0 5px",margin:0}}}}),Qc.registry.register(Ep,c)})(Hv||(Hv={})),function(c){const e="content";class t extends Zf{confirmUpdate(a,u={}){let p=super.confirmUpdate(a,u);return this.hasAction(p,e)&&(this.updateContent(),p=this.removeAction(p,e)),p}update(a){if(Ne.SUPPORT_FOREIGNOBJECT)super.update(a);else{const u=this.cell,p=Object.assign({},a||u.getAttrs());delete p[Xd],super.update(p),(!a||ra(a,Xd))&&this.updateContent(a)}}updateContent(a){if(Ne.SUPPORT_FOREIGNOBJECT)super.update(a);else{const u=this.cell,p=(a||u.getAttrs())[Xd],b=bv(u.getContent(),u.getSize(),p,{svgDocument:this.graph.view.svg}),P={[Xd]:ea.Z({},p,{text:b})};super.update(P)}}}c.View=t,function(r){r.config({bootstrap:["render",e],actions:Ne.SUPPORT_FOREIGNOBJECT?{}:{size:e,content:e}}),Zf.registry.register(Ep,r)}(t=c.View||(c.View={}))}(Hv||(Hv={}));const VC=pf.define({shape:"empty"});function V1(c,e="body"){return[{tagName:c,selector:e},{tagName:"text",selector:"label"}]}function ph(c,e,t={}){const r={constructorName:c,markup:V1(c,t.selector),attrs:{[c]:Object.assign({},pf.bodyAttr)}};return(t.parent||pf).define(ea.Z(r,e,{shape:c}))}const jx=ph("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}}),vf=Qc.define({shape:"rect-headered",markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}],attrs:{body:Object.assign(Object.assign({},pf.bodyAttr),{refWidth:"100%",refHeight:"100%"}),header:Object.assign(Object.assign({},pf.bodyAttr),{refWidth:"100%",height:30,stroke:"#000000"}),headerText:Object.assign(Object.assign({},pf.labelAttr),{refX:"50%",refY:15,fontSize:16}),bodyText:Object.assign(Object.assign({},pf.labelAttr),{refY2:15})}}),uM=ph("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}}),zh=10,fM=pf.define({shape:"cylinder",overwrite:!0,markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],attrs:{body:Object.assign(Object.assign({},pf.bodyAttr),{lateral:zh}),top:Object.assign(Object.assign({},pf.bodyAttr),{refCx:"50%",refRx:"50%",cy:zh,ry:zh})},attrHooks:{lateral:{set(c,{refBBox:e}){const t=sl(c);t&&(c=parseFloat(c)/100);const r=e.x,a=e.y,u=e.width,p=e.height,b=u/2,P=t?p*c:c,I=.551784,z=I*b,W=I*P,ne=r,Te=r+u/2,Ke=r+u,Ue=a+P,At=Ue-P,tn=a+p-P,pn=a+p;return{d:["M",ne,Ue,"L",ne,tn,"C",r,tn+W,Te-z,pn,Te,pn,"C",Te+z,pn,Ke,tn+W,Ke,tn,"L",Ke,Ue,"C",Ke,Ue-W,Te+z,At,Te,At,"C",Te-z,At,ne,Ue-W,ne,Ue,"Z"].join(" ")}}}},knob:{enabled:!0,position({node:c}){return{x:0,y:c.attr("body/lateral")}},onMouseMove({node:c,data:e,deltaY:t}){if(t!==0){const r=c.getBBox(),a=c.attr("body/lateral");e.round==null&&(e.round=a);const u=0,p=r.height/2,b=Ci(e.round+t,u,p);b!==a&&c.attr({body:{lateral:b},top:{cy:b,ry:b}})}}}}),dM=ph("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});var Rd=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class Kv extends pf{get points(){return this.getPoints()}set points(e){this.setPoints(e)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(e,t){return e==null?this.removePoints():this.setAttrByPath("body/refPoints",Kv.pointsToString(e),t),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}(function(c){function e(t){return typeof t=="string"?t:t.map(r=>Array.isArray(r)?r.join(","):Bn.isPointLike(r)?`${r.x}, ${r.y}`:"").join(" ")}c.pointsToString=e,c.config({propHooks(t){const{points:r}=t,a=Rd(t,["points"]);if(r){const u=e(r);u&&Fo(a,"attrs/body/refPoints",u)}return a}})})(Kv||(Kv={}));const hM=ph("polygon",{},{parent:Kv}),pM=ph("polyline",{},{parent:Kv});var $x=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};const Wx=pf.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(c){const{path:e}=c,t=$x(c,["path"]);return e&&Fo(t,"attrs/body/refD",e),t}});var jC=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};const gM=pf.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},Ne.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:Jr.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},pf.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(c){const{text:e}=c,t=jC(c,["text"]);return e&&Fo(t,"attrs/label/text",e),t},attrHooks:{text:{set(c,{cell:e,view:t,refBBox:r,elem:a,attrs:u}){if(a instanceof HTMLElement)a.textContent=c;else{const p=u.style||{},b={text:c,width:-5,height:"100%"},P=Object.assign({textVerticalAnchor:"middle"},p),I=Dd.presets.textWrap;return er(I.set,this,b,{cell:e,view:t,elem:a,refBBox:r,attrs:P}),{fill:p.color||null}}},position(c,{refBBox:e,elem:t}){if(t instanceof SVGElement)return e.getCenter()}}}}),Ey=ph("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:$g()},{selector:"image"}),vM=ph("image-bordered",{markup:[{tagName:"rect",selector:"background",attrs:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#ffffff"},border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},image:{refWidth:-1,refHeight:-1,x:.5,y:.5}},propHooks:$g()}),$C=ph("image-embedded",{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}],attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"}},propHooks:$g()}),mM=ph("image-inscribed",{propHooks:$g(),markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#ffffff"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"}}}),wy=Jc.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}}),j1=Jc.define({shape:"shadow-edge",markup:[{tagName:"path",selector:"shadow",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}}}}),yM=Jc.define({shape:"double-edge",markup:[{tagName:"path",selector:"outline",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#dddddd",strokeWidth:4,strokeLinejoin:"round",targetMarker:{tagName:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}});class Uh extends pf{get html(){return this.getHTML()}set html(e){this.setHTML(e)}getHTML(){return this.store.get("html")}setHTML(e,t={}){return e==null?this.removeHTML(t):this.store.set("html",e,t),this}removeHTML(e={}){return this.store.remove("html",e)}}(function(c){class e extends Zf{init(){super.init(),this.cell.on("change:*",()=>{this.graph.hook.shouldUpdateHTMLComponent(this.cell)&&this.renderHTMLComponent()})}confirmUpdate(r){const a=super.confirmUpdate(r);return this.handleAction(a,e.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const r=this.selectors&&this.selectors.foContent;if(r){const a=this.$(r).empty(),u=this.graph.hook.getHTMLComponent(this.cell);u&&(typeof u=="string"?a.html(u):a.append(u))}}}c.View=e,function(t){t.action="html",t.config({bootstrap:[t.action],actions:{html:t.action}}),Zf.registry.register("html-view",t)}(e=c.View||(c.View={}))})(Uh||(Uh={})),function(c){c.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},Fl.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),Qc.registry.register("html",c)}(Uh||(Uh={})),function(c){c.componentRegistry=ru.create({type:"html componnet"})}(Uh||(Uh={}));var Sy=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class Vh extends Ym{constructor(e){super(),this.delay=10,this.throttle=2,this.threshold=5,this.changeCount=0,this.timestamp=0,this.options=Object.assign(Object.assign({},Vh.defaultOptions),e),this.graph.model.on("cell:change:*",this.onModelChanged,this)}get graph(){return this.options.graph}onModelChanged(){if(this.disabled)return;const t=(new Date().getTime()-this.timestamp)/1e3;t>this.delay||this.changeCount>=this.threshold&&t>this.throttle?(this.save(),this.reset()):this.changeCount+=1}save(){this.trigger("save")}reset(){this.changeCount=0,this.timestamp=new Date().getTime()}dispose(){this.graph.model.off("cell:change:*",this.onModelChanged,this)}}Sy([Ym.dispose()],Vh.prototype,"dispose",null),function(c){c.defaultOptions={delay:10,throttle:2,threshold:5}}(Vh||(Vh={}));class wc extends Nd{constructor(e){super(),this.graph=e,this.init()}get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}init(){}}var Hx=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class Qd extends Nl{constructor(e){super(),this.graph=e;const{selectors:t,fragment:r}=Fl.parseJSONMarkup(Qd.markup);this.background=t.background,this.grid=t.grid,this.svg=t.svg,this.defs=t.defs,this.viewport=t.viewport,this.primer=t.primer,this.stage=t.stage,this.decorator=t.decorator,this.overlay=t.overlay,this.container=this.options.container,this.restore=Qd.snapshoot(this.container),this.$(this.container).addClass(this.prefixClassName("graph")).append(r),this.delegateEvents()}get model(){return this.graph.model}get options(){return this.graph.options}delegateEvents(){const e=this.constructor;return super.delegateEvents(e.events),this}guard(e,t){return e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t)?!0:e.data&&e.data.guarded!==void 0?e.data.guarded:!(t&&t.cell&&tl.isCell(t.cell)||this.svg===e.target||this.container===e.target||L().contains(this.svg,e.target))}findView(e){return this.graph.renderer.findViewByElem(e)}onDblClick(e){this.options.preventDefaultDblClick&&e.preventDefault();const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const a=this.graph.snapToGrid(t.clientX,t.clientY);r?r.onDblClick(t,a.x,a.y):this.graph.trigger("blank:dblclick",{e:t,x:a.x,y:a.y})}onClick(e){if(this.getMouseMovedCount(e)<=this.options.clickThreshold){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const a=this.graph.snapToGrid(t.clientX,t.clientY);r?r.onClick(t,a.x,a.y):this.graph.trigger("blank:click",{e:t,x:a.x,y:a.y})}}isPreventDefaultContextMenu(e,t){let r=this.options.preventDefaultContextMenu;return typeof r=="function"&&(r=er(r,this.graph,{view:t})),r}onContextMenu(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.isPreventDefaultContextMenu(t,r)&&e.preventDefault(),this.guard(t,r))return;const a=this.graph.snapToGrid(t.clientX,t.clientY);r?r.onContextMenu(t,a.x,a.y):this.graph.trigger("blank:contextmenu",{e:t,x:a.x,y:a.y})}delegateDragEvents(e,t){e.data==null&&(e.data={}),this.setEventData(e,{currentView:t||null,mouseMovedCount:0,startPosition:{x:e.clientX,y:e.clientY}});const r=this.constructor;this.delegateDocumentEvents(r.documentEvents,e.data),this.undelegateEvents()}getMouseMovedCount(e){return this.getEventData(e).mouseMovedCount||0}onMouseDown(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;this.options.preventDefaultMouseDown&&t.preventDefault();const a=this.graph.snapToGrid(t.clientX,t.clientY);r?r.onMouseDown(t,a.x,a.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(t.type)&&t.preventDefault(),this.graph.trigger("blank:mousedown",{e:t,x:a.x,y:a.y})),this.delegateDragEvents(t,r)}onMouseMove(e){const t=this.getEventData(e),r=t.startPosition;if(r&&r.x===e.clientX&&r.y===e.clientY||(t.mouseMovedCount==null&&(t.mouseMovedCount=0),t.mouseMovedCount+=1,t.mouseMovedCount<=this.options.moveThreshold))return;const u=this.normalizeEvent(e),p=this.graph.snapToGrid(u.clientX,u.clientY),b=t.currentView;b?b.onMouseMove(u,p.x,p.y):this.graph.trigger("blank:mousemove",{e:u,x:p.x,y:p.y}),this.setEventData(u,t)}onMouseUp(e){this.undelegateDocumentEvents();const t=this.normalizeEvent(e),r=this.graph.snapToGrid(t.clientX,t.clientY),u=this.getEventData(e).currentView;u?u.onMouseUp(t,r.x,r.y):this.graph.trigger("blank:mouseup",{e:t,x:r.x,y:r.y}),e.isPropagationStopped()||this.onClick(L().Event(e,{type:"click",data:e.data})),e.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(!this.guard(t,r))if(r)r.onMouseOver(t);else{if(this.container===t.target)return;this.graph.trigger("blank:mouseover",{e:t})}}onMouseOut(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(!this.guard(t,r))if(r)r.onMouseOut(t);else{if(this.container===t.target)return;this.graph.trigger("blank:mouseout",{e:t})}}onMouseEnter(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const a=this.graph.renderer.findViewByElem(t.relatedTarget);if(r){if(a===r)return;r.onMouseEnter(t)}else{if(a)return;this.graph.trigger("graph:mouseenter",{e:t})}}onMouseLeave(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const a=this.graph.renderer.findViewByElem(t.relatedTarget);if(r){if(a===r)return;r.onMouseLeave(t)}else{if(a)return;this.graph.trigger("graph:mouseleave",{e:t})}}onMouseWheel(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const a=t.originalEvent,u=this.graph.snapToGrid(a.clientX,a.clientY),p=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail));r?r.onMouseWheel(t,u.x,u.y,p):this.graph.trigger("blank:mousewheel",{e:t,delta:p,x:u.x,y:u.y})}onCustomEvent(e){const t=e.currentTarget,r=t.getAttribute("event")||t.getAttribute("data-event");if(r){const a=this.findView(t);if(a){const u=this.normalizeEvent(e);if(this.guard(u,a))return;const p=this.graph.snapToGrid(u.clientX,u.clientY);a.onCustomEvent(u,r,p.x,p.y)}}}handleMagnetEvent(e,t){const r=e.currentTarget,a=r.getAttribute("magnet");if(a&&a.toLowerCase()!=="false"){const u=this.findView(r);if(u){const p=this.normalizeEvent(e);if(this.guard(p,u))return;const b=this.graph.snapToGrid(p.clientX,p.clientY);er(t,this.graph,u,p,r,b.x,b.y)}}}onMagnetMouseDown(e){this.handleMagnetEvent(e,(t,r,a,u,p)=>{t.onMagnetMouseDown(r,a,u,p)})}onMagnetDblClick(e){this.handleMagnetEvent(e,(t,r,a,u,p)=>{t.onMagnetDblClick(r,a,u,p)})}onMagnetContextMenu(e){const t=this.normalizeEvent(e),r=this.findView(t.target);this.isPreventDefaultContextMenu(t,r)&&t.preventDefault(),this.handleMagnetEvent(t,(a,u,p,b,P)=>{a.onMagnetContextMenu(u,p,b,P)})}onLabelMouseDown(e){const t=e.currentTarget,r=this.findView(t);if(r){const a=this.normalizeEvent(e);if(this.guard(a,r))return;const u=this.graph.snapToGrid(a.clientX,a.clientY);r.onLabelMouseDown(a,u.x,u.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}Hx([Nl.dispose()],Qd.prototype,"dispose",null),function(c){const e=`${Kf.prefixCls}-graph`;c.markup=[{ns:Jr.xhtml,tagName:"div",selector:"background",className:`${e}-background`},{ns:Jr.xhtml,tagName:"div",selector:"grid",className:`${e}-grid`},{ns:Jr.svg,tagName:"svg",selector:"svg",className:`${e}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":Jr.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${e}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${e}-svg-primer`},{tagName:"g",selector:"stage",className:`${e}-svg-stage`},{tagName:"g",selector:"decorator",className:`${e}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${e}-svg-overlay`}]}]}];function t(r){const a=r.cloneNode();return r.childNodes.forEach(u=>a.appendChild(u)),()=>{for(qh(r);r.attributes.length>0;)r.removeAttribute(r.attributes[0].name);for(let u=0,p=a.attributes.length;u<p;u+=1){const b=a.attributes[u];r.setAttribute(b.name,b.value)}a.childNodes.forEach(u=>r.appendChild(u))}}c.snapshoot=t}(Qd||(Qd={})),function(c){const e=Kf.prefixCls;c.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${e}-cell`]:"onMouseEnter",[`mouseleave  .${e}-cell`]:"onMouseLeave",[`mouseenter  .${e}-cell-tools`]:"onMouseEnter",[`mouseleave  .${e}-cell-tools`]:"onMouseLeave",[`mousedown   .${e}-cell [event]`]:"onCustomEvent",[`touchstart  .${e}-cell [event]`]:"onCustomEvent",[`mousedown   .${e}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${e}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${e}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${e}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${e}-cell image`]:"onImageDragStart",[`mousedown   .${e}-edge .${e}-edge-label`]:"onLabelMouseDown",[`touchstart  .${e}-edge .${e}-edge-label`]:"onLabelMouseDown"},c.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}}(Qd||(Qd={}));var Id;(function(c){function e(t,r){return(a,u,p)=>{const b=p.value;p.value=function(...P){if(this.scroller.widget==null){const z=`Shoule enable scroller to use method '${u}'`;if(t!==!1)throw console.error(z),new Error(z);return r!==!1&&console.warn(z),this}return b.call(this,...P)}}}c.checkScroller=e})(Id||(Id={}));const WC=`.x6-graph {
  position: relative;
  outline: none;
  touch-action: none;
}
.x6-graph-background,
.x6-graph-grid,
.x6-graph-svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-background-stage,
.x6-graph-grid-stage,
.x6-graph-svg-stage {
  user-select: none;
}
.x6-graph.x6-graph-pannable {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph.x6-graph-panning {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-node {
  cursor: move;
  /* stylelint-disable-next-line */
}
.x6-node.x6-node-immovable {
  cursor: default;
}
.x6-node * {
  -webkit-user-drag: none;
}
.x6-node .scalable * {
  vector-effect: non-scaling-stroke;
}
.x6-node [magnet='true'] {
  cursor: crosshair;
  transition: opacity 0.3s;
}
.x6-node [magnet='true']:hover {
  opacity: 0.7;
}
.x6-node foreignObject {
  display: block;
  overflow: visible;
  background-color: transparent;
}
.x6-node foreignObject > body {
  position: static;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: visible;
  background-color: transparent;
}
.x6-edge .source-marker,
.x6-edge .target-marker {
  vector-effect: non-scaling-stroke;
}
.x6-edge .connection {
  stroke-linejoin: round;
  fill: none;
}
.x6-edge .connection-wrap {
  cursor: move;
  opacity: 0;
  fill: none;
  stroke: #000;
  stroke-width: 15;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.x6-edge .connection-wrap:hover {
  opacity: 0.4;
  stroke-opacity: 0.4;
}
.x6-edge .vertices {
  cursor: move;
  opacity: 0;
}
.x6-edge .vertices .vertex {
  fill: #1abc9c;
}
.x6-edge .vertices .vertex :hover {
  fill: #34495e;
  stroke: none;
}
.x6-edge .vertices .vertex-remove {
  cursor: pointer;
  fill: #fff;
}
.x6-edge .vertices .vertex-remove-area {
  cursor: pointer;
  opacity: 0.1;
}
.x6-edge .vertices .vertex-group:hover .vertex-remove-area {
  opacity: 1;
}
.x6-edge .arrowheads {
  cursor: move;
  opacity: 0;
}
.x6-edge .arrowheads .arrowhead {
  fill: #1abc9c;
}
.x6-edge .arrowheads .arrowhead :hover {
  fill: #f39c12;
  stroke: none;
}
.x6-edge .tools {
  cursor: pointer;
  opacity: 0;
}
.x6-edge .tools .tool-options {
  display: none;
}
.x6-edge .tools .tool-remove circle {
  fill: #f00;
}
.x6-edge .tools .tool-remove path {
  fill: #fff;
}
.x6-edge:hover .vertices,
.x6-edge:hover .arrowheads,
.x6-edge:hover .tools {
  opacity: 1;
}
.x6-highlight-opacity {
  opacity: 0.3;
}
@keyframes halo-pie-visibility {
  0% {
    visibility: hidden;
  }
  100% {
    visibility: visible;
  }
}
@keyframes halo-pie-opening {
  0% {
    transform: scale(0.4) rotate(-20deg);
  }
  100% {
    transform: scale(1) rotate(0);
  }
}
.x6-widget-handle {
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  background-size: 20px 20px;
  cursor: pointer;
  user-select: none;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle.hidden {
  display: none;
}
.x6-widget-handle-selected {
  background-color: rgba(0, 0, 0, 0.1);
  border-radius: 3px;
}
.x6-widget-handle-remove {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%20M4.152%2C14.598C1.273%2C11.719%2C1.273%2C7.035%2C4.153%2C4.154%20c2.88-2.88%2C7.563-2.88%2C10.443%2C0c2.881%2C2.88%2C2.881%2C7.562%2C0%2C10.443C11.716%2C17.477%2C7.032%2C17.477%2C4.152%2C14.598L4.152%2C14.598z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: pointer;
}
.x6-widget-handle-remove:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-rotate {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-rotate:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-resize {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%236A6C8A%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
  cursor: se-resize;
}
.x6-widget-handle-resize:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%23FD6EB6%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-clone {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.85%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-clone:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.849%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%20M15.172%2C16.328%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-link {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
.x6-widget-handle-link:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-fork {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%236A6C8A%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20C7.552%2C9.82%2C7.602%2C9.589%2C7.602%2C9.344c0-0.25-0.051-0.487-0.129-0.71l4.097-2.364c0.393%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.014%2C0.149%2C0.021%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.982%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.014%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-fork:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FD6EB6%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20c0.075-0.22%2C0.125-0.452%2C0.125-0.697c0-0.25-0.051-0.487-0.129-0.71l4.097-2.365c0.394%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.015%2C0.148%2C0.022%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.981%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.013%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-direction {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%236A6C8A%3Bstroke%3A%236A6C8A%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%236A6C8A%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-direction:hover {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FD6EB6%3Bstroke%3A%23FD6EB6%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%23FD6EB6%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-surround .x6-widget-handle-animate .x6-widget-handle {
  transition: background-size 80ms, width 80ms, height 80ms, top 150ms, left 150ms, bottom 150ms, right 150ms;
}
.x6-widget-handle-surround .x6-widget-handle-pos-se {
  right: -25px;
  bottom: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-nw {
  top: -21px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-n {
  top: -22px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-e {
  top: -webkit-calc(40%);
  top: calc(50% - 10px);
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-ne {
  top: -21px;
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-w {
  top: 50%;
  left: -25px;
  margin-top: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-sw {
  bottom: -25px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-s {
  bottom: -24px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle {
  width: 15px;
  height: 15px;
  font-size: 15px;
  background-size: 15px 15px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-se {
  right: -19px;
  bottom: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-nw {
  top: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-n {
  top: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-e {
  top: -webkit-calc(42%);
  top: calc(50% - 8px);
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-ne {
  top: -19px;
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-w {
  left: -19px;
  margin-top: -8px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-sw {
  bottom: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-s {
  bottom: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle {
  width: 10px;
  height: 10px;
  font-size: 10px;
  background-size: 10px 10px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-se {
  right: -15px;
  bottom: -13px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-nw {
  top: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-n {
  top: -13px;
  margin-left: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-e {
  top: -webkit-calc(45%);
  top: calc(50% - 5px);
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-ne {
  top: -13px;
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-w {
  left: -15px;
  margin-top: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-sw {
  bottom: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-s {
  bottom: -13px;
  margin-left: -5px;
}
.x6-widget-handle-toolbar {
  position: absolute;
  top: -50px;
  display: table-row;
  padding: 7px 5px;
}
.x6-widget-handle-toolbar::after {
  position: absolute;
  top: 100%;
  left: 10px;
  width: 0;
  height: 0;
  margin-top: 4px;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
  content: '';
}
.x6-widget-handle-toolbar .x6-widget-handle {
  position: relative;
  display: table-cell;
  min-width: 20px;
  margin: 0 2px;
  background-position: 3px 3px;
  background-size: 16px 16px;
}
.x6-widget-handle-toolbar .x6-widget-handle::after {
  position: absolute;
  bottom: -11px;
  width: 100%;
  content: '';
}
.x6-widget-handle-pie {
  position: absolute;
  top: -webkit-calc(0%);
  top: calc(50% - 50px);
  right: -50px;
  z-index: 1;
  display: none;
  width: 100px;
  height: 100px;
  margin: -2px -2px 0 0;
  border-radius: 50%;
  cursor: default;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie .x6-widget-handle {
  width: 1px;
  height: auto;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie-slice-svg {
  width: 100%;
  height: 100%;
  overflow: visible !important;
}
.x6-widget-handle-pie-slice-img,
.x6-widget-handle-pie-slice-txt {
  display: none;
  pointer-events: none;
}
.x6-widget-handle-pie[data-pie-toggle-position='e'] {
  top: calc(50% - 50px);
  right: -50px;
  left: auto;
}
.x6-widget-handle-pie[data-pie-toggle-position='w'] {
  top: calc(50% - 50px);
  right: auto;
  left: -52px;
}
.x6-widget-handle-pie[data-pie-toggle-position='n'] {
  top: -50px;
  right: auto;
  bottom: auto;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie[data-pie-toggle-position='s'] {
  top: auto;
  right: auto;
  bottom: -52px;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie-opened {
  display: block;
  animation: halo-pie-visibility 0.1s, halo-pie-opening 0.1s;
  animation-timing-function: step-end, ease;
  animation-delay: 0s, 0.1s;
}
.x6-widget-handle-pie-toggle {
  position: absolute;
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  z-index: 2;
  display: block;
  box-sizing: border-box;
  width: 30px;
  height: 30px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 20px 20px;
  border-radius: 50%;
  cursor: pointer;
  user-select: none;
  pointer-events: visiblePainted;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle-pie-toggle-pos-e {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  bottom: auto;
  left: auto;
}
.x6-widget-handle-pie-toggle-pos-w {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: auto;
  bottom: auto;
  left: -15px;
}
.x6-widget-handle-pie-toggle-pos-n {
  top: -15px;
  right: auto;
  bottom: auto;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-pos-s {
  top: auto;
  right: auto;
  bottom: -15px;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-opened {
  transition: 0.1s background-image;
}
.x6-widget-handle-toolbar {
  position: static;
  display: inline-block;
  margin-top: -50px;
  margin-left: 45px;
  white-space: nowrap;
  vertical-align: top;
  background-color: #f5f5f5;
  border-bottom: 3px solid #333;
  border-radius: 5px;
  box-shadow: 0 1px 2px #222;
}
.x6-widget-handle-toolbar::after {
  top: -12px;
  left: 55px;
  margin-top: 0;
  border-top: 6px solid #333;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
}
.x6-widget-handle-toolbar .x6-widget-handle {
  display: inline-block;
  vertical-align: top;
}
.x6-widget-handle-toolbar .x6-widget-handle:hover::after {
  border-bottom: 4px solid #fc6cb8;
}
.x6-widget-handle-toolbar .x6-widget-handle-rotate {
  position: absolute;
  top: 100%;
  right: 100%;
  margin-top: 3px;
  margin-right: 6px;
}
.x6-widget-handle-toolbar .x6-widget-handle-remove:hover::after,
.x6-widget-handle-toolbar .x6-widget-handle-rotate:hover::after {
  border-bottom: none;
}
.x6-widget-handle-toolbar .x6-widget-handle + .x6-widget-handle {
  margin-left: 4px;
}
.x6-widget-handle-pie {
  box-sizing: content-box;
  background-color: #f5f5f5;
  border: 2px solid #404040;
}
.x6-widget-handle-pie-slice {
  fill: transparent;
  stroke: #e9e9e9;
  stroke-width: 1;
}
.x6-widget-handle-pie-slice:hover {
  fill: #fff;
}
.x6-widget-handle-pie-slice-img {
  display: block;
}
.x6-widget-handle-selected .x6-widget-handle-pie-slice {
  fill: #fff;
}
.x6-widget-handle-pie-toggle {
  background-color: #f6f6f6;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  background-size: 16px 16px;
  border: 2px solid #3b425f;
}
.x6-widget-handle-pie-toggle:hover {
  background-color: #fff;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  border-color: #fd6eb6;
}
.x6-widget-handle-pie-toggle-opened {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%236a6c8a%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-pie-toggle-opened:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%23FD6EB6%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-dnd {
  position: absolute;
  top: -10000px;
  left: -10000px;
  z-index: 999999;
  display: none;
  cursor: move;
  opacity: 0.7;
  pointer-events: 'cursor';
}
.x6-widget-dnd.dragging {
  display: inline-block;
}
.x6-widget-dnd.dragging * {
  pointer-events: none !important;
}
.x6-widget-dnd .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-halo {
  position: absolute;
  pointer-events: none;
}
.x6-widget-halo-content {
  position: absolute;
  top: 100%;
  padding: 6px;
  font-size: 10px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-halo-handles + .x6-widget-halo-content {
  right: -20px;
  left: -20px;
  margin-top: 30px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 25px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 20px;
}
.x6-widget-halo-handles.x6-widget-handle-pie + .x6-widget-halo-content {
  right: 0;
  left: 0;
  margin-top: 10px;
}
.x6-widget-halo-content {
  color: #fff;
  background-color: #6a6b8a;
}
.x6-widget-halo.type-node .x6-widget-handle-toolbar .x6-widget-handle-remove {
  position: absolute;
  right: 100%;
  bottom: 100%;
  margin-right: 6px;
  margin-bottom: 3px;
}
.x6-widget-halo.type-edge .x6-widget-handle-surround .x6-widget-handle-remove {
  background-color: #fff;
  border-radius: 50%;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar {
  margin-top: -60px;
  margin-left: -18px;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar::after {
  top: -22px;
  left: -9px;
}
.x6-widget-minimap {
  position: relative;
  display: table-cell;
  box-sizing: border-box;
  overflow: hidden;
  text-align: center;
  vertical-align: middle;
  background-color: #fff;
  user-select: none;
}
.x6-widget-minimap .x6-graph {
  display: inline-block;
  box-shadow: 0 0 4px 0 #eee;
  cursor: pointer;
}
.x6-widget-minimap .x6-graph > svg {
  pointer-events: none;
  shape-rendering: optimizeSpeed;
}
.x6-widget-minimap .x6-graph .x6-node * {
  /* stylelint-disable-next-line */
  vector-effect: initial;
}
.x6-widget-minimap-viewport {
  position: absolute;
  box-sizing: content-box !important;
  margin: -2px 0 0 -2px;
  border: 2px solid #31d0c6;
  cursor: move;
}
.x6-widget-minimap-viewport-zoom {
  position: absolute;
  right: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 12px;
  height: 12px;
  margin: 0 -6px -6px 0;
  background-color: #fff;
  border: 2px solid #31d0c6;
  border-radius: 50%;
  cursor: nwse-resize;
}
.x6-graph-scroller {
  position: relative;
  box-sizing: border-box;
  overflow: scroll;
  outline: none;
}
.x6-graph-scroller-content {
  position: relative;
}
.x6-graph-scroller-background {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-scroller .x6-graph {
  position: absolute;
  display: inline-block;
  margin: 0;
  box-shadow: none;
}
.x6-graph-scroller .x6-graph > svg {
  display: block;
}
.x6-graph-scroller.x6-graph-scroller-paged .x6-graph {
  box-shadow: 0 0 4px 0 #eee;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='false'] {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='true'] {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-graph-pagebreak {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-pagebreak-vertical {
  position: absolute;
  top: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 1px;
  border-left: 1px dashed #bdbdbd;
}
.x6-graph-pagebreak-horizontal {
  position: absolute;
  right: 0;
  left: 0;
  box-sizing: border-box;
  height: 1px;
  border-top: 1px dashed #bdbdbd;
}
.x6-widget-selection {
  position: absolute;
  display: none;
  width: 0;
  height: 0;
  touch-action: none;
}
.x6-widget-selection-rubberband {
  display: block;
  overflow: visible;
  opacity: 0.3;
}
.x6-widget-selection-selected {
  display: block;
}
.x6-widget-selection-box {
  cursor: move;
}
.x6-widget-selection-inner[data-selection-length='0'],
.x6-widget-selection-inner[data-selection-length='1'] {
  display: none;
}
.x6-widget-selection-content {
  position: absolute;
  top: 100%;
  right: -20px;
  left: -20px;
  margin-top: 30px;
  padding: 6px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-selection-content:empty {
  display: none;
}
.x6-widget-selection-rubberband {
  background-color: #3498db;
  border: 2px solid #2980b9;
}
.x6-widget-selection-box {
  box-sizing: content-box !important;
  margin-top: -4px;
  margin-left: -4px;
  padding-right: 4px;
  padding-bottom: 4px;
  border: 2px dashed #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-inner {
  box-sizing: content-box !important;
  margin-top: -8px;
  margin-left: -8px;
  padding-right: 12px;
  padding-bottom: 12px;
  border: 2px solid #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-content {
  color: #fff;
  font-size: 10px;
  background-color: #6a6b8a;
}
.x6-widget-snapline {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  pointer-events: none;
}
.x6-widget-snapline-vertical,
.x6-widget-snapline-horizontal {
  stroke: #2ecc71;
  stroke-width: 1px;
}
.x6-widget-stencil {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-widget-stencil::after {
  position: absolute;
  top: 0;
  display: block;
  width: 100%;
  height: 20px;
  padding: 8px 0;
  line-height: 20px;
  text-align: center;
  opacity: 0;
  transition: top 0.1s linear, opacity 0.1s linear;
  content: ' ';
  pointer-events: none;
}
.x6-widget-stencil-content {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  height: auto;
  overflow-x: hidden;
  overflow-y: auto;
}
.x6-widget-stencil .x6-node [magnet]:not([magnet='passive']) {
  pointer-events: none;
}
.x6-widget-stencil-group {
  padding: 0;
  padding-bottom: 8px;
  overflow: hidden;
  user-select: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  padding-bottom: 0;
}
.x6-widget-stencil-group-title {
  position: relative;
  margin-top: 0;
  margin-bottom: 0;
  padding: 4px;
  cursor: pointer;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  user-select: none;
}
.x6-widget-stencil .unmatched {
  opacity: 0.3;
}
.x6-widget-stencil .x6-node.unmatched {
  display: none;
}
.x6-widget-stencil-group.unmatched {
  display: none;
}
.x6-widget-stencil-search-text {
  position: relative;
  z-index: 1;
  box-sizing: border-box;
  width: 100%;
  height: 30px;
  max-height: 30px;
  line-height: 30px;
  outline: 0;
}
.x6-widget-stencil.not-found::after {
  opacity: 1;
  content: attr(data-not-found-text);
}
.x6-widget-stencil.not-found.searchable::after {
  top: 30px;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 50px;
}
.x6-widget-stencil {
  color: #333;
  background: #f5f5f5;
}
.x6-widget-stencil-content {
  position: absolute;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-content {
  top: 32px;
}
.x6-widget-stencil.searchable > .x6-widget-stencil-content {
  top: 80px;
}
.x6-widget-stencil.not-found::after {
  position: absolute;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 80px;
}
.x6-widget-stencil.not-found.searchable::after {
  top: 60px;
}
.x6-widget-stencil-group {
  height: auto;
  margin-bottom: 1px;
  padding: 0;
  transition: none;
}
.x6-widget-stencil-group .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  max-height: 31px;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  position: relative;
  left: 0;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  padding: 0 5px 0 8px;
  color: #666;
  font-weight: 700;
  font-size: 12px;
  line-height: 32px;
  cursor: default;
  transition: all 0.3;
}
.x6-widget-stencil-title:hover,
.x6-widget-stencil-group > .x6-widget-stencil-group-title:hover {
  color: #444;
}
.x6-widget-stencil-title {
  background: #e9e9e9;
}
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  background: #ededed;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title {
  padding-left: 32px;
  cursor: pointer;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  position: absolute;
  top: 6px;
  left: 8px;
  display: block;
  width: 18px;
  height: 18px;
  margin: 0;
  padding: 0;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  border: none;
  content: ' ';
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48L2c+PC9zdmc+');
  opacity: 0.4;
  transition: all 0.3s;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48cGF0aCBkPSJNOC44MTcgNS42MjN2Ni43NTZhLjU1OC41NTggMCAwMDEuMTE2IDBWNS42MjNhLjU1OC41NTggMCAxMC0xLjExNiAweiIvPjwvZz48L3N2Zz4=');
  opacity: 0.4;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil input[type='search'] {
  -webkit-appearance: textfield;
}
.x6-widget-stencil input[type='search']::-webkit-search-cancel-button,
.x6-widget-stencil input[type='search']::-webkit-search-decoration {
  -webkit-appearance: none;
}
.x6-widget-stencil-search-text {
  display: block;
  width: 90%;
  margin: 8px 5%;
  padding-left: 8px;
  color: #333;
  background: #fff;
  border: 1px solid #e9e9e9;
  border-radius: 12px;
  outline: 0;
}
.x6-widget-stencil-search-text:focus {
  outline: 0;
}
.x6-widget-stencil::after {
  color: #808080;
  font-weight: 600;
  font-size: 12px;
  background: 0 0;
}
.x6-widget-transform {
  position: absolute;
  box-sizing: content-box !important;
  margin: -5px 0 0 -5px;
  padding: 4px;
  border: 1px dashed #000;
  border-radius: 5px;
  user-select: none;
  pointer-events: none;
}
.x6-widget-transform > div {
  position: absolute;
  box-sizing: border-box;
  background-color: #fff;
  border: 1px solid #000;
  transition: background-color 0.2s;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-transform > div:hover {
  background-color: #d3d3d3;
}
.x6-widget-transform-cursor-n {
  cursor: n-resize;
}
.x6-widget-transform-cursor-s {
  cursor: s-resize;
}
.x6-widget-transform-cursor-e {
  cursor: e-resize;
}
.x6-widget-transform-cursor-w {
  cursor: w-resize;
}
.x6-widget-transform-cursor-ne {
  cursor: ne-resize;
}
.x6-widget-transform-cursor-nw {
  cursor: nw-resize;
}
.x6-widget-transform-cursor-se {
  cursor: se-resize;
}
.x6-widget-transform-cursor-sw {
  cursor: sw-resize;
}
.x6-widget-transform-resize {
  width: 10px;
  height: 10px;
  border-radius: 6px;
}
.x6-widget-transform-resize[data-position='top-left'] {
  top: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='top-right'] {
  top: -5px;
  right: -5px;
}
.x6-widget-transform-resize[data-position='bottom-left'] {
  bottom: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='bottom-right'] {
  right: -5px;
  bottom: -5px;
}
.x6-widget-transform-resize[data-position='top'] {
  top: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='bottom'] {
  bottom: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='left'] {
  top: 50%;
  left: -5px;
  margin-top: -5px;
}
.x6-widget-transform-resize[data-position='right'] {
  top: 50%;
  right: -5px;
  margin-top: -5px;
}
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {
  display: none;
}
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {
  display: none;
}
.x6-widget-transform.no-resize .x6-widget-transform-resize {
  display: none;
}
.x6-widget-transform-rotate {
  top: -20px;
  left: -20px;
  width: 12px;
  height: 12px;
  border-radius: 6px;
  cursor: crosshair;
}
.x6-widget-transform.no-rotate .x6-widget-transform-rotate {
  display: none;
}
.x6-widget-transform-active {
  border-color: transparent;
  pointer-events: all;
}
.x6-widget-transform-active > div {
  display: none;
}
.x6-widget-transform-active > .x6-widget-transform-active-handle {
  display: block;
  background-color: #808080;
}
.x6-widget-knob {
  position: absolute;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  margin-top: -8px;
  margin-left: -8px;
  cursor: pointer;
  user-select: none;
}
.x6-widget-knob::before,
.x6-widget-knob::after {
  position: absolute;
  transform: rotate(45deg);
  content: '';
}
.x6-widget-knob::before {
  top: 4px;
  left: 4px;
  box-sizing: border-box;
  width: 8px;
  height: 8px;
  background-color: #fff;
}
.x6-widget-knob::after {
  top: 5px;
  left: 5px;
  box-sizing: border-box;
  width: 6px;
  height: 6px;
  background-color: #fca000;
}
.x6-graph-print {
  position: relative;
}
.x6-graph-print .x6-graph-print-ready {
  display: none;
}
.x6-graph-print .x6-graph-print-preview {
  overflow: hidden !important;
  background: #fff !important;
}
@media print {
  html,
  html > body.x6-graph-printing {
    position: relative !important;
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  html > body.x6-graph-printing > * {
    display: none !important;
  }
  html > body.x6-graph-printing > .x6-graph-print {
    display: block !important;
  }
  .x6-graph-print {
    top: 0 !important;
    left: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    page-break-after: always;
    background: #fff !important;
  }
  .x6-graph-print .x6-graph-print-ready {
    display: none;
  }
}
.x6-cell-tool-editor {
  position: relative;
  display: inline-block;
  min-height: 1em;
  margin: 0;
  padding: 0;
  line-height: 1;
  white-space: normal;
  text-align: center;
  vertical-align: top;
  overflow-wrap: normal;
  outline: none;
  transform-origin: 0 0;
  -webkit-user-drag: none;
}
.x6-edge-tool-editor {
  border: 1px solid #275fc5;
  border-radius: 2px;
}
`;var Kx=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class ng extends wc{init(){Kf.autoInsertCSS&&ng.ensure()}dispose(){ng.clean()}}Kx([ng.dispose()],ng.prototype,"dispose",null),function(c){let e,t=0;function r(){if(t+=1,!(t>1)&&!Ne.isApplyingHMR()){e=document.createElement("style"),e.setAttribute("type","text/css"),e.textContent=WC;const u=document.querySelector("head");u&&u.insertBefore(e,u.firstChild)}}c.ensure=r;function a(){t-=1,!(t>0)&&(e&&e.parentNode&&e.parentNode.removeChild(e),e=null)}c.clean=a}(ng||(ng={}));var Yx=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class Wg{get handleClassName(){return Sc.handle}get pie(){return Object.assign(Object.assign({},Wg.defaultPieOptions),this.handleOptions.pie)}initHandles(){if(this.handles=[],this.handleOptions.handles&&this.handleOptions.handles.forEach(e=>this.addHandle(e)),this.handleOptions.type==="pie"){if(this.pie.toggles){const e=Sc.pieToggle;this.$pieToggles={},this.pie.toggles.forEach(t=>{const r=this.$("<div/>");this.applyAttrs(r,t.attrs),r.addClass(e).addClass(`${e}-pos-${t.position||"e"}`).attr("data-name",t.name).appendTo(this.container),this.$pieToggles[t.name]=r})}this.setPieIcons()}if(this.$handleContainer){const e=this.handleOptions.type||"surround";this.$handleContainer.addClass(Sc.wrap).addClass(Sc.animate).addClass(`${Sc.handle}-${e}`)}this.delegateEvents({[`mousedown .${Sc.handle}`]:"onHandleMouseDown",[`touchstart .${Sc.handle}`]:"onHandleMouseDown",[`mousedown .${Sc.pieToggle}`]:"onPieToggleMouseDown",[`touchstart .${Sc.pieToggle}`]:"onPieToggleMouseDown"})}onHandleMouseDown(e){const t=this.$(e.currentTarget).closest(`.${Sc.handle}`).attr("data-action");t&&(e.preventDefault(),e.stopPropagation(),this.setEventData(e,{action:t,clientX:e.clientX,clientY:e.clientY,startX:e.clientX,startY:e.clientY}),e.type==="mousedown"&&e.button===2?this.triggerHandleAction(t,"contextmenu",e):(this.triggerHandleAction(t,"mousedown",e),this.delegateDocumentEvents({mousemove:"onHandleMouseMove",touchmove:"onHandleMouseMove",mouseup:"onHandleMouseUp",touchend:"onHandleMouseUp",touchcancel:"onHandleMouseUp"},e.data)))}onHandleMouseMove(e){const r=this.getEventData(e).action;r&&this.triggerHandleAction(r,"mousemove",e)}onHandleMouseUp(e){const r=this.getEventData(e).action;r&&(this.triggerHandleAction(r,"mouseup",e),this.undelegateDocumentEvents())}triggerHandleAction(e,t,r,a){r.preventDefault(),r.stopPropagation();const u=this.normalizeEvent(r),p=this.getEventData(u),b=this.graph.snapToGrid(u.clientX,u.clientY),P=this.graph.snapToGrid(p.clientX,p.clientY),I=b.x-P.x,z=b.y-P.y;this.trigger(`action:${e}:${t}`,Object.assign({e:u,dx:I,dy:z,x:b.x,y:b.y,offsetX:r.clientX-p.startX,offsetY:r.clientY-p.startY},a)),p.clientX=r.clientX,p.clientY=r.clientY}onPieToggleMouseDown(e){e.stopPropagation();const t=this.$(e.target).closest(`.${Sc.pieToggle}`).attr("data-name");this.isOpen(t)||this.isOpen()&&this.toggleState(),this.toggleState(t)}setPieIcons(){this.handleOptions.type==="pie"&&this.$handleContainer.find(`.${Sc.handle}`).each((e,t)=>{const r=this.$(t),a=r.attr("data-action"),u=Sc.pieSlice,p=this.getHandle(a);if(!p||!p.icon){const b=window.getComputedStyle(t,":before").getPropertyValue("content");if(b&&b!=="none"){const I=r.find(`.${u}-txt`);I.length&&ma.create(I[0]).text(b.replace(/['"]/g,""))}const P=r.css("background-image");if(P){const I=P.match(/url\(['"]?([^'"]+)['"]?\)/);if(I){const z=I[1],W=r.find(`.${u}-img`);W.length>0&&ma.create(W[0]).attr("xlink:href",z)}}}})}getHandleIdx(e){return this.handles.findIndex(t=>t.name===e)}hasHandle(e){return this.getHandleIdx(e)>=0}getHandle(e){return this.handles.find(t=>t.name===e)}renderHandle(e){const t=this.$("<div/>").addClass(`${Sc.handle} ${Sc.handle}-${e.name}`).attr("data-action",e.name).prop("draggable",!1);if(this.handleOptions.type==="pie"){const r=this.getHandleIdx(e.name),a=this.pie,u=a.outerRadius,p=a.innerRadius,b=(u+p)/2,P=new Bn(u,u),I=gl.toRad(a.sliceAngle),z=r*I+gl.toRad(a.startAngle),W=z+I,ne=Ai(p,u,z,W),Te=ma.create("svg").addClass(`${Sc.pieSlice}-svg`),Ke=ma.create("path").addClass(Sc.pieSlice).attr("d",ne).translate(u,u),Ue=Bn.fromPolar(b,-z-I/2,P).toJSON(),At=a.iconSize,tn=ma.create("image").attr(Ue).addClass(`${Sc.pieSlice}-img`);Ue.y=Ue.y+At-2;const pn=ma.create("text",{"font-size":At}).attr(Ue).addClass(`${Sc.pieSlice}-txt`);tn.attr({width:At,height:At}),tn.translate(-At/2,-At/2),pn.translate(-At/2,-At/2),Te.append([Ke,tn,pn]),t.append(Te.node)}else t.addClass(`${Sc.handle}-pos-${e.position}`),e.content&&(typeof e.content=="string"?t.html(e.content):t.append(e.content));return this.updateHandleIcon(t,e.icon),this.applyAttrs(t,e.attrs),t}addHandle(e){if(!this.hasHandle(e.name)){this.handles.push(e);const t=e.events;t&&Object.keys(t).forEach(r=>{const a=t[r],u=`action:${e.name}:${r}`;typeof a=="string"?this.on(u,this[a],this):this.on(u,a)}),this.$handleContainer&&this.$handleContainer.append(this.renderHandle(e))}return this}addHandles(e){return e.forEach(t=>this.addHandle(t)),this}removeHandles(){for(;this.handles.length;)this.removeHandle(this.handles[0].name);return this}removeHandle(e){const t=this.getHandleIdx(e),r=this.handles[t];return r&&(r.events&&Object.keys(r.events).forEach(a=>{this.off(`action:${e}:${a}`)}),this.getHandleElem(e).remove(),this.handles.splice(t,1)),this}changeHandle(e,t){const r=this.getHandle(e);return r&&(this.removeHandle(e),this.addHandle(Object.assign(Object.assign({},r),t))),this}toggleHandle(e,t){const r=this.getHandle(e);if(r){const a=this.getHandleElem(e),u=`${Sc.handle}-selected`;t===void 0&&(t=!a.hasClass(u)),a.toggleClass(u,t);const p=t?r.iconSelected:r.icon;p&&this.updateHandleIcon(a,p)}return this}selectHandle(e){return this.toggleHandle(e,!0)}deselectHandle(e){return this.toggleHandle(e,!1)}deselectAllHandles(){return this.handles.forEach(e=>this.deselectHandle(e.name)),this}getHandleElem(e){return this.$handleContainer.find(`.${Sc.handle}-${e}`)}updateHandleIcon(e,t){if(this.handleOptions.type==="pie"){const r=e.find(`.${Sc.pieSliceImg}`);this.$(r[0]).attr("xlink:href",t||"")}else e.css("background-image",t?`url(${t})`:"")}isRendered(){return this.$handleContainer!=null}isOpen(e){return this.isRendered()?e?this.$pieToggles[e].hasClass(Sc.pieToggleOpened):this.$handleContainer.hasClass(`${Sc.pieOpended}`):!1}toggleState(e){if(this.isRendered()){const t=this.$handleContainer;if(Object.keys(this.$pieToggles).forEach(r=>{this.$pieToggles[r].removeClass(Sc.pieToggleOpened)}),this.isOpen())this.trigger("pie:close",{name:e}),t.removeClass(Sc.pieOpended);else{if(this.trigger("pie:open",{name:e}),e){const r=this.pie.toggles,a=r&&r.find(u=>u.name===e);a&&t.attr({"data-pie-toggle-name":a.name,"data-pie-toggle-position":a.position}),this.$pieToggles[e].addClass(Sc.pieToggleOpened)}t.addClass(Sc.pieOpended)}}}applyAttrs(e,t){if(t){const r=Nl.$(e);Object.keys(t).forEach(a=>{const u=r.find(a).addBack().filter(a),p=t[a],{class:b}=p,P=Yx(p,["class"]);b&&u.addClass(b),u.attr(P)})}}}(function(c){c.defaultPieOptions={innerRadius:20,outerRadius:50,sliceAngle:45,startAngle:0,iconSize:14,toggles:[{name:"default",position:"e"}]}})(Wg||(Wg={}));var Sc;(function(c){c.handle=Nl.prototype.prefixClassName("widget-handle"),c.wrap=`${c.handle}-wrap`,c.animate=`${c.handle}-animate`,c.pieOpended=`${c.handle}-pie-opened`,c.pieToggle=`${c.handle}-pie-toggle`,c.pieToggleOpened=`${c.handle}-pie-toggle-opened`,c.pieSlice=`${c.handle}-pie-slice`,c.pieSliceImg=`${c.handle}-pie-slice-img`})(Sc||(Sc={}));var Hg=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u},Xx=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class R0 extends Nl{constructor(e){super();const t=e,{view:r,cell:a,node:u,edge:p,graph:b}=t,P=Xx(t,["view","cell","node","edge","graph"]);r?(this.view=r,this.cell=r.cell,this.graph=r.graph,this.model=this.graph.model):(a||p||u)&&b&&(this.cell=u||p||a,this.view=b.renderer.findViewByCell(this.cell),this.graph=b,this.model=this.graph.model);const I=this.constructor;e.clearAll!==!1&&I.removeInstances(this.graph),I.register(this),this.init(P)}static ensureCache(){return this.instanceCache.has(this)||this.instanceCache.set(this,{}),this.instanceCache.get(this)}static register(e,t){t==null&&(t=e.graph);const r=this.ensureCache();let a=r[t.view.cid];a==null&&(a=r[t.view.cid]={}),a[e.cid]=e}static unregister(e,t){t==null&&(t=e.graph);const r=this.ensureCache();r[t.view.cid]&&delete r[t.view.cid][e.cid]}static removeInstances(e){const r=this.ensureCache()[e.view.cid];r&&Object.keys(r).forEach(a=>{const u=r[a];u&&u.remove()})}static getInstances(e){return this.ensureCache()[e.view.cid]||{}}init(e){}render(){return this}startListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.on("blank:mousedown",this.remove,this)}stopListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.off("blank:mousedown",this.remove,this)}remove(){return this.stopListening(),this.constructor.unregister(this),super.remove()}dispose(){this.remove()}}R0.instanceCache=new WeakMap,Hg([Nl.dispose()],R0.prototype,"dispose",null);class HC extends R0{get node(){return this.cell}get metadata(){const e=this.cell.prop("knob");return Array.isArray(e)?this.options.index!=null?e[this.options.index]:null:e}init(e){this.options=Object.assign({},e),this.render(),this.startListening()}startListening(){this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.model.on("reseted",this.remove,this),this.node.on("removed",this.remove,this),this.view.on("node:resize:mousedown",this.onTransform,this),this.view.on("node:rotate:mousedown",this.onTransform,this),this.view.on("node:resize:mouseup",this.onTransformed,this),this.view.on("node:rotate:mouseup",this.onTransformed,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.model.off("reseted",this.remove,this),this.node.off("removed",this.remove,this),this.view.off("node:resize:mousedown",this.onTransform,this),this.view.off("node:rotate:mousedown",this.onTransform,this),this.view.off("node:resize:mouseup",this.onTransformed,this),this.view.off("node:rotate:mouseup",this.onTransformed,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}render(){return this.container=document.createElement("div"),Qt(this.container,this.prefixClassName("widget-knob")),this.options.className&&Qt(this.container,this.options.className),this.view.addClass(Kg.KNOB),this.graph.container.appendChild(this.container),this.update(),this}remove(){return this.view.removeClass(Kg.KNOB),super.remove()}update(){if(this.metadata){const{update:e,position:t}=this.metadata,r={knob:this,cell:this.cell,node:this.node};if(t){const a=t.call(this.graph,Object.assign({},r));if(a){const u=this.graph.matrix(),p=this.node.getBBox(),b=gl.normalize(this.node.getAngle()),P=Bn.create(a);b!==0&&P.rotate(-b,{x:p.width/2,y:p.height/2}),P.translate(p).scale(u.a,u.d).translate(u.e,u.f),this.container.style.left=`${P.x}px`,this.container.style.top=`${P.y}px`}}e&&e.call(this.graph,Object.assign({},r))}}hide(){this.container.style.display="none"}show(){this.container.style.display=""}onTransform(){this.hide()}onTransformed(){this.show()}onKnobMouseDown({knob:e}){this.cid!==e.cid&&this.hide()}onKnobMouseUp(){this.show()}notify(e,t){if(this.view){const r=this.view.normalizeEvent(t),a=this.graph.snapToGrid(r.clientX,r.clientY);this.view.notify(`cell:${e}`,{e:r,view:this.view,node:this.node,cell:this.cell,x:a.x,y:a.y,knob:this}),this.cell.isNode()?this.view.notify(`node:${e}`,{e:r,view:this.view,node:this.node,cell:this.cell,x:a.x,y:a.y,knob:this}):this.cell.isEdge()&&this.view.notify(`edge:${e}`,{e:r,view:this.view,edge:this.cell,cell:this.cell,x:a.x,y:a.y,knob:this})}}onMouseDown(e){e.stopPropagation(),this.setEventData(e,{knobbing:!1,originX:e.clientX,originY:e.clientY,clientX:e.clientX,clientY:e.clientY}),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Kg.documentEvents,e.data),this.metadata&&this.metadata.onMouseDown&&this.metadata.onMouseDown.call(this.graph,{e,data:this.getEventData(e),knob:this,cell:this.cell,node:this.node}),this.notify("knob:mousedown",e)}onMouseMove(e){const t=this.getEventData(e),r=this.graph.findViewByCell(this.node);if(t.knobbing||(t.knobbing=!0,r&&(r.addClass(Kg.KNOBBING),this.notify("knob",e)),this.model.startBatch("knob",{cid:this.cid})),t.clientX=e.clientX,t.clientY=e.clientY,this.metadata&&this.metadata.onMouseMove){const a=this.graph.matrix(),u=(e.clientX-t.originX)/a.a,p=(e.clientY-t.originY)/a.d,b=this.node.getAngle(),P=new Bn(u,p).rotate(b);this.metadata.onMouseMove.call(this.graph,{e,data:t,deltaX:P.x,deltaY:P.y,knob:this,cell:this.cell,node:this.node})}this.notify("knobbing",e),this.notify("knob:mousemove",e)}onMouseUp(e){this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const t=this.getEventData(e),r=this.graph.findViewByCell(this.node);t.knobbing&&(r&&r.removeClass(Kg.KNOBBING),this.metadata&&this.metadata.onMouseUp&&this.metadata.onMouseUp.call(this.graph,{e,data:t,knob:this,cell:this.cell,node:this.node}),this.model.stopBatch("knob",{cid:this.cid}),this.notify("knobbed",e)),this.notify("knob:mouseup",e)}}var Kg;(function(c){c.KNOB="has-widget-knob",c.KNOBBING="node-knobbing",c.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"}})(Kg||(Kg={}));var Qx=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u},Yv;(function(c){c.root="widget-minimap",c.viewport=`${c.root}-viewport`,c.zoom=`${c.viewport}-zoom`})(Yv||(Yv={}));class $1 extends Nl{constructor(e){super(),this.options=Object.assign(Object.assign({},Xv.defaultOptions),e),this.updateViewport=za.Z(this.updateViewport.bind(this),0),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(Yv.root));const t=document.createElement("div");this.container.appendChild(t),this.$viewport=this.$("<div>").addClass(this.prefixClassName(Yv.viewport)),this.options.scalable&&(this.zoomHandle=this.$("<div>").addClass(this.prefixClassName(Yv.zoom)).appendTo(this.$viewport).get(0)),this.$container.append(this.$viewport).css({width:this.options.width,height:this.options.height,padding:this.options.padding}),this.options.container&&this.options.container.appendChild(this.container),this.sourceGraph=this.graph;const r=Object.assign(Object.assign({},this.options.graphOptions),{container:t,model:this.sourceGraph.model,frozen:!0,async:this.sourceGraph.isAsync(),interacting:!1,grid:!1,background:!1,rotating:!1,resizing:!1,embedding:!1,selecting:!1,snapline:!1,clipboard:!1,history:!1,scroller:!1});this.targetGraph=this.options.createGraph?this.options.createGraph(r):new Hl(r),this.targetGraph.renderer.unfreeze(),this.updatePaper(this.sourceGraph.options.width,this.sourceGraph.options.height),this.startListening()}get graph(){return this.options.graph}get scroller(){return this.graph.scroller.widget}get graphContainer(){return this.scroller?this.scroller.container:this.graph.container}get $graphContainer(){return this.scroller?this.scroller.$container:this.$(this.graph.container)}startListening(){this.scroller?this.$graphContainer.on(`scroll${this.getEventNamespace()}`,this.updateViewport):(this.sourceGraph.on("translate",this.onTransform,this),this.sourceGraph.on("scale",this.onTransform,this),this.sourceGraph.on("model:updated",this.onModelUpdated,this)),this.sourceGraph.on("resize",this.updatePaper,this),this.delegateEvents({mousedown:"startAction",touchstart:"startAction",[`mousedown .${this.prefixClassName("graph")}`]:"scrollTo",[`touchstart .${this.prefixClassName("graph")}`]:"scrollTo"})}stopListening(){this.scroller?this.$graphContainer.off(this.getEventNamespace()):(this.sourceGraph.off("translate",this.onTransform,this),this.sourceGraph.off("scale",this.onTransform,this),this.sourceGraph.off("model:updated",this.onModelUpdated,this)),this.sourceGraph.off("resize",this.updatePaper,this),this.undelegateEvents()}onRemove(){this.targetGraph.view.remove(),this.stopListening(),this.targetGraph.dispose()}onTransform(e){(e.ui||this.targetGraphTransforming)&&this.updateViewport()}onModelUpdated(){this.targetGraph.zoomToFit()}updatePaper(e,t){let r,a;typeof e=="object"?(r=e.width,a=e.height):(r=e,a=t);const u=this.sourceGraph.options,p=this.sourceGraph.transform.getScale(),b=this.options.width-2*this.options.padding,P=this.options.height-2*this.options.padding;r/=p.sx,a/=p.sy,this.ratio=Math.min(b/r,P/a);const I=this.ratio,z=u.x*I/p.sx,W=u.y*I/p.sy;return r*=I,a*=I,this.targetGraph.resizeGraph(r,a),this.targetGraph.translate(z,W),this.scroller?this.targetGraph.scale(I,I):this.targetGraph.zoomToFit(),this.updateViewport(),this}updateViewport(){const e=this.sourceGraph.transform.getScale(),t=this.targetGraph.transform.getScale();let r=null;this.scroller?r=this.scroller.clientToLocalPoint(0,0):r=this.graph.graphToLocal(0,0);const a=this.$(this.targetGraph.container).position(),u=this.targetGraph.translate();u.ty=u.ty||0,this.geometry={top:a.top+r.y*t.sy+u.ty,left:a.left+r.x*t.sx+u.tx,width:this.$graphContainer.innerWidth()*t.sx/e.sx,height:this.$graphContainer.innerHeight()*t.sy/e.sy},this.$viewport.css(this.geometry)}startAction(e){const t=this.normalizeEvent(e),r=t.target===this.zoomHandle?"zooming":"panning",{tx:a,ty:u}=this.sourceGraph.translate(),p={action:r,clientX:t.clientX,clientY:t.clientY,scrollLeft:this.graphContainer.scrollLeft,scrollTop:this.graphContainer.scrollTop,zoom:this.sourceGraph.zoom(),scale:this.sourceGraph.transform.getScale(),geometry:this.geometry,translateX:a,translateY:u};this.targetGraphTransforming=!0,this.delegateDocumentEvents(Xv.documentEvents,p)}doAction(e){const t=this.normalizeEvent(e),r=t.clientX,a=t.clientY,u=t.data;switch(u.action){case"panning":{const p=this.sourceGraph.transform.getScale(),b=(r-u.clientX)*p.sx,P=(a-u.clientY)*p.sy;this.scroller?(this.graphContainer.scrollLeft=u.scrollLeft+b/this.ratio,this.graphContainer.scrollTop=u.scrollTop+P/this.ratio):this.sourceGraph.translate(u.translateX-b/this.ratio,u.translateY-P/this.ratio);break}case"zooming":{const p=u.scale,b=u.geometry,P=1+(u.clientX-r)/b.width/p.sx;u.frameId&&cancelAnimationFrame(u.frameId),u.frameId=requestAnimationFrame(()=>{this.sourceGraph.zoom(P*u.zoom,{absolute:!0,minScale:this.options.minScale,maxScale:this.options.maxScale})});break}default:break}}stopAction(){this.undelegateDocumentEvents(),this.targetGraphTransforming=!1}scrollTo(e){const t=this.normalizeEvent(e);let r,a;const u=this.targetGraph.translate();if(u.ty=u.ty||0,t.offsetX==null){const P=this.$(this.targetGraph.container).offset();r=t.pageX-P.left,a=t.pageY-P.top}else r=t.offsetX,a=t.offsetY;const p=(r-u.tx)/this.ratio,b=(a-u.ty)/this.ratio;this.sourceGraph.centerPoint(p,b)}dispose(){this.remove()}}Qx([Nl.dispose()],$1.prototype,"dispose",null);var Xv;(function(c){c.defaultOptions={width:300,height:200,padding:10,scalable:!0,minScale:.01,maxScale:16,graphOptions:{},createGraph:e=>new Hl(e)},c.documentEvents={mousemove:"doAction",touchmove:"doAction",mouseup:"stopAction",touchend:"stopAction"}})(Xv||(Xv={}));var KC=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u},W1=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class My extends Nl{constructor(e){super();const{graph:t}=e,r=W1(e,["graph"]);this.graph=t,this.options=Object.assign({tolerance:10},r),this.offset={x:0,y:0},this.render(),this.parseFilter(),this.disabled||this.startListening()}get model(){return this.graph.model}get containerClassName(){return this.prefixClassName("widget-snapline")}get verticalClassName(){return`${this.containerClassName}-vertical`}get horizontalClassName(){return`${this.containerClassName}-horizontal`}get disabled(){return this.options.enabled!==!0||this.graph.options.snapline.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.snapline.enabled=!0,this.startListening())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.snapline.enabled=!1,this.stopListening())}setFilter(e){this.options.filter=e,this.parseFilter()}render(){const e=this.containerWrapper=new ma("svg"),t=this.horizontal=new ma("line"),r=this.vertical=new ma("line");e.addClass(this.containerClassName),t.addClass(this.horizontalClassName),r.addClass(this.verticalClassName),e.setAttribute("width","100%"),e.setAttribute("height","100%"),t.setAttribute("display","none"),r.setAttribute("display","none"),e.append([t,r]),this.options.className&&e.addClass(this.options.className),this.container=this.containerWrapper.node}startListening(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}stopListening(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}parseFilter(){this.filterShapes={},this.filterCells={},this.filterFunction=null;const e=this.options.filter;Array.isArray(e)?e.forEach(t=>{typeof t=="string"?this.filterShapes[t]=!0:this.filterCells[t.id]=!0}):typeof e=="function"&&(this.filterFunction=e)}onBatchStop({name:e,data:t}){e==="resize"&&this.snapOnResizing(t.cell,t)}captureCursorOffset({view:e,x:t,y:r}){const a=e.getDelegatedView();if(a&&this.isNodeMovable(a)){const u=e.cell.getPosition();this.offset={x:t-u.x,y:r-u.y}}}isNodeMovable(e){return e&&e.cell.isNode()&&e.can("nodeMovable")}snapOnResizing(e,t){if(this.options.resizing&&!t.snapped&&t.ui&&t.direction&&t.trueDirection){const r=this.graph.renderer.findViewByCell(e);if(r&&r.cell.isNode()){const a=e.getBBox(),u=a.bbox(e.getAngle()),p=u.getTopLeft(),b=u.getBottomRight(),P=gl.normalize(e.getAngle()),I=this.options.tolerance||0;let z,W,ne,Te,Ke,Ue;const At={vertical:0,horizontal:0},tn=t.direction,pn=t.trueDirection,Kt=t.relativeDirection;pn.indexOf("right")!==-1?At.vertical=b.x:At.vertical=p.x,pn.indexOf("bottom")!==-1?At.horizontal=b.y:At.horizontal=p.y,this.model.getNodes().some(Yo=>{if(this.isIgnored(e,Yo))return!1;const ks=Yo.getBBox().bbox(Yo.getAngle()),Fs=ks.getTopLeft(),Ei=ks.getBottomRight(),Po={vertical:[Fs.x,Ei.x],horizontal:[Fs.y,Ei.y]},ys={};return Object.keys(Po).forEach(yc=>{const zc=yc,Uu=Po[zc].map(wu=>({position:wu,distance:Math.abs(wu-At[zc])})).filter(wu=>wu.distance<=I);ys[zc]=Ie(Uu,wu=>wu.distance)}),z==null&&ys.vertical.length>0&&(z=ys.vertical[0].position,W=Math.min(u.y,ks.y),ne=Math.max(b.y,Ei.y)-W),Te==null&&ys.horizontal.length>0&&(Te=ys.horizontal[0].position,Ke=Math.min(u.x,ks.x),Ue=Math.max(b.x,Ei.x)-Ke),z!=null&&Te!=null}),this.hide();let zn=0,gr=0;(Te!=null||z!=null)&&(z!=null&&(zn=pn.indexOf("right")!==-1?z-b.x:p.x-z),Te!=null&&(gr=pn.indexOf("bottom")!==-1?Te-b.y:p.y-Te));let ii=0,si=0;if(P%90===0)P===90||P===270?(ii=gr,si=zn):(ii=zn,si=gr);else{const Yo=P>=0&&P<90?1:P>=90&&P<180?4:P>=180&&P<270?3:2;Te!=null&&z!=null&&(zn<gr?(gr=0,Te=void 0):(zn=0,z=void 0));const ks=gl.toRad(P%90);zn&&(ii=Yo===3?zn/Math.cos(ks):zn/Math.sin(ks)),gr&&(si=Yo===3?gr/Math.cos(ks):gr/Math.sin(ks));const Fs=Yo===1||Yo===3;switch(Kt){case"top":case"bottom":si=gr?gr/(Fs?Math.cos(ks):Math.sin(ks)):zn/(Fs?Math.sin(ks):Math.cos(ks));break;case"left":case"right":ii=zn?zn/(Fs?Math.cos(ks):Math.sin(ks)):gr/(Fs?Math.sin(ks):Math.cos(ks));break;default:break}}switch(Kt){case"top":case"bottom":ii=0;break;case"left":case"right":si=0;break;default:break}const Ri=this.graph.getGridSize();let zo=Math.max(a.width+ii,Ri),ro=Math.max(a.height+si,Ri);t.minWidth&&t.minWidth>Ri&&(zo=Math.max(zo,t.minWidth)),t.minHeight&&t.minHeight>Ri&&(ro=Math.max(ro,t.minHeight)),t.maxWidth&&(zo=Math.min(zo,t.maxWidth)),t.maxHeight&&(ro=Math.min(ro,t.maxHeight)),t.preserveAspectRatio&&(si<ii?ro=zo*(a.height/a.width):zo=ro*(a.width/a.height)),(zo!==a.width||ro!==a.height)&&(e.resize(zo,ro,{direction:tn,relativeDirection:Kt,trueDirection:pn,snapped:!0,snaplines:this.cid,restrict:this.graph.hook.getRestrictArea(r)}),ne&&(ne+=ro-a.height),Ue&&(Ue+=zo-a.width));const po=e.getBBox().bbox(P);z&&Math.abs(po.x-z)>1&&Math.abs(po.width+po.x-z)>1&&(z=void 0),Te&&Math.abs(po.y-Te)>1&&Math.abs(po.height+po.y-Te)>1&&(Te=void 0),this.update({verticalLeft:z,verticalTop:W,verticalHeight:ne,horizontalTop:Te,horizontalLeft:Ke,horizontalWidth:Ue})}}}snapOnMoving({view:e,e:t,x:r,y:a}){const u=e.getEventData(t).delegatedView||e;if(!this.isNodeMovable(u))return;const p=u.cell,b=p.getSize(),P=p.getPosition(),I=new Oo(r-this.offset.x,a-this.offset.y,b.width,b.height),z=p.getAngle(),W=I.getCenter(),ne=I.bbox(z),Te=ne.getTopLeft(),Ke=ne.getBottomRight(),Ue=this.options.tolerance||0;let At,tn,pn,Kt,zn,gr,ii=0,si=0;if(this.model.getNodes().some(Ri=>{if(this.isIgnored(p,Ri))return!1;const zo=Ri.getBBox().bbox(Ri.getAngle()),ro=zo.getCenter(),po=zo.getTopLeft(),Yo=zo.getBottomRight();return At==null&&(Math.abs(ro.x-W.x)<Ue?(At=ro.x,ii=.5):Math.abs(po.x-Te.x)<Ue?(At=po.x,ii=0):Math.abs(po.x-Ke.x)<Ue?(At=po.x,ii=1):Math.abs(Yo.x-Ke.x)<Ue?(At=Yo.x,ii=1):Math.abs(Yo.x-Te.x)<Ue&&(At=Yo.x),At!=null&&(tn=Math.min(ne.y,zo.y),pn=Math.max(Ke.y,Yo.y)-tn)),Kt==null&&(Math.abs(ro.y-W.y)<Ue?(Kt=ro.y,si=.5):Math.abs(po.y-Te.y)<Ue?Kt=po.y:Math.abs(po.y-Ke.y)<Ue?(Kt=po.y,si=1):Math.abs(Yo.y-Ke.y)<Ue?(Kt=Yo.y,si=1):Math.abs(Yo.y-Te.y)<Ue&&(Kt=Yo.y),Kt!=null&&(zn=Math.min(ne.x,zo.x),gr=Math.max(Ke.x,Yo.x)-zn)),At!=null&&Kt!=null}),this.hide(),Kt!=null||At!=null){Kt!=null&&(ne.y=Kt-si*ne.height),At!=null&&(ne.x=At-ii*ne.width);const Ri=ne.getCenter(),zo=Ri.x-I.width/2,ro=Ri.y-I.height/2,po=zo-P.x,Yo=ro-P.y;(po!==0||Yo!==0)&&(p.translate(po,Yo,{snapped:!0,restrict:this.graph.hook.getRestrictArea(u)}),gr&&(gr+=po),pn&&(pn+=Yo)),this.update({verticalLeft:At,verticalTop:tn,verticalHeight:pn,horizontalTop:Kt,horizontalLeft:zn,horizontalWidth:gr})}}isIgnored(e,t){return t.id===e.id||t.isDescendantOf(e)||this.filterShapes[t.shape]||this.filterCells[t.id]||this.filterFunction&&er(this.filterFunction,this.graph,t)}update(e){if(e.horizontalTop){const t=this.graph.localToGraph(new Bn(e.horizontalLeft,e.horizontalTop)),r=this.graph.localToGraph(new Bn(e.horizontalLeft+e.horizontalWidth,e.horizontalTop));this.horizontal.setAttributes({x1:this.options.sharp?`${t.x}`:"0",y1:`${t.y}`,x2:this.options.sharp?`${r.x}`:"100%",y2:`${r.y}`,display:"inherit"})}else this.horizontal.setAttribute("display","none");if(e.verticalLeft){const t=this.graph.localToGraph(new Bn(e.verticalLeft,e.verticalTop)),r=this.graph.localToGraph(new Bn(e.verticalLeft,e.verticalTop+e.verticalHeight));this.vertical.setAttributes({x1:`${t.x}`,y1:this.options.sharp?`${t.y}`:"0",x2:`${r.x}`,y2:this.options.sharp?`${r.y}`:"100%",display:"inherit"})}else this.vertical.setAttribute("display","none");this.show()}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}show(){return this.resetTimer(),this.container.parentNode==null&&this.graph.container.appendChild(this.container),this}hide(){this.resetTimer(),this.vertical.setAttribute("display","none"),this.horizontal.setAttribute("display","none");const e=this.options.clean,t=typeof e=="number"?e:e!==!1?3e3:0;return t>0&&(this.timer=window.setTimeout(()=>{this.container.parentNode!==null&&this.unmount()},t)),this}onRemove(){this.stopListening(),this.hide()}dispose(){this.remove()}}KC([Nl.dispose()],My.prototype,"dispose",null);var H1=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class $l extends wc{init(){this.resetUpdates(),this.startListening(),this.resetViews(this.model.getCells()),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()}startListening(){this.model.on("sorted",this.onSortModel,this),this.model.on("reseted",this.onModelReseted,this),this.model.on("batch:stop",this.onBatchStop,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("sorted",this.onSortModel,this),this.model.off("reseted",this.onModelReseted,this),this.model.off("batch:stop",this.onBatchStop,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}resetUpdates(){this.updates={priorities:[{},{},{}],mounted:{},mountedCids:[],unmounted:{},unmountedCids:[],count:0,sort:!1,frozen:!1,freezeKey:null,animationId:null}}onSortModel(){this.model.hasActiveBatch($l.SORT_DELAYING_BATCHES)||this.sortViews()}onModelReseted({options:e}){this.removeZPivots(),this.resetViews(this.model.getCells(),e)}onBatchStop({name:e,data:t}){if(this.isFrozen())return;const r=this.model;if(!this.isAsync()){const u=$l.UPDATE_DELAYING_BATCHES;u.includes(e)&&!r.hasActiveBatch(u)&&this.updateViews(t)}const a=$l.SORT_DELAYING_BATCHES;a.includes(e)&&!r.hasActiveBatch(a)&&this.sortViews()}onCellAdded({cell:e,options:t}){const r=t.position;this.isAsync()||typeof r!="number"?this.renderView(e,t):(t.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,t),r===0&&this.unfreeze({key:"addCells"}))}onCellRemoved({cell:e,options:t}){const r=this.findViewByCell(e);r&&this.requestViewUpdate(r,$l.FLAG_REMOVE,r.priority,t)}onCellZIndexChanged({cell:e,options:t}){if(this.options.sorting==="approx"){const r=this.findViewByCell(e);r&&this.requestViewUpdate(r,$l.FLAG_INSERT,r.priority,t)}}onCellVisibleChanged({cell:e,current:t,options:r}){t||this.processEdgeOnTerminalVisibleChanged(e,!1);const a=this.findViewByCell(e);!t&&a?this.removeView(e):t&&a==null&&this.renderView(e,r),t&&this.processEdgeOnTerminalVisibleChanged(e,!0)}processEdgeOnTerminalVisibleChanged(e,t){const r=(a,u)=>a.getSourceCellId()!==u.id?a.getSourceCell():a.getTargetCellId()!==u.id?a.getTargetCell():null;this.model.getConnectedEdges(e).forEach(a=>{const u=r(a,e);(u==null||u.isVisible())&&(t?a.show():a.hide())})}isEdgeTerminalVisible(e,t){const r=t==="source"?e.getSourceCellId():e.getTargetCellId(),a=r?this.model.getCell(r):null;return!(a&&!a.isVisible())}requestConnectedEdgesUpdate(e,t={}){if(uu.isCellView(e)){const r=e.cell,a=this.model.getConnectedEdges(r);for(let u=0,p=a.length;u<p;u+=1){const b=a[u],P=this.findViewByCell(b);if(!P)continue;const I=["update"];b.getTargetCell()===r&&I.push("target"),b.getSourceCell()===r&&I.push("source"),this.scheduleViewUpdate(P,P.getFlag(I),P.priority,t)}}}forcePostponedViewUpdate(e,t){if(!e||!uu.isCellView(e))return!1;const r=e.cell;if(r.isNode())return!1;const a=e;if(r.isEdge()&&!(t&e.getFlag(["source","target"]))){let u=0;const p=this.findViewByCell(r.getSourceCell());p&&!this.isViewMounted(p)&&(u=this.dumpView(p),a.updateTerminalMagnet("source"));let b=0;const P=this.findViewByCell(r.getTargetCell());if(P&&!this.isViewMounted(P)&&(b=this.dumpView(P),a.updateTerminalMagnet("target")),u===0&&b===0)return!this.dumpView(a)}return!1}scheduleViewUpdate(e,t,r,a={}){const u=e.cid,p=this.updates;let b=p.priorities[r];b||(b=p.priorities[r]={});const P=b[u]||0;(P&t)!==t&&(P||(p.count+=1),t&$l.FLAG_REMOVE&&P&$l.FLAG_INSERT?b[u]^=$l.FLAG_INSERT:t&$l.FLAG_INSERT&&P&$l.FLAG_REMOVE&&(b[u]^=$l.FLAG_REMOVE),b[u]|=t,this.graph.hook.onViewUpdated(e,t,a))}requestViewUpdate(e,t,r,a={}){this.scheduleViewUpdate(e,t,r,a);const u=this.isAsync();if(this.isFrozen()||u&&a.async!==!1||this.model.hasActiveBatch($l.UPDATE_DELAYING_BATCHES))return;const p=this.updateViews(a);u&&this.graph.trigger("render:done",{stats:p,options:a})}dumpView(e,t={}){if(e==null)return 0;const r=e.cid,u=this.updates.priorities[e.priority],p=this.registerMountedView(e)|u[r];return delete u[r],p?this.updateView(e,p,t):0}dumpViews(e={}){this.checkView(e),this.updateViews(e)}requireView(e,t={}){const r=this.findViewByCell(e);return r==null?null:(this.dumpView(r,t),r)}updateView(e,t,r={}){if(e==null)return 0;if(uu.isCellView(e)){if(t&$l.FLAG_REMOVE)return this.removeView(e.cell),0;t&$l.FLAG_INSERT&&(this.insertView(e),t^=$l.FLAG_INSERT)}return t?e.confirmUpdate(t,r):0}updateViews(e={}){let t,r=0,a=0,u=$l.MIN_PRIORITY;do t=this.updateViewsBatch(e),r+=1,a+=t.updatedCount,u=Math.min(t.priority,u);while(!t.empty);return{priority:u,batchCount:r,updatedCount:a}}updateViewsBatch(e={}){const t=this.updates,r=t.priorities,a=e.batchSize||$l.UPDATE_BATCH_SIZE;let u=!0,p=$l.MIN_PRIORITY,b=0,P=0,I=0,z=0,W=e.checkView||this.options.checkView;typeof W!="function"&&(W=null);e:for(let ne=0,Te=r.length;ne<Te;ne+=1){const Ke=r[ne];for(const Ue in Ke){if(I>=a){u=!1;break e}const At=Nl.views[Ue];if(!At){delete Ke[Ue];continue}let tn=Ke[Ue];if(!(tn&$l.FLAG_REMOVE)){const zn=Ue in t.unmounted;if(W&&!er(W,this.graph,{view:At,unmounted:zn})){zn||(this.registerUnmountedView(At),At.unmount()),t.unmounted[Ue]|=tn,delete Ke[Ue],P+=1;continue}zn&&(tn|=$l.FLAG_INSERT,b+=1),tn|=this.registerMountedView(At)}const pn=At;let Kt=this.updateView(At,tn,e);if(Kt>0){const zn=pn.cell;zn&&zn.isEdge()&&(pn.hasAction(Kt,"source")&&!this.isEdgeTerminalVisible(zn,"source")&&(Kt=pn.removeAction(Kt,"source"),Kt|=$l.FLAG_REMOVE),pn.hasAction(Kt,"target")&&!this.isEdgeTerminalVisible(zn,"target")&&(Kt=pn.removeAction(Kt,"target"),Kt|=$l.FLAG_REMOVE))}if(Kt>0&&(Ke[Ue]=Kt,!this.graph.hook.onViewPostponed(pn,Kt,e)||Ke[Ue])){z+=1,u=!1;continue}p>ne&&(p=ne),I+=1,delete Ke[Ue]}}return{empty:u,priority:p,mountedCount:b,unmountedCount:P,updatedCount:I,postponedCount:z}}updateViewsAsync(e={},t={processed:0,priority:$l.MIN_PRIORITY}){const r=this.updates,a=r.animationId;if(a){if(bg(a),t.processed===0){const ne=e.before;typeof ne=="function"&&er(ne,this.graph,this.graph)}const u=this.updateViewsBatch(e),p=this.checkViewImpl({checkView:e.checkView,mountedBatchSize:$l.MOUNT_BATCH_SIZE-u.mountedCount,unmountedBatchSize:$l.MOUNT_BATCH_SIZE-u.unmountedCount});let b=t.processed;const P=r.count,I=p.mountedCount,z=p.unmountedCount;u.updatedCount>0&&(b+=u.updatedCount+u.unmountedCount,t.priority=Math.min(u.priority,t.priority),u.empty&&I===0?(u.priority=t.priority,u.mountedCount+=I,u.unmountedCount+=z,this.graph.trigger("render:done",{stats:u,options:e}),t.processed=0,r.count=0):t.processed=b);const W=e.progress;if(P&&typeof W=="function"&&er(W,this.graph,{total:P,done:u.empty,current:b}),r.animationId!==a)return}r.animationId=yg(()=>{this.updateViewsAsync(e,t)})}registerMountedView(e){const t=e.cid,r=this.updates;if(t in r.mounted)return 0;r.mounted[t]=!0,r.mountedCids.push(t);const a=r.unmounted[t]||0;return delete r.unmounted[t],a}registerUnmountedView(e){const t=e.cid,r=this.updates;if(t in r.unmounted)return 0;r.unmounted[t]|=$l.FLAG_INSERT;const a=r.unmounted[t];return r.unmountedCids.push(t),delete r.mounted[t],a}isViewMounted(e){return e==null?!1:e.cid in this.updates.mounted}getMountedViews(){return Object.keys(this.updates.mounted).map(e=>uu.views[e])}getUnmountedViews(){return Object.keys(this.updates.unmounted).map(e=>uu.views[e])}checkMountedViews(e,t){let r=0;if(typeof e!="function")return r;const a=this.updates,u=a.mounted,p=a.mountedCids,b=t==null?p.length:Math.min(p.length,t);for(let P=0;P<b;P+=1){const I=p[P];if(!(I in u))continue;const z=uu.views[I];if(z==null)continue;if(er(e,this.graph,{view:z,unmounted:!0})){p.push(I);continue}r+=1,this.registerUnmountedView(z)&&z.unmount()}return p.splice(0,b),r}checkUnmountedViews(e,t){let r=0;typeof e!="function"&&(e=null);const a=this.updates,u=a.unmounted,p=a.unmountedCids,b=t==null?p.length:Math.min(p.length,t);for(let P=0;P<b;P+=1){const I=p[P];if(!(I in u))continue;const z=uu.views[I];if(z==null)continue;if(e&&!er(e,this.graph,{view:z,unmounted:!1})){p.push(I);continue}r+=1;const W=this.registerMountedView(z);W&&this.scheduleViewUpdate(z,W,z.priority,{mounting:!0})}return p.splice(0,b),r}checkViewImpl(e={mountedBatchSize:Number.MAX_SAFE_INTEGER,unmountedBatchSize:Number.MAX_SAFE_INTEGER}){const t=e.checkView||this.options.checkView,r=this.checkMountedViews(t,e.unmountedBatchSize);return{mountedCount:this.checkUnmountedViews(t,r>0?Math.min(this.updates.unmountedCids.length-r,e.mountedBatchSize):e.mountedBatchSize),unmountedCount:r}}checkView(e={}){return this.checkViewImpl(e)}isFrozen(){return!!this.options.frozen}freeze(e={}){const t=e.key,r=this.updates,a=this.options.frozen,u=r.freezeKey;if(t&&t!==u){if(a&&u)return;r.frozen=a,r.freezeKey=t}this.options.frozen=!0;const p=r.animationId;r.animationId=null,this.isAsync()&&p!=null&&bg(p),this.graph.trigger("freeze",{key:t})}unfreeze(e={}){const t=e.key,r=this.updates,a=r.freezeKey;if(t&&a&&t!==a||(r.freezeKey=null,t&&t===a&&r.frozen))return;const u=()=>{this.options.frozen=r.frozen=!1,r.sort&&(this.sortViews(),r.sort=!1);const p=e.after;p&&er(p,this.graph,this.graph),this.graph.trigger("unfreeze",{key:t})};if(this.isAsync()){this.freeze();const p=e.progress;this.updateViewsAsync(Object.assign(Object.assign({},e),{progress:({done:b,current:P,total:I})=>{p&&er(p,this.graph,{done:b,current:P,total:I}),b&&u()}}))}else this.updateViews(e),u()}isAsync(){return!!this.options.async}setAsync(e){this.options.async=e}onRemove(){this.freeze(),this.removeViews()}resetViews(e=[],t={}){this.resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(let r=0,a=e.length;r<a;r+=1)this.renderView(e[r],t);this.unfreeze({key:"reset"}),this.sortViews()}removeView(e){const t=this.views[e.id];if(t){const r=t.cid,a=this.updates,u=a.mounted,p=a.unmounted;t.remove(),delete this.views[e.id],delete u[r],delete p[r]}return t}removeViews(){this.views&&Object.keys(this.views).forEach(e=>{const t=this.views[e];t&&this.removeView(t.cell)}),this.views={}}renderView(e,t={}){const r=e.id,a=this.views;let u=0,p=a[r];if(e.isVisible()&&!(e.isEdge()&&(!this.isEdgeTerminalVisible(e,"source")||!this.isEdgeTerminalVisible(e,"target")))){if(p)u=$l.FLAG_INSERT;else{const b=this.graph.hook.createCellView(e);b&&(p=a[e.id]=b,p.graph=this.graph,u=this.registerUnmountedView(p)|p.getBootstrapFlag())}p&&this.requestViewUpdate(p,u,p.priority,t)}}isExactSorting(){return this.options.sorting==="exact"}sortViews(){if(this.isExactSorting()){if(this.isFrozen()){this.updates.sort=!0;return}this.sortViewsExact()}}sortElements(e,t){const r=e.map(a=>{const u=a.parentNode,p=u.insertBefore(document.createTextNode(""),a.nextSibling);return b=>{if(u===b)throw new Error("You can't sort elements if any one is a descendant of another.");u.insertBefore(b,p),u.removeChild(p)}});e.sort(t).forEach((a,u)=>r[u](a))}sortViewsExact(){const e=this.view.$(this.view.stage).children("[data-cell-id]").toArray(),t=this.model;this.sortElements(e,(r,a)=>{const u=t.getCell(r.getAttribute("data-cell-id")||""),p=t.getCell(a.getAttribute("data-cell-id")||""),b=u.getZIndex()||0,P=p.getZIndex()||0;return b===P?0:b<P?-1:1})}addZPivot(e=0){this.zPivots==null&&(this.zPivots={});const t=this.zPivots;let r=t[e];if(r)return r;r=t[e]=document.createComment(`z-index:${e+1}`);let a=-1/0;for(const p in t){const b=+p;b<e&&b>a&&(a=b,e-1)}const u=this.view.stage;if(a!==-1/0){const p=t[a];u.insertBefore(r,p.nextSibling)}else u.insertBefore(r,u.firstChild);return r}removeZPivots(){this.zPivots&&Object.keys(this.zPivots).forEach(e=>{const t=this.zPivots[e];t&&t.parentNode&&t.parentNode.removeChild(t)}),this.zPivots={}}insertView(e){const t=this.view.stage;switch(this.options.sorting){case"approx":{const r=e.cell.getZIndex(),a=this.addZPivot(r);t.insertBefore(e.container,a);break}case"exact":default:t.appendChild(e.container);break}}findViewByCell(e){if(e==null)return null;const t=tl.isCell(e)?e.id:e;return this.views[t]}findViewByElem(e){if(e==null)return null;const t=typeof e=="string"?this.view.stage.querySelector(e):e instanceof Element?e:e[0];if(t){const r=this.view.findAttr("data-cell-id",t);if(r)return this.views[r]}return null}findViewsFromPoint(e){const t={x:e.x,y:e.y};return this.model.getCells().map(r=>this.findViewByCell(r)).filter(r=>r!=null?ai(r.container,{target:this.view.stage}).containsPoint(t):!1)}findEdgeViewsInArea(e,t={}){const r=Oo.create(e);return this.model.getEdges().map(a=>this.findViewByCell(a)).filter(a=>{if(a){const u=ai(a.container,{target:this.view.stage});return u.width===0?u.inflate(1,0):u.height===0&&u.inflate(0,1),t.strict?r.containsRect(u):r.isIntersectWithRect(u)}return!1})}findViewsInArea(e,t={}){const r=Oo.create(e);return this.model.getNodes().map(a=>this.findViewByCell(a)).filter(a=>{if(a){const u=ai(a.container,{target:this.view.stage});return t.strict?r.containsRect(u):r.isIntersectWithRect(u)}return!1})}dispose(){this.resetUpdates(),this.stopListening()}}H1([wc.dispose()],$l.prototype,"dispose",null),function(c){c.FLAG_INSERT=1<<30,c.FLAG_REMOVE=1<<29,c.MOUNT_BATCH_SIZE=1e3,c.UPDATE_BATCH_SIZE=1e3,c.MIN_PRIORITY=2,c.SORT_DELAYING_BATCHES=["add","to-front","to-back"],c.UPDATE_DELAYING_BATCHES=["translate"]}($l||($l={}));var K1=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class Qv extends wc{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(e={}){let t=e.size||"auto auto",r=e.position||"center";const a=this.graph.transform.getScale(),u=this.graph.translate();if(typeof r=="object"){const p=u.tx+a.sx*(r.x||0),b=u.ty+a.sy*(r.y||0);r=`${p}px ${b}px`}typeof t=="object"&&(t=Oo.fromSize(t).scale(a.sx,a.sy),t=`${t.width}px ${t.height}px`),this.elem.style.backgroundSize=t,this.elem.style.backgroundPosition=r}drawBackgroundImage(e,t={}){if(!(e instanceof HTMLImageElement)){this.elem.style.backgroundImage="";return}const r=this.optionsCache;if(r&&r.image!==t.image)return;let a;const u=t.opacity,p=t.size;let b=t.repeat||"no-repeat";const P=dp.registry.get(b);if(typeof P=="function"){const z=t.quality||1;e.width*=z,e.height*=z;const W=P(e,t);if(!(W instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");a=W.toDataURL("image/png"),t.repeat&&b!==t.repeat?b=t.repeat:b="repeat",typeof p=="object"?(p.width*=W.width/e.width,p.height*=W.height/e.height):p===void 0&&(t.size={width:W.width/z,height:W.height/z})}else a=e.src,p===void 0&&(t.size={width:e.width,height:e.height});r!=null&&typeof t.size=="object"&&t.image===r.image&&t.repeat===r.repeat&&t.quality===r.quality&&(r.size=Dr(t.size));const I=this.elem.style;I.backgroundImage=`url(${a})`,I.backgroundRepeat=b,I.opacity=u==null||u>=1?"":`${u}`,this.updateBackgroundImage(t)}updateBackgroundColor(e){this.elem.style.backgroundColor=e||""}updateBackgroundOptions(e){this.graph.options.background=e}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(e){const t=e||{};if(this.updateBackgroundOptions(e),this.updateBackgroundColor(t.color),t.image){this.optionsCache=Dr(t);const r=document.createElement("img");r.onload=()=>this.drawBackgroundImage(r,e),r.setAttribute("crossorigin","anonymous"),r.src=t.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}K1([wc.dispose()],Qv.prototype,"dispose",null);var YC=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u},XC=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class Yg extends Nl{constructor(e){super(),this.padding={left:0,top:0,right:0,bottom:0},this.options=kd.getOptions(e);const t=this.graph.transform.getScale();this.sx=t.sx,this.sy=t.sy;const r=this.options.width||this.graph.options.width,a=this.options.height||this.graph.options.height;this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(kd.containerClass)).css({width:r,height:a}),this.options.pageVisible&&this.$container.addClass(this.prefixClassName(kd.pagedClass)),this.options.className&&this.$container.addClass(this.options.className);const u=this.graph.container;u.parentNode&&this.$container.insertBefore(u);const p=u.getAttribute("style");if(p){const b={};p.split(";").forEach(I=>{const z=I.trim();if(z){const W=z.split(":");W.length&&(b[W[0].trim()]=W[1]?W[1].trim():"")}}),Object.keys(b).forEach(I=>{I==="width"||I==="height"||(u.style[I]="",this.container.style[I]=b[I])})}this.content=document.createElement("div"),this.$content=this.$(this.content).addClass(this.prefixClassName(kd.contentClass)).css({width:this.graph.options.width,height:this.graph.options.height}),this.background=document.createElement("div"),this.$background=this.$(this.background).addClass(this.prefixClassName(kd.backgroundClass)),this.$content.append(this.background),this.options.pageVisible||this.$content.append(this.graph.view.grid),this.$content.append(u),this.$content.appendTo(this.container),this.startListening(),this.options.pageVisible||this.graph.grid.update(),this.backgroundManager=new Yg.Background(this),this.options.autoResize||this.update()}get graph(){return this.options.graph}get model(){return this.graph.model}startListening(){const e=this.graph,t=this.model;e.on("scale",this.onScale,this),e.on("resize",this.onResize,this),e.on("before:print",this.storeScrollPosition,this),e.on("before:export",this.storeScrollPosition,this),e.on("after:print",this.restoreScrollPosition,this),e.on("after:export",this.restoreScrollPosition,this),e.on("render:done",this.onRenderDone,this),e.on("unfreeze",this.onUpdate,this),t.on("reseted",this.onUpdate,this),t.on("cell:added",this.onUpdate,this),t.on("cell:removed",this.onUpdate,this),t.on("cell:changed",this.onUpdate,this),t.on("batch:stop",this.onBatchStop,this),this.delegateBackgroundEvents()}stopListening(){const e=this.graph,t=this.model;e.off("scale",this.onScale,this),e.off("resize",this.onResize,this),e.off("beforeprint",this.storeScrollPosition,this),e.off("beforeexport",this.storeScrollPosition,this),e.off("afterprint",this.restoreScrollPosition,this),e.off("afterexport",this.restoreScrollPosition,this),e.off("render:done",this.onRenderDone,this),e.off("unfreeze",this.onUpdate,this),t.off("reseted",this.onUpdate,this),t.off("cell:added",this.onUpdate,this),t.off("cell:removed",this.onUpdate,this),t.off("cell:changed",this.onUpdate,this),t.off("batch:stop",this.onBatchStop,this),this.undelegateBackgroundEvents()}enableAutoResize(){this.options.autoResize=!0}disableAutoResize(){this.options.autoResize=!1}onUpdate(){this.graph.isAsync()||!this.options.autoResize||this.update()}onBatchStop(e){this.graph.isAsync()||!this.options.autoResize||$l.UPDATE_DELAYING_BATCHES.includes(e.name)&&this.update()}delegateBackgroundEvents(e){const t=e||Qd.events;this.delegatedHandlers=Object.keys(t).reduce((r,a)=>{const u=t[a];if(a.indexOf(" ")===-1)if(typeof u=="function")r[a]=u;else{let p=this.graph.view[u];typeof p=="function"&&(p=p.bind(this.graph.view),r[a]=p)}return r},{}),this.onBackgroundEvent=this.onBackgroundEvent.bind(this),Object.keys(this.delegatedHandlers).forEach(r=>{this.delegateEvent(r,{guarded:!1},this.onBackgroundEvent)})}undelegateBackgroundEvents(){Object.keys(this.delegatedHandlers).forEach(e=>{this.undelegateEvent(e,this.onBackgroundEvent)})}onBackgroundEvent(e){let t=!1;const r=e.target;if(this.options.pageVisible)this.options.background?t=this.background===r:t=this.content===r;else{const a=this.graph.view;t=a.background===r||a.grid===r}if(t){const a=this.delegatedHandlers[e.type];typeof a=="function"&&a.apply(this.graph,arguments)}}onRenderDone({stats:e}){this.options.autoResize&&e.priority<2&&this.update()}onResize(){this.cachedCenterPoint&&(this.centerPoint(this.cachedCenterPoint.x,this.cachedCenterPoint.y),this.updatePageBreak())}onScale({sx:e,sy:t,ox:r,oy:a}){this.updateScale(e,t),(r||a)&&(this.centerPoint(r,a),this.updatePageBreak()),typeof(this.options.autoResizeOptions||this.options.fitTocontentOptions)=="function"&&this.update()}storeScrollPosition(){this.cachedScrollLeft=this.container.scrollLeft,this.cachedScrollTop=this.container.scrollTop}restoreScrollPosition(){this.container.scrollLeft=this.cachedScrollLeft,this.container.scrollTop=this.cachedScrollTop,this.cachedScrollLeft=null,this.cachedScrollTop=null}storeClientSize(){this.cachedClientSize={width:this.container.clientWidth,height:this.container.clientHeight}}restoreClientSize(){this.cachedClientSize=null}beforeManipulation(){(Ne.IS_IE||Ne.IS_EDGE)&&this.$container.css("visibility","hidden")}afterManipulation(){(Ne.IS_IE||Ne.IS_EDGE)&&this.$container.css("visibility","visible")}updatePageSize(e,t){e!=null&&(this.options.pageWidth=e),t!=null&&(this.options.pageHeight=t),this.updatePageBreak()}updatePageBreak(){if(this.pageBreak&&this.pageBreak.parentNode&&this.pageBreak.parentNode.removeChild(this.pageBreak),this.pageBreak=null,this.options.pageVisible&&this.options.pageBreak){const e=this.graph.options.width,t=this.graph.options.height,r=this.options.pageWidth*this.sx,a=this.options.pageHeight*this.sy;if(r===0||a===0)return;if(e>r||t>a){let u=!1;const p=document.createElement("div");for(let b=1,P=Math.floor(e/r);b<P;b+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-vertical")).css({left:b*r}).appendTo(p),u=!0;for(let b=1,P=Math.floor(t/a);b<P;b+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-horizontal")).css({top:b*a}).appendTo(p),u=!0;u&&(Qt(p,this.prefixClassName("graph-pagebreak")),this.$(this.graph.view.grid).after(p),this.pageBreak=p)}}}update(){const e=this.getClientSize();this.cachedCenterPoint=this.clientToLocalPoint(e.width/2,e.height/2);let t=this.options.autoResizeOptions||this.options.fitTocontentOptions;typeof t=="function"&&(t=er(t,this,this));const r=Object.assign({gridWidth:this.options.pageWidth,gridHeight:this.options.pageHeight,allowNewOrigin:"negative",contentArea:this.calcContextArea(t)},t);this.graph.fitToContent(this.getFitToContentOptions(r))}calcContextArea(e){const t=e==null?void 0:e.direction;if(!t)return this.graph.transform.getContentArea(e);function r(b){let P=b.getBBox();if(P&&b.isNode()){const I=b.getAngle();I!=null&&I!==0&&(P=P.bbox(I))}return P}const a=this.options.pageWidth||1,u=this.options.pageHeight||1;let p=this.graph.getCells();return t.includes("top")||(p=p.filter(b=>r(b).y>=0)),t.includes("left")||(p=p.filter(b=>r(b).x>=0)),t.includes("right")||(p=p.filter(b=>{const P=r(b);return P.x+P.width<=a})),t.includes("bottom")||(p=p.filter(b=>{const P=r(b);return P.y+P.height<=u})),this.model.getCellsBBox(p)||new Oo}getFitToContentOptions(e){const t=this.sx,r=this.sy;return e.gridWidth&&(e.gridWidth*=t),e.gridHeight&&(e.gridHeight*=r),e.minWidth&&(e.minWidth*=t),e.minHeight&&(e.minHeight*=r),typeof e.padding=="object"?e.padding={left:(e.padding.left||0)*t,right:(e.padding.right||0)*t,top:(e.padding.top||0)*r,bottom:(e.padding.bottom||0)*r}:typeof e.padding=="number"&&(e.padding*=t),this.options.autoResize||(e.contentArea=Oo.create()),e}updateScale(e,t){const r=this.graph.options,a=e/this.sx,u=t/this.sy;this.sx=e,this.sy=t,this.graph.translate(r.x*a,r.y*u),this.graph.resizeGraph(r.width*a,r.height*u)}scrollbarPosition(e,t,r){if(e==null&&t==null)return{left:this.container.scrollLeft,top:this.container.scrollTop};const a={};return typeof e=="number"&&(a.scrollLeft=e),typeof t=="number"&&(a.scrollTop=t),r&&r.animation?this.$container.animate(a,r.animation):this.$container.prop(a),this}scrollToPoint(e,t,r){const a=this.getClientSize(),u=this.graph.matrix(),p={};return typeof e=="number"&&(p.scrollLeft=e-a.width/2+u.e+(this.padding.left||0)),typeof t=="number"&&(p.scrollTop=t-a.height/2+u.f+(this.padding.top||0)),r&&r.animation?this.$container.animate(p,r.animation):this.$container.prop(p),this}scrollToContent(e){const t=this.sx,r=this.sy,a=this.graph.getContentArea().getCenter();return this.scrollToPoint(a.x*t,a.y*r,e)}scrollToCell(e,t){const r=this.sx,a=this.sy,u=e.getBBox().getCenter();return this.scrollToPoint(u.x*r,u.y*a,t)}center(e){return this.centerPoint(e)}centerPoint(e,t,r){const a=this.graph.matrix(),u=a.a,p=a.d,b=-a.e,P=-a.f,I=b+this.graph.options.width,z=P+this.graph.options.height;let W;if(this.storeClientSize(),typeof e=="number"||typeof t=="number"){W=r;const gr=this.getVisibleArea().getCenter();typeof e=="number"?e*=u:e=gr.x,typeof t=="number"?t*=p:t=gr.y}else W=e,e=(b+I)/2,t=(P+z)/2;if(W&&W.padding)return this.positionPoint({x:e,y:t},"50%","50%",W);const ne=this.getPadding(),Te=this.getClientSize(),Ke=Te.width/2,Ue=Te.height/2,At=Ke-ne.left-e+b,tn=Ke-ne.right+e-I,pn=Ue-ne.top-t+P,Kt=Ue-ne.bottom+t-z;this.addPadding(Math.max(At,0),Math.max(tn,0),Math.max(pn,0),Math.max(Kt,0));const zn=this.scrollToPoint(e,t,W||void 0);return this.restoreClientSize(),zn}centerContent(e){return this.positionContent("center",e)}centerCell(e,t){return this.positionCell(e,"center",t)}positionContent(e,t){const r=this.graph.getContentArea(t);return this.positionRect(r,e,t)}positionCell(e,t,r){const a=e.getBBox();return this.positionRect(a,t,r)}positionRect(e,t,r){const a=Oo.create(e);switch(t){case"center":return this.positionPoint(a.getCenter(),"50%","50%",r);case"top":return this.positionPoint(a.getTopCenter(),"50%",0,r);case"top-right":return this.positionPoint(a.getTopRight(),"100%",0,r);case"right":return this.positionPoint(a.getRightMiddle(),"100%","50%",r);case"bottom-right":return this.positionPoint(a.getBottomRight(),"100%","100%",r);case"bottom":return this.positionPoint(a.getBottomCenter(),"50%","100%",r);case"bottom-left":return this.positionPoint(a.getBottomLeft(),0,"100%",r);case"left":return this.positionPoint(a.getLeftMiddle(),0,"50%",r);case"top-left":return this.positionPoint(a.getTopLeft(),0,0,r);default:return this}}positionPoint(e,t,r,a={}){const{padding:u}=a,p=XC(a,["padding"]),b=Al(u),P=Oo.fromSize(this.getClientSize()),I=P.clone().moveAndExpand({x:b.left,y:b.top,width:-b.right-b.left,height:-b.top-b.bottom});t=jl(t,Math.max(0,I.width)),t<0&&(t=I.width+t),r=jl(r,Math.max(0,I.height)),r<0&&(r=I.height+r);const z=I.getTopLeft().translate(t,r),W=P.getCenter().diff(z),ne=this.zoom(),Te=W.scale(1/ne,1/ne),Ke=Bn.create(e).translate(Te);return this.centerPoint(Ke.x,Ke.y,p)}zoom(e,t){if(e==null)return this.sx;t=t||{};let r,a;const u=this.getClientSize(),p=this.clientToLocalPoint(u.width/2,u.height/2);let b=e,P=e;if(t.absolute||(b+=this.sx,P+=this.sy),t.scaleGrid&&(b=Math.round(b/t.scaleGrid)*t.scaleGrid,P=Math.round(P/t.scaleGrid)*t.scaleGrid),t.maxScale&&(b=Math.min(t.maxScale,b),P=Math.min(t.maxScale,P)),t.minScale&&(b=Math.max(t.minScale,b),P=Math.max(t.minScale,P)),b=this.graph.transform.clampScale(b),P=this.graph.transform.clampScale(P),t.center){const I=b/this.sx,z=P/this.sy;r=t.center.x-(t.center.x-p.x)/I,a=t.center.y-(t.center.y-p.y)/z}else r=p.x,a=p.y;return this.beforeManipulation(),this.graph.transform.scale(b,P),this.centerPoint(r,a),this.afterManipulation(),this}zoomToRect(e,t={}){const r=Oo.create(e),a=this.graph;t.contentArea=r,t.viewportArea==null&&(t.viewportArea={x:a.options.x,y:a.options.y,width:this.$container.width(),height:this.$container.height()}),this.beforeManipulation(),a.transform.scaleContentToFitImpl(t,!1);const u=r.getCenter();return this.centerPoint(u.x,u.y),this.afterManipulation(),this}zoomToFit(e={}){return this.zoomToRect(this.graph.getContentArea(e),e)}transitionToPoint(e,t,r){typeof e=="object"?(r=t,t=e.y,e=e.x):t=t,r==null&&(r={});let a,u;const p=this.sx,b=Math.max(r.scale||p,1e-6),P=this.getClientSize(),I=new Bn(e,t),z=this.clientToLocalPoint(P.width/2,P.height/2);if(p===b){const ne=z.diff(I).scale(p,p).round();a=`translate(${ne.x}px,${ne.y}px)`}else{const ne=b/(p-b)*I.distance(z),Te=z.clone().move(I,ne),Ke=this.localToBackgroundPoint(Te).round();a=`scale(${b/p})`,u=`${Ke.x}px ${Ke.y}px`}const W=r.onTransitionEnd;return this.$container.addClass(kd.transitionClassName),this.$content.off(kd.transitionEventName).on(kd.transitionEventName,ne=>{this.syncTransition(b,{x:e,y:t}),typeof W=="function"&&er(W,this,ne.originalEvent)}).css({transform:a,transformOrigin:u,transition:"transform",transitionDuration:r.duration||"1s",transitionDelay:r.delay,transitionTimingFunction:r.timing}),this}syncTransition(e,t){return this.beforeManipulation(),this.graph.scale(e),this.removeTransition(),this.centerPoint(t.x,t.y),this.afterManipulation(),this}removeTransition(){return this.$container.removeClass(kd.transitionClassName),this.$content.off(kd.transitionEventName).css({transform:"",transformOrigin:"",transition:"",transitionDuration:"",transitionDelay:"",transitionTimingFunction:""}),this}transitionToRect(e,t={}){const r=Oo.create(e),a=t.maxScale||1/0,u=t.minScale||Number.MIN_VALUE,p=t.scaleGrid||null,b=t.visibility||1,P=t.center?Bn.create(t.center):r.getCenter(),I=this.getClientSize(),z=I.width*b,W=I.height*b;let ne=new Oo(P.x-z/2,P.y-W/2,z,W).getMaxUniformScaleToFit(r,P);return ne=Math.min(ne,a),p&&(ne=Math.floor(ne/p)*p),ne=Math.max(u,ne),this.transitionToPoint(P,Object.assign({scale:ne},t))}startPanning(e){const t=this.normalizeEvent(e);this.clientX=t.clientX,this.clientY=t.clientY,this.trigger("pan:start",{e:t}),this.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),this.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(e){const t=this.normalizeEvent(e),r=t.clientX-this.clientX,a=t.clientY-this.clientY;this.container.scrollTop-=a,this.container.scrollLeft-=r,this.clientX=t.clientX,this.clientY=t.clientY,this.trigger("panning",{e:t})}stopPanning(e){this.$(document.body).off(".panning"),this.$(window).off(".panning"),this.trigger("pan:stop",{e})}clientToLocalPoint(e,t){let r=typeof e=="object"?e.x:e,a=typeof e=="object"?e.y:t;const u=this.graph.matrix();return r+=this.container.scrollLeft-this.padding.left-u.e,a+=this.container.scrollTop-this.padding.top-u.f,new Bn(r/u.a,a/u.d)}localToBackgroundPoint(e,t){const r=typeof e=="object"?Bn.create(e):new Bn(e,t),a=this.graph.matrix(),u=this.padding;return rd(r,a).translate(u.left,u.top)}resize(e,t){let r=e!=null?e:this.container.offsetWidth,a=t!=null?t:this.container.offsetHeight;typeof r=="number"&&(r=Math.round(r)),typeof a=="number"&&(a=Math.round(a)),this.options.width=r,this.options.height=a,this.$container.css({width:r,height:a}),this.update()}getClientSize(){return this.cachedClientSize?this.cachedClientSize:{width:this.container.clientWidth,height:this.container.clientHeight}}autoScroll(e,t){const a=this.container,u=a.getBoundingClientRect();let p=0,b=0;return e<=u.left+10&&(p=-10),t<=u.top+10&&(b=-10),e>=u.right-10&&(p=10),t>=u.bottom-10&&(b=10),p!==0&&(a.scrollLeft+=p),b!==0&&(a.scrollTop+=b),{scrollerX:p,scrollerY:b}}addPadding(e,t,r,a){let u=this.getPadding();this.padding={left:Math.round(u.left+(e||0)),top:Math.round(u.top+(r||0)),bottom:Math.round(u.bottom+(a||0)),right:Math.round(u.right+(t||0))},u=this.padding,this.$content.css({width:u.left+this.graph.options.width+u.right,height:u.top+this.graph.options.height+u.bottom});const p=this.graph.container;return p.style.left=`${this.padding.left}px`,p.style.top=`${this.padding.top}px`,this}getPadding(){const e=this.options.padding;return Al(typeof e=="function"?er(e,this,this):e)}getVisibleArea(){const e=this.graph.matrix(),t=this.getClientSize(),r={x:this.container.scrollLeft||0,y:this.container.scrollTop||0,width:t.width,height:t.height},a=Pf(r,e.inverse());return a.x-=(this.padding.left||0)/this.sx,a.y-=(this.padding.top||0)/this.sy,a}isCellVisible(e,t={}){const r=e.getBBox(),a=this.getVisibleArea();return t.strict?a.containsRect(r):a.isIntersectWithRect(r)}isPointVisible(e){return this.getVisibleArea().containsPoint(e)}lock(){return this.$container.css("overflow","hidden"),this}unlock(){return this.$container.css("overflow","scroll"),this}onRemove(){this.stopListening()}dispose(){this.$(this.graph.container).insertBefore(this.$container),this.remove()}}YC([Nl.dispose()],Yg.prototype,"dispose",null),function(c){class e extends Qv{constructor(r){super(r.graph),this.scroller=r,r.options.background&&this.draw(r.options.background)}get elem(){return this.scroller.background}init(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}updateBackgroundOptions(r){this.scroller.options.background=r}}c.Background=e}(Yg||(Yg={}));var kd;(function(c){c.containerClass="graph-scroller",c.panningClass=`${c.containerClass}-panning`,c.pannableClass=`${c.containerClass}-pannable`,c.pagedClass=`${c.containerClass}-paged`,c.contentClass=`${c.containerClass}-content`,c.backgroundClass=`${c.containerClass}-background`,c.transitionClassName="transition-in-progress",c.transitionEventName="transitionend.graph-scroller-transition",c.defaultOptions={padding(){const t=this.getClientSize(),r=Math.max(this.options.minVisibleWidth||0,1)||1,a=Math.max(this.options.minVisibleHeight||0,1)||1,u=Math.max(t.width-r,0),p=Math.max(t.height-a,0);return{left:u,top:p,right:u,bottom:p}},minVisibleWidth:50,minVisibleHeight:50,pageVisible:!1,pageBreak:!1,autoResize:!0};function e(t){const r=ea.Z({},c.defaultOptions,t);return r.pageWidth==null&&(r.pageWidth=t.graph.options.width),r.pageHeight==null&&(r.pageHeight=t.graph.options.height),r}c.getOptions=e})(kd||(kd={}));function zu(c,e,t,r={}){if(t){const a=t.graph,u=a.view.normalizeEvent(e),p=a.snapToGrid(u.clientX,u.clientY);t.notify(c,Object.assign({e:u,view:t,node:t.cell,cell:t.cell,x:p.x,y:p.y},r))}}var Y1=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class I0 extends Nl{constructor(e){super(),this.options=ea.Z({},Xf.defaultOptions,e),this.options.model&&(this.options.collection=this.options.model.collection),this.options.collection?this.collection=this.options.collection:(this.collection=new xy([],{comparator:Xf.depthComparator}),this.options.collection=this.collection),this.boxCount=0,this.createContainer(),this.initHandles(),this.startListening()}get graph(){return this.options.graph}get boxClassName(){return this.prefixClassName(Xf.classNames.box)}get $boxes(){return this.$container.children(`.${this.boxClassName}`)}get handleOptions(){return this.options}startListening(){const e=this.graph,t=this.collection;this.delegateEvents({[`mousedown .${this.boxClassName}`]:"onSelectionBoxMouseDown",[`touchstart .${this.boxClassName}`]:"onSelectionBoxMouseDown"},!0),e.on("scale",this.onGraphTransformed,this),e.on("translate",this.onGraphTransformed,this),e.model.on("updated",this.onModelUpdated,this),t.on("added",this.onCellAdded,this),t.on("removed",this.onCellRemoved,this),t.on("reseted",this.onReseted,this),t.on("updated",this.onCollectionUpdated,this),t.on("node:change:position",this.onNodePositionChanged,this),t.on("cell:changed",this.onCellChanged,this)}stopListening(){const e=this.graph,t=this.collection;this.undelegateEvents(),e.off("scale",this.onGraphTransformed,this),e.off("translate",this.onGraphTransformed,this),e.model.off("updated",this.onModelUpdated,this),t.off("added",this.onCellAdded,this),t.off("removed",this.onCellRemoved,this),t.off("reseted",this.onReseted,this),t.off("updated",this.onCollectionUpdated,this),t.off("node:change:position",this.onNodePositionChanged,this),t.off("cell:changed",this.onCellChanged,this)}onRemove(){this.stopListening()}onGraphTransformed(){this.updateSelectionBoxes({async:!1})}onCellChanged(){this.updateSelectionBoxes()}onNodePositionChanged({node:e,options:t}){const{showNodeSelectionBox:r,pointerEvents:a}=this.options,{ui:u,selection:p,translateBy:b,snapped:P}=t,I=(r!==!0||a==="none")&&!this.translating&&!p,z=u&&b&&e.id===b;if(I&&(z||P)){this.translating=!0;const W=e.position(),ne=e.previous("position"),Te=W.x-ne.x,Ke=W.y-ne.y;(Te!==0||Ke!==0)&&this.translateSelectedNodes(Te,Ke,e,t),this.translating=!1}}onModelUpdated({removed:e}){e&&e.length&&this.unselect(e)}isEmpty(){return this.length<=0}isSelected(e){return this.collection.has(e)}get length(){return this.collection.length}get cells(){return this.collection.toArray()}select(e,t={}){t.dryrun=!0;const r=this.filter(Array.isArray(e)?e:[e]);return this.collection.add(r,t),this}unselect(e,t={}){return t.dryrun=!0,this.collection.remove(Array.isArray(e)?e:[e],t),this}reset(e,t={}){if(e){if(t.batch){const I=this.filter(Array.isArray(e)?e:[e]);return this.collection.reset(I,Object.assign(Object.assign({},t),{ui:!0})),this}const r=this.cells,a=this.filter(Array.isArray(e)?e:[e]),u={},p={};r.forEach(I=>u[I.id]=I),a.forEach(I=>p[I.id]=I);const b=[],P=[];return a.forEach(I=>{u[I.id]||b.push(I)}),r.forEach(I=>{p[I.id]||P.push(I)}),P.length&&this.unselect(P,Object.assign(Object.assign({},t),{ui:!0})),b.length&&this.select(b,Object.assign(Object.assign({},t),{ui:!0})),P.length===0&&b.length===0&&this.updateContainer(),this}return this.clean(t)}clean(e={}){return this.length&&(e.batch===!1?this.unselect(this.cells,e):this.collection.reset([],Object.assign(Object.assign({},e),{ui:!0}))),this}setFilter(e){this.options.filter=e}setContent(e){this.options.content=e}startSelecting(e){e=this.normalizeEvent(e),this.clean();let t,r;const a=this.graph.container;if(e.offsetX!=null&&e.offsetY!=null&&a.contains(e.target))t=e.offsetX,r=e.offsetY;else{const u=this.$(a).offset(),p=a.scrollLeft,b=a.scrollTop;t=e.clientX-u.left+window.pageXOffset+p,r=e.clientY-u.top+window.pageYOffset+b}this.$container.css({top:r,left:t,width:1,height:1}),this.setEventData(e,{action:"selecting",clientX:e.clientX,clientY:e.clientY,offsetX:t,offsetY:r,scrollerX:0,scrollerY:0,moving:!1}),this.delegateDocumentEvents(Xf.documentEvents,e.data)}filter(e){const t=this.options.filter;return Array.isArray(t)?e.filter(r=>!t.includes(r)&&!t.includes(r.shape)):typeof t=="function"?e.filter(r=>er(t,this.graph,r)):e}stopSelecting(e){const t=this.graph,r=this.getEventData(e);switch(r.action){case"selecting":{let u=this.$container.width(),p=this.$container.height();const b=this.$container.offset(),P=t.pageToLocal(b.left,b.top),I=t.transform.getScale();u/=I.sx,p/=I.sy;const z=new Oo(P.x,P.y,u,p),W=this.getCellViewsInArea(z).map(ne=>ne.cell);this.reset(W,{batch:!0}),this.hideRubberband();break}case"translating":{const u=t.snapToGrid(e.clientX,e.clientY);if(!this.options.following){const p=r;this.updateSelectedNodesPosition({dx:p.clientX-p.originX,dy:p.clientY-p.originY})}this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",e,u.x,u.y);break}default:{this.clean();break}}}onMouseUp(e){this.getEventData(e).action&&(this.stopSelecting(e),this.undelegateDocumentEvents())}onSelectionBoxMouseDown(e){this.options.following||e.stopPropagation();const t=this.normalizeEvent(e);this.options.movable&&this.startTranslating(t);const r=this.getCellViewFromElem(t.target);this.setEventData(t,{activeView:r});const a=this.graph.snapToGrid(t.clientX,t.clientY);this.notifyBoxEvent("box:mousedown",t,a.x,a.y),this.delegateDocumentEvents(Xf.documentEvents,t.data)}startTranslating(e){this.graph.model.startBatch("move-selection");const t=this.graph.snapToGrid(e.clientX,e.clientY);this.setEventData(e,{action:"translating",clientX:t.x,clientY:t.y,originX:t.x,originY:t.y})}getSelectionOffset(e,t){let r=e.x-t.clientX,a=e.y-t.clientY;const u=this.graph.hook.getRestrictArea();if(u){const p=this.collection.toArray(),b=tl.getCellsBBox(p,{deep:!0})||Oo.create(),P=u.x-b.x,I=u.y-b.y,z=u.x+u.width-(b.x+b.width),W=u.y+u.height-(b.y+b.height);if(r<P&&(r=P),a<I&&(a=I),z<r&&(r=z),W<a&&(a=W),!this.options.following){const ne=e.x-t.originX,Te=e.y-t.originY;r=ne<=P||ne>=z?0:r,a=Te<=I||Te>=W?0:a}}return{dx:r,dy:a}}updateSelectedNodesPosition(e){const{dx:t,dy:r}=e;if(t||r)if(this.translateSelectedNodes(t,r),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{const a=this.graph.transform.getScale();this.$boxes.add(this.$selectionContainer).css({left:`+=${t*a.sx}`,top:`+=${r*a.sy}`})}}autoScrollGraph(e,t){const r=this.graph.scroller.widget;return r?r.autoScroll(e,t):{scrollerX:0,scrollerY:0}}adjustSelection(e){const t=this.normalizeEvent(e),r=this.getEventData(t);switch(r.action){case"selecting":{const u=r;u.moving!==!0&&(this.$container.appendTo(this.graph.container),this.showRubberband(),u.moving=!0);const{scrollerX:p,scrollerY:b}=this.autoScrollGraph(t.clientX,t.clientY);u.scrollerX+=p,u.scrollerY+=b;const P=t.clientX-u.clientX+u.scrollerX,I=t.clientY-u.clientY+u.scrollerY,z=parseInt(this.$container.css("left"),10),W=parseInt(this.$container.css("top"),10);this.$container.css({left:P<0?u.offsetX+P:z,top:I<0?u.offsetY+I:W,width:Math.abs(P),height:Math.abs(I)});break}case"translating":{const u=this.graph.snapToGrid(t.clientX,t.clientY),p=r,b=this.getSelectionOffset(u,p);this.options.following?this.updateSelectedNodesPosition(b):this.updateContainerPosition(b),b.dx&&(p.clientX=u.x),b.dy&&(p.clientY=u.y),this.notifyBoxEvent("box:mousemove",e,u.x,u.y);break}default:break}this.boxesUpdated=!1}translateSelectedNodes(e,t,r,a){const u={},p=[];if(r&&(u[r.id]=!0),this.collection.toArray().forEach(b=>{b.getDescendants({deep:!0}).forEach(P=>{u[P.id]=!0})}),a&&a.translateBy){const b=this.graph.getCellById(a.translateBy);b&&(u[b.id]=!0,b.getDescendants({deep:!0}).forEach(P=>{u[P.id]=!0}),p.push(b))}this.collection.toArray().forEach(b=>{if(!u[b.id]){const P=Object.assign(Object.assign({},a),{selection:this.cid,exclude:p});b.translate(e,t,P),this.graph.model.getConnectedEdges(b).forEach(I=>{u[I.id]||(I.translate(e,t,P),u[I.id]=!0)})}})}getCellViewsInArea(e){const t=this.graph,r={strict:this.options.strict};let a=[];return this.options.rubberNode&&(this.options.useCellGeometry?a=a.concat(t.model.getNodesInArea(e,r).map(u=>t.renderer.findViewByCell(u)).filter(u=>u!=null)):a=a.concat(t.renderer.findViewsInArea(e,r))),this.options.rubberEdge&&(this.options.useCellGeometry?a=a.concat(t.model.getEdgesInArea(e,r).map(u=>t.renderer.findViewByCell(u)).filter(u=>u!=null)):a=a.concat(t.renderer.findEdgeViewsInArea(e,r))),a}notifyBoxEvent(e,t,r,a){const p=this.getEventData(t).activeView;this.trigger(e,{e:t,view:p,x:r,y:a,cell:p.cell})}getSelectedClassName(e){return this.prefixClassName(`${e.isNode()?"node":"edge"}-selected`)}addCellSelectedClassName(e){const t=this.graph.renderer.findViewByCell(e);t&&t.addClass(this.getSelectedClassName(e))}removeCellUnSelectedClassName(e){const t=this.graph.renderer.findViewByCell(e);t&&t.removeClass(this.getSelectedClassName(e))}destroySelectionBox(e){this.removeCellUnSelectedClassName(e),this.canShowSelectionBox(e)&&(this.$container.find(`[data-cell-id="${e.id}"]`).remove(),this.$boxes.length===0&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))}destroyAllSelectionBoxes(e){e.forEach(t=>this.removeCellUnSelectedClassName(t)),this.hide(),this.$boxes.remove(),this.boxCount=0}hide(){this.$container.removeClass(this.prefixClassName(Xf.classNames.rubberband)).removeClass(this.prefixClassName(Xf.classNames.selected))}showRubberband(){this.$container.addClass(this.prefixClassName(Xf.classNames.rubberband))}hideRubberband(){this.$container.removeClass(this.prefixClassName(Xf.classNames.rubberband))}showSelected(){this.$container.removeAttr("style").addClass(this.prefixClassName(Xf.classNames.selected))}createContainer(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$container.addClass(this.prefixClassName(Xf.classNames.root)),this.options.className&&this.$container.addClass(this.options.className),this.$selectionContainer=this.$("<div/>").addClass(this.prefixClassName(Xf.classNames.inner)),this.$selectionContent=this.$("<div/>").addClass(this.prefixClassName(Xf.classNames.content)),this.$selectionContainer.append(this.$selectionContent),this.$selectionContainer.attr("data-selection-length",this.collection.length),this.$container.prepend(this.$selectionContainer),this.$handleContainer=this.$selectionContainer}updateContainerPosition(e){(e.dx||e.dy)&&this.$selectionContainer.css({left:`+=${e.dx}`,top:`+=${e.dy}`})}updateContainer(){const e={x:1/0,y:1/0},t={x:0,y:0};this.collection.toArray().filter(u=>this.canShowSelectionBox(u)).forEach(u=>{const p=this.graph.renderer.findViewByCell(u);if(p){const b=p.getBBox({useCellGeometry:this.options.useCellGeometry});e.x=Math.min(e.x,b.x),e.y=Math.min(e.y,b.y),t.x=Math.max(t.x,b.x+b.width),t.y=Math.max(t.y,b.y+b.height)}}),this.$selectionContainer.css({position:"absolute",pointerEvents:"none",left:e.x,top:e.y,width:t.x-e.x,height:t.y-e.y}).attr("data-selection-length",this.collection.length);const a=this.options.content;if(a)if(typeof a=="function"){const u=er(a,this.graph,this,this.$selectionContent[0]);u&&this.$selectionContent.html(u)}else this.$selectionContent.html(a);this.collection.length>0&&!this.container.parentNode?this.$container.appendTo(this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}canShowSelectionBox(e){return e.isNode()&&this.options.showNodeSelectionBox===!0||e.isEdge()&&this.options.showEdgeSelectionBox===!0}createSelectionBox(e){if(this.addCellSelectedClassName(e),this.canShowSelectionBox(e)){const t=this.graph.renderer.findViewByCell(e);if(t){const r=t.getBBox({useCellGeometry:this.options.useCellGeometry}),a=this.boxClassName;this.$("<div/>").addClass(a).addClass(`${a}-${e.isNode()?"node":"edge"}`).attr("data-cell-id",e.id).css({position:"absolute",left:r.x,top:r.y,width:r.width,height:r.height,pointerEvents:this.options.pointerEvents||"auto"}).appendTo(this.container),this.showSelected(),this.boxCount+=1}}}updateSelectionBoxes(e={}){this.collection.length>0&&(this.boxesUpdated=!0,this.graph.renderer.requestViewUpdate(this,1,2,e))}confirmUpdate(){return this.boxCount&&(this.hide(),this.$boxes.each((e,t)=>{const r=this.$(t).remove().attr("data-cell-id"),a=this.collection.get(r);a&&this.createSelectionBox(a)}),this.updateContainer()),0}getCellViewFromElem(e){const t=e.getAttribute("data-cell-id");if(t){const r=this.collection.get(t);if(r)return this.graph.renderer.findViewByCell(r)}return null}onCellRemoved({cell:e}){this.destroySelectionBox(e),this.updateContainer()}onReseted({previous:e,current:t}){this.destroyAllSelectionBoxes(e),t.forEach(r=>{this.listenCellRemoveEvent(r),this.createSelectionBox(r)}),this.updateContainer()}onCellAdded({cell:e}){this.listenCellRemoveEvent(e),this.createSelectionBox(e),this.updateContainer()}listenCellRemoveEvent(e){e.off("removed",this.onCellRemoved,this),e.on("removed",this.onCellRemoved,this)}onCollectionUpdated({added:e,removed:t,options:r}){e.forEach(u=>{this.trigger("cell:selected",{cell:u,options:r}),this.graph.trigger("cell:selected",{cell:u,options:r}),u.isNode()?(this.trigger("node:selected",{cell:u,options:r,node:u}),this.graph.trigger("node:selected",{cell:u,options:r,node:u})):u.isEdge()&&(this.trigger("edge:selected",{cell:u,options:r,edge:u}),this.graph.trigger("edge:selected",{cell:u,options:r,edge:u}))}),t.forEach(u=>{this.trigger("cell:unselected",{cell:u,options:r}),this.graph.trigger("cell:unselected",{cell:u,options:r}),u.isNode()?(this.trigger("node:unselected",{cell:u,options:r,node:u}),this.graph.trigger("node:unselected",{cell:u,options:r,node:u})):u.isEdge()&&(this.trigger("edge:unselected",{cell:u,options:r,edge:u}),this.graph.trigger("edge:unselected",{cell:u,options:r,edge:u}))});const a={added:e,removed:t,options:r,selected:this.cells.filter(u=>!!this.graph.getCellById(u.id))};this.trigger("selection:changed",a),this.graph.trigger("selection:changed",a)}deleteSelectedCells(){const e=this.collection.toArray();this.clean(),this.graph.model.removeCells(e,{selection:this.cid})}startRotate({e}){const t=this.collection.toArray(),r=tl.getCellsBBox(t).getCenter(),a=this.graph.snapToGrid(e.clientX,e.clientY),u=t.reduce((p,b)=>(p[b.id]=gl.normalize(b.getAngle()),p),{});this.setEventData(e,{center:r,angles:u,start:a.theta(r)})}doRotate({e}){const t=this.getEventData(e),r=this.graph.options.rotating.grid,a=typeof r=="function"?er(r,this.graph,null):r,u=this.graph.snapToGrid(e.clientX,e.clientY),p=t.start-u.theta(t.center);t.rotated||(t.rotated=!0),Math.abs(p)>.001&&(this.collection.toArray().forEach(b=>{const P=vu.snapToGrid(t.angles[b.id]+p,a||15);b.rotate(P,{absolute:!0,center:t.center,selection:this.cid})}),this.updateSelectionBoxes())}stopRotate({e}){const t=this.getEventData(e);t.rotated&&(t.rotated=!1,this.collection.toArray().forEach(r=>{zu("node:rotated",e,this.graph.findViewByCell(r))}))}startResize({e}){const t=this.graph.getGridSize(),r=this.collection.toArray(),a=tl.getCellsBBox(r),u=r.map(P=>P.getBBox()),p=u.reduce((P,I)=>I.width<P?I.width:P,1/0),b=u.reduce((P,I)=>I.height<P?I.height:P,1/0);this.setEventData(e,{bbox:a,cells:this.graph.model.getSubGraph(r),minWidth:t*a.width/p,minHeight:t*a.height/b})}doResize({e,dx:t,dy:r}){const a=this.eventData(e),u=a.bbox,p=u.width,b=u.height,P=Math.max(p+t,a.minWidth),I=Math.max(b+r,a.minHeight);a.resized||(a.resized=!0),(Math.abs(p-P)>.001||Math.abs(b-I)>.001)&&(this.graph.model.resizeCells(P,I,a.cells,{selection:this.cid}),u.width=P,u.height=I,this.updateSelectionBoxes())}stopResize({e}){const t=this.eventData(e);t.resized&&(t.resized=!1,this.collection.toArray().forEach(r=>{zu("node:resized",e,this.graph.findViewByCell(r))}))}dispose(){this.clean(),this.remove()}}Y1([Nl.dispose()],I0.prototype,"dispose",null),Ro(I0,Wg);var Xf;(function(c){const e="widget-selection";c.classNames={root:e,inner:`${e}-inner`,box:`${e}-box`,content:`${e}-content`,rubberband:`${e}-rubberband`,selected:`${e}-selected`},c.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},c.defaultOptions={movable:!0,following:!0,strict:!1,useCellGeometry:!1,content(r){return V('<%= length %> node<%= length > 1 ? "s":"" %> selected.')({length:r.length})},handles:[{name:"remove",position:"nw",events:{mousedown:"deleteSelectedCells"}},{name:"rotate",position:"sw",events:{mousedown:"startRotate",mousemove:"doRotate",mouseup:"stopRotate"}},{name:"resize",position:"se",events:{mousedown:"startResize",mousemove:"doResize",mouseup:"stopResize"}}]};function t(r){return r.getAncestors().length}c.depthComparator=t})(Xf||(Xf={}));class Py extends R0{get node(){return this.cell}get containerClassName(){return this.prefixClassName("widget-transform")}get resizeClassName(){return`${this.containerClassName}-resize`}get rotateClassName(){return`${this.containerClassName}-rotate`}init(e){this.options=Object.assign(Object.assign({},Qu.defaultOptions),e),this.render(),this.startListening()}startListening(){this.delegateEvents({[`mousedown .${this.resizeClassName}`]:"startResizing",[`touchstart .${this.resizeClassName}`]:"startResizing",[`mousedown .${this.rotateClassName}`]:"startRotating",[`touchstart .${this.rotateClassName}`]:"startRotating"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.node.on("removed",this.remove,this),this.model.on("reseted",this.remove,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.node.off("removed",this.remove,this),this.model.off("reseted",this.remove,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}renderHandles(){this.container=document.createElement("div"),this.$container=this.$(this.container);const e=this.$("<div/>").prop("draggable",!1),t=e.clone().addClass(this.rotateClassName),r=Qu.POSITIONS.map(a=>e.clone().addClass(this.resizeClassName).attr("data-position",a));this.empty(),this.$container.append(r,t)}render(){return this.renderHandles(),this.view.addClass(Qu.NODE_CLS),this.$container.addClass(this.containerClassName).toggleClass("no-orth-resize",this.options.preserveAspectRatio||!this.options.orthogonalResizing).toggleClass("no-resize",!this.options.resizable).toggleClass("no-rotate",!this.options.rotatable),this.options.className&&this.$container.addClass(this.options.className),this.graph.container.appendChild(this.container),this.update()}update(){const e=this.graph.matrix(),t=this.node.getBBox();t.x*=e.a,t.x+=e.e,t.y*=e.d,t.y+=e.f,t.width*=e.a,t.height*=e.d;const r=gl.normalize(this.node.getAngle()),a=r!==0?`rotate(${r}deg)`:"";return this.$container.css({transform:a,width:t.width,height:t.height,left:t.x,top:t.y}),this.updateResizerDirections(),this}remove(){return this.view.removeClass(Qu.NODE_CLS),super.remove()}onKnobMouseDown(){this.startHandle()}onKnobMouseUp(){this.stopHandle()}updateResizerDirections(){const e=gl.normalize(this.node.getAngle()),t=Math.floor(e*(Qu.DIRECTIONS.length/360));if(t!==this.prevShift){const r=Qu.DIRECTIONS.slice(t).concat(Qu.DIRECTIONS.slice(0,t)),a=u=>`${this.containerClassName}-cursor-${u}`;this.$container.find(`.${this.resizeClassName}`).removeClass(Qu.DIRECTIONS.map(u=>a(u)).join(" ")).each((u,p)=>{this.$(p).addClass(a(r[u]))}),this.prevShift=t}}getTrueDirection(e){const t=gl.normalize(this.node.getAngle());let r=Qu.POSITIONS.indexOf(e);return r+=Math.floor(t*(Qu.POSITIONS.length/360)),r%=Qu.POSITIONS.length,Qu.POSITIONS[r]}toValidResizeDirection(e){return{top:"top-left",bottom:"bottom-right",left:"bottom-left",right:"top-right"}[e]||e}startResizing(e){e.stopPropagation(),this.model.startBatch("resize",{cid:this.cid});const t=this.$(e.target).attr("data-position"),r=this.graph.findViewByCell(this.node);this.prepareResizing(e,t),this.startAction(e),zu("node:resize:mousedown",e,r)}prepareResizing(e,t){const r=this.getTrueDirection(t);let a=0,u=0;t.split("-").forEach(I=>{a={left:-1,right:1}[I]||a,u={top:-1,bottom:1}[I]||u});const p=this.toValidResizeDirection(t),b={"top-right":"bottomLeft","top-left":"bottomRight","bottom-left":"topRight","bottom-right":"topLeft"}[p],P=gl.normalize(this.node.getAngle());this.setEventData(e,{selector:b,direction:p,trueDirection:r,relativeDirection:t,angle:P,resizeX:a,resizeY:u,action:"resizing"})}startRotating(e){e.stopPropagation(),this.model.startBatch("rotate",{cid:this.cid});const t=this.graph.findViewByCell(this.node),r=this.node.getBBox().getCenter(),a=this.normalizeEvent(e),u=this.graph.snapToGrid(a.clientX,a.clientY);this.setEventData(e,{center:r,action:"rotating",angle:gl.normalize(this.node.getAngle()),start:Bn.create(u).theta(r)}),this.startAction(e),zu("node:rotate:mousedown",e,t)}onMouseMove(e){const t=this.graph.findViewByCell(this.node);let r=this.getEventData(e);if(r.action){const a=this.normalizeEvent(e);let u=a.clientX,p=a.clientY;const b=this.graph.scroller.widget,P=this.options.restrictedResizing;if(P===!0||typeof P=="number"){const Te=P===!0?0:P,Ke=b?Math.max(Te,8):Te,Ue=this.graph.container.getBoundingClientRect();u=Ci(u,Ue.left+Ke,Ue.right-Ke),p=Ci(p,Ue.top+Ke,Ue.bottom-Ke)}else this.options.autoScrollOnResizing&&b&&b.autoScroll(u,p);const I=this.graph.snapToGrid(u,p),z=this.graph.getGridSize(),W=this.node,ne=this.options;if(r.action==="resizing"){r=r,r.resized||(t&&(t.addClass("node-resizing"),zu("node:resize",e,t)),r.resized=!0);const Te=W.getBBox(),Ke=Bn.create(I).rotate(r.angle,Te.getCenter()).diff(Te[r.selector]);let Ue=r.resizeX?Ke.x*r.resizeX:Te.width,At=r.resizeY?Ke.y*r.resizeY:Te.height;const tn=Ue,pn=At;if(Ue=vu.snapToGrid(Ue,z),At=vu.snapToGrid(At,z),Ue=Math.max(Ue,ne.minWidth||z),At=Math.max(At,ne.minHeight||z),Ue=Math.min(Ue,ne.maxWidth||1/0),At=Math.min(At,ne.maxHeight||1/0),ne.preserveAspectRatio){const zn=Te.width*At/Te.height,gr=Te.height*Ue/Te.width;Ue<zn?At=gr:Ue=zn}const Kt=r.relativeDirection;if(ne.allowReverse&&(tn<=-Ue||pn<=-At)){let zn;Kt==="left"?tn<=-Ue&&(zn="right"):Kt==="right"?tn<=-Ue&&(zn="left"):Kt==="top"?pn<=-At&&(zn="bottom"):Kt==="bottom"?pn<=-At&&(zn="top"):Kt==="top-left"?tn<=-Ue&&pn<=-At?zn="bottom-right":tn<=-Ue?zn="top-right":pn<=-At&&(zn="bottom-left"):Kt==="top-right"?tn<=-Ue&&pn<=-At?zn="bottom-left":tn<=-Ue?zn="top-left":pn<=-At&&(zn="bottom-right"):Kt==="bottom-left"?tn<=-Ue&&pn<=-At?zn="top-right":tn<=-Ue?zn="bottom-right":pn<=-At&&(zn="top-left"):Kt==="bottom-right"&&(tn<=-Ue&&pn<=-At?zn="top-left":tn<=-Ue?zn="bottom-left":pn<=-At&&(zn="top-right"));const gr=zn;this.stopHandle();const ii=this.$container.find(`.${this.resizeClassName}[data-position="${gr}"]`);this.startHandle(ii[0]),this.prepareResizing(e,gr),this.onMouseMove(e)}if(Te.width!==Ue||Te.height!==At){const zn={ui:!0,direction:r.direction,relativeDirection:r.relativeDirection,trueDirection:r.trueDirection,minWidth:ne.minWidth,minHeight:ne.minHeight,maxWidth:ne.maxWidth,maxHeight:ne.maxHeight,preserveAspectRatio:ne.preserveAspectRatio===!0};W.resize(Ue,At,zn),zu("node:resizing",e,t)}zu("node:resize:mousemove",e,t)}else if(r.action==="rotating"){r=r,r.rotated||(t&&(t.addClass("node-rotating"),zu("node:rotate",e,t)),r.rotated=!0);const Te=W.getAngle(),Ke=r.start-Bn.create(I).theta(r.center);let Ue=r.angle+Ke;ne.rotateGrid&&(Ue=vu.snapToGrid(Ue,ne.rotateGrid)),Ue=gl.normalize(Ue),Te!==Ue&&(W.rotate(Ue,{absolute:!0}),zu("node:rotating",e,t)),zu("node:rotate:mousemove",e,t)}}}onMouseUp(e){const t=this.graph.findViewByCell(this.node),r=this.getEventData(e);r.action&&(this.stopAction(e),this.model.stopBatch(r.action==="resizing"?"resize":"rotate",{cid:this.cid}),r.action==="resizing"?zu("node:resize:mouseup",e,t):r.action==="rotating"&&zu("node:rotate:mouseup",e,t))}startHandle(e){if(this.handle=e||null,this.$container.addClass(`${this.containerClassName}-active`),e){this.$(e).addClass(`${this.containerClassName}-active-handle`);const t=e.getAttribute("data-position");if(t){const r=Qu.DIRECTIONS[Qu.POSITIONS.indexOf(t)];this.$container.addClass(`${this.containerClassName}-cursor-${r}`)}}}stopHandle(){if(this.$container.removeClass(`${this.containerClassName}-active`),this.handle){this.$(this.handle).removeClass(`${this.containerClassName}-active-handle`);const e=this.handle.getAttribute("data-position");if(e){const t=Qu.DIRECTIONS[Qu.POSITIONS.indexOf(e)];this.$container.removeClass(`${this.containerClassName}-cursor-${t}`)}this.handle=null}}startAction(e){this.startHandle(e.target),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Qu.documentEvents,e.data)}stopAction(e){this.stopHandle(),this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const t=this.graph.findViewByCell(this.node),r=this.getEventData(e);t&&(t.removeClass(`node-${r.action}`),r.action==="resizing"&&r.resized?zu("node:resized",e,t):r.action==="rotating"&&r.rotated&&zu("node:rotated",e,t))}onRemove(){this.stopListening(),super.onRemove()}}var Qu;(function(c){c.NODE_CLS="has-widget-transform",c.DIRECTIONS=["nw","n","ne","e","se","s","sw","w"],c.POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],c.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"},c.defaultOptions={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,rotateGrid:15,rotatable:!0,preserveAspectRatio:!1,orthogonalResizing:!0,restrictedResizing:!1,autoScrollOnResizing:!0,allowReverse:!0}})(Qu||(Qu={}));var X1=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t},Jd;(function(c){function e(t,r,a){const u={};return Object.keys(a||{}).forEach(p=>{const b=a[p];u[p]=typeof b=="function"?b.call(t,r):b}),u}c.parseOptionGroup=e})(Jd||(Jd={})),function(c){function e(t){const{grid:r,panning:a,selecting:u,embedding:p,snapline:b,resizing:P,rotating:I,knob:z,clipboard:W,history:ne,scroller:Te,minimap:Ke,keyboard:Ue,mousewheel:At}=t,tn=X1(t,["grid","panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"]),pn=t.container;if(pn!=null)tn.width==null&&(tn.width=pn.clientWidth),tn.height==null&&(tn.height=pn.clientHeight);else throw new Error("Ensure the container of the graph is specified and valid");const Kt=ea.Z({},c.defaults,tn),zn={size:10,visible:!1};return typeof r=="number"?Kt.grid={size:r,visible:!1}:typeof r=="boolean"?Kt.grid=Object.assign(Object.assign({},zn),{visible:r}):Kt.grid=Object.assign(Object.assign({},zn),r),["panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"].forEach(ii=>{const si=t[ii];typeof si=="boolean"?Kt[ii].enabled=si:Kt[ii]=Object.assign(Object.assign({},Kt[ii]),si)}),Kt.background&&Kt.scroller.enabled&&Kt.scroller.background==null&&(Kt.scroller.background=Kt.background,delete Kt.background),Kt}c.get=e}(Jd||(Jd={})),function(c){c.defaults={x:0,y:0,grid:{size:10,visible:!1},scaling:{min:.01,max:16},background:!1,highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:vu.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:vu.prefix("available-magnet")}}},connecting:{snap:!1,multi:!0,dangling:!0,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",strategy:null,router:"normal",connector:"normal",validateConnection({type:e,sourceView:t,targetView:r}){return(e==="target"?r:t)!=null},createEdge(){return new wy}},transforming:{clearAll:!0,clearOnBlankMouseDown:!0},resizing:{enabled:!1,minWidth:0,minHeight:0,maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,orthogonal:!0,restricted:!1,autoScroll:!0,preserveAspectRatio:!1,allowReverse:!0},rotating:{enabled:!1,grid:15},translating:{restrict:!1},knob:{enabled:!1,clearAll:!0,clearOnBlankMouseDown:!0},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},selecting:{enabled:!1,rubberband:!1,rubberNode:!0,rubberEdge:!1,pointerEvents:"auto",multiple:!0,multipleSelectionModifiers:["ctrl","meta"],movable:!0,strict:!1,useCellGeometry:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,content:null,handles:null},panning:{enabled:!1,eventTypes:["leftMouseDown"]},snapline:{enabled:!1},clipboard:{enabled:!1},history:{enabled:!1},scroller:{enabled:!1},keyboard:{enabled:!1},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},async:!1,frozen:!1,sorting:"exact",moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},guard:()=>!1}}(Jd||(Jd={}));var Q1=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class J1 extends wc{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(e){return this.svg.getElementById(e)!=null}filter(e){let t=e.id;const r=e.name;if(t||(t=`filter-${r}-${this.cid}-${Kr(JSON.stringify(e))}`),!this.isDefined(t)){const a=kh.registry.get(r);if(a==null)return kh.registry.onNotFound(r);const u=a(e.args||{}),p=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},e.attrs),{id:t});ma.create(Fl.sanitize(u),p).appendTo(this.defs)}return t}gradient(e){let t=e.id;const r=e.type;if(t||(t=`gradient-${r}-${this.cid}-${Kr(JSON.stringify(e))}`),!this.isDefined(t)){const u=e.stops.map(P=>{const I=P.opacity!=null&&Number.isFinite(P.opacity)?P.opacity:1;return`<stop offset="${P.offset}" stop-color="${P.color}" stop-opacity="${I}"/>`}),p=`<${r}>${u.join("")}</${r}>`,b=Object.assign({id:t},e.attrs);ma.create(p,b).appendTo(this.defs)}return t}marker(e){const{id:t,refX:r,refY:a,markerUnits:u,markerOrient:p,tagName:b,children:P}=e,I=Q1(e,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let z=t;if(z||(z=`marker-${this.cid}-${Kr(JSON.stringify(e))}`),!this.isDefined(z)){b!=="path"&&delete I.d;const W=ma.create("marker",{refX:r,refY:a,id:z,overflow:"visible",orient:p!=null?p:"auto",markerUnits:u||"userSpaceOnUse"},P?P.map(ne=>{var{tagName:Te}=ne,Ke=Q1(ne,["tagName"]);return ma.create(`${Te}`||"path",np(Object.assign(Object.assign({},I),Ke)))}):[ma.create(b||"path",np(I))]);this.defs.appendChild(W.node)}return z}remove(e){const t=this.svg.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t)}}var q1=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u},QC=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class k0 extends wc{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(e){this.grid.visible!==e&&(this.grid.visible=e,this.update())}getGridSize(){return this.grid.size}setGridSize(e){this.grid.size=Math.max(e,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(e){this.clear(),this.instance=null,Object.assign(this.grid,e),this.patterns=this.resolveGrid(e),this.update()}update(e={}){const t=this.grid.size;if(t<=1||!this.grid.visible)return this.clear();const r=this.graph.matrix(),a=this.getInstance(),u=Array.isArray(e)?e:[e];this.patterns.forEach((P,I)=>{const z=`pattern_${I}`,W=r.a||1,ne=r.d||1,{update:Te,markup:Ke}=P,Ue=QC(P,["update","markup"]),At=Object.assign(Object.assign(Object.assign({},Ue),u[I]),{sx:W,sy:ne,ox:r.e||0,oy:r.f||0,width:t*W,height:t*ne});a.has(z)||a.add(z,ma.create("pattern",{id:z,patternUnits:"userSpaceOnUse"},ma.createVectors(Ke)).node);const tn=a.get(z);typeof Te=="function"&&Te(tn.childNodes[0],At);let pn=At.ox%At.width;pn<0&&(pn+=At.width);let Kt=At.oy%At.height;Kt<0&&(Kt+=At.height),Il(tn,{x:pn,y:Kt,width:At.width,height:At.height})});const p=new XMLSerializer().serializeToString(a.root),b=`url(data:image/svg+xml;base64,${btoa(p)})`;this.elem.style.backgroundImage=b}getInstance(){return this.instance||(this.instance=new hh),this.instance}resolveGrid(e){if(!e)return[];const t=e.type;if(t==null)return[Object.assign(Object.assign({},hh.presets.dot),e.args)];const r=hh.registry.get(t);if(r){let a=e.args||[];return Array.isArray(a)||(a=[a]),Array.isArray(r)?r.map((u,p)=>Object.assign(Object.assign({},u),a[p])):[Object.assign(Object.assign({},r),a[0])]}return hh.registry.onNotFound(t)}dispose(){this.stopListening(),this.clear()}}q1([wc.dispose()],k0.prototype,"dispose",null);class Ty extends wc{getClientMatrix(){return Ms(this.view.stage.getScreenCTM())}getClientOffset(){const e=this.view.svg.getBoundingClientRect();return new Bn(e.left,e.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(e,t){return(typeof e=="number"?this.clientToLocalPoint(e,t):this.clientToLocalPoint(e.x,e.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(e,t){const r=Bn.create(e,t);return rd(r,this.graph.matrix())}localToClientPoint(e,t){const r=Bn.create(e,t);return rd(r,this.getClientMatrix())}localToPagePoint(e,t){return(typeof e=="number"?this.localToGraphPoint(e,t):this.localToGraphPoint(e)).translate(this.getPageOffset())}localToGraphRect(e,t,r,a){const u=Oo.create(e,t,r,a);return Pf(u,this.graph.matrix())}localToClientRect(e,t,r,a){const u=Oo.create(e,t,r,a);return Pf(u,this.getClientMatrix())}localToPageRect(e,t,r,a){return(typeof e=="number"?this.localToGraphRect(e,t,r,a):this.localToGraphRect(e)).translate(this.getPageOffset())}graphToLocalPoint(e,t){const r=Bn.create(e,t);return rd(r,this.graph.matrix().inverse())}clientToLocalPoint(e,t){const r=Bn.create(e,t);return rd(r,this.getClientMatrix().inverse())}clientToGraphPoint(e,t){const r=Bn.create(e,t);return rd(r,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(e,t){const a=Bn.create(e,t).diff(this.getPageOffset());return this.graphToLocalPoint(a)}graphToLocalRect(e,t,r,a){const u=Oo.create(e,t,r,a);return Pf(u,this.graph.matrix().inverse())}clientToLocalRect(e,t,r,a){const u=Oo.create(e,t,r,a);return Pf(u,this.getClientMatrix().inverse())}clientToGraphRect(e,t,r,a){const u=Oo.create(e,t,r,a);return Pf(u,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(e,t,r,a){const u=Oo.create(e,t,r,a),p=this.getPageOffset();return u.x-=p.x,u.y-=p.y,this.graphToLocalRect(u)}}var e2=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class L0 extends wc{constructor(){super(...arguments),this.widget=this.graph.hook.createSnapline()}dispose(){this.widget.dispose()}}e2([wc.dispose()],L0.prototype,"dispose",null);var Ld;(function(c){function e(a){const u=[],p=[];return Array.isArray(a)?u.push(...a):a.split("|").forEach(b=>{b.indexOf("&")===-1?u.push(b):p.push(...b.split("&"))}),{or:u,and:p}}c.parse=e;function t(a,u){if(a!=null&&u!=null){const p=e(a),b=e(u),P=p.or.sort(),I=b.or.sort(),z=p.and.sort(),W=b.and.sort(),ne=(Te,Ke)=>Te.length===Ke.length&&(Te.length===0||Te.every((Ue,At)=>Ue===Ke[At]));return ne(P,I)&&ne(z,W)}return a==null&&u==null}c.equals=t;function r(a,u,p){if(u==null||Array.isArray(u)&&u.length===0)return p?a.altKey!==!0&&a.ctrlKey!==!0&&a.metaKey!==!0&&a.shiftKey!==!0:!0;const{or:b,and:P}=e(u),I=z=>{const W=`${z.toLowerCase()}Key`;return a[W]===!0};return b.some(z=>I(z))&&P.every(z=>I(z))}c.isMatch=r})(Ld||(Ld={}));var JC=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class Oy extends wc{get widgetOptions(){return this.options.scroller}get pannable(){return this.widgetOptions?typeof this.widgetOptions.pannable=="object"?this.widgetOptions.pannable.enabled:!!this.widgetOptions.pannable:!1}init(){this.widget=this.graph.hook.createScroller(),this.startListening(),this.updateClassName(),this.widget&&this.widget.center()}startListening(){let e=[];const t=this.widgetOptions.pannable;typeof t=="object"?e=t.eventTypes||[]:e=["leftMouseDown"],e.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.widget.container).on("mousedown",this.onRightMouseDown))}stopListening(){let e=[];const t=this.widgetOptions.pannable;typeof t=="object"?e=t.eventTypes||[]:e=["leftMouseDown"],e.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&this.view.$(this.widget.container).off("mousedown",this.onRightMouseDown)}onRightMouseDown(e){e.button===2&&this.allowPanning(e,!0)&&this.widget&&(this.updateClassName(!0),this.widget.startPanning(e),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}preparePanning({e}){this.widget&&(this.allowPanning(e,!0)||this.allowPanning(e)&&!this.graph.selection.allowRubberband(e,!0))&&(this.updateClassName(!0),this.widget.startPanning(e),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}allowPanning(e,t){return this.widget&&this.pannable&&Ld.isMatch(e,this.widgetOptions.modifiers,t)&&this.graph.hook.allowPanning(e)}updateClassName(e){if(this.widget==null)return;const t=this.widget.container,r=this.view.prefixClassName("graph-scroller-pannable");this.pannable?(Qt(t,r),t.dataset.panning=(!!e).toString()):Zn(t,r)}enablePanning(){this.pannable||(this.widgetOptions.pannable=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.pannable=!1,this.updateClassName())}lock(){this.widget&&this.widget.lock()}unlock(){this.widget&&this.widget.unlock()}update(){this.widget&&this.widget.update()}enableAutoResize(){this.widget&&this.widget.enableAutoResize()}disableAutoResize(){this.widget&&this.widget.disableAutoResize()}resize(e,t){this.widget&&this.widget.resize(e,t)}dispose(){this.widget&&this.widget.dispose(),this.stopListening()}}JC([wc.dispose()],Oy.prototype,"dispose",null);var qC=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u},ex=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class _y extends wc{get commonOptions(){const e=this.instanceOptions,{enabled:t}=e;return ex(e,["enabled"])}get instanceOptions(){return this.options.clipboard}get cells(){return this.widget.cells}get disabled(){return this.instanceOptions.enabled!==!0}init(){this.widget=this.graph.hook.createClipboard(),this.widget.deserialize(this.instanceOptions)}enable(){this.disabled&&(this.instanceOptions.enabled=!0)}disable(){this.disabled||(this.instanceOptions.enabled=!1)}copy(e,t={}){this.disabled||(this.widget.copy(e,this.graph,Object.assign(Object.assign({},this.commonOptions),t)),this.graph.trigger("clipboard:changed",{cells:e}))}cut(e,t={}){this.disabled||(this.widget.cut(e,this.graph,Object.assign(Object.assign({},this.commonOptions),t)),this.graph.trigger("clipboard:changed",{cells:e}))}paste(e={},t=this.graph){return this.disabled?[]:this.widget.paste(t,Object.assign(Object.assign({},this.commonOptions),e))}clean(e){(!this.disabled||e)&&(this.widget.clean(),this.graph.trigger("clipboard:changed",{cells:[]}))}isEmpty(){return this.widget.isEmpty()}dispose(){this.clean(!0)}}qC([wc.dispose()],_y.prototype,"dispose",null);var tx=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class F0 extends wc{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:e,magnet:t,options:r={}}){const a=this.resolveHighlighter(r);if(!a)return;const u=this.getHighlighterId(t,a);if(!this.highlights[u]){const p=a.highlighter;p.highlight(e,t,Object.assign({},a.args)),this.highlights[u]={cellView:e,magnet:t,highlighter:p,args:a.args}}}onCellUnhighlight({magnet:e,options:t={}}){const r=this.resolveHighlighter(t);if(!r)return;const a=this.getHighlighterId(e,r);this.unhighlight(a)}resolveHighlighter(e){const t=this.options;let r=e.highlighter;if(r==null){const b=e.type;r=b&&t.highlighting[b]||t.highlighting.default}if(r==null)return null;const a=typeof r=="string"?{name:r}:r,u=a.name,p=rn.registry.get(u);return p==null?rn.registry.onNotFound(u):(rn.check(u,p),{name:u,highlighter:p,args:a.args||{}})}getHighlighterId(e,t){return pi(e),t.name+e.id+JSON.stringify(t.args)}unhighlight(e){const t=this.highlights[e];t&&(t.highlighter.unhighlight(t.cellView,t.magnet,t.args),delete this.highlights[e])}dispose(){Object.keys(this.highlights).forEach(e=>this.unhighlight(e)),this.stopListening()}}tx([F0.dispose()],F0.prototype,"dispose",null);var gh=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class Jv extends wc{constructor(){super(...arguments),this.widgets=new Map}get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening(),this.resize()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:e}){if(!this.isSelectionEnabled){const t=this.graph.hook.createTransform(e,{clearAll:!0});t&&this.widgets.set(e,t)}}onNodeSelected({node:e}){if(this.isSelectionEnabled){const t=this.graph.hook.createTransform(e,{clearAll:!1});t&&this.widgets.set(e,t)}}onNodeUnSelected({node:e}){if(this.isSelectionEnabled){const t=this.widgets.get(e);t&&t.dispose(),this.widgets.delete(e)}}getMatrix(){const e=this.viewport.getAttribute("transform");return e!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=e),Ms(this.viewportMatrix)}setMatrix(e){const t=Ms(e),r=Ud(t);this.viewport.setAttribute("transform",r),this.viewportMatrix=t,this.viewportTransformString=r}resize(e,t){let r=e===void 0?this.options.width:e,a=t===void 0?this.options.height:t;this.options.width=r,this.options.height=a,typeof r=="number"&&(r=Math.round(r)),typeof a=="number"&&(a=Math.round(a)),this.container.style.width=r==null?"":`${r}px`,this.container.style.height=a==null?"":`${a}px`;const u=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},u)),this}getComputedSize(){let e=this.options.width,t=this.options.height;return zi(e)||(e=this.container.clientWidth),zi(t)||(t=this.container.clientHeight),{width:e,height:t}}getScale(){return Mg(this.getMatrix())}scale(e,t=e,r=0,a=0,u={}){if(e=this.clampScale(e),t=this.clampScale(t),r||a){const b=this.getTranslation(),P=b.tx-r*(e-1),I=b.ty-a*(t-1);(P!==b.tx||I!==b.ty)&&this.translate(P,I)}const p=this.getMatrix();return p.a=e,p.d=t,this.setMatrix(p),this.graph.trigger("scale",Object.assign({sx:e,sy:t,ox:r,oy:a},u)),this}clampScale(e){const t=this.graph.options.scaling;return Ci(e,t.min||.01,t.max||16)}getZoom(){return this.getScale().sx}zoom(e,t){t=t||{};let r=e,a=e;const u=this.getScale(),p=this.getComputedSize();let b=p.width/2,P=p.height/2;if(t.absolute||(r+=u.sx,a+=u.sy),t.scaleGrid&&(r=Math.round(r/t.scaleGrid)*t.scaleGrid,a=Math.round(a/t.scaleGrid)*t.scaleGrid),t.maxScale&&(r=Math.min(t.maxScale,r),a=Math.min(t.maxScale,a)),t.minScale&&(r=Math.max(t.minScale,r),a=Math.max(t.minScale,a)),t.center&&(b=t.center.x,P=t.center.y),r=this.clampScale(r),a=this.clampScale(a),b||P){const I=this.getTranslation(),z=b-(b-I.tx)*(r/u.sx),W=P-(P-I.ty)*(a/u.sy);(z!==I.tx||W!==I.ty)&&this.translate(z,W,{ui:t.ui})}return this.scale(r,a,0,0,{ui:t.ui}),this}getRotation(){return Cv(this.getMatrix())}rotate(e,t,r){if(t==null||r==null){const u=ai(this.graph.view.stage);t=u.width/2,r=u.height/2}const a=this.getMatrix().translate(t,r).rotate(e).translate(-t,-r);return this.setMatrix(a),this}getTranslation(){return Pg(this.getMatrix())}translate(e,t,r={}){const a=this.getMatrix();a.e=e||0,a.f=t||0,this.setMatrix(a);const u=this.getTranslation();return this.options.x=u.tx,this.options.y=u.ty,this.graph.trigger("translate",Object.assign(Object.assign({},u),r)),this}setOrigin(e,t){return this.translate(e||0,t||0)}fitToContent(e,t,r,a){if(typeof e=="object"){const Kt=e;e=Kt.gridWidth||1,t=Kt.gridHeight||1,r=Kt.padding||0,a=Kt}else e=e||1,t=t||1,r=r||0,a==null&&(a={});const u=Al(r),p=a.border||0,b=a.contentArea?Oo.create(a.contentArea):this.getContentArea(a);p>0&&b.inflate(p);const P=this.getScale(),I=this.getTranslation(),z=P.sx,W=P.sy;b.x*=z,b.y*=W,b.width*=z,b.height*=W;let ne=Math.max(Math.ceil((b.width+b.x)/e),1)*e,Te=Math.max(Math.ceil((b.height+b.y)/t),1)*t,Ke=0,Ue=0;(a.allowNewOrigin==="negative"&&b.x<0||a.allowNewOrigin==="positive"&&b.x>=0||a.allowNewOrigin==="any")&&(Ke=Math.ceil(-b.x/e)*e,Ke+=u.left,ne+=Ke),(a.allowNewOrigin==="negative"&&b.y<0||a.allowNewOrigin==="positive"&&b.y>=0||a.allowNewOrigin==="any")&&(Ue=Math.ceil(-b.y/t)*t,Ue+=u.top,Te+=Ue),ne+=u.right,Te+=u.bottom,ne=Math.max(ne,a.minWidth||0),Te=Math.max(Te,a.minHeight||0),ne=Math.min(ne,a.maxWidth||Number.MAX_SAFE_INTEGER),Te=Math.min(Te,a.maxHeight||Number.MAX_SAFE_INTEGER);const At=this.getComputedSize(),tn=ne!==At.width||Te!==At.height;return(Ke!==I.tx||Ue!==I.ty)&&this.translate(Ke,Ue),tn&&this.resize(ne,Te),new Oo(-Ke/z,-Ue/W,ne/z,Te/W)}scaleContentToFit(e={}){this.scaleContentToFitImpl(e)}scaleContentToFitImpl(e={},t=!0){let r,a;if(e.contentArea){const tn=e.contentArea;r=this.graph.localToGraph(tn),a=Bn.create(tn)}else r=this.getContentBBox(e),a=this.graph.graphToLocal(r);if(!r.width||!r.height)return;const u=Al(e.padding),p=e.minScale||0,b=e.maxScale||Number.MAX_SAFE_INTEGER,P=e.minScaleX||p,I=e.maxScaleX||b,z=e.minScaleY||p,W=e.maxScaleY||b;let ne;if(e.viewportArea)ne=e.viewportArea;else{const tn=this.getComputedSize(),pn=this.getTranslation();ne={x:pn.tx,y:pn.ty,width:tn.width,height:tn.height}}ne=Oo.create(ne).moveAndExpand({x:u.left,y:u.top,width:-u.left-u.right,height:-u.top-u.bottom});const Te=this.getScale();let Ke=ne.width/r.width*Te.sx,Ue=ne.height/r.height*Te.sy;e.preserveAspectRatio!==!1&&(Ke=Ue=Math.min(Ke,Ue));const At=e.scaleGrid;if(At&&(Ke=At*Math.floor(Ke/At),Ue=At*Math.floor(Ue/At)),Ke=Ci(Ke,P,I),Ue=Ci(Ue,z,W),this.scale(Ke,Ue),t){const tn=this.options,pn=ne.x-a.x*Ke-tn.x,Kt=ne.y-a.y*Ue-tn.y;this.translate(pn,Kt)}}getContentArea(e={}){return e.useCellGeometry?this.model.getAllCellsBBox()||new Oo:ai(this.graph.view.stage)}getContentBBox(e={}){return this.graph.localToGraph(this.getContentArea(e))}getGraphArea(){const e=Oo.fromSize(this.getComputedSize());return this.graph.graphToLocal(e)}zoomToRect(e,t={}){const r=Oo.create(e),a=this.graph;t.contentArea=r,t.viewportArea==null&&(t.viewportArea={x:a.options.x,y:a.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(t,!1);const u=r.getCenter();return this.centerPoint(u.x,u.y),this}zoomToFit(e={}){return this.zoomToRect(this.getContentArea(e),e)}centerPoint(e,t){const r=this.getComputedSize(),a=this.getScale(),u=this.getTranslation(),p=r.width/2,b=r.height/2;e=typeof e=="number"?e:p,t=typeof t=="number"?t:b,e=p-e*a.sx,t=b-t*a.sy,(u.tx!==e||u.ty!==t)&&this.translate(e,t)}centerContent(e){const r=this.graph.getContentArea(e).getCenter();this.centerPoint(r.x,r.y)}centerCell(e){return this.positionCell(e,"center")}positionPoint(e,t,r){const a=this.getComputedSize();t=jl(t,Math.max(0,a.width)),t<0&&(t=a.width+t),r=jl(r,Math.max(0,a.height)),r<0&&(r=a.height+r);const u=this.getTranslation(),p=this.getScale(),b=t-e.x*p.sx,P=r-e.y*p.sy;(u.tx!==b||u.ty!==P)&&this.translate(b,P)}positionRect(e,t){const r=Oo.create(e);switch(t){case"center":return this.positionPoint(r.getCenter(),"50%","50%");case"top":return this.positionPoint(r.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(r.getTopRight(),"100%",0);case"right":return this.positionPoint(r.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(r.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(r.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(r.getBottomLeft(),0,"100%");case"left":return this.positionPoint(r.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(r.getTopLeft(),0,0);default:return this}}positionCell(e,t){const r=e.getBBox();return this.positionRect(r,t)}positionContent(e,t){const r=this.graph.getContentArea(t);return this.positionRect(r,e)}dispose(){this.widgets.forEach(e=>e.dispose()),this.widgets.clear(),this.stopListening()}}gh([Jv.dispose()],Jv.prototype,"dispose",null);var Jx=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class t2 extends wc{constructor(){super(...arguments),this.movedMap=new WeakMap,this.unselectMap=new WeakMap}get widgetOptions(){return this.options.selecting}get rubberbandDisabled(){return this.widgetOptions.enabled!==!0||this.widgetOptions.rubberband!==!0}get disabled(){return this.widgetOptions.enabled!==!0}get length(){return this.widget.length}get cells(){return this.widget.cells}init(){this.widget=this.graph.hook.createSelection(),this.startListening()}startListening(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.widget.on("box:mousedown",this.onBoxMouseDown,this)}stopListening(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.widget.off("box:mousedown",this.onBoxMouseDown,this)}onBlankMouseDown({e}){(this.allowRubberband(e,!0)||this.allowRubberband(e)&&!this.graph.scroller.allowPanning(e,!0)&&!this.graph.panning.allowPanning(e,!0))&&this.startRubberband(e)}onBlankClick(){this.clean()}allowRubberband(e,t){return!this.rubberbandDisabled&&Ld.isMatch(e,this.widgetOptions.modifiers,t)&&this.graph.hook.allowRubberband(e)}allowMultipleSelection(e){return this.isMultiple()&&Ld.isMatch(e,this.widgetOptions.multipleSelectionModifiers)}onCellMouseMove({cell:e}){this.movedMap.set(e,!0)}onCellMouseUp({e,cell:t}){const r=this.widgetOptions;let a=this.disabled;!a&&this.movedMap.has(t)&&(a=r.selectCellOnMoved===!1,a||(a=r.selectNodeOnMoved===!1&&t.isNode()),a||(a=r.selectEdgeOnMoved===!1&&t.isEdge())),a||(this.allowMultipleSelection(e)?this.unselectMap.has(t)?this.unselectMap.delete(t):this.isSelected(t)?this.unselect(t):this.select(t):this.reset(t)),this.movedMap.delete(t)}onBoxMouseDown({e,cell:t}){this.disabled||this.allowMultipleSelection(e)&&(this.unselect(t),this.unselectMap.set(t,!0))}isEmpty(){return this.length<=0}isSelected(e){return this.widget.isSelected(e)}getCells(e){return(Array.isArray(e)?e:[e]).map(t=>typeof t=="string"?this.graph.getCellById(t):t).filter(t=>t!=null)}select(e,t={}){const r=this.getCells(e);return r.length&&(this.isMultiple()?this.widget.select(r,t):this.reset(r.slice(0,1),t)),this}unselect(e,t={}){return this.widget.unselect(this.getCells(e),t),this}reset(e,t={}){return this.widget.reset(e?this.getCells(e):[],t),this}clean(e={}){return this.widget.clean(e),this}enable(){return this.disabled&&(this.widgetOptions.enabled=!0),this}disable(){return this.disabled||(this.widgetOptions.enabled=!1),this}startRubberband(e){return this.rubberbandDisabled||this.widget.startSelecting(e),this}enableRubberband(){return this.rubberbandDisabled&&(this.widgetOptions.rubberband=!0),this}disableRubberband(){return this.rubberbandDisabled||(this.widgetOptions.rubberband=!1),this}isMultiple(){return this.widgetOptions.multiple!==!1}enableMultiple(){return this.widgetOptions.multiple=!0,this}disableMultiple(){return this.widgetOptions.multiple=!1,this}setModifiers(e){return this.widgetOptions.modifiers=e,this}setContent(e){return this.widget.setContent(e),this}setFilter(e){return this.widget.setFilter(e),this}dispose(){this.stopListening(),this.widget.dispose()}}Jx([wc.dispose()],t2.prototype,"dispose",null);var n2=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u},Ay=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t};class Ju extends hf{constructor(e){super(),this.batchCommands=null,this.batchLevel=0,this.lastBatchIndex=-1,this.freezed=!1,this.handlers=[],this.graph=e.graph,this.model=e.graph.model,this.options=_u.getOptions(e),this.validator=new Ju.Validator({history:this,cancelInvalid:this.options.cancelInvalid}),this.clean(),this.startListening()}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}undo(e={}){if(!this.disabled){const t=this.undoStack.pop();t&&(this.revertCommand(t,e),this.redoStack.push(t),this.notify("undo",t,e))}return this}redo(e={}){if(!this.disabled){const t=this.redoStack.pop();t&&(this.applyCommand(t,e),this.undoStack.push(t),this.notify("redo",t,e))}return this}cancel(e={}){if(!this.disabled){const t=this.undoStack.pop();t&&(this.revertCommand(t,e),this.redoStack=[],this.notify("cancel",t,e))}return this}clean(e={}){return this.undoStack=[],this.redoStack=[],this.notify("clean",null,e),this}canUndo(){return!this.disabled&&this.undoStack.length>0}canRedo(){return!this.disabled&&this.redoStack.length>0}validate(e,...t){return this.validator.validate(e,...t),this}dispose(){this.validator.dispose(),this.clean(),this.stopListening()}startListening(){this.model.on("batch:start",this.initBatchCommand,this),this.model.on("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&this.options.eventNames.forEach((e,t)=>{this.handlers[t]=this.addCommand.bind(this,e),this.model.on(e,this.handlers[t])}),this.validator.on("invalid",e=>this.trigger("invalid",e))}stopListening(){this.model.off("batch:start",this.initBatchCommand,this),this.model.off("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&(this.options.eventNames.forEach((e,t)=>{this.model.off(e,this.handlers[t])}),this.handlers.length=0),this.validator.off("invalid")}createCommand(e){return{batch:e?e.batch:!1,data:{}}}revertCommand(e,t){this.freezed=!0;const r=Array.isArray(e)?_u.sortBatchCommands(e):[e];for(let a=r.length-1;a>=0;a-=1){const u=r[a],p=Object.assign(Object.assign({},t),No(u.options,this.options.revertOptionsList||[]));this.executeCommand(u,!0,p)}this.freezed=!1}applyCommand(e,t){this.freezed=!0;const r=Array.isArray(e)?_u.sortBatchCommands(e):[e];for(let a=0;a<r.length;a+=1){const u=r[a],p=Object.assign(Object.assign({},t),No(u.options,this.options.applyOptionsList||[]));this.executeCommand(u,!1,p)}this.freezed=!1}executeCommand(e,t,r){const a=this.model,u=a.getCell(e.data.id),p=e.event;if(_u.isAddEvent(p)&&t||_u.isRemoveEvent(p)&&!t)u&&u.remove(r);else if(_u.isAddEvent(p)&&!t||_u.isRemoveEvent(p)&&t){const b=e.data;b.node?a.addNode(b.props,r):b.edge&&a.addEdge(b.props,r)}else if(_u.isChangeEvent(p)){const b=e.data,P=b.key;if(P&&u){const I=t?b.prev[P]:b.next[P];u.prop(P,I,r)}}else{const b=this.options.executeCommand;b&&er(b,this,e,t,r)}}addCommand(e,t){if(this.freezed||this.disabled)return;const r=t,a=r.options||{};if(a.dryrun||_u.isAddEvent(e)&&this.options.ignoreAdd||_u.isRemoveEvent(e)&&this.options.ignoreRemove||_u.isChangeEvent(e)&&this.options.ignoreChange)return;const u=this.options.beforeAddCommand;if(u!=null&&er(u,this,e,t)===!1)return;e==="cell:change:*"&&(e=`cell:change:${r.key}`);const p=r.cell,b=gf.isModel(p);let P;if(this.batchCommands){P=this.batchCommands[Math.max(this.lastBatchIndex,0)];const z=b&&!P.modelChange||P.data.id!==p.id,W=P.event!==e;if(this.lastBatchIndex>=0&&(z||W)){const ne=this.batchCommands.findIndex(Te=>(b&&Te.modelChange||Te.data.id===p.id)&&Te.event===e);ne<0||_u.isAddEvent(e)||_u.isRemoveEvent(e)?P=this.createCommand({batch:!0}):(P=this.batchCommands[ne],this.batchCommands.splice(ne,1)),this.batchCommands.push(P),this.lastBatchIndex=this.batchCommands.length-1}}else P=this.createCommand({batch:!1});if(_u.isAddEvent(e)||_u.isRemoveEvent(e)){const z=P.data;return P.event=e,P.options=a,z.id=p.id,z.props=oo(p.toJSON()),p.isEdge()?z.edge=!0:p.isNode()&&(z.node=!0),this.push(P,a)}if(_u.isChangeEvent(e)){const z=t.key,W=P.data;return(!P.batch||!P.event)&&(P.event=e,P.options=a,W.key=z,W.prev==null&&(W.prev={}),W.prev[z]=Dr(p.previous(z)),b?P.modelChange=!0:W.id=p.id),W.next==null&&(W.next={}),W.next[z]=Dr(p.prop(z)),this.push(P,a)}const I=this.options.afterAddCommand;I&&er(I,this,e,t,P),this.push(P,a)}initBatchCommand(e){this.freezed||(this.batchCommands?this.batchLevel+=1:(this.batchCommands=[this.createCommand({batch:!0})],this.batchLevel=0,this.lastBatchIndex=-1))}storeBatchCommand(e){if(!this.freezed)if(this.batchCommands&&this.batchLevel<=0){const t=this.filterBatchCommand(this.batchCommands);t.length>0&&(this.redoStack=[],this.undoStack.push(t),this.consolidateCommands(),this.notify("add",t,e)),this.batchCommands=null,this.lastBatchIndex=-1,this.batchLevel=0}else this.batchCommands&&this.batchLevel>0&&(this.batchLevel-=1)}filterBatchCommand(e){let t=e.slice();const r=[];for(;t.length>0;){const a=t.shift(),u=a.event,p=a.data.id;if(u!=null&&(p!=null||a.modelChange)){if(_u.isAddEvent(u)){const b=t.findIndex(P=>_u.isRemoveEvent(P.event)&&P.data.id===p);if(b>=0){t=t.filter((P,I)=>b<I||P.data.id!==p);continue}}else if(_u.isRemoveEvent(u)){const b=t.findIndex(P=>_u.isAddEvent(P.event)&&P.data.id===p);if(b>=0){t.splice(b,1);continue}}else if(_u.isChangeEvent(u)){const b=a.data;if(da(b.prev,b.next))continue}r.push(a)}}return r}notify(e,t,r){const a=t==null?null:Array.isArray(t)?t:[t];this.emit(e,{cmds:a,options:r}),this.emit("change",{cmds:a,options:r})}push(e,t){this.redoStack=[],e.batch?(this.lastBatchIndex=Math.max(this.lastBatchIndex,0),this.emit("batch",{cmd:e,options:t})):(this.undoStack.push(e),this.consolidateCommands(),this.notify("add",e,t))}consolidateCommands(){var e;const t=this.undoStack[this.undoStack.length-1],r=this.undoStack[this.undoStack.length-2];if(!Array.isArray(t))return;const a=new Set(t.map(p=>p.event));if(a.size!==2||!a.has("cell:change:parent")||!a.has("cell:change:children")||!t.every(p=>{var b;return p.batch&&((b=p.options)===null||b===void 0?void 0:b.ui)})||!Array.isArray(r)||r.length!==1)return;const u=r[0];u.event!=="cell:change:position"||!(!((e=u.options)===null||e===void 0)&&e.ui)||(r.push(...t),this.undoStack.pop())}}n2([hf.dispose()],Ju.prototype,"dispose",null),function(c){class e extends hf{constructor(r){super(),this.map={},this.command=r.history,this.cancelInvalid=r.cancelInvalid!==!1,this.command.on("add",this.onCommandAdded,this)}onCommandAdded({cmds:r}){return Array.isArray(r)?r.every(a=>this.isValidCommand(a)):this.isValidCommand(r)}isValidCommand(r){if(r.options&&r.options.validation===!1)return!0;const a=r.event&&this.map[r.event]||[];let u=null;return a.forEach(p=>{let b=0;const P=I=>{const z=p[b];b+=1;try{if(z)z(I,r,P);else{u=I;return}}catch(W){P(W)}};P(u)}),u?(this.cancelInvalid&&this.command.cancel(),this.emit("invalid",{err:u}),!1):!0}validate(r,...a){const u=Array.isArray(r)?r:r.split(/\s+/);return a.forEach(p=>{if(typeof p!="function")throw new Error(`${u.join(" ")} requires callback functions.`)}),u.forEach(p=>{this.map[p]==null&&(this.map[p]=[]),this.map[p].push(a)}),this}dispose(){this.command.off("add",this.onCommandAdded,this)}}n2([hf.dispose()],e.prototype,"dispose",null),c.Validator=e}(Ju||(Ju={}));var _u;(function(c){function e(p){return p==="cell:added"}c.isAddEvent=e;function t(p){return p==="cell:removed"}c.isRemoveEvent=t;function r(p){return p!=null&&p.startsWith("cell:change:")}c.isChangeEvent=r;function a(p){const{graph:b}=p,P=Ay(p,["graph"]),I=["cell:added","cell:removed","cell:change:*"],z=["batch:start","batch:stop"],W=p.eventNames?p.eventNames.filter(ne=>!(c.isChangeEvent(ne)||I.includes(ne)||z.includes(ne))):I;return Object.assign(Object.assign({},P),{eventNames:W,applyOptionsList:p.applyOptionsList||["propertyPath"],revertOptionsList:p.revertOptionsList||["propertyPath"]})}c.getOptions=a;function u(p){const b=[];for(let P=0,I=p.length;P<I;P+=1){const z=p[P];let W=null;if(c.isAddEvent(z.event)){const ne=z.data.id;for(let Te=0;Te<P;Te+=1)if(p[Te].data.id===ne){W=Te;break}}W!==null?b.splice(W,0,z):b.push(z)}return b}c.sortBatchCommands=u})(_u||(_u={}));var qx=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class r2 extends wc{get widgetOptions(){return this.options.minimap}init(){this.widget=this.graph.hook.createMiniMap()}dispose(){this.widget&&this.widget.dispose()}}qx([wc.dispose()],r2.prototype,"dispose",null);var eE=l(42441),tE=l.n(eE),nE=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class Xg extends Nd{constructor(e){super(),this.options=e;const t=this.graph.scroller.widget;this.container=t?t.container:this.graph.container,e.global?this.target=document:(this.target=this.container,this.disabled||this.target.setAttribute("tabindex","-1"),this.graph.on("cell:mouseup",this.focus,this),this.graph.on("blank:mouseup",this.focus,this)),this.mousetrap=Xg.createMousetrap(this)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&this.target.setAttribute("tabindex","-1"))}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}on(e,t,r){this.mousetrap.bind(this.getKeys(e),t,r)}off(e,t){this.mousetrap.unbind(this.getKeys(e),t)}focus(e){if(this.isInputEvent(e.e))return;this.target.focus({preventScroll:!0})}getKeys(e){return(Array.isArray(e)?e:[e]).map(t=>this.formatkey(t))}formatkey(e){const t=e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command"),r=this.options.format;return r?er(r,this.graph,t):t}isGraphEvent(e){const t=e.srcElement||e.target,r=e.currentTarget;return t?t===this.target||r===this.target||t===document.body?!0:Th(this.container,t):!1}isInputEvent(e){var t;const r=e.target,a=(t=r==null?void 0:r.tagName)===null||t===void 0?void 0:t.toLowerCase();return["input","textarea"].includes(a)}isEnabledForEvent(e){const t=!this.disabled&&this.isGraphEvent(e),r=this.isInputEvent(e);if(t){const a=e.keyCode||e.which;if(r&&(a===8||a===46))return!1;if(this.options.guard)return er(this.options.guard,this.graph,e)}return t}dispose(){this.mousetrap.reset()}}nE([Nd.dispose()],Xg.prototype,"dispose",null),function(c){function e(t){const r=new(tE())(t.target),a=r.stopCallback;return r.stopCallback=(u,p,b)=>t.isEnabledForEvent(u)?a?a.call(r,u,p,b):!1:!0,r}c.createMousetrap=e}(Xg||(Xg={}));var rE=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class i2 extends Nd{constructor(e){super(),this.options=e,this.cumulatedFactor=1;const t=this.graph.scroller.widget;this.container=t?t.container:this.graph.container,this.target=this.options.global?document:this.container,this.mousewheelHandle=new ac(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.options.enabled&&this.enable(!0)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(e){(this.disabled||e)&&(this.options.enabled=!0,this.graph.options.mousewheel.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.mousewheel.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(e){const t=e.originalEvent||e,r=this.options.guard;return(r==null||r.call(this.graph,t))&&Ld.isMatch(t,this.options.modifiers)}onMouseWheel(e){const t=e.originalEvent||e,r=this.options.guard;if((r==null||r.call(this.graph,t))&&Ld.isMatch(t,this.options.modifiers)){const a=this.options.factor||1.2;this.currentScale==null&&(this.startPos={x:e.clientX,y:e.clientY},this.currentScale=this.graph.scroller.widget?this.graph.scroller.widget.zoom():this.graph.transform.getScale().sx),e.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*a*20)/20/this.currentScale:this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*(1/a)*20)/20/this.currentScale,this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const p=this.graph.scroller.widget,b=this.currentScale;let P=this.graph.transform.clampScale(b*this.cumulatedFactor);const I=this.options.minScale||Number.MIN_SAFE_INTEGER,z=this.options.maxScale||Number.MAX_SAFE_INTEGER;if(P=Ci(P,I,z),P!==b)if(p)if(this.options.zoomAtMousePosition){const W=this.graph.coord.clientToLocalPoint(this.startPos);p.zoom(P,{absolute:!0,center:W.clone()})}else p.zoom(P,{absolute:!0});else if(this.options.zoomAtMousePosition){const W=this.graph.coord.clientToGraphPoint(this.startPos);this.graph.transform.zoom(P,{absolute:!0,center:W.clone(),ui:!0})}else this.graph.transform.zoom(P,{absolute:!0,ui:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}rE([Nd.dispose()],i2.prototype,"dispose",null);var iE=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class Qg extends wc{show(e={}){const t=Object.assign(Object.assign({},Qg.defaultOptions),e),r=this.createPrintPages(t);t.ready(r,a=>this.showPrintWindow(a,t),{sheetSize:this.getSheetSize(t)})}get className(){return this.view.prefixClassName("graph-print")}showPrintWindow(e,t){if(e){const r=L()(document.body),a=L()(this.view.container),u=this.view.prefixClassName("graph-printing");r.addClass(u);const p=a.children().detach();e.forEach(I=>{I.removeClass(`${this.className}-preview`).addClass(`${this.className}-ready`).appendTo(r)});let b=!1;const P=()=>{b||(b=!0,r.removeClass(u),e.forEach(I=>I.remove()),a.append(p),L()(`#${this.styleSheetId}`).remove(),this.graph.trigger("after:print",t),L()(window).off("afterprint",P))};L()(window).one("afterprint",P),setTimeout(P,200),window.print()}}createPrintPage(e,t){this.graph.trigger("before:print",t);const r=L()("<div/>").addClass(this.className),a=L()("<div/>").addClass(this.view.prefixClassName("graph-print-inner")).css("position","relative");t.size&&r.addClass(`${this.className}-size-${t.size}`);const u=ma.create(this.view.svg).clone(),p=u.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`);a.append(u.node);const b=this.getSheetSize(t),P=this.graph.transform.getGraphArea(),I=this.graph.transform.getScale(),z=this.graph.translate(),W=Ms().translate(z.tx/I.sx,z.ty/I.sy),ne=this.getPageInfo(P,e,b),Te=ne.scale,Ke=ne.bbox;return a.css({left:0,top:0}),u.attr({width:Ke.width*Te,height:Ke.height*Te,style:"position:relative",viewBox:[Ke.x,Ke.y,Ke.width,Ke.height].join(" ")}),p.attr("transform",Ud(W)),r.append(a),r.addClass(`${this.className}-preview`),{$page:r,sheetSize:b}}createPrintPages(e){let t;const r=this.getPrintArea(e),a=[];if(e.page){const u=this.getPageSize(r,e.page);this.getPageAreas(r,u).forEach(b=>{t=this.createPrintPage(b,e),a.push(t.$page)})}else t=this.createPrintPage(r,e),a.push(t.$page);if(t){const u={width:t.sheetSize.cssWidth,height:t.sheetSize.cssHeight};this.updatePrintStyle(u,e)}return a}get styleSheetId(){return this.view.prefixClassName("graph-print-style")}updatePrintStyle(e,t){const r=Object.keys(e).reduce((z,W)=>`${z} ${W}:${e[W]};`,""),a=Al(t.margin),u=t.marginUnit||"",p=t.sheetUnit||"",b=`
      @media print {
        .${this.className}.${this.className}-ready {
          ${r}
        }

        @page {
          margin:
          ${[a.top+u,a.right+u,a.bottom+u,a.left+u].join(" ")};
          size: ${t.sheet.width+p} ${t.sheet.height+p};

        .${this.className}.${this.className}-preview {
          ${r}
        }
      }`,P=this.styleSheetId,I=L()(`#${P}`);I.length?I.html(b):L()("head").append(`'<style type="text/css" id="${P}">${b}</style>'`)}getPrintArea(e){let t=e.area;if(!t){const r=Al(e.padding);t=this.graph.getContentArea().moveAndExpand({x:-r.left,y:-r.top,width:r.left+r.right,height:r.top+r.bottom})}return t}getPageSize(e,t){if(typeof t=="object"){const r=t,a={width:r.width,height:r.height};return a.width==null&&(a.width=Math.ceil(e.width/(r.columns||1))),a.height==null&&(a.height=Math.ceil(e.height/(r.rows||1))),a}return{width:e.width,height:e.height}}getPageAreas(e,t){const r=[],a=t.width,u=t.height;for(let p=0,b=0;p<e.height&&b<200;p+=u,b+=1)for(let P=0,I=0;P<e.width&&I<200;P+=a,I+=1)r.push(new Oo(e.x+P,e.y+p,a,u));return r}getSheetSize(e){const t=e.sheet,r=Al(e.margin),a=e.marginUnit||"",u=e.sheetUnit||"",p=`calc(${t.width}${u} - ${r.left+r.right}${a})`,b=`calc(${t.height}${u} - ${r.top+r.bottom}${a})`,P=uv.measure(p,b);return{cssWidth:p,cssHeight:b,width:P.width,height:P.height}}getPageInfo(e,t,r){const a=new Oo(t.x-e.x,t.y-e.y,t.width,t.height),u=a.width/a.height,p=r.width/r.height;return{bbox:a,scale:p<u?r.width/a.width:r.height/a.height,fitHorizontal:p<u}}dispose(){}}iE([wc.dispose()],Qg.prototype,"dispose",null),function(c){c.defaultOptions={page:!1,sheet:{width:210,height:297},sheetUnit:"mm",margin:.4,marginUnit:"in",padding:5,ready:(e,t)=>t(e)}}(Qg||(Qg={}));class nx extends wc{toSVG(e,t={}){this.graph.trigger("before:export",t);const r=this.view.svg,a=ma.create(r).clone();let u=a.node;const p=a.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`),b=t.viewBox||this.graph.graphToLocal(this.graph.getContentBBox()),P=t.preserveDimensions;if(P){const W=typeof P=="boolean"?b:P;a.attr({width:W.width,height:W.height})}if(a.removeAttribute("style").attr("viewBox",[b.x,b.y,b.width,b.height].join(" ")),p.removeAttribute("transform"),t.copyStyles!==!1){const W=r.ownerDocument,ne=Array.from(r.querySelectorAll("*")),Te=Array.from(u.querySelectorAll("*")),Ke=W.styleSheets.length,Ue=[];for(let pn=Ke-1;pn>=0;pn-=1)Ue[pn]=W.styleSheets[pn],W.styleSheets[pn].disabled=!0;const At={};ne.forEach((pn,Kt)=>{const zn=window.getComputedStyle(pn,null),gr={};Object.keys(zn).forEach(ii=>{gr[ii]=zn.getPropertyValue(ii)}),At[Kt]=gr}),Ke!==W.styleSheets.length&&Ue.forEach((pn,Kt)=>{W.styleSheets[Kt]=pn});for(let pn=0;pn<Ke;pn+=1)W.styleSheets[pn].disabled=!1;const tn={};ne.forEach((pn,Kt)=>{const zn=window.getComputedStyle(pn,null),gr=At[Kt],ii={};Object.keys(zn).forEach(si=>{!Bc(si)&&zn.getPropertyValue(si)!==gr[si]&&(ii[si]=zn.getPropertyValue(si))}),tn[Kt]=ii}),Te.forEach((pn,Kt)=>{L()(pn).css(tn[Kt])})}const I=t.stylesheet;if(typeof I=="string"){const W=r.ownerDocument.implementation.createDocument(null,"xml",null).createCDATASection(I);a.prepend(ma.create("style",{type:"text/css"},[W]))}const z=()=>{const W=t.beforeSerialize;if(typeof W=="function"){const Te=er(W,this.graph,u);Te instanceof SVGSVGElement&&(u=Te)}const ne=new XMLSerializer().serializeToString(u).replace(/&nbsp;/g,"\xA0");this.graph.trigger("after:export",t),e(ne)};if(t.serializeImages){const W=a.find("image").map(ne=>new Promise(Te=>{const Ke=ne.attr("xlink:href")||ne.attr("href");rp.imageToDataUri(Ke,(Ue,At)=>{!Ue&&At&&ne.attr("xlink:href",At),Te()})}));Promise.all(W).then(z)}else z()}toDataURL(e,t){let r=t.viewBox||this.graph.getContentBBox();const a=Al(t.padding);t.width&&t.height&&(a.left+a.right>=t.width&&(a.left=a.right=0),a.top+a.bottom>=t.height&&(a.top=a.bottom=0));const u=new Oo(-a.left,-a.top,a.left+a.right,a.top+a.bottom);if(t.width&&t.height){const z=r.width+a.left+a.right,W=r.height+a.top+a.bottom;u.scale(z/t.width,W/t.height)}r=Oo.create(r).moveAndExpand(u);const p=typeof t.width=="number"&&typeof t.height=="number"?{width:t.width,height:t.height}:r;let b=t.ratio?parseFloat(t.ratio):1;(!Number.isFinite(b)||b===0)&&(b=1);const P={width:Math.max(Math.round(p.width*b),1),height:Math.max(Math.round(p.height*b),1)};{const z=document.createElement("canvas"),W=z.getContext("2d");z.width=P.width,z.height=P.height;const ne=P.width-1,Te=P.height-1;W.fillStyle="rgb(1,1,1)",W.fillRect(ne,Te,1,1);const Ke=W.getImageData(ne,Te,1,1).data;if(Ke[0]!==1||Ke[1]!==1||Ke[2]!==1)throw new Error("size exceeded")}const I=new Image;I.onload=()=>{const z=document.createElement("canvas");z.width=P.width,z.height=P.height;const W=z.getContext("2d");W.fillStyle=t.backgroundColor||"white",W.fillRect(0,0,P.width,P.height);try{W.drawImage(I,0,0,P.width,P.height);const ne=z.toDataURL(t.type,t.quality);e(ne)}catch(ne){}},this.toSVG(z=>{I.src=`data:image/svg+xml,${encodeURIComponent(z)}`},Object.assign(Object.assign({},t),{viewBox:r,serializeImages:!0,preserveDimensions:Object.assign({},P)}))}toPNG(e,t={}){this.toDataURL(e,Object.assign(Object.assign({},t),{type:"image/png"}))}toJPEG(e,t={}){this.toDataURL(e,Object.assign(Object.assign({},t),{type:"image/jpeg"}))}}class oE extends wc{constructor(){super(...arguments),this.widgets=new Map}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:e}){if(!this.isSelectionEnabled){const t=this.graph.hook.createKnob(e,{clearAll:!0});t&&this.widgets.set(e,t)}}onNodeSelected({node:e}){if(this.isSelectionEnabled){const t=this.graph.hook.createKnob(e,{clearAll:!1});t&&this.widgets.set(e,t)}}onNodeUnSelected({node:e}){if(this.isSelectionEnabled){const t=this.widgets.get(e);t&&t.forEach(r=>r.dispose()),this.widgets.delete(e)}}}var aE=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class Dy extends wc{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&this.widgetOptions.enabled===!0}init(){this.startListening(),this.updateClassName()}startListening(){const e=this.widgetOptions.eventTypes;e&&(e.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.graph.container).on("mousedown",this.onRightMouseDown)),e.includes("mouseWheel")&&(this.mousewheelHandle=new ac(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))}stopListening(){const e=this.widgetOptions.eventTypes;e&&(e.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&this.view.$(this.graph.container).off("mousedown",this.onRightMouseDown),e.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())}preparePanning({e}){(this.allowPanning(e,!0)||this.allowPanning(e)&&!this.graph.selection.allowRubberband(e,!0))&&this.startPanning(e)}allowPanning(e,t){return this.pannable&&Ld.isMatch(e,this.widgetOptions.modifiers,t)&&this.graph.hook.allowPanning(e)}startPanning(e){const t=this.view.normalizeEvent(e);this.clientX=t.clientX,this.clientY=t.clientY,this.panning=!0,this.updateClassName(),this.view.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),this.view.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(e){const t=this.view.normalizeEvent(e),r=t.clientX-this.clientX,a=t.clientY-this.clientY;this.clientX=t.clientX,this.clientY=t.clientY;const u=this.graph.transform.getTranslation(),p=u.tx+r,b=u.ty+a;this.graph.transform.translate(p,b,{ui:!0})}stopPanning(e){this.panning=!1,this.updateClassName(),this.view.$(document.body).off(".panning"),this.view.$(window).off(".panning")}updateClassName(){const e=this.view.container,t=this.view.prefixClassName("graph-panning"),r=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(Qt(e,t),Zn(e,r)):(Zn(e,t),Qt(e,r)):(Zn(e,t),Zn(e,r))}onRightMouseDown(e){e.button===2&&this.allowPanning(e,!0)&&this.startPanning(e)}allowMouseWheel(e){return this.pannable&&!e.ctrlKey}onMouseWheel(e,t,r){e.ctrlKey||this.graph.translateBy(-t,-r)}autoPanning(e,t){const a=this.graph.getGraphArea();let u=0,p=0;e<=a.left+10&&(u=-10),t<=a.top+10&&(p=-10),e>=a.right-10&&(u=10),t>=a.bottom-10&&(p=10),(u!==0||p!==0)&&this.graph.translateBy(-u,-p)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}aE([wc.dispose()],Dy.prototype,"dispose",null);var sE=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class rx extends wc{hasScroller(){return this.graph.scroller.widget!=null}getContainer(){return this.hasScroller()?this.graph.scroller.widget.container:this.graph.container}init(){const e=this.options.autoResize;if(e){const t=typeof e=="boolean"?this.getContainer():e;Mv.bind(t,()=>{const r=this.getContainer(),a=r.offsetWidth,u=r.offsetHeight;this.resize(a,u)})}}resize(e,t){this.hasScroller()?this.resizeScroller(e,t):this.resizeGraph(e,t)}resizeGraph(e,t){this.graph.transform.resize(e,t)}resizeScroller(e,t){this.graph.scroller.resize(e,t)}resizePage(e,t){const r=this.graph.scroller.widget;r&&r.updatePageSize(e,t)}dispose(){Mv.clear(this.getContainer())}}sE([wc.dispose()],rx.prototype,"dispose",null);var Gl=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u},lE=function(c,e){var t={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(t[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(t[r[a]]=c[r[a]]);return t},Sl;(function(c){function e(r,a){return(u,p,b)=>{const P=b.value,I=a||p;b.value=function(...z){const W=this.options[I];if(W!=null){this.getNativeValue=P.bind(this,...z);const ne=er(W,this.graph,...z);if(this.getNativeValue=null,ne!=null||r===!0&&ne===null)return ne}return P.call(this,...z)}}}c.hook=e;function t(r){return(a,u,p)=>{const b=p.value,P=r||u;p.value=function(...I){let z=b.call(this,...I);const W=this.options[P];return W!=null&&(z=er(W,this.graph,...I)&&z),z}}}c.after=t})(Sl||(Sl={}));class Ml extends wc{createModel(){if(this.options.model)return this.options.model;const e=new gf;return e.graph=this.graph,e}createView(){return new Qd(this.graph)}createRenderer(){return new $l(this.graph)}createDefsManager(){return new J1(this.graph)}createGridManager(){return new k0(this.graph)}createCoordManager(){return new Ty(this.graph)}createKnobManager(){return new oE(this.graph)}createTransform(e,t){const r=this.getTransformOptions(e);return r.resizable||r.rotatable?new Py(Object.assign(Object.assign({node:e,graph:this.graph},r),t)):(r.clearAll&&Py.removeInstances(this.graph),null)}createKnob(e,t){const r=Jd.parseOptionGroup(this.graph,e,this.options.knob),a=Object.assign(Object.assign({},r),t);a.clearAll&&HC.removeInstances(this.graph),a.clearAll=!1;const u=e.prop("knob"),p=[];return(Array.isArray(u)?u:[u]).forEach((P,I)=>{if(P){if(P.enabled===!1||typeof P.enabled=="function"&&P.enabled.call(this.graph,e)===!1)return}else return;r.enabled&&p.push(new HC(Object.assign({node:e,index:I,graph:this.graph},a)))}),p}getTransformOptions(e){const t=Jd.parseOptionGroup(this.graph,e,this.options.resizing),r=Jd.parseOptionGroup(this.graph,e,this.options.rotating),a=Jd.parseOptionGroup(this.graph,e,this.options.transforming);return Object.assign(Object.assign({},a),{resizable:t.enabled,minWidth:t.minWidth,maxWidth:t.maxWidth,minHeight:t.minHeight,maxHeight:t.maxHeight,orthogonalResizing:t.orthogonal,restrictedResizing:t.restrict!=null?t.restrict:t.restricted,autoScrollOnResizing:t.autoScroll,preserveAspectRatio:t.preserveAspectRatio,allowReverse:t.allowReverse,rotatable:r.enabled,rotateGrid:r.grid})}createTransformManager(){return new Jv(this.graph)}createHighlightManager(){return new F0(this.graph)}createBackgroundManager(){return new Qv(this.graph)}createClipboard(){return new wp}createClipboardManager(){return new _y(this.graph)}createSnapline(){return new My(Object.assign({graph:this.graph},this.options.snapline))}createSnaplineManager(){return new L0(this.graph)}createSelection(){return new I0(Object.assign({graph:this.graph},this.options.selecting))}createSelectionManager(){return new t2(this.graph)}allowRubberband(e){return!0}createHistoryManager(){return new Ju(Object.assign({graph:this.graph},this.options.history))}createScroller(){return this.options.scroller.enabled?new Yg(Object.assign({graph:this.graph},this.options.scroller)):null}createScrollerManager(){return new Oy(this.graph)}allowPanning(e){return!0}createMiniMap(){const e=this.options.minimap,{enabled:t}=e,r=lE(e,["enabled"]);return t?new $1(Object.assign({graph:this.graph},r)):null}createMiniMapManager(){return new r2(this.graph)}createKeyboard(){return new Xg(Object.assign({graph:this.graph},this.options.keyboard))}createMouseWheel(){return new i2(Object.assign({graph:this.graph},this.options.mousewheel))}createPrintManager(){return new Qg(this.graph)}createFormatManager(){return new nx(this.graph)}createPanningManager(){return new Dy(this.graph)}createSizeManager(){return new rx(this.graph)}allowConnectToBlank(e){const t=this.options.connecting,r=t.allowBlank!=null?t.allowBlank:t.dangling;if(typeof r!="function")return!!r;const a=this.graph.findViewByCell(e),u=e.getSourceCell(),p=e.getTargetCell(),b=this.graph.findViewByCell(u),P=this.graph.findViewByCell(p);return er(r,this.graph,{edge:e,edgeView:a,sourceCell:u,targetCell:p,sourceView:b,targetView:P,sourcePort:e.getSourcePortId(),targetPort:e.getTargetPortId(),sourceMagnet:a.sourceMagnet,targetMagnet:a.targetMagnet})}validateEdge(e,t,r){if(!this.allowConnectToBlank(e)){const u=e.getSourceCellId(),p=e.getTargetCellId();if(!(u&&p))return!1}const a=this.options.connecting.validateEdge;return a?er(a,this.graph,{edge:e,type:t,previous:r}):!0}validateMagnet(e,t,r){if(t.getAttribute("magnet")!=="passive"){const a=this.options.connecting.validateMagnet;return a?er(a,this.graph,{e:r,magnet:t,view:e,cell:e.cell}):!0}return!1}getDefaultEdge(e,t){let r;const a=this.options.connecting.createEdge;return a&&(r=er(a,this.graph,{sourceMagnet:t,sourceView:e,sourceCell:e.cell})),r==null&&(r=new wy),r}validateConnection(e,t,r,a,u,p,b){const P=this.options.connecting,I=P.allowLoop,z=P.allowNode,W=P.allowEdge,ne=P.allowPort,Te=P.allowMulti!=null?P.allowMulti:P.multi,Ke=P.validateConnection,Ue=p?p.cell:null,At=u==="target"?r:e,tn=u==="target"?a:t;let pn=!0;const Kt=zn=>{const gr=u==="source"?b?b.port:null:Ue?Ue.getSourcePortId():null,ii=u==="target"?b?b.port:null:Ue?Ue.getTargetPortId():null;return er(zn,this.graph,{edge:Ue,edgeView:p,sourceView:e,targetView:r,sourcePort:gr,targetPort:ii,sourceMagnet:t,targetMagnet:a,sourceCell:e?e.cell:null,targetCell:r?r.cell:null,type:u})};if(I!=null&&(typeof I=="boolean"?!I&&e===r&&(pn=!1):pn=Kt(I)),pn&&ne!=null&&(typeof ne=="boolean"?!ne&&tn&&(pn=!1):pn=Kt(ne)),pn&&W!=null&&(typeof W=="boolean"?!W&&Zh.isEdgeView(At)&&(pn=!1):pn=Kt(W)),pn&&z!=null&&tn==null&&(typeof z=="boolean"?!z&&Zf.isNodeView(At)&&(pn=!1):pn=Kt(z)),pn&&Te!=null&&p){const zn=p.cell,gr=u==="source"?b:zn.getSource(),ii=u==="target"?b:zn.getTarget(),si=b?this.graph.getCellById(b.cell):null;if(gr&&ii&&gr.cell&&ii.cell&&si)if(typeof Te=="function")pn=Kt(Te);else{const Ri=this.model.getConnectedEdges(si,{outgoing:u==="source",incoming:u==="target"});Ri.length&&(Te==="withPort"?Ri.some(ro=>{const po=ro.getSource(),Yo=ro.getTarget();return po&&Yo&&po.cell===gr.cell&&Yo.cell===ii.cell&&po.port!=null&&po.port===gr.port&&Yo.port!=null&&Yo.port===ii.port})&&(pn=!1):Te||Ri.some(ro=>{const po=ro.getSource(),Yo=ro.getTarget();return po&&Yo&&po.cell===gr.cell&&Yo.cell===ii.cell})&&(pn=!1))}}return pn&&Ke!=null&&(pn=Kt(Ke)),pn}getRestrictArea(e){const t=this.options.translating.restrict,r=typeof t=="function"?er(t,this.graph,e):t;return typeof r=="number"?this.graph.transform.getGraphArea().inflate(r):r===!0?this.graph.transform.getGraphArea():r||null}onViewUpdated(e,t,r){t&$l.FLAG_INSERT||r.mounting||this.graph.renderer.requestConnectedEdgesUpdate(e,r)}onViewPostponed(e,t,r){return this.graph.renderer.forcePostponedViewUpdate(e,t)}getCellView(e){return null}createCellView(e){const t={graph:this.graph},r=this.getCellView(e);if(r)return new r(e,t);const a=e.view;if(a!=null&&typeof a=="string"){const u=uu.registry.get(a);return u?new u(e,t):uu.registry.onNotFound(a)}return e.isNode()?new Zf(e,t):e.isEdge()?new Zh(e,t):null}getHTMLComponent(e){let t=e.getHTML();return typeof t=="string"&&(t=Uh.componentRegistry.get(t)||t),_n.Z(t)&&(t=t.render),typeof t=="function"?er(t,this.graph,e):t}shouldUpdateHTMLComponent(e){let t=e.getHTML();if(typeof t=="string"&&(t=Uh.componentRegistry.get(t)||t),_n.Z(t)){const r=t.shouldComponentUpdate;return typeof r=="function"?er(r,this.graph,e):!!r}return!1}onEdgeLabelRendered(e){}onPortRendered(e){}onToolItemCreated(e){}}Gl([Sl.hook()],Ml.prototype,"createModel",null),Gl([Sl.hook()],Ml.prototype,"createView",null),Gl([Sl.hook()],Ml.prototype,"createRenderer",null),Gl([Sl.hook()],Ml.prototype,"createDefsManager",null),Gl([Sl.hook()],Ml.prototype,"createGridManager",null),Gl([Sl.hook()],Ml.prototype,"createCoordManager",null),Gl([Sl.hook()],Ml.prototype,"createKnobManager",null),Gl([Sl.hook()],Ml.prototype,"createTransform",null),Gl([Sl.hook()],Ml.prototype,"createKnob",null),Gl([Sl.hook()],Ml.prototype,"createTransformManager",null),Gl([Sl.hook()],Ml.prototype,"createHighlightManager",null),Gl([Sl.hook()],Ml.prototype,"createBackgroundManager",null),Gl([Sl.hook()],Ml.prototype,"createClipboard",null),Gl([Sl.hook()],Ml.prototype,"createClipboardManager",null),Gl([Sl.hook()],Ml.prototype,"createSnapline",null),Gl([Sl.hook()],Ml.prototype,"createSnaplineManager",null),Gl([Sl.hook()],Ml.prototype,"createSelection",null),Gl([Sl.hook()],Ml.prototype,"createSelectionManager",null),Gl([Sl.hook()],Ml.prototype,"allowRubberband",null),Gl([Sl.hook()],Ml.prototype,"createHistoryManager",null),Gl([Sl.hook()],Ml.prototype,"createScroller",null),Gl([Sl.hook()],Ml.prototype,"createScrollerManager",null),Gl([Sl.hook()],Ml.prototype,"allowPanning",null),Gl([Sl.hook()],Ml.prototype,"createMiniMap",null),Gl([Sl.hook()],Ml.prototype,"createMiniMapManager",null),Gl([Sl.hook()],Ml.prototype,"createKeyboard",null),Gl([Sl.hook()],Ml.prototype,"createMouseWheel",null),Gl([Sl.hook()],Ml.prototype,"createPrintManager",null),Gl([Sl.hook()],Ml.prototype,"createFormatManager",null),Gl([Sl.hook()],Ml.prototype,"createPanningManager",null),Gl([Sl.hook()],Ml.prototype,"createSizeManager",null),Gl([Sl.after()],Ml.prototype,"onViewUpdated",null),Gl([Sl.after()],Ml.prototype,"onViewPostponed",null),Gl([Sl.hook()],Ml.prototype,"getCellView",null),Gl([Sl.hook(!0)],Ml.prototype,"createCellView",null),Gl([Sl.hook()],Ml.prototype,"getHTMLComponent",null),Gl([Sl.hook()],Ml.prototype,"shouldUpdateHTMLComponent",null),Gl([Sl.hook()],Ml.prototype,"onEdgeLabelRendered",null),Gl([Sl.hook()],Ml.prototype,"onPortRendered",null),Gl([Sl.hook()],Ml.prototype,"onToolItemCreated",null);var Of=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class Hl extends hf{constructor(e){super(),this.options=Jd.get(e),this.css=new ng(this),this.hook=new Ml(this),this.view=this.hook.createView(),this.defs=this.hook.createDefsManager(),this.coord=this.hook.createCoordManager(),this.transform=this.hook.createTransformManager(),this.knob=this.hook.createKnobManager(),this.highlight=this.hook.createHighlightManager(),this.grid=this.hook.createGridManager(),this.background=this.hook.createBackgroundManager(),this.model=this.hook.createModel(),this.renderer=this.hook.createRenderer(),this.clipboard=this.hook.createClipboardManager(),this.snapline=this.hook.createSnaplineManager(),this.selection=this.hook.createSelectionManager(),this.history=this.hook.createHistoryManager(),this.scroller=this.hook.createScrollerManager(),this.minimap=this.hook.createMiniMapManager(),this.keyboard=this.hook.createKeyboard(),this.mousewheel=this.hook.createMouseWheel(),this.print=this.hook.createPrintManager(),this.format=this.hook.createFormatManager(),this.panning=this.hook.createPanningManager(),this.size=this.hook.createSizeManager()}get container(){return this.view.container}get[Symbol.toStringTag](){return Hl.toStringTag}isNode(e){return e.isNode()}isEdge(e){return e.isEdge()}resetCells(e,t={}){return this.model.resetCells(e,t),this}clearCells(e={}){return this.model.clear(e),this}toJSON(e={}){return this.model.toJSON(e)}parseJSON(e){return this.model.parseJSON(e)}fromJSON(e,t={}){return this.model.fromJSON(e,t),this}getCellById(e){return this.model.getCell(e)}addNode(e,t={}){return this.model.addNode(e,t)}addNodes(e,t={}){return this.addCell(e.map(r=>Qc.isNode(r)?r:this.createNode(r)),t)}createNode(e){return this.model.createNode(e)}removeNode(e,t={}){return this.model.removeCell(e,t)}addEdge(e,t={}){return this.model.addEdge(e,t)}addEdges(e,t={}){return this.addCell(e.map(r=>Jc.isEdge(r)?r:this.createEdge(r)),t)}removeEdge(e,t={}){return this.model.removeCell(e,t)}createEdge(e){return this.model.createEdge(e)}addCell(e,t={}){return this.model.addCell(e,t),this}removeCell(e,t={}){return this.model.removeCell(e,t)}removeCells(e,t={}){return this.model.removeCells(e,t)}removeConnectedEdges(e,t={}){return this.model.removeConnectedEdges(e,t)}disconnectConnectedEdges(e,t={}){return this.model.disconnectConnectedEdges(e,t),this}hasCell(e){return this.model.has(e)}getCell(e){return this.model.getCell(e)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(e){return this.model.getOutgoingEdges(e)}getIncomingEdges(e){return this.model.getIncomingEdges(e)}getConnectedEdges(e,t={}){return this.model.getConnectedEdges(e,t)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(e){return this.model.isRoot(e)}isLeafNode(e){return this.model.isLeaf(e)}getNeighbors(e,t={}){return this.model.getNeighbors(e,t)}isNeighbor(e,t,r={}){return this.model.isNeighbor(e,t,r)}getSuccessors(e,t={}){return this.model.getSuccessors(e,t)}isSuccessor(e,t,r={}){return this.model.isSuccessor(e,t,r)}getPredecessors(e,t={}){return this.model.getPredecessors(e,t)}isPredecessor(e,t,r={}){return this.model.isPredecessor(e,t,r)}getCommonAncestor(...e){return this.model.getCommonAncestor(...e)}getSubGraph(e,t={}){return this.model.getSubGraph(e,t)}cloneSubGraph(e,t={}){return this.model.cloneSubGraph(e,t)}cloneCells(e){return this.model.cloneCells(e)}getNodesFromPoint(e,t){return this.model.getNodesFromPoint(e,t)}getNodesInArea(e,t,r,a,u){return this.model.getNodesInArea(e,t,r,a,u)}getNodesUnderNode(e,t={}){return this.model.getNodesUnderNode(e,t)}searchCell(e,t,r={}){return this.model.search(e,t,r),this}getShortestPath(e,t,r={}){return this.model.getShortestPath(e,t,r)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(e,t={}){return this.model.getCellsBBox(e,t)}startBatch(e,t={}){this.model.startBatch(e,t)}stopBatch(e,t={}){this.model.stopBatch(e,t)}batchUpdate(e,t,r){const a=typeof e=="string"?e:"update",u=typeof e=="string"?t:e,p=typeof t=="function"?r:t;this.startBatch(a,p);const b=u();return this.stopBatch(a,p),b}updateCellId(e,t){return this.model.updateCellId(e,t)}isFrozen(){return this.renderer.isFrozen()}freeze(e={}){return this.renderer.freeze(e),this}unfreeze(e={}){return this.renderer.unfreeze(e),this}isAsync(){return this.renderer.isAsync()}setAsync(e){return this.renderer.setAsync(e),this}findView(e){return tl.isCell(e)?this.findViewByCell(e):this.findViewByElem(e)}findViews(e){return Oo.isRectangleLike(e)?this.findViewsInArea(e):Bn.isPointLike(e)?this.findViewsFromPoint(e):[]}findViewByCell(e){return this.renderer.findViewByCell(e)}findViewByElem(e){return this.renderer.findViewByElem(e)}findViewsFromPoint(e,t){const r=typeof e=="number"?{x:e,y:t}:e;return this.renderer.findViewsFromPoint(r)}findViewsInArea(e,t,r,a,u){const p=typeof e=="number"?{x:e,y:t,width:r,height:a}:e,b=typeof e=="number"?u:t;return this.renderer.findViewsInArea(p,b)}isViewMounted(e){return this.renderer.isViewMounted(e)}getMountedViews(){return this.renderer.getMountedViews()}getUnmountedViews(){return this.renderer.getUnmountedViews()}matrix(e){return typeof e=="undefined"?this.transform.getMatrix():(this.transform.setMatrix(e),this)}resize(e,t){return this.size.resize(e,t),this}resizeGraph(e,t){return this.size.resizeGraph(e,t),this}resizeScroller(e,t){return this.size.resizeScroller(e,t),this}resizePage(e,t){return this.size.resizePage(e,t),this}scale(e,t=e,r=0,a=0){return typeof e=="undefined"?this.transform.getScale():(this.transform.scale(e,t,r,a),this)}zoom(e,t){const r=this.scroller.widget;if(r){if(typeof e=="undefined")return r.zoom();r.zoom(e,t)}else{if(typeof e=="undefined")return this.transform.getZoom();this.transform.zoom(e,t)}return this}zoomTo(e,t={}){const r=this.scroller.widget;return r?r.zoom(e,Object.assign(Object.assign({},t),{absolute:!0})):this.transform.zoom(e,Object.assign(Object.assign({},t),{absolute:!0})),this}zoomToRect(e,t={}){const r=this.scroller.widget;return r?r.zoomToRect(e,t):this.transform.zoomToRect(e,t),this}zoomToFit(e={}){const t=this.scroller.widget;return t?t.zoomToFit(e):this.transform.zoomToFit(e),this}rotate(e,t,r){return typeof e=="undefined"?this.transform.getRotation():(this.transform.rotate(e,t,r),this)}translate(e,t){return typeof e=="undefined"?this.transform.getTranslation():(this.transform.translate(e,t),this)}translateBy(e,t){const r=this.translate(),a=r.tx+e,u=r.ty+t;return this.translate(a,u)}getArea(){return this.transform.getGraphArea()}getGraphArea(){return this.transform.getGraphArea()}getContentArea(e={}){return this.transform.getContentArea(e)}getContentBBox(e={}){return this.transform.getContentBBox(e)}fitToContent(e,t,r,a){return this.transform.fitToContent(e,t,r,a)}scaleContentToFit(e={}){return this.transform.scaleContentToFit(e),this}center(e){return this.centerPoint(e)}centerPoint(e,t,r){const a=this.scroller.widget;return a?a.centerPoint(e,t,r):this.transform.centerPoint(e,t),this}centerContent(e){const t=this.scroller.widget;return t?t.centerContent(e):this.transform.centerContent(e),this}centerCell(e,t){const r=this.scroller.widget;return r?r.centerCell(e,t):this.transform.centerCell(e),this}positionPoint(e,t,r,a={}){const u=this.scroller.widget;return u?u.positionPoint(e,t,r,a):this.transform.positionPoint(e,t,r),this}positionRect(e,t,r){const a=this.scroller.widget;return a?a.positionRect(e,t,r):this.transform.positionRect(e,t),this}positionCell(e,t,r){const a=this.scroller.widget;return a?a.positionCell(e,t,r):this.transform.positionCell(e,t),this}positionContent(e,t){const r=this.scroller.widget;return r?r.positionContent(e,t):this.transform.positionContent(e,t),this}getClientMatrix(){return this.coord.getClientMatrix()}getClientOffset(){return this.coord.getClientOffset()}getPageOffset(){return this.coord.getPageOffset()}snapToGrid(e,t){return this.coord.snapToGrid(e,t)}pageToLocal(e,t,r,a){return Oo.isRectangleLike(e)?this.coord.pageToLocalRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof a=="number"?this.coord.pageToLocalRect(e,t,r,a):this.coord.pageToLocalPoint(e,t)}localToPage(e,t,r,a){return Oo.isRectangleLike(e)?this.coord.localToPageRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof a=="number"?this.coord.localToPageRect(e,t,r,a):this.coord.localToPagePoint(e,t)}clientToLocal(e,t,r,a){return Oo.isRectangleLike(e)?this.coord.clientToLocalRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof a=="number"?this.coord.clientToLocalRect(e,t,r,a):this.coord.clientToLocalPoint(e,t)}localToClient(e,t,r,a){return Oo.isRectangleLike(e)?this.coord.localToClientRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof a=="number"?this.coord.localToClientRect(e,t,r,a):this.coord.localToClientPoint(e,t)}localToGraph(e,t,r,a){return Oo.isRectangleLike(e)?this.coord.localToGraphRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof a=="number"?this.coord.localToGraphRect(e,t,r,a):this.coord.localToGraphPoint(e,t)}graphToLocal(e,t,r,a){return Oo.isRectangleLike(e)?this.coord.graphToLocalRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof a=="number"?this.coord.graphToLocalRect(e,t,r,a):this.coord.graphToLocalPoint(e,t)}clientToGraph(e,t,r,a){return Oo.isRectangleLike(e)?this.coord.clientToGraphRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof a=="number"?this.coord.clientToGraphRect(e,t,r,a):this.coord.clientToGraphPoint(e,t)}defineFilter(e){return this.defs.filter(e)}defineGradient(e){return this.defs.gradient(e)}defineMarker(e){return this.defs.marker(e)}getGridSize(){return this.grid.getGridSize()}setGridSize(e){return this.grid.setGridSize(e),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(e){return this.grid.draw(e),this}updateBackground(){return this.background.update(),this}drawBackground(e,t){const r=this.scroller.widget;return r!=null&&(this.options.background==null||!t)?r.backgroundManager.draw(e):this.background.draw(e),this}clearBackground(e){const t=this.scroller.widget;return t!=null&&(this.options.background==null||!e)?t.backgroundManager.clear():this.background.clear(),this}isClipboardEnabled(){return!this.clipboard.disabled}enableClipboard(){return this.clipboard.enable(),this}disableClipboard(){return this.clipboard.disable(),this}toggleClipboard(e){return e!=null?e!==this.isClipboardEnabled()&&(e?this.enableClipboard():this.disableClipboard()):this.isClipboardEnabled()?this.disableClipboard():this.enableClipboard(),this}isClipboardEmpty(){return this.clipboard.isEmpty()}getCellsInClipboard(){return this.clipboard.cells}cleanClipboard(){return this.clipboard.clean(),this}copy(e,t={}){return this.clipboard.copy(e,t),this}cut(e,t={}){return this.clipboard.cut(e,t),this}paste(e={},t=this){return this.clipboard.paste(e,t)}isHistoryEnabled(){return!this.history.disabled}enableHistory(){return this.history.enable(),this}disableHistory(){return this.history.disable(),this}toggleHistory(e){return e!=null?e!==this.isHistoryEnabled()&&(e?this.enableHistory():this.disableHistory()):this.isHistoryEnabled()?this.disableHistory():this.enableHistory(),this}undo(e={}){return this.history.undo(e),this}undoAndCancel(e={}){return this.history.cancel(e),this}redo(e={}){return this.history.redo(e),this}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}cleanHistory(e={}){this.history.clean(e)}isKeyboardEnabled(){return!this.keyboard.disabled}enableKeyboard(){return this.keyboard.enable(),this}disableKeyboard(){return this.keyboard.disable(),this}toggleKeyboard(e){return e!=null?e!==this.isKeyboardEnabled()&&(e?this.enableKeyboard():this.disableKeyboard()):this.isKeyboardEnabled()?this.disableKeyboard():this.enableKeyboard(),this}bindKey(e,t,r){return this.keyboard.on(e,t,r),this}unbindKey(e,t){return this.keyboard.off(e,t),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(e){return e==null?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():e?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){return this.scroller.widget?this.scroller.pannable:this.panning.pannable}enablePanning(){return this.scroller.widget?this.scroller.enablePanning():this.panning.enablePanning(),this}disablePanning(){return this.scroller.widget?this.scroller.disablePanning():this.panning.disablePanning(),this}togglePanning(e){return e==null?this.isPannable()?this.disablePanning():this.enablePanning():e!==this.isPannable()&&(e?this.enablePanning():this.disablePanning()),this}lockScroller(){var e;(e=this.scroller.widget)===null||e===void 0||e.lock()}unlockScroller(){var e;(e=this.scroller.widget)===null||e===void 0||e.unlock()}updateScroller(){var e;(e=this.scroller.widget)===null||e===void 0||e.update()}getScrollbarPosition(){return this.scroller.widget.scrollbarPosition()}setScrollbarPosition(e,t,r){return this.scroller.widget.scrollbarPosition(e,t,r),this}scrollToPoint(e,t,r){return this.scroller.widget.scrollToPoint(e,t,r),this}scrollToContent(e){return this.scroller.widget.scrollToContent(e),this}scrollToCell(e,t){return this.scroller.widget.scrollToCell(e,t),this}transitionToPoint(e,t,r){return this.scroller.widget.transitionToPoint(e,t,r),this}transitionToRect(e,t={}){return this.scroller.widget.transitionToRect(e,t),this}isSelectionEnabled(){return!this.selection.disabled}enableSelection(){return this.selection.enable(),this}disableSelection(){return this.selection.disable(),this}toggleSelection(e){return e!=null?e!==this.isSelectionEnabled()&&(e?this.enableSelection():this.disableSelection()):this.isSelectionEnabled()?this.disableSelection():this.enableSelection(),this}isMultipleSelection(){return this.selection.isMultiple()}enableMultipleSelection(){return this.selection.enableMultiple(),this}disableMultipleSelection(){return this.selection.disableMultiple(),this}toggleMultipleSelection(e){return e!=null?e!==this.isMultipleSelection()&&(e?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this}isSelectionMovable(){return this.selection.widget.options.movable!==!1}enableSelectionMovable(){return this.selection.widget.options.movable=!0,this}disableSelectionMovable(){return this.selection.widget.options.movable=!1,this}toggleSelectionMovable(e){return e!=null?e!==this.isSelectionMovable()&&(e?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this}isRubberbandEnabled(){return!this.selection.rubberbandDisabled}enableRubberband(){return this.selection.enableRubberband(),this}disableRubberband(){return this.selection.disableRubberband(),this}toggleRubberband(e){return e!=null?e!==this.isRubberbandEnabled()&&(e?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this}isStrictRubberband(){return this.selection.widget.options.strict===!0}enableStrictRubberband(){return this.selection.widget.options.strict=!0,this}disableStrictRubberband(){return this.selection.widget.options.strict=!1,this}toggleStrictRubberband(e){return e!=null?e!==this.isStrictRubberband()&&(e?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this}setRubberbandModifiers(e){this.selection.setModifiers(e)}setSelectionFilter(e){return this.selection.setFilter(e),this}setSelectionDisplayContent(e){return this.selection.setContent(e),this}isSelectionEmpty(){return this.selection.isEmpty()}cleanSelection(e){return this.selection.clean(e),this}resetSelection(e,t){return this.selection.reset(e,t),this}getSelectedCells(){return this.selection.cells}getSelectedCellCount(){return this.selection.length}isSelected(e){return this.selection.isSelected(e)}select(e,t){return this.selection.select(e,t),this}unselect(e,t){return this.selection.unselect(e,t),this}isSnaplineEnabled(){return!this.snapline.widget.disabled}enableSnapline(){return this.snapline.widget.enable(),this}disableSnapline(){return this.snapline.widget.disable(),this}toggleSnapline(e){if(e!=null)e!==this.isSnaplineEnabled()&&(e?this.enableSnapline():this.disableSnapline());else return this.isSnaplineEnabled()?this.disableSnapline():this.enableSnapline(),this}hideSnapline(){return this.snapline.widget.hide(),this}setSnaplineFilter(e){return this.snapline.widget.setFilter(e),this}isSnaplineOnResizingEnabled(){return this.snapline.widget.options.resizing===!0}enableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!0,this}disableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!1,this}toggleSnaplineOnResizing(e){return e!=null?e!==this.isSnaplineOnResizingEnabled()&&(e?this.enableSnaplineOnResizing():this.disableSnaplineOnResizing()):this.isSnaplineOnResizingEnabled()?this.disableSnaplineOnResizing():this.enableSnaplineOnResizing(),this}isSharpSnapline(){return this.snapline.widget.options.sharp===!0}enableSharpSnapline(){return this.snapline.widget.options.sharp=!0,this}disableSharpSnapline(){return this.snapline.widget.options.sharp=!1,this}toggleSharpSnapline(e){return e!=null?e!==this.isSharpSnapline()&&(e?this.enableSharpSnapline():this.disableSharpSnapline()):this.isSharpSnapline()?this.disableSharpSnapline():this.enableSharpSnapline(),this}getSnaplineTolerance(){return this.snapline.widget.options.tolerance}setSnaplineTolerance(e){return this.snapline.widget.options.tolerance=e,this}removeTools(){return this.emit("tools:remove"),this}hideTools(){return this.emit("tools:hide"),this}showTools(){return this.emit("tools:show"),this}toSVG(e,t={}){this.format.toSVG(e,t)}toDataURL(e,t){this.format.toDataURL(e,t)}toPNG(e,t={}){this.format.toPNG(e,t)}toJPEG(e,t={}){this.format.toJPEG(e,t)}printPreview(e){this.print.show(e)}dispose(){this.clearCells(),this.off(),this.css.dispose(),this.hook.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.knob.dispose(),this.highlight.dispose(),this.background.dispose(),this.clipboard.dispose(),this.snapline.dispose(),this.selection.dispose(),this.history.dispose(),this.keyboard.dispose(),this.mousewheel.dispose(),this.print.dispose(),this.format.dispose(),this.minimap.dispose(),this.panning.dispose(),this.scroller.dispose(),this.view.dispose(),this.renderer.dispose(),this.size.dispose()}}Of([Id.checkScroller()],Hl.prototype,"lockScroller",null),Of([Id.checkScroller()],Hl.prototype,"unlockScroller",null),Of([Id.checkScroller()],Hl.prototype,"updateScroller",null),Of([Id.checkScroller()],Hl.prototype,"getScrollbarPosition",null),Of([Id.checkScroller()],Hl.prototype,"setScrollbarPosition",null),Of([Id.checkScroller()],Hl.prototype,"scrollToPoint",null),Of([Id.checkScroller()],Hl.prototype,"scrollToContent",null),Of([Id.checkScroller()],Hl.prototype,"scrollToCell",null),Of([Id.checkScroller()],Hl.prototype,"transitionToPoint",null),Of([Id.checkScroller()],Hl.prototype,"transitionToRect",null),Of([hf.dispose()],Hl.prototype,"dispose",null),function(c){c.View=Qd,c.Hook=Ml,c.Renderer=$l,c.Keyboard=Xg,c.MouseWheel=i2,c.BaseManager=wc,c.DefsManager=J1,c.GridManager=k0,c.CoordManager=Ty,c.PrintManager=Qg,c.FormatManager=nx,c.MiniMapManager=r2,c.HistoryManager=Ju,c.SnaplineManager=L0,c.ScrollerManager=Oy,c.ClipboardManager=_y,c.TransformManager=Jv,c.HighlightManager=F0,c.BackgroundManager=Qv,c.SelectionManager=t2}(Hl||(Hl={})),function(c){c.toStringTag=`X6.${c.name}`;function e(t){if(t==null)return!1;if(t instanceof c)return!0;const r=t[Symbol.toStringTag],a=t;return(r==null||r===c.toStringTag)&&a.hook!=null&&a.view!=null&&a.model!=null}c.isGraph=e}(Hl||(Hl={})),function(c){function e(t,r){const a=t instanceof HTMLElement?new c({container:t}):new c(t);return r!=null&&a.fromJSON(r),a}c.render=e}(Hl||(Hl={})),function(c){c.registerNode=Qc.registry.register,c.registerEdge=Jc.registry.register,c.registerView=uu.registry.register,c.registerAttr=Dd.registry.register,c.registerGrid=hh.registry.register,c.registerFilter=kh.registry.register,c.registerNodeTool=Yp.registry.register,c.registerEdgeTool=mp.registry.register,c.registerBackground=dp.registry.register,c.registerHighlighter=rn.registry.register,c.registerPortLayout=Ou.registry.register,c.registerPortLabelLayout=hp.registry.register,c.registerMarker=Hf.registry.register,c.registerRouter=Gh.registry.register,c.registerConnector=Bh.registry.register,c.registerAnchor=Fg.registry.register,c.registerEdgeAnchor=Xp.registry.register,c.registerConnectionPoint=Qp.registry.register,c.registerConnectionStrategy=Wp.registry.register,c.registerHTMLComponent=Uh.componentRegistry.register}(Hl||(Hl={})),function(c){c.unregisterNode=Qc.registry.unregister,c.unregisterEdge=Jc.registry.unregister,c.unregisterView=uu.registry.unregister,c.unregisterAttr=Dd.registry.unregister,c.unregisterGrid=hh.registry.unregister,c.unregisterFilter=kh.registry.unregister,c.unregisterNodeTool=Yp.registry.unregister,c.unregisterEdgeTool=mp.registry.unregister,c.unregisterBackground=dp.registry.unregister,c.unregisterHighlighter=rn.registry.unregister,c.unregisterPortLayout=Ou.registry.unregister,c.unregisterPortLabelLayout=hp.registry.unregister,c.unregisterMarker=Hf.registry.unregister,c.unregisterRouter=Gh.registry.unregister,c.unregisterConnector=Bh.registry.unregister,c.unregisterAnchor=Fg.registry.unregister,c.unregisterEdgeAnchor=Xp.registry.unregister,c.unregisterConnectionPoint=Qp.registry.unregister,c.unregisterConnectionStrategy=Wp.registry.unregister,c.unregisterHTMLComponent=Uh.componentRegistry.unregister}(Hl||(Hl={}));class wp{constructor(){this.cells=[]}copy(e,t,r={}){this.options=Object.assign({},r);const u=(gf.isModel(t)?t:t.model).cloneSubGraph(e,r);this.cells=Ie(Object.keys(u).map(p=>u[p]),p=>p.isEdge()?2:1),this.serialize(r)}cut(e,t,r={}){this.copy(e,t,r),(Hl.isGraph(t)?t.model:t).batchUpdate("cut",()=>{e.forEach(u=>u.remove())})}paste(e,t={}){const r=Object.assign(Object.assign({},this.options),t),{offset:a,edgeProps:u,nodeProps:p}=r;let b=20,P=20;a&&(b=typeof a=="number"?a:a.dx,P=typeof a=="number"?a:a.dy),this.deserialize(r);const I=this.cells;I.forEach(W=>{W.model=null,W.removeProp("zIndex"),(b||P)&&W.translate(b,P),p&&W.isNode()&&W.prop(p),u&&W.isEdge()&&W.prop(u)});const z=Hl.isGraph(e)?e.model:e;return z.batchUpdate("paste",()=>{z.addCells(this.cells)}),this.copy(I,e,t),I}serialize(e){e.useLocalStorage!==!1&&jh.save(this.cells)}deserialize(e){if(e.useLocalStorage){const t=jh.fetch();t&&(this.cells=t)}}isEmpty(){return this.cells.length<=0}clean(){this.options={},this.cells=[],jh.clean()}}var jh;(function(c){const e=`${Kf.prefixCls}.clipboard.cells`;function t(u){if(window.localStorage){const p=u.map(b=>b.toJSON());localStorage.setItem(e,JSON.stringify(p))}}c.save=t;function r(){if(window.localStorage){const u=localStorage.getItem(e),p=u?JSON.parse(u):[];if(p)return gf.fromJSON(p)}}c.fetch=r;function a(){window.localStorage&&localStorage.removeItem(e)}c.clean=a})(jh||(jh={}));class ix{constructor(e){this.halo=e}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get node(){return this.cell}getPresets(){return{className:"type-node",handles:[{name:"remove",position:"nw",events:{mousedown:this.removeCell.bind(this)},icon:null},{name:"resize",position:"se",events:{mousedown:this.startResize.bind(this),mousemove:this.doResize.bind(this),mouseup:this.stopResize.bind(this)},icon:null},{name:"clone",position:"n",events:{mousedown:this.startClone.bind(this),mousemove:this.doClone.bind(this),mouseup:this.stopClone.bind(this)},icon:null},{name:"link",position:"e",events:{mousedown:this.startLink.bind(this),mousemove:this.doLink.bind(this),mouseup:this.stopLink.bind(this)},icon:null},{name:"fork",position:"ne",events:{mousedown:this.startFork.bind(this),mousemove:this.doFork.bind(this),mouseup:this.stopFork.bind(this)},icon:null},{name:"unlink",position:"w",events:{mousedown:this.unlink.bind(this)},icon:null},{name:"rotate",position:"sw",events:{mousedown:this.startRotate.bind(this),mousemove:this.doRotate.bind(this),mouseup:this.stopRotate.bind(this)},icon:null}],bbox(e){return this.options.useCellGeometry?e.cell.getBBox():e.getBBox()},content(e){const t=V("x: <%= x %>, y: <%= y %>, width: <%= width %>, height: <%= height %>, angle: <%= angle %>"),r=e.cell,a=r.getBBox();return t({x:Math.floor(a.x),y:Math.floor(a.y),width:Math.floor(a.width),height:Math.floor(a.height),angle:Math.floor(r.getAngle())})},magnet(e){return e.container},tinyThreshold:40,smallThreshold:80,loopEdgePreferredSide:"top",loopEdgeWidth:40,rotateGrid:15,rotateEmbeds:!1}}removeCell(){this.model.removeConnectedEdges(this.cell),this.cell.remove()}startLink({x:e,y:t}){this.halo.startBatch();const r=this.graph,a=this.createEdgeConnectedToSource();a.setTarget({x:e,y:t}),this.model.addEdge(a,{validation:!1,halo:this.halo.cid,async:!1}),r.view.undelegateEvents(),this.edgeView=r.renderer.findViewByCell(a),this.edgeView.prepareArrowheadDragging("target",{x:e,y:t,fallbackAction:"remove"})}createEdgeConnectedToSource(){const e=this.getMagnet(this.view,"source"),t=this.getEdgeTerminal(this.view,e),r=this.graph.hook.getDefaultEdge(this.view,e);return r.setSource(t),r}getMagnet(e,t){const r=this.options.magnet;if(typeof r=="function"){const a=er(r,this.halo,e,t);if(a instanceof SVGElement)return a}throw new Error("`magnet()` has to return an SVGElement")}getEdgeTerminal(e,t){const r={cell:e.cell.id};if(t!==e.container){const a=t.getAttribute("port");a?r.port=a:r.selector=e.getSelector(t)}return r}doLink({e,x:t,y:r}){this.edgeView&&this.edgeView.onMouseMove(e,t,r)}stopLink({e,x:t,y:r}){const a=this.edgeView;if(a){a.onMouseUp(e,t,r);const u=a.cell;u.hasLoop()&&this.makeLoopEdge(u),this.halo.stopBatch(),this.halo.trigger("action:edge:addde",{edge:u}),this.edgeView=null}this.graph.view.delegateEvents()}makeLoopEdge(e){let t=null,r=null;const a=this.options.loopEdgeWidth,u=this.graph.options,p=new Oo(0,0,u.width,u.height),b=this.graph.graphToLocal(this.view.getBBox());[this.options.loopEdgePreferredSide,"top","bottom","left","right"].some(I=>{let z=null,W=0,ne=0;switch(I){case"top":z=new Bn(b.x+b.width/2,b.y-a),W=a/2;break;case"bottom":z=new Bn(b.x+b.width/2,b.y+b.height+a),W=a/2;break;case"left":z=new Bn(b.x-a,b.y+b.height/2),ne=a/2;break;case"right":z=new Bn(b.x+b.width+a,b.y+b.height/2),ne=a/2;break;default:break}return z?(t=z.translate(-W,-ne),r=z.translate(W,ne),p.containsPoint(t)&&p.containsPoint(r)):!1})&&t&&r&&e.setVertices([t,r])}startResize({e}){this.halo.startBatch(),this.flip=[1,0,0,1,1,0,0,1][Math.floor(gl.normalize(this.node.getAngle())/45)],this.view.addClass("node-resizing"),zu("node:resize",e,this.view)}doResize({e,dx:t,dy:r}){const a=this.node.getSize(),u=Math.max(a.width+(this.flip?t:r),1),p=Math.max(a.height+(this.flip?r:t),1);this.node.resize(u,p,{absolute:!0}),zu("node:resizing",e,this.view)}stopResize({e}){this.view.removeClass("node-resizing"),zu("node:resized",e,this.view),this.halo.stopBatch()}startClone({e,x:t,y:r}){this.halo.startBatch();const u=this.options.clone(this.cell,{clone:!0});if(!tl.isCell(u))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(u,t,r),this.model.addCell(u,{halo:this.halo.cid,async:!1});const p=this.graph.renderer.findViewByCell(u);p.onMouseDown(e,t,r),this.halo.setEventData(e,{cloneView:p})}centerNodeAtCursor(e,t,r){const a=e.getBBox().getCenter(),u=t-a.x,p=r-a.y;e.translate(u,p)}doClone({e,x:t,y:r}){const a=this.halo.getEventData(e).cloneView;a&&a.onMouseMove(e,t,r)}stopClone({e,x:t,y:r}){const a=this.halo.getEventData(e).cloneView;a&&a.onMouseUp(e,t,r),this.halo.stopBatch()}startFork({e,x:t,y:r}){this.halo.startBatch();const a=this.options.clone(this.cell,{fork:!0});if(!tl.isCell(a))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(a,t,r),this.model.addCell(a,{halo:this.halo.cid,async:!1});const u=this.createEdgeConnectedToSource(),p=this.graph.renderer.findViewByCell(a),b=this.getMagnet(p,"target"),P=this.getEdgeTerminal(p,b);u.setTarget(P),this.model.addEdge(u,{halo:this.halo.cid,async:!1}),p.onMouseDown(e,t,r),this.halo.setEventData(e,{cloneView:p})}doFork({e,x:t,y:r}){const a=this.halo.getEventData(e).cloneView;a&&a.onMouseMove(e,t,r)}stopFork({e,x:t,y:r}){const a=this.halo.getEventData(e).cloneView;a&&a.onMouseUp(e,t,r),this.halo.stopBatch()}startRotate({e,x:t,y:r}){this.halo.startBatch();const a=this.node.getBBox().getCenter(),u=[this.node];this.options.rotateEmbeds&&this.node.getDescendants({deep:!0}).reduce((p,b)=>(b.isNode()&&p.push(b),p),u),this.halo.setEventData(e,{center:a,nodes:u,rotateStartAngles:u.map(p=>p.getAngle()),clientStartAngle:new Bn(t,r).theta(a)}),u.forEach(p=>{const b=this.graph.findViewByCell(p);b&&(b.addClass("node-rotating"),zu("node:rotate",e,b))})}doRotate({e,x:t,y:r}){const a=this.halo.getEventData(e),u=a.clientStartAngle-new Bn(t,r).theta(a.center);a.nodes.forEach((p,b)=>{const P=a.rotateStartAngles[b],I=vu.snapToGrid(P+u,this.options.rotateGrid);p.rotate(I,{absolute:!0,center:a.center,halo:this.halo.cid}),zu("node:rotating",e,this.graph.findViewByCell(p))})}stopRotate({e}){this.halo.getEventData(e).nodes.forEach(r=>{const a=this.graph.findViewByCell(r);a.removeClass("node-rotating"),zu("node:rotated",e,a)}),this.halo.stopBatch()}unlink(){this.halo.startBatch(),this.model.removeConnectedEdges(this.cell),this.halo.stopBatch()}}class Ny{constructor(e){this.halo=e}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get edge(){return this.cell}getPresets(){return{className:"type-edge",handles:[{name:"remove",position:"nw",icon:null,events:{mousedown:this.removeEdge.bind(this)}},{name:"direction",position:"se",icon:null,events:{mousedown:this.directionSwap.bind(this)}}],content:!1,bbox(e){return e.graph.localToGraph(e.getPointAtRatio(.5))},tinyThreshold:-1,smallThreshold:-1}}removeEdge(){this.cell.remove()}directionSwap(){const e=this.edge.getSource(),t=this.edge.getTarget();this.edge.prop({source:t,target:e})}}class md extends R0{get type(){return this.options.type||"surround"}get handleOptions(){return this.options}init(e){this.options=ea.Z(md.defaultOptions,this.cell.isNode()?new ix(this).getPresets():this.cell.isEdge()?new Ny(this).getPresets():null,e),this.render(),this.initHandles(),this.update(),this.startListening()}startListening(){const e=this.model,t=this.graph;this.view.cell.on("removed",this.remove,this),e.on("reseted",this.remove,this),t.on("halo:destroy",this.remove,this),e.on("*",this.update,this),t.on("scale",this.update,this),t.on("translate",this.update,this),super.startListening()}stopListening(){const e=this.model,t=this.graph,r=this.view.cell;this.undelegateEvents(),r.off("removed",this.remove,this),e.off("reseted",this.remove,this),t.off("halo:destroy",this.remove,this),e.off("*",this.update,this),t.off("scale",this.update,this),t.off("translate",this.update,this),super.stopListening()}render(){const e=this.options,t=this.prefixClassName("widget-halo");return this.view.addClass(vh.NODE_CLS),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(t).attr("data-shape",this.view.cell.shape),e.className&&this.$container.addClass(e.className),this.$handleContainer=this.$("<div/>").addClass(`${t}-handles`).appendTo(this.container),this.$content=this.$("<div/>").addClass(`${t}-content`).appendTo(this.container),this.$container.appendTo(this.graph.container),this}remove(){return this.stopBatch(),this.view.removeClass(vh.NODE_CLS),super.remove()}update(){if(this.isRendered()){this.updateContent();const e=this.getBBox(),t=this.options.tinyThreshold||0,r=this.options.smallThreshold||0;this.$handleContainer.toggleClass(`${this.handleClassName}-tiny`,e.width<t&&e.height<t);const a=`${this.handleClassName}-small`;this.$handleContainer.toggleClass(a,!this.$handleContainer.hasClass(a)&&e.width<r&&e.height<r),this.$container.css({width:e.width,height:e.height,left:e.x,top:e.y}),this.hasHandle("unlink")&&this.toggleUnlink(),(this.type==="surround"||this.type==="toolbar")&&this.hasHandle("fork")&&this.toggleFork()}}updateContent(){const e=this.options.content;if(typeof e=="function"){const t=er(e,this,this.view,this.$content[0]);t&&this.$content.html(t)}else e?this.$content.html(e):this.$content.remove()}getBBox(){const e=this.view,t=this.options.bbox,r=typeof t=="function"?er(t,this,e):t;return Oo.create(Object.assign({x:0,y:0,width:1,height:1},r))}removeCell(){this.cell.remove()}toggleFork(){const e=this.view.cell.clone(),t=this.graph.hook.createCellView(e),r=this.graph.hook.validateConnection(this.view,null,t,null,"target");this.$handleContainer.children(".fork").toggleClass("hidden",!r),t.remove()}toggleUnlink(){const e=this.model.getConnectedEdges(this.view.cell).length>0;this.$handleContainer.children(".unlink").toggleClass("hidden",!e)}startBatch(){this.model.startBatch("halo",{halo:this.cid})}stopBatch(){this.model.hasActiveBatch("halo")&&this.model.stopBatch("halo",{halo:this.cid})}}(function(c){c.defaultOptions={type:"surround",clearAll:!0,clearOnBlankMouseDown:!0,useCellGeometry:!1,clone:e=>e.clone().removeZIndex()}})(md||(md={})),Object.getOwnPropertyNames(Wg.prototype).forEach(c=>{c!=="constructor"&&Object.defineProperty(md.prototype,c,Object.getOwnPropertyDescriptor(Wg.prototype,c))});var vh;(function(c){c.NODE_CLS="has-widget-halo"})(vh||(vh={}));var o2=function(c,e,t,r){var a=arguments.length,u=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,e,t,r);else for(var b=c.length-1;b>=0;b--)(p=c[b])&&(u=(a<3?p(u):a>3?p(e,t,u):p(e,t))||u);return a>3&&u&&Object.defineProperty(e,t,u),u};class mh extends Nl{constructor(e){super(),this.options=Object.assign(Object.assign({},mh.defaults),e),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName("widget-dnd")),this.draggingGraph=new Hl(Object.assign(Object.assign({},this.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1})),this.$container.append(this.draggingGraph.container)}get targetScroller(){const e=this.options.target;return Hl.isGraph(e)?e.scroller.widget:e}get targetGraph(){const e=this.options.target;return Hl.isGraph(e)?e:e.graph}get targetModel(){return this.targetGraph.model}get snapline(){return this.targetGraph.snapline.widget}start(e,t){const r=t;r.preventDefault(),this.targetModel.startBatch("dnd"),this.$container.addClass("dragging").appendTo(this.options.draggingContainer||document.body),this.sourceNode=e,this.prepareDragging(e,r.clientX,r.clientY);const a=this.updateNodePosition(r.clientX,r.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:r,node:e,cell:e,view:this.draggingView,x:a.x,y:a.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(mh.documentEvents,r.data)}isSnaplineEnabled(){return this.snapline&&!this.snapline.disabled}prepareDragging(e,t,r){const a=this.draggingGraph,u=a.model,p=this.options.getDragNode(e,{sourceNode:e,draggingGraph:a,targetGraph:this.targetGraph});p.position(0,0);let b=5;if(this.isSnaplineEnabled()&&(b+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){const z=this.targetGraph.transform.getScale();a.scale(z.sx,z.sy),b*=Math.max(z.sx,z.sy)}else a.scale(1,1);this.clearDragging(),this.options.animation&&this.$container.stop(!0,!0),u.resetCells([p]);const P=a.findViewByCell(p);P.undelegateEvents(),P.cell.off("changed"),a.fitToContent({padding:b,allowNewOrigin:"any"});const I=P.getBBox();this.geometryBBox=P.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(I.getTopLeft()),this.draggingNode=p,this.draggingView=P,this.draggingBBox=p.getBBox(),this.padding=b,this.originOffset=this.updateGraphPosition(t,r)}updateGraphPosition(e,t){const r=document.body.scrollTop||document.documentElement.scrollTop,a=this.delta,u=this.geometryBBox,p=this.padding||5,b={left:e-a.x-u.width/2-p,top:t-a.y-u.height/2-p+r};return this.draggingGraph&&this.$container.offset(b),b}updateNodePosition(e,t){const r=this.targetGraph.clientToLocal(e,t),a=this.draggingBBox;return r.x-=a.width/2,r.y-=a.height/2,this.draggingNode.position(r.x,r.y),r}snap({cell:e,current:t,options:r}){const a=e;if(r.snapped){const u=this.draggingBBox;a.position(u.x+r.tx,u.y+r.ty,{silent:!0}),this.draggingView.translate(),a.position(t.x,t.y,{silent:!0}),this.snapOffset={x:r.tx,y:r.ty}}else this.snapOffset=null}onDragging(e){const t=this.draggingView;if(t){e.preventDefault();const r=this.normalizeEvent(e),a=r.clientX,u=r.clientY;this.updateGraphPosition(a,u);const p=this.updateNodePosition(a,u),b=this.targetGraph.options.embedding.enabled,P=(b||this.isSnaplineEnabled())&&this.isInsideValidArea({x:a,y:u});if(b){t.setEventData(r,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});const I=t.getEventData(r);P?t.processEmbedding(r,I):t.clearEmbedding(I),this.candidateEmbedView=I.candidateEmbedView}this.isSnaplineEnabled()&&(P?this.snapline.snapOnMoving({e:r,view:t,x:p.x,y:p.y}):this.snapline.hide())}}onDragEnd(e){const t=this.draggingNode;if(t){const r=this.normalizeEvent(e),a=this.draggingView,u=this.draggingBBox,p=this.snapOffset;let b=u.x,P=u.y;p&&(b+=p.x,P+=p.y),t.position(b,P,{silent:!0});const I=this.drop(t,{x:r.clientX,y:r.clientY}),z=W=>{W?(this.onDropped(t),this.targetGraph.options.embedding.enabled&&a&&(a.setEventData(r,{cell:W,graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView}),a.finalizeEmbedding(r,a.getEventData(r)))):this.onDropInvalid(),this.candidateEmbedView=null,this.targetModel.stopBatch("dnd")};fn(I)?(this.undelegateDocumentEvents(),I.then(z)):z(I)}}clearDragging(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())}onDropped(e){this.draggingNode===e&&(this.clearDragging(),this.$container.removeClass("dragging").remove())}onDropInvalid(){const e=this.draggingNode;if(e){const t=this.options.animation;if(t){const r=typeof t=="object"&&t.duration||150,a=typeof t=="object"&&t.easing||"swing";this.draggingView=null,this.$container.animate(this.originOffset,r,a,()=>this.onDropped(e))}else this.onDropped(e)}}isInsideValidArea(e){let t,r=null;const a=this.targetGraph,u=this.targetScroller;this.options.dndContainer&&(r=this.getDropArea(this.options.dndContainer));const p=r&&r.containsPoint(e);if(u)if(u.options.autoResize)t=this.getDropArea(u.container);else{const b=this.getDropArea(u.container);t=this.getDropArea(a.container).intersectsWithRect(b)}else t=this.getDropArea(a.container);return!p&&t&&t.containsPoint(e)}getDropArea(e){const t=this.$(e),r=t.offset(),a=document.body.scrollTop||document.documentElement.scrollTop,u=document.body.scrollLeft||document.documentElement.scrollLeft;return Oo.create({x:r.left+parseInt(t.css("border-left-width"),10)-u,y:r.top+parseInt(t.css("border-top-width"),10)-a,width:t.innerWidth(),height:t.innerHeight()})}drop(e,t){if(this.isInsideValidArea(t)){const r=this.targetGraph,a=r.model,u=r.clientToLocal(t),p=this.sourceNode,b=this.options.getDropNode(e,{sourceNode:p,draggingNode:e,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),P=b.getBBox();u.x+=P.x-P.width/2,u.y+=P.y-P.height/2;const I=this.snapOffset?1:r.getGridSize();b.position(vu.snapToGrid(u.x,I),vu.snapToGrid(u.y,I)),b.removeZIndex();const z=this.options.validateNode,W=z?z(b,{sourceNode:p,draggingNode:e,droppingNode:b,targetGraph:r,draggingGraph:this.draggingGraph}):!0;return typeof W=="boolean"?W?(a.addCell(b,{stencil:this.cid}),b):null:tr(W).then(ne=>ne?(a.addCell(b,{stencil:this.cid}),b):null)}return null}onRemove(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())}dispose(){this.remove()}}o2([Nl.dispose()],mh.prototype,"dispose",null),function(c){c.defaults={animation:!1,getDragNode:e=>e.clone(),getDropNode:e=>e.clone()},c.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"}}(mh||(mh={}));function a2(c,e={}){const t=gf.isModel(c)?c:new gf().resetCells(c,{sort:!1,dryrun:!0}),r=t.getNodes(),a=e.columns||1,u=Math.ceil(r.length/a),p=e.dx||0,b=e.dy||0,P=e.center!==!1,I=e.resizeToFit===!0,z=e.marginX||0,W=e.marginY||0,ne=[];let Te=e.columnWidth;if(Te==="compact")for(let pn=0;pn<a;pn+=1){const Kt=qd.getNodesInColumn(r,pn,a);ne.push(qd.getMaxDim(Kt,"width")+p)}else{(Te==null||Te==="auto")&&(Te=qd.getMaxDim(r,"width")+p);for(let pn=0;pn<a;pn+=1)ne.push(Te)}const Ke=qd.accumulate(ne,z),Ue=[];let At=e.rowHeight;if(At==="compact")for(let pn=0;pn<u;pn+=1){const Kt=qd.getNodesInRow(r,pn,a);Ue.push(qd.getMaxDim(Kt,"height")+b)}else{(At==null||At==="auto")&&(At=qd.getMaxDim(r,"height")+b);for(let pn=0;pn<u;pn+=1)Ue.push(At)}const tn=qd.accumulate(Ue,W);t.startBatch("layout"),r.forEach((pn,Kt)=>{const zn=Kt%a,gr=Math.floor(Kt/a),ii=ne[zn],si=Ue[gr];let Ri=0,zo=0,ro=pn.getSize();if(I){let po=ii-2*p,Yo=si-2*b;const ks=ro.height*(ro.width?po/ro.width:1),Fs=ro.width*(ro.height?Yo/ro.height:1);si<ks?po=Fs:Yo=ks,ro={width:po,height:Yo},pn.setSize(ro,e)}P&&(Ri=(ii-ro.width)/2,zo=(si-ro.height)/2),pn.position(Ke[zn]+p+Ri,tn[gr]+b+zo,e)}),t.stopBatch("layout")}var qd;(function(c){function e(u,p){return u.reduce((b,P)=>Math.max(P.getSize()[p],b),0)}c.getMaxDim=e;function t(u,p,b){const P=[];for(let I=b*p,z=I+b;I<z;I+=1)P.push(u[I]);return P}c.getNodesInRow=t;function r(u,p,b){const P=[];for(let I=p,z=u.length;I<z;I+=b)P.push(u[I]);return P}c.getNodesInColumn=r;function a(u,p){return u.reduce((b,P,I)=>(b.push(b[I]+P),b),[p||0])}c.accumulate=a})(qd||(qd={}));class Jg extends Nl{constructor(e){super(),this.graphs={},this.$groups={},this.options=Object.assign(Object.assign({},Jg.defaultOptions),e),this.dnd=new mh(this.options),this.onSearch=za.Z(this.onSearch,200),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(Qf.base)).attr("data-not-found-text",this.options.notFoundText||"No matches found"),this.options.collapsable=e.collapsable&&e.groups&&e.groups.some(r=>r.collapsable!==!1),this.options.collapsable&&(this.$container.addClass("collapsable"),e.groups&&e.groups.every(a=>a.collapsed||a.collapsable===!1)&&this.$container.addClass("collapsed")),this.$("<div/>").addClass(this.prefixClassName(Qf.title)).html(this.options.title).appendTo(this.$container),e.search&&this.$container.addClass("searchable").append(this.renderSearch()),this.$content=this.$("<div/>").addClass(this.prefixClassName(Qf.content)).appendTo(this.$container);const t=e.stencilGraphOptions||{};if(e.groups&&e.groups.length)e.groups.forEach(r=>{const a=this.$("<div/>").addClass(this.prefixClassName(Qf.group)).attr("data-name",r.name);(r.collapsable==null&&e.collapsable||r.collapsable!==!1)&&a.addClass("collapsable"),a.toggleClass("collapsed",r.collapsed===!0);const u=this.$("<h3/>").addClass(this.prefixClassName(Qf.groupTitle)).html(r.title||r.name),p=this.$("<div/>").addClass(this.prefixClassName(Qf.groupContent)),b=r.graphOptions,P=new Hl(Object.assign(Object.assign(Object.assign({},t),b),{container:document.createElement("div"),model:t.model||new gf,width:r.graphWidth||e.stencilGraphWidth,height:r.graphHeight||e.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));p.append(P.container),a.append(u,p).appendTo(this.$content),this.$groups[r.name]=a,this.graphs[r.name]=P});else{const r=new Hl(Object.assign(Object.assign({},t),{container:document.createElement("div"),model:t.model||new gf,width:e.stencilGraphWidth,height:e.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));this.$content.append(r.container),this.graphs[qg.defaultGroupName]=r}return this.startListening(),this}get targetScroller(){const e=this.options.target;return Hl.isGraph(e)?e.scroller.widget:e}get targetGraph(){const e=this.options.target;return Hl.isGraph(e)?e:e.graph}get targetModel(){return this.targetGraph.model}renderSearch(){return this.$("<div/>").addClass(this.prefixClassName(Qf.search)).append(this.$("<input/>").attr({type:"search",placeholder:this.options.placeholder||"Search"}).addClass(this.prefixClassName(Qf.searchText)))}startListening(){const e=this.prefixClassName(Qf.title),t=this.prefixClassName(Qf.searchText),r=this.prefixClassName(Qf.groupTitle);this.delegateEvents({[`click .${e}`]:"onTitleClick",[`touchstart .${e}`]:"onTitleClick",[`click .${r}`]:"onGroupTitleClick",[`touchstart .${r}`]:"onGroupTitleClick",[`input .${t}`]:"onSearch",[`focusin .${t}`]:"onSearchFocusIn",[`focusout .${t}`]:"onSearchFocusOut"}),Object.keys(this.graphs).forEach(a=>{this.graphs[a].on("cell:mousedown",this.onDragStart,this)})}stopListening(){this.undelegateEvents(),Object.keys(this.graphs).forEach(e=>{this.graphs[e].off("cell:mousedown",this.onDragStart,this)})}load(e,t){return Array.isArray(e)?this.loadGroup(e,t):this.options.groups&&Object.keys(this.options.groups).forEach(r=>{e[r]&&this.loadGroup(e[r],r)}),this}loadGroup(e,t){const r=this.getModel(t);if(r){const b=e.map(P=>Qc.isNode(P)?P:Qc.create(P));r.resetCells(b)}const a=this.getGroup(t);let u=this.options.stencilGraphHeight;a&&a.graphHeight!=null&&(u=a.graphHeight);const p=a&&a.layout||this.options.layout;if(p&&r&&er(p,this,r,a),!u){const b=this.getGraph(t);b.fitToContent({minWidth:b.options.width,gridHeight:1,padding:a&&a.graphPadding||this.options.stencilGraphPadding||10})}return this}onDragStart(e){const{e:t,node:r}=e;this.dnd.start(r,t)}filter(e,t){const r=Object.keys(this.graphs).reduce((a,u)=>{const p=this.graphs[u],b=u===qg.defaultGroupName?null:u,P=p.model.getNodes().filter(ne=>{let Te=!1;typeof t=="function"?Te=er(t,this,ne,e,b,this):typeof t=="boolean"?Te=t:Te=this.isCellMatched(ne,e,t,e.toLowerCase()!==e);const Ke=p.renderer.findViewByCell(ne);return Ke&&Ke.$(Ke.container).toggleClass("unmatched",!Te),Te}),I=P.length>0,z=this.options,W=new gf;return W.resetCells(P),z.layout&&er(z.layout,this,W,this.getGroup(u)),this.$groups[u]&&this.$groups[u].toggleClass("unmatched",!I),p.fitToContent({gridWidth:1,gridHeight:1,padding:z.stencilGraphPadding||10}),a||I},!1);this.$container.toggleClass("not-found",!r)}isCellMatched(e,t,r,a){return t&&r?Object.keys(r).some(u=>{if(u==="*"||e.shape===u){const p=r[u];return typeof p=="boolean"?p:(Array.isArray(p)?p:[p]).some(P=>{let I=e.getPropByPath(P);return I!=null?(I=`${I}`,a||(I=I.toLowerCase()),I.indexOf(t)>=0):!1})}return!1}):!0}onSearch(e){this.filter(e.target.value,this.options.search)}onSearchFocusIn(){this.$container.addClass("is-focused")}onSearchFocusOut(){this.$container.removeClass("is-focused")}onTitleClick(){this.options.collapsable&&(this.$container.toggleClass("collapsed"),this.$container.hasClass("collapsed")?this.collapseGroups():this.expandGroups())}onGroupTitleClick(e){const t=this.$(e.target).closest(`.${this.prefixClassName(Qf.group)}`);this.toggleGroup(t.attr("data-name")||"");const r=Object.keys(this.$groups).every(a=>{const u=this.getGroup(a),p=this.$groups[a];return u&&u.collapsable===!1||p.hasClass("collapsed")});this.$container.toggleClass("collapsed",r)}getModel(e){const t=this.getGraph(e);return t?t.model:null}getGraph(e){return this.graphs[e||qg.defaultGroupName]}getGroup(e){const t=this.options.groups;return e!=null&&t&&t.length?t.find(r=>r.name===e):null}toggleGroup(e){return this.isGroupCollapsed(e)?this.expandGroup(e):this.collapseGroup(e),this}collapseGroup(e){if(this.isGroupCollapsable(e)){const t=this.$groups[e];t&&!this.isGroupCollapsed(e)&&(this.trigger("group:collapse",{name:e}),t.addClass("collapsed"))}return this}expandGroup(e){if(this.isGroupCollapsable(e)){const t=this.$groups[e];t&&this.isGroupCollapsed(e)&&(this.trigger("group:expand",{name:e}),t.removeClass("collapsed"))}return this}isGroupCollapsable(e){return this.$groups[e].hasClass("collapsable")}isGroupCollapsed(e){const t=this.$groups[e];return t&&t.hasClass("collapsed")}collapseGroups(){return Object.keys(this.$groups).forEach(e=>this.collapseGroup(e)),this}expandGroups(){return Object.keys(this.$groups).forEach(e=>this.expandGroup(e)),this}resizeGroup(e,t){const r=this.graphs[e];return r&&r.resize(t.width,t.height),this}onRemove(){Object.keys(this.graphs).forEach(e=>{this.graphs[e].view.remove(),delete this.graphs[e]}),this.dnd.remove(),this.stopListening(),this.undelegateDocumentEvents()}}(function(c){c.defaultOptions=Object.assign({stencilGraphWidth:200,stencilGraphHeight:800,title:"Stencil",collapsable:!1,placeholder:"Search",notFoundText:"No matches found",layout(e,t){const r={columnWidth:this.options.stencilGraphWidth/2-10,columns:2,rowHeight:80,resizeToFit:!1,dx:10,dy:10};a2(e,Object.assign(Object.assign(Object.assign({},r),this.options.layoutOptions),t?t.layoutOptions:{}))}},mh.defaults)})(Jg||(Jg={}));var Qf;(function(c){c.base="widget-stencil",c.title=`${c.base}-title`,c.search=`${c.base}-search`,c.searchText=`${c.search}-text`,c.content=`${c.base}-content`,c.group=`${c.base}-group`,c.groupTitle=`${c.group}-title`,c.groupContent=`${c.group}-content`})(Qf||(Qf={}));var qg;(function(c){c.defaultGroupName="__default__"})(qg||(qg={}))},58167:function(j,M,l){"use strict";l.d(M,{Il:function(){return ji},BH:function(){return re},JT:function(){return K},K4:function(){return Y},wP:function(){return Yi},ln:function(){return Fo},KV:function(){return Si},$p:function(){return so},d:function(){return xo},OL:function(){return pa},$4:function(){return cs},tF:function(){return nn},SM:function(){return se},qI:function(){return Bo},nY:function(){return yx},CG:function(){return JS},ko:function(){return RO},G7:function(){return _O},G8:function(){return Sx},dX:function(){return Ca},ManaSyringe:function(){return d},UI:function(){return Cx},wK:function(){return xx},NsGraph:function(){return m},FL:function(){return qo},fu:function(){return bx},g:function(){return eM},cP:function(){return Mt},p3:function(){return bl},pz:function(){return bt},n1:function(){return nc},Hj:function(){return kc},WY:function(){return v},$b:function(){return Ae},Gv:function(){return be},dV:function(){return Re},gy:function(){return Ne},cE:function(){return Ge},s$:function(){return Sa},s4:function(){return gO},Ao:function(){return SO},Jp:function(){return ot},vD:function(){return wo},zg:function(){return AO},HJ:function(){return Tl},gw:function(){return DO},Yr:function(){return os},Ns:function(){return oi},t1:function(){return Qn},bp:function(){return ko},FA:function(){return ui},XM:function(){return Ex},tT:function(){return tM},DL:function(){return MO},Te:function(){return Ha},XZ:function(){return It},e7:function(){return fc},k$:function(){return st}});var v={};l.r(v),l.d(v,{DEFAULT_NODE_HEIGHT:function(){return Be},DEFAULT_NODE_WIDTH:function(){return je},LOCAL_STORAGE_KEY:function(){return pe},MAX_ZOOM:function(){return ve},MIN_ZOOM:function(){return ie},X6_NODE_PORTAL_NODE_VIEW:function(){return fe},XFLOW_DEFAULT_EDGE:function(){return Pe},XFLOW_DEFAULT_GROUP_NODE:function(){return L},XFLOW_DEFAULT_NODE:function(){return Oe},XFLOW_GROUP_DEFAULT_COLLAPSED_SIZE:function(){return he},XFLOW_PREFIX_CLS:function(){return le}});var d=l(13071),m;(function(n){let i;(function(s){s.TOP="top",s.BOTTOM="bottom",s.RIGHT="right",s.LEFT="left"})(i=n.AnchorGroup||(n.AnchorGroup={}));let o;(function(s){s.INPUT="input",s.OUTPUT="output"})(o=n.AnchorType||(n.AnchorType={}))})(m||(m={}));var g=l(97582),x=l(67294),A=l(93967),E=l.n(A),w=l(28660),k=l(58379),Z=l(73935),U;(function(n){function i(s){return!!s&&typeof s=="object"&&"dispose"in s&&typeof s.dispose=="function"}n.is=i;function o(s){return{dispose:s}}n.create=o,n.NONE=o(()=>{})})(U||(U={}));let $;var te;(function(n){n.None=()=>U.NONE;function i(o,s){return(f,h)=>o(C=>f.call(h,s(C)),void 0)}n.map=i})(te||(te={})),$=Symbol.iterator;class Q{constructor(i=!1){this.mono=void 0,this._callbacks=void 0,this.mono=i}get callbacks(){return this._callbacks||(this._callbacks=[]),this._callbacks}get length(){return this.callbacks.length}add(i,o=void 0){this.callbacks.push([i,o])}remove(i,o=void 0){if(this.isEmpty())return;let s=!1;for(let f=0;f<this.length;f+=1)if(this.callbacks[f][0]===i){if(this.callbacks[f][1]===o){this.callbacks.splice(f,1);return}s=!0}if(s)throw new Error("You should remove it with the same context you add it")}[$](){return this.isEmpty()?[][Symbol.iterator]():this.callbacks.slice(0).map(o=>(...s)=>o[0].apply(o[1],s))[Symbol.iterator]()}invoke(...i){const o=[];for(const s of this)try{o.push(s(...i))}catch(f){console.error(f)}return o}isEmpty(){return this.callbacks.length===0}dispose(){this._callbacks=void 0}}class J{constructor(i={}){this.options=void 0,this._event=void 0,this._callbacks=void 0,this.disposed=!1,this.options=i}get callbacks(){return this._callbacks||(this._callbacks=new Q),this._callbacks}get event(){return this._event||(this._event=(i,o)=>{this.options.onFirstListenerAdd&&this.callbacks.isEmpty()&&this.options.onFirstListenerAdd(this),this.callbacks.add(i,o);const s={dispose:()=>{s.dispose=J.noop,this.disposed||(this.callbacks.remove(i,o),s.dispose=J.noop,this.options.onLastListenerRemove&&this.callbacks.isEmpty()&&this.options.onLastListenerRemove(this))}};return s}),this._event}fire(i){this._callbacks&&this.callbacks.invoke(i)}sequence(i){return lM(this,null,function*(){for(const o of this.callbacks)if(!(yield i(o)))break})}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0),this.disposed=!0}}J.noop=()=>{};var K;(function(n){function i(s){return!!s&&typeof s=="object"&&"dispose"in s&&typeof s.dispose=="function"}n.is=i;function o(s){return{dispose:s}}n.create=o,n.NULL=o(()=>{})})(K||(K={}));class Y{constructor(...i){this.disposables=[],this.onDisposeEmitter=new J,this.disposingElements=!1,i.forEach(o=>this.push(o))}get onDispose(){return this.onDisposeEmitter.event}checkDisposed(){this.disposed&&!this.disposingElements&&(this.onDisposeEmitter.fire(void 0),this.onDisposeEmitter.dispose())}get disposed(){return this.disposables.length===0}dispose(){return(0,g.mG)(this,void 0,void 0,function*(){if(!(this.disposed||this.disposingElements)){for(this.disposingElements=!0;!this.disposed;)try{yield this.disposables.pop().dispose()}catch(i){console.error(i)}this.disposingElements=!1,this.checkDisposed()}})}push(i){const{disposables:o}=this;o.push(i);const s=i.dispose.bind(i),f=K.create(()=>{const h=o.indexOf(i);h!==-1&&o.splice(h,1),this.checkDisposed()});return i.dispose=()=>{f.dispose(),s()},f}pushAll(i){return i.map(o=>this.push(o))}}class re{constructor(){this.isResolved=!1,this.isRejected=!1,this.promise=new Promise((i,o)=>{this.resolve=(...s)=>{this.isResolved=!0,i(...s)},this.reject=(...s)=>{this.isRejected=!0,o(...s)}})}}const fe="X6_NODE_PORTAL_NODE_VIEW",le="xflow",ie=.01,ve=1.5,Oe="XFLOW_DEFAULT_NODE",L="XFLOW_DEFAULT_GROUP_NODE",Pe="XFLOW_DEFAULT_EDGE",pe="XFLOW_COPY_ITEMS",Be=36,je=180,he={width:je,height:Be};function st(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const i=Math.random()*16|0;return(n=="x"?i:i&3|8).toString(16)})}var en=l(30723),vn=l(68658);const Mt=x.createContext(null);Mt.displayName="XFlowAppContext";const It=()=>{const n=x.useContext(Mt);return n&&n.getApp?n.getApp():null},Ve=()=>x.useContext(Mt);class Me{constructor(i=!1){this.cache=null,this.setApp=o=>{this.cache=o,this.onAppChangeCallback&&this.onAppChangeCallback(o)},this.isUserDefined=()=>this.isUserDefinedFlag,this.getApp=()=>this.cache,this.onAppChange=o=>{this.onAppChangeCallback=o},this.dispose=()=>{this.cache=null},this.isUserDefinedFlag=i}}const Qe=n=>{const i=Ve(),[,o]=x.useState(null),s=x.useMemo(()=>i&&i.isUserDefined()?i:new Me(!1),[]);return s.isUserDefined()||s.onAppChange(()=>o(0)),x.useEffect(()=>{n.app&&s.setApp(n.app)},[n.app]),s.isUserDefined()?x.createElement(x.Fragment,null,n.children):x.createElement(Mt.Provider,{value:Object.assign({},s)},n.children)};Qe.displayName="XFlowAppInternalProvider";const bt=({children:n})=>{const[,i]=x.useState(null),o=x.useMemo(()=>new Me(!0),[]);return o.onAppChange(()=>i(0)),x.createElement(Mt.Provider,{value:Object.assign({},o)},n)};bt.displayName="XFlowAppProvider";var Ge;(function(n){const i="\u8282\u70B9\u64CD\u4F5C";n.ADD_NODE={id:"xflow:add-node",label:"\u6DFB\u52A0\u8282\u70B9",category:i},n.DEL_NODE={id:"xflow:del-node",label:"\u5220\u9664\u8282\u70B9",category:i},n.UPDATE_NODE_PORT={id:"xflow:update-node-port",label:"\u5220\u9664\u8FDE\u63A5\u6869",category:i},n.UPDATE_NODE={id:"xflow:update-node",label:"\u66F4\u65B0\u8282\u70B9",category:i},n.HIGHLIGHT_NODE={id:"xflow:highlight-node",label:"\u9AD8\u4EAE\u8282\u70B9",category:i},n.SELECT_NODE={id:"xflow:select-node",label:"\u9009\u4E2D\u8282\u70B9",category:i},n.MOVE_NODE={id:"xflow:move-node",label:"Move Node",category:i},n.CENTER_NODE={id:"xflow:center-node",label:"\u5C45\u4E2D\u8282\u70B9",category:i},n.FRONT_NODE={id:"xflow:front-node",label:"\u524D\u7F6E\u8282\u70B9",category:i},n.BACK_NODE={id:"xflow:back-node",label:"\u540E\u7F6E\u8282\u70B9",category:i}})(Ge||(Ge={}));var Ae;(function(n){const i="\u8FB9\u64CD\u4F5C";n.ADD_EDGE={id:"xflow:add-edge",label:"\u6DFB\u52A0\u8FB9",category:i},n.DEL_EDGE={id:"xflow:del-edge",label:"\u5220\u9664\u8FB9",category:i},n.UPDATE_EDGE={id:"xflow:update-edge",label:"\u66F4\u65B0\u8FB9",category:i},n.HIGHLIGHT_EDGE={id:"xflow:highlight-edge",label:"\u9AD8\u4EAE\u8FB9",category:i},n.FRONT_EDGE={id:"xflow:front-edge",label:"\u524D\u7F6E\u53D8",category:i},n.BACK_EDGE={id:"xflow:back-edge",label:"\u540E\u7F6E\u8FB9",category:i}})(Ae||(Ae={}));var be;(function(n){const i="\u753B\u5E03\u64CD\u4F5C";n.LOAD_META={id:"xflow:load-meta",label:"\u83B7\u53D6\u5143\u6570\u636E",category:i},n.LOAD_DATA={id:"xflow:load-data",label:"\u83B7\u53D6\u56FE\u6570\u636E",category:i},n.SAVE_GRAPH_DATA={id:"xflow:save-graph-data",label:"\u4FDD\u5B58",category:i},n.GRAPH_LAYOUT={id:"xflow:layout",label:"\u8BA1\u7B97\u5E03\u5C40",category:i},n.GRAPH_RENDER={id:"xflow:graph-render",label:"\u6E32\u67D3\u753B\u5E03",category:i},n.UNDO_CMD={id:"xflow:undo-cmd",label:"\u64A4\u9500",category:i},n.REDO_CMD={id:"xflow:redo-cmd",label:"\u91CD\u505A",category:i},n.GRAPH_INSTANCE_COMMAND={id:"xflow:graph-instacne-cmd",label:"Graph\u901A\u7528Command",category:i},n.GRAPH_ZOOM={id:"xflow:graph-zoom",label:"\u7F29\u653E\u753B\u5E03",category:i},n.GRAPH_FULLSCREEN={id:"xflow:graph-fullscreen",label:"\u5168\u5C4F",category:i},n.GRAPH_RESIZE={id:"xflow:graph-resize",label:"\u8C03\u6574\u7A97\u53E3\u5927\u5C0F",category:i},n.GRAPH_COPY={id:"xflow:graph-copy-selection",label:"\u590D\u5236",category:i},n.GRAPH_PASTE={id:"xflow:graph-paste-selection",label:"\u7C98\u8D34",category:i},n.GRAPH_TOGGLE_MULTI_SELECT={id:"xflow:graph-toggle-multi-select",label:"\u542F\u7528\u6846\u9009",category:i},n.GRAPH_ADD_TOOL={id:"xflow:add-tool",label:"\u6DFB\u52A0\u5DE5\u5177",category:i},n.GRAPH_DEL_TOOL={id:"xflow:del-tool",label:"\u5220\u9664\u5DE5\u5177",category:i},n.GRAPH_HISTORY_UNDO={id:"xflow:history-undo",label:"history undo",category:i},n.GRAPH_HISTORY_REDO={id:"xflow:history-redo",label:"history redo",category:i},n.GRAPH_HISTORY_RESET={id:"xflow:history-reset",label:"history reset",category:i},n.GRAPH_HISTORY_TOGGLE={id:"xflow:history-toggle",label:"history toggle",category:i}})(be||(be={}));var Ne;(function(n){const i="\u72B6\u6001\u64CD\u4F5C";n.UPDATE_MODEL={id:"xflow:update-model",label:"\u8BBE\u7F6E\u72B6\u6001\u503C",category:i}})(Ne||(Ne={}));var Re;(function(n){const i="\u7FA4\u7EC4\u64CD\u4F5C";n.INIT_GROUP={id:"xflow:init-group",label:"\u521D\u59CB\u5316\u7FA4\u7EC4",category:i},n.ADD_GROUP={id:"xflow:add-group",label:"\u65B0\u5EFA\u7FA4\u7EC4",category:i},n.DEL_GROUP={id:"xflow:del-group",label:"\u89E3\u6563\u7FA4\u7EC4",category:i},n.COLLAPSE_GROUP={id:"xflow:collapse-group",label:"\u6298\u53E0\u7FA4\u7EC4",category:i}})(Re||(Re={}));const ht=n=>{const{cell:i}=n,o=It(),s=n.data.isCollapsed||!1,f=C=>{C.preventDefault(),o.executeCommand(Re.COLLAPSE_GROUP.id,{nodeId:i.id,isCollapsed:!1})},h=C=>{C.preventDefault(),o.executeCommand(Re.COLLAPSE_GROUP.id,{nodeId:i.id,isCollapsed:!0,gap:3})};return x.createElement("div",{className:"xflow-default-group-node"},x.createElement("div",{className:"xflow-group-header"},x.createElement("div",{className:"header-left"},n.data.label),x.createElement("div",{className:"header-right"},s&&x.createElement(en.Z,{onClick:f}),!s&&x.createElement(vn.Z,{onClick:h}))))};ht.displayName="XFlowDefaultGroupNode";var Wt=l(87740),Yt=l(31662),Lt=l(40695),Dt=l(87588),lt=l(56717),Ft=l(13520);const qt={fontSize:"16px",color:"#3057e3"};var Nn;(function(n){n.SUCCESS="success",n.PROCESSING="processing",n.ERROR="error",n.DEFAULT="default",n.WARNING="warning"})(Nn||(Nn={}));const kn=n=>{if(n.hide)return null;switch(n.status){case Nn.PROCESSING:return x.createElement(Wt.Z,{spin:!0,style:{color:"#c1cdf7",fontSize:"16px"}});case Nn.ERROR:return x.createElement(Yt.Z,{style:{color:"#ff4d4f",fontSize:"16px"}});case Nn.SUCCESS:return x.createElement(Lt.Z,{style:{color:"#39ca74cc",fontSize:"16px"}});case Nn.WARNING:return x.createElement(Dt.Z,{style:{color:"#faad14",fontSize:"16px"}});case Nn.DEFAULT:return x.createElement(lt.Z,{style:{color:"#d9d9d9",fontSize:"16px"}});default:return null}},An=n=>{const i=x.isValidElement(n.data.icon)?n.data.icon:x.createElement(Ft.Z,{style:qt});return x.createElement("div",{className:`xflow-default-node ${n.isNodeTreePanel?"panel-node":""}`},x.createElement("span",{className:"icon"},i),x.createElement("span",{className:"label"},n.data.label),x.createElement("span",{className:"status"},x.createElement(kn,{status:n.data&&n.data.status,hide:n.isNodeTreePanel})))};An.displayName="XFlowDefaultNode";var Kn;(function(n){n.CONFIG_TYPE="GraphConfig",n.defaultNodeTypeParser=i=>i.renderKey,n.defaultEdgeTypeParser=i=>i.renderKey,n.defaultNodeMapValue=[[Oe,An],[L,ht]]})(Kn||(Kn={}));class ee{constructor(){this.CONFIG_TYPE=Kn.CONFIG_TYPE,this.x6Options=new re,this.rootContainer=new re,this.graphContainer=new re,this.nodeRender=new Map(Kn.defaultNodeMapValue),this.edgeRender=new Map,this.nodeTypeParser=Kn.defaultNodeTypeParser,this.edgeTypeParser=Kn.defaultEdgeTypeParser,this.events=[],this.mergeX6Config=i=>(0,g.mG)(this,void 0,void 0,function*(){const o=yield this.getX6Config();return Object.assign(o,i)}),this.getX6Config=()=>(0,g.mG)(this,void 0,void 0,function*(){return yield this.x6Options.promise}),this.setX6Config=i=>{var o;const s=this.getDefaultGraphOptions();(o=this.x6Options)===null||o===void 0||o.resolve(Object.assign(Object.assign({},s),i))},this.setAppContainer=i=>{this.appContainer=i},this.setRootContainer=i=>{i&&(this===null||this===void 0||this.rootContainer.resolve(i))},this.setGraphContainer=i=>{var o;i&&((o=this.graphContainer)===null||o===void 0||o.resolve(i))},this.setEvents=i=>{this.events=i},this.setDefaultNodeRender=i=>{this.nodeRender.set(Oe,i)},this.setDefaultEdgeRender=i=>{this.edgeRender.set(Pe,i)},this.setNodeRender=(i,o)=>{this.nodeRender.set(i,o)},this.setEdgeRender=(i,o)=>{this.edgeRender.set(i,o)},this.setNodeTypeParser=i=>{this.nodeTypeParser=i},this.setEdgeTypeParser=i=>{this.edgeTypeParser=i},this.getConfig=()=>(0,g.mG)(this,void 0,void 0,function*(){const[i,o,s]=yield Promise.all([this.rootContainer.promise,this.graphContainer.promise,this.x6Options.promise]);return{xflowInstanceId:this.xflowInstanceId,graphId:this.graphId,nodeViewId:this.graphId,appContainer:this.appContainer,rootContainer:i,graphContainer:o,x6Options:s,events:this.events,nodeRender:this.nodeRender,edgeRender:this.edgeRender,nodeTypeParser:this.nodeTypeParser,edgeTypeParser:this.edgeTypeParser}}),this.getDefaultGraphOptions=()=>({rotating:!1,resizing:!1,connecting:{snap:!0,dangling:!1,highlight:!1,connectionPoint:"rect",router:{name:"er"},connector:{name:"rounded",args:{radius:15}}},background:{},grid:{visible:!0},selecting:{strict:!0,enabled:!0,multiple:!0,selectCellOnMoved:!0,showNodeSelectionBox:!1,rubberEdge:!0,rubberNode:!0,movable:!0},snapline:{enabled:!1},history:{enabled:!1},clipboard:{enabled:!0,useLocalStorage:!0},scroller:{enabled:!1},mousewheel:{enabled:!0,minScale:ie,maxScale:ve,factor:1.1,modifiers:["ctrl","meta"]},panning:{enabled:!0},scaling:{min:ie,max:ve},keyboard:{enabled:!0},interacting:{nodeMovable:!0,edgeLabelMovable:!1},async:!1}),this.dispose=()=>{this.rootContainer=new re,this.graphContainer=new re,this.x6Options=new re},this.graphId=st()}}const it=Symbol("IGraphOptionProvider"),Ze=(n,i)=>{n(it,{lifecycle:d.Syringe.Lifecycle.singleton,useDynamic:()=>({getOptions:()=>(0,g.mG)(void 0,void 0,void 0,function*(){return i.getConfig()})})})},ot=n=>i=>{const o=x.useMemo(()=>({getValue:()=>({})}),[]);return o.getValue=()=>i,x.useMemo(()=>{const f=new ee;return n(f,o),f},[o])};var Xe=l(52677),et=l.n(Xe);var pt=function(i,o){return pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,f){s.__proto__=f}||function(s,f){for(var h in f)f.hasOwnProperty(h)&&(s[h]=f[h])},pt(i,o)};function He(n,i){pt(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}var Et=function(){return Et=Object.assign||function(o){for(var s,f=1,h=arguments.length;f<h;f++){s=arguments[f];for(var C in s)Object.prototype.hasOwnProperty.call(s,C)&&(o[C]=s[C])}return o},Et.apply(this,arguments)};function Vt(n,i){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,s=Object.getOwnPropertySymbols(n);f<s.length;f++)i.indexOf(s[f])<0&&Object.prototype.propertyIsEnumerable.call(n,s[f])&&(o[s[f]]=n[s[f]]);return o}function On(n,i,o,s){var f=arguments.length,h=f<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,o):s,C;if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(n,i,o,s);else for(var S=n.length-1;S>=0;S--)(C=n[S])&&(h=(f<3?C(h):f>3?C(i,o,h):C(i,o))||h);return f>3&&h&&Object.defineProperty(i,o,h),h}function Wn(n,i){return function(o,s){i(o,s,n)}}function pr(n,i){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)}function Cr(n,i,o,s){function f(h){return h instanceof o?h:new o(function(C){C(h)})}return new(o||(o=Promise))(function(h,C){function S(B){try{D(s.next(B))}catch(H){C(H)}}function T(B){try{D(s.throw(B))}catch(H){C(H)}}function D(B){B.done?h(B.value):f(B.value).then(S,T)}D((s=s.apply(n,i||[])).next())})}function Sn(n,i){var o={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},s,f,h,C;return C={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function S(D){return function(B){return T([D,B])}}function T(D){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,f&&(h=D[0]&2?f.return:D[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,D[1])).done)return h;switch(f=0,h&&(D=[D[0]&2,h.value]),D[0]){case 0:case 1:h=D;break;case 4:return o.label++,{value:D[1],done:!1};case 5:o.label++,f=D[1],D=[0];continue;case 7:D=o.ops.pop(),o.trys.pop();continue;default:if(h=o.trys,!(h=h.length>0&&h[h.length-1])&&(D[0]===6||D[0]===2)){o=0;continue}if(D[0]===3&&(!h||D[1]>h[0]&&D[1]<h[3])){o.label=D[1];break}if(D[0]===6&&o.label<h[1]){o.label=h[1],h=D;break}if(h&&o.label<h[2]){o.label=h[2],o.ops.push(D);break}h[2]&&o.ops.pop(),o.trys.pop();continue}D=i.call(n,o)}catch(B){D=[6,B],f=0}finally{s=h=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}}function Cn(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}function Fn(n,i){for(var o in n)o!=="default"&&!i.hasOwnProperty(o)&&(i[o]=n[o])}function Hn(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function sr(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),f,h=[],C;try{for(;(i===void 0||i-- >0)&&!(f=s.next()).done;)h.push(f.value)}catch(S){C={error:S}}finally{try{f&&!f.done&&(o=s.return)&&o.call(s)}finally{if(C)throw C.error}}return h}function ti(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(sr(arguments[i]));return n}function Ir(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var s=Array(n),f=0,i=0;i<o;i++)for(var h=arguments[i],C=0,S=h.length;C<S;C++,f++)s[f]=h[C];return s}function kr(n){return this instanceof kr?(this.v=n,this):new kr(n)}function di(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,i||[]),f,h=[];return f={},C("next"),C("throw"),C("return"),f[Symbol.asyncIterator]=function(){return this},f;function C(ce){s[ce]&&(f[ce]=function(de){return new Promise(function(me,xe){h.push([ce,de,me,xe])>1||S(ce,de)})})}function S(ce,de){try{T(s[ce](de))}catch(me){H(h[0][3],me)}}function T(ce){ce.value instanceof kr?Promise.resolve(ce.value.v).then(D,B):H(h[0][2],ce)}function D(ce){S("next",ce)}function B(ce){S("throw",ce)}function H(ce,de){ce(de),h.shift(),h.length&&S(h[0][0],h[0][1])}}function Yn(n){var i,o;return i={},s("next"),s("throw",function(f){throw f}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(f,h){i[f]=n[f]?function(C){return(o=!o)?{value:kr(n[f](C)),done:f==="return"}:h?h(C):C}:h}}function Bt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof Hn=="function"?Hn(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(h){o[h]=n[h]&&function(C){return new Promise(function(S,T){C=n[h](C),f(S,T,C.done,C.value)})}}function f(h,C,S,T){Promise.resolve(T).then(function(D){h({value:D,done:S})},C)}}function kt(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n}function dn(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)Object.hasOwnProperty.call(n,o)&&(i[o]=n[o]);return i.default=n,i}function Ot(n){return n&&n.__esModule?n:{default:n}}function ur(n,i){if(!i.has(n))throw new TypeError("attempted to get private field on non-instance");return i.get(n)}function Mn(n,i,o){if(!i.has(n))throw new TypeError("attempted to set private field on non-instance");return i.set(n,o),o}var zr=function(){return Array.isArray||function(n){return n&&typeof n.length=="number"}}();function jt(n){return n!==null&&typeof n=="object"}function gn(n){return typeof n=="function"}var Ln=function(){function n(i){return Error.call(this),this.message=i?i.length+` errors occurred during unsubscription:
`+i.map(function(o,s){return s+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=i,this}return n.prototype=Object.create(Error.prototype),n}(),vt=Ln,Zt=function(){function n(i){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,i&&(this._ctorUnsubscribe=!0,this._unsubscribe=i)}return n.prototype.unsubscribe=function(){var i;if(!this.closed){var o=this,s=o._parentOrParents,f=o._ctorUnsubscribe,h=o._unsubscribe,C=o._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,s instanceof n)s.remove(this);else if(s!==null)for(var S=0;S<s.length;++S){var T=s[S];T.remove(this)}if(gn(h)){f&&(this._unsubscribe=void 0);try{h.call(this)}catch(H){i=H instanceof vt?or(H.errors):[H]}}if(zr(C))for(var S=-1,D=C.length;++S<D;){var B=C[S];if(jt(B))try{B.unsubscribe()}catch(ce){i=i||[],ce instanceof vt?i=i.concat(or(ce.errors)):i.push(ce)}}if(i)throw new vt(i)}},n.prototype.add=function(i){var o=i;if(!i)return n.EMPTY;switch(typeof i){case"function":o=new n(i);case"object":if(o===this||o.closed||typeof o.unsubscribe!="function")return o;if(this.closed)return o.unsubscribe(),o;if(!(o instanceof n)){var s=o;o=new n,o._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+i+" added to Subscription.")}var f=o._parentOrParents;if(f===null)o._parentOrParents=this;else if(f instanceof n){if(f===this)return o;o._parentOrParents=[f,this]}else if(f.indexOf(this)===-1)f.push(this);else return o;var h=this._subscriptions;return h===null?this._subscriptions=[o]:h.push(o),o},n.prototype.remove=function(i){var o=this._subscriptions;if(o){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},n.EMPTY=function(i){return i.closed=!0,i}(new n),n}();function or(n){return n.reduce(function(i,o){return i.concat(o instanceof vt?o.errors:o)},[])}var ir=function(n){He(i,n);function i(o,s){return n.call(this)||this}return i.prototype.schedule=function(o,s){return s===void 0&&(s=0),this},i}(Zt),lr=function(n){He(i,n);function i(o,s){var f=n.call(this,o,s)||this;return f.scheduler=o,f.work=s,f.pending=!1,f}return i.prototype.schedule=function(o,s){if(s===void 0&&(s=0),this.closed)return this;this.state=o;var f=this.id,h=this.scheduler;return f!=null&&(this.id=this.recycleAsyncId(h,f,s)),this.pending=!0,this.delay=s,this.id=this.id||this.requestAsyncId(h,this.id,s),this},i.prototype.requestAsyncId=function(o,s,f){return f===void 0&&(f=0),setInterval(o.flush.bind(o,this),f)},i.prototype.recycleAsyncId=function(o,s,f){if(f===void 0&&(f=0),f!==null&&this.delay===f&&this.pending===!1)return s;clearInterval(s)},i.prototype.execute=function(o,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var f=this._execute(o,s);if(f)return f;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},i.prototype._execute=function(o,s){var f=!1,h=void 0;try{this.work(o)}catch(C){f=!0,h=!!C&&C||new Error(C)}if(f)return this.unsubscribe(),h},i.prototype._unsubscribe=function(){var o=this.id,s=this.scheduler,f=s.actions,h=f.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,h!==-1&&f.splice(h,1),o!=null&&(this.id=this.recycleAsyncId(s,o,null)),this.delay=null},i}(ir),Pr=function(){function n(i,o){o===void 0&&(o=n.now),this.SchedulerAction=i,this.now=o}return n.prototype.schedule=function(i,o,s){return o===void 0&&(o=0),new this.SchedulerAction(this,i).schedule(s,o)},n.now=function(){return Date.now()},n}(),$r=function(n){He(i,n);function i(o,s){s===void 0&&(s=Pr.now);var f=n.call(this,o,function(){return i.delegate&&i.delegate!==f?i.delegate.now():s()})||this;return f.actions=[],f.active=!1,f.scheduled=void 0,f}return i.prototype.schedule=function(o,s,f){return s===void 0&&(s=0),i.delegate&&i.delegate!==this?i.delegate.schedule(o,s,f):n.prototype.schedule.call(this,o,s,f)},i.prototype.flush=function(o){var s=this.actions;if(this.active){s.push(o);return}var f;this.active=!0;do if(f=o.execute(o.state,o.delay))break;while(o=s.shift());if(this.active=!1,f){for(;o=s.shift();)o.unsubscribe();throw f}},i}(Pr),dr=new $r(lr),ni=dr,un=!1,ue={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){var i=new Error;""+i.stack}un=n},get useDeprecatedSynchronousErrorHandling(){return un}};function De(n){setTimeout(function(){throw n},0)}var oe={closed:!0,next:function(n){},error:function(n){if(ue.useDeprecatedSynchronousErrorHandling)throw n;De(n)},complete:function(){}},R=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),N=null,G=function(n){He(i,n);function i(o,s,f){var h=n.call(this)||this;switch(h.syncErrorValue=null,h.syncErrorThrown=!1,h.syncErrorThrowable=!1,h.isStopped=!1,arguments.length){case 0:h.destination=oe;break;case 1:if(!o){h.destination=oe;break}if(typeof o=="object"){o instanceof i?(h.syncErrorThrowable=o.syncErrorThrowable,h.destination=o,o.add(h)):(h.syncErrorThrowable=!0,h.destination=new ye(h,o));break}default:h.syncErrorThrowable=!0,h.destination=new ye(h,o,s,f);break}return h}return i.prototype[R]=function(){return this},i.create=function(o,s,f){var h=new i(o,s,f);return h.syncErrorThrowable=!1,h},i.prototype.next=function(o){this.isStopped||this._next(o)},i.prototype.error=function(o){this.isStopped||(this.isStopped=!0,this._error(o))},i.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},i.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this))},i.prototype._next=function(o){this.destination.next(o)},i.prototype._error=function(o){this.destination.error(o),this.unsubscribe()},i.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},i.prototype._unsubscribeAndRecycle=function(){var o=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=o,this},i}(Zt),ye=function(n){He(i,n);function i(o,s,f,h){var C=n.call(this)||this;C._parentSubscriber=o;var S,T=C;return gn(s)?S=s:s&&(S=s.next,f=s.error,h=s.complete,s!==oe&&(T=Object.create(s),gn(T.unsubscribe)&&C.add(T.unsubscribe.bind(T)),T.unsubscribe=C.unsubscribe.bind(C))),C._context=T,C._next=S,C._error=f,C._complete=h,C}return i.prototype.next=function(o){if(!this.isStopped&&this._next){var s=this._parentSubscriber;!ue.useDeprecatedSynchronousErrorHandling||!s.syncErrorThrowable?this.__tryOrUnsub(this._next,o):this.__tryOrSetError(s,this._next,o)&&this.unsubscribe()}},i.prototype.error=function(o){if(!this.isStopped){var s=this._parentSubscriber,f=ue.useDeprecatedSynchronousErrorHandling;if(this._error)!f||!s.syncErrorThrowable?(this.__tryOrUnsub(this._error,o),this.unsubscribe()):(this.__tryOrSetError(s,this._error,o),this.unsubscribe());else if(s.syncErrorThrowable)f?(s.syncErrorValue=o,s.syncErrorThrown=!0):De(o),this.unsubscribe();else{if(this.unsubscribe(),f)throw o;De(o)}}},i.prototype.complete=function(){var o=this;if(!this.isStopped){var s=this._parentSubscriber;if(this._complete){var f=function(){return o._complete.call(o._context)};!ue.useDeprecatedSynchronousErrorHandling||!s.syncErrorThrowable?(this.__tryOrUnsub(f),this.unsubscribe()):(this.__tryOrSetError(s,f),this.unsubscribe())}else this.unsubscribe()}},i.prototype.__tryOrUnsub=function(o,s){try{o.call(this._context,s)}catch(f){if(this.unsubscribe(),ue.useDeprecatedSynchronousErrorHandling)throw f;De(f)}},i.prototype.__tryOrSetError=function(o,s,f){if(!ue.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{s.call(this._context,f)}catch(h){return ue.useDeprecatedSynchronousErrorHandling?(o.syncErrorValue=h,o.syncErrorThrown=!0,!0):(De(h),!0)}return!1},i.prototype._unsubscribe=function(){var o=this._parentSubscriber;this._context=null,this._parentSubscriber=null,o.unsubscribe()},i}(G);function Ie(n){for(;n;){var i=n,o=i.closed,s=i.destination,f=i.isStopped;if(o||f)return!1;s&&s instanceof G?n=s:n=null}return!0}function ze(n,i,o){if(n){if(n instanceof G)return n;if(n[R])return n[R]()}return!n&&!i&&!o?new G(oe):new G(n,i,o)}var Ce=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ke(n){return n}function rt(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Tt(n)}function Tt(n){return n.length===0?ke:n.length===1?n[0]:function(o){return n.reduce(function(s,f){return f(s)},o)}}var En=function(){function n(i){this._isScalar=!1,i&&(this._subscribe=i)}return n.prototype.lift=function(i){var o=new n;return o.source=this,o.operator=i,o},n.prototype.subscribe=function(i,o,s){var f=this.operator,h=ze(i,o,s);if(f?h.add(f.call(h,this.source)):h.add(this.source||ue.useDeprecatedSynchronousErrorHandling&&!h.syncErrorThrowable?this._subscribe(h):this._trySubscribe(h)),ue.useDeprecatedSynchronousErrorHandling&&h.syncErrorThrowable&&(h.syncErrorThrowable=!1,h.syncErrorThrown))throw h.syncErrorValue;return h},n.prototype._trySubscribe=function(i){try{return this._subscribe(i)}catch(o){ue.useDeprecatedSynchronousErrorHandling&&(i.syncErrorThrown=!0,i.syncErrorValue=o),Ie(i)?i.error(o):console.warn(o)}},n.prototype.forEach=function(i,o){var s=this;return o=Rn(o),new o(function(f,h){var C;C=s.subscribe(function(S){try{i(S)}catch(T){h(T),C&&C.unsubscribe()}},h,f)})},n.prototype._subscribe=function(i){var o=this.source;return o&&o.subscribe(i)},n.prototype[Ce]=function(){return this},n.prototype.pipe=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return i.length===0?this:Tt(i)(this)},n.prototype.toPromise=function(i){var o=this;return i=Rn(i),new i(function(s,f){var h;o.subscribe(function(C){return h=C},function(C){return f(C)},function(){return s(h)})})},n.create=function(i){return new n(i)},n}();function Rn(n){if(n||(n=ue.Promise||Promise),!n)throw new Error("no Promise impl found");return n}var $n=function(){function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n}(),Xn=$n,$t=function(n){He(i,n);function i(o,s){var f=n.call(this)||this;return f.subject=o,f.subscriber=s,f.closed=!1,f}return i.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var o=this.subject,s=o.observers;if(this.subject=null,!(!s||s.length===0||o.isStopped||o.closed)){var f=s.indexOf(this.subscriber);f!==-1&&s.splice(f,1)}}},i}(Zt),hn=function(n){He(i,n);function i(o){var s=n.call(this,o)||this;return s.destination=o,s}return i}(G),bn=function(n){He(i,n);function i(){var o=n.call(this)||this;return o.observers=[],o.closed=!1,o.isStopped=!1,o.hasError=!1,o.thrownError=null,o}return i.prototype[R]=function(){return new hn(this)},i.prototype.lift=function(o){var s=new br(this,this);return s.operator=o,s},i.prototype.next=function(o){if(this.closed)throw new Xn;if(!this.isStopped)for(var s=this.observers,f=s.length,h=s.slice(),C=0;C<f;C++)h[C].next(o)},i.prototype.error=function(o){if(this.closed)throw new Xn;this.hasError=!0,this.thrownError=o,this.isStopped=!0;for(var s=this.observers,f=s.length,h=s.slice(),C=0;C<f;C++)h[C].error(o);this.observers.length=0},i.prototype.complete=function(){if(this.closed)throw new Xn;this.isStopped=!0;for(var o=this.observers,s=o.length,f=o.slice(),h=0;h<s;h++)f[h].complete();this.observers.length=0},i.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},i.prototype._trySubscribe=function(o){if(this.closed)throw new Xn;return n.prototype._trySubscribe.call(this,o)},i.prototype._subscribe=function(o){if(this.closed)throw new Xn;return this.hasError?(o.error(this.thrownError),Zt.EMPTY):this.isStopped?(o.complete(),Zt.EMPTY):(this.observers.push(o),new $t(this,o))},i.prototype.asObservable=function(){var o=new En;return o.source=this,o},i.create=function(o,s){return new br(o,s)},i}(En),br=function(n){He(i,n);function i(o,s){var f=n.call(this)||this;return f.destination=o,f.source=s,f}return i.prototype.next=function(o){var s=this.destination;s&&s.next&&s.next(o)},i.prototype.error=function(o){var s=this.destination;s&&s.error&&this.destination.error(o)},i.prototype.complete=function(){var o=this.destination;o&&o.complete&&this.destination.complete()},i.prototype._subscribe=function(o){var s=this.source;return s?this.source.subscribe(o):Zt.EMPTY},i}(bn),qn=function(n){He(i,n);function i(o){var s=n.call(this)||this;return s._value=o,s}return Object.defineProperty(i.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),i.prototype._subscribe=function(o){var s=n.prototype._subscribe.call(this,o);return s&&!s.closed&&o.next(this._value),s},i.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Xn;return this._value},i.prototype.next=function(o){n.prototype.next.call(this,this._value=o)},i}(bn);function Li(n,i){return function(o){return o.lift(new $i(n,i))}}var $i=function(){function n(i,o){this.compare=i,this.keySelector=o}return n.prototype.call=function(i,o){return o.subscribe(new Bi(i,this.compare,this.keySelector))},n}(),Bi=function(n){He(i,n);function i(o,s,f){var h=n.call(this,o)||this;return h.keySelector=f,h.hasKey=!1,typeof s=="function"&&(h.compare=s),h}return i.prototype.compare=function(o,s){return o===s},i.prototype._next=function(o){var s;try{var f=this.keySelector;s=f?f(o):o}catch(S){return this.destination.error(S)}var h=!1;if(this.hasKey)try{var C=this.compare;h=C(this.key,s)}catch(S){return this.destination.error(S)}else this.hasKey=!0;h||(this.key=s,this.destination.next(o))},i}(G);function co(n,i){return function(s){return s.lift(new Do(n,i))}}var Do=function(){function n(i,o){this.predicate=i,this.thisArg=o}return n.prototype.call=function(i,o){return o.subscribe(new Wo(i,this.predicate,this.thisArg))},n}(),Wo=function(n){He(i,n);function i(o,s,f){var h=n.call(this,o)||this;return h.predicate=s,h.thisArg=f,h.count=0,h}return i.prototype._next=function(o){var s;try{s=this.predicate.call(this.thisArg,o,this.count++)}catch(f){this.destination.error(f);return}s&&this.destination.next(o)},i}(G),hi={leading:!0,trailing:!1};function ua(n,i){return i===void 0&&(i=hi),function(o){return o.lift(new ya(n,!!i.leading,!!i.trailing))}}var ya=null,fi=null;function Pi(n,i,o){return i===void 0&&(i=ni),o===void 0&&(o=hi),function(s){return s.lift(new Qi(n,i,o.leading,o.trailing))}}var Qi=function(){function n(i,o,s,f){this.duration=i,this.scheduler=o,this.leading=s,this.trailing=f}return n.prototype.call=function(i,o){return o.subscribe(new Zi(i,this.duration,this.scheduler,this.leading,this.trailing))},n}(),Zi=function(n){He(i,n);function i(o,s,f,h,C){var S=n.call(this,o)||this;return S.duration=s,S.scheduler=f,S.leading=h,S.trailing=C,S._hasTrailingValue=!1,S._trailingValue=null,S}return i.prototype._next=function(o){this.throttled?this.trailing&&(this._trailingValue=o,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Ta,this.duration,{subscriber:this})),this.leading?this.destination.next(o):this.trailing&&(this._trailingValue=o,this._hasTrailingValue=!0))},i.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},i.prototype.clearThrottle=function(){var o=this.throttled;o&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),o.unsubscribe(),this.remove(o),this.throttled=null)},i}(G);function Ta(n){var i=n.subscriber;i.clearThrottle()}function uo(n){for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(0)var f,h;throw Error("[Immer] minified error nr: "+n+(o.length?" "+o.map(function(C){return"'"+C+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function xa(n){return!!n&&!!n[Er]}function Qo(n){var i;return!!n&&(function(o){if(!o||typeof o!="object")return!1;var s=Object.getPrototypeOf(o);if(s===null)return!0;var f=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return f===Object||typeof f=="function"&&Function.toString.call(f)===ba}(n)||Array.isArray(n)||!!n[fr]||!!(!((i=n.constructor)===null||i===void 0)&&i[fr])||jn(n)||xr(n))}function ra(n){return xa(n)||uo(23,n),n[Er].t}function To(n,i,o){o===void 0&&(o=!1),fa(n)===0?(o?Object.keys:es)(n).forEach(function(s){o&&typeof s=="symbol"||i(s,n[s],n)}):n.forEach(function(s,f){return i(f,s,n)})}function fa(n){var i=n[Er];return i?i.i>3?i.i-4:i.i:Array.isArray(n)?1:jn(n)?2:xr(n)?3:0}function Ba(n,i){return fa(n)===2?n.has(i):Object.prototype.hasOwnProperty.call(n,i)}function xt(n,i){return fa(n)===2?n.get(i):n[i]}function sn(n,i,o){var s=fa(n);s===2?n.set(i,o):s===3?n.add(o):n[i]=o}function Ht(n,i){return n===i?n!==0||1/n==1/i:n!=n&&i!=i}function jn(n){return Dn&&n instanceof Map}function xr(n){return Un&&n instanceof Set}function nr(n){return n.o||n.t}function zt(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var i=Da(n);delete i[Er];for(var o=es(i),s=0;s<o.length;s++){var f=o[s],h=i[f];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(i[f]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[f]})}return Object.create(Object.getPrototypeOf(n),i)}function Qr(n,i){return i===void 0&&(i=!1),gi(n)||xa(n)||!Qo(n)||(fa(n)>1&&(n.set=n.add=n.clear=n.delete=hr),Object.freeze(n),i&&To(n,function(o,s){return Qr(s,!0)},!0)),n}function hr(){uo(2)}function gi(n){return n==null||typeof n!="object"||Object.isFrozen(n)}function mo(n){var i=ut[n];return i||uo(18,n),i}function No(n,i){ut[n]||(ut[n]=i)}function io(){return gt}function Ti(n,i){i&&(mo("Patches"),n.u=[],n.s=[],n.v=i)}function Fi(n){ha(n),n.p.forEach(ea),n.p=null}function ha(n){n===gt&&(gt=n.l)}function Ea(n){return gt={p:[],l:gt,h:n,m:!0,_:0}}function ea(n){var i=n[Er];i.i===0||i.i===1?i.j():i.g=!0}function Ja(n,i){i._=i.p.length;var o=i.p[0],s=n!==void 0&&n!==o;return i.h.O||mo("ES5").S(i,n,s),s?(o[Er].P&&(Fi(i),uo(4)),Qo(n)&&(n=hs(i,n),i.l||Ki(i,n)),i.u&&mo("Patches").M(o[Er].t,n,i.u,i.s)):n=hs(i,o,[]),Fi(i),i.u&&i.v(i.u,i.s),n!==Dr?n:void 0}function hs(n,i,o){if(gi(i))return i;var s=i[Er];if(!s)return To(i,function(S,T){return Gs(n,s,i,S,T,o)},!0),i;if(s.A!==n)return i;if(!s.P)return Ki(n,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var f=s.i===4||s.i===5?s.o=zt(s.k):s.o,h=f,C=!1;s.i===3&&(h=new Set(f),f.clear(),C=!0),To(h,function(S,T){return Gs(n,s,f,S,T,o,C)}),Ki(n,f,!1),o&&n.u&&mo("Patches").N(s,o,n.u,n.s)}return s.o}function Gs(n,i,o,s,f,h,C){if(xa(f)){var S=hs(n,f,h&&i&&i.i!==3&&!Ba(i.R,s)?h.concat(s):void 0);if(sn(o,s,S),!xa(S))return;n.m=!1}else C&&o.add(f);if(Qo(f)&&!gi(f)){if(!n.h.D&&n._<1)return;hs(n,f),i&&i.A.l||Ki(n,f)}}function Ki(n,i,o){o===void 0&&(o=!1),!n.l&&n.h.D&&n.m&&Qr(i,o)}function Oa(n,i){var o=n[Er];return(o?nr(o):n)[i]}function qa(n,i){if(i in n)for(var o=Object.getPrototypeOf(n);o;){var s=Object.getOwnPropertyDescriptor(o,i);if(s)return s;o=Object.getPrototypeOf(o)}}function da(n){n.P||(n.P=!0,n.l&&da(n.l))}function Aa(n){n.o||(n.o=zt(n.t))}function Ps(n,i,o){var s=jn(i)?mo("MapSet").F(i,o):xr(i)?mo("MapSet").T(i,o):n.O?function(f,h){var C=Array.isArray(f),S={i:C?1:0,A:h?h.A:io(),P:!1,I:!1,R:{},l:h,t:f,k:null,o:null,j:null,C:!1},T=S,D=on;C&&(T=[S],D=xn);var B=Proxy.revocable(T,D),H=B.revoke,ce=B.proxy;return S.k=ce,S.j=H,ce}(i,o):mo("ES5").J(i,o);return(o?o.A:io()).p.push(s),s}function wa(n){return xa(n)||uo(22,n),function i(o){if(!Qo(o))return o;var s,f=o[Er],h=fa(o);if(f){if(!f.P&&(f.i<4||!mo("ES5").K(f)))return f.t;f.I=!0,s=is(o,h),f.I=!1}else s=is(o,h);return To(s,function(C,S){f&&xt(f.t,C)===S||sn(s,C,i(S))}),h===3?new Set(s):s}(n)}function is(n,i){switch(i){case 2:return new Map(n);case 3:return Array.from(n)}return zt(n)}function Pl(){function n(C,S){var T=h[C];return T?T.enumerable=S:h[C]=T={configurable:!0,enumerable:S,get:function(){var D=this[Er];return on.get(D,C)},set:function(D){var B=this[Er];on.set(B,C,D)}},T}function i(C){for(var S=C.length-1;S>=0;S--){var T=C[S][Er];if(!T.P)switch(T.i){case 5:s(T)&&da(T);break;case 4:o(T)&&da(T)}}}function o(C){for(var S=C.t,T=C.k,D=es(T),B=D.length-1;B>=0;B--){var H=D[B];if(H!==Er){var ce=S[H];if(ce===void 0&&!Ba(S,H))return!0;var de=T[H],me=de&&de[Er];if(me?me.t!==ce:!Ht(de,ce))return!0}}var xe=!!S[Er];return D.length!==es(S).length+(xe?0:1)}function s(C){var S=C.k;if(S.length!==C.t.length)return!0;var T=Object.getOwnPropertyDescriptor(S,S.length-1);if(T&&!T.get)return!0;for(var D=0;D<S.length;D++)if(!S.hasOwnProperty(D))return!0;return!1}function f(C){C.g&&uo(3,JSON.stringify(nr(C)))}var h={};No("ES5",{J:function(C,S){var T=Array.isArray(C),D=function(H,ce){if(H){for(var de=Array(ce.length),me=0;me<ce.length;me++)Object.defineProperty(de,""+me,n(me,!0));return de}var xe=Da(ce);delete xe[Er];for(var Se=es(xe),We=0;We<Se.length;We++){var nt=Se[We];xe[nt]=n(nt,H||!!xe[nt].enumerable)}return Object.create(Object.getPrototypeOf(ce),xe)}(T,C),B={i:T?5:4,A:S?S.A:io(),P:!1,I:!1,R:{},l:S,t:C,k:D,o:null,g:!1,C:!1};return Object.defineProperty(D,Er,{value:B,writable:!0}),D},S:function(C,S,T){T?xa(S)&&S[Er].A===C&&i(C.p):(C.u&&function D(B){if(B&&typeof B=="object"){var H=B[Er];if(H){var ce=H.t,de=H.k,me=H.R,xe=H.i;if(xe===4)To(de,function(wn){wn!==Er&&(ce[wn]!==void 0||Ba(ce,wn)?me[wn]||D(de[wn]):(me[wn]=!0,da(H)))}),To(ce,function(wn){de[wn]!==void 0||Ba(de,wn)||(me[wn]=!1,da(H))});else if(xe===5){if(s(H)&&(da(H),me.length=!0),de.length<ce.length)for(var Se=de.length;Se<ce.length;Se++)me[Se]=!1;else for(var We=ce.length;We<de.length;We++)me[We]=!0;for(var nt=Math.min(de.length,ce.length),Gt=0;Gt<nt;Gt++)de.hasOwnProperty(Gt)||(me[Gt]=!0),me[Gt]===void 0&&D(de[Gt])}}}}(C.p[0]),i(C.p))},K:function(C){return C.i===4?o(C):s(C)}})}function F(){function n(s){if(!Qo(s))return s;if(Array.isArray(s))return s.map(n);if(jn(s))return new Map(Array.from(s.entries()).map(function(C){return[C[0],n(C[1])]}));if(xr(s))return new Set(Array.from(s).map(n));var f=Object.create(Object.getPrototypeOf(s));for(var h in s)f[h]=n(s[h]);return Ba(s,fr)&&(f[fr]=s[fr]),f}function i(s){return xa(s)?n(s):s}var o="add";No("Patches",{$:function(s,f){return f.forEach(function(h){for(var C=h.path,S=h.op,T=s,D=0;D<C.length-1;D++){var B=fa(T),H=C[D];typeof H!="string"&&typeof H!="number"&&(H=""+H),B!==0&&B!==1||H!=="__proto__"&&H!=="constructor"||uo(24),typeof T=="function"&&H==="prototype"&&uo(24),typeof(T=xt(T,H))!="object"&&uo(15,C.join("/"))}var ce=fa(T),de=n(h.value),me=C[C.length-1];switch(S){case"replace":switch(ce){case 2:return T.set(me,de);case 3:uo(16);default:return T[me]=de}case o:switch(ce){case 1:return me==="-"?T.push(de):T.splice(me,0,de);case 2:return T.set(me,de);case 3:return T.add(de);default:return T[me]=de}case"remove":switch(ce){case 1:return T.splice(me,1);case 2:return T.delete(me);case 3:return T.delete(h.value);default:return delete T[me]}default:uo(17,S)}}),s},N:function(s,f,h,C){switch(s.i){case 0:case 4:case 2:return function(S,T,D,B){var H=S.t,ce=S.o;To(S.R,function(de,me){var xe=xt(H,de),Se=xt(ce,de),We=me?Ba(H,de)?"replace":o:"remove";if(xe!==Se||We!=="replace"){var nt=T.concat(de);D.push(We==="remove"?{op:We,path:nt}:{op:We,path:nt,value:Se}),B.push(We===o?{op:"remove",path:nt}:We==="remove"?{op:o,path:nt,value:i(xe)}:{op:"replace",path:nt,value:i(xe)})}})}(s,f,h,C);case 5:case 1:return function(S,T,D,B){var H=S.t,ce=S.R,de=S.o;if(de.length<H.length){var me=[de,H];H=me[0],de=me[1];var xe=[B,D];D=xe[0],B=xe[1]}for(var Se=0;Se<H.length;Se++)if(ce[Se]&&de[Se]!==H[Se]){var We=T.concat([Se]);D.push({op:"replace",path:We,value:i(de[Se])}),B.push({op:"replace",path:We,value:i(H[Se])})}for(var nt=H.length;nt<de.length;nt++){var Gt=T.concat([nt]);D.push({op:o,path:Gt,value:i(de[nt])})}H.length<de.length&&B.push({op:"replace",path:T.concat(["length"]),value:H.length})}(s,f,h,C);case 3:return function(S,T,D,B){var H=S.t,ce=S.o,de=0;H.forEach(function(me){if(!ce.has(me)){var xe=T.concat([de]);D.push({op:"remove",path:xe,value:me}),B.unshift({op:o,path:xe,value:me})}de++}),de=0,ce.forEach(function(me){if(!H.has(me)){var xe=T.concat([de]);D.push({op:o,path:xe,value:me}),B.unshift({op:"remove",path:xe,value:me})}de++})}(s,f,h,C)}},M:function(s,f,h,C){h.push({op:"replace",path:[],value:f===Dr?void 0:f}),C.push({op:"replace",path:[],value:s})}})}function X(){function n(S,T){function D(){this.constructor=S}f(S,T),S.prototype=(D.prototype=T.prototype,new D)}function i(S){S.o||(S.R=new Map,S.o=new Map(S.t))}function o(S){S.o||(S.o=new Set,S.t.forEach(function(T){if(Qo(T)){var D=Ps(S.A.h,T,S);S.p.set(T,D),S.o.add(D)}else S.o.add(T)}))}function s(S){S.g&&uo(3,JSON.stringify(nr(S)))}var f=function(S,T){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,B){D.__proto__=B}||function(D,B){for(var H in B)B.hasOwnProperty(H)&&(D[H]=B[H])})(S,T)},h=function(){function S(D,B){return this[Er]={i:2,l:B,A:B?B.A:io(),P:!1,I:!1,o:void 0,R:void 0,t:D,k:this,C:!1,g:!1},this}n(S,Map);var T=S.prototype;return Object.defineProperty(T,"size",{get:function(){return nr(this[Er]).size}}),T.has=function(D){return nr(this[Er]).has(D)},T.set=function(D,B){var H=this[Er];return s(H),nr(H).has(D)&&nr(H).get(D)===B||(i(H),da(H),H.R.set(D,!0),H.o.set(D,B),H.R.set(D,!0)),this},T.delete=function(D){if(!this.has(D))return!1;var B=this[Er];return s(B),i(B),da(B),B.t.has(D)?B.R.set(D,!1):B.R.delete(D),B.o.delete(D),!0},T.clear=function(){var D=this[Er];s(D),nr(D).size&&(i(D),da(D),D.R=new Map,To(D.t,function(B){D.R.set(B,!1)}),D.o.clear())},T.forEach=function(D,B){var H=this;nr(this[Er]).forEach(function(ce,de){D.call(B,H.get(de),de,H)})},T.get=function(D){var B=this[Er];s(B);var H=nr(B).get(D);if(B.I||!Qo(H)||H!==B.t.get(D))return H;var ce=Ps(B.A.h,H,B);return i(B),B.o.set(D,ce),ce},T.keys=function(){return nr(this[Er]).keys()},T.values=function(){var D,B=this,H=this.keys();return(D={})[ao]=function(){return B.values()},D.next=function(){var ce=H.next();return ce.done?ce:{done:!1,value:B.get(ce.value)}},D},T.entries=function(){var D,B=this,H=this.keys();return(D={})[ao]=function(){return B.entries()},D.next=function(){var ce=H.next();if(ce.done)return ce;var de=B.get(ce.value);return{done:!1,value:[ce.value,de]}},D},T[ao]=function(){return this.entries()},S}(),C=function(){function S(D,B){return this[Er]={i:3,l:B,A:B?B.A:io(),P:!1,I:!1,o:void 0,t:D,k:this,p:new Map,g:!1,C:!1},this}n(S,Set);var T=S.prototype;return Object.defineProperty(T,"size",{get:function(){return nr(this[Er]).size}}),T.has=function(D){var B=this[Er];return s(B),B.o?!!B.o.has(D)||!(!B.p.has(D)||!B.o.has(B.p.get(D))):B.t.has(D)},T.add=function(D){var B=this[Er];return s(B),this.has(D)||(o(B),da(B),B.o.add(D)),this},T.delete=function(D){if(!this.has(D))return!1;var B=this[Er];return s(B),o(B),da(B),B.o.delete(D)||!!B.p.has(D)&&B.o.delete(B.p.get(D))},T.clear=function(){var D=this[Er];s(D),nr(D).size&&(o(D),da(D),D.o.clear())},T.values=function(){var D=this[Er];return s(D),o(D),D.o.values()},T.entries=function(){var D=this[Er];return s(D),o(D),D.o.entries()},T.keys=function(){return this.values()},T[ao]=function(){return this.values()},T.forEach=function(D,B){for(var H=this.values(),ce=H.next();!ce.done;)D.call(B,ce.value,ce.value,this),ce=H.next()},S}();No("MapSet",{F:function(S,T){return new h(S,T)},T:function(S,T){return new C(S,T)}})}function ge(){Pl(),X(),F()}function _e(n){return n}function Je(n){return n}var tt,gt,_n=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",Dn=typeof Map!="undefined",Un=typeof Set!="undefined",Mr=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Dr=_n?Symbol.for("immer-nothing"):((tt={})["immer-nothing"]=!0,tt),fr=_n?Symbol.for("immer-draftable"):"__$immer_draftable",Er=_n?Symbol.for("immer-state"):"__$immer_state",ao=typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator",oo={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(n){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+n},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(n){return"Cannot apply patch, path doesn't resolve: "+n},16:'Sets cannot have "replace" patches.',17:function(n){return"Unsupported patch operation: "+n},18:function(n){return"The plugin for '"+n+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+n+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(n){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+n+"'"},22:function(n){return"'current' expects a draft, got: "+n},23:function(n){return"'original' expects a draft, got: "+n},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},ba=""+Object.prototype.constructor,es=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,Da=Object.getOwnPropertyDescriptors||function(n){var i={};return es(n).forEach(function(o){i[o]=Object.getOwnPropertyDescriptor(n,o)}),i},ut={},on={get:function(n,i){if(i===Er)return n;var o=nr(n);if(!Ba(o,i))return function(f,h,C){var S,T=qa(h,C);return T?"value"in T?T.value:(S=T.get)===null||S===void 0?void 0:S.call(f.k):void 0}(n,o,i);var s=o[i];return n.I||!Qo(s)?s:s===Oa(n.t,i)?(Aa(n),n.o[i]=Ps(n.A.h,s,n)):s},has:function(n,i){return i in nr(n)},ownKeys:function(n){return Reflect.ownKeys(nr(n))},set:function(n,i,o){var s=qa(nr(n),i);if(s!=null&&s.set)return s.set.call(n.k,o),!0;if(!n.P){var f=Oa(nr(n),i),h=f==null?void 0:f[Er];if(h&&h.t===o)return n.o[i]=o,n.R[i]=!1,!0;if(Ht(o,f)&&(o!==void 0||Ba(n.t,i)))return!0;Aa(n),da(n)}return n.o[i]===o&&(o!==void 0||i in n.o)||Number.isNaN(o)&&Number.isNaN(n.o[i])||(n.o[i]=o,n.R[i]=!0),!0},deleteProperty:function(n,i){return Oa(n.t,i)!==void 0||i in n.t?(n.R[i]=!1,Aa(n),da(n)):delete n.R[i],n.o&&delete n.o[i],!0},getOwnPropertyDescriptor:function(n,i){var o=nr(n),s=Reflect.getOwnPropertyDescriptor(o,i);return s&&{writable:!0,configurable:n.i!==1||i!=="length",enumerable:s.enumerable,value:o[i]}},defineProperty:function(){uo(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){uo(12)}},xn={};To(on,function(n,i){xn[n]=function(){return arguments[0]=arguments[0][0],i.apply(this,arguments)}}),xn.deleteProperty=function(n,i){return xn.set.call(this,n,i,void 0)},xn.set=function(n,i,o){return on.set.call(this,n[0],i,o,n[0])};var cr=function(){function n(o){var s=this;this.O=Mr,this.D=!0,this.produce=function(f,h,C){if(typeof f=="function"&&typeof h!="function"){var S=h;h=f;var T=s;return function(xe){var Se=this;xe===void 0&&(xe=S);for(var We=arguments.length,nt=Array(We>1?We-1:0),Gt=1;Gt<We;Gt++)nt[Gt-1]=arguments[Gt];return T.produce(xe,function(wn){var Pn;return(Pn=h).call.apply(Pn,[Se,wn].concat(nt))})}}var D;if(typeof h!="function"&&uo(6),C!==void 0&&typeof C!="function"&&uo(7),Qo(f)){var B=Ea(s),H=Ps(s,f,void 0),ce=!0;try{D=h(H),ce=!1}finally{ce?Fi(B):ha(B)}return typeof Promise!="undefined"&&D instanceof Promise?D.then(function(xe){return Ti(B,C),Ja(xe,B)},function(xe){throw Fi(B),xe}):(Ti(B,C),Ja(D,B))}if(!f||typeof f!="object"){if((D=h(f))===void 0&&(D=f),D===Dr&&(D=void 0),s.D&&Qr(D,!0),C){var de=[],me=[];mo("Patches").M(f,D,de,me),C(de,me)}return D}uo(21,f)},this.produceWithPatches=function(f,h){if(typeof f=="function")return function(D){for(var B=arguments.length,H=Array(B>1?B-1:0),ce=1;ce<B;ce++)H[ce-1]=arguments[ce];return s.produceWithPatches(D,function(de){return f.apply(void 0,[de].concat(H))})};var C,S,T=s.produce(f,h,function(D,B){C=D,S=B});return typeof Promise!="undefined"&&T instanceof Promise?T.then(function(D){return[D,C,S]}):[T,C,S]},typeof(o==null?void 0:o.useProxies)=="boolean"&&this.setUseProxies(o.useProxies),typeof(o==null?void 0:o.autoFreeze)=="boolean"&&this.setAutoFreeze(o.autoFreeze)}var i=n.prototype;return i.createDraft=function(o){Qo(o)||uo(8),xa(o)&&(o=wa(o));var s=Ea(this),f=Ps(this,o,void 0);return f[Er].C=!0,ha(s),f},i.finishDraft=function(o,s){var f=o&&o[Er],h=f.A;return Ti(h,s),Ja(void 0,h)},i.setAutoFreeze=function(o){this.D=o},i.setUseProxies=function(o){o&&!Mr&&uo(20),this.O=o},i.applyPatches=function(o,s){var f;for(f=s.length-1;f>=0;f--){var h=s[f];if(h.path.length===0&&h.op==="replace"){o=h.value;break}}f>-1&&(s=s.slice(f+1));var C=mo("Patches").$;return xa(o)?C(o,s):this.produce(o,function(S){return C(S,s)})},n}(),mn=new cr,Or=mn.produce,ei=mn.produceWithPatches.bind(mn),Ni=mn.setAutoFreeze.bind(mn),ki=mn.setUseProxies.bind(mn),yo=mn.applyPatches.bind(mn),Ro=mn.createDraft.bind(mn),Lo=mn.finishDraft.bind(mn),Jo=null;X(),Ni(!1);var Io;(function(n){n.EMPTY_VALUE=Symbol("EMPTY_MODEL_VALUE");function i(s){return s!==n.EMPTY_VALUE}n.isValidValue=i;function o(s){return s.pipe(Li(),co(f=>i(f)),Pi(17,dr,{leading:!1,trailing:!0}))}n.defaultPipeFunction=o})(Io||(Io={}));class qo{constructor(i=Io.EMPTY_VALUE,o=30){this.toDispose=new Y,this.watch=(s,f=Io.defaultPipeFunction)=>{this.subject$.observers.length+1>this.maxSubscription&&console.warn(`${this.subject$} reach maxSubscription limitation, please check`);const C=(f?f(this.subject$):this.subject$).subscribe(s);return K.create(()=>{C.unsubscribe()})},this.getValue=()=>this.subject$.getValue(),this.setValue=s=>{if(this.subject$){if(typeof s=="function"){const f=this.subject$.getValue(),h=Or(f,C=>{s(C)});Io.isValidValue(h)&&this.setValue(h);return}this.subject$.next(s)}},this.hasValidValue=()=>{const s=this.getValue();return Io.isValidValue(s)},this.getValidValue=()=>(0,g.mG)(this,void 0,void 0,function*(){const s=new re;if(this.hasValidValue())return this.getValue();const f=this.watch(h=>{Io.isValidValue(h)&&(s.resolve(h),f.dispose())});return s.promise}),this.dispose=()=>{this.toDispose.dispose()},this.subject$=new qn(i||Io.EMPTY_VALUE),this.maxSubscription=o,this.toDispose.push(K.create(()=>{this.subject$.complete(),this.subject$.unsubscribe(),this.subject$=null}))}}const Vo=d.Syringe.defineToken("IFrontendApplicationContribution"),jo=Symbol("IGraphCommandService"),so=d.Syringe.defineToken("ICommandHandler"),Si=Symbol("ICommandContextProvider"),pa=Symbol("IGraphCommandFactory"),xo=d.Syringe.defineToken("IGraphCommandContribution");var Pa;(function(n){function i(f){return!!f&&f===Object(f)&&"id"in f}n.is=i;function o(f,h){if(f.label&&h.label){const C=(f.category?`${f.category}: ${f.label}`:f.label).toLowerCase(),S=(h.category?`${h.category}: ${h.label}`:h.label).toLowerCase();return C.localeCompare(S)}else return 0}n.compareCommands=o;function s(f,h){return f.id===h.id&&f.label===h.label&&f.iconName===h.iconName&&f.category===h.category}n.equals=s})(Pa||(Pa={}));let Fo=class{constructor(i){this.contributionProvider=i,this.redoStack=[],this.undoStack=[],this.commands=new Map,this.factories=new Map,this.disposables=new Map,this.cmdChangeEvent=new qo(null),this.Globals=new qo(new Map),this.setGlobal=(o,s)=>{this.Globals.setValue(f=>{f.set(o,s)})},this.getGlobal=o=>this.Globals.getValue().get(o),this.undoCommand=()=>(0,g.mG)(this,void 0,void 0,function*(){const o=this.undoStack.pop();if(!o){console.error("empty undo stack");return}yield o.undo(),this.redoStack.push(o),this.cmdChangeEvent.setValue(null)}),this.redoCommand=()=>(0,g.mG)(this,void 0,void 0,function*(){const o=this.redoStack.pop();if(!o){console.error("empty undo stack");return}yield o.redo(),this.undoStack.push(o),this.cmdChangeEvent.setValue(null)}),this.registerDisposableCommand=o=>{const s=new Y;return o({registerCommand:(h,C)=>{const S=this.registerCommand(h,C);return s.push(S),S}}),s}}get watchChange(){return this.cmdChangeEvent.watch}onStart(){const i=this.contributionProvider.getContributions();for(const o of i)o.registerGraphCommands(this)}executeCommandPipeline(i){return(0,g.mG)(this,void 0,void 0,function*(){let o=null;for(const s of i){const f=o==null?void 0:o.contextProvider(),{args:h,hooks:C}=yield s==null?void 0:s.getCommandOption(f);o=yield this.executeCommand(s==null?void 0:s.commandId,h,C)}return this.cmdChangeEvent.setValue(null),o})}executeCommand(i,o,s=[]){return(0,g.mG)(this,void 0,void 0,function*(){const f=this.getFactory(i);if(f){const h=yield f.createCommand(i,o,s);return yield h.execute(),h.isUndoable()&&this.undoStack.push(h),this.cmdChangeEvent.setValue(null),h}throw Object.assign(new Error(`The command '${i}' cannot be executed. There are no active handlers available for the command.`),{code:"NO_ACTIVE_HANDLER"})})}executeUndoCommand(i,o,s=[]){return(0,g.mG)(this,void 0,void 0,function*(){const f=this.getFactory(i);if(f){const h=yield f.createCommand(i,o,s);return yield h.execute(),h}throw Object.assign(new Error(`The command '${i}' cannot be executed. There are no active handlers available for the command.`),{code:"NO_ACTIVE_HANDLER"})})}createCommand(i,o,s=[]){return(0,g.mG)(this,void 0,void 0,function*(){const f=this.getFactory(i);if(f)return yield f.createCommand(i,o,s);throw Object.assign(new Error(`The command '${i}' cannot be executed. There are no active handlers available for the command.`),{code:"NO_ACTIVE_HANDLER"})})}get isUndoable(){return this.undoStack.length>0}get isRedoable(){return this.redoStack.length>0}hasCommand(i){return this.commands.has(i)}getCommand(i){return this.commands.get(i)}registerCommand(i,o){if(this.factories.has(i.id))return console.warn(`A command ${i.id} is already registered.`),K.NULL;const s=new Y(this.doRegisterCommand(i),this.registerFactory(i.id,o),K.create(()=>this.disposables.delete(i.id)));return this.disposables.set(i.id,s),s}doRegisterCommand(i){return this.commands.set(i.id,i),K.create(()=>this.disposables.delete(i.id))}unregisterCommand(i){const o=Pa.is(i)?i.id:i,s=this.disposables.get(o);s&&s.dispose()}hasFactory(i){return!!this.factories.get(i)}getFactory(i){return this.factories.get(i)}registerFactory(i,o,s=!1){return this.hasFactory(i)&&s===!1&&console.error("cannot register command:",i),this.factories.set(i,o),K.create(()=>{this.factories.delete(i)})}getAllFactories(){return Array.from(this.factories.entries())}};Fo=(0,g.gn)([(0,d.singleton)({contrib:[Vo,jo]}),(0,g.fM)(0,(0,d.contrib)(xo)),(0,g.w6)("design:paramtypes",[Object])],Fo);const Sa=(0,d.Module)(n=>{d.Contribution.register(n,xo),n(Fo)}),Bo=d.Syringe.defineToken("IModelService"),se=d.Syringe.defineToken("IModelContribution"),Ye=Symbol("IModelOptionProvider");var ft=l(51490);const Ct=d.Syringe.defineToken("IHookService"),nn=d.Syringe.defineToken("IHookContribution"),yn=()=>({graphOptions:new ft.m,reactNodeRender:new ft.m,reactEdgeLabelRender:new ft.m,afterGraphInit:new ft.m,beforeGraphDestroy:new ft.m,x6Events:new ft.m}),Vn=()=>({dispose:()=>{}});var wr;(function(n){n.CONFIG_TYPE="XFlowHook"})(wr||(wr={}));class Nr{constructor(){this.CONFIG_TYPE=wr.CONFIG_TYPE,this.time=Date.now(),this.setRegisterHook=i=>{this.hookRegisterFunc=i},this.setRegisterHookhub=i=>{this.hookhubRegisterFn=i},this.getConfig=()=>(0,g.mG)(this,void 0,void 0,function*(){return{CONFIG_TYPE:this.CONFIG_TYPE,hookRegisterFn:this.hookRegisterFunc||Vn,hookhubRegisterFn:this.hookhubRegisterFn||Vn}}),this.dispose=()=>{}}}let jr=class{constructor(){this.toDispose=new Y,this.hookProvider=()=>this.hooks,this.registerHook=i=>i(this.hooks),this.registerHookHub=(i,o)=>(this.hooks[i]=o,{dispose:()=>{delete this.hooks[i]}}),this.onStart=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contributionProvider.getContributions();for(const o of i)o.registerHookHub(this);for(const o of i)o.registerHook(this.hooks)}),this.hooks=yn()}onStop(){this.toDispose.dispose()}};(0,g.gn)([(0,d.contrib)(nn),(0,g.w6)("design:type",Object)],jr.prototype,"contributionProvider",void 0),jr=(0,g.gn)([(0,d.singleton)({contrib:[Vo,Ct]}),(0,g.w6)("design:paramtypes",[])],jr);var bi;(function(n){n.pluginId="GraphEventPlugin"})(bi||(bi={}));let Hr=class{constructor(){this.toDispose=new Y,this.registerHook=i=>(0,g.mG)(this,void 0,void 0,function*(){const{hookRegisterFn:o}=yield this.hookConfig.getConfig(),s=o(i);return K.create(()=>{s.dispose()})}),this.registerHookHub=i=>(0,g.mG)(this,void 0,void 0,function*(){const{hookhubRegisterFn:o}=yield this.hookConfig.getConfig(),s=o(i);return K.create(()=>{s.dispose()})})}};(0,g.gn)([(0,d.inject)(Nr),(0,g.w6)("design:type",Nr)],Hr.prototype,"hookConfig",void 0),Hr=(0,g.gn)([(0,d.singleton)({contrib:nn})],Hr);const Lr={dispose:()=>null};function Ar(n,i){let o;return()=>{clearTimeout(o),o=window.setTimeout(n,i)}}function mi(n){let i;return()=>{i||(i=requestAnimationFrame(()=>{i=null,n()}))}}const oi=n=>{const i=document.createElement("style");return i.setAttribute("type","text/css"),document.head.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n)),i};function Pt(n){return typeof n=="function"&&!!n.prototype.isReactComponent}function cn(n){return typeof n=="function"&&String(n).includes("return React.createElement")}function Qn(n){return Pt(n)||cn(n)}var _t;(function(n){n.pluginId="base-graph-events"})(_t||(_t={}));let Xt=class{constructor(){this.toDispose=new Y,this.registerHookHub=()=>(0,g.mG)(this,void 0,void 0,function*(){return K.create(()=>{})}),this.registerHook=i=>(0,g.mG)(this,void 0,void 0,function*(){const o=new Y,s=[i.x6Events.registerHook({name:_t.pluginId,handler:f=>(0,g.mG)(this,void 0,void 0,function*(){const{events:h}=yield this.graphOptions.getOptions();h.forEach(C=>{f.push(C)})})}),i.afterGraphInit.registerHook({name:_t.pluginId,handler:f=>(0,g.mG)(this,void 0,void 0,function*(){const{commandService:h,modelService:C,graph:S}=f,T=yield i.x6Events.call([],D=>(0,g.mG)(this,void 0,void 0,function*(){return D.map(B=>{const H=ce=>{B.callback(ce,h,C,S)};return S.on(B.eventName,H),{dispose:()=>{S.off(B.eventName,H)}}})}));o.pushAll(T)})}),i.afterGraphInit.registerHook({name:"add auto resize event",handler:f=>(0,g.mG)(this,void 0,void 0,function*(){const{commandService:h,options:C,graph:S}=f,T=mi(()=>{h.executeCommand(be.GRAPH_RESIZE.id,{})});window.addEventListener("resize",T);const{rootContainer:D}=C,B=new ResizeObserver(()=>S.resize(D.clientWidth));D&&B.observe(D),o.push(K.create(()=>{window.removeEventListener("resize",T)}))})}),i.beforeGraphDestroy.registerHook({name:_t.pluginId,handler:()=>(0,g.mG)(this,void 0,void 0,function*(){o.dispose()})})];return o.pushAll(s),o})}};(0,g.gn)([(0,d.inject)(it),(0,g.w6)("design:type",Object)],Xt.prototype,"graphOptions",void 0),Xt=(0,g.gn)([(0,d.singleton)({contrib:nn})],Xt);const an=n=>(0,d.Module)(i=>{d.Contribution.register(i,nn),i(Hr),i(Xt),i(jr),i(Nr,{useValue:n})});var yr=l(96486);class Ur{constructor(){this.extensions=[],this.containerClassNames=new Set,this.addCoreModule=i=>(this.extensions.unshift(i),K.create(()=>{this.removeExtension(i)})),this.addExtension=i=>(this.extensions.push(i),K.create(()=>{this.removeExtension(i)})),this.getExtension=i=>(0,yr.find)(this.extensions,o=>(0,yr.get)(o,"config.CONFIG_TYPE")===i),this.removeExtension=i=>{const o=this.extensions.indexOf(i);o>-1&&this.extensions.splice(o,1)},this.getInstanceId=()=>this.instanceId,this.addContainerClassNames=i=>this.containerClassNames.add(i),this.getContainerClassNames=()=>Array.from(this.containerClassNames),this.getAllExtensions=()=>this.extensions,this.getAllExtensionConfigs=()=>this.extensions.map(i=>i.config),this.instanceId=st()}has(i){return this.extensions.some(o=>o.config.CONFIG_TYPE===i)}}const ci=()=>x.useMemo(()=>new Ur,[]),Yi=x.createContext({}),ui=()=>x.useContext(Yi),go=n=>{const i=ui(),o=x.useMemo(()=>n.config?n.config:new Nr,[]);return x.useEffect(()=>{const s=i.addCoreModule({config:o,createModule:an});return()=>{s.dispose(),o.dispose()}},[i,o]),null},wo=n=>i=>{const o=x.useMemo(()=>({getValue:()=>({})}),[]);return o.getValue=()=>i,x.useMemo(()=>{const f=new Nr;return n(f,o),f},[o])},ji=x.createContext({cell:null,x6Graph:null,commands:null,modelService:null}),ko=()=>x.useContext(ji);function os(n,i,o){return function(s){const f=this,h=s==null?void 0:s.getData(),C=s==null?void 0:s.getSize(),S=s==null?void 0:s.getPosition(),T=()=>x.createElement(ji.Provider,{value:{cell:s,x6Graph:f,commands:i,modelService:o}},x.createElement(n,{cell:s,data:h,size:C,position:S}));return x.createElement(T,null)}}function La(n,i,o){return function(s){const f=this,h=s==null?void 0:s.getData(),C=()=>x.createElement(ji.Provider,{value:{cell:s,x6Graph:f,commands:i,modelService:o}},x.createElement(n,{data:h,cell:s}));return x.createElement(C,null)}}const Ua=()=>{const[n,i]=React.useState(!1),{x6Graph:o,cell:s}=ko();return React.useEffect(()=>{const f=({added:h,removed:C})=>{if(h.filter(D=>D.isNode()).some(D=>{D.id,s.id})){s.setData(Object.assign(Object.assign({},s.getData()),{isNodeSelected:!0})),i(!0);return}if(C.filter(D=>D.isNode()).some(D=>{D.id,s.id})){s.setData(Object.assign(Object.assign({},s.getData()),{isNodeSelected:!1})),i(!1);return}};return o.on("selection:changed",f),()=>{o.off("selection:changed",f)}},[o]),[n]},cs=Symbol("IGraphProvider"),sa=Symbol("ICommandServiceProvider"),Ka=Symbol("IModelServiceProvider");let Ks=class{constructor(){this.toDispose=new Y,this.graphMap=new Map,this.getGraph=i=>(0,g.mG)(this,void 0,void 0,function*(){let o=this.graphMap.get(i);if(!o){o=new re,this.graphMap.set(i,o);const s=yield this.optionProvider.getOptions(),f=this.hookService.hookProvider(),h=yield f.graphOptions.call(s.x6Options),{graphContainer:C,edgeRender:S,nodeRender:T,edgeTypeParser:D}=s,B=yield f.reactEdgeLabelRender.call(S);yield f.reactNodeRender.call(T);const{clientHeight:H,clientWidth:ce}=C,de=yield this.commandServiceProvider.getCommandService(),me=yield this.modelServiceProvider.getModelService(),xe=new k.kJ(Object.assign(Object.assign({container:C,width:ce,height:H},h),{onEdgeLabelRendered:Se=>{const{edge:We,container:nt}=Se;this.renderEdgeReactLabel({edge:We,container:nt,edgeRenderMap:B,edgeTypeParser:D,modelService:me,commandService:de})}}));yield f.afterGraphInit.call({graph:xe,commandService:de,modelService:me,options:s}),o.resolve(xe),xe.on("node:moved",({node:Se})=>{const We=Se.getData(),nt=Se.position();Se.setData(Object.assign(Object.assign({},We),{x:nt==null?void 0:nt.x,y:nt==null?void 0:nt.y}))}),xe.on("node:resized",({node:Se})=>{const We=Se.getData(),nt=Se.size();Se.setData(Object.assign(Object.assign({},We),{width:nt==null?void 0:nt.width,height:nt==null?void 0:nt.height}))}),this.toDispose.push(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){yield f.beforeGraphDestroy.call({graph:xe,commandService:de,modelService:me,options:s}),this.graphMap.delete(i),xe.dispose()})))}return o.promise}),this.renderEdgeReactLabel=i=>(0,g.mG)(this,void 0,void 0,function*(){const{container:o,edgeTypeParser:s,edge:f,edgeRenderMap:h,commandService:C,modelService:S}=i,T=s(f==null?void 0:f.data)||Pe,D=h.get(T);if(D&&f&&f!=null&&f.data&&D){const B=this.edgeAppendForeignObject(f,o),H=La(D,C,S)(f);Z.render(H,B)}})}edgeAppendForeignObject(i,o){const s=k.is.createSvgElement("foreignObject"),f=k.is.createElementNS("body",k.is.ns.xhtml),h=k.is.createElementNS("div",k.is.ns.xhtml),C=i==null?void 0:i.data,S=(C==null?void 0:C.edgeContentWidth)||100,T=(C==null?void 0:C.edgeContentHeight)||30;return s.setAttribute("width",`${S}`),s.setAttribute("height",`${T}`),s.setAttribute("x",`${-1*S/2}`),s.setAttribute("y",`${-1*T/2}`),f.setAttribute("xhtmls",k.is.ns.xhtml),f.style.width="100%",f.style.height="100%",f.style.padding="0",f.style.margin="0",f.style.background="unset",f.style.overflow="visible",f.className="xflow-edge-label-body",h.style.width="100%",h.style.height="100%",f.appendChild(h),s.appendChild(f),o.appendChild(s),h}dispose(){this.toDispose.dispose()}};(0,g.gn)([(0,d.inject)(it),(0,g.w6)("design:type",Object)],Ks.prototype,"optionProvider",void 0),(0,g.gn)([(0,d.inject)(Ct),(0,g.w6)("design:type",Object)],Ks.prototype,"hookService",void 0),(0,g.gn)([(0,d.inject)(sa),(0,g.w6)("design:type",Object)],Ks.prototype,"commandServiceProvider",void 0),(0,g.gn)([(0,d.inject)(Ka),(0,g.w6)("design:type",Object)],Ks.prototype,"modelServiceProvider",void 0),Ks=(0,g.gn)([(0,d.singleton)()],Ks);const qs=n=>{n(Ks),n(cs,{lifecycle:d.Syringe.Lifecycle.singleton,useDynamic:i=>({getGraphInstance:()=>(0,g.mG)(void 0,void 0,void 0,function*(){const o=i.container.get(Ks),s=i.container.get(it),f=yield s==null?void 0:s.getOptions();return yield o==null?void 0:o.getGraph(f.graphId)}),getGraphOptions:()=>(0,g.mG)(void 0,void 0,void 0,function*(){const o=i.container.get(it);return o==null?void 0:o.getOptions()})})}),n(sa,{lifecycle:d.Syringe.Lifecycle.singleton,useDynamic:i=>({getCommandService:()=>(0,g.mG)(void 0,void 0,void 0,function*(){return i.container.get(jo)})})}),n(Ka,{lifecycle:d.Syringe.Lifecycle.singleton,useDynamic:i=>({getModelService:()=>(0,g.mG)(void 0,void 0,void 0,function*(){return i.container.get(Bo)})})})};var yl;(function(n){n.CONFIG_TYPE="MODEL_SERVICE_CONFIG"})(yl||(yl={}));const Ds=()=>K.create(()=>{});class tc{constructor(){this.CONFIG_TYPE=yl.CONFIG_TYPE,this.registerModelFn=Ds,this.isMounted=new re,this.registerModel=i=>{this.registerModelFn=i},this.setMountState=()=>{this.isMounted.resolve(!0)},this.getConfig=()=>(0,g.mG)(this,void 0,void 0,function*(){return yield this.isMounted.promise,{CONFIG_TYPE:this.CONFIG_TYPE,modelRegisterFunc:this.registerModelFn||Ds}}),this.dispose=()=>{this.registerModelFn=Ds,this.isMounted=new re}}}let Rl=class{constructor(){this.toDispose=new Y,this.deferredModelMap=new Map,this.registerModel=i=>{const{id:o,getInitialValue:s,modelFactory:f}=i,h=new Y,C=this.ensureModel(o);if(C.isResolved){console.error(i,"model has been registerd");return}const S=s?s():Io.EMPTY_VALUE,T=f?f():new qo(S);return Io.isValidValue(S)&&C.resolve(T),i.watchChange&&i.watchChange(T,this).then(D=>{C.isResolved||C.resolve(T),this.toDispose.pushAll([D,h]),h.push(D)}),h},this.findDeferredModel=i=>this.deferredModelMap.get(i),this.awaitModel=i=>this.ensureModel(i).promise,this.registerRuntimeModel=()=>(0,g.mG)(this,void 0,void 0,function*(){const{modelRegisterFunc:i}=yield this.modelOptionProvider.getOption(),o=yield this.graphProvider.getGraphInstance();i&&i(this,o)}),this.ensureModel=i=>{const o=this.deferredModelMap.get(i);if(o)return o;const s=new re;return this.deferredModelMap.set(i,s),this.toDispose.push(K.create(()=>this.deferredModelMap.delete(i))),s}}onStart(){const i=this.contributionProvider.getContributions();for(const o of i)o.registerModel(this);this.registerRuntimeModel()}onStop(){this.toDispose.dispose()}};(0,g.gn)([(0,d.contrib)(se),(0,g.w6)("design:type",Object)],Rl.prototype,"contributionProvider",void 0),(0,g.gn)([(0,d.inject)(Ye),(0,g.w6)("design:type",Object)],Rl.prototype,"modelOptionProvider",void 0),(0,g.gn)([(0,d.inject)(cs),(0,g.w6)("design:type",Object)],Rl.prototype,"graphProvider",void 0),Rl=(0,g.gn)([(0,d.singleton)({contrib:[Vo,Bo]})],Rl);var Ca=l(67309);let us=class{registerModel(i){i.registerModel({id:Ca.COMMAND_REDOABLE.id,getInitialValue:()=>this.commands.isRedoable,watchChange:o=>(0,g.mG)(this,void 0,void 0,function*(){return this.commands.watchChange(()=>{o.setValue(this.commands.isRedoable)})})}),i.registerModel({id:Ca.COMMAND_UNDOABLE.id,getInitialValue:()=>this.commands.isUndoable,watchChange:o=>(0,g.mG)(this,void 0,void 0,function*(){return this.commands.watchChange(()=>{o.setValue(this.commands.isUndoable)})})}),i.registerModel({id:Ca.COMMAND_GLOBALS.id,modelFactory:()=>this.commands.Globals})}};(0,g.gn)([(0,d.inject)(jo),(0,g.w6)("design:type",Object)],us.prototype,"commands",void 0),us=(0,g.gn)([(0,d.singleton)({contrib:se})],us);const Va=(n,i,o)=>(n.on(i,o),K.create(()=>{n.off(i,o)}));let zs=class{constructor(){this.getGraphInstance=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=yield this.graphProvider.getGraphInstance(),o=yield this.graphProvider.getGraphOptions();return{graph:i,config:o}})}registerModel(i){i.registerModel({id:Ca.GRAPH_META.id,getInitialValue:()=>({flowId:"-1"}),watchChange:o=>(0,g.mG)(this,void 0,void 0,function*(){return K.create(()=>{o.setValue({flowId:"-1"})})})}),i.registerModel({id:Ca.GRAPH_ENABLE_MULTI_SELECT.id,getInitialValue:()=>({isEnable:!1}),watchChange:o=>(0,g.mG)(this,void 0,void 0,function*(){return K.create(()=>{o.setValue({isEnable:!1})})})}),i.registerModel({id:Ca.GRAPH_FULLSCREEN.id,getInitialValue:()=>!1,watchChange:(o,s)=>(0,g.mG)(this,void 0,void 0,function*(){const f=()=>(0,g.mG)(this,void 0,void 0,function*(){const h=!!document.fullscreenElement;(yield Ca.GRAPH_FULLSCREEN.getModel(s)).setValue(h)});return document.addEventListener("fullscreenchange",f,!1),K.create(()=>{document.removeEventListener("fullscreenchange",f),o.setValue(!1)})})}),i.registerModel({id:Ca.SELECTED_CELLS.id,getInitialValue:()=>[],watchChange:o=>(0,g.mG)(this,void 0,void 0,function*(){const{graph:s}=yield this.getGraphInstance(),f=h=>{const{selected:C}=h;o.setValue(C)};return s.on("selection:changed",f),K.create(()=>s.off("selection:changed",f))})}),i.registerModel({id:Ca.SELECTED_CELL.id,watchChange:(o,s)=>(0,g.mG)(this,void 0,void 0,function*(){return(yield Ca.SELECTED_CELLS.getModel(s)).watch((h=[])=>{o.setValue([...h].pop()||null)})})}),i.registerModel({id:Ca.SELECTED_NODES.id,getInitialValue:()=>[],watchChange:(o,s)=>(0,g.mG)(this,void 0,void 0,function*(){return(yield Ca.SELECTED_CELLS.getModel(s)).watch((h=[])=>{const C=h.filter(S=>S.isNode());o.setValue(C)})})}),i.registerModel({id:Ca.SELECTED_NODE.id,watchChange:(o,s)=>(0,g.mG)(this,void 0,void 0,function*(){return(yield Ca.SELECTED_NODES.getModel(s)).watch(C=>{o.setValue([...C].pop()||null)})})}),i.registerModel({id:Ca.IS_NODE_SELECTED.id,watchChange:(o,s)=>(0,g.mG)(this,void 0,void 0,function*(){return(yield Ca.SELECTED_NODES.getModel(s)).watch(C=>{o.setValue(C.length>0)})})}),i.registerModel({id:Ca.IS_GROUP_SELECTED.id,getInitialValue:()=>!1,watchChange:(o,s)=>(0,g.mG)(this,void 0,void 0,function*(){return(yield Ca.SELECTED_CELLS.getModel(s)).watch(C=>{const S=C.every(T=>T&&T.getProp("isGroup")===!0);o.setValue(S)})})}),i.registerModel({id:Ca.SELECTED_GROUPS.id,getInitialValue:()=>[],watchChange:(o,s)=>(0,g.mG)(this,void 0,void 0,function*(){return(yield Ca.SELECTED_NODES.getModel(s)).watch(C=>{const S=C.filter(T=>T&&T.getProp("isGroup")===!0);o.setValue(S)})})}),i.registerModel({id:Ca.IS_NORMAL_NODES_SELECTED.id,getInitialValue:()=>!1,watchChange:(o,s)=>(0,g.mG)(this,void 0,void 0,function*(){return(yield Ca.SELECTED_CELLS.getModel(s)).watch(C=>{const S=C.every(D=>{const B=!(D&&D.getProp("isGroup")),H=!(D&&D.getProp("group"));return B&&H}),T=C.length>0&&S;o.setValue(T)})})}),i.registerModel({id:Ca.GRAPH_SCALE.id,getInitialValue:()=>({zoomFactor:-1}),watchChange:o=>(0,g.mG)(this,void 0,void 0,function*(){const{graph:s}=yield this.getGraphInstance(),f=h=>{const C=s.zoom();o.setValue(Object.assign(Object.assign({},h),{zoomFactor:C}))};return s.on("scale",f),K.create(()=>s.off("scale",f))})}),i.registerModel({id:Ca.CONTEXTMENU_TARGET.id,watchChange:o=>(0,g.mG)(this,void 0,void 0,function*(){const{graph:s,config:f}=yield this.getGraphInstance(),h=S=>T=>{const{x:D,y:B}=T,H=s.localToClient({x:D,y:B}),ce=f.rootContainer.getBoundingClientRect(),de={x:H.x-((ce==null?void 0:ce.x)||0),y:H.y-((ce==null?void 0:ce.y)||0)};o.setValue({type:S,anchor:de,data:T,cell:T.cell})},C=new Y;return C.pushAll([Va(s,"node:contextmenu",h("node")),Va(s,"edge:contextmenu",h("edge")),Va(s,"blank:contextmenu",h("blank"))]),C})}),i.registerModel({id:Ca.HISTORY_REDOABLE.id,getInitialValue:()=>!1,watchChange:o=>(0,g.mG)(this,void 0,void 0,function*(){const{graph:s}=yield this.getGraphInstance(),f=()=>{const h=s.history.canRedo();o.setValue(h)};return s.history&&s.history.on("change",f),K.create(()=>s.history.off("change",f))})}),i.registerModel({id:Ca.HISTORY_UNDOABLE.id,getInitialValue:()=>!1,watchChange:o=>(0,g.mG)(this,void 0,void 0,function*(){const{graph:s}=yield this.getGraphInstance(),f=()=>{const h=s.history.canUndo();o.setValue(h)};return s.history&&s.history.on("change",f),K.create(()=>s.history.off("change",f))})})}};(0,g.gn)([(0,d.inject)(cs),(0,g.w6)("design:type",Object)],zs.prototype,"graphProvider",void 0),zs=(0,g.gn)([(0,d.singleton)({contrib:se})],zs);const Fa=(0,d.Module)(n=>{d.Contribution.register(n,se),n(Rl),n(zs),n(us)}),Ys=(n,i)=>{n({token:Ye,useDynamic:()=>({getOption:()=>(0,g.mG)(void 0,void 0,void 0,function*(){return i.getConfig()})}),lifecycle:d.Syringe.Lifecycle.singleton})},Us=n=>(0,d.Module)(i=>{Ys(i,n)}),_s=n=>{const{config:i}=n,o=ui(),s=x.useMemo(()=>i||new tc,[]);return x.useEffect(()=>{const f=o.addCoreModule({config:s,createModule:Us});return s.setMountState(),()=>{f.dispose(),s.dispose()}},[]),null};_s.defaultProps={XFlowModuleType:"ModelServiceConfig"};const Tl=n=>i=>{const o=x.useMemo(()=>({getValue:()=>({})}),[]);return o.getValue=()=>i,x.useMemo(()=>{const f=new tc;return n(f,o),f},[o])},Bl=n=>{const i=n.getChildren(),o=n.getSize(),s=n.getData()||{},f=n.getPosition(),h=n.getParentId(),{isCollapsed:C}=s,S=s.groupCollapsedSize||(C?o:null);return Object.assign(Object.assign({},s),{id:n.id,width:o.width,height:o.height,x:f.x,y:f.y,group:h,groupChildren:i?i.map(T=>T.id):null,groupCollapsedSize:S})},Zl=n=>{const i=n.getData()||{};return Object.assign({id:n.id},i)},Pc=n=>{const i=[],o=[],s=f=>{f.isNode()&&i.push(Bl(f)),f.isEdge()&&o.push(Zl(f))};return n.map(f=>s(f)),{nodes:i,edges:o}},zl=100;let uc=class{constructor(){this.getGraphInstance=()=>this.graphProvider.getGraphInstance(),this.getGraphConfig=()=>this.graphProvider.getGraphOptions(),this.getGraphData=()=>(0,g.mG)(this,void 0,void 0,function*(){const o=(yield this.graphProvider.getGraphInstance()).getCells();return Pc(o)}),this.getAllNodes=()=>(0,g.mG)(this,void 0,void 0,function*(){return(yield this.graphProvider.getGraphInstance()).getNodes()}),this.getNodeById=i=>(0,g.mG)(this,void 0,void 0,function*(){return(yield this.graphProvider.getGraphInstance()).getCellById(i)}),this.getAllEdges=()=>(0,g.mG)(this,void 0,void 0,function*(){return(yield this.graphProvider.getGraphInstance()).getEdges()}),this.getEdgeById=i=>(0,g.mG)(this,void 0,void 0,function*(){return(yield this.graphProvider.getGraphInstance()).getCellById(i)}),this.updateNodeAttrs=(i,o)=>(0,g.mG)(this,void 0,void 0,function*(){i instanceof k.NB?i.setAttrs(o):(yield this.getNodeById(i)).setAttrs(o)}),this.updateEdgeAttrs=(i,o)=>(0,g.mG)(this,void 0,void 0,function*(){i instanceof k.kS?i.setAttrs(o):(yield this.getEdgeById(i)).setAttrs(o)}),this.translateGraph=(i,o)=>(0,g.mG)(this,void 0,void 0,function*(){const s=yield this.graphProvider.getGraphInstance(),f=s.translate();s.translate(f.tx+i,f.ty+o)})}start(){return(0,g.mG)(this,void 0,void 0,function*(){yield this.startContributions(),this.registerEventListeners()})}executeCommand(i,o,s=[]){return this.commandService.executeCommand(i,o,s)}executeCommandPipeline(i){return this.commandService.executeCommandPipeline(i)}registerEventListeners(){window.addEventListener("unload",()=>{this.stopContributions()})}startContributions(){return(0,g.mG)(this,void 0,void 0,function*(){console.log(this.contributions.getContributions());for(const i of this.contributions.getContributions())if(i.onStart)try{yield this.measure(`${i.constructor.name}.onStart`,()=>i.onStart(this))}catch(o){console.error("Could not start contribution",o)}})}stopContributions(){console.info(">>> Stopping frontend contributions...");for(const i of this.contributions.getContributions())if(i.onStop)try{i.onStop(this)}catch(o){console.error("Could not stop contribution",o)}console.info("<<< All frontend contributions have been stopped.")}measure(i,o){return(0,g.mG)(this,void 0,void 0,function*(){const s=`${i}-start`,f=`${i}-end`;performance.mark(s);const h=yield o();performance.mark(f),performance.measure(i,s,f);for(const C of performance.getEntriesByName(i)){const S=`Frontend ${C.name}`;C.duration>zl?console.warn(`${S} is slow, took: ${C.duration.toFixed(1)} ms`):console.debug(`${S} took: ${C.duration.toFixed(1)} ms`)}return performance.clearMeasures(i),h})}};(0,g.gn)([(0,d.contrib)(Vo),(0,g.w6)("design:type",Object)],uc.prototype,"contributions",void 0),(0,g.gn)([(0,d.inject)(cs),(0,g.w6)("design:type",Object)],uc.prototype,"graphProvider",void 0),(0,g.gn)([(0,d.inject)(jo),(0,g.w6)("design:type",Object)],uc.prototype,"commandService",void 0),(0,g.gn)([(0,d.inject)(Bo),(0,g.w6)("design:type",Object)],uc.prototype,"modelService",void 0),uc=(0,g.gn)([(0,d.singleton)()],uc);const Uc=(0,d.Module)(n=>{d.Contribution.register(n,Vo),n(uc)}),nl=n=>{const i=n.getAllExtensions(),o=new d.Container,s=i.map(h=>{const{createModule:C,config:S}=h;return C(S)});return o.load(Uc),o.load(Sa),o.load(Fa),s.forEach(h=>{o.load(h)}),o.get(uc)};class bc{constructor(){this.xflowPrefixCls=XFLOW_PREFIX_CLS,this.getXflowPrefixCls=i=>`${this.xflowPrefixCls}-${i}`,this.setXflowPrefixCls=i=>this.xflowPrefixCls=i}}const kc=x.createContext({configProvider:null}),ll=()=>x.useContext(kc),fc=n=>{const i=ll();return x.useMemo(()=>i.configProvider?i.configProvider.getXflowPrefixCls(n):`${le}-${n}`,[n])};function bl(n){const{createModule:i,children:o}=n,s=ui(),f=x.useMemo(()=>n.config||{CONFIG_TYPE:"",getConfig:()=>(0,g.mG)(this,void 0,void 0,function*(){return{}})},[]);return x.useEffect(()=>{const h=s.addExtension({config:f,createModule:i});return()=>{h.dispose()}},[]),Array.isArray(o)||x.isValidElement(o)?x.createElement(x.Fragment,null," ",o," "):null}const Ha=(n={})=>(0,x.useMemo)(()=>{const i=Object.entries(n),o=i.length>0?{position:"absolute"}:{};return i.forEach(([s,f=0])=>{o[s]=`${f}px`}),o},[n]),Ts=n=>(0,d.Module)(i=>{qs(i),Ze(i,n)});var Yl=l(66005);const nc=n=>{const i=It(),o=x.useRef(null),s=x.useRef(null),f=ui(),h=x.useMemo(()=>{const H=n.config?n.config:new ee;return H.setX6Config(),H},[]),[C,S]=(0,Yl.vI)(h.graphId);x.useEffect(()=>{i&&i.getGraphInstance().then(H=>{S(H)})},[i,S]),x.useEffect(()=>{h.setRootContainer(o.current),h.setGraphContainer(s.current),h.xflowInstanceId=f.getInstanceId(),f.addCoreModule({config:h,createModule:Ts});const H=()=>(0,g.mG)(void 0,void 0,void 0,function*(){h.dispose()});return()=>{H()}},[]);const T=Ha(n.position),D=fc("canvas-root"),B=fc("x6-canvas");return x.createElement(x.Fragment,null,x.createElement("div",{ref:o,className:D,style:T,id:h.graphId,tabIndex:0},x.createElement("div",{ref:s,className:B}),n.children),x.createElement(C,null))};nc.defaultProps={isXFlowCanvas:!0};let Ol=class{constructor(){this.toDispose=new Y,this.runtimeHooks=[],this.getX6Graph=()=>(0,g.mG)(this,void 0,void 0,function*(){if(this.graph)return this.graph;const i=yield this.graphProvider.getGraphInstance();return this.graph=i,i}),this.getGraphConfig=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.graphProvider.getGraphOptions()}),this.getGraphMeta=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.getModelService();return this.graphMeta||(yield Ca.GRAPH_META.useValue(i))}),this.setArgs=(i,o=[])=>(this.args=i,this.runtimeHooks=o,{args:i,hooks:o}),this.getArgs=()=>({args:Object.assign(Object.assign({},this.args),{modelService:this.getModelService(),commandService:this.getCommands(),getGraphMeta:this.getGraphMeta,getX6Graph:this.getX6Graph,getGraphConfig:this.getGraphConfig}),hooks:this.runtimeHooks}),this.setResult=i=>(this.result=i,this.result),this.getResult=()=>this.result,this.getHooks=()=>this.hookService.hookProvider(),this.getCommands=()=>this.commandService,this.getModelService=()=>this.modelService,this.addUndo=i=>{if(!Array.isArray(i))return this.addUndo([i]);this.toDispose.pushAll(i)},this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){yield this.toDispose.dispose()}),this.isUndoable=()=>!this.toDispose.disposed,this.getDisposables=()=>this.toDispose,this.setGlobal=(i,o)=>{this.commandService.setGlobal(i,o)},this.getGlobal=i=>this.commandService.getGlobal(i)}init(){this.getGraphMeta().then(i=>{this.graphMeta=i})}};(0,g.gn)([(0,d.inject)(cs),(0,g.w6)("design:type",Object)],Ol.prototype,"graphProvider",void 0),(0,g.gn)([(0,d.inject)(Ct),(0,g.w6)("design:type",Object)],Ol.prototype,"hookService",void 0),(0,g.gn)([(0,d.inject)(jo),(0,g.w6)("design:type",Object)],Ol.prototype,"commandService",void 0),(0,g.gn)([(0,d.inject)(Bo),(0,g.w6)("design:type",Object)],Ol.prototype,"modelService",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],Ol.prototype,"init",null),Ol=(0,g.gn)([(0,d.injectable)()],Ol);const Wl="CommandConfig",sc=()=>[];class Cl{constructor(){this.setCommandContributions=i=>{this.getContributions=i},this.getCommandContributions=()=>this.getContributions(),this.registerHook=i=>(0,g.mG)(this,void 0,void 0,function*(){return this.registerHookFn?this.registerHookFn(i):Lr}),this.registerHookHub=i=>(0,g.mG)(this,void 0,void 0,function*(){return this.registerHookHubFn?this.registerHookHubFn(i):Lr}),this.CONFIG_TYPE=Wl,this.setRegisterHookFn=i=>{this.registerHookFn=i},this.setRegisterHookHubFn=i=>{this.registerHookHubFn=i},this.getConfig=()=>(0,g.mG)(this,void 0,void 0,function*(){return{registerHookFn:this.registerHookFn,getContributions:this.getContributions,CONFIG_TYPE:this.CONFIG_TYPE}}),this.getContributions=sc}}const cl=()=>new Cl,bs=(n,i)=>{n({token:Cl,contrib:[nn],lifecycle:d.Syringe.Lifecycle.singleton,useDynamic:()=>i})};var Ia;(function(n){n.command=Ge.ADD_NODE,n.hookKey="addNode"})(Ia||(Ia={}));let ta=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().addNode.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const{createNodeService:S,cellFactory:T,commandService:D,options:B}=C,H=yield i.getX6Graph();let ce=C.nodeConfig;if(S){const Se=yield S(C);if(typeof Se=="boolean")return{err:"createNodeService rejected"};ce=Se}const de=yield this.processNodeConfig(ce);let me;const xe=Object.assign(Object.assign({},B),{isCommand:!0});if(T){const Se=yield T(de,this);me=H.addNode(Se,xe)}else me=H.addNode(de,xe);return i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){const Se=Object.assign({id:me.id},me.getData());D.executeCommand(Ge.DEL_NODE.id,{nodeConfig:Se})}))),{nodeConfig:de,nodeCell:me}}),s);return i.setResult(h),this}),this.processNodeConfig=i=>(0,g.mG)(this,void 0,void 0,function*(){const o=this.contextProvider();if(i.data=Object.assign({},i),i.shape)return i;if(!i.view){const s=yield o.getGraphConfig();i.view=s.graphId}if(!i.component){const s=yield this.getNodeReactComponent(i),f=o.getCommands(),h=o.getModelService();i.shape="react-shape",i.component=os(s,f,h)}return i}),this.getNodeReactComponent=i=>(0,g.mG)(this,void 0,void 0,function*(){const o=this.contextProvider(),s=o.getHooks(),f=yield o.getGraphConfig(),h=yield s.reactNodeRender.call(f.nodeRender),C=f.nodeTypeParser(i)||Oe,S=h.get(C);return S||console.error("react node component is missing:",f.nodeRender,C,S),S}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],ta.prototype,"contextProvider",void 0),ta=(0,g.gn)([(0,d.injectable)({token:{token:so,named:Ia.command.id}})],ta);var Bs;(function(n){n.command=Ge.DEL_NODE,n.hookKey="delNode",n.createHook=()=>new ft.m})(Bs||(Bs={}));let ts=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().delNode.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const{commandService:S,deleteNodeService:T,options:D}=C,B=yield i.getX6Graph();if(T&&!(yield T(C)))return{err:" service rejected"};const H=(C.x6Node||C.nodeConfig).id,ce=B.getCellById(H);if(ce&&ce.isNode()){const de=[...B.getIncomingEdges(ce)||[],...B.getOutgoingEdges(ce)||[]];yield Promise.all(de.map(xe=>S.executeCommand(Ae.DEL_EDGE.id,{x6Edge:xe})));const me=ce.getData();return ce.remove(Object.assign(Object.assign({},D),{isCommand:!0})),i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){yield S.executeCommand(Ge.ADD_NODE.id,{nodeConfig:me})}))),{err:null,nodeConfig:me}}return{err:"node is not exist"}}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()&&this.contextProvider().undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],ts.prototype,"contextProvider",void 0),ts=(0,g.gn)([(0,d.injectable)({token:{token:so,named:Bs.command.id}})],ts);var Cs;(function(n){n.command=Ge.SELECT_NODE,n.hookKey="selectNode"})(Cs||(Cs={}));let Ul=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().selectNode.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const C=yield this.ctx.getX6Graph(),S=C.getSelectedCells().map(H=>H.id),{nodeIds:T,resetSelection:D,commandService:B}=h;return D?C.resetSelection(T):C.select(T),this.ctx.addUndo({dispose:()=>{B.executeUndoCommand(Ge.SELECT_NODE.id,{nodeIds:S,resetSelection:!0})}}),{}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],Ul.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],Ul.prototype,"init",null),Ul=(0,g.gn)([(0,d.injectable)({token:{token:so,named:Cs.command.id}})],Ul);var Lc;(function(n){n.command=Ge.MOVE_NODE,n.hookKey="moveNode",n.createHook=()=>new ft.m})(Lc||(Lc={}));let rl=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().moveNode.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const{nodePositionService:S}=C;if(S&&!(yield S(C)))return{err:"service rejected"};const{dx:T=0,dy:D=0,x:B,y:H,duration:ce=150}=C.position,me=(yield i.getX6Graph()).getCellById(C.id);if(me){let xe=B,Se=H;const{x:We,y:nt}=me.position();let Gt=()=>{me.position(We,nt,{silent:!1})};return T||D?(xe=T+We,Se=D+nt,me.translate(T,D,{transition:{duration:ce}}),Gt=()=>me.translate(-T,-D,{transition:{duration:ce}})):me.position(xe,Se,{silent:!1}),i.addUndo(K.create(()=>{Gt()})),{err:null,nextX:xe,nextY:Se}}}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],rl.prototype,"contextProvider",void 0),rl=(0,g.gn)([(0,d.injectable)({token:{token:so,named:Lc.command.id}})],rl);var Du=l(51584),Vc=l.n(Du),dc;(function(n){n.command=Ge.UPDATE_NODE,n.hookKey="updateNode",n.XFlowNodeSetOptions={overwrite:!0},n.NODE_WIDTH=200,n.NODE_HEIGHT=40})(dc||(dc={}));let ul=class{constructor(){this.setNodeConfig=(i,o,s)=>{i.setData(o,s),i.setPosition((o==null?void 0:o.x)||0,(o==null?void 0:o.y)||0),i.setSize((o==null?void 0:o.width)||dc.NODE_WIDTH,(o==null?void 0:o.height)||dc.NODE_HEIGHT),i.angle((o==null?void 0:o.angle)||0,{absolute:!0}),Vc()(o==null?void 0:o.visible)&&i.setVisible(o==null?void 0:o.visible),!(i instanceof Yl.ep)&&i.getAttrByPath("text/text")&&i.setAttrByPath("text/text",o.label),o.attrs&&i.setAttrs(o.attrs),Array.isArray(o.ports)&&i.setPropByPath("ports/items",o.ports,Object.assign({rewrite:!0},s))},this.getNodeConfig=i=>{const o=i.getData(),s=i.getPosition(),f=i.getSize();return Object.assign(Object.assign(Object.assign({},o),s),f)},this.getNodeCell=(i,o)=>{const{nodeConfig:s,setNodeConfig:f}=o;let h="";if(f&&f.node&&typeof f.node=="string"?h=f.node:s&&s.id&&typeof s.id=="string"&&(h=s.id),h)return i==null?void 0:i.getCellById(h);if(f&&f.node instanceof k.NB)return f.node},this.getNextNodeConfig=(i,o)=>(0,g.mG)(this,void 0,void 0,function*(){if(i&&i.setNodeConfig&&i.setNodeConfig.callback){const s=this.getNodeConfig(o);return i.setNodeConfig.callback(s)}return i.nodeConfig}),this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().updateNode.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const{options:C=dc.XFlowNodeSetOptions}=h,S=yield this.ctx.getX6Graph(),T=this.getNodeCell(S,h),D=yield this.getNextNodeConfig(h,T);return this.setNodeConfig(T,D,C),{nodeConfig:D,nodeCell:T}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],ul.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],ul.prototype,"init",null),ul=(0,g.gn)([(0,d.injectable)({token:{token:so,named:dc.command.id}})],ul);var yt;(function(n){n.command=Ge.CENTER_NODE,n.hookKey="centerNode"})(yt||(yt={}));let Ga=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().centerNode.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const C=yield this.ctx.getX6Graph(),{nodeConfig:S}=h,T=C==null?void 0:C.getCellById(S==null?void 0:S.id);return C==null||C.centerCell(T),{x6Node:T}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],Ga.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],Ga.prototype,"init",null),Ga=(0,g.gn)([(0,d.injectable)({token:{token:so,named:yt.command.id}})],Ga);var fl;(function(n){n.command=Ge.FRONT_NODE,n.hookKey="frontNode"})(fl||(fl={}));let ps=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().frontNode.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const S=yield this.ctx.getX6Graph(),{nodeId:T}=C,D=S==null?void 0:S.getCellById(T);return D?(D.toFront(),i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){C.commandService.executeCommand(Ge.BACK_NODE.id,{nodeId:T})})))):console.error(T,"this nodeId is not exist"),{}}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],ps.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],ps.prototype,"init",null),ps=(0,g.gn)([(0,d.injectable)({token:{token:so,named:fl.command.id}})],ps);var fs;(function(n){n.command=Ge.BACK_NODE,n.hookKey="backNode"})(fs||(fs={}));let Nu=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().backNode.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const C=yield this.ctx.getX6Graph(),{nodeId:S}=h,T=C==null?void 0:C.getCellById(S);return T?(T.toBack(),this.ctx.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){h.commandService.executeCommand(Ge.FRONT_NODE.id,{nodeId:S})})))):console.error(S,"this nodeId is not exist"),{}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],Nu.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],Nu.prototype,"init",null),Nu=(0,g.gn)([(0,d.injectable)({token:{token:so,named:fs.command.id}})],Nu);var qu;(function(n){n.command=Ge.HIGHLIGHT_NODE,n.hookKey="highlightNode"})(qu||(qu={}));let jc=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().highlightNode.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const C=yield this.ctx.getX6Graph(),{nodeId:S,stroke:T,strokeWidth:D}=h,B=C==null?void 0:C.getCellById(S);if(B){if(B==null||B.setAttrs({body:{stroke:T||"#7c68fc",strokeWidth:D||2}}),h!=null&&h.isHighlightRelatedLines){const{edgeStroke:H,edgeStrokeWidth:ce}=h;(C==null?void 0:C.getEdges()).forEach(me=>{const xe=me==null?void 0:me.getData();h==null||h.commandService.executeCommand(Ae.HIGHLIGHT_EDGE.id,{edgeId:xe==null?void 0:xe.id,strokeColor:H,strokeWidth:ce})})}}else return console.error(S,"this nodeId is not exist"),{err:"this nodeId is not exist"};return{err:null}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],jc.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],jc.prototype,"init",null),jc=(0,g.gn)([(0,d.injectable)({token:{token:so,named:qu.command.id}})],jc);var lc;(function(n){n.command=Ge.UPDATE_NODE_PORT,n.hookKey="updateNodePort"})(lc||(lc={}));let af=class{constructor(){this.getCell=(i,o)=>typeof o=="string"?i.getCellById(o):o,this.getNodeConfig=i=>{const o=i.getData(),s=i.getPosition(),f=i.getSize();return Object.assign(Object.assign(Object.assign({},o),s),f)},this.updatePortsOfNodeConfig=(i,o,s)=>{const f=this.getNodeConfig(i);this.isNodeAnchors(f.ports)&&(f.ports=[...o]),this.isPortMetaData(f.ports)&&(f.ports.items=[...o]),i.setData(f,s)},this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),f=i.getHooks(),h=yield i.getX6Graph(),C=yield f.updateNodePort.call(o,S=>(0,g.mG)(this,void 0,void 0,function*(){const{node:T,updatePorts:D,options:B,commandService:H}=S,ce=this.getCell(h,T);if(!ce||ce.isEdge())return console.error("node_is _not_exsit",T),{err:"node_is _not_exsit"};const de=ce.getPorts(),me=yield D([...de],ce,h);return me===!1?{err:"service rejected"}:(ce.setPropByPath("ports/items",me,Object.assign({rewrite:!0},B)),this.updatePortsOfNodeConfig(ce,me,B),i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){H.executeCommand(Ge.UPDATE_NODE_PORT.id,{node:T,updatePorts:()=>(0,g.mG)(this,void 0,void 0,function*(){return de})})}))),{ports:me})}),s);return i.setResult(C),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isNodeAnchors(i){return Array.isArray(i)}isPortMetaData(i){return i.items&&Array.isArray(i.items)}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],af.prototype,"contextProvider",void 0),af=(0,g.gn)([(0,d.injectable)({token:{token:so,named:lc.command.id}})],af);const Af=n=>{n(ta),n(ts),n(Ul),n(rl),n(ul),n(Ga),n(ps),n(Nu),n(jc),n(af)},ju=[Ia,Bs,Cs,Lc,dc,yt,fl,fs,qu,lc];var il;(function(n){n.command=be.LOAD_META,n.hookKey="graphMeta"})(il||(il={}));let Ws=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().graphMeta.call(i,S=>(0,g.mG)(this,void 0,void 0,function*(){const{graphMetaService:T}=S,D=T?yield T(S):Object.assign({},S==null?void 0:S.meta);return Object.assign({flowId:D==null?void 0:D.flowId},D)}),o),h=this.ctx.getModelService();return(yield Ca.GRAPH_META.getModel(h)).setValue(f),this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],Ws.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],Ws.prototype,"init",null),Ws=(0,g.gn)([(0,d.injectable)({token:{token:so,named:il.command.id}})],Ws);var Ya;(function(n){n.command=be.SAVE_GRAPH_DATA,n.hookKey="saveGraphData"})(Ya||(Ya={}));let Vl=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.ctx,o=i.getArgs();return yield i.getHooks().saveGraphData.call(o.args,f=>(0,g.mG)(this,void 0,void 0,function*(){const{saveGraphDataService:h,includeAttrs:C}=f,S=yield i.getX6Graph(),T=S.getNodes(),D=S.getEdges(),B=T.map(me=>{const xe=me.getData(),Se=me.position(),We=me.size(),nt=Object.assign(Object.assign(Object.assign({id:me.id},xe),Se),We);return C&&(nt.attrs=me.getAttrs()),nt}),H=D.map(me=>{const xe=me.getData(),Se=Object.assign({id:me.id},xe);return C&&(Se.attrs=me.getAttrs()),Se}),ce={nodes:B,edges:H},de=yield this.ctx.getGraphMeta();if(h){const me=yield h(de,ce);me&&this.ctx.setResult(me)}return{}}),o.hooks),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],Vl.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],Vl.prototype,"init",null),Vl=(0,g.gn)([(0,d.injectable)({token:{token:so,named:Ya.command.id}})],Vl);var ds;(function(n){n.command=be.LOAD_DATA,n.hookKey="loadData",n.createHook=()=>new ft.m})(ds||(ds={}));let Za=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().loadData.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const{loadDataService:C}=h,S=yield this.ctx.getGraphMeta();return{graphData:yield C(S)}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],Za.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],Za.prototype,"init",null),Za=(0,g.gn)([(0,d.injectable)({token:{token:so,named:ds.command.id}})],Za);const xl=n=>typeof n=="string",yu=n=>{const i=Object.create(null);return o=>i[o]||(i[o]=n(o))},ef=/-(\w)/g,iu=yu(n=>n.replace(ef,(i,o)=>o?o.toUpperCase():"")),Xl=Array.isArray,Xo=n=>typeof n=="number",$u=n=>Number.isNaN(Number(n)),Uf=n=>{const i=parseFloat(n);return $u(i)?n:i},Tc=n=>n!==null&&typeof n=="object",fo=n=>{if(n===null)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof Array){const i=[];return n.forEach(o=>{i.push(o)}),i.map(o=>fo(o))}if(typeof n=="object"&&n!=={}){const i=Object.assign({},n);return Object.keys(i).forEach(o=>{i[o]=fo(i[o])}),i}return n},Hs=(n,i)=>{const o=n[i];return Tc(o)?o.cell:o},tu=(n,i,o)=>{const s=[];for(let f=0;f<n;f++)s[f]=0;return o&&o.forEach(f=>{const h=Hs(f,"source"),C=Hs(f,"target");h&&(s[i[h]]+=1),C&&(s[i[C]]+=1)}),s},sf=n=>{const i=[],o=n.length;for(let s=0;s<o;s+=1){i[s]=[];for(let f=0;f<o;f+=1)s===f?i[s][f]=0:n[s][f]===0||!n[s][f]?i[s][f]=1/0:i[s][f]=n[s][f]}for(let s=0;s<o;s+=1)for(let f=0;f<o;f+=1)for(let h=0;h<o;h+=1)i[f][h]>i[f][s]+i[s][h]&&(i[f][h]=i[f][s]+i[s][h]);return i},Xs=(n,i)=>{const{nodes:o,edges:s}=n,f=[],h={};if(!o)throw new Error("invalid nodes data!");return o&&o.forEach((C,S)=>{h[C.id]=S;const T=[];f.push(T)}),s&&s.forEach(C=>{const S=Hs(C,"source"),T=Hs(C,"target"),D=h[S],B=h[T];f[D][B]=1,i||(f[B][D]=1)}),f},mf=(n,i)=>{const o=[];return n.forEach(s=>{const f=[];s.forEach(h=>{f.push(h*i)}),o.push(f)}),o},Df=(n,i)=>{if(n&&n.children){for(let o=n.children.length-1;o>=0;o--)if(!Df(n.children[o],i))return}return!!i(n)},yf=(n,i)=>{typeof i=="function"&&Df(n,i)},Mu=n=>typeof n=="function",nu=new Map,eh=(n,i)=>{if(nu.get(n)&&console.warn(`The layout with the name ${n} exists already, it will be overridden`),isObject(i)){class o extends Base{constructor(f){super();const h=this,C={},S=h.getDefaultCfg();Object.assign(C,S,i,f),Object.keys(C).forEach(T=>{const D=C[T];h[T]=D})}}nu.set(n,o)}else nu.set(n,i);return nu.get(n)},Vf=n=>{nu.has(n)&&nu.delete(n)},bd=n=>nu.has(n)?nu.get(n):null;class ol{constructor(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=()=>{}}layout(i){return this.init(i),this.execute(!0)}init(i){this.nodes=i.nodes||[],this.edges=i.edges||[],this.combos=i.combos||[]}execute(i){}executeWithWorker(){}getDefaultCfg(){return{}}updateCfg(i){i&&Object.assign(this,i)}getType(){return"base"}destroy(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}class ou extends ol{constructor(i){super(),this.begin=[0,0],this.preventOverlap=!0,this.preventOverlapPadding=10,this.condense=!1,this.sortBy="degree",this.nodeSize=30,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.row=0,this.col=0,this.cellWidth=0,this.cellHeight=0,this.cellUsed={},this.id2manPos={},this.onLayoutEnd=()=>{},this.updateCfg(i)}getDefaultCfg(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}execute(){const i=this,o=i.nodes,s=i.edges,f=o.length,h=i.begin;if(f===0)return i.onLayoutEnd&&i.onLayoutEnd(),{nodes:o,edges:s};if(f===1)return o[0].x=h[0],o[0].y=h[1],i.onLayoutEnd&&i.onLayoutEnd(),{nodes:o,edges:s};const C=[];o.forEach(B=>{C.push(B)});const S={};if(C.forEach((B,H)=>{S[B.id]=H}),(i.sortBy==="degree"||!xl(i.sortBy)||C[0][i.sortBy]===void 0)&&(i.sortBy="degree",$u(o[0].degree))){const B=tu(C.length,S,s);C.forEach((H,ce)=>{H.degree=B[ce]})}C.sort((B,H)=>H[i.sortBy]-B[i.sortBy]),!i.width&&typeof window!="undefined"&&(i.width=window.innerWidth),!i.height&&typeof window!="undefined"&&(i.height=window.innerHeight);const T=i.rows,D=i.cols!=null?i.cols:i.columns;if(i.cells=f,T!=null&&D!=null?(i.rows=T,i.cols=D):T!=null&&D==null?(i.rows=T,i.cols=Math.ceil(i.cells/i.rows)):T==null&&D!=null?(i.cols=D,i.rows=Math.ceil(i.cells/i.cols)):(i.splits=Math.sqrt(i.cells*i.height/i.width),i.rows=Math.round(i.splits),i.cols=Math.round(i.width/i.height*i.splits)),i.cols*i.rows>i.cells){const B=i.small(),H=i.large();(B-1)*H>=i.cells?i.small(B-1):(H-1)*B>=i.cells&&i.large(H-1)}else for(;i.cols*i.rows<i.cells;){const B=i.small(),H=i.large();(H+1)*B>=i.cells?i.large(H+1):i.small(B+1)}i.cellWidth=i.width/i.cols,i.cellHeight=i.height/i.rows,i.condense&&(i.cellWidth=0,i.cellHeight=0),i.preventOverlap&&C.forEach(B=>{(!B.x||!B.y)&&(B.x=0,B.y=0);let H,ce;Xl(B.size)?(H=B.size[0],ce=B.size[1]):Xo(B.size)?(H=B.size,ce=B.size):Tc(B.size)&&(H=B.size.width,ce=B.size.height),(H===void 0||ce===void 0)&&(Xl(i.nodeSize)?(H=i.nodeSize[0],ce=i.nodeSize[1]):Xo(i.nodeSize)?(H=i.nodeSize,ce=i.nodeSize):(H=30,ce=30));const de=i.preventOverlapPadding,me=H+de,xe=ce+de;i.cellWidth=Math.max(i.cellWidth,me),i.cellHeight=Math.max(i.cellHeight,xe)}),i.cellUsed={},i.row=0,i.col=0,i.id2manPos={};for(let B=0;B<C.length;B++){const H=C[B];let ce;if(i.position&&(ce=i.position(H)),ce&&(ce.row!==void 0||ce.col!==void 0)){const de={row:ce.row,col:ce.col};if(de.col===void 0)for(de.col=0;i.used(de.row,de.col);)de.col++;else if(de.row===void 0)for(de.row=0;i.used(de.row,de.col);)de.row++;i.id2manPos[H.id]=de,i.use(de.row,de.col)}i.getPos(H)}return i.onLayoutEnd&&i.onLayoutEnd(),{edges:s,nodes:C}}small(i){const o=this;let s;const f=o.rows||5,h=o.cols||5;return i==null?s=Math.min(f,h):Math.min(f,h)===o.rows?o.rows=i:o.cols=i,s}large(i){const o=this;let s;const f=o.rows||5,h=o.cols||5;return i==null?s=Math.max(f,h):Math.max(f,h)===o.rows?o.rows=i:o.cols=i,s}used(i,o){return this.cellUsed[`c-${i}-${o}`]||!1}use(i,o){const s=this;s.cellUsed[`c-${i}-${o}`]=!0}moveToNextCell(){const i=this,o=i.cols||5;i.col++,i.col>=o&&(i.col=0,i.row++)}getPos(i){const o=this,s=o.begin,f=o.cellWidth,h=o.cellHeight;let C,S;const T=o.id2manPos[i.id];if(T)C=T.col*f+f/2+s[0],S=T.row*h+h/2+s[1];else{for(;o.used(o.row,o.col);)o.moveToNextCell();C=o.col*f+f/2+s[0],S=o.row*h+h/2+s[1],o.use(o.row,o.col),o.moveToNextCell()}i.x=C,i.y=S}getType(){return"grid"}}const Jl=(n,i)=>{let o;return n?Xo(n)?o=s=>n:o=n:o=s=>i||1,o};class Ru extends ol{constructor(i){super(),this.maxIteration=1e3,this.workerEnabled=!1,this.edgeStrength=200,this.nodeStrength=1e3,this.coulombDisScale=.005,this.damping=.9,this.maxSpeed=1e3,this.minMovement=.5,this.interval=.02,this.factor=1,this.linkDistance=1,this.gravity=10,this.preventOverlap=!0,this.tick=()=>{},this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(i)}getDefaultCfg(){return{maxIteration:500,gravity:10,enableTick:!0}}execute(){var i,o;const s=this,f=s.nodes;if(s.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(s.timeInterval),!f||f.length===0){(i=s.onLayoutEnd)===null||i===void 0||i.call(s);return}!s.width&&typeof window!="undefined"&&(s.width=window.innerWidth),!s.height&&typeof window!="undefined"&&(s.height=window.innerHeight),s.center||(s.center=[s.width/2,s.height/2]);const h=s.center;if(f.length===1){f[0].x=h[0],f[0].y=h[1],(o=s.onLayoutEnd)===null||o===void 0||o.call(s);return}const C={},S={};f.forEach((H,ce)=>{Xo(H.x)||(H.x=Math.random()*s.width),Xo(H.y)||(H.y=Math.random()*s.height),C[H.id]=H,S[H.id]=ce}),s.nodeMap=C,s.nodeIdxMap=S,s.linkDistance=Jl(s.linkDistance,1),s.nodeStrength=Jl(s.nodeStrength,1),s.edgeStrength=Jl(s.edgeStrength,1);const T=s.nodeSize;let D;if(s.preventOverlap){const H=s.nodeSpacing;let ce;Xo(H)?ce=()=>H:Mu(H)?ce=H:ce=()=>0,T?Xl(T)?D=de=>(T[0]>T[1]?T[0]:T[1])+ce(de):D=de=>T+ce(de):D=de=>de.size?Xl(de.size)?(de.size[0]>de.size[1]?de.size[0]:de.size[1])+ce(de):Tc(de.size)?(de.size.width>de.size.height?de.size.width:de.size.height)+ce(de):de.size+ce(de):10+ce(de)}s.nodeSize=D;const B=s.edges;s.degrees=tu(f.length,s.nodeIdxMap,B),s.getMass||(s.getMass=H=>s.degrees[s.nodeIdxMap[H.id]]||1),s.run()}run(){var i;const o=this,{maxIteration:s,nodes:f,workerEnabled:h,minMovement:C}=o;if(f)if(h){for(let S=0;S<s;S++){const T=o.runOneStep(S);if(o.reachMoveThreshold(f,T,C))break}(i=o.onLayoutEnd)===null||i===void 0||i.call(o)}else{if(typeof window=="undefined")return;let S=0;this.timeInterval=window.setInterval(()=>{var T,D;if(!f)return;const B=o.runOneStep(S)||[];o.reachMoveThreshold(f,B,C)&&((T=o.onLayoutEnd)===null||T===void 0||T.call(o),window.clearInterval(o.timeInterval)),S++,S>=s&&((D=o.onLayoutEnd)===null||D===void 0||D.call(o),window.clearInterval(o.timeInterval))},0)}}reachMoveThreshold(i,o,s){let f=0;return i.forEach((h,C)=>{const S=h.x-o[C].x,T=h.y-o[C].y;f+=Math.sqrt(S*S+T*T)}),f/=i.length,f<s}runOneStep(i){var o;const s=this,{nodes:f,edges:h}=s,C=[],S=[];if(!f)return;f.forEach((B,H)=>{C[2*H]=0,C[2*H+1]=0,S[2*H]=0,S[2*H+1]=0}),s.calRepulsive(C,f),h&&s.calAttractive(C,h),s.calGravity(C,f);const T=Math.max(.02,s.interval-i*.002);s.updateVelocity(C,S,T,f);const D=[];return f.forEach(B=>{D.push({x:B.x,y:B.y})}),s.updatePosition(S,T,f),(o=s.tick)===null||o===void 0||o.call(s),D}calRepulsive(i,o){const s=this,f=s.getMass,h=s.nodeStrength,C=s.factor,S=s.coulombDisScale,T=s.preventOverlap,D=s.nodeSize;o.forEach((B,H)=>{const ce=f?f(B):1;o.forEach((de,me)=>{if(H>=me)return;const xe=B.x-de.x,Se=B.y-de.y,We=Math.sqrt(xe*xe+Se*Se)+.01,nt=(We+.1)*S,Gt=xe/We,wn=Se/We,Pn=(h(B)+h(de))/2*C/(nt*nt),Tr=f?f(de):1;if(i[2*H]+=Gt*Pn,i[2*H+1]+=wn*Pn,i[2*me]-=Gt*Pn,i[2*me+1]-=wn*Pn,T&&We<(D(B)+D(de))/2){const xi=(h(B)+h(de))/2/(We*We);i[2*H]+=Gt*xi/ce,i[2*H+1]+=wn*xi/ce,i[2*me]-=Gt*xi/Tr,i[2*me+1]-=wn*xi/Tr}})})}calAttractive(i,o){const s=this,f=s.nodeMap,h=s.nodeIdxMap,C=s.linkDistance,S=s.edgeStrength,T=s.getMass;o.forEach((D,B)=>{const H=Hs(D,"source"),ce=Hs(D,"target"),de=f[H],me=f[ce],xe=me.x-de.x,Se=me.y-de.y,We=Math.sqrt(xe*xe+Se*Se)+.01,nt=xe/We,Gt=Se/We,Tr=((C(D)||1)-We)*S(D),xi=h[H],yi=h[ce],Uo=T?T(de):1,wi=T?T(me):1;i[2*xi]-=nt*Tr/Uo,i[2*xi+1]-=Gt*Tr/Uo,i[2*yi]+=nt*Tr/wi,i[2*yi+1]+=Gt*Tr/wi})}calGravity(i,o){const s=this,f=s.center,h=s.gravity,C=s.degrees,S=o.length;for(let T=0;T<S;T++){const D=o[T];let B=D.x-f[0],H=D.y-f[1],ce=h;if(s.getCenter){const de=s.getCenter(D,C[T]);de&&Xo(de[0])&&Xo(de[1])&&Xo(de[2])&&(B=D.x-de[0],H=D.y-de[1],ce=de[2])}ce&&(i[2*T]-=ce*B,i[2*T+1]-=ce*H)}}updateVelocity(i,o,s,f){const h=this,C=s*h.damping;f.forEach((S,T)=>{let D=i[2*T]*C||.01,B=i[2*T+1]*C||.01;const H=Math.sqrt(D*D+B*B);if(H>h.maxSpeed){const ce=h.maxSpeed/H;D=ce*D,B=ce*B}o[2*T]=D,o[2*T+1]=B})}updatePosition(i,o,s){s.forEach((f,h)=>{if(Xo(f.fx)&&Xo(f.fy)){f.x=f.fx,f.y=f.fy;return}const C=i[2*h]*o,S=i[2*h+1]*o;f.x+=C,f.y+=S})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}destroy(){const i=this;i.stop(),i.tick=null,i.nodes=null,i.edges=null,i.destroyed=!0}getType(){return"gForce"}}function ad(n){const i=+this._x.call(null,n),o=+this._y.call(null,n);return hc(this.cover(i,o),i,o,n)}function hc(n,i,o,s){if(isNaN(i)||isNaN(o))return n;var f,h=n._root,C={data:s},S=n._x0,T=n._y0,D=n._x1,B=n._y1,H,ce,de,me,xe,Se,We,nt;if(!h)return n._root=C,n;for(;h.length;)if((xe=i>=(H=(S+D)/2))?S=H:D=H,(Se=o>=(ce=(T+B)/2))?T=ce:B=ce,f=h,!(h=h[We=Se<<1|xe]))return f[We]=C,n;if(de=+n._x.call(null,h.data),me=+n._y.call(null,h.data),i===de&&o===me)return C.next=h,f?f[We]=C:n._root=C,n;do f=f?f[We]=new Array(4):n._root=new Array(4),(xe=i>=(H=(S+D)/2))?S=H:D=H,(Se=o>=(ce=(T+B)/2))?T=ce:B=ce;while((We=Se<<1|xe)===(nt=(me>=ce)<<1|de>=H));return f[nt]=h,f[We]=C,n}function Iu(n){var i,o,s=n.length,f,h,C=new Array(s),S=new Array(s),T=1/0,D=1/0,B=-1/0,H=-1/0;for(o=0;o<s;++o)isNaN(f=+this._x.call(null,i=n[o]))||isNaN(h=+this._y.call(null,i))||(C[o]=f,S[o]=h,f<T&&(T=f),f>B&&(B=f),h<D&&(D=h),h>H&&(H=h));if(T>B||D>H)return this;for(this.cover(T,D).cover(B,H),o=0;o<s;++o)hc(this,C[o],S[o],n[o]);return this}function ku(n,i){if(isNaN(n=+n)||isNaN(i=+i))return this;var o=this._x0,s=this._y0,f=this._x1,h=this._y1;if(isNaN(o))f=(o=Math.floor(n))+1,h=(s=Math.floor(i))+1;else{for(var C=f-o||1,S=this._root,T,D;o>n||n>=f||s>i||i>=h;)switch(D=(i<s)<<1|n<o,T=new Array(4),T[D]=S,S=T,C*=2,D){case 0:f=o+C,h=s+C;break;case 1:o=f-C,h=s+C;break;case 2:f=o+C,s=h-C;break;case 3:o=f-C,s=h-C;break}this._root&&this._root.length&&(this._root=S)}return this._x0=o,this._y0=s,this._x1=f,this._y1=h,this}function Fc(){var n=[];return this.visit(function(i){if(!i.length)do n.push(i.data);while(i=i.next)}),n}function Cd(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function _l(n,i,o,s,f){this.node=n,this.x0=i,this.y0=o,this.x1=s,this.y1=f}function Nf(n,i,o){var s,f=this._x0,h=this._y0,C,S,T,D,B=this._x1,H=this._y1,ce=[],de=this._root,me,xe;for(de&&ce.push(new _l(de,f,h,B,H)),o==null?o=1/0:(f=n-o,h=i-o,B=n+o,H=i+o,o*=o);me=ce.pop();)if(!(!(de=me.node)||(C=me.x0)>B||(S=me.y0)>H||(T=me.x1)<f||(D=me.y1)<h))if(de.length){var Se=(C+T)/2,We=(S+D)/2;ce.push(new _l(de[3],Se,We,T,D),new _l(de[2],C,We,Se,D),new _l(de[1],Se,S,T,We),new _l(de[0],C,S,Se,We)),(xe=(i>=We)<<1|n>=Se)&&(me=ce[ce.length-1],ce[ce.length-1]=ce[ce.length-1-xe],ce[ce.length-1-xe]=me)}else{var nt=n-+this._x.call(null,de.data),Gt=i-+this._y.call(null,de.data),wn=nt*nt+Gt*Gt;if(wn<o){var Pn=Math.sqrt(o=wn);f=n-Pn,h=i-Pn,B=n+Pn,H=i+Pn,s=de.data}}return s}function lf(n){if(isNaN(B=+this._x.call(null,n))||isNaN(H=+this._y.call(null,n)))return this;var i,o=this._root,s,f,h,C=this._x0,S=this._y0,T=this._x1,D=this._y1,B,H,ce,de,me,xe,Se,We;if(!o)return this;if(o.length)for(;;){if((me=B>=(ce=(C+T)/2))?C=ce:T=ce,(xe=H>=(de=(S+D)/2))?S=de:D=de,i=o,!(o=o[Se=xe<<1|me]))return this;if(!o.length)break;(i[Se+1&3]||i[Se+2&3]||i[Se+3&3])&&(s=i,We=Se)}for(;o.data!==n;)if(f=o,!(o=o.next))return this;return(h=o.next)&&delete o.next,f?(h?f.next=h:delete f.next,this):i?(h?i[Se]=h:delete i[Se],(o=i[0]||i[1]||i[2]||i[3])&&o===(i[3]||i[2]||i[1]||i[0])&&!o.length&&(s?s[We]=o:this._root=o),this):(this._root=h,this)}function $c(n){for(var i=0,o=n.length;i<o;++i)this.remove(n[i]);return this}function sd(){return this._root}function Lu(){var n=0;return this.visit(function(i){if(!i.length)do++n;while(i=i.next)}),n}function tf(n){var i=[],o,s=this._root,f,h,C,S,T;for(s&&i.push(new _l(s,this._x0,this._y0,this._x1,this._y1));o=i.pop();)if(!n(s=o.node,h=o.x0,C=o.y0,S=o.x1,T=o.y1)&&s.length){var D=(h+S)/2,B=(C+T)/2;(f=s[3])&&i.push(new _l(f,D,B,S,T)),(f=s[2])&&i.push(new _l(f,h,B,D,T)),(f=s[1])&&i.push(new _l(f,D,C,S,B)),(f=s[0])&&i.push(new _l(f,h,C,D,B))}return this}function ld(n){var i=[],o=[],s;for(this._root&&i.push(new _l(this._root,this._x0,this._y0,this._x1,this._y1));s=i.pop();){var f=s.node;if(f.length){var h,C=s.x0,S=s.y0,T=s.x1,D=s.y1,B=(C+T)/2,H=(S+D)/2;(h=f[0])&&i.push(new _l(h,C,S,B,H)),(h=f[1])&&i.push(new _l(h,B,S,T,H)),(h=f[2])&&i.push(new _l(h,C,H,B,D)),(h=f[3])&&i.push(new _l(h,B,H,T,D))}o.push(s)}for(;s=o.pop();)n(s.node,s.x0,s.y0,s.x1,s.y1);return this}function cf(n){return n[0]}function Gc(n){return arguments.length?(this._x=n,this):this._x}function bf(n){return n[1]}function qf(n){return arguments.length?(this._y=n,this):this._y}function au(n,i,o){var s=new su(i==null?cf:i,o==null?bf:o,NaN,NaN,NaN,NaN);return n==null?s:s.addAll(n)}function su(n,i,o,s,f,h){this._x=n,this._y=i,this._x0=o,this._y0=s,this._x1=f,this._y1=h,this._root=void 0}function Cf(n){for(var i={data:n.data},o=i;n=n.next;)o=o.next={data:n.data};return i}var rc=au.prototype=su.prototype;rc.copy=function(){var n=new su(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root,o,s;if(!i)return n;if(!i.length)return n._root=Cf(i),n;for(o=[{source:i,target:n._root=new Array(4)}];i=o.pop();)for(var f=0;f<4;++f)(s=i.source[f])&&(s.length?o.push({source:s,target:i.target[f]=new Array(4)}):i.target[f]=Cf(s));return n},rc.add=ad,rc.addAll=Iu,rc.cover=ku,rc.data=Fc,rc.extent=Cd,rc.find=Nf,rc.remove=lf,rc.removeAll=$c,rc.root=sd,rc.size=Lu,rc.visit=tf,rc.visitAfter=ld,rc.x=Gc,rc.y=qf;function pc(n){return function(){return n}}function Ql(n){return(n()-.5)*1e-6}var ed={value:function(){}};function Rf(){for(var n=0,i=arguments.length,o={},s;n<i;++n){if(!(s=arguments[n]+"")||s in o||/[\s.]/.test(s))throw new Error("illegal type: "+s);o[s]=[]}return new xf(o)}function xf(n){this._=n}function xd(n,i){return n.trim().split(/^|\s+/).map(function(o){var s="",f=o.indexOf(".");if(f>=0&&(s=o.slice(f+1),o=o.slice(0,f)),o&&!i.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:s}})}xf.prototype=Rf.prototype={constructor:xf,on:function(i,o){var s=this._,f=xd(i+"",s),h,C=-1,S=f.length;if(arguments.length<2){for(;++C<S;)if((h=(i=f[C]).type)&&(h=lu(s[h],i.name)))return h;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++C<S;)if(h=(i=f[C]).type)s[h]=Wu(s[h],i.name,o);else if(o==null)for(h in s)s[h]=Wu(s[h],i.name,null);return this},copy:function(){var i={},o=this._;for(var s in o)i[s]=o[s].slice();return new xf(i)},call:function(i,o){if((h=arguments.length-2)>0)for(var s=new Array(h),f=0,h,C;f<h;++f)s[f]=arguments[f+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(C=this._[i],f=0,h=C.length;f<h;++f)C[f].value.apply(o,s)},apply:function(i,o,s){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var f=this._[i],h=0,C=f.length;h<C;++h)f[h].value.apply(o,s)}};function lu(n,i){for(var o=0,s=n.length,f;o<s;++o)if((f=n[o]).name===i)return f.value}function Wu(n,i,o){for(var s=0,f=n.length;s<f;++s)if(n[s].name===i){n[s]=ed,n=n.slice(0,s).concat(n.slice(s+1));break}return o!=null&&n.push({name:i,value:o}),n}var Ef=Rf,Ee=0,Le=0,at=0,ct=1e3,dt,mt,St=0,Nt=0,O=0,V=typeof performance=="object"&&performance.now?performance:Date,ae=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function we(){return Nt||(ae(qe),Nt=V.now()+O)}function qe(){Nt=0}function Rt(){this._call=this._time=this._next=null}Rt.prototype=In.prototype={constructor:Rt,restart:function(n,i,o){if(typeof n!="function")throw new TypeError("callback is not a function");o=(o==null?we():+o)+(i==null?0:+i),!this._next&&mt!==this&&(mt?mt._next=this:dt=this,mt=this),this._call=n,this._time=o,ga()},stop:function(){this._call&&(this._call=null,this._time=1/0,ga())}};function In(n,i,o){var s=new Rt;return s.restart(n,i,o),s}function Wr(){we(),++Ee;for(var n=dt,i;n;)(i=Nt-n._time)>=0&&n._call.call(null,i),n=n._next;--Ee}function _i(){Nt=(St=V.now())+O,Ee=Le=0;try{Wr()}finally{Ee=0,Ho(),Nt=0}}function So(){var n=V.now(),i=n-St;i>ct&&(O-=i,St=n)}function Ho(){for(var n,i=dt,o,s=1/0;i;)i._call?(s>i._time&&(s=i._time),n=i,i=i._next):(o=i._next,i._next=null,i=n?n._next=o:dt=o);mt=n,ga(s)}function ga(n){if(!Ee){Le&&(Le=clearTimeout(Le));var i=n-Nt;i>24?(n<1/0&&(Le=setTimeout(_i,n-V.now()-O)),at&&(at=clearInterval(at))):(at||(St=V.now(),at=setInterval(So,ct)),Ee=1,ae(_i))}}var ns=1664525,xs=1013904223,el=4294967296;function ja(){var n=1;return function(){return(n=(ns*n+xs)%el)/el}}function Vs(n){return n.x}function dl(n){return n.y}var al=10,Oc=Math.PI*(3-Math.sqrt(5));function $a(n){var i,o=1,s=.001,f=1-Math.pow(s,1/300),h=0,C=.6,S=new Map,T=In(H),D=Ef("tick","end"),B=ja();n==null&&(n=[]);function H(){ce(),D.call("tick",i),o<s&&(T.stop(),D.call("end",i))}function ce(xe){var Se,We=n.length,nt;xe===void 0&&(xe=1);for(var Gt=0;Gt<xe;++Gt)for(o+=(h-o)*f,S.forEach(function(wn){wn(o)}),Se=0;Se<We;++Se)nt=n[Se],nt.fx==null?nt.x+=nt.vx*=C:(nt.x=nt.fx,nt.vx=0),nt.fy==null?nt.y+=nt.vy*=C:(nt.y=nt.fy,nt.vy=0);return i}function de(){for(var xe=0,Se=n.length,We;xe<Se;++xe){if(We=n[xe],We.index=xe,We.fx!=null&&(We.x=We.fx),We.fy!=null&&(We.y=We.fy),isNaN(We.x)||isNaN(We.y)){var nt=al*Math.sqrt(.5+xe),Gt=xe*Oc;We.x=nt*Math.cos(Gt),We.y=nt*Math.sin(Gt)}(isNaN(We.vx)||isNaN(We.vy))&&(We.vx=We.vy=0)}}function me(xe){return xe.initialize&&xe.initialize(n,B),xe}return de(),i={tick:ce,restart:function(){return T.restart(H),i},stop:function(){return T.stop(),i},nodes:function(Se){return arguments.length?(n=Se,de(),S.forEach(me),i):n},alpha:function(Se){return arguments.length?(o=+Se,i):o},alphaMin:function(Se){return arguments.length?(s=+Se,i):s},alphaDecay:function(Se){return arguments.length?(f=+Se,i):+f},alphaTarget:function(Se){return arguments.length?(h=+Se,i):h},velocityDecay:function(Se){return arguments.length?(C=1-Se,i):1-C},randomSource:function(Se){return arguments.length?(B=Se,S.forEach(me),i):B},force:function(Se,We){return arguments.length>1?(We==null?S.delete(Se):S.set(Se,me(We)),i):S.get(Se)},find:function(Se,We,nt){var Gt=0,wn=n.length,Pn,Tr,xi,yi,Uo;for(nt==null?nt=1/0:nt*=nt,Gt=0;Gt<wn;++Gt)yi=n[Gt],Pn=Se-yi.x,Tr=We-yi.y,xi=Pn*Pn+Tr*Tr,xi<nt&&(Uo=yi,nt=xi);return Uo},on:function(Se,We){return arguments.length>1?(D.on(Se,We),i):D.on(Se)}}}function Ao(){var n,i,o,s,f=pc(-30),h,C=1,S=1/0,T=.81;function D(de){var me,xe=n.length,Se=au(n,Vs,dl).visitAfter(H);for(s=de,me=0;me<xe;++me)i=n[me],Se.visit(ce)}function B(){if(n){var de,me=n.length,xe;for(h=new Array(me),de=0;de<me;++de)xe=n[de],h[xe.index]=+f(xe,de,n)}}function H(de){var me=0,xe,Se,We=0,nt,Gt,wn;if(de.length){for(nt=Gt=wn=0;wn<4;++wn)(xe=de[wn])&&(Se=Math.abs(xe.value))&&(me+=xe.value,We+=Se,nt+=Se*xe.x,Gt+=Se*xe.y);de.x=nt/We,de.y=Gt/We}else{xe=de,xe.x=xe.data.x,xe.y=xe.data.y;do me+=h[xe.data.index];while(xe=xe.next)}de.value=me}function ce(de,me,xe,Se){if(!de.value)return!0;var We=de.x-i.x,nt=de.y-i.y,Gt=Se-me,wn=We*We+nt*nt;if(Gt*Gt/T<wn)return wn<S&&(We===0&&(We=Ql(o),wn+=We*We),nt===0&&(nt=Ql(o),wn+=nt*nt),wn<C&&(wn=Math.sqrt(C*wn)),i.vx+=We*de.value*s/wn,i.vy+=nt*de.value*s/wn),!0;if(de.length||wn>=S)return;(de.data!==i||de.next)&&(We===0&&(We=Ql(o),wn+=We*We),nt===0&&(nt=Ql(o),wn+=nt*nt),wn<C&&(wn=Math.sqrt(C*wn)));do de.data!==i&&(Gt=h[de.data.index]*s/wn,i.vx+=We*Gt,i.vy+=nt*Gt);while(de=de.next)}return D.initialize=function(de,me){n=de,o=me,B()},D.strength=function(de){return arguments.length?(f=typeof de=="function"?de:pc(+de),B(),D):f},D.distanceMin=function(de){return arguments.length?(C=de*de,D):Math.sqrt(C)},D.distanceMax=function(de){return arguments.length?(S=de*de,D):Math.sqrt(S)},D.theta=function(de){return arguments.length?(T=de*de,D):Math.sqrt(T)},D}function eo(n,i){var o,s=1;n==null&&(n=0),i==null&&(i=0);function f(){var h,C=o.length,S,T=0,D=0;for(h=0;h<C;++h)S=o[h],T+=S.x,D+=S.y;for(T=(T/C-n)*s,D=(D/C-i)*s,h=0;h<C;++h)S=o[h],S.x-=T,S.y-=D}return f.initialize=function(h){o=h},f.x=function(h){return arguments.length?(n=+h,f):n},f.y=function(h){return arguments.length?(i=+h,f):i},f.strength=function(h){return arguments.length?(s=+h,f):s},f}function As(n){return n.index}function ic(n,i){var o=n.get(i);if(!o)throw new Error("node not found: "+i);return o}function _c(n){var i=As,o=H,s,f=pc(30),h,C,S,T,D,B=1;n==null&&(n=[]);function H(Se){return 1/Math.min(S[Se.source.index],S[Se.target.index])}function ce(Se){for(var We=0,nt=n.length;We<B;++We)for(var Gt=0,wn,Pn,Tr,xi,yi,Uo,wi;Gt<nt;++Gt)wn=n[Gt],Pn=wn.source,Tr=wn.target,xi=Tr.x+Tr.vx-Pn.x-Pn.vx||Ql(D),yi=Tr.y+Tr.vy-Pn.y-Pn.vy||Ql(D),Uo=Math.sqrt(xi*xi+yi*yi),Uo=(Uo-h[Gt])/Uo*Se*s[Gt],xi*=Uo,yi*=Uo,Tr.vx-=xi*(wi=T[Gt]),Tr.vy-=yi*wi,Pn.vx+=xi*(wi=1-wi),Pn.vy+=yi*wi}function de(){if(C){var Se,We=C.length,nt=n.length,Gt=new Map(C.map(function(Pn,Tr){return[i(Pn,Tr,C),Pn]})),wn;for(Se=0,S=new Array(We);Se<nt;++Se)wn=n[Se],wn.index=Se,et()(wn.source)!=="object"&&(wn.source=ic(Gt,wn.source)),et()(wn.target)!=="object"&&(wn.target=ic(Gt,wn.target)),S[wn.source.index]=(S[wn.source.index]||0)+1,S[wn.target.index]=(S[wn.target.index]||0)+1;for(Se=0,T=new Array(nt);Se<nt;++Se)wn=n[Se],T[Se]=S[wn.source.index]/(S[wn.source.index]+S[wn.target.index]);s=new Array(nt),me(),h=new Array(nt),xe()}}function me(){if(C)for(var Se=0,We=n.length;Se<We;++Se)s[Se]=+o(n[Se],Se,n)}function xe(){if(C)for(var Se=0,We=n.length;Se<We;++Se)h[Se]=+f(n[Se],Se,n)}return ce.initialize=function(Se,We){C=Se,D=We,de()},ce.links=function(Se){return arguments.length?(n=Se,de(),ce):n},ce.id=function(Se){return arguments.length?(i=Se,ce):i},ce.iterations=function(Se){return arguments.length?(B=+Se,ce):B},ce.strength=function(Se){return arguments.length?(o=typeof Se=="function"?Se:pc(+Se),me(),ce):o},ce.distance=function(Se){return arguments.length?(f=typeof Se=="function"?Se:pc(+Se),xe(),ce):f},ce}function Ac(n){return n.x+n.vx}function cc(n){return n.y+n.vy}function Pu(n){var i,o,s,f=1,h=1;typeof n!="function"&&(n=pc(n==null?1:+n));function C(){for(var D,B=i.length,H,ce,de,me,xe,Se,We=0;We<h;++We)for(H=au(i,Ac,cc).visitAfter(S),D=0;D<B;++D)ce=i[D],xe=o[ce.index],Se=xe*xe,de=ce.x+ce.vx,me=ce.y+ce.vy,H.visit(nt);function nt(Gt,wn,Pn,Tr,xi){var yi=Gt.data,Uo=Gt.r,wi=xe+Uo;if(yi){if(yi.index>ce.index){var lo=de-yi.x-yi.vx,Gi=me-yi.y-yi.vy,ca=lo*lo+Gi*Gi;ca<wi*wi&&(lo===0&&(lo=Ql(s),ca+=lo*lo),Gi===0&&(Gi=Ql(s),ca+=Gi*Gi),ca=(wi-(ca=Math.sqrt(ca)))/ca*f,ce.vx+=(lo*=ca)*(wi=(Uo*=Uo)/(Se+Uo)),ce.vy+=(Gi*=ca)*wi,yi.vx-=lo*(wi=1-wi),yi.vy-=Gi*wi)}return}return wn>de+wi||Tr<de-wi||Pn>me+wi||xi<me-wi}}function S(D){if(D.data)return D.r=o[D.data.index];for(var B=D.r=0;B<4;++B)D[B]&&D[B].r>D.r&&(D.r=D[B].r)}function T(){if(i){var D,B=i.length,H;for(o=new Array(B),D=0;D<B;++D)H=i[D],o[H.index]=+n(H,D,i)}}return C.initialize=function(D,B){i=D,s=B,T()},C.iterations=function(D){return arguments.length?(h=+D,C):h},C.strength=function(D){return arguments.length?(f=+D,C):f},C.radius=function(D){return arguments.length?(n=typeof D=="function"?D:pc(+D),T(),C):n},C}function gc(n){var i=pc(.1),o,s,f;typeof n!="function"&&(n=pc(n==null?0:+n));function h(S){for(var T=0,D=o.length,B;T<D;++T)B=o[T],B.vx+=(f[T]-B.x)*s[T]*S}function C(){if(o){var S,T=o.length;for(s=new Array(T),f=new Array(T),S=0;S<T;++S)s[S]=isNaN(f[S]=+n(o[S],S,o))?0:+i(o[S],S,o)}}return h.initialize=function(S){o=S,C()},h.strength=function(S){return arguments.length?(i=typeof S=="function"?S:pc(+S),C(),h):i},h.x=function(S){return arguments.length?(n=typeof S=="function"?S:pc(+S),C(),h):n},h}function fu(n){var i=pc(.1),o,s,f;typeof n!="function"&&(n=pc(n==null?0:+n));function h(S){for(var T=0,D=o.length,B;T<D;++T)B=o[T],B.vy+=(f[T]-B.y)*s[T]*S}function C(){if(o){var S,T=o.length;for(s=new Array(T),f=new Array(T),S=0;S<T;++S)s[S]=isNaN(f[S]=+n(o[S],S,o))?0:+i(o[S],S,o)}}return h.initialize=function(S){o=S,C()},h.strength=function(S){return arguments.length?(i=typeof S=="function"?S:pc(+S),C(),h):i},h.y=function(S){return arguments.length?(n=typeof S=="function"?S:pc(+S),C(),h):n},h}function Cc(){function n(ka){return()=>ka}let i=ka=>ka.cluster,o=n(1),s=n(-1),f=n(100),h=n(.1),C=[0,0],S=[],T={},D=[],B=100,H=100,ce={none:{x:0,y:0}},de=[],me,xe="force",Se=!0,We=.1;function nt(ka){if(!Se)return nt;me.tick(),yi();for(let eu=0,zf=S.length,Au,Vu=ka*We;eu<zf;++eu)Au=S[eu],Au.vx+=(ce[i(Au)].x-Au.x)*Vu,Au.vy+=(ce[i(Au)].y-Au.y)*Vu}function Gt(){S&&wn()}function wn(){if(!S||!S.length)return;if(i(S[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");const ka=Pn();me=$a(ka.nodes).force("x",gc(B).strength(.1)).force("y",fu(H).strength(.1)).force("collide",Pu(eu=>eu.r).iterations(4)).force("charge",Ao().strength(s)).force("links",_c(ka.nodes.length?ka.links:[]).distance(f).strength(h)),de=me.nodes(),yi()}function Pn(){const ka=[],eu=[],zf={};let Au=[],Vu={},Fd=[];return Vu=Tr(S),Fd=xi(D),Au=Object.keys(Vu),Au.forEach((Gd,q0)=>{const cC=Vu[Gd];ka.push({id:Gd,size:cC.count,r:Math.sqrt(cC.sumforceNodeSize/Math.PI)}),zf[Gd]=q0}),Fd.forEach(Gd=>{const q0=Hs(Gd,"source"),cC=Hs(Gd,"target"),oM=zf[q0],aM=zf[cC];oM!==void 0&&aM!==void 0&&eu.push({source:oM,target:aM,count:Gd.count})}),{nodes:ka,links:eu}}function Tr(ka){const eu={};return ka.forEach(zf=>{const Au=i(zf);eu[Au]||(eu[Au]={count:0,sumforceNodeSize:0})}),ka.forEach(zf=>{const Au=i(zf),Vu=o(zf),Fd=eu[Au];Fd.count=Fd.count+1,Fd.sumforceNodeSize=Fd.sumforceNodeSize+Math.PI*(Vu*Vu)*1.3,eu[Au]=Fd}),eu}function xi(ka){const eu={},zf=[];return ka.forEach(Vu=>{const Fd=Uo(Vu);let Gd=0;eu[Fd]!==void 0&&(Gd=eu[Fd]),Gd+=1,eu[Fd]=Gd}),Object.entries(eu).forEach(([Vu,Fd])=>{const Gd=Vu.split("~")[0],q0=Vu.split("~")[1];Gd!==void 0&&q0!==void 0&&zf.push({source:Gd,target:q0,count:Fd})}),zf}function yi(){return ce={none:{x:0,y:0}},de.forEach(ka=>{ce[ka.id]={x:ka.x-C[0],y:ka.y-C[1]}}),ce}function Uo(ka){const eu=Hs(ka,"source"),zf=Hs(ka,"target"),Au=i(T[eu]),Vu=i(T[zf]);return Au<=Vu?`${Au}~${Vu}`:`${Vu}~${Au}`}function wi(ka){T={},ka.forEach(eu=>{T[eu.id]=eu})}function lo(ka){return arguments.length?(xe=ka,Gt(),nt):xe}function Gi(ka){return arguments.length?typeof ka=="string"?(i=eu=>eu[ka],nt):(i=ka,nt):i}function ca(ka){return arguments.length?(Se=ka,nt):Se}function Ko(ka){return arguments.length?(We=ka,nt):We}function ls(ka){return arguments.length?(B=ka,nt):B}function qc(ka){return arguments.length?(H=ka,nt):H}function _f(ka){return arguments.length?(wi(ka||[]),S=ka||[],nt):S}function Kl(ka){return arguments.length?(D=ka||[],Gt(),nt):D}function bh(ka){return arguments.length?(typeof ka=="function"?o=ka:o=n(+ka),Gt(),nt):o}function sg(ka){return arguments.length?(typeof ka=="function"?s=ka:s=n(+ka),Gt(),nt):s}function lg(ka){return arguments.length?(typeof ka=="function"?f=ka:f=n(+ka),Gt(),nt):f}function cg(ka){return arguments.length?(typeof ka=="function"?h=ka:h=n(+ka),Gt(),nt):h}function rv(ka){return arguments.length?(C=ka,nt):C}return nt.initialize=ka=>{S=ka,Gt()},nt.template=lo,nt.groupBy=Gi,nt.enableGrouping=ca,nt.strength=Ko,nt.centerX=ls,nt.centerY=qc,nt.nodes=_f,nt.links=Kl,nt.forceNodeSize=bh,nt.nodeSize=nt.forceNodeSize,nt.forceCharge=sg,nt.forceLinkDistance=lg,nt.forceLinkStrength=cg,nt.offset=rv,nt.getFocis=yi,nt}const bu={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};class vl extends ol{constructor(i){super(),this.center=[0,0],this.nodeStrength=null,this.edgeStrength=null,this.preventOverlap=!1,this.clusterNodeStrength=null,this.clusterEdgeStrength=null,this.clusterEdgeDistance=null,this.clusterNodeSize=null,this.clusterFociStrength=null,this.linkDistance=50,this.alphaDecay=.028,this.alphaMin=.001,this.alpha=.3,this.collideStrength=1,this.workerEnabled=!1,this.tick=()=>{},this.onLayoutEnd=()=>{},this.ticking=void 0,i&&this.updateCfg(i)}getDefaultCfg(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick(){},onLayoutEnd(){},workerEnabled:!1}}init(i){const o=this;o.nodes=i.nodes||[];const s=i.edges||[];o.edges=s.map(f=>{const h={},C=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(f).forEach(S=>{C.indexOf(S)>-1||(h[S]=f[S])}),h}),o.ticking=!1}execute(i){const o=this,s=o.nodes,f=o.edges;if(o.ticking)return;let h=o.forceSimulation;const C=o.alphaMin,S=o.alphaDecay,T=o.alpha;if(h){if(i){if(o.clustering&&o.clusterForce&&(o.clusterForce.nodes(s),o.clusterForce.links(f)),h.nodes(s),f&&o.edgeForce)o.edgeForce.links(f);else if(f&&!o.edgeForce){const D=_c().id(B=>B.id).links(f);o.edgeStrength&&D.strength(o.edgeStrength),o.linkDistance&&D.distance(o.linkDistance),o.edgeForce=D,h.force("link",D)}}o.preventOverlap&&o.overlapProcess(h),h.alpha(T).restart(),this.ticking=!0}else try{const D=Ao();if(o.nodeStrength&&D.strength(o.nodeStrength),h=$a().nodes(s),o.clustering){const B=Cc();B.centerX(o.center[0]).centerY(o.center[1]).template("force").strength(o.clusterFociStrength),f&&B.links(f),s&&B.nodes(s),B.forceLinkDistance(o.clusterEdgeDistance).forceLinkStrength(o.clusterEdgeStrength).forceCharge(o.clusterNodeStrength).forceNodeSize(o.clusterNodeSize),o.clusterForce=B,h.force("group",B)}if(h.force("center",eo(o.center[0],o.center[1])).force("charge",D).alpha(T).alphaDecay(S).alphaMin(C),o.preventOverlap&&o.overlapProcess(h),f){const B=_c().id(H=>H.id).links(f);o.edgeStrength&&B.strength(o.edgeStrength),o.linkDistance&&B.distance(o.linkDistance),o.edgeForce=B,h.force("link",B)}if(o.workerEnabled&&!Dc()&&(o.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!o.workerEnabled)h.on("tick",()=>{o.tick()}).on("end",()=>{o.ticking=!1,o.onLayoutEnd&&o.onLayoutEnd()}),o.ticking=!0;else{h.stop();const B=oc(h);for(let H=1;H<=B;H++)h.tick(),postMessage({nodes:s,currentTick:H,totalTicks:B,type:bu.TICK},void 0);o.ticking=!1}o.forceSimulation=h,o.ticking=!0}catch(D){o.ticking=!1,console.warn(D)}}overlapProcess(i){const o=this,s=o.nodeSize,f=o.nodeSpacing;let h,C;const S=o.collideStrength;if(Xo(f)?C=()=>f:Mu(f)?C=f:C=()=>0,!s)h=T=>T.size?Xl(T.size)?(T.size[0]>T.size[1]?T.size[0]:T.size[1])/2+C(T):Tc(T.size)?(T.size.width>T.size.height?T.size.width:T.size.height)/2+C(T):T.size/2+C(T):10+C(T);else if(Mu(s))h=T=>s(T)+C(T);else if(Xl(s)){const D=(s[0]>s[1]?s[0]:s[1])/2;h=B=>D+C(B)}else if(Xo(s)){const T=s/2;h=D=>T+C(D)}else h=()=>10;i.force("collisionForce",Pu(h).strength(S))}updateCfg(i){const o=this;o.ticking&&(o.forceSimulation.stop(),o.ticking=!1),o.forceSimulation=null,Object.assign(o,i)}destroy(){const i=this;i.ticking&&(i.forceSimulation.stop(),i.ticking=!1),i.nodes=null,i.edges=null,i.destroyed=!0}}function oc(n){const i=n.alphaMin(),o=n.alphaTarget(),s=n.alpha(),f=Math.log((i-o)/(s-o))/Math.log(1-n.alphaDecay());return Math.ceil(f)}function Dc(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}function Fu(n,i,o,s){n.forEach((f,h)=>{n[h].children=[],n[h].parent=[]}),s?i.forEach(f=>{const h=Hs(f,"source"),C=Hs(f,"target");let S=0;h&&(S=o[h]);let T=0;C&&(T=o[C]);const D=n[S].children,B=n[T].parent;D.push(n[T].id),B.push(n[S].id)}):i.forEach(f=>{const h=Hs(f,"source"),C=Hs(f,"target");let S=0;h&&(S=o[h]);let T=0;C&&(T=o[C]);const D=n[S].children,B=n[T].children;D.push(n[T].id),B.push(n[S].id)})}function Gu(n,i,o){const s=o.length;for(let f=0;f<s;f++){const h=Hs(o[f],"source"),C=Hs(o[f],"target");if(n.id===h&&i.id===C||i.id===h&&n.id===C)return!0}return!1}function Ch(n,i){const o=n.degree,s=i.degree;return o<s?-1:o>s?1:0}class Ed extends ol{constructor(i){super(),this.radius=null,this.startRadius=null,this.endRadius=null,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.divisions=1,this.ordering=null,this.angleRatio=1,this.nodes=[],this.edges=[],this.nodeMap={},this.degrees=[],this.width=300,this.height=300,this.updateCfg(i)}getDefaultCfg(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}execute(){const i=this,o=i.nodes,s=i.edges,f=o.length;if(f===0){i.onLayoutEnd&&i.onLayoutEnd();return}!i.width&&typeof window!="undefined"&&(i.width=window.innerWidth),!i.height&&typeof window!="undefined"&&(i.height=window.innerHeight),i.center||(i.center=[i.width/2,i.height/2]);const h=i.center;if(f===1){o[0].x=h[0],o[0].y=h[1],i.onLayoutEnd&&i.onLayoutEnd();return}let C=i.radius,S=i.startRadius,T=i.endRadius;const D=i.divisions,B=i.startAngle,H=i.endAngle,ce=(H-B)/f,de={};o.forEach((Pn,Tr)=>{de[Pn.id]=Tr}),i.nodeMap=de;const me=tu(o.length,de,s);i.degrees=me,!C&&!S&&!T?C=i.height>i.width?i.width/2:i.height/2:!S&&T?S=T:S&&!T&&(T=S);const xe=i.angleRatio,Se=ce*xe,We=i.ordering;let nt=[];We==="topology"?nt=i.topologyOrdering():We==="topology-directed"?nt=i.topologyOrdering(!0):We==="degree"?nt=i.degreeOrdering():nt=o;const Gt=i.clockwise,wn=Math.ceil(f/D);for(let Pn=0;Pn<f;++Pn){let Tr=C;!Tr&&S!==null&&T!==null&&(Tr=S+Pn*(T-S)/(f-1)),Tr||(Tr=10+Pn*100/(f-1));let xi=B+Pn%wn*Se+2*Math.PI/D*Math.floor(Pn/wn);Gt||(xi=H-Pn%wn*Se-2*Math.PI/D*Math.floor(Pn/wn)),nt[Pn].x=h[0]+Math.cos(xi)*Tr,nt[Pn].y=h[1]+Math.sin(xi)*Tr,nt[Pn].weight=me[Pn]}return i.onLayoutEnd&&i.onLayoutEnd(),{nodes:nt,edges:this.edges}}topologyOrdering(i=!1){const o=this,s=o.degrees,f=o.edges,h=o.nodes,C=fo(h),S=o.nodeMap,T=[C[0]],D=[h[0]],B=[],H=h.length;B[0]=!0,Fu(C,f,S,i);let ce=0;return C.forEach((de,me)=>{if(me!==0)if((me===H-1||s[me]!==s[me+1]||Gu(T[ce],de,f))&&!B[me])T.push(de),D.push(h[S[de.id]]),B[me]=!0,ce++;else{const xe=T[ce].children;let Se=!1;for(let nt=0;nt<xe.length;nt++){const Gt=S[xe[nt]];if(s[Gt]===s[me]&&!B[Gt]){T.push(C[Gt]),D.push(h[S[C[Gt].id]]),B[Gt]=!0,Se=!0;break}}let We=0;for(;!Se&&(B[We]||(T.push(C[We]),D.push(h[S[C[We].id]]),B[We]=!0,Se=!0),We++,We!==H););}}),D}degreeOrdering(){const i=this,o=i.nodes,s=[],f=i.degrees;return o.forEach((h,C)=>{h.degree=f[C],s.push(h)}),s.sort(Ch),s}getType(){return"circular"}}var th=l(85788),nh=l.n(th);let Bd=nh();!Bd&&typeof window!="undefined"&&(Bd=window.graphlib),Array.prototype.flat||(Array.prototype.flat=function(n){let i=n||1;if(!isFinite(i))return;const o=this.length;let s=[];if(this.length===0)return this;for(;i--;){const f=[];let h=!1;if(s.length===0){h=!0;for(let C=0;C<o;C++)this[C]instanceof Array?s.push(...this[C]):s.push(this[C])}else{for(let C=0;C<s.length;C++)s[C]instanceof Array?(h=!0,f.push(...s[C])):f.push(s[C]);s=f}if(!h&&i===1/0)break}return s});var nf=Bd;const Zd=n=>{n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev},wf=(n,i)=>{if(n!=="_next"&&n!=="_prev")return i};class rh{constructor(){const i={};i._next=i._prev=i,this.isentinel=i}dequeue(){const i=this.isentinel,o=i._prev;if(o!==i)return Zd(o),o}enqueue(){const i=this.isentinel,o=i._prev;if(o!==i)return Zd(o),o}toString(){const i=[],o=this.isentinel;let s=o._prev;for(;s!==o;)i.push(JSON.stringify(s,wf)),s=s._prev;return`[${i.join(", ")}]`}}var If=rh;const ih=nf.Graph,oh=()=>1,xh=(n,i)=>{var o;if(n.nodeCount()<=1)return[];const s=ug(n,i||oh);return(o=ah(s.graph,s.buckets,s.zeroIdx).map(h=>n.outEdges(h.v,h.w)))===null||o===void 0?void 0:o.flat()},ah=(n,i,o)=>{let s=[];const f=i[i.length-1],h=i[0];let C;for(;n.nodeCount();){for(;C=h.dequeue();)uf(n,i,o,C);for(;C=f.dequeue();)uf(n,i,o,C);if(n.nodeCount()){for(let S=i.length-2;S>0;--S)if(C=i[S].dequeue(),C){s=s.concat(uf(n,i,o,C,!0));break}}}return s},uf=(n,i,o,s,f)=>{var h,C;const S=f?[]:void 0;return(h=n.inEdges(s.v))===null||h===void 0||h.forEach(T=>{const D=n.edge(T),B=n.node(T.v);f&&S.push({v:T.v,w:T.w}),B.out===void 0&&(B.out=0),B.out-=D,zd(i,o,B)}),(C=n.outEdges(s.v))===null||C===void 0||C.forEach(T=>{const D=n.edge(T),B=T.w,H=n.node(B);H.in===void 0&&(H.in=0),H.in-=D,zd(i,o,H)}),n.removeNode(s.v),S},ug=(n,i)=>{const o=new ih;let s=0,f=0;n.nodes().forEach(T=>{o.setNode(T,{v:T,in:0,out:0})}),n.edges().forEach(T=>{const D=o.edge(T.v,T.w)||0,B=i==null?void 0:i(T),H=D+B;o.setEdge(T.v,T.w,H),f=Math.max(f,o.node(T.v).out+=B),s=Math.max(s,o.node(T.w).in+=B)});const h=[],C=f+s+3;for(let T=0;T<C;T++)h.push(new If);const S=s+1;return o.nodes().forEach(T=>{zd(h,S,o.node(T))}),{buckets:h,zeroIdx:S,graph:o}},zd=(n,i,o)=>{o.out?o.in?n[o.out-o.in+i].enqueue(o):n[n.length-1].enqueue(o):n[0].enqueue(o)};var fg=xh;const dg=n=>{const i=s=>f=>s.edge(f).weight,o=n.graph().acyclicer==="greedy"?fg(n,i(n)):_p(n);o==null||o.forEach(s=>{const f=n.edge(s);n.removeEdge(s),f.forwardName=s.name,f.reversed=!0,n.setEdge(s.w,s.v,f,`rev-${Math.random()}`)})},_p=n=>{const i=[],o={},s={},f=h=>{var C;s.hasOwnProperty(h)||(s[h]=!0,o[h]=!0,(C=n.outEdges(h))===null||C===void 0||C.forEach(S=>{o.hasOwnProperty(S.w)?i.push(S):f(S.w)}),delete o[h])};return n.nodes().forEach(f),i};var Bu={run:dg,undo:n=>{n.edges().forEach(i=>{const o=n.edge(i);if(o.reversed){n.removeEdge(i);const s=o.forwardName;delete o.reversed,delete o.forwardName,n.setEdge(i.w,i.v,o,s)}})}};const kf=nf.Graph,Ap=(n,i,o,s)=>{let f;do f=`${s}${Math.random()}`;while(n.hasNode(f));return o.dummy=i,n.setNode(f,o),f},hg=n=>{const i=new kf().setGraph(n.graph());return n.nodes().forEach(o=>{i.setNode(o,n.node(o))}),n.edges().forEach(o=>{const s=i.edge(o.v,o.w)||{weight:0,minlen:1},f=n.edge(o);i.setEdge(o.v,o.w,{weight:s.weight+f.weight,minlen:Math.max(s.minlen,f.minlen)})}),i},Eh=n=>{const i=new kf({multigraph:n.isMultigraph()}).setGraph(n.graph());return n.nodes().forEach(o=>{var s;!((s=n.children(o))===null||s===void 0)&&s.length||i.setNode(o,n.node(o))}),n.edges().forEach(o=>i.setEdge(o,n.edge(o))),i},ud=(n,i)=>{const o={};return n==null||n.forEach((s,f)=>{o[s]=i[f]}),o},jf=n=>{const i=n.nodes().map(o=>{var s;const f={};return(s=n.outEdges(o))===null||s===void 0||s.forEach(h=>{f[h.w]=(f[h.w]||0)+n.edge(h).weight}),f});return ud(n.nodes(),i)},Dp=n=>{const i=n.nodes().map(o=>{var s;const f={};return(s=n.inEdges(o))===null||s===void 0||s.forEach(h=>{f[h.v]=(f[h.v]||0)+n.edge(h).weight}),f});return ud(n.nodes(),i)},sh=(n,i)=>{const o=n.x,s=n.y,f=i.x-o,h=i.y-s;let C=n.width/2,S=n.height/2;if(!f&&!h)return{x:0,y:0};let T,D;return Math.abs(h)*C>Math.abs(f)*S?(h<0&&(S=-S),T=S*f/h,D=S):(f<0&&(C=-C),T=C,D=C*h/f),{x:o+T,y:s+D}},fd=n=>{const i=[],o=[],s=Yh(n)+1;for(let f=0;f<s;f++)i.push([]),o.push([]);return n.nodes().forEach(f=>{const C=n.node(f).rank;C!==void 0&&i[C]&&o[C].push(f)}),o==null||o.forEach((f,h)=>{f==null||f.sort((C,S)=>{var T,D;return((T=n.node(C))===null||T===void 0?void 0:T.order)-((D=n.node(S))===null||D===void 0?void 0:D.order)}),f.forEach(C=>{i[h].push(C)})}),i},wd=n=>{const i=n.nodes().filter(s=>n.node(s).rank!==void 0).map(s=>n.node(s).rank),o=Math.min(...i);n.nodes().forEach(s=>{const f=n.node(s);f.hasOwnProperty("rank")&&(f.rank||(f.rank=0),f.rank-=o)})},Sd=n=>{const i=n.nodes().filter(C=>n.node(C).rank!==void 0).map(C=>n.node(C).rank),o=Math.min(...i),s=[];n.nodes().forEach(C=>{var S;const T=(((S=n.node(C))===null||S===void 0?void 0:S.rank)||0)-o;s[T]||(s[T]=[]),s[T].push(C)});let f=0;const h=n.graph().nodeRankFactor||0;for(let C=0;C<s.length;C++){const S=s[C];S===void 0&&C%h!==0?--f:f&&(S==null||S.forEach(T=>{n.node(T).rank||(n.node(T).rank=0),n.node(T).rank+=f}))}},Kh=(n,i,o,s)=>{const f={width:0,height:0};return Xo(o)&&Xo(s)&&(f.rank=o,f.order=s),Ap(n,"border",f,i)},Yh=n=>{const i=n.nodes().map(o=>{const s=n.node(o).rank;return s!==void 0?s:-1/0});return Math.max(...i)},Cu=(n,i)=>{const o={lhs:[],rhs:[]};return n==null||n.forEach(s=>{i(s)?o.lhs.push(s):o.rhs.push(s)}),o},Lf=(n,i)=>{const o=Date.now();try{return i()}finally{console.log(`${n} time: ${Date.now()-o}ms`)}},Nc=(n,i)=>i(),xu=(n,i)=>{let o=1/0,s;return n==null||n.forEach(f=>{const h=i(f);o>h&&(o=h,s=f)}),s};var ql={addDummyNode:Ap,simplify:hg,asNonCompoundGraph:Eh,successorWeights:jf,predecessorWeights:Dp,intersectRect:sh,buildLayerMatrix:fd,normalizeRanks:wd,removeEmptyRanks:Sd,addBorderNode:Kh,maxRank:Yh,partition:Cu,time:Lf,notime:Nc,zipObject:ud,minBy:xu};const Xh=n=>{n.graph().dummyChains=[],n.edges().forEach(i=>pg(n,i))},pg=(n,i)=>{var o,s;let f=i.v,h=n.node(f).rank;const C=i.w,S=n.node(C).rank,T=i.name,D=n.edge(i),B=D.labelRank;if(S===h+1)return;n.removeEdge(i);let H,ce,de;for(de=0,++h;h<S;++de,++h)D.points=[],ce={edgeLabel:D,width:0,height:0,edgeObj:i,rank:h},H=ql.addDummyNode(n,"edge",ce,"_d"),h===B&&(ce.width=D.width,ce.height=D.height,ce.dummy="edge-label",ce.labelpos=D.labelpos),n.setEdge(f,H,{weight:D.weight},T),de===0&&(n.graph().dummyChains||(n.graph().dummyChains=[]),(s=(o=n.graph())===null||o===void 0?void 0:o.dummyChains)===null||s===void 0||s.push(H)),f=H;n.setEdge(f,C,{weight:D.weight},T)};var wh={run:Xh,undo:n=>{var i;(i=n.graph().dummyChains)===null||i===void 0||i.forEach(o=>{var s;let f=n.node(o);const h=f.edgeLabel;let C;f.edgeObj&&n.setEdge(f.edgeObj,h);let S=o;for(;f.dummy;)C=(s=n.successors(S))===null||s===void 0?void 0:s[0],n.removeNode(S),h.points.push({x:f.x,y:f.y}),f.dummy==="edge-label"&&(h.x=f.x,h.y=f.y,h.width=f.width,h.height=f.height),S=C,f=n.node(S)})}};const Sh=n=>{var i;const o={},s=f=>{var h;const C=n.node(f);if(o.hasOwnProperty(f))return C.rank;o[f]=!0;const S=(h=n.outEdges(f))===null||h===void 0?void 0:h.map(D=>s(D.w)-n.edge(D).minlen||1/0);let T=Math.min(...S);return(T===Number.POSITIVE_INFINITY||T===void 0||T===null)&&(T=0),C.rank=T,T};(i=n.sources())===null||i===void 0||i.forEach(f=>s(f))},Md=n=>{var i;const o={};let s=0;const f=C=>{var S;const T=n.node(C);if(o.hasOwnProperty(C))return T.rank;o[C]=!0;const D=(S=n.outEdges(C))===null||S===void 0?void 0:S.map(H=>f(H.w)-n.edge(H).minlen||1/0);let B=Math.min(...D);return(B===Number.POSITIVE_INFINITY||B===void 0||B===null)&&(B=0),T.rank=B,s=Math.min(T.rank,s),T.rank};(i=n.sources())===null||i===void 0||i.forEach(C=>f(C)),s+=1;const h=(C,S)=>{var T;const D=n.node(C),B=isNaN(D.layer)?S:D.layer;(D.rank===void 0||D.rank<B)&&(D.rank=B),(T=n.outEdges(C))===null||T===void 0||T.map(H=>{h(H.w,B+n.edge(H).minlen)})};n.nodes().forEach(C=>{const S=n.node(C);isNaN(S.layer)?S.rank-=s:h(C,S.layer)})},dd=(n,i)=>n.node(i.w).rank-n.node(i.v).rank-n.edge(i).minlen;var ov={longestPath:Sh,longestPathWithLayer:Md,slack:dd};const td=nf.Graph,Mh=n=>{const i=new td({directed:!1}),o=n.nodes()[0],s=n.nodeCount();i.setNode(o,{});let f,h;for(;Np(i,n)<s;)f=Jh(i,n),h=i.hasNode(f.v)?dd(n,f):-dd(n,f),Ph(i,n,h);return i},Np=(n,i)=>{const o=s=>{i.nodeEdges(s).forEach(f=>{const h=f.v,C=s===h?f.w:h;!n.hasNode(C)&&!dd(i,f)&&(n.setNode(C,{}),n.setEdge(s,C,{}),o(C))})};return n.nodes().forEach(o),n.nodeCount()},Qh=n=>{const i=new td({directed:!1}),o=n.nodes()[0],s=n.nodeCount();i.setNode(o,{});let f,h;for(;hd(i,n)<s;)f=Jh(i,n),h=i.hasNode(f.v)?dd(n,f):-dd(n,f),Ph(i,n,h);return i},hd=(n,i)=>{const o=s=>{var f;(f=i.nodeEdges(s))===null||f===void 0||f.forEach(h=>{const C=h.v,S=s===C?h.w:C;!n.hasNode(S)&&(i.node(S).layer!==void 0||!dd(i,h))&&(n.setNode(S,{}),n.setEdge(s,S,{}),o(S))})};return n.nodes().forEach(o),n.nodeCount()},Jh=(n,i)=>xu(i.edges(),o=>n.hasNode(o.v)!==n.hasNode(o.w)?dd(i,o):1/0),Ph=(n,i,o)=>{n.nodes().forEach(s=>{i.node(s).rank||(i.node(s).rank=0),i.node(s).rank+=o})};var pd={feasibleTree:Mh,feasibleTreeWithLayer:Qh};const Rp=nf.alg,{preorder:$e,postorder:Jt}=Rp,Gn=n=>{n=hg(n),Sh(n);const i=Mh(n);ri(i),Kr(i,n);let o,s;for(;o=Wi(i);)s=Xi(i,n,o),zi(i,n,o,s)},Kr=(n,i)=>{let o=Jt(n,n.nodes());o=o==null?void 0:o.slice(0,(o==null?void 0:o.length)-1),o==null||o.forEach(s=>{Br(n,i,s)})},Br=(n,i,o)=>{const f=n.node(o).parent;n.edge(o,f).cutvalue=Yr(n,i,o)},Yr=(n,i,o)=>{var s;const h=n.node(o).parent;let C=!0,S=i.edge(o,h),T=0;return S||(C=!1,S=i.edge(h,o)),T=S.weight,(s=i.nodeEdges(o))===null||s===void 0||s.forEach(D=>{const B=D.v===o,H=B?D.w:D.v;if(H!==h){const ce=B===C,de=i.edge(D).weight;if(T+=ce?de:-de,_o(n,o,H)){const me=n.edge(o,H).cutvalue;T+=ce?-me:me}}}),T},ri=(n,i)=>{i!==void 0&&(i=n.nodes()[0]),Ii(n,{},1,i)},Ii=(n,i,o,s,f)=>{var h;const C=o;let S=o;const T=n.node(s);return i[s]=!0,(h=n.neighbors(s))===null||h===void 0||h.forEach(D=>{i.hasOwnProperty(D)||(S=Ii(n,i,S,D,s))}),T.low=C,T.lim=S++,f?T.parent=f:delete T.parent,S},Wi=n=>n.edges().find(i=>n.edge(i).cutvalue<0),Xi=(n,i,o)=>{let s=o.v,f=o.w;i.hasEdge(s,f)||(s=o.w,f=o.v);const h=n.node(s),C=n.node(f);let S=h,T=!1;h.lim>C.lim&&(S=C,T=!0);const D=i.edges().filter(B=>T===Vi(n,n.node(B.v),S)&&T!==Vi(n,n.node(B.w),S));return xu(D,B=>dd(i,B))},zi=(n,i,o,s)=>{const f=o.v,h=o.w;n.removeEdge(f,h),n.setEdge(s.v,s.w,{}),ri(n),Kr(n,i),Ui(n,i)},Ui=(n,i)=>{const o=n.nodes().find(f=>!i.node(f).parent);let s=$e(n,o);s=s==null?void 0:s.slice(1),s==null||s.forEach(f=>{const h=n.node(f).parent;let C=i.edge(f,h),S=!1;C||(C=i.edge(h,f),S=!0),i.node(f).rank=i.node(h).rank+(S?C.minlen:-C.minlen)})},_o=(n,i,o)=>n.hasEdge(i,o),Vi=(n,i,o)=>o.low<=i.lim&&i.lim<=o.lim;Gn.initLowLimValues=ri,Gn.initCutValues=Kr,Gn.calcCutValue=Yr,Gn.leaveEdge=Wi,Gn.enterEdge=Xi,Gn.exchangeEdges=zi;var vo=Gn;const Gr=n=>{switch(n.graph().ranker){case"network-simplex":Zo(n);break;case"tight-tree":Ji(n);break;case"longest-path":li(n);break;default:Ji(n)}},li=Sh,Ji=n=>{Md(n),Qh(n)},Zo=n=>{vo(n)};var Di=Gr;const Go=n=>{var i;const o=bo(n);(i=n.graph().dummyChains)===null||i===void 0||i.forEach(s=>{var f,h;let C=n.node(s);const S=C.edgeObj;if(!S)return;const T=Mi(n,o,S.v,S.w),D=T.path,B=T.lca;let H=0,ce=D[H],de=!0;for(;s!==S.w;){if(C=n.node(s),de){for(;(ce=D[H])!==B&&n.node(ce).maxRank<C.rank;)H++;ce===B&&(de=!1)}if(!de){for(;H<D.length-1&&((f=n.node(ce=D[H+1]))===null||f===void 0?void 0:f.minRank)<=C.rank;)H++;ce=D[H]}n.setParent(s,ce),s=(h=n.successors(s))===null||h===void 0?void 0:h[0]}})},Mi=(n,i,o,s)=>{const f=[],h=[],C=Math.min(i[o].low,i[s].low),S=Math.max(i[o].lim,i[s].lim);let T,D;T=o;do T=n.parent(T),f.push(T);while(T&&(i[T].low>C||S>i[T].lim));for(D=T,T=s;(T=n.parent(T))!==D;)h.push(T);return{lca:D,path:f.concat(h.reverse())}},bo=n=>{var i;const o={};let s=0;const f=h=>{var C;const S=s;(C=n.children(h))===null||C===void 0||C.forEach(f),o[h]={low:S,lim:s++}};return(i=n.children())===null||i===void 0||i.forEach(f),o};var Ci=Go;const Co=n=>{var i;const o=ql.addDummyNode(n,"root",{},"_root"),s=gs(n),f=Math.max(...Object.values(s))-1,h=2*f+1;n.graph().nestingRoot=o,n.edges().forEach(S=>{n.edge(S).minlen*=h});const C=Eo(n)+1;(i=n.children())===null||i===void 0||i.forEach(S=>{Na(n,o,h,C,f,s,S)}),n.graph().nodeRankFactor=h},Na=(n,i,o,s,f,h,C)=>{const S=n.children(C);if(!(S!=null&&S.length)){C!==i&&n.setEdge(i,C,{weight:0,minlen:o});return}const T=ql.addBorderNode(n,"_bt"),D=ql.addBorderNode(n,"_bb"),B=n.node(C);n.setParent(T,C),B.borderTop=T,n.setParent(D,C),B.borderBottom=D,S==null||S.forEach(H=>{Na(n,i,o,s,f,h,H);const ce=n.node(H),de=ce.borderTop?ce.borderTop:H,me=ce.borderBottom?ce.borderBottom:H,xe=ce.borderTop?s:2*s,Se=de!==me?1:f-h[C]+1;n.setEdge(T,de,{minlen:Se,weight:xe,nestingEdge:!0}),n.setEdge(me,D,{minlen:Se,weight:xe,nestingEdge:!0})}),n.parent(C)||n.setEdge(i,T,{weight:0,minlen:f+h[C]})},gs=n=>{var i;const o={},s=(f,h)=>{const C=n.children(f);C==null||C.forEach(S=>s(S,h+1)),o[f]=h};return(i=n.children())===null||i===void 0||i.forEach(f=>s(f,1)),o},Eo=n=>{let i=0;return n.edges().forEach(o=>{i+=n.edge(o).weight}),i};var Oi={run:Co,cleanup:n=>{const i=n.graph();i.nestingRoot&&n.removeNode(i.nestingRoot),delete i.nestingRoot,n.edges().forEach(o=>{n.edge(o).nestingEdge&&n.removeEdge(o)})}};const Xa=n=>{var i;const o=s=>{const f=n.children(s),h=n.node(s);if(f!=null&&f.length&&f.forEach(C=>o(C)),h.hasOwnProperty("minRank")){h.borderLeft=[],h.borderRight=[];for(let C=h.minRank,S=h.maxRank+1;C<S;++C)Es(n,"borderLeft","_bl",s,h,C),Es(n,"borderRight","_br",s,h,C)}};(i=n.children())===null||i===void 0||i.forEach(s=>o(s))},Es=(n,i,o,s,f,h)=>{const C={rank:h,width:0,height:0,borderType:i},S=f[i][h-1],T=ql.addDummyNode(n,"border",C,o);f[i][h]=T,n.setParent(T,s),S&&n.setEdge(S,T,{weight:1})};var la=Xa;const Zs=n=>{var i;const o=(i=n.graph().rankdir)===null||i===void 0?void 0:i.toLowerCase();(o==="lr"||o==="rl")&&Os(n)},vs=n=>{var i;const o=(i=n.graph().rankdir)===null||i===void 0?void 0:i.toLowerCase();(o==="bt"||o==="rl")&&Wc(n),(o==="lr"||o==="rl")&&(Ns(n),Os(n))},Os=n=>{n.nodes().forEach(i=>{hl(n.node(i))}),n.edges().forEach(i=>{hl(n.edge(i))})},hl=n=>{const i=n.width;n.width=n.height,n.height=i},Wc=n=>{n.nodes().forEach(i=>{Bc(n.node(i))}),n.edges().forEach(i=>{var o;const s=n.edge(i);(o=s.points)===null||o===void 0||o.forEach(f=>Bc(f)),s.hasOwnProperty("y")&&Bc(s)})},Bc=n=>{n.y=-n.y},Ns=n=>{n.nodes().forEach(i=>{Rc(n.node(i))}),n.edges().forEach(i=>{var o;const s=n.edge(i);(o=s.points)===null||o===void 0||o.forEach(f=>Rc(f)),s.hasOwnProperty("x")&&Rc(s)})},Rc=n=>{const i=n.x;n.x=n.y,n.y=i};var sl={adjust:Zs,undo:vs},xc=n=>{const i={},o=n.nodes().filter(B=>{var H;return!(!((H=n.children(B))===null||H===void 0)&&H.length)}),s=o.map(B=>n.node(B).rank),f=Math.max(...s),h=[];for(let B=0;B<f+1;B++)h.push([]);const C=B=>{var H;if(i.hasOwnProperty(B))return;i[B]=!0;const ce=n.node(B);isNaN(ce.rank)||h[ce.rank].push(B),(H=n.successors(B))===null||H===void 0||H.forEach(de=>C(de))},S=o.sort((B,H)=>n.node(B).rank-n.node(H).rank),D=S.filter(B=>n.node(B).fixorder!==void 0).sort((B,H)=>n.node(B).fixorder-n.node(H).fixorder);return D==null||D.forEach(B=>{isNaN(n.node(B).rank)||h[n.node(B).rank].push(B),i[B]=!0}),S==null||S.forEach(C),h};const Al=(n,i,o)=>{const s=ud(o,o.map((B,H)=>H)),h=i.map(B=>{var H;const ce=(H=n.outEdges(B))===null||H===void 0?void 0:H.map(de=>({pos:s[de.w]||0,weight:n.edge(de).weight}));return ce==null?void 0:ce.sort((de,me)=>de.pos-me.pos)}).flat().filter(B=>B!==void 0);let C=1;for(;C<o.length;)C<<=1;const S=2*C-1;C-=1;const T=Array(S).fill(0,0,S);let D=0;return h==null||h.forEach(B=>{let H=B.pos+C;T[H]+=B.weight;let ce=0;for(;H>0;)H%2&&(ce+=T[H+1]),H=H-1>>1,T[H]+=B.weight;D+=B.weight*ce}),D};var Ic=(n,i)=>{let o=0;for(let s=1;s<(i==null?void 0:i.length);++s)o+=Al(n,i[s-1],i[s]);return o};const Hc=nf.Graph,ws=(n,i,o)=>{const s=Tu(n),f=new Hc({compound:!0}).setGraph({root:s}).setDefaultNodeLabel(h=>n.node(h));return n.nodes().forEach(h=>{const C=n.node(h),S=n.parent(h);(C.rank===i||C.minRank<=i&&i<=C.maxRank)&&(f.setNode(h),f.setParent(h,S||s),n[o](h).forEach(T=>{const D=T.v===h?T.w:T.v,B=f.edge(D,h),H=B!==void 0?B.weight:0;f.setEdge(D,h,{weight:n.edge(T).weight+H})}),C.hasOwnProperty("minRank")&&f.setNode(h,{borderLeft:C.borderLeft[i],borderRight:C.borderRight[i]}))}),f},Tu=n=>{let i;for(;n.hasNode(i=`_root${Math.random()}`););return i};var Dl=ws,js=(n,i,o)=>{const s={};let f;o==null||o.forEach(h=>{let C=n.parent(h),S,T;for(;C;){if(S=n.parent(C),S?(T=s[S],s[S]=C):(T=f,f=C),T&&T!==C){i.setEdge(T,C);return}C=S}})},Kc=(n,i)=>i.map(o=>{const s=n.inEdges(o);if(!(s!=null&&s.length))return{v:o};{const f={sum:0,weight:0};return s==null||s.forEach(h=>{const C=n.edge(h),S=n.node(h.v);f.sum+=C.weight*S.order,f.weight+=C.weight}),{v:o,barycenter:f.sum/f.weight,weight:f.weight}}});const nd=(n,i)=>{var o,s,f;const h={};n==null||n.forEach((S,T)=>{const D=h[S.v]={i:T,indegree:0,in:[],out:[],vs:[S.v]};S.barycenter!==void 0&&(D.barycenter=S.barycenter,D.weight=S.weight)}),(o=i.edges())===null||o===void 0||o.forEach(S=>{const T=h[S.v],D=h[S.w];T!==void 0&&D!==void 0&&(D.indegree++,T.out.push(h[S.w]))});const C=(f=(s=Object.values(h)).filter)===null||f===void 0?void 0:f.call(s,S=>!S.indegree);return Pd(C)},Pd=n=>{var i,o;const s=[],f=T=>D=>{D.merged||(D.barycenter===void 0||T.barycenter===void 0||D.barycenter>=T.barycenter)&&Tn(T,D)},h=T=>D=>{D.in.push(T),--D.indegree===0&&n.push(D)};for(;n!=null&&n.length;){const T=n.pop();s.push(T),(i=T.in.reverse())===null||i===void 0||i.forEach(D=>f(T)(D)),(o=T.out)===null||o===void 0||o.forEach(D=>h(T)(D))}const C=s.filter(T=>!T.merged),S=["vs","i","barycenter","weight"];return C.map(T=>{const D={};return S==null||S.forEach(B=>{T[B]!==void 0&&(D[B]=T[B])}),D})},Tn=(n,i)=>{var o;let s=0,f=0;n.weight&&(s+=n.barycenter*n.weight,f+=n.weight),i.weight&&(s+=i.barycenter*i.weight,f+=i.weight),n.vs=(o=i.vs)===null||o===void 0?void 0:o.concat(n.vs),n.barycenter=s/f,n.weight=f,n.i=Math.min(i.i,n.i),i.merged=!0};var er=nd;const Xr=(n,i,o)=>{const s=ql.partition(n,H=>H.hasOwnProperty("fixorder")&&!isNaN(H.fixorder)||H.hasOwnProperty("barycenter")),f=s.lhs,h=s.rhs.sort((H,ce)=>-H.i- -ce.i),C=[];let S=0,T=0,D=0;f==null||f.sort(Rs(!!i,!!o)),D=na(C,h,D),f==null||f.forEach(H=>{var ce;D+=(ce=H.vs)===null||ce===void 0?void 0:ce.length,C.push(H.vs),S+=H.barycenter*H.weight,T+=H.weight,D=na(C,h,D)});const B={vs:C.flat()};return T&&(B.barycenter=S/T,B.weight=T),B},na=(n,i,o)=>{let s=o,f;for(;i.length&&(f=i[i.length-1]).i<=s;)i.pop(),n==null||n.push(f.vs),s++;return s},Rs=(n,i)=>(o,s)=>{if(o.fixorder!==void 0&&s.fixorder!==void 0)return o.fixorder-s.fixorder;if(o.barycenter<s.barycenter)return-1;if(o.barycenter>s.barycenter)return 1;if(i&&o.order!==void 0&&s.order!==void 0){if(o.order<s.order)return-1;if(o.order>s.order)return 1}return n?s.i-o.i:o.i-s.i};var fn=Xr;const Ut=(n,i,o,s,f)=>{var h,C,S,T;let D=n.children(i);const B=n.node(i),H=B?B.borderLeft:void 0,ce=B?B.borderRight:void 0,de={};H&&(D=D==null?void 0:D.filter(We=>We!==H&&We!==ce));const me=Kc(n,D||[]);me==null||me.forEach(We=>{var nt;if(!((nt=n.children(We.v))===null||nt===void 0)&&nt.length){const Gt=Ut(n,We.v,o,s);de[We.v]=Gt,Gt.hasOwnProperty("barycenter")&&Rr(We,Gt)}});const xe=er(me,o);tr(xe,de),(h=xe.filter(We=>{var nt;return!!We.vs||((nt=We.vs)===null||nt===void 0?void 0:nt.length)>0}))===null||h===void 0||h.forEach(We=>{const nt=n.node(We.vs[0]);We.fixorder=nt.fixorder,We.order=nt.order});const Se=fn(xe,s,f);if(H&&(Se.vs=[H,Se.vs,ce].flat(),!((C=n.predecessors(H))===null||C===void 0)&&C.length)){const We=n.node(((S=n.predecessors(H))===null||S===void 0?void 0:S[0])||{}),nt=n.node(((T=n.predecessors(ce))===null||T===void 0?void 0:T[0])||{});Se.hasOwnProperty("barycenter")||(Se.barycenter=0,Se.weight=0),Se.barycenter=(Se.barycenter*Se.weight+We.order+nt.order)/(Se.weight+2),Se.weight+=2}return Se},tr=(n,i)=>{n==null||n.forEach(o=>{var s;const f=(s=o.vs)===null||s===void 0?void 0:s.map(h=>i[h]?i[h].vs:h);o.vs=f.flat()})},Rr=(n,i)=>{n.barycenter!==void 0?(n.barycenter=(n.barycenter*n.weight+i.barycenter*i.weight)/(n.weight+i.weight),n.weight+=i.weight):(n.barycenter=i.barycenter,n.weight=i.weight)};var Fr=Ut;const ar=nf.Graph,Jn=n=>{const i=ql.maxRank(n),o=[],s=[];for(let D=1;D<i+1;D++)o.push(D);for(let D=i-1;D>-1;D--)s.push(D);const f=vr(n,o,"inEdges"),h=vr(n,s,"outEdges");let C=xc(n);Zn(n,C);let S=Number.POSITIVE_INFINITY,T;for(let D=0,B=0;B<4;++D,++B){Qt(D%2?f:h,D%4>=2),C=ql.buildLayerMatrix(n);const H=Ic(n,C);H<S&&(B=0,T=fo(C),S=H)}C=xc(n),Zn(n,C);for(let D=0,B=0;B<4;++D,++B){Qt(D%2?f:h,D%4>=2,!0),C=ql.buildLayerMatrix(n);const H=Ic(n,C);H<S&&(B=0,T=fo(C),S=H)}Zn(n,T)},vr=(n,i,o)=>i.map(s=>Dl(n,s,o)),Qt=(n,i,o)=>{const s=new ar;n==null||n.forEach(f=>{var h;const C=f.graph().root,S=Fr(f,C,s,i,o);for(let T=0;T<((h=S.vs)===null||h===void 0?void 0:h.length);T++)f.node(S.vs[T]).order=T;js(f,s,S.vs)})},Zn=(n,i)=>{i==null||i.forEach(o=>{o==null||o.forEach((s,f)=>{n.node(s).order=f})})};var ln=Jn;const mr=nf.Graph,Zr=(n,i)=>{const o={},s=(f,h)=>{let C=0,S=0;const T=f.length,D=h==null?void 0:h[(h==null?void 0:h.length)-1];return h==null||h.forEach((B,H)=>{var ce;const de=vi(n,B),me=de?n.node(de).order:T;(de||B===D)&&((ce=h.slice(S,H+1))===null||ce===void 0||ce.forEach(xe=>{var Se;(Se=n.predecessors(xe))===null||Se===void 0||Se.forEach(We=>{const nt=n.node(We),Gt=nt.order;(Gt<C||me<Gt)&&!(nt.dummy&&n.node(xe).dummy)&&Jr(o,We,xe)})}),S=H+1,C=me)}),h};return i!=null&&i.length&&i.reduce(s),o},pi=(n,i)=>{const o={},s=(h,C,S,T,D)=>{let B;const H=[];for(let ce=C;ce<S;ce++)H.push(ce);H.forEach(ce=>{var de;B=h[ce],n.node(B).dummy&&((de=n.predecessors(B))===null||de===void 0||de.forEach(me=>{const xe=n.node(me);xe.dummy&&(xe.order<T||xe.order>D)&&Jr(o,me,B)}))})},f=(h,C)=>{let S=-1,T,D=0;return C==null||C.forEach((B,H)=>{if(n.node(B).dummy==="border"){const ce=n.predecessors(B)||[];ce.length&&(T=n.node(ce[0]).order,s(C,D,H,S,T),D=H,S=T)}s(C,D,C.length,T,h.length)}),C};return i!=null&&i.length&&i.reduce(f),o},vi=(n,i)=>{var o;if(n.node(i).dummy)return(o=n.predecessors(i))===null||o===void 0?void 0:o.find(s=>n.node(s).dummy)},Jr=(n,i,o)=>{let s=i,f=o;if(s>f){const C=s;s=f,f=C}let h=n[s];h||(n[s]=h={}),h[f]=!0},Hi=(n,i,o)=>{let s=i,f=o;if(s>f){const h=i;s=f,f=h}return n[s]&&n[s].hasOwnProperty(f)},va=(n,i,o,s)=>{const f={},h={},C={};return i==null||i.forEach(S=>{S==null||S.forEach((T,D)=>{f[T]=T,h[T]=T,C[T]=D})}),i==null||i.forEach(S=>{let T=-1;S==null||S.forEach(D=>{let B=s(D);if(B.length){B=B.sort((ce,de)=>C[ce]-C[de]);const H=(B.length-1)/2;for(let ce=Math.floor(H),de=Math.ceil(H);ce<=de;++ce){const me=B[ce];h[D]===D&&T<C[me]&&!Hi(o,D,me)&&(h[me]=D,h[D]=f[D]=f[me],T=C[me])}}})}),{root:f,align:h}},ms=(n,i,o,s,f)=>{var h;const C={},S=$o(n,i,o,f),T=f?"borderLeft":"borderRight",D=(ce,de)=>{let me=S.nodes(),xe=me.pop();const Se={};for(;xe;)Se[xe]?ce(xe):(Se[xe]=!0,me.push(xe),me=me.concat(de(xe))),xe=me.pop()},B=ce=>{C[ce]=(S.inEdges(ce)||[]).reduce((de,me)=>Math.max(de,(C[me.v]||0)+S.edge(me)),0)},H=ce=>{const de=(S.outEdges(ce)||[]).reduce((xe,Se)=>Math.min(xe,(C[Se.w]||0)-S.edge(Se)),Number.POSITIVE_INFINITY),me=n.node(ce);de!==Number.POSITIVE_INFINITY&&me.borderType!==T&&(C[ce]=Math.max(C[ce],de))};return D(B,S.predecessors.bind(S)),D(H,S.successors.bind(S)),(h=Object.values(s))===null||h===void 0||h.forEach(ce=>{C[ce]=C[o[ce]]}),C},$o=(n,i,o,s)=>{const f=new mr,h=n.graph(),C=Hu(h.nodesep,h.edgesep,s);return i==null||i.forEach(S=>{let T;S==null||S.forEach(D=>{const B=o[D];if(f.setNode(B),T){const H=o[T],ce=f.edge(H,B);f.setEdge(H,B,Math.max(C(n,D,T),ce||0))}T=D})}),f},_a=(n,i)=>ql.minBy(Object.values(i),o=>{var s;let f=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY;return(s=Object.keys(o))===null||s===void 0||s.forEach(C=>{const S=o[C],T=lh(n,C)/2;f=Math.max(S+T,f),h=Math.min(S-T,h)}),f-h});function as(n,i){const o=Object.values(i),s=Math.min(...o),f=Math.max(...o);["u","d"].forEach(h=>{["l","r"].forEach(C=>{const S=h+C,T=n[S];let D;if(T===i)return;const B=Object.values(T);D=C==="l"?s-Math.min(...B):f-Math.max(...B),D&&(n[S]={},Object.keys(T).forEach(H=>{n[S][H]=T[H]+D}))})})}const Qs=(n,i)=>{const o={};return Object.keys(n.ul).forEach(s=>{if(i)o[s]=n[i.toLowerCase()][s];else{const h=Object.values(n).map(C=>C[s]).sort((C,S)=>C-S);o[s]=(h[1]+h[2])/2}}),o},mc=n=>{const i=ql.buildLayerMatrix(n),o=Object.assign(Zr(n,i),pi(n,i)),s={};let f;["u","d"].forEach(C=>{f=C==="u"?i:Object.values(i).reverse(),["l","r"].forEach(S=>{S==="r"&&(f=f.map(H=>Object.values(H).reverse()));const T=(C==="u"?n.predecessors:n.successors).bind(n),D=va(n,f,o,T);let B=ms(n,f,D.root,D.align,S==="r");S==="r"&&(B=Object.values(B).map(H=>-H)),s[C+S]=B})});const h=_a(n,s);return as(s,h),Qs(s,n.graph().align)},Hu=(n,i,o)=>(s,f,h)=>{const C=s.node(f),S=s.node(h);let T=0,D;if(T+=C.width/2,C.hasOwnProperty("labelpos"))switch((C.labelpos||"").toLowerCase()){case"l":D=-C.width/2;break;case"r":D=C.width/2;break}if(D&&(T+=o?D:-D),D=0,T+=(C.dummy?i:n)/2,T+=(S.dummy?i:n)/2,T+=S.width/2,S.hasOwnProperty("labelpos"))switch((S.labelpos||"").toLowerCase()){case"l":D=S.width/2;break;case"r":D=-S.width/2;break}return D&&(T+=o?D:-D),D=0,T},lh=(n,i)=>{var o;return((o=n.node(i))===null||o===void 0?void 0:o.width)||0};var Sf={positionX:mc,findType1Conflicts:Zr,findType2Conflicts:pi,addConflict:Jr,hasConflict:Hi,verticalAlignment:va,horizontalCompaction:ms,alignCoordinates:as,findSmallestWidthAlignment:_a,balance:Qs};const Th=n=>{const i=ql.buildLayerMatrix(n),o=n.graph().ranksep;let s=0;i==null||i.forEach(f=>{const h=f.map(S=>n.node(S).height),C=Math.max(...h);f==null||f.forEach(S=>{n.node(S).y=s+C/2}),s+=C+o})},cu=n=>{const i=ql.buildLayerMatrix(n),o=Object.assign(Zr(n,i),pi(n,i)),s={};let f;["u","d"].forEach(C=>{f=C==="u"?i:Object.values(i).reverse(),["l","r"].forEach(S=>{S==="r"&&(f=f.map(H=>Object.values(H).reverse()));const T=(C==="u"?n.predecessors:n.successors).bind(n),D=va(n,f,o,T),B=ms(n,f,D.root,D.align,S==="r");S==="r"&&Object.keys(B).forEach(H=>B[H]=-B[H]),s[C+S]=B})});const h=_a(n,s);return h&&as(s,h),Qs(s,n.graph().align)};var ep=n=>{var i;n=ql.asNonCompoundGraph(n),Th(n);const o=cu(n);(i=Object.keys(o))===null||i===void 0||i.forEach(s=>{n.node(s).x=o[s]})},gg=(n,i)=>{const s=n.nodes().filter(C=>{var S;return!(!((S=n.children(C))===null||S===void 0)&&S.length)}).map(C=>n.node(C).rank),f=Math.max(...s),h=[];for(let C=0;C<f+1;C++)h.push([]);i==null||i.forEach(C=>{const S=n.node(C);!S||S.dummy||isNaN(S.rank)||(S.fixorder=h[S.rank].length,h[S.rank].push(C))})};const r0=nf.Graph,Ip=(n,i)=>{const o=i&&i.debugTiming?ql.time:ql.notime;o("layout",()=>{i&&!i.keepNodeOrder&&i.prevGraph&&o("  inheritOrder",()=>{av(n,i.prevGraph)});const s=o("  buildLayoutGraph",()=>mg(n));i&&i.edgeLabelSpace===!1||o("  makeSpaceForEdgeLabels",()=>{tm(s)});try{o("  runLayout",()=>{vg(s,o,i)})}catch(f){if(f.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,f);return}throw f}o("  updateInputGraph",()=>{sv(n,s)})})},vg=(n,i,o)=>{i("    removeSelfEdges",()=>{uv(n)}),i("    acyclic",()=>{Bu.run(n)}),i("    nestingGraph.run",()=>{Oi.run(n)}),i("    rank",()=>{Di(ql.asNonCompoundGraph(n))}),i("    injectEdgeLabelProxies",()=>{ub(n)}),i("    removeEmptyRanks",()=>{Sd(n)}),i("    nestingGraph.cleanup",()=>{Oi.cleanup(n)}),i("    normalizeRanks",()=>{wd(n)}),i("    assignRankMinMax",()=>{fb(n)}),i("    removeEdgeLabelProxies",()=>{db(n)}),i("    normalize.run",()=>{wh.run(n)}),i("    parentDummyChains",()=>{Ci(n)}),i("    addBorderSegments",()=>{la(n)}),o&&o.keepNodeOrder&&i("    initDataOrder",()=>{gg(n,o.nodeOrder)}),i("    order",()=>{ln(n)}),i("    insertSelfEdges",()=>{yg(n)}),i("    adjustCoordinateSystem",()=>{sl.adjust(n)}),i("    position",()=>{ep(n)}),i("    positionSelfEdges",()=>{bg(n)}),i("    removeBorderNodes",()=>{nm(n)}),i("    normalize.undo",()=>{wh.undo(n)}),i("    fixupEdgeLabelCoords",()=>{rp(n)}),i("    undoCoordinateSystem",()=>{sl.undo(n)}),i("    translateGraph",()=>{o0(n)}),i("    assignNodeIntersects",()=>{a0(n)}),i("    reversePoints",()=>{_h(n)}),i("    acyclic.undo",()=>{Bu.undo(n)})},av=(n,i)=>{const o=i._nodes||{};n.nodes().forEach(s=>{const f=n.node(s);o[s]!==void 0?(f.fixorder=o[s]._order,delete o[s]._order):delete f.fixorder})},sv=(n,i)=>{n.nodes().forEach(o=>{var s;const f=n.node(o),h=i.node(o);f&&(f.x=h.x,f.y=h.y,f._order=h.order,f._rank=h.rank,!((s=i.children(o))===null||s===void 0)&&s.length&&(f.width=h.width,f.height=h.height))}),n.edges().forEach(o=>{const s=n.edge(o),f=i.edge(o);s.points=f.points,f.hasOwnProperty("x")&&(s.x=f.x,s.y=f.y)}),n.graph().width=i.graph().width,n.graph().height=i.graph().height},i0=["nodesep","edgesep","ranksep","marginx","marginy"],lv={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},tp=["acyclicer","ranker","rankdir","align"],kp=["width","height","layer","fixorder"],Il={width:0,height:0},cv=["minlen","weight","width","height","labeloffset"],np={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Oh=["labelpos"],mg=n=>{const i=new r0({multigraph:!0,compound:!0}),o=dv(n.graph()),s={};return tp==null||tp.forEach(f=>{o[f]!==void 0&&(s[f]=o[f])}),i.setGraph(Object.assign({},lv,fv(o,i0),s)),n.nodes().forEach(f=>{const h=dv(n.node(f)),C=fv(h,kp);Object.keys(Il).forEach(S=>{C[S]===void 0&&(C[S]=Il[S])}),i.setNode(f,C),i.setParent(f,n.parent(f))}),n.edges().forEach(f=>{const h=dv(n.edge(f)),C={};Oh==null||Oh.forEach(S=>{h[S]!==void 0&&(C[S]=h[S])}),i.setEdge(f,Object.assign({},np,fv(h,cv),C))}),i},tm=n=>{const i=n.graph();i.ranksep||(i.ranksep=0),i.ranksep/=2,n.nodes().forEach(o=>{const s=n.node(o);isNaN(s.layer)||(s.layer?s.layer*=2:s.layer=0)}),n.edges().forEach(o=>{var s;const f=n.edge(o);f.minlen*=2,((s=f.labelpos)===null||s===void 0?void 0:s.toLowerCase())!=="c"&&(i.rankdir==="TB"||i.rankdir==="BT"?f.width+=f.labeloffset:f.height+=f.labeloffset)})},ub=n=>{n.edges().forEach(i=>{const o=n.edge(i);if(o.width&&o.height){const s=n.node(i.v),f=n.node(i.w),h={e:i,rank:(f.rank-s.rank)/2+s.rank};ql.addDummyNode(n,"edge-proxy",h,"_ep")}})},fb=n=>{let i=0;n.nodes().forEach(o=>{const s=n.node(o);s.borderTop&&(s.minRank=n.node(s.borderTop).rank,s.maxRank=n.node(s.borderBottom).rank,i=Math.max(i,s.maxRank||-1/0))}),n.graph().maxRank=i},db=n=>{n.nodes().forEach(i=>{const o=n.node(i);o.dummy==="edge-proxy"&&(n.edge(o.e).labelRank=o.rank,n.removeNode(i))})},o0=n=>{let i=Number.POSITIVE_INFINITY,o=0,s=Number.POSITIVE_INFINITY,f=0;const h=n.graph(),C=h.marginx||0,S=h.marginy||0,T=D=>{if(!D)return;const B=D.x,H=D.y,ce=D.width,de=D.height;!isNaN(B)&&!isNaN(ce)&&(i=Math.min(i,B-ce/2),o=Math.max(o,B+ce/2)),!isNaN(H)&&!isNaN(de)&&(s=Math.min(s,H-de/2),f=Math.max(f,H+de/2))};n.nodes().forEach(D=>{T(n.node(D))}),n.edges().forEach(D=>{const B=n.edge(D);B.hasOwnProperty("x")&&T(B)}),i-=C,s-=S,n.nodes().forEach(D=>{const B=n.node(D);B.x-=i,B.y-=s}),n.edges().forEach(D=>{var B;const H=n.edge(D);(B=H.points)===null||B===void 0||B.forEach(ce=>{ce.x-=i,ce.y-=s}),H.hasOwnProperty("x")&&(H.x-=i),H.hasOwnProperty("y")&&(H.y-=s)}),h.width=o-i+C,h.height=f-s+S},a0=n=>{n.edges().forEach(i=>{const o=n.edge(i),s=n.node(i.v),f=n.node(i.w);let h,C;o.points?(h=o.points[0],C=o.points[o.points.length-1]):(o.points=[],h=f,C=s),o.points.unshift(ql.intersectRect(s,h)),o.points.push(ql.intersectRect(f,C))})},rp=n=>{n.edges().forEach(i=>{const o=n.edge(i);if(o.hasOwnProperty("x"))switch((o.labelpos==="l"||o.labelpos==="r")&&(o.width-=o.labeloffset),o.labelpos){case"l":o.x-=o.width/2+o.labeloffset;break;case"r":o.x+=o.width/2+o.labeloffset;break}})},_h=n=>{n.edges().forEach(i=>{const o=n.edge(i);o.reversed&&o.points.reverse()})},nm=n=>{n.nodes().forEach(i=>{var o,s,f;if(!((o=n.children(i))===null||o===void 0)&&o.length){const h=n.node(i),C=n.node(h.borderTop),S=n.node(h.borderBottom),T=n.node(h.borderLeft[((s=h.borderLeft)===null||s===void 0?void 0:s.length)-1]),D=n.node(h.borderRight[((f=h.borderRight)===null||f===void 0?void 0:f.length)-1]);h.width=Math.abs((D==null?void 0:D.x)-(T==null?void 0:T.x))||10,h.height=Math.abs((S==null?void 0:S.y)-(C==null?void 0:C.y))||10,h.x=((T==null?void 0:T.x)||0)+h.width/2,h.y=((C==null?void 0:C.y)||0)+h.height/2}}),n.nodes().forEach(i=>{n.node(i).dummy==="border"&&n.removeNode(i)})},uv=n=>{n.edges().forEach(i=>{if(i.v===i.w){const o=n.node(i.v);o.selfEdges||(o.selfEdges=[]),o.selfEdges.push({e:i,label:n.edge(i)}),n.removeEdge(i)}})},yg=n=>{const i=ql.buildLayerMatrix(n);i==null||i.forEach(o=>{let s=0;o==null||o.forEach((f,h)=>{var C;const S=n.node(f);S.order=h+s,(C=S.selfEdges)===null||C===void 0||C.forEach(T=>{ql.addDummyNode(n,"selfedge",{width:T.label.width,height:T.label.height,rank:S.rank,order:h+ ++s,e:T.e,label:T.label},"_se")}),delete S.selfEdges})})},bg=n=>{n.nodes().forEach(i=>{const o=n.node(i);if(o.dummy==="selfedge"){const s=n.node(o.e.v),f=s.x+s.width/2,h=s.y,C=o.x-f,S=s.height/2;n.setEdge(o.e,o.label),n.removeNode(i),o.label.points=[{x:f+2*C/3,y:h-S},{x:f+5*C/6,y:h-S},{y:h,x:f+C},{x:f+5*C/6,y:h+S},{x:f+2*C/3,y:h+S}],o.label.x=o.x,o.label.y=o.y}})},fv=(n,i)=>{const o={};return i==null||i.forEach(s=>{n[s]!==void 0&&(o[s]=+n[s])}),o},dv=n=>{const i={};return Object.keys(n).forEach(o=>{const s=n[o];i[o.toLowerCase()]=s}),i};var hv=Ip,Cg={graphlib:nf,layout:hv,util:{time:Lf,notime:Nc}};class pv extends ol{constructor(i){super(),this.rankdir="TB",this.nodesep=50,this.ranksep=50,this.controlPoints=!1,this.sortByCombo=!1,this.edgeLabelSpace=!0,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.layoutNode=o=>{const s=this,{nodes:f}=s,h=f.find(C=>C.id===o);return h?h.layout!==!1:!0},this.updateCfg(i)}getDefaultCfg(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}execute(){const i=this,{nodes:o,nodeSize:s,rankdir:f,combos:h,begin:C}=i;if(!o)return;const S=i.edges||[],T=new Cg.graphlib.Graph({multigraph:!0,compound:!0});let D;s?Xl(s)?D=()=>s:D=()=>[s,s]:D=xe=>xe.size?Xl(xe.size)?xe.size:Tc(xe.size)?[xe.size.width||40,xe.size.height||40]:[xe.size,xe.size]:[40,40];let B=xg(i.nodesepFunc,i.nodesep,50),H=xg(i.ranksepFunc,i.ranksep,50);(f==="LR"||f==="RL")&&(B=xg(i.ranksepFunc,i.ranksep,50),H=xg(i.nodesepFunc,i.nodesep,50)),T.setDefaultEdgeLabel(()=>({})),T.setGraph(i);const ce={};o.filter(xe=>xe.layout!==!1).forEach(xe=>{const Se=D(xe),We=H(xe),nt=B(xe),Gt=Se[0]+2*nt,wn=Se[1]+2*We,Pn=xe.layer;Xo(Pn)?T.setNode(xe.id,{width:Gt,height:wn,layer:Pn}):T.setNode(xe.id,{width:Gt,height:wn}),this.sortByCombo&&xe.comboId&&(ce[xe.comboId]||(ce[xe.comboId]=!0,T.setNode(xe.comboId,{})),T.setParent(xe.id,xe.comboId))}),this.sortByCombo&&h&&h.forEach(xe=>{xe.parentId&&(ce[xe.parentId]||(ce[xe.parentId]=!0,T.setNode(xe.parentId,{})),T.setParent(xe.id,xe.parentId))}),S.forEach(xe=>{const Se=Hs(xe,"source"),We=Hs(xe,"target");this.layoutNode(Se)&&this.layoutNode(We)&&T.setEdge(Se,We,{weight:xe.weight||1})});let de;i.preset&&(de=new Cg.graphlib.Graph({multigraph:!0,compound:!0}),i.preset.nodes.forEach(xe=>{de==null||de.setNode(xe.id,xe)})),Cg.layout(T,{prevGraph:de,edgeLabelSpace:i.edgeLabelSpace,keepNodeOrder:!!i.nodeOrder,nodeOrder:i.nodeOrder});const me=[0,0];if(C){let xe=1/0,Se=1/0;T.nodes().forEach(We=>{const nt=T.node(We);xe>nt.x&&(xe=nt.x),Se>nt.y&&(Se=nt.y)}),T.edges().forEach(We=>{T.edge(We).points.forEach(Gt=>{xe>Gt.x&&(xe=Gt.x),Se>Gt.y&&(Se=Gt.y)})}),me[0]=C[0]-xe,me[1]=C[1]-Se}return T.nodes().forEach(xe=>{const Se=T.node(xe),We=o.findIndex(nt=>nt.id===xe);o[We]&&(o[We].x=Se.x+me[0],o[We].y=Se.y+me[1],o[We]._order=Se._order)}),T.edges().forEach(xe=>{const Se=T.edge(xe),We=S.findIndex(nt=>{const Gt=Hs(nt,"source"),wn=Hs(nt,"target");return Gt===xe.v&&wn===xe.w});i.edgeLabelSpace&&i.controlPoints&&S[We].type!=="loop"&&(S[We].controlPoints=Se.points.slice(1,Se.points.length-1),S[We].controlPoints.forEach(nt=>{nt.x+=me[0],nt.y+=me[1]}))}),i.onLayoutEnd&&i.onLayoutEnd(),{nodes:o,edges:S}}getType(){return"dagre"}}function xg(n,i,o){let s;return n?s=n:Xo(i)?s=()=>i:s=()=>o,s}var El=l(49612),hb=El.XA,gv=El.a_,pb=El.yQ,gb=El.Hs,gl=El.Ec,Ah=El.dx,rm=El.LU,Lp=El.Rm,Td=El.y3,im=El.qK,Eg=El.pb,Dh=El.j,Bn=El.sO,Oo=El.BZ,Ra=El.EK,gd=El.Db,du=El.Fx,hu=El.tU,vv=El.Ym,Mf=El.rs,Fp=El.QR,Gp=El.TB,Ff=El.oH,Bp=El.Sc,s0=El.BN,l0=El.it,c0=El.$r,om=El.QM,am=El.AV,sm=(El.y3,El.y3),lm=El.GH,vb=El.SO,u0=El.uZ,mb=El.yU,wg=El.F1,ip=El.re;class cm{constructor(i){this.distances=i.distances,this.dimension=i.dimension||2,this.linkDistance=i.linkDistance}layout(){const i=this,{dimension:o,distances:s,linkDistance:f}=i;try{const h=Td.mul(Td.pow(s,2),-.5),C=h.mean("row"),S=h.mean("column"),T=h.mean();h.add(T).subRowVector(C).subColumnVector(S);const D=new Bp(h),B=Td.sqrt(D.diagonalMatrix).diagonal();return D.leftSingularVectors.toJSON().map(H=>Td.mul([H],[B]).toJSON()[0].splice(0,o))}catch(h){const C=[];for(let S=0;S<s.length;S++){const T=Math.random()*f,D=Math.random()*f;C.push([T,D])}return C}}}const rs=800;class ma{constructor(i){this.disp=[],this.positions=i.positions,this.adjMatrix=i.adjMatrix,this.focusID=i.focusID,this.radii=i.radii,this.iterations=i.iterations||10,this.height=i.height||10,this.width=i.width||10,this.speed=i.speed||100,this.gravity=i.gravity||10,this.nodeSizeFunc=i.nodeSizeFunc,this.k=i.k||5,this.strictRadial=i.strictRadial,this.nodes=i.nodes}layout(){const i=this,o=i.positions,s=[],f=i.iterations,h=i.width/10;i.maxDisplace=h,i.disp=s;for(let C=0;C<f;C++)o.forEach((S,T)=>{s[T]={x:0,y:0}}),i.getRepulsion(),i.updatePositions();return o}getRepulsion(){const i=this,o=i.positions,s=i.nodes,f=i.disp,h=i.k,C=i.radii||[];o.forEach((S,T)=>{f[T]={x:0,y:0},o.forEach((D,B)=>{if(T===B||C[T]!==C[B])return;let H=S[0]-D[0],ce=S[1]-D[1],de=Math.sqrt(H*H+ce*ce);if(de===0){de=1;const me=T>B?1:-1;H=.01*me,ce=.01*me}if(de<i.nodeSizeFunc(s[T])/2+i.nodeSizeFunc(s[B])/2){const me=h*h/de;f[T].x+=H/de*me,f[T].y+=ce/de*me}})})}updatePositions(){const i=this,o=i.positions,s=i.disp,f=i.speed,h=i.strictRadial,C=i.focusID,S=i.maxDisplace||i.width/10;h&&s.forEach((D,B)=>{const H=o[B][0]-o[C][0],ce=o[B][1]-o[C][1],de=Math.sqrt(H*H+ce*ce);let me=ce/de,xe=-H/de;const Se=Math.sqrt(D.x*D.x+D.y*D.y);let We=Math.acos((me*D.x+xe*D.y)/Se);We>Math.PI/2&&(We-=Math.PI/2,me*=-1,xe*=-1);const nt=Math.cos(We)*Se;D.x=me*nt,D.y=xe*nt});const T=i.radii;o.forEach((D,B)=>{if(B===C)return;const H=Math.sqrt(s[B].x*s[B].x+s[B].y*s[B].y);if(H>0&&B!==C){const ce=Math.min(S*(f/rs),H);if(D[0]+=s[B].x/H*ce,D[1]+=s[B].y/H*ce,h){let de=D[0]-o[C][0],me=D[1]-o[C][1];const xe=Math.sqrt(de*de+me*me);de=de/xe*T[B],me=me/xe*T[B],D[0]=o[C][0]+de,D[1]=o[C][1]+me}}})}}function f0(n){const i=n.length,o=n[0].length,s=[];for(let f=0;f<i;f++){const h=[];for(let C=0;C<o;C++)n[f][C]!==0?h.push(1/(n[f][C]*n[f][C])):h.push(0);s.push(h)}return s}function um(n,i){let o=-1;return n.forEach((s,f)=>{s.id===i&&(o=f)}),o}function mv(n,i){return Math.sqrt((n[0]-i[0])*(n[0]-i[0])+(n[1]-i[1])*(n[1]-i[1]))}class Sg extends ol{constructor(i){super(),this.maxIteration=1e3,this.focusNode=null,this.unitRadius=null,this.linkDistance=50,this.preventOverlap=!1,this.strictRadial=!0,this.maxPreventOverlapIteration=200,this.sortStrength=10,this.nodes=[],this.edges=[],this.updateCfg(i)}getDefaultCfg(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}execute(){const i=this,o=i.nodes,s=i.edges||[];if(!o||o.length===0){i.onLayoutEnd&&i.onLayoutEnd();return}!i.width&&typeof window!="undefined"&&(i.width=window.innerWidth),!i.height&&typeof window!="undefined"&&(i.height=window.innerHeight),i.center||(i.center=[i.width/2,i.height/2]);const f=i.center;if(o.length===1){o[0].x=f[0],o[0].y=f[1],i.onLayoutEnd&&i.onLayoutEnd();return}const h=i.linkDistance;let C=null;if(xl(i.focusNode)){let lo=!1;for(let Gi=0;Gi<o.length;Gi++)o[Gi].id===i.focusNode&&(C=o[Gi],i.focusNode=C,lo=!0,Gi=o.length);lo||(C=null)}else C=i.focusNode;C||(C=o[0],i.focusNode=C);const S=um(o,C.id);i.focusIndex=S;const T=Xs({nodes:o,edges:s},!1),D=sf(T),B=i.maxToFocus(D,S);i.handleInfinity(D,S,B+1),i.distances=D;const H=D[S],ce=i.width||500,de=i.height||500;let me=ce-f[0]>f[0]?f[0]:ce-f[0],xe=de-f[1]>f[1]?f[1]:de-f[1];me===0&&(me=ce/2),xe===0&&(xe=de/2);const Se=xe>me?me:xe,We=Math.max(...H),nt=[];H.forEach((lo,Gi)=>{i.unitRadius||(i.unitRadius=Se/We),nt[Gi]=lo*i.unitRadius}),i.radii=nt;const Gt=i.eIdealDisMatrix();i.eIdealDistances=Gt;const wn=f0(Gt);i.weights=wn;let Tr=new cm({linkDistance:h,distances:Gt}).layout();Tr.forEach(lo=>{$u(lo[0])&&(lo[0]=Math.random()*h),$u(lo[1])&&(lo[1]=Math.random()*h)}),i.positions=Tr,Tr.forEach((lo,Gi)=>{o[Gi].x=lo[0]+f[0],o[Gi].y=lo[1]+f[1]}),Tr.forEach(lo=>{lo[0]-=Tr[S][0],lo[1]-=Tr[S][1]}),i.run();const xi=i.preventOverlap,yi=i.nodeSize;let Uo;const wi=i.strictRadial;if(xi){const lo=i.nodeSpacing;let Gi;Xo(lo)?Gi=()=>lo:Mu(lo)?Gi=lo:Gi=()=>0,yi?Xl(yi)?Uo=ls=>(yi[0]>yi[1]?yi[0]:yi[1])+Gi(ls):Uo=ls=>yi+Gi(ls):Uo=ls=>ls.size?Xl(ls.size)?(ls.size[0]>ls.size[1]?ls.size[0]:ls.size[1])+Gi(ls):Tc(ls.size)?(ls.size.width>ls.size.height?ls.size.width:ls.size.height)+Gi(ls):ls.size+Gi(ls):10+Gi(ls);const ca={nodes:o,nodeSizeFunc:Uo,adjMatrix:T,positions:Tr,radii:nt,height:de,width:ce,strictRadial:wi,focusID:S,iterations:i.maxPreventOverlapIteration||200,k:Tr.length/4.5};Tr=new ma(ca).layout()}return Tr.forEach((lo,Gi)=>{o[Gi].x=lo[0]+f[0],o[Gi].y=lo[1]+f[1]}),i.onLayoutEnd&&i.onLayoutEnd(),{nodes:o,edges:s}}run(){const i=this,o=i.maxIteration,s=i.positions||[],f=i.weights||[],h=i.eIdealDistances||[],C=i.radii||[];for(let S=0;S<=o;S++){const T=S/o;i.oneIteration(T,s,C,h,f)}}oneIteration(i,o,s,f,h){const C=this,S=1-i,T=C.focusIndex;o.forEach((D,B)=>{const H=mv(D,[0,0]),ce=H===0?0:1/H;if(B===T)return;let de=0,me=0,xe=0;o.forEach((We,nt)=>{if(B===nt)return;const Gt=mv(D,We),wn=Gt===0?0:1/Gt,Pn=f[nt][B];xe+=h[B][nt],de+=h[B][nt]*(We[0]+Pn*(D[0]-We[0])*wn),me+=h[B][nt]*(We[1]+Pn*(D[1]-We[1])*wn)});const Se=s[B]===0?0:1/s[B];xe*=S,xe+=i*Se*Se,de*=S,de+=i*Se*D[0]*ce,D[0]=de/xe,me*=S,me+=i*Se*D[1]*ce,D[1]=me/xe})}eIdealDisMatrix(){const i=this,o=i.nodes;if(!o)return[];const s=i.distances,f=i.linkDistance,h=i.radii||[],C=i.unitRadius||50,S=[];return s&&s.forEach((T,D)=>{const B=[];T.forEach((H,ce)=>{if(D===ce)B.push(0);else if(h[D]===h[ce])if(i.sortBy==="data")B.push(H*(Math.abs(D-ce)*i.sortStrength)/(h[D]/C));else if(i.sortBy){let de=o[D][i.sortBy]||0,me=o[ce][i.sortBy]||0;xl(de)&&(de=de.charCodeAt(0)),xl(me)&&(me=me.charCodeAt(0)),B.push(H*(Math.abs(de-me)*i.sortStrength)/(h[D]/C))}else B.push(H*f/(h[D]/C));else{const de=(f+C)/2;B.push(H*de)}}),S.push(B)}),S}handleInfinity(i,o,s){const f=i.length;for(let h=0;h<f;h++)if(i[o][h]===1/0){i[o][h]=s,i[h][o]=s;for(let C=0;C<f;C++)i[h][C]!==1/0&&i[o][C]===1/0&&(i[o][C]=s+i[h][C],i[C][o]=s+i[h][C])}for(let h=0;h<f;h++)if(h!==o){for(let C=0;C<f;C++)if(i[h][C]===1/0){let S=Math.abs(i[o][h]-i[o][C]);S=S===0?1:S,i[h][C]=S}}}maxToFocus(i,o){let s=0;for(let f=0;f<i[o].length;f++)i[o][f]!==1/0&&(s=i[o][f]>s?i[o][f]:s);return s}getType(){return"radial"}}class fm extends ol{constructor(i){super(),this.nodeSize=30,this.minNodeSpacing=10,this.preventOverlap=!1,this.equidistant=!1,this.startAngle=3/2*Math.PI,this.clockwise=!0,this.sortBy="degree",this.nodes=[],this.edges=[],this.width=300,this.height=300,this.onLayoutEnd=()=>{},this.updateCfg(i)}getDefaultCfg(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}execute(){const i=this,o=i.nodes,s=i.edges,f=o.length;if(f===0){i.onLayoutEnd&&i.onLayoutEnd();return}!i.width&&typeof window!="undefined"&&(i.width=window.innerWidth),!i.height&&typeof window!="undefined"&&(i.height=window.innerHeight),i.center||(i.center=[i.width/2,i.height/2]);const h=i.center;if(f===1){o[0].x=h[0],o[0].y=h[1],i.onLayoutEnd&&i.onLayoutEnd();return}const C=[];let S;Xl(i.nodeSize)?S=Math.max(i.nodeSize[0],i.nodeSize[1]):S=i.nodeSize,o.forEach(me=>{C.push(me);let xe=S;Xl(me.size)?xe=Math.max(me.size[0],me.size[1]):Xo(me.size)?xe=me.size:Tc(me.size)&&(xe=Math.max(me.size.width,me.size.height)),S=Math.max(S,xe)}),i.clockwise=i.counterclockwise!==void 0?!i.counterclockwise:i.clockwise;const T={},D={};if(C.forEach((me,xe)=>{T[me.id]=me,D[me.id]=xe}),(i.sortBy==="degree"||!xl(i.sortBy)||C[0][i.sortBy]===void 0)&&(i.sortBy="degree",!Xo(o[0].degree))){const me=tu(o.length,D,s);C.forEach((xe,Se)=>{xe.degree=me[Se]})}C.sort((me,xe)=>xe[i.sortBy]-me[i.sortBy]),i.maxValueNode=C[0],i.maxLevelDiff=i.maxLevelDiff||i.maxValueNode[i.sortBy]/4;const B=[[]];let H=B[0];C.forEach(me=>{if(H.length>0){const xe=Math.abs(H[0][i.sortBy]-me[i.sortBy]);i.maxLevelDiff&&xe>=i.maxLevelDiff&&(H=[],B.push(H))}H.push(me)});let ce=S+i.minNodeSpacing;if(!i.preventOverlap){const me=B.length>0&&B[0].length>1,Se=(Math.min(i.width,i.height)/2-ce)/(B.length+(me?1:0));ce=Math.min(ce,Se)}let de=0;if(B.forEach(me=>{let xe=i.sweep;xe===void 0&&(xe=2*Math.PI-2*Math.PI/me.length);const Se=me.dTheta=xe/Math.max(1,me.length-1);if(me.length>1&&i.preventOverlap){const We=Math.cos(Se)-Math.cos(0),nt=Math.sin(Se)-Math.sin(0),Gt=Math.sqrt(ce*ce/(We*We+nt*nt));de=Math.max(Gt,de)}me.r=de,de+=ce}),i.equidistant){let me=0,xe=0;for(let Se=0;Se<B.length;Se++){const nt=B[Se].r-xe;me=Math.max(me,nt)}xe=0,B.forEach((Se,We)=>{We===0&&(xe=Se.r),Se.r=xe,xe+=me})}return B.forEach(me=>{const xe=me.dTheta,Se=me.r;me.forEach((We,nt)=>{const Gt=i.startAngle+(i.clockwise?1:-1)*xe*nt;We.x=h[0]+Se*Math.cos(Gt),We.y=h[1]+Se*Math.sin(Gt)})}),i.onLayoutEnd&&i.onLayoutEnd(),{nodes:o,edges:s}}getType(){return"concentric"}}class yv extends ol{constructor(i){super(),this.center=[0,0],this.linkDistance=50,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.updateCfg(i)}getDefaultCfg(){return{center:[0,0],linkDistance:50}}execute(){const i=this,{nodes:o,edges:s=[]}=i,f=i.center;if(!o||o.length===0){i.onLayoutEnd&&i.onLayoutEnd();return}if(o.length===1){o[0].x=f[0],o[0].y=f[1],i.onLayoutEnd&&i.onLayoutEnd();return}const h=i.linkDistance,C=Xs({nodes:o,edges:s},!1),S=sf(C);i.handleInfinity(S);const T=mf(S,h);i.scaledDistances=T;const D=i.runMDS();return i.positions=D,D.forEach((B,H)=>{o[H].x=B[0]+f[0],o[H].y=B[1]+f[1]}),i.onLayoutEnd&&i.onLayoutEnd(),{nodes:o,edges:s}}runMDS(){const i=this,o=2,s=i.scaledDistances,f=Td.mul(Td.pow(s,2),-.5),h=f.mean("row"),C=f.mean("column"),S=f.mean();f.add(S).subRowVector(h).subColumnVector(C);const T=new Bp(f),D=Td.sqrt(T.diagonalMatrix).diagonal();return T.leftSingularVectors.toJSON().map(B=>Td.mul([B],[D]).toJSON()[0].splice(0,o))}handleInfinity(i){let o=-999999;i.forEach(s=>{s.forEach(f=>{f!==1/0&&o<f&&(o=f)})}),i.forEach((s,f)=>{s.forEach((h,C)=>{h===1/0&&(i[f][C]=o)})})}getType(){return"mds"}}const dm=800;class bv extends ol{constructor(i){super(),this.maxIteration=1e3,this.workerEnabled=!1,this.gravity=10,this.speed=5,this.clustering=!1,this.clusterGravity=10,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.onLayoutEnd=()=>{},this.tick=()=>{},this.updateCfg(i)}getDefaultCfg(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}execute(){var i,o;const s=this,f=s.nodes;if(s.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(s.timeInterval),!f||f.length===0){(i=s.onLayoutEnd)===null||i===void 0||i.call(s);return}!s.width&&typeof window!="undefined"&&(s.width=window.innerWidth),!s.height&&typeof window!="undefined"&&(s.height=window.innerHeight),s.center||(s.center=[s.width/2,s.height/2]);const h=s.center;if(f.length===1){f[0].x=h[0],f[0].y=h[1],(o=s.onLayoutEnd)===null||o===void 0||o.call(s);return}const C={},S={};return f.forEach((T,D)=>{Xo(T.x)||(T.x=Math.random()*this.width),Xo(T.y)||(T.y=Math.random()*this.height),C[T.id]=T,S[T.id]=D}),s.nodeMap=C,s.nodeIdxMap=S,s.run()}run(){var i;const o=this,s=o.nodes;if(!s)return;const{edges:f,maxIteration:h,workerEnabled:C,clustering:S}=o,T={};if(S&&s.forEach(D=>{T[D.cluster]===void 0&&(T[D.cluster]={name:D.cluster,cx:0,cy:0,count:0})}),C){for(let D=0;D<h;D++)o.runOneStep(T);(i=o.onLayoutEnd)===null||i===void 0||i.call(o)}else{if(typeof window=="undefined")return;let D=0;this.timeInterval=window.setInterval(()=>{var B;o.runOneStep(T),D++,D>=h&&((B=o.onLayoutEnd)===null||B===void 0||B.call(o),window.clearInterval(o.timeInterval))},0)}return{nodes:s,edges:f}}runOneStep(i){var o;const s=this,f=s.nodes;if(!f)return;const{edges:h,center:C,gravity:S,speed:T,clustering:D}=s,B=s.height*s.width,H=Math.sqrt(B)/10,ce=B/(f.length+1),de=Math.sqrt(ce),me=[];if(f.forEach((xe,Se)=>{me[Se]={x:0,y:0}}),s.applyCalculate(f,h,me,de,ce),D){for(const Se in i)i[Se].cx=0,i[Se].cy=0,i[Se].count=0;f.forEach(Se=>{const We=i[Se.cluster];Xo(Se.x)&&(We.cx+=Se.x),Xo(Se.y)&&(We.cy+=Se.y),We.count++});for(const Se in i)i[Se].cx/=i[Se].count,i[Se].cy/=i[Se].count;const xe=s.clusterGravity||S;f.forEach((Se,We)=>{if(!Xo(Se.x)||!Xo(Se.y))return;const nt=i[Se.cluster],Gt=Math.sqrt((Se.x-nt.cx)*(Se.x-nt.cx)+(Se.y-nt.cy)*(Se.y-nt.cy)),wn=de*xe;me[We].x-=wn*(Se.x-nt.cx)/Gt,me[We].y-=wn*(Se.y-nt.cy)/Gt})}f.forEach((xe,Se)=>{if(!Xo(xe.x)||!Xo(xe.y))return;const We=.01*de*S;me[Se].x-=We*(xe.x-C[0]),me[Se].y-=We*(xe.y-C[1])}),f.forEach((xe,Se)=>{if(Xo(xe.fx)&&Xo(xe.fy)){xe.x=xe.fx,xe.y=xe.fy;return}if(!Xo(xe.x)||!Xo(xe.y))return;const We=Math.sqrt(me[Se].x*me[Se].x+me[Se].y*me[Se].y);if(We>0){const nt=Math.min(H*(T/dm),We);xe.x+=me[Se].x/We*nt,xe.y+=me[Se].y/We*nt}}),(o=s.tick)===null||o===void 0||o.call(s)}applyCalculate(i,o,s,f,h){const C=this;C.calRepulsive(i,s,h),o&&C.calAttractive(o,s,f)}calRepulsive(i,o,s){i.forEach((f,h)=>{o[h]={x:0,y:0},i.forEach((C,S)=>{if(h===S||!Xo(f.x)||!Xo(C.x)||!Xo(f.y)||!Xo(C.y))return;let T=f.x-C.x,D=f.y-C.y,B=T*T+D*D;if(B===0){B=1;const ce=h>S?1:-1;T=.01*ce,D=.01*ce}const H=s/B;o[h].x+=T*H,o[h].y+=D*H})})}calAttractive(i,o,s){i.forEach(f=>{const h=Hs(f,"source"),C=Hs(f,"target");if(!h||!C)return;const S=this.nodeIdxMap[h],T=this.nodeIdxMap[C];if(S===T)return;const D=this.nodeMap[h],B=this.nodeMap[C];if(!Xo(B.x)||!Xo(D.x)||!Xo(B.y)||!Xo(D.y))return;const H=B.x-D.x,ce=B.y-D.y,de=Math.sqrt(H*H+ce*ce),me=de*de/s;o[T].x-=H/de*me,o[T].y-=ce/de*me,o[S].x+=H/de*me,o[S].y+=ce/de*me})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}destroy(){const i=this;i.stop(),i.tick=null,i.nodes=null,i.edges=null,i.destroyed=!0}getType(){return"fruchterman"}}function Wa(n,i,o,s){o&&Object.defineProperty(n,i,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(s):void 0})}var oa=l(15671),ss=l(43144);function Qa(n,i,o,s,f){var h={};return Object.keys(s).forEach(function(C){h[C]=s[C]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=o.slice().reverse().reduce(function(C,S){return S(n,i,C)||C},h),f&&h.initializer!==void 0&&(h.value=h.initializer?h.initializer.call(f):void 0,h.initializer=void 0),h.initializer===void 0?(Object.defineProperty(n,i,h),null):h}var d0=l(64687),aa=l.n(d0),kl=l(15861),Zp=-1,ch=1;function Ss(){return ch++}var uh=function n(i){(0,oa.Z)(this,n)},pu=function(){function n(i){(0,oa.Z)(this,n),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=i}return(0,ss.Z)(n,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(o){return this.lookup[o]>-1}},{key:"create",value:function(o,s){this.lookup[o]=this.components.length;var f=new this.clazz(s||{});return this.components.push(f),this.entities.push(o),f}},{key:"remove",value:function(o){var s=this.lookup[o];s>-1&&s<this.components.length-1&&(this.components[s]=this.components[this.components.length-1],this.entities[s]=this.entities[this.entities.length-1],this.lookup[this.entities[s]]=s),this.components.pop(),this.entities.pop(),delete this.lookup[o]}},{key:"removeKeepSorted",value:function(o){var s=this.lookup[o];if(s>-1){var f=this.entities[s];if(s<this.components.length-1){for(var h=s+1;h<this.components.length;++h)this.components[h-1]=this.components[h];for(var C=s+1;C<this.entities.length;++C)this.entities[C-1]=this.entities[C],this.lookup[this.entities[C-1]]=C-1}this.components.pop(),this.entities.pop(),delete this.lookup[f]}}},{key:"moveItem",value:function(o,s){if(o!==s){for(var f=this.components[o],h=this.entities[o],C=o<s?1:-1,S=o;S!==s;S+=C){var T=S+C;this.components[S]=this.components[T],this.entities[S]=this.entities[T],this.lookup[this.entities[S]]=S}this.components[s]=f,this.entities[s]=h,this.lookup[h]=s}}},{key:"getEntity",value:function(o){return this.entities[o]}},{key:"getComponent",value:function(o){return this.components[o]}},{key:"getComponentByEntity",value:function(o){var s=this.lookup[o];return s>-1?this.components[s]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(o){for(var s=0,f=Object.keys(this.lookup);s<f.length;s++){var h=f[s],C=Number(h);if(this.lookup[C]===o)return C}return Zp}},{key:"find",value:function(o){for(var s=0;s<this.getCount();s++){var f=this.getComponent(s);if(o(f,s))return f}return null}},{key:"findIndex",value:function(o){for(var s=0;s<this.getCount();s++){var f=this.getComponent(s);if(o(f,s))return s}return-1}},{key:"forEach",value:function(o){for(var s=0,f=Object.keys(this.lookup);s<f.length;s++){var h=f[s],C=Number(h),S=this.lookup[C];o(C,this.getComponent(S))}}},{key:"forEachAsync",value:function(){var i=(0,kl.Z)(aa().mark(function s(f){var h,C,S,T,D;return aa().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:h=0,C=Object.keys(this.lookup);case 1:if(!(h<C.length)){H.next=10;break}return S=C[h],T=Number(S),D=this.lookup[T],H.next=7,f(T,this.getComponent(D));case 7:h++,H.next=1;break;case 10:case"end":return H.stop()}},s,this)}));function o(s){return i.apply(this,arguments)}return o}()},{key:"map",value:function(o){for(var s=[],f=0,h=Object.keys(this.lookup);f<h.length;f++){var C=h[f],S=Number(C),T=this.lookup[S];s.push(o(S,this.getComponent(T)))}return s}}]),n}(),Zc=l(97685),ho=l(86700),Ai={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},zp=function n(){(0,oa.Z)(this,n),this.index=void 0},hm=function n(){(0,oa.Z)(this,n),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},h0=function(){function n(){(0,oa.Z)(this,n),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return(0,ss.Z)(n,[{key:"read",value:function(o){return this.reads.find(function(s){return s.index===o.index})||this.reads.push(o),o}},{key:"sample",value:function(o){return this.read(o),o}},{key:"write",value:function(o,s){var f=this.writes.find(function(T){return T.index===s.index});if(f)return s;var h=o.getResourceNode(s);h.resource.version++,h.resource.imported&&(this.hasSideEffect=!0);var C=o.createResourceNode(h.resource),S=o.getResourceNode(C);return S.writer=this,this.writes.push(C),C}}]),n}(),ff=l(32531),Ku=l(82963),Ms=l(61120),op=function n(){(0,oa.Z)(this,n),this.first=void 0,this.last=void 0};function Gf(n){var i=Ud();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function Ud(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var Vd=function(n){(0,ff.Z)(o,n);var i=Gf(o);function o(){var s;(0,oa.Z)(this,o);for(var f=arguments.length,h=new Array(f),C=0;C<f;C++)h[C]=arguments[C];return s=i.call.apply(i,[this].concat(h)),s.version=0,s.refs=0,s.name=void 0,s.imported=void 0,s.priority=void 0,s.discardStart=!0,s.discardEnd=!1,s.descriptor=void 0,s.resource=void 0,s}return(0,ss.Z)(o,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),o}(op),Yc=function n(){(0,oa.Z)(this,n),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0},Xc,Mg,Cv,Pg,rd,xv;function id(n,i){var o;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(o=Pf(n))||i&&n&&typeof n.length=="number"){o&&(n=o);var s=0,f=function(){};return{s:f,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(D){throw D},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,C=!1,S;return{s:function(){o=n[Symbol.iterator]()},n:function(){var D=o.next();return h=D.done,D},e:function(D){C=!0,S=D},f:function(){try{!h&&o.return!=null&&o.return()}finally{if(C)throw S}}}}function Pf(n,i){if(n){if(typeof n=="string")return Ev(n,i);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Ev(n,i)}}function Ev(n,i){(i==null||i>n.length)&&(i=n.length);for(var o=0,s=new Array(i);o<i;o++)s[o]=n[o];return s}var ap=(Xc=(0,ho.b2)(),Mg=(0,ho.f3)(Ai.RenderEngine),Xc(Cv=(Pg=(xv=function(){function n(){(0,oa.Z)(this,n),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],Wa(this,"engine",rd,this)}return(0,ss.Z)(n,[{key:"execute",value:function(){var i=(0,kl.Z)(aa().mark(function s(f){return aa().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.compile(),C.next=3,this.executePassNodes(f);case 3:case"end":return C.stop()}},s,this)}));function o(s){return i.apply(this,arguments)}return o}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(o){o.tearDown&&o.tearDown()}),this.reset()}},{key:"addPass",value:function(o,s,f,h){var C=new hm;C.execute=f,h&&(C.tearDown=h),C.name=o;var S=new h0;return S.name=o,this.passNodes.push(S),this.frameGraphPasses.push(C),s(this,S,C),C}},{key:"getPass",value:function(o){return this.frameGraphPasses.find(function(s){return s.name===o})}},{key:"compile",value:function(){var o=this,s=id(this.passNodes),f;try{for(s.s();!(f=s.n()).done;){var h=f.value;h.refCount=h.writes.length+(h.hasSideEffect?1:0),h.reads.forEach(function(Kl){o.resourceNodes[Kl.index].readerCount++})}}catch(Kl){s.e(Kl)}finally{s.f()}var C=[],S=id(this.resourceNodes),T;try{for(S.s();!(T=S.n()).done;){var D=T.value;D.readerCount===0&&C.push(D)}}catch(Kl){S.e(Kl)}finally{S.f()}for(;C.length;){var B=C.pop(),H=B&&B.writer;if(H&&--H.refCount===0){var ce=id(H.reads),de;try{for(ce.s();!(de=ce.n()).done;){var me=de.value,xe=this.resourceNodes[me.index];--xe.readerCount===0&&C.push(xe)}}catch(Kl){ce.e(Kl)}finally{ce.f()}}}this.resourceNodes.forEach(function(Kl){Kl.resource.refs+=Kl.readerCount});var Se=id(this.passNodes),We;try{for(Se.s();!(We=Se.n()).done;){var nt=We.value;if(nt.refCount){var Gt=id(nt.reads),wn;try{for(Gt.s();!(wn=Gt.n()).done;){var Pn=wn.value,Tr=this.resourceNodes[Pn.index].resource;Tr.first=Tr.first?Tr.first:nt,Tr.last=nt}}catch(Kl){Gt.e(Kl)}finally{Gt.f()}var xi=id(nt.writes),yi;try{for(xi.s();!(yi=xi.n()).done;){var Uo=yi.value,wi=this.resourceNodes[Uo.index].resource;wi.first=wi.first?wi.first:nt,wi.last=nt}}catch(Kl){xi.e(Kl)}finally{xi.f()}}}}catch(Kl){Se.e(Kl)}finally{Se.f()}for(var lo=0;lo<2;lo++){var Gi=id(this.resourceNodes),ca;try{for(Gi.s();!(ca=Gi.n()).done;){var Ko=ca.value,ls=Ko.resource;if(ls.priority===lo&&ls.refs){var qc=ls.first,_f=ls.last;qc&&_f&&(qc.devirtualize.push(ls),_f.destroy.push(ls))}}}catch(Kl){Gi.e(Kl)}finally{Gi.f()}}}},{key:"executePassNodes",value:function(){var i=(0,kl.Z)(aa().mark(function s(f){var h,C,S,T,D,B,H,ce,de,me,xe,Se,We,nt,Gt,wn,Pn;return aa().wrap(function(xi){for(;;)switch(xi.prev=xi.next){case 0:h=id(this.passNodes.entries()),xi.prev=1,h.s();case 3:if((C=h.n()).done){xi.next=18;break}if(S=(0,Zc.Z)(C.value,2),T=S[0],D=S[1],!D.refCount){xi.next=16;break}B=id(D.devirtualize);try{for(B.s();!(H=B.n()).done;)ce=H.value,ce.preExecuteDevirtualize(this.engine)}catch(yi){B.e(yi)}finally{B.f()}de=id(D.destroy);try{for(de.s();!(me=de.n()).done;)xe=me.value,xe.preExecuteDestroy(this.engine)}catch(yi){de.e(yi)}finally{de.f()}return xi.next=12,this.frameGraphPasses[T].execute(this,this.frameGraphPasses[T],f);case 12:Se=id(D.devirtualize);try{for(Se.s();!(We=Se.n()).done;)nt=We.value,nt.postExecuteDevirtualize(this.engine)}catch(yi){Se.e(yi)}finally{Se.f()}Gt=id(D.destroy);try{for(Gt.s();!(wn=Gt.n()).done;)Pn=wn.value,Pn.postExecuteDestroy(this.engine)}catch(yi){Gt.e(yi)}finally{Gt.f()}case 16:xi.next=3;break;case 18:xi.next=23;break;case 20:xi.prev=20,xi.t0=xi.catch(1),h.e(xi.t0);case 23:return xi.prev=23,h.f(),xi.finish(23);case 26:this.reset();case 27:case"end":return xi.stop()}},s,this,[[1,20,23,26]])}));function o(s){return i.apply(this,arguments)}return o}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(o){return this.resourceNodes[o.index]}},{key:"createResourceNode",value:function(o){var s=new Yc;s.resource=o,s.version=o.version,this.resourceNodes.push(s);var f=new zp;return f.index=this.resourceNodes.length-1,f}},{key:"createTexture",value:function(o,s,f){var h=new Vd;return h.name=s,h.descriptor=f,this.createResourceNode(h)}},{key:"createRenderTarget",value:function(o,s,f){var h=new Vd;return h.name=s,h.descriptor=f,this.createResourceNode(h)}},{key:"present",value:function(o){this.addPass("Present",function(s,f){f.read(o),f.hasSideEffect=!0},(0,kl.Z)(aa().mark(function s(){return aa().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:case"end":return h.stop()}},s)})))}}]),n}(),xv),rd=Qa(Pg.prototype,"engine",[Mg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pg))||Cv),ai=l(4942),gu=l(97326),Od=1e-6,Ec=typeof Float32Array!="undefined"?Float32Array:Array,$f=Math.random;function Nh(n){Ec=n}var pm=Math.PI/180;function gm(n){return n*pm}function vm(n,i){return Math.abs(n-i)<=Od*Math.max(1,Math.abs(n),Math.abs(i))}Math.hypot||(Math.hypot=function(){for(var n=0,i=arguments.length;i--;)n+=arguments[i]*arguments[i];return Math.sqrt(n)});function sp(){var n=new Ec(4);return Ec!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0),n}function p0(n){var i=new Ec(4);return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i}function Tg(n,i,o,s){var f=new Ec(4);return f[0]=n,f[1]=i,f[2]=o,f[3]=s,f}function _d(n,i){return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n}function $s(n,i,o,s,f){return n[0]=i,n[1]=o,n[2]=s,n[3]=f,n}function Og(n,i,o){return n[0]=i[0]+o[0],n[1]=i[1]+o[1],n[2]=i[2]+o[2],n[3]=i[3]+o[3],n}function Bf(n,i,o){return n[0]=i[0]-o[0],n[1]=i[1]-o[1],n[2]=i[2]-o[2],n[3]=i[3]-o[3],n}function jd(n,i,o){return n[0]=i[0]*o[0],n[1]=i[1]*o[1],n[2]=i[2]*o[2],n[3]=i[3]*o[3],n}function wv(n,i,o){return n[0]=i[0]/o[0],n[1]=i[1]/o[1],n[2]=i[2]/o[2],n[3]=i[3]/o[3],n}function ac(n,i){return n[0]=Math.ceil(i[0]),n[1]=Math.ceil(i[1]),n[2]=Math.ceil(i[2]),n[3]=Math.ceil(i[3]),n}function yb(n,i){return n[0]=Math.floor(i[0]),n[1]=Math.floor(i[1]),n[2]=Math.floor(i[2]),n[3]=Math.floor(i[3]),n}function mm(n,i,o){return n[0]=Math.min(i[0],o[0]),n[1]=Math.min(i[1],o[1]),n[2]=Math.min(i[2],o[2]),n[3]=Math.min(i[3],o[3]),n}function Sv(n,i,o){return n[0]=Math.max(i[0],o[0]),n[1]=Math.max(i[1],o[1]),n[2]=Math.max(i[2],o[2]),n[3]=Math.max(i[3],o[3]),n}function ym(n,i){return n[0]=Math.round(i[0]),n[1]=Math.round(i[1]),n[2]=Math.round(i[2]),n[3]=Math.round(i[3]),n}function bm(n,i,o){return n[0]=i[0]*o,n[1]=i[1]*o,n[2]=i[2]*o,n[3]=i[3]*o,n}function bb(n,i,o,s){return n[0]=i[0]+o[0]*s,n[1]=i[1]+o[1]*s,n[2]=i[2]+o[2]*s,n[3]=i[3]+o[3]*s,n}function Cb(n,i){var o=i[0]-n[0],s=i[1]-n[1],f=i[2]-n[2],h=i[3]-n[3];return Math.hypot(o,s,f,h)}function Mv(n,i){var o=i[0]-n[0],s=i[1]-n[1],f=i[2]-n[2],h=i[3]-n[3];return o*o+s*s+f*f+h*h}function _g(n){var i=n[0],o=n[1],s=n[2],f=n[3];return Math.hypot(i,o,s,f)}function ru(n){var i=n[0],o=n[1],s=n[2],f=n[3];return i*i+o*o+s*s+f*f}function xb(n,i){return n[0]=-i[0],n[1]=-i[1],n[2]=-i[2],n[3]=-i[3],n}function Eb(n,i){return n[0]=1/i[0],n[1]=1/i[1],n[2]=1/i[2],n[3]=1/i[3],n}function g0(n,i){var o=i[0],s=i[1],f=i[2],h=i[3],C=o*o+s*s+f*f+h*h;return C>0&&(C=1/Math.sqrt(C)),n[0]=o*C,n[1]=s*C,n[2]=f*C,n[3]=h*C,n}function v0(n,i){return n[0]*i[0]+n[1]*i[1]+n[2]*i[2]+n[3]*i[3]}function wb(n,i,o,s){var f=o[0]*s[1]-o[1]*s[0],h=o[0]*s[2]-o[2]*s[0],C=o[0]*s[3]-o[3]*s[0],S=o[1]*s[2]-o[2]*s[1],T=o[1]*s[3]-o[3]*s[1],D=o[2]*s[3]-o[3]*s[2],B=i[0],H=i[1],ce=i[2],de=i[3];return n[0]=H*D-ce*T+de*S,n[1]=-(B*D)+ce*C-de*h,n[2]=B*T-H*C+de*f,n[3]=-(B*S)+H*h-ce*f,n}function Cm(n,i,o,s){var f=i[0],h=i[1],C=i[2],S=i[3];return n[0]=f+s*(o[0]-f),n[1]=h+s*(o[1]-h),n[2]=C+s*(o[2]-C),n[3]=S+s*(o[3]-S),n}function Pv(n,i){i=i||1;var o,s,f,h,C,S;do o=glMatrix.RANDOM()*2-1,s=glMatrix.RANDOM()*2-1,C=o*o+s*s;while(C>=1);do f=glMatrix.RANDOM()*2-1,h=glMatrix.RANDOM()*2-1,S=f*f+h*h;while(S>=1);var T=Math.sqrt((1-C)/S);return n[0]=i*o,n[1]=i*s,n[2]=i*f*T,n[3]=i*h*T,n}function lp(n,i,o){var s=i[0],f=i[1],h=i[2],C=i[3];return n[0]=o[0]*s+o[4]*f+o[8]*h+o[12]*C,n[1]=o[1]*s+o[5]*f+o[9]*h+o[13]*C,n[2]=o[2]*s+o[6]*f+o[10]*h+o[14]*C,n[3]=o[3]*s+o[7]*f+o[11]*h+o[15]*C,n}function m0(n,i,o){var s=i[0],f=i[1],h=i[2],C=o[0],S=o[1],T=o[2],D=o[3],B=D*s+S*h-T*f,H=D*f+T*s-C*h,ce=D*h+C*f-S*s,de=-C*s-S*f-T*h;return n[0]=B*D+de*-C+H*-T-ce*-S,n[1]=H*D+de*-S+ce*-C-B*-T,n[2]=ce*D+de*-T+B*-S-H*-C,n[3]=i[3],n}function Sb(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n}function xm(n){return"vec4("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")"}function Em(n,i){return n[0]===i[0]&&n[1]===i[1]&&n[2]===i[2]&&n[3]===i[3]}function Yu(n,i){var o=n[0],s=n[1],f=n[2],h=n[3],C=i[0],S=i[1],T=i[2],D=i[3];return Math.abs(o-C)<=Od*Math.max(1,Math.abs(o),Math.abs(C))&&Math.abs(s-S)<=Od*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(f-T)<=Od*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(h-D)<=Od*Math.max(1,Math.abs(h),Math.abs(D))}var Wf=null,wm=null,Mb=null,Sm=null,Mm=null,Pb=null,Tb=null,Ob=function(){var n=sp();return function(i,o,s,f,h,C){var S,T;for(o||(o=4),s||(s=0),f?T=Math.min(f*o+s,i.length):T=i.length,S=s;S<T;S+=o)n[0]=i[S],n[1]=i[S+1],n[2]=i[S+2],n[3]=i[S+3],h(n,n,C),i[S]=n[0],i[S+1]=n[1],i[S+2]=n[2],i[S+3]=n[3];return i}}();function cp(){var n=new Ec(9);return Ec!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function Pm(n,i){return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[4],n[4]=i[5],n[5]=i[6],n[6]=i[8],n[7]=i[9],n[8]=i[10],n}function _b(n){var i=new glMatrix.ARRAY_TYPE(9);return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i}function Ab(n,i){return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n}function Ag(n,i,o,s,f,h,C,S,T){var D=new glMatrix.ARRAY_TYPE(9);return D[0]=n,D[1]=i,D[2]=o,D[3]=s,D[4]=f,D[5]=h,D[6]=C,D[7]=S,D[8]=T,D}function fh(n,i,o,s,f,h,C,S,T,D){return n[0]=i,n[1]=o,n[2]=s,n[3]=f,n[4]=h,n[5]=C,n[6]=S,n[7]=T,n[8]=D,n}function Tm(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function Om(n,i){if(n===i){var o=i[1],s=i[2],f=i[5];n[1]=i[3],n[2]=i[6],n[3]=o,n[5]=i[7],n[6]=s,n[7]=f}else n[0]=i[0],n[1]=i[3],n[2]=i[6],n[3]=i[1],n[4]=i[4],n[5]=i[7],n[6]=i[2],n[7]=i[5],n[8]=i[8];return n}function _m(n,i){var o=i[0],s=i[1],f=i[2],h=i[3],C=i[4],S=i[5],T=i[6],D=i[7],B=i[8],H=B*C-S*D,ce=-B*h+S*T,de=D*h-C*T,me=o*H+s*ce+f*de;return me?(me=1/me,n[0]=H*me,n[1]=(-B*s+f*D)*me,n[2]=(S*s-f*C)*me,n[3]=ce*me,n[4]=(B*o-f*T)*me,n[5]=(-S*o+f*h)*me,n[6]=de*me,n[7]=(-D*o+s*T)*me,n[8]=(C*o-s*h)*me,n):null}function Db(n,i){var o=i[0],s=i[1],f=i[2],h=i[3],C=i[4],S=i[5],T=i[6],D=i[7],B=i[8];return n[0]=C*B-S*D,n[1]=f*D-s*B,n[2]=s*S-f*C,n[3]=S*T-h*B,n[4]=o*B-f*T,n[5]=f*h-o*S,n[6]=h*D-C*T,n[7]=s*T-o*D,n[8]=o*C-s*h,n}function Up(n){var i=n[0],o=n[1],s=n[2],f=n[3],h=n[4],C=n[5],S=n[6],T=n[7],D=n[8];return i*(D*h-C*T)+o*(-D*f+C*S)+s*(T*f-h*S)}function Am(n,i,o){var s=i[0],f=i[1],h=i[2],C=i[3],S=i[4],T=i[5],D=i[6],B=i[7],H=i[8],ce=o[0],de=o[1],me=o[2],xe=o[3],Se=o[4],We=o[5],nt=o[6],Gt=o[7],wn=o[8];return n[0]=ce*s+de*C+me*D,n[1]=ce*f+de*S+me*B,n[2]=ce*h+de*T+me*H,n[3]=xe*s+Se*C+We*D,n[4]=xe*f+Se*S+We*B,n[5]=xe*h+Se*T+We*H,n[6]=nt*s+Gt*C+wn*D,n[7]=nt*f+Gt*S+wn*B,n[8]=nt*h+Gt*T+wn*H,n}function Nb(n,i,o){var s=i[0],f=i[1],h=i[2],C=i[3],S=i[4],T=i[5],D=i[6],B=i[7],H=i[8],ce=o[0],de=o[1];return n[0]=s,n[1]=f,n[2]=h,n[3]=C,n[4]=S,n[5]=T,n[6]=ce*s+de*C+D,n[7]=ce*f+de*S+B,n[8]=ce*h+de*T+H,n}function Vp(n,i,o){var s=i[0],f=i[1],h=i[2],C=i[3],S=i[4],T=i[5],D=i[6],B=i[7],H=i[8],ce=Math.sin(o),de=Math.cos(o);return n[0]=de*s+ce*C,n[1]=de*f+ce*S,n[2]=de*h+ce*T,n[3]=de*C-ce*s,n[4]=de*S-ce*f,n[5]=de*T-ce*h,n[6]=D,n[7]=B,n[8]=H,n}function Rb(n,i,o){var s=o[0],f=o[1];return n[0]=s*i[0],n[1]=s*i[1],n[2]=s*i[2],n[3]=f*i[3],n[4]=f*i[4],n[5]=f*i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n}function Ib(n,i){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=i[0],n[7]=i[1],n[8]=1,n}function Dm(n,i){var o=Math.sin(i),s=Math.cos(i);return n[0]=s,n[1]=o,n[2]=0,n[3]=-o,n[4]=s,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function Nm(n,i){return n[0]=i[0],n[1]=0,n[2]=0,n[3]=0,n[4]=i[1],n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function kb(n,i){return n[0]=i[0],n[1]=i[1],n[2]=0,n[3]=i[2],n[4]=i[3],n[5]=0,n[6]=i[4],n[7]=i[5],n[8]=1,n}function Lb(n,i){var o=i[0],s=i[1],f=i[2],h=i[3],C=o+o,S=s+s,T=f+f,D=o*C,B=s*C,H=s*S,ce=f*C,de=f*S,me=f*T,xe=h*C,Se=h*S,We=h*T;return n[0]=1-H-me,n[3]=B-We,n[6]=ce+Se,n[1]=B+We,n[4]=1-D-me,n[7]=de-xe,n[2]=ce-Se,n[5]=de+xe,n[8]=1-D-H,n}function Rm(n,i){var o=i[0],s=i[1],f=i[2],h=i[3],C=i[4],S=i[5],T=i[6],D=i[7],B=i[8],H=i[9],ce=i[10],de=i[11],me=i[12],xe=i[13],Se=i[14],We=i[15],nt=o*S-s*C,Gt=o*T-f*C,wn=o*D-h*C,Pn=s*T-f*S,Tr=s*D-h*S,xi=f*D-h*T,yi=B*xe-H*me,Uo=B*Se-ce*me,wi=B*We-de*me,lo=H*Se-ce*xe,Gi=H*We-de*xe,ca=ce*We-de*Se,Ko=nt*ca-Gt*Gi+wn*lo+Pn*wi-Tr*Uo+xi*yi;return Ko?(Ko=1/Ko,n[0]=(S*ca-T*Gi+D*lo)*Ko,n[1]=(T*wi-C*ca-D*Uo)*Ko,n[2]=(C*Gi-S*wi+D*yi)*Ko,n[3]=(f*Gi-s*ca-h*lo)*Ko,n[4]=(o*ca-f*wi+h*Uo)*Ko,n[5]=(s*wi-o*Gi-h*yi)*Ko,n[6]=(xe*xi-Se*Tr+We*Pn)*Ko,n[7]=(Se*wn-me*xi-We*Gt)*Ko,n[8]=(me*Tr-xe*wn+We*nt)*Ko,n):null}function Fb(n,i,o){return n[0]=2/i,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/o,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,n}function Gb(n){return"mat3("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+")"}function Bb(n){return Math.hypot(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])}function Im(n,i,o){return n[0]=i[0]+o[0],n[1]=i[1]+o[1],n[2]=i[2]+o[2],n[3]=i[3]+o[3],n[4]=i[4]+o[4],n[5]=i[5]+o[5],n[6]=i[6]+o[6],n[7]=i[7]+o[7],n[8]=i[8]+o[8],n}function Zb(n,i,o){return n[0]=i[0]-o[0],n[1]=i[1]-o[1],n[2]=i[2]-o[2],n[3]=i[3]-o[3],n[4]=i[4]-o[4],n[5]=i[5]-o[5],n[6]=i[6]-o[6],n[7]=i[7]-o[7],n[8]=i[8]-o[8],n}function zb(n,i,o){return n[0]=i[0]*o,n[1]=i[1]*o,n[2]=i[2]*o,n[3]=i[3]*o,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=i[7]*o,n[8]=i[8]*o,n}function Ub(n,i,o,s){return n[0]=i[0]+o[0]*s,n[1]=i[1]+o[1]*s,n[2]=i[2]+o[2]*s,n[3]=i[3]+o[3]*s,n[4]=i[4]+o[4]*s,n[5]=i[5]+o[5]*s,n[6]=i[6]+o[6]*s,n[7]=i[7]+o[7]*s,n[8]=i[8]+o[8]*s,n}function Vb(n,i){return n[0]===i[0]&&n[1]===i[1]&&n[2]===i[2]&&n[3]===i[3]&&n[4]===i[4]&&n[5]===i[5]&&n[6]===i[6]&&n[7]===i[7]&&n[8]===i[8]}function Rh(n,i){var o=n[0],s=n[1],f=n[2],h=n[3],C=n[4],S=n[5],T=n[6],D=n[7],B=n[8],H=i[0],ce=i[1],de=i[2],me=i[3],xe=i[4],Se=i[5],We=i[6],nt=i[7],Gt=i[8];return Math.abs(o-H)<=glMatrix.EPSILON*Math.max(1,Math.abs(o),Math.abs(H))&&Math.abs(s-ce)<=glMatrix.EPSILON*Math.max(1,Math.abs(s),Math.abs(ce))&&Math.abs(f-de)<=glMatrix.EPSILON*Math.max(1,Math.abs(f),Math.abs(de))&&Math.abs(h-me)<=glMatrix.EPSILON*Math.max(1,Math.abs(h),Math.abs(me))&&Math.abs(C-xe)<=glMatrix.EPSILON*Math.max(1,Math.abs(C),Math.abs(xe))&&Math.abs(S-Se)<=glMatrix.EPSILON*Math.max(1,Math.abs(S),Math.abs(Se))&&Math.abs(T-We)<=glMatrix.EPSILON*Math.max(1,Math.abs(T),Math.abs(We))&&Math.abs(D-nt)<=glMatrix.EPSILON*Math.max(1,Math.abs(D),Math.abs(nt))&&Math.abs(B-Gt)<=glMatrix.EPSILON*Math.max(1,Math.abs(B),Math.abs(Gt))}var km=null,jb=null;function ec(){var n=new Ec(3);return Ec!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function Ad(n){var i=new Ec(3);return i[0]=n[0],i[1]=n[1],i[2]=n[2],i}function Dg(n){var i=n[0],o=n[1],s=n[2];return Math.hypot(i,o,s)}function Js(n,i,o){var s=new Ec(3);return s[0]=n,s[1]=i,s[2]=o,s}function rf(n,i){return n[0]=i[0],n[1]=i[1],n[2]=i[2],n}function up(n,i,o,s){return n[0]=i,n[1]=o,n[2]=s,n}function $d(n,i,o){return n[0]=i[0]+o[0],n[1]=i[1]+o[1],n[2]=i[2]+o[2],n}function Tv(n,i,o){return n[0]=i[0]-o[0],n[1]=i[1]-o[1],n[2]=i[2]-o[2],n}function Lm(n,i,o){return n[0]=i[0]*o[0],n[1]=i[1]*o[1],n[2]=i[2]*o[2],n}function $b(n,i,o){return n[0]=i[0]/o[0],n[1]=i[1]/o[1],n[2]=i[2]/o[2],n}function Fm(n,i){return n[0]=Math.ceil(i[0]),n[1]=Math.ceil(i[1]),n[2]=Math.ceil(i[2]),n}function Ov(n,i){return n[0]=Math.floor(i[0]),n[1]=Math.floor(i[1]),n[2]=Math.floor(i[2]),n}function Gm(n,i,o){return n[0]=Math.min(i[0],o[0]),n[1]=Math.min(i[1],o[1]),n[2]=Math.min(i[2],o[2]),n}function Bm(n,i,o){return n[0]=Math.max(i[0],o[0]),n[1]=Math.max(i[1],o[1]),n[2]=Math.max(i[2],o[2]),n}function Wb(n,i){return n[0]=Math.round(i[0]),n[1]=Math.round(i[1]),n[2]=Math.round(i[2]),n}function Hf(n,i,o){return n[0]=i[0]*o,n[1]=i[1]*o,n[2]=i[2]*o,n}function Hb(n,i,o,s){return n[0]=i[0]+o[0]*s,n[1]=i[1]+o[1]*s,n[2]=i[2]+o[2]*s,n}function jp(n,i){var o=i[0]-n[0],s=i[1]-n[1],f=i[2]-n[2];return Math.hypot(o,s,f)}function Kb(n,i){var o=i[0]-n[0],s=i[1]-n[1],f=i[2]-n[2];return o*o+s*s+f*f}function Yb(n){var i=n[0],o=n[1],s=n[2];return i*i+o*o+s*s}function Xb(n,i){return n[0]=-i[0],n[1]=-i[1],n[2]=-i[2],n}function Tf(n,i){return n[0]=1/i[0],n[1]=1/i[1],n[2]=1/i[2],n}function Ih(n,i){var o=i[0],s=i[1],f=i[2],h=o*o+s*s+f*f;return h>0&&(h=1/Math.sqrt(h)),n[0]=i[0]*h,n[1]=i[1]*h,n[2]=i[2]*h,n}function Wd(n,i){return n[0]*i[0]+n[1]*i[1]+n[2]*i[2]}function _v(n,i,o){var s=i[0],f=i[1],h=i[2],C=o[0],S=o[1],T=o[2];return n[0]=f*T-h*S,n[1]=h*C-s*T,n[2]=s*S-f*C,n}function dh(n,i,o,s){var f=i[0],h=i[1],C=i[2];return n[0]=f+s*(o[0]-f),n[1]=h+s*(o[1]-h),n[2]=C+s*(o[2]-C),n}function Qb(n,i,o,s,f,h){var C=h*h,S=C*(2*h-3)+1,T=C*(h-2)+h,D=C*(h-1),B=C*(3-2*h);return n[0]=i[0]*S+o[0]*T+s[0]*D+f[0]*B,n[1]=i[1]*S+o[1]*T+s[1]*D+f[1]*B,n[2]=i[2]*S+o[2]*T+s[2]*D+f[2]*B,n}function Av(n,i,o,s,f,h){var C=1-h,S=C*C,T=h*h,D=S*C,B=3*h*S,H=3*T*C,ce=T*h;return n[0]=i[0]*D+o[0]*B+s[0]*H+f[0]*ce,n[1]=i[1]*D+o[1]*B+s[1]*H+f[1]*ce,n[2]=i[2]*D+o[2]*B+s[2]*H+f[2]*ce,n}function Jb(n,i){i=i||1;var o=glMatrix.RANDOM()*2*Math.PI,s=glMatrix.RANDOM()*2-1,f=Math.sqrt(1-s*s)*i;return n[0]=Math.cos(o)*f,n[1]=Math.sin(o)*f,n[2]=s*i,n}function $p(n,i,o){var s=i[0],f=i[1],h=i[2],C=o[3]*s+o[7]*f+o[11]*h+o[15];return C=C||1,n[0]=(o[0]*s+o[4]*f+o[8]*h+o[12])/C,n[1]=(o[1]*s+o[5]*f+o[9]*h+o[13])/C,n[2]=(o[2]*s+o[6]*f+o[10]*h+o[14])/C,n}function Dv(n,i,o){var s=i[0],f=i[1],h=i[2];return n[0]=s*o[0]+f*o[3]+h*o[6],n[1]=s*o[1]+f*o[4]+h*o[7],n[2]=s*o[2]+f*o[5]+h*o[8],n}function Ng(n,i,o){var s=o[0],f=o[1],h=o[2],C=o[3],S=i[0],T=i[1],D=i[2],B=f*D-h*T,H=h*S-s*D,ce=s*T-f*S,de=f*ce-h*H,me=h*B-s*ce,xe=s*H-f*B,Se=C*2;return B*=Se,H*=Se,ce*=Se,de*=2,me*=2,xe*=2,n[0]=S+B+de,n[1]=T+H+me,n[2]=D+ce+xe,n}function Dd(n,i,o,s){var f=[],h=[];return f[0]=i[0]-o[0],f[1]=i[1]-o[1],f[2]=i[2]-o[2],h[0]=f[0],h[1]=f[1]*Math.cos(s)-f[2]*Math.sin(s),h[2]=f[1]*Math.sin(s)+f[2]*Math.cos(s),n[0]=h[0]+o[0],n[1]=h[1]+o[1],n[2]=h[2]+o[2],n}function qb(n,i,o,s){var f=[],h=[];return f[0]=i[0]-o[0],f[1]=i[1]-o[1],f[2]=i[2]-o[2],h[0]=f[2]*Math.sin(s)+f[0]*Math.cos(s),h[1]=f[1],h[2]=f[2]*Math.cos(s)-f[0]*Math.sin(s),n[0]=h[0]+o[0],n[1]=h[1]+o[1],n[2]=h[2]+o[2],n}function Zm(n,i,o,s){var f=[],h=[];return f[0]=i[0]-o[0],f[1]=i[1]-o[1],f[2]=i[2]-o[2],h[0]=f[0]*Math.cos(s)-f[1]*Math.sin(s),h[1]=f[0]*Math.sin(s)+f[1]*Math.cos(s),h[2]=f[2],n[0]=h[0]+o[0],n[1]=h[1]+o[1],n[2]=h[2]+o[2],n}function e1(n,i){var o=n[0],s=n[1],f=n[2],h=i[0],C=i[1],S=i[2],T=Math.sqrt(o*o+s*s+f*f),D=Math.sqrt(h*h+C*C+S*S),B=T*D,H=B&&Wd(n,i)/B;return Math.acos(Math.min(Math.max(H,-1),1))}function t1(n){return n[0]=0,n[1]=0,n[2]=0,n}function hh(n){return"vec3("+n[0]+", "+n[1]+", "+n[2]+")"}function Rg(n,i){return n[0]===i[0]&&n[1]===i[1]&&n[2]===i[2]}function Zu(n,i){var o=n[0],s=n[1],f=n[2],h=i[0],C=i[1],S=i[2];return Math.abs(o-h)<=glMatrix.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-C)<=glMatrix.EPSILON*Math.max(1,Math.abs(s),Math.abs(C))&&Math.abs(f-S)<=glMatrix.EPSILON*Math.max(1,Math.abs(f),Math.abs(S))}var Nv=Tv,n1=null,r1=null,y0=jp,i1=null,b0=Dg,o1=null,a1=function(){var n=ec();return function(i,o,s,f,h,C){var S,T;for(o||(o=3),s||(s=0),f?T=Math.min(f*o+s,i.length):T=i.length,S=s;S<T;S+=o)n[0]=i[S],n[1]=i[S+1],n[2]=i[S+2],h(n,n,C),i[S]=n[0],i[S+1]=n[1],i[S+2]=n[2];return i}}(),fp=l(71002),zm=9007199254740991,Um="[object Arguments]",kh="[object Array]",C0="[object Boolean]",x0="[object Date]",E0="[object Error]",Vm="[object Function]",dp="[object Map]",Kf="[object Number]",vu="[object Object]",w0="[object RegExp]",jm="[object Set]",y="[object String]",_="[object WeakMap]",q="[object ArrayBuffer]",Fe="[object DataView]",wt="[object Float32Array]",rn="[object Float64Array]",rr="[object Int8Array]",Sr="[object Int16Array]",qr="[object Int32Array]",qi="[object Uint8Array]",to="[object Uint8ClampedArray]",Mo="[object Uint16Array]",Ma="[object Uint32Array]",ia={};ia[wt]=ia[rn]=ia[rr]=ia[Sr]=ia[qr]=ia[qi]=ia[to]=ia[Mo]=ia[Ma]=!0,ia[Um]=ia[kh]=ia[q]=ia[C0]=ia[Fe]=ia[x0]=ia[E0]=ia[Vm]=ia[dp]=ia[Kf]=ia[vu]=ia[w0]=ia[jm]=ia[y]=ia[_]=!1;function Ls(n){return function(i){return n(i)}}var ml=Object.prototype,Is=ml.toString;function Ll(n){return Ou(n)&&wl(n.length)&&!!ia[Is.call(n)]}function wl(n){return typeof n=="number"&&n>-1&&n%1===0&&n<=zm}function Ou(n){return!!n&&(0,fp.Z)(n)==="object"}var df=Ll;function Eu(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);i&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,s)}return o}function mu(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?Eu(Object(o),!0).forEach(function(s){(0,ai.Z)(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Eu(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}function vd(n){var i=Hd();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function Hd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var S0=function(n){(0,ff.Z)(o,n);var i=vd(o);function o(s){var f;return(0,oa.Z)(this,o),f=i.call(this,s),f.dirty=!0,f.attributes=[],f.indices=void 0,f.indicesBuffer=void 0,f.vertexCount=0,f.maxInstancedCount=void 0,f.aabb=void 0,f.entity=void 0,Object.assign((0,gu.Z)(f),s),f}return(0,ss.Z)(o,[{key:"setAttribute",value:function(f,h,C,S){var T=this.attributes.find(function(D){return D.name===f});return T?(T.data=h,T.dirty=!0):this.attributes.push(mu(mu({dirty:!0,name:f,data:h},C),{},{bufferGetter:S})),this.dirty=!0,this}},{key:"setIndex",value:function(f){return this.indices=new Uint32Array(f.buffer?f.buffer:f),this.dirty=!0,this}},{key:"applyMatrix",value:function(f){var h=this.attributes.find(function(ce){var de=ce.name;return de==="position"}),C=this.attributes.find(function(ce){var de=ce.name;return de==="normal"});if(h&&(h.dirty=!0,h.data&&h.data.length))for(var S=0;S<h.data.length;S+=3){var T=Tg(h.data[S],h.data[S+1],h.data[S+2],1);lp(T,T,f),df(h.data)?h.data.set([T[0],T[1],T[2]],S):(h.data[S]=T[0],h.data[S+1]=T[1],h.data[S+2]=T[2])}if(C){var D=Rm(cp(),f);if(C.data&&C.data.length)for(var B=0;B<C.data.length;B+=3){var H=Js(C.data[B],C.data[B+1],C.data[B+2]);Dv(H,H,D),Ih(H,H),df(C.data)?C.data.set([H[0],H[1],H[2]],B):(C.data[B]=H[0],C.data[B+1]=H[1],C.data[B+2]=H[2])}}}}]),o}(uh),Vr;(function(n){n[n.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",n[n.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",n[n.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n[n.ZERO=0]="ZERO",n[n.ONE=1]="ONE",n[n.SRC_COLOR=768]="SRC_COLOR",n[n.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",n[n.SRC_ALPHA=770]="SRC_ALPHA",n[n.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",n[n.DST_ALPHA=772]="DST_ALPHA",n[n.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",n[n.DST_COLOR=774]="DST_COLOR",n[n.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",n[n.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",n[n.FUNC_ADD=32774]="FUNC_ADD",n[n.BLEND_EQUATION=32777]="BLEND_EQUATION",n[n.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",n[n.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",n[n.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",n[n.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",n[n.MAX_EXT=32776]="MAX_EXT",n[n.MIN_EXT=32775]="MIN_EXT",n[n.BLEND_DST_RGB=32968]="BLEND_DST_RGB",n[n.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",n[n.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",n[n.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",n[n.CONSTANT_COLOR=32769]="CONSTANT_COLOR",n[n.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",n[n.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",n[n.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",n[n.BLEND_COLOR=32773]="BLEND_COLOR",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",n[n.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",n[n.STREAM_DRAW=35040]="STREAM_DRAW",n[n.STATIC_DRAW=35044]="STATIC_DRAW",n[n.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",n[n.BUFFER_SIZE=34660]="BUFFER_SIZE",n[n.BUFFER_USAGE=34661]="BUFFER_USAGE",n[n.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",n[n.FRONT=1028]="FRONT",n[n.BACK=1029]="BACK",n[n.FRONT_AND_BACK=1032]="FRONT_AND_BACK",n[n.CULL_FACE=2884]="CULL_FACE",n[n.BLEND=3042]="BLEND",n[n.DITHER=3024]="DITHER",n[n.STENCIL_TEST=2960]="STENCIL_TEST",n[n.DEPTH_TEST=2929]="DEPTH_TEST",n[n.SCISSOR_TEST=3089]="SCISSOR_TEST",n[n.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",n[n.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",n[n.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",n[n.NO_ERROR=0]="NO_ERROR",n[n.INVALID_ENUM=1280]="INVALID_ENUM",n[n.INVALID_VALUE=1281]="INVALID_VALUE",n[n.INVALID_OPERATION=1282]="INVALID_OPERATION",n[n.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",n[n.CW=2304]="CW",n[n.CCW=2305]="CCW",n[n.LINE_WIDTH=2849]="LINE_WIDTH",n[n.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",n[n.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",n[n.CULL_FACE_MODE=2885]="CULL_FACE_MODE",n[n.FRONT_FACE=2886]="FRONT_FACE",n[n.DEPTH_RANGE=2928]="DEPTH_RANGE",n[n.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",n[n.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",n[n.DEPTH_FUNC=2932]="DEPTH_FUNC",n[n.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",n[n.STENCIL_FUNC=2962]="STENCIL_FUNC",n[n.STENCIL_FAIL=2964]="STENCIL_FAIL",n[n.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",n[n.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",n[n.STENCIL_REF=2967]="STENCIL_REF",n[n.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",n[n.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",n[n.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",n[n.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",n[n.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",n[n.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",n[n.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",n[n.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",n[n.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",n[n.VIEWPORT=2978]="VIEWPORT",n[n.SCISSOR_BOX=3088]="SCISSOR_BOX",n[n.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",n[n.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",n[n.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",n[n.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",n[n.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",n[n.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",n[n.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",n[n.RED_BITS=3410]="RED_BITS",n[n.GREEN_BITS=3411]="GREEN_BITS",n[n.BLUE_BITS=3412]="BLUE_BITS",n[n.ALPHA_BITS=3413]="ALPHA_BITS",n[n.DEPTH_BITS=3414]="DEPTH_BITS",n[n.STENCIL_BITS=3415]="STENCIL_BITS",n[n.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",n[n.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",n[n.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",n[n.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",n[n.SAMPLES=32937]="SAMPLES",n[n.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",n[n.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",n[n.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",n[n.DONT_CARE=4352]="DONT_CARE",n[n.FASTEST=4353]="FASTEST",n[n.NICEST=4354]="NICEST",n[n.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",n[n.BYTE=5120]="BYTE",n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.SHORT=5122]="SHORT",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.INT=5124]="INT",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.FLOAT=5126]="FLOAT",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.ALPHA=6406]="ALPHA",n[n.RGB=6407]="RGB",n[n.RGBA=6408]="RGBA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",n[n.VERTEX_SHADER=35633]="VERTEX_SHADER",n[n.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",n[n.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",n[n.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",n[n.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",n[n.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",n[n.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",n[n.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",n[n.SHADER_TYPE=35663]="SHADER_TYPE",n[n.DELETE_STATUS=35712]="DELETE_STATUS",n[n.LINK_STATUS=35714]="LINK_STATUS",n[n.VALIDATE_STATUS=35715]="VALIDATE_STATUS",n[n.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",n[n.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",n[n.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",n[n.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",n[n.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",n[n.NEVER=512]="NEVER",n[n.LESS=513]="LESS",n[n.EQUAL=514]="EQUAL",n[n.LEQUAL=515]="LEQUAL",n[n.GREATER=516]="GREATER",n[n.NOTEQUAL=517]="NOTEQUAL",n[n.GEQUAL=518]="GEQUAL",n[n.ALWAYS=519]="ALWAYS",n[n.KEEP=7680]="KEEP",n[n.REPLACE=7681]="REPLACE",n[n.INCR=7682]="INCR",n[n.DECR=7683]="DECR",n[n.INVERT=5386]="INVERT",n[n.INCR_WRAP=34055]="INCR_WRAP",n[n.DECR_WRAP=34056]="DECR_WRAP",n[n.VENDOR=7936]="VENDOR",n[n.RENDERER=7937]="RENDERER",n[n.VERSION=7938]="VERSION",n[n.NEAREST=9728]="NEAREST",n[n.LINEAR=9729]="LINEAR",n[n.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",n[n.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",n[n.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",n[n.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",n[n.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",n[n.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",n[n.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",n[n.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE=5890]="TEXTURE",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n[n.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",n[n.TEXTURE0=33984]="TEXTURE0",n[n.TEXTURE1=33985]="TEXTURE1",n[n.TEXTURE2=33986]="TEXTURE2",n[n.TEXTURE3=33987]="TEXTURE3",n[n.TEXTURE4=33988]="TEXTURE4",n[n.TEXTURE5=33989]="TEXTURE5",n[n.TEXTURE6=33990]="TEXTURE6",n[n.TEXTURE7=33991]="TEXTURE7",n[n.TEXTURE8=33992]="TEXTURE8",n[n.TEXTURE9=33993]="TEXTURE9",n[n.TEXTURE10=33994]="TEXTURE10",n[n.TEXTURE11=33995]="TEXTURE11",n[n.TEXTURE12=33996]="TEXTURE12",n[n.TEXTURE13=33997]="TEXTURE13",n[n.TEXTURE14=33998]="TEXTURE14",n[n.TEXTURE15=33999]="TEXTURE15",n[n.TEXTURE16=34e3]="TEXTURE16",n[n.TEXTURE17=34001]="TEXTURE17",n[n.TEXTURE18=34002]="TEXTURE18",n[n.TEXTURE19=34003]="TEXTURE19",n[n.TEXTURE20=34004]="TEXTURE20",n[n.TEXTURE21=34005]="TEXTURE21",n[n.TEXTURE22=34006]="TEXTURE22",n[n.TEXTURE23=34007]="TEXTURE23",n[n.TEXTURE24=34008]="TEXTURE24",n[n.TEXTURE25=34009]="TEXTURE25",n[n.TEXTURE26=34010]="TEXTURE26",n[n.TEXTURE27=34011]="TEXTURE27",n[n.TEXTURE28=34012]="TEXTURE28",n[n.TEXTURE29=34013]="TEXTURE29",n[n.TEXTURE30=34014]="TEXTURE30",n[n.TEXTURE31=34015]="TEXTURE31",n[n.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",n[n.REPEAT=10497]="REPEAT",n[n.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n[n.FLOAT_VEC2=35664]="FLOAT_VEC2",n[n.FLOAT_VEC3=35665]="FLOAT_VEC3",n[n.FLOAT_VEC4=35666]="FLOAT_VEC4",n[n.INT_VEC2=35667]="INT_VEC2",n[n.INT_VEC3=35668]="INT_VEC3",n[n.INT_VEC4=35669]="INT_VEC4",n[n.BOOL=35670]="BOOL",n[n.BOOL_VEC2=35671]="BOOL_VEC2",n[n.BOOL_VEC3=35672]="BOOL_VEC3",n[n.BOOL_VEC4=35673]="BOOL_VEC4",n[n.FLOAT_MAT2=35674]="FLOAT_MAT2",n[n.FLOAT_MAT3=35675]="FLOAT_MAT3",n[n.FLOAT_MAT4=35676]="FLOAT_MAT4",n[n.SAMPLER_2D=35678]="SAMPLER_2D",n[n.SAMPLER_CUBE=35680]="SAMPLER_CUBE",n[n.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",n[n.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",n[n.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",n[n.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",n[n.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",n[n.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",n[n.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",n[n.COMPILE_STATUS=35713]="COMPILE_STATUS",n[n.LOW_FLOAT=36336]="LOW_FLOAT",n[n.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",n[n.HIGH_FLOAT=36338]="HIGH_FLOAT",n[n.LOW_INT=36339]="LOW_INT",n[n.MEDIUM_INT=36340]="MEDIUM_INT",n[n.HIGH_INT=36341]="HIGH_INT",n[n.FRAMEBUFFER=36160]="FRAMEBUFFER",n[n.RENDERBUFFER=36161]="RENDERBUFFER",n[n.RGBA4=32854]="RGBA4",n[n.RGB5_A1=32855]="RGB5_A1",n[n.RGB565=36194]="RGB565",n[n.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",n[n.STENCIL_INDEX=6401]="STENCIL_INDEX",n[n.STENCIL_INDEX8=36168]="STENCIL_INDEX8",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n[n.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",n[n.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",n[n.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",n[n.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",n[n.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",n[n.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",n[n.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",n[n.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",n[n.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",n[n.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",n[n.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",n[n.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",n[n.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",n[n.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",n[n.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",n[n.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",n[n.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",n[n.NONE=0]="NONE",n[n.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",n[n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",n[n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",n[n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",n[n.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",n[n.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",n[n.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",n[n.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",n[n.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",n[n.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",n[n.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",n[n.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",n[n.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",n[n.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",n[n.COPY_SRC=1]="COPY_SRC",n[n.COPY_DST=2]="COPY_DST",n[n.SAMPLED=4]="SAMPLED",n[n.STORAGE=8]="STORAGE",n[n.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(Vr||(Vr={}));var s1,l1,c1,u1,Rv,$m,Wm,f1,uC=(s1=(0,ho.b2)(),l1=(0,ho.f3)(Ai.GeometryComponentManager),c1=(0,ho.f3)(Ai.RenderEngine),s1(u1=(Rv=(f1=function(){function n(){(0,oa.Z)(this,n),Wa(this,"geometry",$m,this),Wa(this,"engine",Wm,this)}return(0,ss.Z)(n,[{key:"execute",value:function(){var i=(0,kl.Z)(aa().mark(function s(){var f=this;return aa().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:this.geometry.forEach(function(S,T){T.dirty&&(T.attributes.forEach(function(D){if(D.dirty&&D.data){if(!D.buffer)D.buffer=f.engine.createBuffer({data:D.data,type:Vr.FLOAT});else{var B;(B=D.buffer)===null||B===void 0||B.subData({data:D.data,offset:0})}D.dirty=!1}}),T.indices&&(T.indicesBuffer?T.indicesBuffer.subData({data:T.indices,offset:0}):T.indicesBuffer=f.engine.createElements({data:T.indices,count:T.indices.length,type:Vr.UNSIGNED_INT,usage:Vr.STATIC_DRAW})),T.dirty=!1)});case 1:case"end":return C.stop()}},s,this)}));function o(){return i.apply(this,arguments)}return o}()},{key:"tearDown",value:function(){this.geometry.forEach(function(o,s){s.indicesBuffer&&s.indicesBuffer.destroy(),s.attributes.forEach(function(f){f.buffer&&f.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},s=o.vertexCount,f=Ss();return this.geometry.create(f,{vertexCount:s})}},{key:"createInstancedBufferGeometry",value:function(o){var s=o.maxInstancedCount,f=o.vertexCount,h=Ss();return this.geometry.create(h,{maxInstancedCount:s,vertexCount:f})}}]),n}(),f1),$m=Qa(Rv.prototype,"geometry",[l1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wm=Qa(Rv.prototype,"engine",[c1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rv))||u1);function Hm(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);i&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,s)}return o}function hp(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?Hm(Object(o),!0).forEach(function(s){(0,ai.Z)(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Hm(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}function Lh(n){var i=fC();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function fC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var Iv=function(n){(0,ff.Z)(o,n);var i=Lh(o);function o(s){var f;return(0,oa.Z)(this,o),f=i.call(this,s),f.vertexShaderGLSL=void 0,f.fragmentShaderGLSL=void 0,f.defines={},f.dirty=!0,f.uniforms=[],f.cull={enable:!0,face:Vr.BACK},f.depth={enable:!0},f.blend=void 0,f.entity=void 0,f.type=void 0,Object.assign((0,gu.Z)(f),s),f}return(0,ss.Z)(o,[{key:"setDefines",value:function(f){return this.defines=hp(hp({},this.defines),f),this}},{key:"setCull",value:function(f){return this.cull=f,this}},{key:"setDepth",value:function(f){return this.depth=f,this}},{key:"setBlend",value:function(f){return this.blend=f,this}},{key:"setUniform",value:function(f,h){var C=this;if(typeof f!="string")return Object.keys(f).forEach(function(T){return C.setUniform(T,f[T])}),this;var S=this.uniforms.find(function(T){return T.name===f});return S?(S.dirty=!0,S.data=h):this.uniforms.push({name:f,dirty:!0,data:h}),this.dirty=!0,this}}]),o}(uh),Nd,dC,Km,hf,Ym,kv,Lv,Ig,M0,pp;function gp(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);i&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,s)}return o}function Xm(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?gp(Object(o),!0).forEach(function(s){(0,ai.Z)(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):gp(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}var Nl=(Nd=(0,ho.b2)(),dC=(0,ho.f3)(Ai.MaterialComponentManager),Km=(0,ho.f3)(Ai.RenderEngine),hf=(0,ho.f3)(Ai.ShaderModuleService),Nd(Ym=(kv=(pp=function(){function n(){(0,oa.Z)(this,n),Wa(this,"material",Lv,this),Wa(this,"engine",Ig,this),Wa(this,"shaderModule",M0,this)}return(0,ss.Z)(n,[{key:"execute",value:function(){var i=(0,kl.Z)(aa().mark(function s(){return aa().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:case"end":return h.stop()}},s)}));function o(){return i.apply(this,arguments)}return o}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(o){var s=Ss(),f=o.vertexShader,h=o.fragmentShader,C=[];if(!this.engine.supportWebGPU){var S="material-".concat(s);this.shaderModule.registerModule(S,{vs:o.vertexShader,fs:o.fragmentShader});var T=this.shaderModule.getModule(S);f=T.vs,h=T.fs,T.uniforms&&(C=Object.keys(T.uniforms).map(function(D){return{dirty:!0,name:D,data:T.uniforms[D]}}))}return this.material.create(s,Xm(Xm({vertexShaderGLSL:f,fragmentShaderGLSL:h},o),{},{uniforms:C}))}}]),n}(),pp),Lv=Qa(kv.prototype,"material",[dC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ig=Qa(kv.prototype,"engine",[Km],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M0=Qa(kv.prototype,"shaderModule",[hf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kv))||Ym);function Qm(n){var i=hC();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function hC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var P0;(function(n){n[n.Standard=0]="Standard"})(P0||(P0={}));var d1=function(n){(0,ff.Z)(o,n);var i=Qm(o);function o(s){var f;return(0,oa.Z)(this,o),f=i.call(this,s),f.strategy=P0.Standard,f.visibilityPlaneMask=0,f.visible=!1,Object.assign((0,gu.Z)(f),s),f}return o}(uh),Jm=function(){function n(i,o){(0,oa.Z)(this,n),this.center=void 0,this.halfExtents=void 0,this.min=ec(),this.max=ec(),this.update(i,o)}return(0,ss.Z)(n,[{key:"update",value:function(o,s){this.center=o||ec(),this.halfExtents=s||Js(.5,.5,.5),this.min=Nv(this.min,this.center,this.halfExtents),this.max=$d(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(o,s){$d(this.center,s,o),Hf(this.center,this.center,.5),Nv(this.halfExtents,s,o),Hf(this.halfExtents,this.halfExtents,.5),rf(this.min,o),rf(this.max,s)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(o){var s=this.center,f=s[0],h=s[1],C=s[2],S=this.halfExtents,T=S[0],D=S[1],B=S[2],H=f-T,ce=f+T,de=h-D,me=h+D,xe=C-B,Se=C+B,We=o.center,nt=We[0],Gt=We[1],wn=We[2],Pn=o.halfExtents,Tr=Pn[0],xi=Pn[1],yi=Pn[2],Uo=nt-Tr,wi=nt+Tr,lo=Gt-xi,Gi=Gt+xi,ca=wn-yi,Ko=wn+yi;Uo<H&&(H=Uo),wi>ce&&(ce=wi),lo<de&&(de=lo),Gi>me&&(me=Gi),ca<xe&&(xe=ca),Ko>Se&&(Se=Ko),s[0]=(H+ce)*.5,s[1]=(de+me)*.5,s[2]=(xe+Se)*.5,S[0]=(ce-H)*.5,S[1]=(me-de)*.5,S[2]=(Se-xe)*.5,this.min[0]=H,this.min[1]=de,this.min[2]=xe,this.max[0]=ce,this.max[1]=me,this.max[2]=Se}},{key:"intersects",value:function(o){var s=this.getMax(),f=this.getMin(),h=o.getMax(),C=o.getMin();return f[0]<=h[0]&&s[0]>=C[0]&&f[1]<=h[1]&&s[1]>=C[1]&&f[2]<=h[2]&&s[2]>=C[2]}},{key:"containsPoint",value:function(o){var s=this.getMin(),f=this.getMax();return!(o[0]<s[0]||o[0]>f[0]||o[1]<s[1]||o[1]>f[1]||o[2]<s[2]||o[2]>f[2])}},{key:"getNegativeFarPoint",value:function(o){return o.pnVertexFlag===273?rf(ec(),this.min):o.pnVertexFlag===272?Js(this.min[0],this.min[1],this.max[2]):o.pnVertexFlag===257?Js(this.min[0],this.max[1],this.min[2]):o.pnVertexFlag===256?Js(this.min[0],this.max[1],this.max[2]):o.pnVertexFlag===17?Js(this.max[0],this.min[1],this.min[2]):o.pnVertexFlag===16?Js(this.max[0],this.min[1],this.max[2]):o.pnVertexFlag===1?Js(this.max[0],this.max[1],this.min[2]):Js(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(o){return o.pnVertexFlag===273?rf(ec(),this.max):o.pnVertexFlag===272?Js(this.max[0],this.max[1],this.min[2]):o.pnVertexFlag===257?Js(this.max[0],this.min[1],this.max[2]):o.pnVertexFlag===256?Js(this.max[0],this.min[1],this.min[2]):o.pnVertexFlag===17?Js(this.min[0],this.max[1],this.max[2]):o.pnVertexFlag===16?Js(this.min[0],this.max[1],this.min[2]):o.pnVertexFlag===1?Js(this.min[0],this.min[1],this.max[2]):Js(this.min[0],this.min[1],this.min[2])}}]),n}();function pC(n){var i=gC();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function gC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var vC=function(n){(0,ff.Z)(o,n);var i=pC(o);function o(s){var f;return(0,oa.Z)(this,o),f=i.call(this,s),f.material=void 0,f.geometry=void 0,f.aabb=new Jm,f.aabbDirty=!0,f.model=void 0,f.visible=!0,f.children=[],Object.assign((0,gu.Z)(f),s),f}return o}(uh),Wp=function(){function n(i,o){(0,oa.Z)(this,n),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=i||0,this.normal=o||Js(0,1,0),this.updatePNVertexFlag()}return(0,ss.Z)(n,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(o){return Wd(o,this.normal)-this.distance}},{key:"normalize",value:function(){var o=1/b0(this.normal);Hf(this.normal,this.normal,o),this.distance*=o}},{key:"intersectsLine",value:function(o,s,f){var h=this.distanceToPoint(o),C=this.distanceToPoint(s),S=h/(h-C),T=S>=0&&S<=1;return T&&f&&dh(f,o,s,S),T}}]),n}(),vp;(function(n){n[n.OUTSIDE=4294967295]="OUTSIDE",n[n.INSIDE=0]="INSIDE",n[n.INDETERMINATE=2147483647]="INDETERMINATE"})(vp||(vp={}));var Fl=function(){function n(i){if((0,oa.Z)(this,n),this.planes=[],i)this.planes=i;else for(var o=0;o<6;o++)this.planes.push(new Wp)}return(0,ss.Z)(n,[{key:"extractFromVPMatrix",value:function(o){var s=(0,Zc.Z)(o,16),f=s[0],h=s[1],C=s[2],S=s[3],T=s[4],D=s[5],B=s[6],H=s[7],ce=s[8],de=s[9],me=s[10],xe=s[11],Se=s[12],We=s[13],nt=s[14],Gt=s[15];up(this.planes[0].normal,S-f,H-T,xe-ce),this.planes[0].distance=-(Gt-Se),up(this.planes[1].normal,S+f,H+T,xe+ce),this.planes[1].distance=-(Gt+Se),up(this.planes[2].normal,S+h,H+D,xe+de),this.planes[2].distance=-(Gt+We),up(this.planes[3].normal,S-h,H-D,xe-de),this.planes[3].distance=-(Gt-We),up(this.planes[4].normal,S-C,H-B,xe-me),this.planes[4].distance=-(Gt-nt),up(this.planes[5].normal,S+C,H+B,xe+me),this.planes[5].distance=-(Gt+nt),this.planes.forEach(function(wn){wn.normalize(),wn.updatePNVertexFlag()})}}]),n}();function Fv(n){return typeof n=="number"}function mC(n){return n===void 0?0:n>360||n<-360?n%360:n}function Mx(n,i,o){return isNumber(n)?vec3.fromValues(n,i,o):n.length===3?vec3.clone(n):vec3.fromValues(n[0],n[1],n[2])}function uu(n,i){return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[4],i[4]=n[5],i[5]=n[6],i[6]=n[8],i[7]=n[9],i[8]=n[10],i}function Xu(n){var i=(0,Zc.Z)(n,3),o=i[0],s=i[1],f=i[2],h=o+s*256+f*65536-1;return h}function yC(n){return[n+1&255,n+1>>8&255,n+1>>8>>8&255]}var qm,Fh,h1,Gv,kg,Lg,Bv,Hp,p1,g1,Zv,v1,m1,Kp;function ey(n,i){var o;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(o=Yp(n))||i&&n&&typeof n.length=="number"){o&&(n=o);var s=0,f=function(){};return{s:f,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(D){throw D},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,C=!1,S;return{s:function(){o=n[Symbol.iterator]()},n:function(){var D=o.next();return h=D.done,D},e:function(D){C=!0,S=D},f:function(){try{!h&&o.return!=null&&o.return()}finally{if(C)throw S}}}}function Yp(n,i){if(n){if(typeof n=="string")return mp(n,i);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return mp(n,i)}}function mp(n,i){(i==null||i>n.length)&&(i=n.length);for(var o=0,s=new Array(i);o<i;o++)s[o]=n[o];return s}var bC=(qm=(0,ho.b2)(),Fh=(0,ho.f3)(Ai.MeshComponentManager),h1=(0,ho.f3)(Ai.CullableComponentManager),Gv=(0,ho.f3)(Ai.GeometryComponentManager),kg=(0,ho.f3)(Ai.HierarchyComponentManager),Lg=(0,ho.f3)(Ai.TransformComponentManager),qm(Bv=(Hp=(Kp=function(){function n(){(0,oa.Z)(this,n),Wa(this,"mesh",p1,this),Wa(this,"cullable",g1,this),Wa(this,"geometry",Zv,this),Wa(this,"hierarchy",v1,this),Wa(this,"transform",m1,this),this.planes=void 0}return(0,ss.Z)(n,[{key:"setFrustumPlanes",value:function(o){this.planes=o}},{key:"execute",value:function(){var i=(0,kl.Z)(aa().mark(function s(f){var h,C,S,T,D,B,H,ce,de,me,xe,Se,We,nt,Gt,wn,Pn,Tr,xi,yi,Uo;return aa().wrap(function(lo){for(;;)switch(lo.prev=lo.next){case 0:h=ey(f);try{for(h.s();!(C=h.n()).done;){S=C.value,T=S.getScene(),D=S.getCamera(),B=ey(T.getEntities());try{for(B.s();!(H=B.n()).done;)ce=H.value,de=this.mesh.getComponentByEntity(ce),de&&(me=this.hierarchy.getComponentByEntity(ce),xe=this.cullable.getComponentByEntity(ce),Se=de.geometry,We=this.transform.getComponentByEntity(ce),Se&&Se.aabb&&We&&de.aabbDirty&&(nt=We.worldTransform,Gt=Se.aabb,wn=Gt.center,Pn=Gt.halfExtents,Tr=$p(ec(),wn,nt),xi=uu(nt,cp()),yi=Dv(ec(),Pn,xi),de.aabb.update(Tr,yi),de.aabbDirty=!1),xe&&Se&&(Uo=this.cullable.getComponentByEntity((me==null?void 0:me.parentID)||-1),xe.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(de.aabb,(Uo==null?void 0:Uo.visibilityPlaneMask)||vp.INDETERMINATE,this.planes||D.getFrustum().planes),xe.visible=xe.visibilityPlaneMask!==vp.OUTSIDE))}catch(Gi){B.e(Gi)}finally{B.f()}}}catch(Gi){h.e(Gi)}finally{h.f()}case 2:case"end":return lo.stop()}},s,this)}));function o(s){return i.apply(this,arguments)}return o}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(o,s,f){if(s===vp.OUTSIDE||s===vp.INSIDE)return s;for(var h=vp.INSIDE,C=0,S=f.length;C<S;++C){var T=C<31?1<<C:0;if(!(C<31&&!(s&T))){var D=f[C],B=D.normal,H=D.distance;if(Wd(B,o.getNegativeFarPoint(f[C]))+H>0)return vp.OUTSIDE;Wd(B,o.getPositiveFarPoint(f[C]))+H>0&&(h|=T)}}return h}}]),n}(),Kp),p1=Qa(Hp.prototype,"mesh",[Fh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g1=Qa(Hp.prototype,"cullable",[h1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zv=Qa(Hp.prototype,"geometry",[Gv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v1=Qa(Hp.prototype,"hierarchy",[kg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m1=Qa(Hp.prototype,"transform",[Lg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hp))||Bv);function od(){var n=new Ec(16);return Ec!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n}function CC(n){var i=new Ec(16);return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i[9]=n[9],i[10]=n[10],i[11]=n[11],i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15],i}function ty(n,i){return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],n}function Px(n,i,o,s,f,h,C,S,T,D,B,H,ce,de,me,xe){var Se=new glMatrix.ARRAY_TYPE(16);return Se[0]=n,Se[1]=i,Se[2]=o,Se[3]=s,Se[4]=f,Se[5]=h,Se[6]=C,Se[7]=S,Se[8]=T,Se[9]=D,Se[10]=B,Se[11]=H,Se[12]=ce,Se[13]=de,Se[14]=me,Se[15]=xe,Se}function Tx(n,i,o,s,f,h,C,S,T,D,B,H,ce,de,me,xe,Se){return n[0]=i,n[1]=o,n[2]=s,n[3]=f,n[4]=h,n[5]=C,n[6]=S,n[7]=T,n[8]=D,n[9]=B,n[10]=H,n[11]=ce,n[12]=de,n[13]=me,n[14]=xe,n[15]=Se,n}function y1(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Ox(n,i){if(n===i){var o=i[1],s=i[2],f=i[3],h=i[6],C=i[7],S=i[11];n[1]=i[4],n[2]=i[8],n[3]=i[12],n[4]=o,n[6]=i[9],n[7]=i[13],n[8]=s,n[9]=h,n[11]=i[14],n[12]=f,n[13]=C,n[14]=S}else n[0]=i[0],n[1]=i[4],n[2]=i[8],n[3]=i[12],n[4]=i[1],n[5]=i[5],n[6]=i[9],n[7]=i[13],n[8]=i[2],n[9]=i[6],n[10]=i[10],n[11]=i[14],n[12]=i[3],n[13]=i[7],n[14]=i[11],n[15]=i[15];return n}function T0(n,i){var o=i[0],s=i[1],f=i[2],h=i[3],C=i[4],S=i[5],T=i[6],D=i[7],B=i[8],H=i[9],ce=i[10],de=i[11],me=i[12],xe=i[13],Se=i[14],We=i[15],nt=o*S-s*C,Gt=o*T-f*C,wn=o*D-h*C,Pn=s*T-f*S,Tr=s*D-h*S,xi=f*D-h*T,yi=B*xe-H*me,Uo=B*Se-ce*me,wi=B*We-de*me,lo=H*Se-ce*xe,Gi=H*We-de*xe,ca=ce*We-de*Se,Ko=nt*ca-Gt*Gi+wn*lo+Pn*wi-Tr*Uo+xi*yi;return Ko?(Ko=1/Ko,n[0]=(S*ca-T*Gi+D*lo)*Ko,n[1]=(f*Gi-s*ca-h*lo)*Ko,n[2]=(xe*xi-Se*Tr+We*Pn)*Ko,n[3]=(ce*Tr-H*xi-de*Pn)*Ko,n[4]=(T*wi-C*ca-D*Uo)*Ko,n[5]=(o*ca-f*wi+h*Uo)*Ko,n[6]=(Se*wn-me*xi-We*Gt)*Ko,n[7]=(B*xi-ce*wn+de*Gt)*Ko,n[8]=(C*Gi-S*wi+D*yi)*Ko,n[9]=(s*wi-o*Gi-h*yi)*Ko,n[10]=(me*Tr-xe*wn+We*nt)*Ko,n[11]=(H*wn-B*Tr-de*nt)*Ko,n[12]=(S*Uo-C*lo-T*yi)*Ko,n[13]=(o*lo-s*Uo+f*yi)*Ko,n[14]=(xe*Gt-me*Pn-Se*nt)*Ko,n[15]=(B*Pn-H*Gt+ce*nt)*Ko,n):null}function yp(n,i){var o=i[0],s=i[1],f=i[2],h=i[3],C=i[4],S=i[5],T=i[6],D=i[7],B=i[8],H=i[9],ce=i[10],de=i[11],me=i[12],xe=i[13],Se=i[14],We=i[15];return n[0]=S*(ce*We-de*Se)-H*(T*We-D*Se)+xe*(T*de-D*ce),n[1]=-(s*(ce*We-de*Se)-H*(f*We-h*Se)+xe*(f*de-h*ce)),n[2]=s*(T*We-D*Se)-S*(f*We-h*Se)+xe*(f*D-h*T),n[3]=-(s*(T*de-D*ce)-S*(f*de-h*ce)+H*(f*D-h*T)),n[4]=-(C*(ce*We-de*Se)-B*(T*We-D*Se)+me*(T*de-D*ce)),n[5]=o*(ce*We-de*Se)-B*(f*We-h*Se)+me*(f*de-h*ce),n[6]=-(o*(T*We-D*Se)-C*(f*We-h*Se)+me*(f*D-h*T)),n[7]=o*(T*de-D*ce)-C*(f*de-h*ce)+B*(f*D-h*T),n[8]=C*(H*We-de*xe)-B*(S*We-D*xe)+me*(S*de-D*H),n[9]=-(o*(H*We-de*xe)-B*(s*We-h*xe)+me*(s*de-h*H)),n[10]=o*(S*We-D*xe)-C*(s*We-h*xe)+me*(s*D-h*S),n[11]=-(o*(S*de-D*H)-C*(s*de-h*H)+B*(s*D-h*S)),n[12]=-(C*(H*Se-ce*xe)-B*(S*Se-T*xe)+me*(S*ce-T*H)),n[13]=o*(H*Se-ce*xe)-B*(s*Se-f*xe)+me*(s*ce-f*H),n[14]=-(o*(S*Se-T*xe)-C*(s*Se-f*xe)+me*(s*T-f*S)),n[15]=o*(S*ce-T*H)-C*(s*ce-f*H)+B*(s*T-f*S),n}function ny(n){var i=n[0],o=n[1],s=n[2],f=n[3],h=n[4],C=n[5],S=n[6],T=n[7],D=n[8],B=n[9],H=n[10],ce=n[11],de=n[12],me=n[13],xe=n[14],Se=n[15],We=i*C-o*h,nt=i*S-s*h,Gt=i*T-f*h,wn=o*S-s*C,Pn=o*T-f*C,Tr=s*T-f*S,xi=D*me-B*de,yi=D*xe-H*de,Uo=D*Se-ce*de,wi=B*xe-H*me,lo=B*Se-ce*me,Gi=H*Se-ce*xe;return We*Gi-nt*lo+Gt*wi+wn*Uo-Pn*yi+Tr*xi}function bp(n,i,o){var s=i[0],f=i[1],h=i[2],C=i[3],S=i[4],T=i[5],D=i[6],B=i[7],H=i[8],ce=i[9],de=i[10],me=i[11],xe=i[12],Se=i[13],We=i[14],nt=i[15],Gt=o[0],wn=o[1],Pn=o[2],Tr=o[3];return n[0]=Gt*s+wn*S+Pn*H+Tr*xe,n[1]=Gt*f+wn*T+Pn*ce+Tr*Se,n[2]=Gt*h+wn*D+Pn*de+Tr*We,n[3]=Gt*C+wn*B+Pn*me+Tr*nt,Gt=o[4],wn=o[5],Pn=o[6],Tr=o[7],n[4]=Gt*s+wn*S+Pn*H+Tr*xe,n[5]=Gt*f+wn*T+Pn*ce+Tr*Se,n[6]=Gt*h+wn*D+Pn*de+Tr*We,n[7]=Gt*C+wn*B+Pn*me+Tr*nt,Gt=o[8],wn=o[9],Pn=o[10],Tr=o[11],n[8]=Gt*s+wn*S+Pn*H+Tr*xe,n[9]=Gt*f+wn*T+Pn*ce+Tr*Se,n[10]=Gt*h+wn*D+Pn*de+Tr*We,n[11]=Gt*C+wn*B+Pn*me+Tr*nt,Gt=o[12],wn=o[13],Pn=o[14],Tr=o[15],n[12]=Gt*s+wn*S+Pn*H+Tr*xe,n[13]=Gt*f+wn*T+Pn*ce+Tr*Se,n[14]=Gt*h+wn*D+Pn*de+Tr*We,n[15]=Gt*C+wn*B+Pn*me+Tr*nt,n}function O0(n,i,o){var s=o[0],f=o[1],h=o[2],C,S,T,D,B,H,ce,de,me,xe,Se,We;return i===n?(n[12]=i[0]*s+i[4]*f+i[8]*h+i[12],n[13]=i[1]*s+i[5]*f+i[9]*h+i[13],n[14]=i[2]*s+i[6]*f+i[10]*h+i[14],n[15]=i[3]*s+i[7]*f+i[11]*h+i[15]):(C=i[0],S=i[1],T=i[2],D=i[3],B=i[4],H=i[5],ce=i[6],de=i[7],me=i[8],xe=i[9],Se=i[10],We=i[11],n[0]=C,n[1]=S,n[2]=T,n[3]=D,n[4]=B,n[5]=H,n[6]=ce,n[7]=de,n[8]=me,n[9]=xe,n[10]=Se,n[11]=We,n[12]=C*s+B*f+me*h+i[12],n[13]=S*s+H*f+xe*h+i[13],n[14]=T*s+ce*f+Se*h+i[14],n[15]=D*s+de*f+We*h+i[15]),n}function _x(n,i,o){var s=o[0],f=o[1],h=o[2];return n[0]=i[0]*s,n[1]=i[1]*s,n[2]=i[2]*s,n[3]=i[3]*s,n[4]=i[4]*f,n[5]=i[5]*f,n[6]=i[6]*f,n[7]=i[7]*f,n[8]=i[8]*h,n[9]=i[9]*h,n[10]=i[10]*h,n[11]=i[11]*h,n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],n}function Ax(n,i,o,s){var f=s[0],h=s[1],C=s[2],S=Math.hypot(f,h,C),T,D,B,H,ce,de,me,xe,Se,We,nt,Gt,wn,Pn,Tr,xi,yi,Uo,wi,lo,Gi,ca,Ko,ls;return S<glMatrix.EPSILON?null:(S=1/S,f*=S,h*=S,C*=S,T=Math.sin(o),D=Math.cos(o),B=1-D,H=i[0],ce=i[1],de=i[2],me=i[3],xe=i[4],Se=i[5],We=i[6],nt=i[7],Gt=i[8],wn=i[9],Pn=i[10],Tr=i[11],xi=f*f*B+D,yi=h*f*B+C*T,Uo=C*f*B-h*T,wi=f*h*B-C*T,lo=h*h*B+D,Gi=C*h*B+f*T,ca=f*C*B+h*T,Ko=h*C*B-f*T,ls=C*C*B+D,n[0]=H*xi+xe*yi+Gt*Uo,n[1]=ce*xi+Se*yi+wn*Uo,n[2]=de*xi+We*yi+Pn*Uo,n[3]=me*xi+nt*yi+Tr*Uo,n[4]=H*wi+xe*lo+Gt*Gi,n[5]=ce*wi+Se*lo+wn*Gi,n[6]=de*wi+We*lo+Pn*Gi,n[7]=me*wi+nt*lo+Tr*Gi,n[8]=H*ca+xe*Ko+Gt*ls,n[9]=ce*ca+Se*Ko+wn*ls,n[10]=de*ca+We*Ko+Pn*ls,n[11]=me*ca+nt*Ko+Tr*ls,i!==n&&(n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15]),n)}function Dx(n,i,o){var s=Math.sin(o),f=Math.cos(o),h=i[4],C=i[5],S=i[6],T=i[7],D=i[8],B=i[9],H=i[10],ce=i[11];return i!==n&&(n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15]),n[4]=h*f+D*s,n[5]=C*f+B*s,n[6]=S*f+H*s,n[7]=T*f+ce*s,n[8]=D*f-h*s,n[9]=B*f-C*s,n[10]=H*f-S*s,n[11]=ce*f-T*s,n}function xC(n,i,o){var s=Math.sin(o),f=Math.cos(o),h=i[0],C=i[1],S=i[2],T=i[3],D=i[8],B=i[9],H=i[10],ce=i[11];return i!==n&&(n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15]),n[0]=h*f-D*s,n[1]=C*f-B*s,n[2]=S*f-H*s,n[3]=T*f-ce*s,n[8]=h*s+D*f,n[9]=C*s+B*f,n[10]=S*s+H*f,n[11]=T*s+ce*f,n}function Fg(n,i,o){var s=Math.sin(o),f=Math.cos(o),h=i[0],C=i[1],S=i[2],T=i[3],D=i[4],B=i[5],H=i[6],ce=i[7];return i!==n&&(n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15]),n[0]=h*f+D*s,n[1]=C*f+B*s,n[2]=S*f+H*s,n[3]=T*f+ce*s,n[4]=D*f-h*s,n[5]=B*f-C*s,n[6]=H*f-S*s,n[7]=ce*f-T*s,n}function Nx(n,i){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=i[0],n[13]=i[1],n[14]=i[2],n[15]=1,n}function Rx(n,i){return n[0]=i[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=i[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=i[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function EC(n,i,o){var s=o[0],f=o[1],h=o[2],C=Math.hypot(s,f,h),S,T,D;return C<glMatrix.EPSILON?null:(C=1/C,s*=C,f*=C,h*=C,S=Math.sin(i),T=Math.cos(i),D=1-T,n[0]=s*s*D+T,n[1]=f*s*D+h*S,n[2]=h*s*D-f*S,n[3]=0,n[4]=s*f*D-h*S,n[5]=f*f*D+T,n[6]=h*f*D+s*S,n[7]=0,n[8]=s*h*D+f*S,n[9]=f*h*D-s*S,n[10]=h*h*D+T,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n)}function Ix(n,i){var o=Math.sin(i),s=Math.cos(i);return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=o,n[7]=0,n[8]=0,n[9]=-o,n[10]=s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function cM(n,i){var o=Math.sin(i),s=Math.cos(i);return n[0]=s,n[1]=0,n[2]=-o,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=o,n[9]=0,n[10]=s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function kx(n,i){var o=Math.sin(i),s=Math.cos(i);return n[0]=s,n[1]=o,n[2]=0,n[3]=0,n[4]=-o,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Xp(n,i,o){var s=i[0],f=i[1],h=i[2],C=i[3],S=s+s,T=f+f,D=h+h,B=s*S,H=s*T,ce=s*D,de=f*T,me=f*D,xe=h*D,Se=C*S,We=C*T,nt=C*D;return n[0]=1-(de+xe),n[1]=H+nt,n[2]=ce-We,n[3]=0,n[4]=H-nt,n[5]=1-(B+xe),n[6]=me+Se,n[7]=0,n[8]=ce+We,n[9]=me-Se,n[10]=1-(B+de),n[11]=0,n[12]=o[0],n[13]=o[1],n[14]=o[2],n[15]=1,n}function ry(n,i){var o=new glMatrix.ARRAY_TYPE(3),s=-i[0],f=-i[1],h=-i[2],C=i[3],S=i[4],T=i[5],D=i[6],B=i[7],H=s*s+f*f+h*h+C*C;return H>0?(o[0]=(S*C+B*s+T*h-D*f)*2/H,o[1]=(T*C+B*f+D*s-S*h)*2/H,o[2]=(D*C+B*h+S*f-T*s)*2/H):(o[0]=(S*C+B*s+T*h-D*f)*2,o[1]=(T*C+B*f+D*s-S*h)*2,o[2]=(D*C+B*h+S*f-T*s)*2),Xp(n,i,o),n}function Cp(n,i){return n[0]=i[12],n[1]=i[13],n[2]=i[14],n}function Gg(n,i){var o=i[0],s=i[1],f=i[2],h=i[4],C=i[5],S=i[6],T=i[8],D=i[9],B=i[10];return n[0]=Math.hypot(o,s,f),n[1]=Math.hypot(h,C,S),n[2]=Math.hypot(T,D,B),n}function Bg(n,i){var o=new Ec(3);Gg(o,i);var s=1/o[0],f=1/o[1],h=1/o[2],C=i[0]*s,S=i[1]*f,T=i[2]*h,D=i[4]*s,B=i[5]*f,H=i[6]*h,ce=i[8]*s,de=i[9]*f,me=i[10]*h,xe=C+B+me,Se=0;return xe>0?(Se=Math.sqrt(xe+1)*2,n[3]=.25*Se,n[0]=(H-de)/Se,n[1]=(ce-T)/Se,n[2]=(S-D)/Se):C>B&&C>me?(Se=Math.sqrt(1+C-B-me)*2,n[3]=(H-de)/Se,n[0]=.25*Se,n[1]=(S+D)/Se,n[2]=(ce+T)/Se):B>me?(Se=Math.sqrt(1+B-C-me)*2,n[3]=(ce-T)/Se,n[0]=(S+D)/Se,n[1]=.25*Se,n[2]=(H+de)/Se):(Se=Math.sqrt(1+me-C-B)*2,n[3]=(S-D)/Se,n[0]=(ce+T)/Se,n[1]=(H+de)/Se,n[2]=.25*Se),n}function wC(n,i,o,s){var f=i[0],h=i[1],C=i[2],S=i[3],T=f+f,D=h+h,B=C+C,H=f*T,ce=f*D,de=f*B,me=h*D,xe=h*B,Se=C*B,We=S*T,nt=S*D,Gt=S*B,wn=s[0],Pn=s[1],Tr=s[2];return n[0]=(1-(me+Se))*wn,n[1]=(ce+Gt)*wn,n[2]=(de-nt)*wn,n[3]=0,n[4]=(ce-Gt)*Pn,n[5]=(1-(H+Se))*Pn,n[6]=(xe+We)*Pn,n[7]=0,n[8]=(de+nt)*Tr,n[9]=(xe-We)*Tr,n[10]=(1-(H+me))*Tr,n[11]=0,n[12]=o[0],n[13]=o[1],n[14]=o[2],n[15]=1,n}function Lx(n,i,o,s,f){var h=i[0],C=i[1],S=i[2],T=i[3],D=h+h,B=C+C,H=S+S,ce=h*D,de=h*B,me=h*H,xe=C*B,Se=C*H,We=S*H,nt=T*D,Gt=T*B,wn=T*H,Pn=s[0],Tr=s[1],xi=s[2],yi=f[0],Uo=f[1],wi=f[2],lo=(1-(xe+We))*Pn,Gi=(de+wn)*Pn,ca=(me-Gt)*Pn,Ko=(de-wn)*Tr,ls=(1-(ce+We))*Tr,qc=(Se+nt)*Tr,_f=(me+Gt)*xi,Kl=(Se-nt)*xi,bh=(1-(ce+xe))*xi;return n[0]=lo,n[1]=Gi,n[2]=ca,n[3]=0,n[4]=Ko,n[5]=ls,n[6]=qc,n[7]=0,n[8]=_f,n[9]=Kl,n[10]=bh,n[11]=0,n[12]=o[0]+yi-(lo*yi+Ko*Uo+_f*wi),n[13]=o[1]+Uo-(Gi*yi+ls*Uo+Kl*wi),n[14]=o[2]+wi-(ca*yi+qc*Uo+bh*wi),n[15]=1,n}function b1(n,i){var o=i[0],s=i[1],f=i[2],h=i[3],C=o+o,S=s+s,T=f+f,D=o*C,B=s*C,H=s*S,ce=f*C,de=f*S,me=f*T,xe=h*C,Se=h*S,We=h*T;return n[0]=1-H-me,n[1]=B+We,n[2]=ce-Se,n[3]=0,n[4]=B-We,n[5]=1-D-me,n[6]=de+xe,n[7]=0,n[8]=ce+Se,n[9]=de-xe,n[10]=1-D-H,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Fx(n,i,o,s,f,h,C){var S=1/(o-i),T=1/(f-s),D=1/(h-C);return n[0]=h*2*S,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=h*2*T,n[6]=0,n[7]=0,n[8]=(o+i)*S,n[9]=(f+s)*T,n[10]=(C+h)*D,n[11]=-1,n[12]=0,n[13]=0,n[14]=C*h*2*D,n[15]=0,n}function Qp(n,i,o,s,f){var h=1/Math.tan(i/2),C;return n[0]=h/o,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=h,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,f!=null&&f!==1/0?(C=1/(s-f),n[10]=(f+s)*C,n[14]=2*f*s*C):(n[10]=-1,n[14]=-2*s),n}var SC=Qp;function Gx(n,i,o,s,f){var h=1/Math.tan(i/2),C;return n[0]=h/o,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=h,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,f!=null&&f!==1/0?(C=1/(s-f),n[10]=f*C,n[14]=f*s*C):(n[10]=-1,n[14]=-s),n}function iy(n,i,o,s){var f=Math.tan(i.upDegrees*Math.PI/180),h=Math.tan(i.downDegrees*Math.PI/180),C=Math.tan(i.leftDegrees*Math.PI/180),S=Math.tan(i.rightDegrees*Math.PI/180),T=2/(C+S),D=2/(f+h);return n[0]=T,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=D,n[6]=0,n[7]=0,n[8]=-((C-S)*T*.5),n[9]=(f-h)*D*.5,n[10]=s/(o-s),n[11]=-1,n[12]=0,n[13]=0,n[14]=s*o/(o-s),n[15]=0,n}function _0(n,i,o,s,f,h,C){var S=1/(i-o),T=1/(s-f),D=1/(h-C);return n[0]=-2*S,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*T,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*D,n[11]=0,n[12]=(i+o)*S,n[13]=(f+s)*T,n[14]=(C+h)*D,n[15]=1,n}var C1=_0;function MC(n,i,o,s,f,h,C){var S=1/(i-o),T=1/(s-f),D=1/(h-C);return n[0]=-2*S,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*T,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=D,n[11]=0,n[12]=(i+o)*S,n[13]=(f+s)*T,n[14]=h*D,n[15]=1,n}function PC(n,i,o,s){var f,h,C,S,T,D,B,H,ce,de,me=i[0],xe=i[1],Se=i[2],We=s[0],nt=s[1],Gt=s[2],wn=o[0],Pn=o[1],Tr=o[2];return Math.abs(me-wn)<Od&&Math.abs(xe-Pn)<Od&&Math.abs(Se-Tr)<Od?y1(n):(B=me-wn,H=xe-Pn,ce=Se-Tr,de=1/Math.hypot(B,H,ce),B*=de,H*=de,ce*=de,f=nt*ce-Gt*H,h=Gt*B-We*ce,C=We*H-nt*B,de=Math.hypot(f,h,C),de?(de=1/de,f*=de,h*=de,C*=de):(f=0,h=0,C=0),S=H*C-ce*h,T=ce*f-B*C,D=B*h-H*f,de=Math.hypot(S,T,D),de?(de=1/de,S*=de,T*=de,D*=de):(S=0,T=0,D=0),n[0]=f,n[1]=S,n[2]=B,n[3]=0,n[4]=h,n[5]=T,n[6]=H,n[7]=0,n[8]=C,n[9]=D,n[10]=ce,n[11]=0,n[12]=-(f*me+h*xe+C*Se),n[13]=-(S*me+T*xe+D*Se),n[14]=-(B*me+H*xe+ce*Se),n[15]=1,n)}function Bx(n,i,o,s){var f=i[0],h=i[1],C=i[2],S=s[0],T=s[1],D=s[2],B=f-o[0],H=h-o[1],ce=C-o[2],de=B*B+H*H+ce*ce;de>0&&(de=1/Math.sqrt(de),B*=de,H*=de,ce*=de);var me=T*ce-D*H,xe=D*B-S*ce,Se=S*H-T*B;return de=me*me+xe*xe+Se*Se,de>0&&(de=1/Math.sqrt(de),me*=de,xe*=de,Se*=de),n[0]=me,n[1]=xe,n[2]=Se,n[3]=0,n[4]=H*Se-ce*xe,n[5]=ce*me-B*Se,n[6]=B*xe-H*me,n[7]=0,n[8]=B,n[9]=H,n[10]=ce,n[11]=0,n[12]=f,n[13]=h,n[14]=C,n[15]=1,n}function TC(n){return"mat4("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+", "+n[9]+", "+n[10]+", "+n[11]+", "+n[12]+", "+n[13]+", "+n[14]+", "+n[15]+")"}function Kd(n){return Math.hypot(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15])}function Zx(n,i,o){return n[0]=i[0]+o[0],n[1]=i[1]+o[1],n[2]=i[2]+o[2],n[3]=i[3]+o[3],n[4]=i[4]+o[4],n[5]=i[5]+o[5],n[6]=i[6]+o[6],n[7]=i[7]+o[7],n[8]=i[8]+o[8],n[9]=i[9]+o[9],n[10]=i[10]+o[10],n[11]=i[11]+o[11],n[12]=i[12]+o[12],n[13]=i[13]+o[13],n[14]=i[14]+o[14],n[15]=i[15]+o[15],n}function Jp(n,i,o){return n[0]=i[0]-o[0],n[1]=i[1]-o[1],n[2]=i[2]-o[2],n[3]=i[3]-o[3],n[4]=i[4]-o[4],n[5]=i[5]-o[5],n[6]=i[6]-o[6],n[7]=i[7]-o[7],n[8]=i[8]-o[8],n[9]=i[9]-o[9],n[10]=i[10]-o[10],n[11]=i[11]-o[11],n[12]=i[12]-o[12],n[13]=i[13]-o[13],n[14]=i[14]-o[14],n[15]=i[15]-o[15],n}function zx(n,i,o){return n[0]=i[0]*o,n[1]=i[1]*o,n[2]=i[2]*o,n[3]=i[3]*o,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=i[7]*o,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=i[11]*o,n[12]=i[12]*o,n[13]=i[13]*o,n[14]=i[14]*o,n[15]=i[15]*o,n}function OC(n,i,o,s){return n[0]=i[0]+o[0]*s,n[1]=i[1]+o[1]*s,n[2]=i[2]+o[2]*s,n[3]=i[3]+o[3]*s,n[4]=i[4]+o[4]*s,n[5]=i[5]+o[5]*s,n[6]=i[6]+o[6]*s,n[7]=i[7]+o[7]*s,n[8]=i[8]+o[8]*s,n[9]=i[9]+o[9]*s,n[10]=i[10]+o[10]*s,n[11]=i[11]+o[11]*s,n[12]=i[12]+o[12]*s,n[13]=i[13]+o[13]*s,n[14]=i[14]+o[14]*s,n[15]=i[15]+o[15]*s,n}function _C(n,i){return n[0]===i[0]&&n[1]===i[1]&&n[2]===i[2]&&n[3]===i[3]&&n[4]===i[4]&&n[5]===i[5]&&n[6]===i[6]&&n[7]===i[7]&&n[8]===i[8]&&n[9]===i[9]&&n[10]===i[10]&&n[11]===i[11]&&n[12]===i[12]&&n[13]===i[13]&&n[14]===i[14]&&n[15]===i[15]}function Ux(n,i){var o=n[0],s=n[1],f=n[2],h=n[3],C=n[4],S=n[5],T=n[6],D=n[7],B=n[8],H=n[9],ce=n[10],de=n[11],me=n[12],xe=n[13],Se=n[14],We=n[15],nt=i[0],Gt=i[1],wn=i[2],Pn=i[3],Tr=i[4],xi=i[5],yi=i[6],Uo=i[7],wi=i[8],lo=i[9],Gi=i[10],ca=i[11],Ko=i[12],ls=i[13],qc=i[14],_f=i[15];return Math.abs(o-nt)<=glMatrix.EPSILON*Math.max(1,Math.abs(o),Math.abs(nt))&&Math.abs(s-Gt)<=glMatrix.EPSILON*Math.max(1,Math.abs(s),Math.abs(Gt))&&Math.abs(f-wn)<=glMatrix.EPSILON*Math.max(1,Math.abs(f),Math.abs(wn))&&Math.abs(h-Pn)<=glMatrix.EPSILON*Math.max(1,Math.abs(h),Math.abs(Pn))&&Math.abs(C-Tr)<=glMatrix.EPSILON*Math.max(1,Math.abs(C),Math.abs(Tr))&&Math.abs(S-xi)<=glMatrix.EPSILON*Math.max(1,Math.abs(S),Math.abs(xi))&&Math.abs(T-yi)<=glMatrix.EPSILON*Math.max(1,Math.abs(T),Math.abs(yi))&&Math.abs(D-Uo)<=glMatrix.EPSILON*Math.max(1,Math.abs(D),Math.abs(Uo))&&Math.abs(B-wi)<=glMatrix.EPSILON*Math.max(1,Math.abs(B),Math.abs(wi))&&Math.abs(H-lo)<=glMatrix.EPSILON*Math.max(1,Math.abs(H),Math.abs(lo))&&Math.abs(ce-Gi)<=glMatrix.EPSILON*Math.max(1,Math.abs(ce),Math.abs(Gi))&&Math.abs(de-ca)<=glMatrix.EPSILON*Math.max(1,Math.abs(de),Math.abs(ca))&&Math.abs(me-Ko)<=glMatrix.EPSILON*Math.max(1,Math.abs(me),Math.abs(Ko))&&Math.abs(xe-ls)<=glMatrix.EPSILON*Math.max(1,Math.abs(xe),Math.abs(ls))&&Math.abs(Se-qc)<=glMatrix.EPSILON*Math.max(1,Math.abs(Se),Math.abs(qc))&&Math.abs(We-_f)<=glMatrix.EPSILON*Math.max(1,Math.abs(We),Math.abs(_f))}var Vx=null,AC=null,oy,ay,x1,A0,E1,sy,w1,S1,ly,M1,Zg,zv,Yf,D0,cy,uy,P1,T1,O1,fy,_1,A1,D1,qp;function N0(n,i){var o;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(o=Gh(n))||i&&n&&typeof n.length=="number"){o&&(n=o);var s=0,f=function(){};return{s:f,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(D){throw D},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,C=!1,S;return{s:function(){o=n[Symbol.iterator]()},n:function(){var D=o.next();return h=D.done,D},e:function(D){C=!0,S=D},f:function(){try{!h&&o.return!=null&&o.return()}finally{if(C)throw S}}}}function Gh(n,i){if(n){if(typeof n=="string")return N1(n,i);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return N1(n,i)}}function N1(n,i){(i==null||i>n.length)&&(i=n.length);for(var o=0,s=new Array(i);o<i;o++)s[o]=n[o];return s}var zg=(oy=(0,ho.b2)(),ay=(0,ho.f3)(Ai.MeshComponentManager),x1=(0,ho.f3)(Ai.GeometryComponentManager),A0=(0,ho.f3)(Ai.MaterialComponentManager),E1=(0,ho.f3)(Ai.CullableComponentManager),sy=(0,ho.f3)(Ai.TransformComponentManager),w1=(0,ho.f3)(Ai.HierarchyComponentManager),S1=(0,ho.f3)(Ai.Systems),ly=(0,ho.t6)(Ai.FrameGraphSystem),M1=(0,ho.f3)(Ai.RenderEngine),Zg=(0,ho.f3)(Ai.ResourcePool),oy(zv=(Yf=(qp=D1=function(){function n(){var i=this;(0,oa.Z)(this,n),Wa(this,"mesh",D0,this),Wa(this,"geometry",cy,this),Wa(this,"material",uy,this),Wa(this,"cullable",P1,this),Wa(this,"transform",T1,this),Wa(this,"hierarchy",O1,this),Wa(this,"frameGraphSystem",fy,this),Wa(this,"engine",_1,this),Wa(this,"resourcePool",A1,this),this.modelCache={},this.setup=function(o,s,f){var h=o.createRenderTarget(s,"color buffer",{width:1,height:1,usage:Vr.RENDER_ATTACHMENT|Vr.SAMPLED|Vr.COPY_SRC});f.data={output:s.write(o,h)}},this.execute=function(){var o=(0,kl.Z)(aa().mark(function s(f,h,C){var S,T,D,B,H,ce;return aa().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:S=f.getResourceNode(h.data.output),T=i.resourcePool.getOrCreateResource(S.resource),D=N0(C),me.prev=3,D.s();case 5:if((B=D.n()).done){me.next=11;break}return H=B.value,me.next=9,i.initView(H);case 9:me.next=5;break;case 11:me.next=16;break;case 13:me.prev=13,me.t0=me.catch(3),D.e(me.t0);case 16:return me.prev=16,D.f(),me.finish(16);case 19:ce=i.engine.getCanvas(),T.resize({width:ce.width,height:ce.height}),i.engine.setScissor({enable:!1}),i.engine.clear({framebuffer:T,color:C[0].getClearColor(),depth:1}),i.engine.useFramebuffer(T,function(){var xe=N0(C),Se;try{for(xe.s();!(Se=xe.n()).done;){var We=Se.value;i.renderView(We)}}catch(nt){xe.e(nt)}finally{xe.f()}});case 24:case"end":return me.stop()}},s,null,[[3,13,16,19]])}));return function(s,f,h){return o.apply(this,arguments)}}()}return(0,ss.Z)(n,[{key:"renderView",value:function(o){var s=o.getScene(),f=o.getCamera(),h=f.getViewTransform(),C=bp(od(),f.getPerspective(),h);f.getFrustum().extractFromVPMatrix(C);var S=o.getViewport(),T=S.x,D=S.y,B=S.width,H=S.height;this.engine.viewport({x:T,y:D,width:B,height:H});var ce=N0(s.getEntities()),de;try{for(ce.s();!(de=ce.n()).done;){var me=de.value;this.renderMesh(me,{camera:f,view:o,viewMatrix:h})}}catch(xe){ce.e(xe)}finally{ce.f()}}},{key:"renderMesh",value:function(o,s){var f=s.camera,h=s.view,C=s.viewMatrix,S=this.mesh.getComponentByEntity(o);if(!(!S||!S.visible)){var T=S.material,D=S.geometry;if(!(!D||D.dirty||!T)){var B=this.transform.getComponentByEntity(o),H=bp(od(),C,B.worldTransform),ce=h.getViewport(),de=ce.width,me=ce.height;T.setUniform({projectionMatrix:f.getPerspective(),modelViewMatrix:H,modelMatrix:B.worldTransform,viewMatrix:C,cameraPosition:f.getPosition(),u_viewport:[de,me]}),S.model&&(S.model.draw({uniforms:T.uniforms.reduce(function(xe,Se){return xe[Se.name]=Se.data,xe},{})}),T.uniforms.forEach(function(xe){xe.dirty=!1}),T.dirty=!1)}}}},{key:"initMesh",value:function(){var i=(0,kl.Z)(aa().mark(function s(f,h){var C,S,T,D,B,H,ce,de;return aa().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(C=this.mesh.getComponentByEntity(f),C){xe.next=3;break}return xe.abrupt("return");case 3:if(S=C.material,T=C.geometry,!(!T||T.dirty||!S)){xe.next=7;break}return xe.abrupt("return");case 7:if(C.model){xe.next=24;break}if(D="m-".concat(S.entity,"-g-").concat(T.entity),!this.modelCache[D]){xe.next=12;break}return C.model=this.modelCache[D],xe.abrupt("return");case 12:return S.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),B=this.engine,H=B.createModel,ce=B.createAttribute,de={vs:S.vertexShaderGLSL,fs:S.fragmentShaderGLSL,defines:S.defines,attributes:T.attributes.reduce(function(Se,We){return We.data&&We.buffer&&(Se[We.name]=ce({buffer:We.buffer,attributes:We.attributes,arrayStride:We.arrayStride,stepMode:We.stepMode,divisor:We.stepMode==="vertex"?0:1})),Se},{}),uniforms:S.uniforms.reduce(function(Se,We){return Se[We.name]=We.data,Se},{}),scissor:{enable:!0,box:function(){return h.getViewport()}}},S.cull&&(de.cull=S.cull),S.depth&&(de.depth=S.depth),S.blend&&(de.blend=S.blend),T.indicesBuffer&&(de.elements=T.indicesBuffer),T.maxInstancedCount&&(de.instances=T.maxInstancedCount,de.count=T.vertexCount||3),xe.next=22,H(de);case 22:C.model=xe.sent,this.modelCache[D]=C.model;case 24:case"end":return xe.stop()}},s,this)}));function o(s,f){return i.apply(this,arguments)}return o}()},{key:"initView",value:function(){var i=(0,kl.Z)(aa().mark(function s(f){var h,C,S,T;return aa().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:h=f.getScene(),C=N0(h.getEntities()),B.prev=2,C.s();case 4:if((S=C.n()).done){B.next=10;break}return T=S.value,B.next=8,this.initMesh(T,f);case 8:B.next=4;break;case 10:B.next=15;break;case 12:B.prev=12,B.t0=B.catch(2),C.e(B.t0);case 15:return B.prev=15,C.f(),B.finish(15);case 18:case"end":return B.stop()}},s,this,[[2,12,15,18]])}));function o(s){return i.apply(this,arguments)}return o}()}]),n}(),D1.IDENTIFIER="Render Pass",qp),D0=Qa(Yf.prototype,"mesh",[ay],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cy=Qa(Yf.prototype,"geometry",[x1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uy=Qa(Yf.prototype,"material",[A0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P1=Qa(Yf.prototype,"cullable",[E1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T1=Qa(Yf.prototype,"transform",[sy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O1=Qa(Yf.prototype,"hierarchy",[w1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fy=Qa(Yf.prototype,"frameGraphSystem",[S1,ly],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_1=Qa(Yf.prototype,"engine",[M1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A1=Qa(Yf.prototype,"resourcePool",[Zg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yf))||zv),R1,I1,dy,Uv,Vv,k1,xp,L1,hy,F1,py,G1,Ug;function Vg(n,i){var o;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(o=DC(n))||i&&n&&typeof n.length=="number"){o&&(n=o);var s=0,f=function(){};return{s:f,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(D){throw D},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,C=!1,S;return{s:function(){o=n[Symbol.iterator]()},n:function(){var D=o.next();return h=D.done,D},e:function(D){C=!0,S=D},f:function(){try{!h&&o.return!=null&&o.return()}finally{if(C)throw S}}}}function DC(n,i){if(n){if(typeof n=="string")return Bh(n,i);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Bh(n,i)}}function Bh(n,i){(i==null||i>n.length)&&(i=n.length);for(var o=0,s=new Array(i);o<i;o++)s[o]=n[o];return s}var gy={NONE:0,ENCODE:1,HIGHLIGHT:2},eg=(R1=(0,ho.b2)(),I1=(0,ho.f3)(Ai.RenderEngine),dy=(0,ho.f3)(Ai.ResourcePool),Uv=(0,ho.f3)(Ai.RenderPassFactory),Vv=(0,ho.f3)(Ai.MeshComponentManager),R1(k1=(xp=(Ug=G1=function(){function n(){var i=this;(0,oa.Z)(this,n),Wa(this,"engine",L1,this),Wa(this,"resourcePool",hy,this),Wa(this,"renderPassFactory",F1,this),Wa(this,"mesh",py,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(o,s,f){var h=o.createRenderTarget(s,"picking fbo",{width:1,height:1});f.data={output:s.write(o,h)},s.hasSideEffect=!0},this.execute=function(){var o=(0,kl.Z)(aa().mark(function s(f,h,C){var S,T,D;return aa().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(i.views=C,!i.alreadyInRendering){H.next=3;break}return H.abrupt("return");case 3:S=Vg(C);try{for(D=function(){var de=T.value,me=de.getViewport(),xe=me.width,Se=me.height;i.alreadyInRendering=!0;var We=f.getResourceNode(h.data.output);i.pickingFBO=i.resourcePool.getOrCreateResource(We.resource),i.pickingFBO.resize({width:xe,height:Se}),i.engine.useFramebuffer(i.pickingFBO,function(){i.engine.clear({framebuffer:i.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var nt=i.renderPassFactory(zg.IDENTIFIER),Gt=[],wn=de.getScene(),Pn=Vg(wn.getEntities()),Tr;try{for(Pn.s();!(Tr=Pn.n()).done;){var xi=Tr.value,yi=i.mesh.getComponentByEntity(xi),Uo=yi.material;Uo.setUniform("u_PickingStage",gy.ENCODE),Gt.push(yi)}}catch(wi){Pn.e(wi)}finally{Pn.f()}nt.renderView(de),Gt.forEach(function(wi){var lo=wi.material;lo.setUniform("u_PickingStage",gy.HIGHLIGHT)}),i.alreadyInRendering=!1})},S.s();!(T=S.n()).done;)D()}catch(ce){S.e(ce)}finally{S.f()}case 5:case"end":return H.stop()}},s)}));return function(s,f,h){return o.apply(this,arguments)}}(),this.pick=function(o,s){var f=o.x,h=o.y,C=i.engine,S=C.readPixels,T=C.useFramebuffer,D=s.getViewport(),B=D.width,H=D.height,ce=f*window.devicePixelRatio,de=h*window.devicePixelRatio;if(!(ce>B||ce<0||de>H||de<0)){var me,xe;return T(i.pickingFBO,function(){me=S({x:Math.round(ce),y:Math.round(H-(h+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:i.pickingFBO}),(me[0]!==0||me[1]!==0||me[2]!==0)&&(xe=Xu(me),i.highlightEnabled&&i.highlightPickedFeature(me,s))}),xe}}}return(0,ss.Z)(n,[{key:"enableHighlight",value:function(o){this.highlightEnabled=o}},{key:"setHighlightColor",value:function(o){this.highlightColor=o}},{key:"highlightPickedFeature",value:function(o,s){if(o){var f=Vg(s.getScene().getEntities()),h;try{for(f.s();!(h=f.n()).done;){var C=h.value,S=this.mesh.getComponentByEntity(C),T=S.material;T.setUniform("u_PickingStage",gy.HIGHLIGHT),T.setUniform("u_PickingColor",[o[0],o[1],o[2]]),T.setUniform("u_HighlightColor",this.highlightColor)}}catch(D){f.e(D)}finally{f.f()}}}}]),n}(),G1.IDENTIFIER="PixelPicking Pass",Ug),L1=Qa(xp.prototype,"engine",[I1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hy=Qa(xp.prototype,"resourcePool",[dy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F1=Qa(xp.prototype,"renderPassFactory",[Uv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),py=Qa(xp.prototype,"mesh",[Vv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xp))||k1),B1,vy,Z1,my,tl,tg,z1,jv,Qc,NC=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,pf=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,RC=`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`,IC=`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,jg=(B1=(0,ho.b2)(),vy=(0,ho.f3)(Ai.RenderEngine),Z1=(0,ho.f3)(Ai.ResourcePool),B1(my=(tl=(Qc=jv=function n(){var i=this;(0,oa.Z)(this,n),Wa(this,"engine",tg,this),Wa(this,"resourcePool",z1,this),this.model=void 0,this.setup=function(o,s,f){var h=o.getPass(zg.IDENTIFIER);if(h){var C=o.createRenderTarget(s,"render to screen",{width:1,height:1});f.data={input:s.read(h.data.output),output:s.write(o,C)}}},this.execute=function(){var o=(0,kl.Z)(aa().mark(function s(f,h){var C,S,T,D,B,H,ce;return aa().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(C=i.engine,S=C.createModel,T=C.createAttribute,D=C.createBuffer,i.model){me.next=6;break}return me.next=4,S({vs:i.engine.supportWebGPU?IC:pf,fs:i.engine.supportWebGPU?RC:NC,attributes:{a_Position:T({buffer:D({data:[-4,-4,4,-4,0,4],type:Vr.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:B=me.sent,i.model=B;case 6:H=f.getResourceNode(h.data.input),ce=i.resourcePool.getOrCreateResource(H.resource),i.engine.useFramebuffer(null,function(){i.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),i.model.draw({uniforms:{u_Texture:ce}})});case 9:case"end":return me.stop()}},s)}));return function(s,f){return o.apply(this,arguments)}}(),this.tearDown=function(){i.model=void 0}},jv.IDENTIFIER="Copy Pass",Qc),tg=Qa(tl.prototype,"engine",[vy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z1=Qa(tl.prototype,"resourcePool",[Z1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tl))||my),$g,Yd,kC,LC,FC,GC,BC,$v,U1,yy,ZC,zC,Wv,Jc=($g=(0,ho.b2)(),Yd=(0,ho.f3)(Ai.Systems),kC=(0,ho.t6)(Ai.FrameGraphSystem),LC=(0,ho.f3)(Ai.RenderPassFactory),FC=(0,ho.f3)(Ai.ConfigService),GC=(0,ho.f3)(Ai.ResourcePool),$g(BC=($v=(Wv=function(){function n(){(0,oa.Z)(this,n),Wa(this,"frameGraphSystem",U1,this),Wa(this,"renderPassFactory",yy,this),Wa(this,"configService",ZC,this),Wa(this,"resourcePool",zC,this)}return(0,ss.Z)(n,[{key:"execute",value:function(){var i=(0,kl.Z)(aa().mark(function s(f){var h,C,S,T,D,B,H,ce,de;return aa().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:h=this.renderPassFactory(zg.IDENTIFIER),C=h.setup,S=h.execute,T=this.frameGraphSystem.addPass(zg.IDENTIFIER,C,S),D=this.renderPassFactory(jg.IDENTIFIER),B=D.setup,H=D.execute,ce=D.tearDown,de=this.frameGraphSystem.addPass(jg.IDENTIFIER,B,H,ce),this.frameGraphSystem.present(de.data.output);case 5:case"end":return xe.stop()}},s,this)}));function o(s){return i.apply(this,arguments)}return o}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(o,s){var f=this.renderPassFactory(eg.IDENTIFIER);return f.pick(o,s)}}]),n}(),Wv),U1=Qa($v.prototype,"frameGraphSystem",[Yd,kC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yy=Qa($v.prototype,"renderPassFactory",[LC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ZC=Qa($v.prototype,"configService",[FC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zC=Qa($v.prototype,"resourcePool",[GC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$v))||BC);function UC(n){var i=Zh();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function Zh(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var Zf=function(n){(0,ff.Z)(o,n);var i=UC(o);function o(s){var f;return(0,oa.Z)(this,o),f=i.call(this,s),f.parentID=void 0,Object.assign((0,gu.Z)(f),s),f}return o}(uh),by,Cy,xy,gf,Xd,Ep,Hv,VC,V1,ph,jx=(by=(0,ho.b2)(),Cy=(0,ho.f3)(Ai.HierarchyComponentManager),xy=(0,ho.f3)(Ai.TransformComponentManager),gf=(0,ho.f3)(Ai.MeshComponentManager),by(Xd=(Ep=(ph=function(){function n(){(0,oa.Z)(this,n),Wa(this,"hierarchy",Hv,this),Wa(this,"transform",VC,this),Wa(this,"mesh",V1,this)}return(0,ss.Z)(n,[{key:"execute",value:function(){var i=(0,kl.Z)(aa().mark(function s(){return aa().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return h.stop()}},s,this)}));function o(){return i.apply(this,arguments)}return o}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var o=this;this.transform.forEach(function(s,f){(f.isDirty()||f.isLocalDirty())&&(o.setMeshAABBDirty(o.mesh.getComponentByEntity(s)),f.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var o=this;this.hierarchy.forEach(function(s,f){var h=o.transform.getComponentByEntity(s),C=o.transform.getComponentByEntity(f.parentID);h!==null&&C!==null&&h.updateTransformWithParent(C)})}},{key:"attach",value:function(o,s,f){this.hierarchy.contains(o)&&this.detach(o),this.hierarchy.create(o,{parentID:s});var h=this.mesh.getComponentByEntity(s);if(this.setMeshAABBDirty(h),h&&h.children.indexOf(o)===-1&&h.children.push(o),this.hierarchy.getCount()>1)for(var C=this.hierarchy.getCount()-1;C>0;--C)for(var S=this.hierarchy.getEntity(C),T=0;T<C;++T){var D=this.hierarchy.getComponent(T);if(D.parentID===S){this.hierarchy.moveItem(C,T),++C;break}}var B=this.hierarchy.getComponentByEntity(o),H=this.transform.getComponentByEntity(s);H===null&&(H=this.transform.create(s));var ce=this.transform.getComponentByEntity(o);ce===null&&(ce=this.transform.create(o),H=this.transform.getComponentByEntity(s)),ce.parent=H,!f&&H&&(ce.matrixTransform(T0(od(),H.worldTransform)),ce.updateTransform()),H&&ce.updateTransformWithParent(H)}},{key:"detach",value:function(o){var s=this.hierarchy.getComponentByEntity(o);if(s!==null){var f=this.transform.getComponentByEntity(o);f!==null&&(f.parent=null,f.applyTransform()),this.hierarchy.removeKeepSorted(o);var h=this.mesh.getComponentByEntity(s.parentID);if(h){var C=h.children.indexOf(o);h.children.splice(C,1)}this.setMeshAABBDirty(h)}}},{key:"detachChildren",value:function(o){var s=this.mesh.getComponentByEntity(o);s&&(s.children=[]);for(var f=0;f<this.hierarchy.getCount();){var h;if(((h=this.hierarchy.getComponent(f))===null||h===void 0?void 0:h.parentID)===o){var C=this.hierarchy.getEntity(f);this.detach(C)}else++f}}},{key:"setMeshAABBDirty",value:function(o){o&&(o.aabbDirty=!0)}}]),n}(),ph),Hv=Qa(Ep.prototype,"hierarchy",[Cy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),VC=Qa(Ep.prototype,"transform",[xy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V1=Qa(Ep.prototype,"mesh",[gf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ep))||Xd);function vf(){var n=new Ec(4);return Ec!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function uM(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function zh(n,i,o){o=o*.5;var s=Math.sin(o);return n[0]=s*i[0],n[1]=s*i[1],n[2]=s*i[2],n[3]=Math.cos(o),n}function fM(n,i){var o=Math.acos(i[3])*2,s=Math.sin(o/2);return s>glMatrix.EPSILON?(n[0]=i[0]/s,n[1]=i[1]/s,n[2]=i[2]/s):(n[0]=1,n[1]=0,n[2]=0),o}function dM(n,i){var o=WC(n,i);return Math.acos(2*o*o-1)}function Rd(n,i,o){var s=i[0],f=i[1],h=i[2],C=i[3],S=o[0],T=o[1],D=o[2],B=o[3];return n[0]=s*B+C*S+f*D-h*T,n[1]=f*B+C*T+h*S-s*D,n[2]=h*B+C*D+s*T-f*S,n[3]=C*B-s*S-f*T-h*D,n}function Kv(n,i,o){o*=.5;var s=i[0],f=i[1],h=i[2],C=i[3],S=Math.sin(o),T=Math.cos(o);return n[0]=s*T+C*S,n[1]=f*T+h*S,n[2]=h*T-f*S,n[3]=C*T-s*S,n}function hM(n,i,o){o*=.5;var s=i[0],f=i[1],h=i[2],C=i[3],S=Math.sin(o),T=Math.cos(o);return n[0]=s*T-h*S,n[1]=f*T+C*S,n[2]=h*T+s*S,n[3]=C*T-f*S,n}function pM(n,i,o){o*=.5;var s=i[0],f=i[1],h=i[2],C=i[3],S=Math.sin(o),T=Math.cos(o);return n[0]=s*T+f*S,n[1]=f*T-s*S,n[2]=h*T+C*S,n[3]=C*T-h*S,n}function $x(n,i){var o=i[0],s=i[1],f=i[2];return n[0]=o,n[1]=s,n[2]=f,n[3]=Math.sqrt(Math.abs(1-o*o-s*s-f*f)),n}function Wx(n,i){var o=i[0],s=i[1],f=i[2],h=i[3],C=Math.sqrt(o*o+s*s+f*f),S=Math.exp(h),T=C>0?S*Math.sin(C)/C:0;return n[0]=o*T,n[1]=s*T,n[2]=f*T,n[3]=S*Math.cos(C),n}function jC(n,i){var o=i[0],s=i[1],f=i[2],h=i[3],C=Math.sqrt(o*o+s*s+f*f),S=C>0?Math.atan2(C,h)/C:0;return n[0]=o*S,n[1]=s*S,n[2]=f*S,n[3]=.5*Math.log(o*o+s*s+f*f+h*h),n}function gM(n,i,o){return jC(n,i),Id(n,n,o),Wx(n,n),n}function Ey(n,i,o,s){var f=i[0],h=i[1],C=i[2],S=i[3],T=o[0],D=o[1],B=o[2],H=o[3],ce,de,me,xe,Se;return de=f*T+h*D+C*B+S*H,de<0&&(de=-de,T=-T,D=-D,B=-B,H=-H),1-de>Od?(ce=Math.acos(de),me=Math.sin(ce),xe=Math.sin((1-s)*ce)/me,Se=Math.sin(s*ce)/me):(xe=1-s,Se=s),n[0]=xe*f+Se*T,n[1]=xe*h+Se*D,n[2]=xe*C+Se*B,n[3]=xe*S+Se*H,n}function vM(n){var i=glMatrix.RANDOM(),o=glMatrix.RANDOM(),s=glMatrix.RANDOM(),f=Math.sqrt(1-i),h=Math.sqrt(i);return n[0]=f*Math.sin(2*Math.PI*o),n[1]=f*Math.cos(2*Math.PI*o),n[2]=h*Math.sin(2*Math.PI*s),n[3]=h*Math.cos(2*Math.PI*s),n}function $C(n,i){var o=i[0],s=i[1],f=i[2],h=i[3],C=o*o+s*s+f*f+h*h,S=C?1/C:0;return n[0]=-o*S,n[1]=-s*S,n[2]=-f*S,n[3]=h*S,n}function mM(n,i){return n[0]=-i[0],n[1]=-i[1],n[2]=-i[2],n[3]=i[3],n}function wy(n,i){var o=i[0]+i[4]+i[8],s;if(o>0)s=Math.sqrt(o+1),n[3]=.5*s,s=.5/s,n[0]=(i[5]-i[7])*s,n[1]=(i[6]-i[2])*s,n[2]=(i[1]-i[3])*s;else{var f=0;i[4]>i[0]&&(f=1),i[8]>i[f*3+f]&&(f=2);var h=(f+1)%3,C=(f+2)%3;s=Math.sqrt(i[f*3+f]-i[h*3+h]-i[C*3+C]+1),n[f]=.5*s,s=.5/s,n[3]=(i[h*3+C]-i[C*3+h])*s,n[h]=(i[h*3+f]+i[f*3+h])*s,n[C]=(i[C*3+f]+i[f*3+C])*s}return n}function j1(n,i,o,s){var f=.5*Math.PI/180;i*=f,o*=f,s*=f;var h=Math.sin(i),C=Math.cos(i),S=Math.sin(o),T=Math.cos(o),D=Math.sin(s),B=Math.cos(s);return n[0]=h*T*B-C*S*D,n[1]=C*S*B+h*T*D,n[2]=C*T*D-h*S*B,n[3]=C*T*B+h*S*D,n}function yM(n){return"quat("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")"}var Uh=p0,Sy=Tg,Vh=_d,wc=$s,Hx=Og,Qd=Rd,Id=bm,WC=v0,Kx=Cm,ng=_g,Yx=null,Wg=ru,Sc=null,Hg=g0,Xx=Em,R0=Yu,HC=function(){var n=ec(),i=Js(1,0,0),o=Js(0,1,0);return function(s,f,h){var C=Wd(f,h);return C<-.999999?(_v(n,i,f),b0(n)<1e-6&&_v(n,o,f),Ih(n,n),zh(s,n,Math.PI),s):C>.999999?(s[0]=0,s[1]=0,s[2]=0,s[3]=1,s):(_v(n,f,h),s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=1+C,Hg(s,s))}}(),Kg=function(){var n=vf(),i=vf();return function(o,s,f,h,C,S){return Ey(n,s,C,S),Ey(i,f,h,S),Ey(o,n,i,2*S*(1-S)),o}}(),Qx=function(){var n=cp();return function(i,o,s,f){return n[0]=s[0],n[3]=s[1],n[6]=s[2],n[1]=f[0],n[4]=f[1],n[7]=f[2],n[2]=-o[0],n[5]=-o[1],n[8]=-o[2],Hg(i,wy(i,n))}}();function Yv(n){var i=$1();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function $1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var Xv=function(n){(0,ff.Z)(o,n);var i=Yv(o);function o(s){var f;return(0,oa.Z)(this,o),f=i.call(this,s),f.dirtyFlag=void 0,f.localDirtyFlag=void 0,f.parent=null,f.localPosition=Js(0,0,0),f.localRotation=Sy(0,0,0,1),f.localScale=Js(1,1,1),f.localTransform=od(),f.position=Js(0,0,0),f.rotation=Sy(0,0,0,1),f.scaling=Js(1,1,1),f.worldTransform=od(),f.matrixTransform=function(){var h=od();return function(C){bp(h,f.getLocalTransform(),C),Gg(f.localScale,h),Cp(f.localPosition,h),Bg(f.localRotation,h)}}(),f.rotateRollPitchYaw=function(){var h=vf(),C=vf(),S=vf();return function(T,D,B){f.setDirty(),j1(h,T,0,0),j1(C,0,D,0),j1(S,0,0,B),Rd(f.localRotation,h,f.localRotation),Rd(f.localRotation,f.localRotation,C),Rd(f.localRotation,S,f.localRotation),Hg(f.localRotation,f.localRotation)}}(),f.lerp=function(){var h=ec(),C=vf(),S=ec(),T=ec(),D=vf(),B=ec();return function(H,ce,de){f.setDirty(),Gg(h,H.worldTransform),Cp(S,H.worldTransform),Bg(C,H.worldTransform),Gg(T,ce.worldTransform),Cp(B,ce.worldTransform),Bg(D,ce.worldTransform),dh(f.localScale,h,T,de),Ey(f.localRotation,C,D,de),dh(f.localPosition,S,B,de)}}(),f.translate=function(){var h=ec();return function(C){return $d(h,f.getPosition(),C),f.setPosition(h),f.setDirty(!0),(0,gu.Z)(f)}}(),f.translateLocal=function(){return function(h){return Ng(h,h,f.localRotation),$d(f.localPosition,f.localPosition,h),f.setLocalDirty(!0),(0,gu.Z)(f)}}(),f.setPosition=function(){var h=od();return function(C){return f.position=C,f.setLocalDirty(!0),f.parent===null?rf(f.localPosition,C):(ty(h,f.parent.worldTransform),T0(h,h),$p(f.localPosition,C,h)),(0,gu.Z)(f)}}(),f.rotate=function(){var h=vf();return function(C){if(f.parent===null)Rd(f.localRotation,f.localRotation,C),Hg(f.localRotation,f.localRotation);else{var S=f.getRotation(),T=f.parent.getRotation();Vh(h,T),$C(h,h),Rd(h,h,C),Rd(f.localRotation,C,S),Hg(f.localRotation,f.localRotation)}return f.setLocalDirty(),(0,gu.Z)(f)}}(),f.rotateLocal=function(){return function(h){return Rd(f.localRotation,f.localRotation,h),Hg(f.localRotation,f.localRotation),f.setLocalDirty(!0),(0,gu.Z)(f)}}(),f.setRotation=function(){var h=vf();return function(C){return f.parent===null?Vh(f.localRotation,C):(Vh(h,f.parent.getRotation()),$C(h,h),Vh(f.localRotation,h),Qd(f.localRotation,f.localRotation,C)),f.setLocalDirty(!0),(0,gu.Z)(f)}}(),f}return(0,ss.Z)(o,[{key:"setLocalPosition",value:function(f){rf(this.localPosition,f),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(f){rf(this.localScale,f),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(f){return Vh(this.localRotation,f),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;f?this.dirtyFlag|=o.DIRTY:this.dirtyFlag&=~o.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;f?(this.localDirtyFlag|=o.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~o.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&this.parent===null&&(ty(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(f){bp(this.worldTransform,f.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),Gg(this.localScale,this.worldTransform),Cp(this.localPosition,this.worldTransform),Bg(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=Js(0,0,0),this.localRotation=Sy(0,0,0,1),this.localScale=Js(1,1,1)}},{key:"scaleLocal",value:function(f){return this.setLocalDirty(),Lm(this.localScale,this.localScale,f),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(wC(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return!this.isLocalDirty()&&!this.isDirty()?this.worldTransform:(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform)}},{key:"getPosition",value:function(){return Cp(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return Bg(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return Gg(this.scaling,this.worldTransform),this.scaling}}]),o}(uh);Xv.DIRTY=1;var KC=l(84879),W1,My,H1,$l,K1,Qv,YC=(W1=(0,ho.b2)(),My=(0,ho.f3)(Ai.RenderEngine),W1(H1=($l=(Qv=function(){function n(){(0,oa.Z)(this,n),Wa(this,"engine",K1,this),this.resourcePool={}}return(0,ss.Z)(n,[{key:"getOrCreateResource",value:function(o){if(!this.resourcePool[o.name]){var s=o.descriptor,f=s.width,h=s.height,C=s.usage;this.resourcePool[o.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:f,height:h,wrapS:Vr.CLAMP_TO_EDGE,wrapT:Vr.CLAMP_TO_EDGE,usage:C})})}return this.resourcePool[o.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),n}(),Qv),K1=Qa($l.prototype,"engine",[My],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$l))||H1);function XC(n){var i=Yg();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function Yg(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var kd=function(n){(0,ff.Z)(o,n);var i=XC(o);function o(s){var f;return(0,oa.Z)(this,o),f=i.call(this,s),f.name=void 0,f.name=s.name||"",f}return o}(uh),zu,Y1,I0,Xf=(zu=(0,ho.b2)(),zu(Y1=(I0=function(){function n(){(0,oa.Z)(this,n),this.config=void 0}return(0,ss.Z)(n,[{key:"get",value:function(){return this.config}},{key:"set",value:function(o){this.config=o}}]),n}(),I0))||Y1),Py,Qu,X1;(function(n){n.PANSTART="PANSTART",n.PANEND="PANEND",n.PANMOVE="PANMOVE",n.PINCH="PINCH",n.KEYDOWN="KEYDOWN",n.KEYUP="KEYUP",n.HOVER="HOVER"})(X1||(X1={}));var Jd=(Py=(0,ho.b2)(),Py(Qu=function(){function n(){(0,oa.Z)(this,n)}return(0,ss.Z)(n,[{key:"listen",value:function(o){}},{key:"on",value:function(o,s){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),n}())||Qu);function Q1(n){var i=0;switch(n){case"vec2":case"ivec2":i=2;break;case"vec3":case"ivec3":i=3;break;case"vec4":case"ivec4":case"mat2":i=4;break;case"mat3":i=9;break;case"mat4":i=16;break;default:}return i}var J1=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function q1(n){var i={};return n=n.replace(J1,function(o,s,f){var h=f.split(":"),C=h[0].trim(),S="";switch(h.length>1&&(S=h[1].trim()),s){case"bool":S=S==="true";break;case"float":case"int":S=Number(S);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":S?S=S.replace("[","").replace("]","").split(",").reduce(function(T,D){return T.push(Number(D.trim())),T},[]):S=new Array(Q1(s)).fill(0);break;default:}return i[C]=S,"uniform ".concat(s," ").concat(C,`;
`)}),{content:n,uniforms:i}}function QC(n){return n.filter(function(i,o,s){return s.indexOf(i)===o})}var k0,Ty,e2;function L0(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);i&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,s)}return o}function Ld(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?L0(Object(o),!0).forEach(function(s){(0,ai.Z)(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):L0(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}var JC=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,Oy=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,qC=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`,ex=/precision\s+(high|low|medium)p\s+float/,_y=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,tx=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,F0=(k0=(0,ho.b2)(),k0(Ty=(e2=function(){function n(){(0,oa.Z)(this,n),this.moduleCache={},this.rawContentCache={}}return(0,ss.Z)(n,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:Oy,fs:JC}),this.registerModule("sdf2d",{vs:"",fs:qC})}},{key:"registerModule",value:function(o,s){if(!this.rawContentCache[o]){var f=s.vs,h=f===void 0?"":f,C=s.fs,S=C===void 0?"":C,T=s.uniforms,D=q1(h),B=D.content,H=D.uniforms,ce=q1(S),de=ce.content,me=ce.uniforms;this.rawContentCache[o]={fs:de,uniforms:Ld(Ld(Ld({},H),me),T),vs:B}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(o){var s=this;if(this.moduleCache[o])return this.moduleCache[o];var f=this.rawContentCache[o].vs||"",h=this.rawContentCache[o].fs||"",C=this.processModule(f,[],"vs"),S=C.content,T=C.includeList,D=this.processModule(h,[],"fs"),B=D.content,H=D.includeList,ce=B,de=QC(T.concat(H).concat(o)).reduce(function(me,xe){return Ld(Ld({},me),s.rawContentCache[xe].uniforms)},{});return ex.test(B)||(ce=_y+B),this.moduleCache[o]={fs:ce.trim(),uniforms:de,vs:S.trim()},this.moduleCache[o]}},{key:"processModule",value:function(o,s,f){var h=this,C=o.replace(tx,function(S,T){var D=T.split(" "),B=D[0].replace(/"/g,"");if(s.indexOf(B)>-1)return"";var H=h.rawContentCache[B][f];s.push(B);var ce=h.processModule(H||"",s,f),de=ce.content;return de});return{content:C,includeList:s}}}]),n}(),e2))||Ty),gh=new ho.W2,Jv=(0,KC.Z)(gh,!1),Jx=function(i){var o=Jv.lazyInject(i);return function(s,f,h){o.call(this,s,f),h&&(h.initializer=function(){return s[f]})}},t2=function(i){var o=Jv.lazyMultiInject(i);return function(s,f,h){o.call(this,s,f),h&&(h.initializer=function(){return s[f]})}};gh.bind(Ai.ShaderModuleService).to(F0).inSingletonScope(),gh.bind(Ai.NameComponentManager).toConstantValue(new pu(kd)),gh.bind(Ai.HierarchyComponentManager).toConstantValue(new pu(Zf)),gh.bind(Ai.TransformComponentManager).toConstantValue(new pu(Xv)),gh.bind(Ai.MeshComponentManager).toConstantValue(new pu(vC)),gh.bind(Ai.CullableComponentManager).toConstantValue(new pu(d1)),gh.bind(Ai.GeometryComponentManager).toConstantValue(new pu(S0)),gh.bind(Ai.MaterialComponentManager).toConstantValue(new pu(Iv));function n2(){var n=new ho.W2;return n.parent=gh,n.bind(Ai.Systems).to(jx).inSingletonScope().whenTargetNamed(Ai.SceneGraphSystem),n.bind(Ai.Systems).to(ap).inSingletonScope().whenTargetNamed(Ai.FrameGraphSystem),n.bind(Ai.Systems).to(bC).inSingletonScope().whenTargetNamed(Ai.MeshSystem),n.bind(Ai.Systems).to(uC).inSingletonScope().whenTargetNamed(Ai.GeometrySystem),n.bind(Ai.Systems).to(Nl).inSingletonScope().whenTargetNamed(Ai.MaterialSystem),n.bind(Ai.Systems).to(Jc).inSingletonScope().whenTargetNamed(Ai.RendererSystem),n.bind(Ai.ResourcePool).to(YC).inSingletonScope(),n.bind(Ai.ConfigService).to(Xf).inSingletonScope(),n.bind(Ai.InteractorService).to(Jd).inSingletonScope(),n.bind(Ai.RenderPass).to(zg).inSingletonScope().whenTargetNamed(zg.IDENTIFIER),n.bind(Ai.RenderPass).to(jg).inSingletonScope().whenTargetNamed(jg.IDENTIFIER),n.bind(Ai.RenderPass).to(eg).inSingletonScope().whenTargetNamed(eg.IDENTIFIER),n.bind(Ai.RenderPassFactory).toFactory(function(i){return function(o){return i.container.getNamed(Ai.RenderPass,o)}}),n}function Ay(n){for(var i=new Jm,o=Js(n[0],n[1],n[2]),s=Js(n[0],n[1],n[2]),f=3;f<n.length;){var h=n[f++],C=n[f++],S=n[f++];h<o[0]&&(o[0]=h),C<o[1]&&(o[1]=C),S<o[2]&&(o[2]=S),h>s[0]&&(s[0]=h),C>s[1]&&(s[1]=C),S>s[2]&&(s[2]=S)}return i.setMinMax(o,s),i}var Ju=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),_u=ec(),qx=null,r2=ec(),eE=ec(),tE=ec(),nE=ec(),Xg=ec(),rE=null,i2=l(59518),iE=l(26199),Qg=l(14156),nx=l(71468),oE=l(48871),aE=l(9871),Dy;(function(n){n.Normal="normal",n.PostProcessing="post-processing"})(Dy||(Dy={}));var sE=l(25612),rx=l(92777),Gl=l(20159),lE=l(61622),Sl=l(20499),Ml=l(64851),Of;(function(n){n.Void="Void",n.Boolean="Boolean",n.Float="Float",n.Uint32="Uint32",n.Int32="Int32",n.Vector="Vector",n.Vector2Float="vec2<f32>",n.Vector3Float="vec3<f32>",n.Vector4Float="vec4<f32>",n.Vector2Boolean="vec2<bool>",n.Vector3Boolean="vec3<bool>",n.Vector4Boolean="vec4<bool>",n.Vector2Uint="vec2<u32>",n.Vector3Uint="vec3<u32>",n.Vector4Uint="vec4<u32>",n.Vector2Int="vec2<i32>",n.Vector3Int="vec3<i32>",n.Vector4Int="vec4<i32>",n.Matrix="Matrix",n.Matrix3x3Float="mat3x3<f32>",n.Matrix4x4Float="mat4x4<i32>",n.Struct="Struct",n.FloatArray="Float[]",n.Vector4FloatArray="vec4<f32>[]"})(Of||(Of={}));var Hl;(function(n){n.Program="Program",n.Identifier="Identifier",n.VariableDeclaration="VariableDeclaration",n.BlockStatement="BlockStatement",n.ReturnStatement="ReturnStatement",n.FunctionDeclaration="FunctionDeclaration",n.VariableDeclarator="VariableDeclarator",n.AssignmentExpression="AssignmentExpression",n.LogicalExpression="LogicalExpression",n.BinaryExpression="BinaryExpression",n.ArrayExpression="ArrayExpression",n.UnaryExpression="UnaryExpression",n.UpdateExpression="UpdateExpression",n.FunctionExpression="FunctionExpression",n.MemberExpression="MemberExpression",n.ConditionalExpression="ConditionalExpression",n.ExpressionStatement="ExpressionStatement",n.CallExpression="CallExpression",n.NumThreadStatement="NumThreadStatement",n.StorageStatement="StorageStatement",n.DoWhileStatement="DoWhileStatement",n.WhileStatement="WhileStatement",n.ForStatement="ForStatement",n.BreakStatement="BreakStatement",n.ContinueStatement="ContinueStatement",n.IfStatement="IfStatement",n.ImportedFunctionStatement="ImportedFunctionStatement"})(Hl||(Hl={}));var wp;(function(n){n.Input="Input",n.Output="Output",n.Uniform="Uniform",n.Workgroup="Workgroup",n.UniformConstant="UniformConstant",n.Image="Image",n.StorageBuffer="StorageBuffer",n.Private="Private",n.Function="Function"})(wp||(wp={}));var jh;(function(n){n.GLSL100="GLSL100",n.GLSL450="GLSL450",n.WGSL="WGSL"})(jh||(jh={}));var ix="__DefineValuePlaceholder__";function Ny(n){return typeof n=="number"}function md(n){return n===void 0?0:n>360||n<-360?n%360:n}function vh(n,i,o){return Ny(n)?Js(n,i,o):n.length===3?Ad(n):Js(n[0],n[1],n[2])}var o2=function(){function n(i,o){(0,oa.Z)(this,n),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=i,this.matrix=CC(o.matrix),this.right=Ad(o.right),this.up=Ad(o.up),this.forward=Ad(o.forward),this.position=Ad(o.position),this.focalPoint=Ad(o.focalPoint),this.distanceVector=Ad(o.distanceVector),this.azimuth=o.azimuth,this.elevation=o.elevation,this.roll=o.roll,this.relAzimuth=o.relAzimuth,this.relElevation=o.relElevation,this.relRoll=o.relRoll,this.dollyingStep=o.dollyingStep,this.distance=o.distance}return(0,ss.Z)(n,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(o){o.matrix=ty(o.matrix,this.matrix),o.right=rf(o.right,this.right),o.up=rf(o.up,this.up),o.forward=rf(o.forward,this.forward),o.position=rf(o.position,this.position),o.focalPoint=rf(o.focalPoint,this.focalPoint),o.distanceVector=rf(o.distanceVector,this.distanceVector),o.azimuth=this.azimuth,o.elevation=this.elevation,o.roll=this.roll,o.relAzimuth=this.relAzimuth,o.relElevation=this.relElevation,o.relRoll=this.relRoll,o.dollyingStep=this.dollyingStep,o.distance=this.distance}}]),n}(),mh,a2,qd,Jg,Qf,qg,c,e;(function(n){n.ORBITING="ORBITING",n.EXPLORING="EXPLORING",n.TRACKING="TRACKING"})(e||(e={}));var t;(function(n){n.DEFAULT="DEFAULT",n.ROTATIONAL="ROTATIONAL",n.TRANSLATIONAL="TRANSLATIONAL",n.CINEMATIC="CINEMATIC"})(t||(t={}));var r;(function(n){n.ORTHOGRAPHIC="ORTHOGRAPHIC",n.PERSPECTIVE="PERSPECTIVE"})(r||(r={}));var a=Math.PI/180,u=180/Math.PI,p=(mh=(0,ho.b2)(),a2=(0,ho.f3)(Ai.InteractorService),mh(qd=(Jg=(c=qg=function(){function n(){(0,oa.Z)(this,n),this.matrix=od(),this.right=Js(1,0,0),this.up=Js(0,1,0),this.forward=Js(0,0,1),this.position=Js(0,0,1),this.focalPoint=Js(0,0,0),this.distanceVector=Js(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,Wa(this,"interactor",Qf,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=od(),this.view=void 0,this.following=void 0,this.type=e.EXPLORING,this.trackingMode=t.DEFAULT,this.projectionMode=r.PERSPECTIVE,this.frustum=new Fl,this.landmarks=[],this.landmarkAnimationID=void 0}return(0,ss.Z)(n,[{key:"clone",value:function(){var o=new n;return o.setType(this.type,void 0),o.interactor=this.interactor,o}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(o,s){return this.type=o,this.type===e.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===e.TRACKING&&s!==void 0&&this.setTrackingMode(s),this}},{key:"setProjectionMode",value:function(o){return this.projectionMode=o,this}},{key:"setTrackingMode",value:function(o){if(this.type!==e.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=o,this}},{key:"setWorldRotation",value:function(o){this.rotateWorld=o,this._getAngles()}},{key:"getViewTransform",value:function(){return T0(od(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(o){return this.matrix=o,this._update(),this}},{key:"setAspect",value:function(o){return this.setPerspective(this.near,this.far,this.fov,o),this}},{key:"setViewOffset",value:function(o,s,f,h,C,S){return this.aspect=o/s,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=o,this.view.fullHeight=s,this.view.offsetX=f,this.view.offsetY=h,this.view.width=C,this.view.height=S,this.projectionMode===r.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===r.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(o,s,f,h){return this.projectionMode=r.PERSPECTIVE,this.fov=f,this.near=o,this.far=s,this.aspect=h,SC(this.perspective,this.fov*a,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(o,s,f,h,C,S){this.projectionMode=r.ORTHOGRAPHIC,this.rright=s,this.left=o,this.top=f,this.bottom=h,this.near=C,this.far=S;var T=(this.rright-this.left)/(2*this.zoom),D=(this.top-this.bottom)/(2*this.zoom),B=(this.rright+this.left)/2,H=(this.top+this.bottom)/2,ce=B-T,de=B+T,me=H+D,xe=H-D;if(this.view!==void 0&&this.view.enabled){var Se=(this.rright-this.left)/this.view.fullWidth/this.zoom,We=(this.top-this.bottom)/this.view.fullHeight/this.zoom;ce+=Se*this.view.offsetX,de=ce+Se*this.view.width,me-=We*this.view.offsetY,xe=me-We*this.view.height}return C1(this.perspective,ce,de,me,xe,C,S),this}},{key:"setPosition",value:function(o,s,f){return this._setPosition(o,s,f),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(o,s,f){var h=Js(0,1,0);if(this.focalPoint=vh(o,s,f),this.trackingMode===t.CINEMATIC){var C=Tv(ec(),this.focalPoint,this.position);o=C[0],s=C[1],f=C[2];var S=Dg(C),T=Math.asin(s/S)*u,D=90+Math.atan2(f,o)*u,B=od();xC(B,B,D*a),Dx(B,B,T*a),h=$p(ec(),[0,1,0],B)}return T0(this.matrix,PC(od(),this.position,this.focalPoint,h)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(o){if(!(this.distance===o||o<0)){this.distance=o,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var s=ec();o=this.distance;var f=this.forward,h=this.focalPoint;return s[0]=o*f[0]+h[0],s[1]=o*f[1]+h[1],s[2]=o*f[2]+h[2],this._setPosition(s),this}}},{key:"setMaxDistance",value:function(o){return this.maxDistance=o,this}},{key:"setMinDistance",value:function(o){return this.minDistance=o,this}},{key:"changeAzimuth",value:function(o){return this.setAzimuth(this.azimuth+o),this}},{key:"changeElevation",value:function(o){return this.setElevation(this.elevation+o),this}},{key:"changeRoll",value:function(o){return this.setRoll(this.roll+o),this}},{key:"setAzimuth",value:function(o){return this.azimuth=md(o),this.computeMatrix(),this._getAxes(),this.type===e.ORBITING||this.type===e.EXPLORING?this._getPosition():this.type===e.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(o){return this.elevation=md(o),this.computeMatrix(),this._getAxes(),this.type===e.ORBITING||this.type===e.EXPLORING?this._getPosition():this.type===e.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(o){return this.roll=md(o),this.computeMatrix(),this._getAxes(),this.type===e.ORBITING||this.type===e.EXPLORING?this._getPosition():this.type===e.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(o,s,f){if(this.type===e.EXPLORING){o=md(o),s=md(s),f=md(f);var h=zh(vf(),[1,0,0],(this.rotateWorld?1:-1)*s*a),C=zh(vf(),[0,1,0],(this.rotateWorld?1:-1)*o*a),S=zh(vf(),[0,0,1],f*a),T=Rd(vf(),C,h);T=Rd(vf(),T,S);var D=b1(od(),T);O0(this.matrix,this.matrix,[0,0,-this.distance]),bp(this.matrix,this.matrix,D),O0(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+s)>90)return;this.relElevation=md(s),this.relAzimuth=md(o),this.relRoll=md(f),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===e.ORBITING||this.type===e.EXPLORING?this._getPosition():this.type===e.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(o,s){var f=vh(o,s,0),h=Ad(this.position);return $d(h,h,Hf(ec(),this.right,f[0])),$d(h,h,Hf(ec(),this.up,f[1])),this._setPosition(h),this}},{key:"dolly",value:function(o){var s=this.forward,f=Ad(this.position),h=o*this.dollyingStep,C=this.distance+o*this.dollyingStep;return h=Math.max(Math.min(C,this.maxDistance),this.minDistance)-this.distance,f[0]+=h*s[0],f[1]+=h*s[1],f[2]+=h*s[2],this._setPosition(f),this.type===e.ORBITING||this.type===e.EXPLORING?this._getDistance():this.type===e.TRACKING&&$d(this.focalPoint,f,this.distanceVector),this}},{key:"createLandmark",value:function(o,s){var f=this.clone();f.setPosition(s.position),f.setFocalPoint(s.focalPoint),s.roll!==void 0&&f.setRoll(s.roll);var h=new o2(o,f);return this.landmarks.push(h),h}},{key:"setLandmark",value:function(o){var s=new o2(o,this);return this.landmarks.push(s),this}},{key:"gotoLandmark",value:function(o){var s=this,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,h=this.landmarks.find(function(H){return H.name===o});if(h){if(f===0){h.retrieve(this);return}this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var C=h.getPosition(),S=h.getFocalPoint(),T=h.getRoll(),D,B=function H(ce){D===void 0&&(D=ce);var de=ce-D,me=(1-Math.cos(de/f*Math.PI))/2,xe=ec(),Se=ec(),We=0;dh(xe,s.focalPoint,S,me),dh(Se,s.position,C,me),We=s.roll*(1-me)+T*me,s.setFocalPoint(xe),s.setPosition(Se),s.setRoll(We),s.computeMatrix();var nt=y0(xe,S)+y0(Se,C);if(!(nt>.01)){s.setFocalPoint(xe),s.setPosition(Se),s.setRoll(We),s.computeMatrix(),s.interactor.connect();return}de<f&&(s.landmarkAnimationID=window.requestAnimationFrame(H))};window.requestAnimationFrame(B)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var o,s,f=zh(vf(),[0,0,1],this.roll*a);y1(this.matrix),o=zh(vf(),[1,0,0],(this.rotateWorld&&this.type!==e.TRACKING||this.type===e.TRACKING?1:-1)*this.elevation*a),s=zh(vf(),[0,1,0],(this.rotateWorld&&this.type!==e.TRACKING||this.type===e.TRACKING?1:-1)*this.azimuth*a);var h=Rd(vf(),s,o);h=Rd(vf(),h,f);var C=b1(od(),h);this.type===e.ORBITING||this.type===e.EXPLORING?(O0(this.matrix,this.matrix,this.focalPoint),bp(this.matrix,this.matrix,C),O0(this.matrix,this.matrix,[0,0,this.distance])):this.type===e.TRACKING&&(O0(this.matrix,this.matrix,this.position),bp(this.matrix,this.matrix,C))}},{key:"_setPosition",value:function(o,s,f){this.position=vh(o,s,f);var h=this.matrix;h[12]=this.position[0],h[13]=this.position[1],h[14]=this.position[2],h[15]=1}},{key:"_getAxes",value:function(){rf(this.right,vh(lp(sp(),[1,0,0,0],this.matrix))),rf(this.up,vh(lp(sp(),[0,1,0,0],this.matrix))),rf(this.forward,vh(lp(sp(),[0,0,1,0],this.matrix))),Ih(this.right,this.right),Ih(this.up,this.up),Ih(this.forward,this.forward)}},{key:"_getAngles",value:function(){var o=this.distanceVector[0],s=this.distanceVector[1],f=this.distanceVector[2],h=Dg(this.distanceVector);if(h===0){this.elevation=0,this.azimuth=0;return}this.type===e.TRACKING?(this.elevation=Math.asin(s/h)*u,this.azimuth=Math.atan2(-o,-f)*u):this.rotateWorld?(this.elevation=Math.asin(s/h)*u,this.azimuth=Math.atan2(-o,-f)*u):(this.elevation=-Math.asin(s/h)*u,this.azimuth=-Math.atan2(-o,-f)*u)}},{key:"_getPosition",value:function(){rf(this.position,vh(lp(sp(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){Dv(this.distanceVector,[0,0,-this.distance],Pm(cp(),this.matrix)),$d(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=Tv(ec(),this.focalPoint,this.position),this.distance=Dg(this.distanceVector),this.dollyingStep=this.distance/100}}]),n}(),qg.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},c),Qf=Qa(Jg.prototype,"interactor",[a2],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jg))||qd),b,P,I,z,W,ne,Te,Ke=(b=(0,ho.b2)(),P=(0,ho.f3)(Ai.GeometryComponentManager),b(I=(z=(Te=ne=function(){function n(){(0,oa.Z)(this,n),this.config=void 0,Wa(this,"geometry",W,this),this.entity=void 0,this.component=void 0}return(0,ss.Z)(n,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(o){this.config=o}},{key:"setEntity",value:function(o){this.entity=o,this.component=this.geometry.create(o),this.component.entity=o,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),n}(),ne.BOX="box",ne.SPHERE="sphere",ne.PLANE="plane",ne.MERGED="merged",Te),W=Qa(z.prototype,"geometry",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z))||I),Ue=l(49469);function At(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var tn={}.toString,pn=function(i,o){return tn.call(i)==="[object "+o+"]"},Kt=pn,zn=function(n){return Array.isArray?Array.isArray(n):Kt(n,"Array")},gr=9007199254740991,ii="[object Arguments]",si="[object Array]",Ri="[object Boolean]",zo="[object Date]",ro="[object Error]",po="[object Function]",Yo="[object Map]",ks="[object Number]",Fs="[object Object]",Ei="[object RegExp]",Po="[object Set]",ys="[object String]",yc="[object WeakMap]",zc="[object ArrayBuffer]",Uu="[object DataView]",wu="[object Float32Array]",G0="[object Float64Array]",B0="[object Int8Array]",Sp="[object Int16Array]",qv="[object Int32Array]",$h="[object Uint8Array]",Wh="[object Uint8ClampedArray]",s2="[object Uint16Array]",l2="[object Uint32Array]",Mc={};Mc[wu]=Mc[G0]=Mc[B0]=Mc[Sp]=Mc[qv]=Mc[$h]=Mc[Wh]=Mc[s2]=Mc[l2]=!0,Mc[ii]=Mc[si]=Mc[zc]=Mc[Ri]=Mc[Uu]=Mc[zo]=Mc[ro]=Mc[po]=Mc[Yo]=Mc[ks]=Mc[Fs]=Mc[Ei]=Mc[Po]=Mc[ys]=Mc[yc]=!1;function IO(n){return function(i){return n(i)}}var bM=Object.prototype,CM=bM.toString;function xM(n){return wM(n)&&EM(n.length)&&!!Mc[CM.call(n)]}function EM(n){return typeof n=="number"&&n>-1&&n%1===0&&n<=gr}function wM(n){return!!n&&(0,fp.Z)(n)==="object"}var cE=xM,uE,fE,dE,hE,c2,pE,gE,vE;function mE(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);i&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,s)}return o}function yE(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?mE(Object(o),!0).forEach(function(s){(0,ai.Z)(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):mE(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}var bE=(uE=(0,ho.b2)(),fE=(0,ho.f3)(Ai.RenderEngine),dE=(0,ho.f3)(Ai.ConfigService),uE(hE=(c2=(vE=function(){function n(){(0,oa.Z)(this,n),Wa(this,"engine",pE,this),Wa(this,"configService",gE,this),this.entity=Ss(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return(0,ss.Z)(n,[{key:"init",value:function(){var o=this.configService.get(),s=o.canvas,f=o.engineOptions;this.initPromise=this.engine.init(yE({canvas:s||At(),swapChainFormat:Ue.EV.BGRA8Unorm,antialiasing:!1},f))}},{key:"setBundle",value:function(o){this.compiledBundle=JSON.parse(JSON.stringify(o))}},{key:"setDispatch",value:function(o){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=o),this}},{key:"setMaxIteration",value:function(o){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=o),this}},{key:"setBinding",value:function(o,s){var f=this;if(typeof o=="string"){var h=Ny(s)||cE(s)||zn(s);if(this.compiledBundle&&this.compiledBundle.context){var C=this.compiledBundle.context.defines.find(function(T){return T.name===o});if(C)return C.value=s,this;var S=this.compiledBundle.context.uniforms.find(function(T){return T.name===o});S&&(h?(S.data=s,S.isReferer=!1,S.storageClass===wp.Uniform?this.model&&this.model.updateUniform(o,s):this.model&&this.model.updateBuffer(o,s)):(S.isReferer=!0,S.data=s))}}else Object.keys(o).forEach(function(T){f.setBinding(T,o[T])});return this}},{key:"execute",value:function(){var i=(0,kl.Z)(aa().mark(function s(){var f=this,h,C,S=arguments;return aa().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(h=S.length>0&&S[0]!==void 0?S[0]:1,!this.dirty){D.next=6;break}return this.compiledBundle.context&&(h>1?this.compiledBundle.context.maxIteration=h:this.compiledBundle.context.maxIteration++),D.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(B){var H=B.isReferer;return H}).forEach(function(B){var H=B.data,ce=B.name;f.model.confirmInput(H.model,ce)}),C=0;C<h;C++)this.model.run();return this.engine.endFrame(),D.abrupt("return",this);case 12:case"end":return D.stop()}},s,this)}));function o(){return i.apply(this,arguments)}return o}()},{key:"getOutput",value:function(){var i=(0,kl.Z)(aa().mark(function s(){return aa().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",this.model.readData());case 1:case"end":return h.stop()}},s,this)}));function o(){return i.apply(this,arguments)}return o}()},{key:"compile",value:function(){var i=(0,kl.Z)(aa().mark(function s(){var f,h,C;return aa().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,this.initPromise;case 2:return f=yE({},this.compiledBundle.context),h=this.engine.supportWebGPU?this.engine.useWGSL?jh.WGSL:jh.GLSL450:jh.GLSL100,C=this.compiledBundle.shaders[h],f.defines.filter(function(D){return D.runtime}).forEach(function(D){var B="".concat(ix).concat(D.name);C=C.replace(B,"".concat(D.value))}),f.shader=C,f.uniforms.forEach(function(D){if(!D.data&&D.storageClass===wp.StorageBuffer){var B=1;D.type===Of.FloatArray?B=1:D.type===Of.Vector4FloatArray&&(B=4),D.data=new Float32Array(f.output.length*B).fill(0)}}),this.compiledBundle.context=f,T.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=T.sent;case 12:case"end":return T.stop()}},s,this)}));function o(){return i.apply(this,arguments)}return o}()}]),n}(),vE),pE=Qa(c2.prototype,"engine",[fE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gE=Qa(c2.prototype,"configService",[dE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c2))||hE),CE,xE,EE,ox,wE,SE,ME,PE=(CE=(0,ho.b2)(),xE=(0,ho.f3)(Ai.MaterialComponentManager),CE(EE=(ox=(ME=SE=function(){function n(){(0,oa.Z)(this,n),this.config=void 0,Wa(this,"material",wE,this),this.entity=void 0,this.component=void 0}return(0,ss.Z)(n,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(o){this.config=o}},{key:"setEntity",value:function(o,s){this.entity=o,this.component=this.material.create(o),this.component.entity=o,this.component.type=s,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),n}(),SE.BASIC="basic",ME),wE=Qa(ox.prototype,"material",[xE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ox))||EE),TE,OE,_E,AE,DE,NE,RE,Z0,IE,kE,LE,FE,u2,GE,ev=(TE=(0,ho.b2)(),OE=(0,ho.f3)(Ai.MeshComponentManager),_E=(0,ho.f3)(Ai.CullableComponentManager),AE=(0,ho.f3)(Ai.TransformComponentManager),DE=(0,ho.f3)(Ai.Systems),NE=(0,ho.t6)(Ai.SceneGraphSystem),TE(RE=(Z0=(GE=u2=function(){function n(){(0,oa.Z)(this,n),this.attributes={},this.config=void 0,Wa(this,"mesh",IE,this),Wa(this,"cullable",kE,this),Wa(this,"transform",LE,this),Wa(this,"sceneGraphSystem",FE,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return(0,ss.Z)(n,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(o){this.config=o}},{key:"setEntity",value:function(o){this.entity=o,this.cullable.create(o),this.meshComponent=this.mesh.create(o),this.transformComponent=this.transform.create(o),this.onEntityCreated()}},{key:"setMaterial",value:function(o){return this.meshComponent.material=o,this}},{key:"setGeometry",value:function(o){return this.meshComponent.geometry=o,this}},{key:"setAttributes",value:function(o){var s=this;Object.keys(o).forEach(function(f){o[f]!==void 0&&o[f]!==s.attributes[f]&&(s.onAttributeChanged({name:f,data:o[f]}),s.attributes[f]=o[f])})}},{key:"setVisible",value:function(o){var s=this;return this.meshComponent.visible=o,this.meshComponent.children.forEach(function(f){var h=s.mesh.getComponentByEntity(f);h&&(h.visible=o)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(o){return this.sceneGraphSystem.attach(this.entity,o.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(o){var s=o.name,f=o.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(s),f)}},{key:"convertAttributeName2UniformName",value:function(o){return o}}]),n}(),u2.POINT="point",u2.LINE="line",u2.GRID="grid",GE),IE=Qa(Z0.prototype,"mesh",[OE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kE=Qa(Z0.prototype,"cullable",[_E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),LE=Qa(Z0.prototype,"transform",[AE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),FE=Qa(Z0.prototype,"sceneGraphSystem",[DE,NE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z0))||RE),SM=l(81550),MM=l.n(SM),PM=function(){function n(i,o){(0,oa.Z)(this,n),this.attribute=void 0,this.buffer=void 0;var s=o.buffer,f=o.offset,h=o.stride,C=o.normalized,S=o.size,T=o.divisor;this.buffer=s,this.attribute={buffer:s.get(),offset:f||0,stride:h||0,normalized:C||!1,divisor:T||0},S&&(this.attribute.size=S)}return(0,ss.Z)(n,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(o){this.buffer.subData(o)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),n}(),rg,Ry,ig,yh,Iy,tv,ky,f2,Mp,e0,Jf,Pp,Tp,d2,TM=(rg={},(0,ai.Z)(rg,Vr.POINTS,"points"),(0,ai.Z)(rg,Vr.LINES,"lines"),(0,ai.Z)(rg,Vr.LINE_LOOP,"line loop"),(0,ai.Z)(rg,Vr.LINE_STRIP,"line strip"),(0,ai.Z)(rg,Vr.TRIANGLES,"triangles"),(0,ai.Z)(rg,Vr.TRIANGLE_FAN,"triangle fan"),(0,ai.Z)(rg,Vr.TRIANGLE_STRIP,"triangle strip"),rg),BE=(Ry={},(0,ai.Z)(Ry,Vr.STATIC_DRAW,"static"),(0,ai.Z)(Ry,Vr.DYNAMIC_DRAW,"dynamic"),(0,ai.Z)(Ry,Vr.STREAM_DRAW,"stream"),Ry),ax=(ig={},(0,ai.Z)(ig,Vr.BYTE,"int8"),(0,ai.Z)(ig,Vr.UNSIGNED_INT,"int16"),(0,ai.Z)(ig,Vr.INT,"int32"),(0,ai.Z)(ig,Vr.UNSIGNED_BYTE,"uint8"),(0,ai.Z)(ig,Vr.UNSIGNED_SHORT,"uint16"),(0,ai.Z)(ig,Vr.UNSIGNED_INT,"uint32"),(0,ai.Z)(ig,Vr.FLOAT,"float"),ig),OM=(yh={},(0,ai.Z)(yh,Vr.ALPHA,"alpha"),(0,ai.Z)(yh,Vr.LUMINANCE,"luminance"),(0,ai.Z)(yh,Vr.LUMINANCE_ALPHA,"luminance alpha"),(0,ai.Z)(yh,Vr.RGB,"rgb"),(0,ai.Z)(yh,Vr.RGBA,"rgba"),(0,ai.Z)(yh,Vr.RGBA4,"rgba4"),(0,ai.Z)(yh,Vr.RGB5_A1,"rgb5 a1"),(0,ai.Z)(yh,Vr.RGB565,"rgb565"),(0,ai.Z)(yh,Vr.DEPTH_COMPONENT,"depth"),(0,ai.Z)(yh,Vr.DEPTH_STENCIL,"depth stencil"),yh),_M=(Iy={},(0,ai.Z)(Iy,Vr.DONT_CARE,"dont care"),(0,ai.Z)(Iy,Vr.NICEST,"nice"),(0,ai.Z)(Iy,Vr.FASTEST,"fast"),Iy),ZE=(tv={},(0,ai.Z)(tv,Vr.NEAREST,"nearest"),(0,ai.Z)(tv,Vr.LINEAR,"linear"),(0,ai.Z)(tv,Vr.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,ai.Z)(tv,Vr.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,ai.Z)(tv,Vr.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,ai.Z)(tv,Vr.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),tv),zE=(ky={},(0,ai.Z)(ky,Vr.REPEAT,"repeat"),(0,ai.Z)(ky,Vr.CLAMP_TO_EDGE,"clamp"),(0,ai.Z)(ky,Vr.MIRRORED_REPEAT,"mirror"),ky),AM=(f2={},(0,ai.Z)(f2,Vr.NONE,"none"),(0,ai.Z)(f2,Vr.BROWSER_DEFAULT_WEBGL,"browser"),f2),DM=(Mp={},(0,ai.Z)(Mp,Vr.NEVER,"never"),(0,ai.Z)(Mp,Vr.ALWAYS,"always"),(0,ai.Z)(Mp,Vr.LESS,"less"),(0,ai.Z)(Mp,Vr.LEQUAL,"lequal"),(0,ai.Z)(Mp,Vr.GREATER,"greater"),(0,ai.Z)(Mp,Vr.GEQUAL,"gequal"),(0,ai.Z)(Mp,Vr.EQUAL,"equal"),(0,ai.Z)(Mp,Vr.NOTEQUAL,"notequal"),Mp),UE=(e0={},(0,ai.Z)(e0,Vr.FUNC_ADD,"add"),(0,ai.Z)(e0,Vr.MIN_EXT,"min"),(0,ai.Z)(e0,Vr.MAX_EXT,"max"),(0,ai.Z)(e0,Vr.FUNC_SUBTRACT,"subtract"),(0,ai.Z)(e0,Vr.FUNC_REVERSE_SUBTRACT,"reverse subtract"),e0),h2=(Jf={},(0,ai.Z)(Jf,Vr.ZERO,"zero"),(0,ai.Z)(Jf,Vr.ONE,"one"),(0,ai.Z)(Jf,Vr.SRC_COLOR,"src color"),(0,ai.Z)(Jf,Vr.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,ai.Z)(Jf,Vr.SRC_ALPHA,"src alpha"),(0,ai.Z)(Jf,Vr.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,ai.Z)(Jf,Vr.DST_COLOR,"dst color"),(0,ai.Z)(Jf,Vr.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,ai.Z)(Jf,Vr.DST_ALPHA,"dst alpha"),(0,ai.Z)(Jf,Vr.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,ai.Z)(Jf,Vr.CONSTANT_COLOR,"constant color"),(0,ai.Z)(Jf,Vr.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,ai.Z)(Jf,Vr.CONSTANT_ALPHA,"constant alpha"),(0,ai.Z)(Jf,Vr.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,ai.Z)(Jf,Vr.SRC_ALPHA_SATURATE,"src alpha saturate"),Jf),NM=(Pp={},(0,ai.Z)(Pp,Vr.NEVER,"never"),(0,ai.Z)(Pp,Vr.ALWAYS,"always"),(0,ai.Z)(Pp,Vr.LESS,"less"),(0,ai.Z)(Pp,Vr.LEQUAL,"lequal"),(0,ai.Z)(Pp,Vr.GREATER,"greater"),(0,ai.Z)(Pp,Vr.GEQUAL,"gequal"),(0,ai.Z)(Pp,Vr.EQUAL,"equal"),(0,ai.Z)(Pp,Vr.NOTEQUAL,"notequal"),Pp),z0=(Tp={},(0,ai.Z)(Tp,Vr.ZERO,"zero"),(0,ai.Z)(Tp,Vr.KEEP,"keep"),(0,ai.Z)(Tp,Vr.REPLACE,"replace"),(0,ai.Z)(Tp,Vr.INVERT,"invert"),(0,ai.Z)(Tp,Vr.INCR,"increment"),(0,ai.Z)(Tp,Vr.DECR,"decrement"),(0,ai.Z)(Tp,Vr.INCR_WRAP,"increment wrap"),(0,ai.Z)(Tp,Vr.DECR_WRAP,"decrement wrap"),Tp),RM=(d2={},(0,ai.Z)(d2,Vr.FRONT,"front"),(0,ai.Z)(d2,Vr.BACK,"back"),d2),IM=function(){function n(i,o){(0,oa.Z)(this,n),this.buffer=void 0;var s=o.data,f=o.usage,h=o.type;this.buffer=i.buffer({data:s,usage:BE[f||Vr.STATIC_DRAW],type:ax[h||Vr.UNSIGNED_BYTE]})}return(0,ss.Z)(n,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(o){var s=o.data,f=o.offset;this.buffer.subdata(s,f)}}]),n}(),of=l(74902),kM=9007199254740991,LM="[object Arguments]",FM="[object Array]",GM="[object Boolean]",BM="[object Date]",ZM="[object Error]",zM="[object Function]",UM="[object Map]",VM="[object Number]",jM="[object Object]",$M="[object RegExp]",WM="[object Set]",HM="[object String]",KM="[object WeakMap]",YM="[object ArrayBuffer]",XM="[object DataView]",QM="[object Float32Array]",JM="[object Float64Array]",qM="[object Int8Array]",eP="[object Int16Array]",tP="[object Int32Array]",nP="[object Uint8Array]",rP="[object Uint8ClampedArray]",iP="[object Uint16Array]",oP="[object Uint32Array]",Su={};Su[QM]=Su[JM]=Su[qM]=Su[eP]=Su[tP]=Su[nP]=Su[rP]=Su[iP]=Su[oP]=!0,Su[LM]=Su[FM]=Su[YM]=Su[GM]=Su[XM]=Su[BM]=Su[ZM]=Su[zM]=Su[UM]=Su[VM]=Su[jM]=Su[$M]=Su[WM]=Su[HM]=Su[KM]=!1;function kO(n){return function(i){return n(i)}}var aP=Object.prototype,sP=aP.toString;function lP(n){return uP(n)&&cP(n.length)&&!!Su[sP.call(n)]}function cP(n){return typeof n=="number"&&n>-1&&n%1===0&&n<=kM}function uP(n){return!!n&&(0,fp.Z)(n)==="object"}var sx=lP;function VE(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);i&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,s)}return o}function jE(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?VE(Object(o),!0).forEach(function(s){(0,ai.Z)(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):VE(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}var fP=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,$E=0,p2=!1,dP=function(){function n(i,o){var s=this;(0,oa.Z)(this,n),this.reGl=i,this.context=o,this.entity=Ss(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var f={};this.context.uniforms.forEach(function(D){var B=D.name,H=D.type,ce=D.data,de=D.isReferer,me=D.storageClass;if(me===wp.StorageBuffer){if(de)s.textureCache[B]={data:void 0},f["".concat(B,"Size")]=function(){return ce.compiledBundle.context.output.textureSize};else{s.textureCache[B]=s.calcDataTexture(B,H,ce);var xe=s.textureCache[B],Se=xe.textureWidth,We=xe.isOutput;f["".concat(B,"Size")]=[Se,Se],We&&(s.outputTextureName=B,s.context.needPingpong&&(s.outputTextureName="".concat(B,"Output"),s.textureCache[s.outputTextureName]=s.calcDataTexture(B,H,ce)))}f[B]=function(){return p2&&console.log("[".concat(s.entity,"]: ").concat(B," ").concat(s.textureCache[B].id)),s.textureCache[B].texture}}else if(me===wp.Uniform){if(ce&&(Array.isArray(ce)||sx(ce))&&ce.length>16)throw new Error("invalid data type ".concat(H));f[B]=function(){return D.data}}});var h=this.getOuputDataTexture(),C=h.textureWidth,S=h.texelCount;f.u_OutputTextureSize=[C,C],f.u_OutputTexelCount=S,this.context.output.textureSize=[C,C];var T={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:f,vert:fP,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(T)}return(0,ss.Z)(n,[{key:"run",value:function(){var o=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){o.computeCommand()}),p2&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var i=(0,kl.Z)(aa().mark(function s(){var f=this,h,C,S,T,D,B,H,ce;return aa().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){h=f.reGl.read()}),!h){me.next=6;break}if(C=this.getOuputDataTexture(),S=C.originalDataLength,T=C.elementsPerTexel,D=C.typedArrayConstructor,B=D===void 0?Float32Array:D,H=[],T!==4)for(ce=0;ce<h.length;ce+=4)T===1?H.push(h[ce]):T===2?H.push(h[ce],h[ce+1]):H.push(h[ce],h[ce+1],h[ce+2]);else H=h;return me.abrupt("return",new B(H.slice(0,S)));case 6:return me.abrupt("return",new Float32Array);case 7:case"end":return me.stop()}},s,this)}));function o(){return i.apply(this,arguments)}return o}()},{key:"confirmInput",value:function(o,s){var f;this.entity===o.entity?(this.dynamicPingpong=!0,f=this):f=o,this.textureCache[s].id=f.getOuputDataTexture().id,this.textureCache[s].texture=f.getOuputDataTexture().texture,p2&&console.log("[".concat(this.entity,"]: confirm input ").concat(s," from model ").concat(f.entity,", ").concat(f.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(o,s){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=this.context.uniforms.find(function(D){var B=D.name;return B===o});if(h){var C=this.calcDataTexture(o,h.type,s),S=C.texture,T=C.data;this.textureCache[o].data=T,this.textureCache[o].texture=S}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var o=this.context.output.name;this.textureCache[o].id=this.getOuputDataTexture().id,this.textureCache[o].texture=this.getOuputDataTexture().texture}var s=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=s,p2&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var o=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=o}},{key:"cloneDataTexture",value:function(o){var s=o.data,f=o.textureWidth;return jE(jE({},o),{},{id:$E++,texture:this.reGl.texture({width:f,height:f,data:s,type:"float"})})}},{key:"calcDataTexture",value:function(o,s,f){var h=1;s===Of.Vector4FloatArray&&(h=4);for(var C=[],S=0;S<f.length;S+=h)h===1?C.push(f[S],0,0,0):h===2?C.push(f[S],f[S+1],0,0):h===3?C.push(f[S],f[S+1],f[S+2],0):h===4&&C.push(f[S],f[S+1],f[S+2],f[S+3]);var T=f.length,D=Math.ceil(T/h),B=Math.ceil(Math.sqrt(D)),H=B*B;D<H&&C.push.apply(C,(0,of.Z)(new Array((H-D)*4).fill(0)));var ce=this.reGl.texture({width:B,height:B,data:C,type:"float"});return{id:$E++,data:C,originalDataLength:T,typedArrayConstructor:sx(f)?f.constructor:void 0,textureWidth:B,texture:ce,texelCount:D,elementsPerTexel:h,isOutput:o===this.context.output.name}}}]),n}(),hP=function(){function n(i,o){(0,oa.Z)(this,n),this.elements=void 0;var s=o.data,f=o.usage,h=o.type,C=o.count;this.elements=i.elements({data:s,usage:BE[f||Vr.STATIC_DRAW],type:ax[h||Vr.UNSIGNED_BYTE],count:C})}return(0,ss.Z)(n,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(o){var s=o.data;this.elements.subdata(s)}},{key:"destroy",value:function(){this.elements.destroy()}}]),n}(),pP=function(){function n(i,o){(0,oa.Z)(this,n),this.framebuffer=void 0;var s=o.width,f=o.height,h=o.color,C=o.colors,S=o.depth,T=o.stencil,D={width:s,height:f};Array.isArray(C)&&(D.colors=C.map(function(B){return B.get()})),h&&typeof h!="boolean"&&(D.color=h.get()),this.framebuffer=i.framebuffer(D)}return(0,ss.Z)(n,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(o){var s=o.width,f=o.height;this.framebuffer.resize(s,f)}}]),n}();function gP(n){var i=(0,fp.Z)(n);return n!=null&&(i==="object"||i==="function")}function Ly(n){var i={};return Object.keys(n).forEach(function(o){lx(o,n[o],i,"")}),i}function lx(n,i,o,s){if(i===null||typeof i=="number"||typeof i=="boolean"||Array.isArray(i)&&typeof i[0]=="number"||sx(i)||i===""||i.resize!==void 0){o["".concat(s&&s+".").concat(n)]=i;return}gP(i)&&Object.keys(i).forEach(function(f){lx(f,i[f],o,"".concat(s&&s+".").concat(n))}),Array.isArray(i)&&i.forEach(function(f,h){Object.keys(f).forEach(function(C){lx(C,f[C],o,"".concat(s&&s+".").concat(n,"[").concat(h,"]"))})})}function WE(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);i&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,s)}return o}function U0(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?WE(Object(o),!0).forEach(function(s){(0,ai.Z)(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):WE(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}var vP=function(){function n(i,o){(0,oa.Z)(this,n),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=i;var s=o.vs,f=o.fs,h=o.defines,C=o.attributes,S=o.uniforms,T=o.primitive,D=o.count,B=o.elements,H=o.depth,ce=o.blend,de=o.stencil,me=o.cull,xe=o.instances,Se=o.scissor,We=o.viewport,nt={};S&&(this.uniforms=Ly(S),Object.keys(S).forEach(function(Tr){nt[Tr]=i.prop(Tr)}));var Gt={};Object.keys(C).forEach(function(Tr){Gt[Tr]=C[Tr].get()});var wn=h&&this.generateDefines(h)||"",Pn={attributes:Gt,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(wn,`
`).concat(f),uniforms:nt,vert:`
`.concat(wn,`
`).concat(s),primitive:TM[T===void 0?Vr.TRIANGLES:T]};xe&&(Pn.instances=xe),D&&(Pn.count=D),B&&(Pn.elements=B.get()),Se&&(Pn.scissor=Se),We&&(Pn.viewport=We),this.initDepthDrawParams({depth:H},Pn),this.initBlendDrawParams({blend:ce},Pn),this.initStencilDrawParams({stencil:de},Pn),this.initCullDrawParams({cull:me},Pn),this.drawCommand=i(Pn)}return(0,ss.Z)(n,[{key:"addUniforms",value:function(o){this.uniforms=U0(U0({},this.uniforms),Ly(o))}},{key:"draw",value:function(o){var s=U0(U0({},this.uniforms),Ly(o.uniforms||{})),f={};Object.keys(s).forEach(function(h){var C=(0,fp.Z)(s[h]);C==="boolean"||C==="number"||Array.isArray(s[h])||s[h].BYTES_PER_ELEMENT?f[h]=s[h]:C==="string"||(f[h]=s[h].get())}),this.drawCommand(f)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(o,s){var f=o.depth;f&&(s.depth={enable:f.enable===void 0?!0:!!f.enable,mask:f.mask===void 0?!0:!!f.mask,func:DM[f.func||Vr.LESS],range:f.range||[0,1]})}},{key:"initBlendDrawParams",value:function(o,s){var f=o.blend;if(f){var h=f.enable,C=f.func,S=f.equation,T=f.color,D=T===void 0?[0,0,0,0]:T;s.blend={enable:!!h,func:{srcRGB:h2[C&&C.srcRGB||Vr.SRC_ALPHA],srcAlpha:h2[C&&C.srcAlpha||Vr.SRC_ALPHA],dstRGB:h2[C&&C.dstRGB||Vr.ONE_MINUS_SRC_ALPHA],dstAlpha:h2[C&&C.dstAlpha||Vr.ONE_MINUS_SRC_ALPHA]},equation:{rgb:UE[S&&S.rgb||Vr.FUNC_ADD],alpha:UE[S&&S.alpha||Vr.FUNC_ADD]},color:D}}}},{key:"initStencilDrawParams",value:function(o,s){var f=o.stencil;if(f){var h=f.enable,C=f.mask,S=C===void 0?-1:C,T=f.func,D=T===void 0?{cmp:Vr.ALWAYS,ref:0,mask:-1}:T,B=f.opFront,H=B===void 0?{fail:Vr.KEEP,zfail:Vr.KEEP,zpass:Vr.KEEP}:B,ce=f.opBack,de=ce===void 0?{fail:Vr.KEEP,zfail:Vr.KEEP,zpass:Vr.KEEP}:ce;s.stencil={enable:!!h,mask:S,func:U0(U0({},D),{},{cmp:NM[D.cmp]}),opFront:{fail:z0[H.fail],zfail:z0[H.zfail],zpass:z0[H.zpass]},opBack:{fail:z0[de.fail],zfail:z0[de.zfail],zpass:z0[de.zpass]}}}}},{key:"initCullDrawParams",value:function(o,s){var f=o.cull;if(f){var h=f.enable,C=f.face,S=C===void 0?Vr.BACK:C;s.cull={enable:!!h,face:RM[S]}}}},{key:"generateDefines",value:function(o){return Object.keys(o).map(function(s){return"#define ".concat(s," ").concat(Number(o[s]))}).join(`
`)}}]),n}(),mP=function(){function n(i,o){(0,oa.Z)(this,n),this.texture=void 0,this.width=void 0,this.height=void 0;var s=o.data,f=o.type,h=f===void 0?Vr.UNSIGNED_BYTE:f,C=o.width,S=o.height,T=o.flipY,D=T===void 0?!1:T,B=o.format,H=B===void 0?Vr.RGBA:B,ce=o.mipmap,de=ce===void 0?!1:ce,me=o.wrapS,xe=me===void 0?Vr.CLAMP_TO_EDGE:me,Se=o.wrapT,We=Se===void 0?Vr.CLAMP_TO_EDGE:Se,nt=o.aniso,Gt=nt===void 0?0:nt,wn=o.alignment,Pn=wn===void 0?1:wn,Tr=o.premultiplyAlpha,xi=Tr===void 0?!1:Tr,yi=o.mag,Uo=yi===void 0?Vr.NEAREST:yi,wi=o.min,lo=wi===void 0?Vr.NEAREST:wi,Gi=o.colorSpace,ca=Gi===void 0?Vr.BROWSER_DEFAULT_WEBGL:Gi;this.width=C,this.height=S;var Ko={width:C,height:S,type:ax[h],format:OM[H],wrapS:zE[xe],wrapT:zE[We],mag:ZE[Uo],min:ZE[lo],alignment:Pn,flipY:D,colorSpace:AM[ca],premultiplyAlpha:xi,aniso:Gt};s&&(Ko.data=s),typeof de=="number"?Ko.mipmap=_M[de]:typeof de=="boolean"&&(Ko.mipmap=de),this.texture=i.texture(Ko)}return(0,ss.Z)(n,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(o){var s=o.width,f=o.height;this.texture.resize(s,f),this.width=s,this.height=f}},{key:"destroy",value:function(){this.texture.destroy()}}]),n}(),HE,KE,YE,yP=(HE=(0,ho.b2)(),HE(KE=(YE=function(){function n(){var i=this;(0,oa.Z)(this,n),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var o=(0,kl.Z)(aa().mark(function s(f){return aa().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!f.uniforms){C.next=3;break}return C.next=3,Promise.all(Object.keys(f.uniforms).map(function(){var S=(0,kl.Z)(aa().mark(function T(D){var B;return aa().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(!(f.uniforms[D]&&f.uniforms[D].load!==void 0)){ce.next=5;break}return ce.next=3,f.uniforms[D].load();case 3:B=ce.sent,f.uniforms[D]=B;case 5:case"end":return ce.stop()}},T)}));return function(T){return S.apply(this,arguments)}}()));case 3:return C.abrupt("return",new vP(i.gl,f));case 4:case"end":return C.stop()}},s)}));return function(s){return o.apply(this,arguments)}}(),this.createAttribute=function(o){return new PM(i.gl,o)},this.createBuffer=function(o){return new IM(i.gl,o)},this.createElements=function(o){return new hP(i.gl,o)},this.createTexture2D=function(o){return new mP(i.gl,o)},this.createFramebuffer=function(o){return new pP(i.gl,o)},this.useFramebuffer=function(o,s){i.gl({framebuffer:o?o.get():null})(s)},this.createComputeModel=function(){var o=(0,kl.Z)(aa().mark(function s(f){return aa().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",new dP(i.gl,f));case 1:case"end":return C.stop()}},s)}));return function(s){return o.apply(this,arguments)}}(),this.clear=function(o){var s=o.color,f=o.depth,h=o.stencil,C=o.framebuffer,S=C===void 0?null:C,T={color:s,depth:f,stencil:h};T.framebuffer=S===null?S:S.get(),i.gl.clear(T)},this.setScissor=function(o){i.gl&&i.gl._gl&&(o.enable&&o.box?(i.gl._gl.enable(Vr.SCISSOR_TEST),i.gl._gl.scissor(o.box.x,o.box.y,o.box.width,o.box.height)):i.gl._gl.disable(Vr.SCISSOR_TEST),i.gl._refresh())},this.viewport=function(o){var s=o.x,f=o.y,h=o.width,C=o.height;i.gl&&i.gl._gl&&(i.gl._gl.viewport(s,f,h,C),i.gl._refresh())},this.readPixels=function(o){var s=o.framebuffer,f=o.x,h=o.y,C=o.width,S=o.height,T={x:f,y:h,width:C,height:S};return s&&(T.framebuffer=s.get()),i.gl.read(T)},this.getCanvas=function(){return i.$canvas},this.getGLContext=function(){return i.gl._gl},this.destroy=function(){i.gl&&(i.gl.destroy(),i.inited=!1)}}return(0,ss.Z)(n,[{key:"init",value:function(){var i=(0,kl.Z)(aa().mark(function s(f){return aa().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!this.inited){C.next=2;break}return C.abrupt("return");case 2:return this.$canvas=f.canvas,C.next=5,new Promise(function(S,T){MM()({canvas:f.canvas,attributes:{alpha:!0,antialias:f.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(B,H){(B||!H)&&T(B),S(H)}})});case 5:this.gl=C.sent,this.inited=!0;case 7:case"end":return C.stop()}},s,this)}));function o(s){return i.apply(this,arguments)}return o}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),n}(),YE))||KE);function bP(){return typeof window!="undefined"}function CP(n,i,o,s){if(bP()){var f=document.getElementsByTagName("head")[0],h=document.createElement("script");h.setAttribute("type","text/javascript"),h.setAttribute("src",n),s&&(h.id=s),h.onload=function(){i&&i()},h.onerror=function(C){o&&o("Unable to load script '".concat(n,"'"),C)},f.appendChild(h)}}function xP(n,i){return new Promise(function(o,s){CP(n,function(){o()},function(f,h){s(h)})})}var g2;function EP(){return cx.apply(this,arguments)}function cx(){return cx=(0,kl.Z)(aa().mark(function n(){return aa().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!g2){o.next=2;break}return o.abrupt("return",g2);case 2:return o.next=4,xP("https://preview.babylonjs.com/glslang/glslang.js");case 4:return g2=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),o.abrupt("return",g2);case 6:case"end":return o.stop()}},n)})),cx.apply(this,arguments)}var wP=function(){function n(i,o){(0,oa.Z)(this,n),this.engine=i,this.options=o,this.attribute=void 0,this.buffer=void 0;var s=o,f=s.buffer,h=s.offset,C=s.stride,S=s.normalized,T=s.size,D=s.divisor,B=s.arrayStride,H=s.attributes,ce=s.stepMode;this.buffer=f,this.attribute={buffer:f.get(),offset:h||0,stride:C||0,normalized:S||!1,divisor:D||0,arrayStride:B||0,attributes:H,stepMode:ce||"vertex"},T&&(this.attribute.size=T)}return(0,ss.Z)(n,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(o){this.buffer.subData(o)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),n}(),V0=function(){function n(i,o){(0,oa.Z)(this,n),this.engine=i,this.options=o,this.buffer=void 0;var s=o,f=s.data,h=s.usage,C=s.type;this.buffer=this.createBuffer(f instanceof Array?new Float32Array(f):f,h||Ue.FB.Vertex|Ue.FB.CopyDst)}return(0,ss.Z)(n,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(o){var s=o.data,f=o.offset;this.setSubData(this.buffer,f,s instanceof Array?new Float32Array(s):s)}},{key:"createBuffer",value:function(o,s){var f=o.byteLength%4,h={size:o.byteLength+f,usage:s},C=this.engine.device.createBuffer(h);return this.setSubData(C,0,o),C}},{key:"setSubData",value:function(o,s,f){var h=Ju?this.engine.device.getQueue():this.engine.device.defaultQueue;h.writeBuffer(o,s,f)}}]),n}();function SP(n){return typeof n=="number"}var MP=function(){function n(i,o){(0,oa.Z)(this,n),this.engine=i,this.context=o,this.entity=Ss(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return(0,ss.Z)(n,[{key:"init",value:function(){var i=(0,kl.Z)(aa().mark(function s(){var f=this,h,C,S,T,D,B,H;return aa().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:h=de.sent,C=h.computeStage,S=this.context.uniforms.filter(function(me){return me.storageClass===wp.StorageBuffer}),T=this.context.uniforms.filter(function(me){return me.storageClass===wp.Uniform}),D=T.length?1:0,this.bindGroupEntries=[],D&&(B=0,H=[],T.forEach(function(me){if(SP(me.data))f.uniformGPUBufferLayout.push({name:me.name,offset:B}),B+=4,H.push(me.data);else{var xe,Se=((xe=me.data)===null||xe===void 0?void 0:xe.length)||1;Se===3&&(Se=4,me.data.push(0));var We=B/4%4;if(We>0){var nt=4-We;if(Se>1&&Se<=nt)Se===2&&(nt===3&&(B+=4,H.push(0)),H.push.apply(H,(0,of.Z)(me.data)),f.uniformGPUBufferLayout.push({name:me.name,offset:B}));else{for(var Gt=0;Gt<nt;Gt++)B+=4,H.push(0);H.push.apply(H,(0,of.Z)(me.data)),f.uniformGPUBufferLayout.push({name:me.name,offset:B})}}B+=4*Se}}),this.uniformBuffer=new V0(this.engine,{data:H instanceof Array?new Float32Array(H):H,usage:Ue.FB.Uniform|Ue.FB.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),S.forEach(function(me){if(me.data!==null&&(me.type===Of.Vector4FloatArray||me.type===Of.FloatArray)){var xe;me.name===f.context.output.name?(xe=new V0(f.engine,{data:isFinite(Number(me.data))?[me.data]:me.data,usage:Ue.FB.Storage|Ue.FB.CopyDst|Ue.FB.CopySrc}),f.outputBuffer=xe,f.context.output={name:me.name,length:isFinite(Number(me.data))?1:me.data.length,typedArrayConstructor:Float32Array,gpuBuffer:xe.get()}):me.isReferer?me.data.model&&me.data.model.outputBuffer&&(xe=me.data.model.outputBuffer):xe=new V0(f.engine,{data:isFinite(Number(me.data))?[me.data]:me.data,usage:Ue.FB.Storage|Ue.FB.CopyDst|Ue.FB.CopySrc}),f.vertexBuffers[me.name]=xe,f.bindGroupEntries.push({binding:D,resource:{name:me.name,refer:xe?void 0:me.data,buffer:xe?xe.get():void 0}}),D++}}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:C}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return de.stop()}},s,this)}));function o(){return i.apply(this,arguments)}return o}()},{key:"destroy",value:function(){var o=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(s){return o.vertexBuffers[s].destroy()})}},{key:"readData",value:function(){var i=(0,kl.Z)(aa().mark(function s(){var f,h,C,S,T,D,B,H,ce,de;return aa().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(f=this.context.output,!f){xe.next=16;break}if(h=f.length,C=f.typedArrayConstructor,S=f.gpuBuffer,!S){xe.next=16;break}return T=h*C.BYTES_PER_ELEMENT,D=this.engine.device.createBuffer({size:T,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),B=this.engine.device.createCommandEncoder(),B.copyBufferToBuffer(S,0,D,0,T),H=Ju?this.engine.device.getQueue():this.engine.device.defaultQueue,H.submit([B.finish()]),xe.next=12,D.mapAsync(Ue.gc.Read);case 12:return ce=D.getMappedRange(),de=new C(ce.slice(0)),D.unmap(),xe.abrupt("return",de);case 16:return xe.abrupt("return",new Float32Array);case 17:case"end":return xe.stop()}},s,this)}));function o(){return i.apply(this,arguments)}return o}()},{key:"run",value:function(){if(this.engine.currentComputePass){var o;this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(o=this.engine.currentComputePass).dispatch.apply(o,(0,of.Z)(this.context.dispatch))}}},{key:"updateBuffer",value:function(o,s){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=this.vertexBuffers[o];h&&h.subData({data:s,offset:f})}},{key:"updateUniform",value:function(o,s){var f=this.uniformGPUBufferLayout.find(function(h){return h.name===o});f&&this.uniformBuffer.subData({data:Number.isFinite(s)?new Float32Array([s]):new Float32Array(s),offset:f.offset})}},{key:"confirmInput",value:function(o,s){var f=this.vertexBuffers[s],h=o.outputBuffer;if(f&&h&&f!==h){var C=this.engine.device.createCommandEncoder(),S=o.context.output,T=S.length,D=S.typedArrayConstructor,B=T*D.BYTES_PER_ELEMENT;C.copyBufferToBuffer(h.get(),0,f.get(),0,B);var H=Ju?this.engine.device.getQueue():this.engine.device.defaultQueue;H.submit([C.finish()])}}},{key:"compileShaderToSpirV",value:function(o,s,f){return this.compileRawShaderToSpirV(f+o,s)}},{key:"compileRawShaderToSpirV",value:function(o,s){return this.engine.glslang.compileGLSL(o,s)}},{key:"compileComputePipelineStageDescriptor",value:function(){var i=(0,kl.Z)(aa().mark(function s(f){var h,C;return aa().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(h=f,C=`#version 450
`,this.engine.options.useWGSL){T.next=6;break}return T.next=5,this.compileShaderToSpirV(f,"compute",C);case 5:h=T.sent;case 6:return T.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:h,isWHLSL:Ju}),entryPoint:"main"}});case 7:case"end":return T.stop()}},s,this)}));function o(s){return i.apply(this,arguments)}return o}()}]),n}(),PP=function(){function n(i,o){(0,oa.Z)(this,n),this.engine=i,this.options=o,this.indexCount=void 0,this.buffer=void 0;var s=o,f=s.data,h=s.usage,C=s.type,S=s.count;this.indexCount=S||0,this.buffer=new V0(i,{data:f instanceof Array?new Uint16Array(f):f,usage:Ue.FB.Index|Ue.FB.CopyDst})}return(0,ss.Z)(n,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(o){this.buffer.subData(o)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),n}(),TP=function(){function n(i,o){(0,oa.Z)(this,n),this.engine=i,this.options=o,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var s=o,f=s.width,h=s.height,C=s.color,S=s.colors,T=s.depth,D=s.stencil;C&&(this.colorTexture=C),T&&(this.depthTexture=T)}return(0,ss.Z)(n,[{key:"get",value:function(){var o,s;return{color:(o=this.colorTexture)===null||o===void 0?void 0:o.get(),depth:(s=this.depthTexture)===null||s===void 0?void 0:s.get()}}},{key:"destroy",value:function(){var o,s;(o=this.colorTexture)===null||o===void 0||o.destroy(),(s=this.depthTexture)===null||s===void 0||s.destroy()}},{key:"resize",value:function(o){var s=o.width,f=o.height;if(s!==this.width||f!==this.height){var h,C;(h=this.colorTexture)===null||h===void 0||h.resize({width:s,height:f}),(C=this.depthTexture)===null||C===void 0||C.resize({width:s,height:f})}this.width=s,this.height=f}}]),n}(),og,Op,t0,yd,j0,v2,Fy,OP=(og={},(0,ai.Z)(og,Vr.POINTS,Ue.YV.PointList),(0,ai.Z)(og,Vr.LINES,Ue.YV.LineList),(0,ai.Z)(og,Vr.LINE_LOOP,Ue.YV.LineList),(0,ai.Z)(og,Vr.LINE_STRIP,Ue.YV.LineStrip),(0,ai.Z)(og,Vr.TRIANGLES,Ue.YV.TriangleList),(0,ai.Z)(og,Vr.TRIANGLE_FAN,Ue.YV.TriangleList),(0,ai.Z)(og,Vr.TRIANGLE_STRIP,Ue.YV.TriangleStrip),og),_P=(Op={},(0,ai.Z)(Op,Vr.NEVER,Ue.wb.Never),(0,ai.Z)(Op,Vr.ALWAYS,Ue.wb.Always),(0,ai.Z)(Op,Vr.LESS,Ue.wb.Less),(0,ai.Z)(Op,Vr.LEQUAL,Ue.wb.LessEqual),(0,ai.Z)(Op,Vr.GREATER,Ue.wb.Greater),(0,ai.Z)(Op,Vr.GEQUAL,Ue.wb.GreaterEqual),(0,ai.Z)(Op,Vr.EQUAL,Ue.wb.Equal),(0,ai.Z)(Op,Vr.NOTEQUAL,Ue.wb.NotEqual),Op),XE=(t0={},(0,ai.Z)(t0,Vr.FUNC_ADD,Ue.db.Add),(0,ai.Z)(t0,Vr.MIN_EXT,Ue.db.Min),(0,ai.Z)(t0,Vr.MAX_EXT,Ue.db.Max),(0,ai.Z)(t0,Vr.FUNC_SUBTRACT,Ue.db.Subtract),(0,ai.Z)(t0,Vr.FUNC_REVERSE_SUBTRACT,Ue.db.ReverseSubtract),t0),m2=(yd={},(0,ai.Z)(yd,Vr.ZERO,Ue.zi.Zero),(0,ai.Z)(yd,Vr.ONE,Ue.zi.One),(0,ai.Z)(yd,Vr.SRC_COLOR,Ue.zi.SrcColor),(0,ai.Z)(yd,Vr.ONE_MINUS_SRC_COLOR,Ue.zi.OneMinusSrcColor),(0,ai.Z)(yd,Vr.SRC_ALPHA,Ue.zi.SrcAlpha),(0,ai.Z)(yd,Vr.ONE_MINUS_SRC_ALPHA,Ue.zi.OneMinusSrcAlpha),(0,ai.Z)(yd,Vr.DST_COLOR,Ue.zi.DstColor),(0,ai.Z)(yd,Vr.ONE_MINUS_DST_COLOR,Ue.zi.OneMinusDstColor),(0,ai.Z)(yd,Vr.DST_ALPHA,Ue.zi.DstAlpha),(0,ai.Z)(yd,Vr.ONE_MINUS_DST_ALPHA,Ue.zi.OneMinusDstAlpha),(0,ai.Z)(yd,Vr.CONSTANT_COLOR,Ue.zi.BlendColor),(0,ai.Z)(yd,Vr.ONE_MINUS_CONSTANT_COLOR,Ue.zi.OneMinusBlendColor),(0,ai.Z)(yd,Vr.SRC_ALPHA_SATURATE,Ue.zi.SrcAlphaSaturated),yd),AP=(j0={},(0,ai.Z)(j0,Vr.ALPHA,"r8unorm"),(0,ai.Z)(j0,Vr.RGBA,"rgba8unorm"),(0,ai.Z)(j0,Vr.DEPTH_COMPONENT,"depth32float"),(0,ai.Z)(j0,Vr.DEPTH_STENCIL,"depth24plus-stencil8"),j0),QE=(v2={},(0,ai.Z)(v2,Vr.NEAREST,"nearest"),(0,ai.Z)(v2,Vr.LINEAR,"linear"),v2),ux=(Fy={},(0,ai.Z)(Fy,Vr.REPEAT,"repeat"),(0,ai.Z)(Fy,Vr.CLAMP_TO_EDGE,"clamp-to-edge"),(0,ai.Z)(Fy,Vr.MIRRORED_REPEAT,"mirror-repeat"),Fy);function DP(n){var i=n.cull;if(!i||!i.enable)return Ue.Wf.None;if(i.face)return i.face===Vr.FRONT?Ue.Wf.Front:Ue.Wf.Back}function NP(n){var i=n.depth,o=n.stencil,s={compare:Ue.wb.Always,depthFailOp:Ue.xS.Keep,failOp:Ue.xS.Keep,passOp:Ue.xS.Keep};return{depthWriteEnabled:i&&i.enable,depthCompare:_P[(i==null?void 0:i.func)||Vr.ALWAYS],format:Ue.EV.Depth24PlusStencil8,stencilFront:s,stencilBack:s,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function RP(n,i){var o=n.blend;return[{format:i,alphaBlend:{srcFactor:m2[o&&o.func&&o.func.srcAlpha||Vr.ONE],dstFactor:m2[o&&o.func&&o.func.dstAlpha||Vr.ZERO],operation:XE[o&&o.equation&&o.equation.alpha||Vr.FUNC_ADD]},colorBlend:{srcFactor:m2[o&&o.func&&o.func.srcRGB||Vr.ONE],dstFactor:m2[o&&o.func&&o.func.dstRGB||Vr.ZERO],operation:XE[o&&o.equation&&o.equation.rgb||Vr.FUNC_ADD]},writeMask:Ue.Yw.All}]}function JE(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);i&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,s)}return o}function $0(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?JE(Object(o),!0).forEach(function(s){(0,ai.Z)(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):JE(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}function IP(n){for(var i=0,o=arguments.length,s=new Array(o>1?o-1:0),f=1;f<o;f++)s[f-1]=arguments[f];for(var h=0,C=s;h<C.length;h++){var S=C[h];i+=S.length}for(var T=new n(i),D=0,B=0,H=s;B<H.length;B++){var ce=H[B];T.set(ce,D),D+=ce.length}return T}var kP=function(){function n(i,o){(0,oa.Z)(this,n),this.engine=i,this.options=o,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return(0,ss.Z)(n,[{key:"init",value:function(){var i=(0,kl.Z)(aa().mark(function s(){var f=this,h,C,S,T,D,B,H,ce,de,me,xe,Se,We,nt,Gt,wn,Pn,Tr;return aa().wrap(function(yi){for(;;)switch(yi.prev=yi.next){case 0:return h=this.options,C=h.vs,S=h.fs,T=h.attributes,D=h.uniforms,B=h.primitive,H=h.count,ce=h.elements,de=h.depth,me=h.blend,xe=h.stencil,Se=h.cull,We=h.instances,yi.next=3,this.compilePipelineStageDescriptor(C,S,null);case 3:nt=yi.sent,Gt=nt.vertexStage,wn=nt.fragmentStage,D&&this.buildUniformBindGroup(D),ce&&(this.indexBuffer=ce.get(),this.indexCount=ce.indexCount),Pn={vertexBuffers:Object.keys(T).map(function(Uo,wi){var lo=T[Uo],Gi=lo.get(),ca=Gi.arrayStride,Ko=Gi.stepMode,ls=Gi.attributes;return f.attributeCache[Uo]=lo,{arrayStride:ca,stepMode:Ko,attributes:ls}})},Tr={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:OP[B||Vr.TRIANGLES],rasterizationState:$0($0({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:DP({cull:Se})}),depthStencilState:NP({depth:de,stencil:xe}),colorStates:RP({blend:me},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:Gt,fragmentStage:wn,vertexState:Pn},this.renderPipeline=this.engine.device.createRenderPipeline(Tr);case 11:case"end":return yi.stop()}},s,this)}));function o(){return i.apply(this,arguments)}return o}()},{key:"addUniforms",value:function(o){this.uniforms=$0($0({},this.uniforms),Ly(o))}},{key:"draw",value:function(o){var s=this,f=this.engine.getCurrentRenderPass(),h=$0($0({},this.uniforms),Ly(o.uniforms||{})),C=[];Object.keys(h).forEach(function(S){var T=(0,fp.Z)(h[S]);if(T==="boolean"||T==="number"||Array.isArray(h[S])||h[S].BYTES_PER_ELEMENT){var D,B=(D=s.uniformGPUBufferLayout.find(function(We){var nt=We.name;return nt===S}))===null||D===void 0?void 0:D.offset;B!==null&&s.uniformBuffer.subData({data:h[S],offset:B})}else{var H,ce=(H=s.uniformGPUBufferLayout.find(function(We){var nt=We.name;return nt===S}))===null||H===void 0?void 0:H.offset;if(ce!==null){var de=h[S].get(),me=de.color||de,xe=me.texture,Se=me.sampler;Se&&(C.push({binding:ce,resource:Se}),ce++),C.push({binding:ce,resource:xe.createView()})}}}),this.uniformBuffer&&(C[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:C}),this.renderPipeline&&f.setPipeline(this.renderPipeline),f.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&f.setIndexBuffer(this.indexBuffer.get(),Ue.iD.Uint32,0),Object.keys(this.attributeCache).forEach(function(S,T){f.setVertexBuffer(0+T,s.attributeCache[S].get().buffer,0)}),this.indexBuffer?f.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):f.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var i=(0,kl.Z)(aa().mark(function s(f,h,C){var S,T,D;return aa().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(S=`#version 450
`,T=f,D=h,this.engine.options.useWGSL){H.next=10;break}return H.next=6,this.compileShaderToSpirV(f,"vertex",S);case 6:return T=H.sent,H.next=9,this.compileShaderToSpirV(h,"fragment",S);case 9:D=H.sent;case 10:return H.abrupt("return",this.createPipelineStageDescriptor(T,D));case 11:case"end":return H.stop()}},s,this)}));function o(s,f,h){return i.apply(this,arguments)}return o}()},{key:"compileShaderToSpirV",value:function(o,s,f){return this.compileRawShaderToSpirV(f+o,s)}},{key:"compileRawShaderToSpirV",value:function(o,s){return this.engine.glslang.compileGLSL(o,s)}},{key:"createPipelineStageDescriptor",value:function(o,s){return{vertexStage:{module:this.engine.device.createShaderModule({code:o,isWHLSL:Ju}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:s,isWHLSL:Ju}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:Ue.zX.CCW,cullMode:Ue.Wf.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(o){var s=this,f=0,h=IP.apply(void 0,[Float32Array].concat((0,of.Z)(Object.keys(o).map(function(T){return o[T]?(s.uniformGPUBufferLayout.push({name:T,offset:f}),f+=(o[T].length||1)*4,o[T]):[]})))),C=[],S=!1;h.length&&(S=!0,C.push({binding:0,visibility:Ue.$X.Fragment|Ue.$X.Vertex,type:Ue.$l.UniformBuffer})),Object.keys(o).filter(function(T){return o[T]===null}).forEach(function(T,D){s.uniformGPUBufferLayout.push({name:T,offset:D*2+(S?1:0)}),C.push({binding:D*2+(S?1:0),visibility:Ue.$X.Fragment,type:Ue.$l.Sampler},{binding:D*2+(S?1:0)+1,visibility:Ue.$X.Fragment,type:Ue.$l.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:C}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),S&&(this.uniformBuffer=new V0(this.engine,{data:h instanceof Array?new Float32Array(h):h,usage:Ue.FB.Uniform|Ue.FB.CopyDst}))}}]),n}(),LP=function(){function n(i,o){(0,oa.Z)(this,n),this.engine=i,this.options=o,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return(0,ss.Z)(n,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(o){var s=o.width,f=o.height;(s!==this.width||f!==this.height)&&(this.destroy(),this.createTexture()),this.width=s,this.height=f}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var o=this.options,s=o.data,f=o.type,h=f===void 0?Vr.UNSIGNED_BYTE:f,C=o.width,S=o.height,T=o.flipY,D=T===void 0?!1:T,B=o.format,H=B===void 0?Vr.RGBA:B,ce=o.mipmap,de=ce===void 0?!1:ce,me=o.wrapS,xe=me===void 0?Vr.CLAMP_TO_EDGE:me,Se=o.wrapT,We=Se===void 0?Vr.CLAMP_TO_EDGE:Se,nt=o.aniso,Gt=nt===void 0?0:nt,wn=o.alignment,Pn=wn===void 0?1:wn,Tr=o.premultiplyAlpha,xi=Tr===void 0?!1:Tr,yi=o.mag,Uo=yi===void 0?Vr.NEAREST:yi,wi=o.min,lo=wi===void 0?Vr.NEAREST:wi,Gi=o.colorSpace,ca=Gi===void 0?Vr.BROWSER_DEFAULT_WEBGL:Gi,Ko=o.usage;this.width=C,this.height=S,this.texture=this.engine.device.createTexture({size:[C,S,1],mipLevelCount:1,sampleCount:1,dimension:Ue.kd.E2d,format:AP[H],usage:Ko||Ue.v2.Sampled|Ue.v2.CopyDst}),(!Ko||Ko&Ue.v2.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:ux[xe],addressModeV:ux[We],addressModeW:ux[xe],magFilter:QE[Uo],minFilter:QE[lo],maxAnisotropy:Gt}))}}]),n}(),qE,ew,tw,FP=(qE=(0,ho.b2)(),qE(ew=(tw=function(){function n(){var i=this;(0,oa.Z)(this,n),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(o){var s=o.framebuffer,f=o.color,h=o.depth,C=o.stencil;i.options.supportCompute&&i.startComputePass(),i.currentRenderTarget?(i.currentRenderPass&&i.endRenderTargetRenderPass(),i.startRenderTargetRenderPass(i.currentRenderTarget,f||null,!!h,!!C)):(i.mainColorAttachments[0].loadValue=f||Ue.Ws.Load,i.mainDepthAttachment.depthLoadValue=h||Ue.Ws.Load,i.mainDepthAttachment.stencilLoadValue=C?i.clearStencilValue:Ue.Ws.Load,i.mainRenderPass&&i.endMainRenderPass(),i.startMainRenderPass())},this.createModel=function(){var o=(0,kl.Z)(aa().mark(function s(f){var h;return aa().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return h=new kP(i,f),S.next=3,h.init();case 3:return S.abrupt("return",h);case 4:case"end":return S.stop()}},s)}));return function(s){return o.apply(this,arguments)}}(),this.createAttribute=function(o){return new wP(i,o)},this.createBuffer=function(o){return new V0(i,o)},this.createElements=function(o){return new PP(i,o)},this.createTexture2D=function(o){return new LP(i,o)},this.createFramebuffer=function(o){return new TP(i,o)},this.useFramebuffer=function(o,s){i.currentRenderTarget&&i.unbindFramebuffer(i.currentRenderTarget),i.currentRenderTarget=o,i.currentRenderTargetViewDescriptor={dimension:Ue.p_.E2d,arrayLayerCount:1,aspect:Ue.H7.All},i.currentRenderPass=null,s()},this.createComputeModel=function(){var o=(0,kl.Z)(aa().mark(function s(f){var h;return aa().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return h=new MP(i,f),S.next=3,h.init();case 3:return S.abrupt("return",h);case 4:case"end":return S.stop()}},s)}));return function(s){return o.apply(this,arguments)}}(),this.getCanvas=function(){return i.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(o){var s=o.x,f=o.y,h=o.width,C=o.height;if(!i.currentRenderPass)i.transientViewport={x:s,y:f,width:h,height:C};else if(i.transientViewport.x!==1/0){var S=i.getCurrentRenderPass();S.setViewport(i.transientViewport.x,i.transientViewport.y,i.transientViewport.width,i.transientViewport.height,0,1)}else if(s!==i.cachedViewport.x||f!==i.cachedViewport.y||h!==i.cachedViewport.width||C!==i.cachedViewport.height){i.cachedViewport={x:s,y:f,width:h,height:C};var T=i.getCurrentRenderPass();T.setViewport(s,f,h,C,0,1)}},this.readPixels=function(o){throw new Error("Method not implemented.")}}return(0,ss.Z)(n,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var i=(0,kl.Z)(aa().mark(function s(f){return aa().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.canvas=f.canvas,this.options=f,this.useWGSL=!!f.useWGSL,this.mainPassSampleCount=f.antialiasing?this.defaultSampleCount:1,C.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return C.stop()}},s,this)}));function o(s){return i.apply(this,arguments)}return o}()},{key:"setScissor",value:function(o){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(o){return o.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Ju?this.device.getQueue().submit(this.commandBuffers.filter(function(o){return o})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(o){return o}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var i=(0,kl.Z)(aa().mark(function s(){var f,h;return aa().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,EP();case 2:return this.glslang=S.sent,S.next=5,(f=navigator)===null||f===void 0||(h=f.gpu)===null||h===void 0?void 0:h.requestAdapter();case 5:return this.adapter=S.sent,S.next=8,this.adapter.requestDevice();case 8:this.device=S.sent;case 9:case"end":return S.stop()}},s,this)}));function o(){return i.apply(this,arguments)}return o}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Ju?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:Ue.v2.OutputAttachment|Ue.v2.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var o={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Ue.kd.E2d,format:Ue.EV.BGRA8Unorm,usage:Ue.v2.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(o),this.mainColorAttachments=[{attachment:Ju?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:Ue.EG.Store}]}else this.mainColorAttachments=[{attachment:Ju?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:Ue.EG.Store}];var s={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Ue.kd.E2d,format:Ju?"depth32float-stencil8":Ue.EV.Depth24PlusStencil8,usage:Ue.v2.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(s),this.mainDepthAttachment={attachment:Ju?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:Ue.EG.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:Ue.EG.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Ju?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Ju?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(o,s,f){var h,C,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,T=(h=o.get().color)===null||h===void 0?void 0:h.texture,D;T&&(D=T.createView(this.currentRenderTargetViewDescriptor));var B=(C=o.get().depth)===null||C===void 0?void 0:C.texture,H;B&&(H=B.createView());var ce=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:D,loadValue:s!==null?s:Ue.Ws.Load,storeOp:Ue.EG.Store}],depthStencilAttachment:B&&H?{attachment:H,depthLoadValue:f?this.clearDepthValue:Ue.Ws.Load,depthStoreOp:Ue.EG.Store,stencilLoadValue:S?this.clearStencilValue:Ue.Ws.Load,stencilStoreOp:Ue.EG.Store}:void 0});this.currentRenderPass=ce,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(o){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),n}(),tw))||ew),nw,rw;function GP(n){var i=BP();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function BP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var fx=4/64,iw=1-fx*2,ZP=(nw=(0,ho.b2)(),nw(rw=function(n){(0,ff.Z)(o,n);var i=GP(o);function o(){return(0,oa.Z)(this,o),i.apply(this,arguments)}return(0,ss.Z)(o,[{key:"onEntityCreated",value:function(){var f=this.config,h=f.widthSegments,C=h===void 0?1:h,S=f.heightSegments,T=S===void 0?1:S,D=f.depthSegments,B=D===void 0?1:D,H=f.halfExtents,ce=H===void 0?Js(.5,.5,.5):H,de=C,me=T,xe=B,Se=(0,Zc.Z)(ce,3),We=Se[0],nt=Se[1],Gt=Se[2],wn=[Js(-We,-nt,Gt),Js(We,-nt,Gt),Js(We,nt,Gt),Js(-We,nt,Gt),Js(We,-nt,-Gt),Js(-We,-nt,-Gt),Js(-We,nt,-Gt),Js(We,nt,-Gt)],Pn=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],Tr=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],xi={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},yi=[],Uo=[],wi=[],lo=[],Gi=[],ca=0,Ko=function(Kl,bh,sg){var lg,cg,rv,ka;for(rv=0;rv<=bh;rv++)for(ka=0;ka<=sg;ka++){var eu=ec(),zf=ec(),Au=ec(),Vu=ec();dh(eu,wn[Pn[Kl][0]],wn[Pn[Kl][1]],rv/bh),dh(zf,wn[Pn[Kl][0]],wn[Pn[Kl][2]],ka/sg),Nv(Au,zf,wn[Pn[Kl][0]]),$d(Vu,eu,Au),lg=rv/bh,cg=ka/sg,yi.push(Vu[0],Vu[1],Vu[2]),Uo.push(Tr[Kl][0],Tr[Kl][1],Tr[Kl][2]),wi.push(lg,cg),lg/=3,cg/=3,lg=lg*iw+fx,cg=cg*iw+fx,lg+=Kl%3/3,cg+=Math.floor(Kl/3)/3,lo.push(lg,cg),rv<bh&&ka<sg&&(Gi.push(ca+sg+1,ca+1,ca),Gi.push(ca+sg+1,ca+sg+2,ca+1)),ca++}};Ko(xi.FRONT,de,me),Ko(xi.BACK,de,me),Ko(xi.TOP,de,xe),Ko(xi.BOTTOM,de,xe),Ko(xi.RIGHT,xe,me),Ko(xi.LEFT,xe,me);var ls=Ay(yi),qc=this.getComponent();qc.indices=Uint32Array.from(Gi),qc.aabb=ls,qc.vertexCount=ca,qc.attributes=[{dirty:!0,name:"position",data:Float32Array.from(yi),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(Uo),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(wi),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),o}(Ke))||rw);function zP(n,i){if(!n&&!i)throw new Error("Please specify valid arguments for parameters a and b.");if(!i||i.length===0)return n;if(!n||n.length===0)return i;if(Object.prototype.toString.call(n)!==Object.prototype.toString.call(i))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var o=new n.constructor(n.length+i.length);return o.set(n),o.set(i,n.length),o}var ow,aw;function UP(n){var i=VP();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function VP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var jP=(ow=(0,ho.b2)(),ow(aw=function(n){(0,ff.Z)(o,n);var i=UP(o);function o(){return(0,oa.Z)(this,o),i.apply(this,arguments)}return(0,ss.Z)(o,[{key:"onEntityCreated",value:function(){var f=this.config.geometries,h=f===void 0?[]:f,C=this.getComponent();C.aabb=new Jm;var S=[],T=[],D=0;h.forEach(function(B){var H=B.aabb,ce=B.indices,de=B.vertexCount,me=B.attributes;C.aabb.add(H),C.vertexCount+=de,ce&&T.push.apply(T,(0,of.Z)(ce.map(function(xe){return xe+D}))),D+=de,me.forEach(function(xe,Se){S[Se]?xe.data&&(Ny(xe.data)?S[Se].push(xe.data):cE(xe.data)?S[Se].data=zP(S[Se].data,xe.data):S[Se].data=S[Se].data.concat(xe.data)):(S[Se]=xe,S[Se].dirty=!0)})}),C.attributes=S,C.indices=Uint32Array.from(T),C.dirty=!0}}]),o}(Ke))||aw),sw,lw;function $P(n){var i=WP();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function WP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var HP=(sw=(0,ho.b2)(),sw(lw=function(n){(0,ff.Z)(o,n);var i=$P(o);function o(){return(0,oa.Z)(this,o),i.apply(this,arguments)}return(0,ss.Z)(o,[{key:"onEntityCreated",value:function(){for(var f=this.config,h=f.halfExtents,C=h===void 0?[.5,.5]:h,S=f.widthSegments,T=S===void 0?5:S,D=f.lengthSegments,B=D===void 0?5:D,H=[],ce=[],de=[],me=[],xe=0,Se=0;Se<=T;Se++)for(var We=0;We<=B;We++){var nt=-C[0]+2*C[0]*Se/T,Gt=0,wn=-(-C[1]+2*C[1]*We/B),Pn=Se/T,Tr=We/B;H.push(nt,Gt,wn),ce.push(0,1,0),de.push(Pn,Tr),Se<T&&We<B&&(me.push(xe+B+1,xe+1,xe),me.push(xe+B+1,xe+B+2,xe+1)),xe++}var xi=Ay(H),yi=this.getComponent();yi.indices=Uint32Array.from(me),yi.aabb=xi,yi.vertexCount=xe,yi.attributes=[{dirty:!0,name:"position",data:Float32Array.from(H),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(ce),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(de),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),o}(Ke))||lw),cw,uw;function KP(n){var i=YP();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function YP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var XP=(cw=(0,ho.b2)(),cw(uw=function(n){(0,ff.Z)(o,n);var i=KP(o);function o(){return(0,oa.Z)(this,o),i.apply(this,arguments)}return(0,ss.Z)(o,[{key:"onEntityCreated",value:function(){for(var f=this.config,h=f.radius,C=h===void 0?.5:h,S=f.latitudeBands,T=S===void 0?16:S,D=f.longitudeBands,B=D===void 0?16:D,H=[],ce=[],de=[],me=[],xe=0;xe<=T;xe++)for(var Se=xe*Math.PI/T,We=Math.sin(Se),nt=Math.cos(Se),Gt=0;Gt<=B;Gt++){var wn=Gt*2*Math.PI/B-Math.PI/2,Pn=Math.sin(wn),Tr=Math.cos(wn),xi=Tr*We,yi=nt,Uo=Pn*We,wi=1-Gt/B,lo=1-xe/T;H.push(xi*C,yi*C,Uo*C),ce.push(xi,yi,Uo),de.push(wi,lo)}for(var Gi=0;Gi<T;++Gi)for(var ca=0;ca<B;++ca){var Ko=Gi*(B+1)+ca,ls=Ko+B+1;me.push(Ko+1,ls,Ko),me.push(Ko+1,ls+1,ls)}var qc=Ay(H),_f=this.getComponent();_f.indices=Uint32Array.from(me),_f.aabb=qc,_f.vertexCount=H.length/3,_f.attributes=[{dirty:!0,name:"position",data:Float32Array.from(H),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(ce),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(de),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),o}(Ke))||uw),fw,dw,hw,pw,y2,gw,vw,mw;function QP(n){var i=JP();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function JP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var qP=`varying vec4 fragColor;

#pragma include "uv.frag.declaration"
#pragma include "map.frag.declaration"

void main() {
  vec4 diffuseColor = fragColor;

  #pragma include "map.frag.main"

  gl_FragColor = diffuseColor;
}`,eT=`attribute vec3 position;
attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

#pragma include "uv.vert.declaration"

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;

  #pragma include "uv.vert.main"
}`,tT=`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`,nT=`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`,rT=(fw=(0,ho.b2)(),dw=(0,ho.f3)(Ai.RenderEngine),hw=(0,ho.f3)(Ai.ShaderModuleService),fw(pw=(y2=(mw=function(n){(0,ff.Z)(o,n);var i=QP(o);function o(){var s;(0,oa.Z)(this,o);for(var f=arguments.length,h=new Array(f),C=0;C<f;C++)h[C]=arguments[C];return s=i.call.apply(i,[this].concat(h)),Wa(s,"engine",gw,(0,gu.Z)(s)),Wa(s,"shaderModuleService",vw,(0,gu.Z)(s)),s}return(0,ss.Z)(o,[{key:"onEntityCreated",value:function(){var f=this.getComponent(),h=this.engine.supportWebGPU?nT:eT,C=this.engine.supportWebGPU?tT:qP;this.shaderModuleService.registerModule("material-basic",{vs:h,fs:C});var S=this.shaderModuleService.getModule("material-basic"),T=S.vs,D=S.fs,B=S.uniforms;f.vertexShaderGLSL=T,f.fragmentShaderGLSL=D,f.setUniform(B),this.config.map&&(f.setDefines({USE_UV:1,USE_MAP:1}),f.setUniform({map:this.config.map,uvTransform:cp()}))}}]),o}(PE),mw),gw=Qa(y2.prototype,"engine",[dw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vw=Qa(y2.prototype,"shaderModuleService",[hw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y2))||pw),yw,bw,Cw,xw,Ew,ww,Sw,Gy,Mw,Pw,Tw,Ow;function iT(n){var i=oT();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function oT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var aT=`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`,sT=`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,lT=(yw=(0,ho.b2)(),bw=(0,ho.f3)(Ai.Systems),Cw=(0,ho.t6)(Ai.MaterialSystem),xw=(0,ho.f3)(Ai.Systems),Ew=(0,ho.t6)(Ai.GeometrySystem),ww=(0,ho.f3)(Ai.ShaderModuleService),yw(Sw=(Gy=(Ow=function(n){(0,ff.Z)(o,n);var i=iT(o);function o(){var s;(0,oa.Z)(this,o);for(var f=arguments.length,h=new Array(f),C=0;C<f;C++)h[C]=arguments[C];return s=i.call.apply(i,[this].concat(h)),Wa(s,"materialSystem",Mw,(0,gu.Z)(s)),Wa(s,"geometrySystem",Pw,(0,gu.Z)(s)),Wa(s,"shaderModuleService",Tw,(0,gu.Z)(s)),s}return(0,ss.Z)(o,[{key:"onAttributeChanged",value:function(f){var h=f.name,C=f.data,S=this.getMeshComponent();S&&S.material&&(h==="gridColor"?(S.material.setUniform("u_GridColor",C),S.material.setUniform("u_GridColor2",C)):h==="gridSize"&&(S.material.setUniform("u_GridSize",C),S.material.setUniform("u_GridSize2",C)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:sT,fs:aT});var f=this.shaderModuleService.getModule("grid"),h=f.vs,C=f.fs,S=f.uniforms,T=this.materialSystem.createShaderMaterial({vertexShader:h,fragmentShader:C});this.setMaterial(T);var D=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(D),T.setCull({enable:!1,face:Vr.BACK}).setDepth({enable:!0,func:Vr.LESS}),T.setUniform(S),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),D.setIndex([0,3,2,2,1,0]),D.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),o}(ev),Ow),Mw=Qa(Gy.prototype,"materialSystem",[bw,Cw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pw=Qa(Gy.prototype,"geometrySystem",[xw,Ew],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tw=Qa(Gy.prototype,"shaderModuleService",[ww],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gy))||Sw),b2=l(32644),n0=l(40582);function C2(n,i,o,s,f){By(i,s,-f),By(i,s,f),n.push(o),n.push(o)}function By(n,i,o){n.push([[i[0],i[1]],o])}function cT(n,i,o){var s=[0,0],f=[0,0],h=[0,0],C=[0,0],S=-1,T=!1,D=null,B=(0,b2.create)(),H=o||0,ce=3,de=[],me=[],xe=[],Se=[0,0];i&&(n=n.slice(),n.push(n[0]));for(var We=n.length,nt=1;nt<We;nt++){var Gt=H,wn=n[nt-1],Pn=n[nt],Tr=nt<n.length-1?n[nt+1]:null;if(Se.push(nt/We,nt/We),(0,n0.o7)(s,Pn,wn),D||(D=[0,0],(0,n0.mJ)(D,s)),T||(T=!0,C2(me,de,wn,D,1)),xe.push([Gt+0,Gt+1,Gt+2]),!Tr)(0,n0.mJ)(D,s),C2(me,de,Pn,D,1),xe.push(S===1?[Gt,Gt+2,Gt+3]:[Gt+2,Gt+1,Gt+3]),H+=2;else{(0,n0.o7)(f,Tr,Pn);var xi=(0,n0.x7)(h,C,s,f,1),yi=(0,b2.dot)(h,D)<0?-1:1,Uo=xi>ce;if(!isFinite(xi)){(0,n0.mJ)(D,s),C2(me,de,Pn,D,1),xe.push(S===1?[Gt,Gt+2,Gt+3]:[Gt+2,Gt+1,Gt+3]),H+=2,S=yi;continue}Uo?(xi=ce,Se.push(nt/We),By(de,D,-yi),me.push(Pn),By(de,C,xi*yi),me.push(Pn),xe.push(S!==-yi?[Gt,Gt+2,Gt+3]:[Gt+2,Gt+1,Gt+3]),xe.push([Gt+2,Gt+3,Gt+4]),(0,n0.mJ)(B,f),(0,b2.copy)(D,B),By(de,D,-yi),me.push(Pn),H+=3):(C2(me,de,Pn,C,xi),xe.push(S===1?[Gt,Gt+2,Gt+3]:[Gt+2,Gt+1,Gt+3]),yi=-1,(0,b2.copy)(D,C),H+=2),S=yi}}return{normals:de,attrIndex:xe,attrPos:me,attrCounters:Se}}var _w,Aw,Dw,Nw,Rw,Iw,kw,Zy,Lw,Fw,Gw,Bw;function uT(n){var i=fT();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function fT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var dT=`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`,hT=`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,pT=(_w=(0,ho.b2)(),Aw=(0,ho.f3)(Ai.Systems),Dw=(0,ho.t6)(Ai.MaterialSystem),Nw=(0,ho.f3)(Ai.Systems),Rw=(0,ho.t6)(Ai.GeometrySystem),Iw=(0,ho.f3)(Ai.ShaderModuleService),_w(kw=(Zy=(Bw=function(n){(0,ff.Z)(o,n);var i=uT(o);function o(){var s;(0,oa.Z)(this,o);for(var f=arguments.length,h=new Array(f),C=0;C<f;C++)h[C]=arguments[C];return s=i.call.apply(i,[this].concat(h)),Wa(s,"materialSystem",Lw,(0,gu.Z)(s)),Wa(s,"geometrySystem",Fw,(0,gu.Z)(s)),Wa(s,"shaderModuleService",Gw,(0,gu.Z)(s)),s.vertexCount=void 0,s}return(0,ss.Z)(o,[{key:"onAttributeChanged",value:function(f){var h=f.name,C=f.data,S=this.getMeshComponent();if(S&&S.material)switch(h){case"dashArray":S.material.setUniform("u_dash_array",C);break;case"dashOffset":S.material.setUniform("u_dash_offset",C);break;case"dashRatio":S.material.setUniform("u_dash_ratio",C);break;case"thickness":S.material.setUniform("u_thickness",C);break;case"color":var T=new Array(this.vertexCount).fill(void 0).map(function(){return C}).reduce(function(D,B){return[].concat((0,of.Z)(D),(0,of.Z)(B))},[]);S.geometry.setAttribute("a_color",Float32Array.from(T),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]});break}}},{key:"onEntityCreated",value:function(){var f=this;this.shaderModuleService.registerModule("line",{vs:hT,fs:dT});var h=this.shaderModuleService.getModule("line"),C=h.vs,S=h.fs,T=h.uniforms,D=this.materialSystem.createShaderMaterial({vertexShader:C,fragmentShader:S}),B=cT(this.config.points,!1),H=B.normals,ce=B.attrIndex,de=B.attrPos,me=B.attrCounters,xe=de.length;this.vertexCount=xe;var Se=this.geometrySystem.createBufferGeometry({vertexCount:xe});this.setMaterial(D),this.setGeometry(Se),D.setCull({enable:!1,face:Vr.BACK}).setUniform(T),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var We=[],nt=[];H.forEach(function(wn){var Pn=wn[0],Tr=wn[1];We.push([Pn[0],Pn[1]]),nt.push(Tr)}),Se.setIndex(ce.reduce(function(wn,Pn){return[].concat((0,of.Z)(wn),(0,of.Z)(Pn))},[])),Se.setAttribute("a_pos",Float32Array.from(de.reduce(function(wn,Pn){return[].concat((0,of.Z)(wn),(0,of.Z)(Pn))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var Gt=new Array(xe).fill(void 0).map(function(){return(0,of.Z)(f.config.color)}).reduce(function(wn,Pn){return[].concat((0,of.Z)(wn),(0,of.Z)(Pn))},[]);Se.setAttribute("a_color",Float32Array.from(Gt),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),Se.setAttribute("a_line_miter",Float32Array.from(nt),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),Se.setAttribute("a_line_normal",Float32Array.from(We.reduce(function(wn,Pn){return[].concat((0,of.Z)(wn),(0,of.Z)(Pn))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),Se.setAttribute("a_counters",Float32Array.from(me),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),o}(ev),Bw),Lw=Qa(Zy.prototype,"materialSystem",[Aw,Dw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fw=Qa(Zy.prototype,"geometrySystem",[Nw,Rw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gw=Qa(Zy.prototype,"shaderModuleService",[Iw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zy))||kw);function gT(n){return[n+1&255,n+1>>8&255,n+1>>8>>8&255]}var Zw,zw,Uw,Vw,jw,$w,Ww,zy,Hw,Kw,Yw,Xw;function Qw(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);i&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,s)}return o}function vT(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?Qw(Object(o),!0).forEach(function(s){(0,ai.Z)(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Qw(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}function mT(n){var i=yT();return function(){var s=(0,Ms.Z)(n),f;if(i){var h=(0,Ms.Z)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,Ku.Z)(this,f)}}function yT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var bT=`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`,CT=`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,xT=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],ET=(Zw=(0,ho.b2)(),zw=(0,ho.f3)(Ai.Systems),Uw=(0,ho.t6)(Ai.MaterialSystem),Vw=(0,ho.f3)(Ai.Systems),jw=(0,ho.t6)(Ai.GeometrySystem),$w=(0,ho.f3)(Ai.ShaderModuleService),Zw(Ww=(zy=(Xw=function(n){(0,ff.Z)(o,n);var i=mT(o);function o(){var s;(0,oa.Z)(this,o);for(var f=arguments.length,h=new Array(f),C=0;C<f;C++)h[C]=arguments[C];return s=i.call.apply(i,[this].concat(h)),Wa(s,"materialSystem",Hw,(0,gu.Z)(s)),Wa(s,"geometrySystem",Kw,(0,gu.Z)(s)),Wa(s,"shaderModuleService",Yw,(0,gu.Z)(s)),s}return(0,ss.Z)(o,[{key:"onAttributeChanged",value:function(f){var h=f.name,C=f.data,S=this.getMeshComponent();S&&S.material&&(h==="strokeWidth"?S.material.setUniform("u_stroke_width",C):h==="strokeColor"?S.material.setUniform("u_stroke_color",C):h==="strokeOpacity"?S.material.setUniform("u_stroke_opacity",C):h==="opacity"?S.material.setUniform("u_opacity",C):h==="blur"&&S.material.setUniform("u_blur",C))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:CT,fs:bT});var f=this.shaderModuleService.getModule("grid"),h=f.vs,C=f.fs,S=f.uniforms,T=this.materialSystem.createShaderMaterial({vertexShader:h,fragmentShader:C,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:Vr.SRC_ALPHA,dstRGB:Vr.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});T.setUniform(vT({u_device_pixel_ratio:window.devicePixelRatio},S));var D=this.buildAttributes(),B=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:D.instancedOffsets.length/2,vertexCount:6});B.setIndex([0,2,1,0,3,2]),B.setAttribute("position",Float32Array.from(D.positions),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),B.setAttribute("offset",Float32Array.from(D.instancedOffsets),{arrayStride:4*2,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),B.setAttribute("color",Float32Array.from(D.instancedColors),{arrayStride:4*4,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),B.setAttribute("size",Float32Array.from(D.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),B.setAttribute("shape",Float32Array.from(D.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),B.setAttribute("a_PickingColor",Float32Array.from(D.instancedPickingColors),{arrayStride:4*3,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(T),this.setGeometry(B)}},{key:"buildAttribute",value:function(f,h,C){var S,T,D,B;(S=h.instancedPickingColors).push.apply(S,(0,of.Z)(gT(f.id||C))),h.instancedShapes.push(xT.indexOf(f.shape||"circle")),(T=h.instancedColors).push.apply(T,(0,of.Z)(f.color||[1,0,0,1])),(D=h.instancedOffsets).push.apply(D,(0,of.Z)(f.position||[0,0])),(B=h.instancedSizes).push.apply(B,(0,of.Z)(f.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var f=this,h={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(C,S){f.buildAttribute(C,h,S)}):this.buildAttribute(this.config,h,0),h}}]),o}(ev),Xw),Hw=Qa(zy.prototype,"materialSystem",[zw,Uw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kw=Qa(zy.prototype,"geometrySystem",[Vw,jw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yw=Qa(zy.prototype,"shaderModuleService",[$w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zy))||Ww),Jw,qw,eS,tS,nS,Uy,rS,iS,oS,aS;function sS(n,i){var o;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(o=wT(n))||i&&n&&typeof n.length=="number"){o&&(n=o);var s=0,f=function(){};return{s:f,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(D){throw D},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,C=!1,S;return{s:function(){o=n[Symbol.iterator]()},n:function(){var D=o.next();return h=D.done,D},e:function(D){C=!0,S=D},f:function(){try{!h&&o.return!=null&&o.return()}finally{if(C)throw S}}}}function wT(n,i){if(n){if(typeof n=="string")return lS(n,i);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return lS(n,i)}}function lS(n,i){(i==null||i>n.length)&&(i=n.length);for(var o=0,s=new Array(i);o<i;o++)s[o]=n[o];return s}var ST=`#ifdef USE_MAP
  uniform sampler2D map;
#endif`,MT=`#ifdef USE_MAP
  vec4 texelColor = texture2D(map, vUv);
  // texelColor = mapTexelToLinear(texelColor);
  diffuseColor *= texelColor;
#endif`,PT=`#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))
  varying vec2 vUv;
#endif`,TT=`#ifdef USE_UV
  attribute vec2 uv;
	#ifdef UVS_VERTEX_ONLY
    vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,OT=`#ifdef USE_UV
  vUv = (uvTransform * vec3(uv, 1)).xy;
#endif`,cS=(Jw=(0,ho.b2)(),qw=(0,ho.f3)(Ai.RenderEngine),eS=(0,ho.f3)(Ai.ShaderModuleService),tS=(0,ho.f3)(Ai.ConfigService),Jw(nS=(Uy=(aS=function(){function n(){(0,oa.Z)(this,n),this.container=void 0,Wa(this,"engine",rS,this),Wa(this,"shaderModule",iS,this),Wa(this,"configService",oS,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return(0,ss.Z)(n,[{key:"init",value:function(){var i=(0,kl.Z)(aa().mark(function s(){var f,h,C,S,T;return aa().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:TT}),this.shaderModule.registerModule("uv.vert.main",{vs:OT}),this.shaderModule.registerModule("uv.frag.declaration",{fs:PT}),this.shaderModule.registerModule("map.frag.declaration",{fs:ST}),this.shaderModule.registerModule("map.frag.main",{fs:MT}),f=this.container.getAll(Ai.Systems),h=this.configService.get(),!h.canvas){B.next=30;break}return B.next=11,this.engine.init({canvas:h.canvas,swapChainFormat:Ue.EV.BGRA8Unorm,antialiasing:!1});case 11:C=sS(f),B.prev=12,C.s();case 14:if((S=C.n()).done){B.next=21;break}if(T=S.value,!T.initialize){B.next=19;break}return B.next=19,T.initialize();case 19:B.next=14;break;case 21:B.next=26;break;case 23:B.prev=23,B.t0=B.catch(12),C.e(B.t0);case 26:return B.prev=26,C.f(),B.finish(26);case 29:this.inited=!0;case 30:case"end":return B.stop()}},s,this,[[12,23,26,29]])}));function o(){return i.apply(this,arguments)}return o}()},{key:"render",value:function(){var i=(0,kl.Z)(aa().mark(function s(){var f,h,C,S,T,D,B,H=arguments;return aa().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(!(!this.inited||this.rendering)){de.next=2;break}return de.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(me){me()}),this.rendering=!0,this.engine.beginFrame(),f=this.container.getAll(Ai.Systems),h=H.length,C=new Array(h),S=0;S<h;S++)C[S]=H[S];T=sS(f),de.prev=8,T.s();case 10:if((D=T.n()).done){de.next=17;break}if(B=D.value,!B.execute){de.next=15;break}return de.next=15,B.execute(C);case 15:de.next=10;break;case 17:de.next=22;break;case 19:de.prev=19,de.t0=de.catch(8),T.e(de.t0);case 22:return de.prev=22,T.f(),de.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return de.stop()}},s,this,[[8,19,22,25]])}));function o(){return i.apply(this,arguments)}return o}()},{key:"clear",value:function(o){var s=this;return this.inited?this.engine.clear(o):this.pendings.unshift(function(){s.engine.clear(o),s.pendings.shift()}),this}},{key:"setSize",value:function(o){var s=o.width,f=o.height,h=this.engine.getCanvas();return this.size={width:s,height:f},h.width=s,h.height=f,this}},{key:"getSize",value:function(){return this.size}}]),n}(),aS),rS=Qa(Uy.prototype,"engine",[qw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iS=Qa(Uy.prototype,"shaderModule",[eS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oS=Qa(Uy.prototype,"configService",[tS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uy))||nS),uS,fS,dS,hS=(uS=(0,ho.b2)(),uS(fS=(dS=function(){function n(){(0,oa.Z)(this,n),this.entities=[]}return(0,ss.Z)(n,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(o){return this.addEntity(o.getEntity()),this}},{key:"removeRenderable",value:function(o){return this.removeEntity(o.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(o){return this.entities.indexOf(o)===-1&&this.entities.push(o),this}},{key:"removeEntity",value:function(o){var s=this.entities.indexOf(o);return this.entities.splice(s,1),this}}]),n}(),dS))||fS),pS,gS,vS,mS=(pS=(0,ho.b2)(),pS(gS=(vS=function(){function n(){(0,oa.Z)(this,n),this.cache={}}return(0,ss.Z)(n,[{key:"get",value:function(o){return this.cache[o]}},{key:"set",value:function(o,s){this.cache[o]=s}}]),n}(),vS))||gS),yS,bS,CS,xS,x2,ES,wS,SS;function MS(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);i&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,s)}return o}function PS(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?MS(Object(o),!0).forEach(function(s){(0,ai.Z)(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):MS(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}var TS=(yS=(0,ho.b2)(),bS=(0,ho.f3)(mS),CS=(0,ho.f3)(Ai.RenderEngine),yS(xS=(x2=(SS=function(){function n(){(0,oa.Z)(this,n),Wa(this,"textureCache",ES,this),Wa(this,"engine",wS,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return(0,ss.Z)(n,[{key:"setConfig",value:function(o){this.config=o}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var i=(0,kl.Z)(aa().mark(function s(){var f=this;return aa().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!this.config.url){C.next=4;break}return C.abrupt("return",new Promise(function(S,T){var D=f.textureCache.get(f.config.url);if(D)S(D);else{var B=new Image;B.crossOrigin="Anonymous",B.src=f.config.url,B.onload=function(){var H=f.engine.createTexture2D(PS(PS({},f.config),{},{data:B,width:B.width,height:B.height,flipY:!0}));f.textureCache.set(f.config.url,H),f.texture=H,f.loaded=!0,S(H)},B.onerror=function(){T()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),C.abrupt("return",this.texture);case 7:case"end":return C.stop()}},s,this)}));function o(){return i.apply(this,arguments)}return o}()}]),n}(),SS),ES=Qa(x2.prototype,"textureCache",[bS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wS=Qa(x2.prototype,"engine",[CS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x2))||xS),OS,_S,AS,DS,dx,NS,RS,IS=(OS=(0,ho.b2)(),_S=(0,ho.f3)(Ai.Systems),AS=(0,ho.t6)(Ai.RendererSystem),OS(DS=(dx=(RS=function(){function n(){(0,oa.Z)(this,n),Wa(this,"rendererSystem",NS,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return(0,ss.Z)(n,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(o){return this.camera=o,this}},{key:"setScene",value:function(o){return this.scene=o,this}},{key:"setViewport",value:function(o){return this.viewport=o,this}},{key:"setClearColor",value:function(o){return this.clearColor=o,this}},{key:"pick",value:function(o){return this.rendererSystem.pick(o,this)}}]),n}(),RS),NS=Qa(dx.prototype,"rendererSystem",[_S,AS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dx))||DS),kS,LS,FS,hx,GS,BS;function ZS(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);i&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,s)}return o}function _T(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?ZS(Object(o),!0).forEach(function(s){(0,ai.Z)(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ZS(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}var E2=(kS=(0,ho.b2)(),LS=(0,ho.f3)(Ai.ConfigService),kS(FS=(hx=(BS=function(){function n(){(0,oa.Z)(this,n),Wa(this,"configService",GS,this),this.container=void 0}return(0,ss.Z)(n,[{key:"getEngine",value:function(){var i=(0,kl.Z)(aa().mark(function s(){var f,h,C,S;return aa().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return f=this.container.get(Ai.RenderEngine),h=this.configService.get(),C=h.canvas,S=h.engineOptions,D.next=4,f.init(_T({canvas:C||At(),swapChainFormat:Ue.EV.BGRA8Unorm,antialiasing:!1},S));case 4:return D.abrupt("return",f);case 5:case"end":return D.stop()}},s,this)}));function o(){return i.apply(this,arguments)}return o}()},{key:"getTransformComponent",value:function(o){var s=this.container.get(Ai.TransformComponentManager);return s.getComponentByEntity(o)}},{key:"getMeshComponent",value:function(o){var s=this.container.get(Ai.MeshComponentManager);return s.getComponentByEntity(o)}},{key:"setConfig",value:function(o){this.configService.set(o)}},{key:"setContainer",value:function(o){this.container=o}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Ss()}},{key:"createScene",value:function(){return this.container.get(hS)}},{key:"createCamera",value:function(){return this.container.get(p)}},{key:"createView",value:function(){return this.container.get(IS)}},{key:"createRenderable",value:function(o,s){var f=o?this.container.getNamed(Ai.Renderable,o):this.container.get(ev),h=Ss();return f.setConfig(s||{}),f.setEntity(h),f}},{key:"createGeometry",value:function(o,s){var f=this.container.getNamed(Ai.Geometry,o),h=Ss();return f.setConfig(s||{}),f.setEntity(h),f.getComponent()}},{key:"createMaterial",value:function(o,s){var f=this.container.getNamed(Ai.Material,o),h=Ss();return f.setConfig(s||{}),f.setEntity(h,o),f.getComponent()}},{key:"createTexture2D",value:function(o){var s=this.container.get(TS);return s.setConfig(o),s}},{key:"createBufferGeometry",value:function(o){var s=this.container.getNamed(Ai.Systems,Ai.GeometrySystem);return s.createBufferGeometry(o)}},{key:"createInstancedBufferGeometry",value:function(o){var s=this.container.getNamed(Ai.Systems,Ai.GeometrySystem);return s.createInstancedBufferGeometry(o)}},{key:"createShaderMaterial",value:function(o){var s=this.container.getNamed(Ai.Systems,Ai.MaterialSystem);return s.createShaderMaterial(o)}},{key:"createKernel",value:function(o){var s=this.container.get(bE);return typeof o=="string"?s.setBundle(JSON.parse(o)):s.setBundle(o),s.init(),s}},{key:"createRenderer",value:function(){var o=this.container.get(cS);return o.container=this.container,o.init(),o}},{key:"destroy",value:function(){var o=this.container.getAll(Ai.Systems);o.forEach(function(h){h.tearDown&&h.tearDown()});var s=this.container.get(Ai.RenderEngine);s.destroy();var f=this.container.get(Ai.InteractorService);f.destroy()}}],[{key:"create",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=n2(),f=navigator.gpu?FP:yP;s.isBound(Ai.RenderEngine)||s.bind(Ai.RenderEngine).to(f).inSingletonScope(),s.bind(cS).toSelf(),s.bind(bE).toSelf(),s.bind(ev).toSelf(),s.bind(IS).toSelf(),s.bind(p).toSelf(),s.bind(hS).toSelf(),s.bind(n).toSelf(),s.bind(mS).toSelf(),s.bind(TS).toSelf(),s.bind(Ai.Geometry).to(ZP).whenTargetNamed(Ke.BOX),s.bind(Ai.Geometry).to(XP).whenTargetNamed(Ke.SPHERE),s.bind(Ai.Geometry).to(HP).whenTargetNamed(Ke.PLANE),s.bind(Ai.Geometry).to(jP).whenTargetNamed(Ke.MERGED),s.bind(Ai.Material).to(rT).whenTargetNamed(PE.BASIC),s.bind(Ai.Renderable).to(ET).whenTargetNamed(ev.POINT),s.bind(Ai.Renderable).to(pT).whenTargetNamed(ev.LINE),s.bind(Ai.Renderable).to(lT).whenTargetNamed(ev.GRID);var h=s.get(n);return h.setContainer(s),h.setConfig(o),h}}]),n}(),BS),GS=Qa(hx.prototype,"configService",[LS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hx))||FS);const W0=(n,i)=>{let o;return n?Xo(n)?o=()=>n:o=n:o=()=>i||1,o},AT=(n,i)=>{const o=[],s=[],f={};let h=0;for(h=0;h<n.length;h++){const S=n[h];f[S.id]=h,o.push(S.x),o.push(S.y),o.push(0),o.push(0),s.push([])}for(h=0;h<i.length;h++){const S=i[h],T=Hs(S,"source"),D=Hs(S,"target");s[f[T]].push(f[D]),s[f[D]].push(f[T])}let C=0;for(h=0;h<n.length;h++){const S=o.length,T=s[h],D=T.length;o[h*4+2]=S,o[h*4+3]=T.length,C=Math.max(C,T.length);for(let B=0;B<D;++B){const H=T[B];o.push(+H)}}for(;o.length%4!==0;)o.push(0);return{maxEdgePerVetex:C,array:new Float32Array(o)}},DT=(n,i,o,s)=>{const f=[],h=[],C={};let S=0;for(S=0;S<n.length;S++){const D=n[S];C[D.id]=S,f.push(D.x),f.push(D.y),f.push(0),f.push(0),h.push([])}for(S=0;S<i.length;S++){const D=i[S],B=Hs(D,"source"),H=Hs(D,"target");h[C[B]].push(C[H]),h[C[B]].push(o(D)),h[C[B]].push(s(D)),h[C[B]].push(0),h[C[H]].push(C[B]),h[C[H]].push(o(D)),h[C[H]].push(s(D)),h[C[H]].push(0)}let T=0;for(S=0;S<n.length;S++){const D=f.length,B=h[S],H=B.length;f[S*4+2]=D+1048576*H/4,f[S*4+3]=0,T=Math.max(T,H/4);for(let ce=0;ce<H;++ce){const de=B[ce];f.push(+de)}}for(;f.length%4!==0;)f.push(0);return{maxEdgePerVetex:T,array:new Float32Array(f)}},NT=(n,i)=>{const o=[],s=n.length,f={};return i.forEach(h=>{n.forEach((C,S)=>{if(f[h[C]]===void 0&&(f[h[C]]=Object.keys(f).length),o.push(f[h[C]]),S===s-1)for(;o.length%4!==0;)o.push(0)})}),{array:new Float32Array(o),count:Object.keys(f).length}},zS=n=>{const i=[],o=n.length,s=n[0].length;for(let f=0;f<s;f++)n.forEach((h,C)=>{if(i.push(h[f]),C===o-1)for(;i.length%4!==0;)i.push(0)});return new Float32Array(i)},LO=null,RT='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',FO=null,IT='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}';var w2=function(n,i,o,s){function f(h){return h instanceof o?h:new o(function(C){C(h)})}return new(o||(o=Promise))(function(h,C){function S(B){try{D(s.next(B))}catch(H){C(H)}}function T(B){try{D(s.throw(B))}catch(H){C(H)}}function D(B){B.done?h(B.value):f(B.value).then(S,T)}D((s=s.apply(n,i||[])).next())})};class kT extends ol{constructor(i){super(),this.maxIteration=1e3,this.gravity=10,this.speed=1,this.clustering=!1,this.clusterField="cluster",this.clusterGravity=10,this.workerEnabled=!1,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(i)}getDefaultCfg(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}execute(){return w2(this,void 0,void 0,function*(){const i=this,o=i.nodes;if(!o||o.length===0){i.onLayoutEnd&&i.onLayoutEnd();return}!i.width&&typeof window!="undefined"&&(i.width=window.innerWidth),!i.height&&typeof window!="undefined"&&(i.height=window.innerHeight),i.center||(i.center=[i.width/2,i.height/2]);const s=i.center;if(o.length===1){o[0].x=s[0],o[0].y=s[1],i.onLayoutEnd&&i.onLayoutEnd();return}const f={},h={};o.forEach((C,S)=>{Xo(C.x)||(C.x=Math.random()*this.width),Xo(C.y)||(C.y=Math.random()*this.height),f[C.id]=C,h[C.id]=S}),i.nodeMap=f,i.nodeIdxMap=h,yield i.run()})}executeWithWorker(i,o){return w2(this,void 0,void 0,function*(){const s=this,f=s.nodes,h=s.center;if(!f||f.length===0)return;if(f.length===1){f[0].x=h[0],f[0].y=h[1];return}const C={},S={};f.forEach((T,D)=>{Xo(T.x)||(T.x=Math.random()*this.width),Xo(T.y)||(T.y=Math.random()*this.height),C[T.id]=T,S[T.id]=D}),s.nodeMap=C,s.nodeIdxMap=S,yield s.run(i,o)})}run(i,o){return w2(this,void 0,void 0,function*(){const s=this,f=s.nodes,h=s.edges,C=s.maxIteration,S=s.center,T=s.height*s.width;let D=Math.sqrt(T)/10;const B=T/(f.length+1),H=Math.sqrt(B),ce=s.speed,de=s.clustering,{array:me,count:xe}=NT([s.clusterField],f);f.forEach((wi,lo)=>{let Gi=0,ca=0;Xo(wi.fx)&&Xo(wi.fy)&&(Gi=wi.fx||.001,ca=wi.fy||.001),me[4*lo+1]=Gi,me[4*lo+2]=ca});const Se=f.length,{maxEdgePerVetex:We,array:nt}=AT(f,h),Gt=s.workerEnabled;let wn;Gt?wn=E2.create({canvas:i,engineOptions:{supportCompute:!0}}):wn=E2.create({engineOptions:{supportCompute:!0}});const Pn=s.onLayoutEnd,Tr=[];for(let wi=0;wi<xe;wi++)Tr.push(0,0,0,0);const xi=wn.createKernel(RT).setDispatch([Se,1,1]).setBinding({u_Data:nt,u_K:H,u_K2:B,u_Gravity:s.gravity,u_ClusterGravity:s.clusterGravity||s.gravity||1,u_Speed:ce,u_MaxDisplace:D,u_Clustering:de?1:0,u_Center:S,u_AttributeArray:me,u_ClusterCenters:Tr,MAX_EDGE_PER_VERTEX:We,VERTEX_COUNT:Se});let yi;de&&(yi=wn.createKernel(IT).setDispatch([xe,1,1]).setBinding({u_Data:nt,u_NodeAttributes:me,u_ClusterCenters:Tr,VERTEX_COUNT:Se,CLUSTER_COUNT:xe})),yield w2(this,void 0,void 0,function*(){for(let lo=0;lo<C;lo++)yield xi.execute(),de&&(yi.setBinding({u_Data:xi}),yield yi.execute(),xi.setBinding({u_ClusterCenters:yi})),xi.setBinding({u_MaxDisplace:D*=.99});const wi=yield xi.getOutput();i?o.postMessage({type:bu.GPUEND,vertexEdgeData:wi}):f.forEach((lo,Gi)=>{const ca=wi[4*Gi],Ko=wi[4*Gi+1];lo.x=ca,lo.y=Ko}),Pn&&Pn()})})}getType(){return"fruchterman-gpu"}}const GO=null,LT='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',BO=null,FT='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}';var px=function(n,i,o,s){function f(h){return h instanceof o?h:new o(function(C){C(h)})}return new(o||(o=Promise))(function(h,C){function S(B){try{D(s.next(B))}catch(H){C(H)}}function T(B){try{D(s.throw(B))}catch(H){C(H)}}function D(B){B.done?h(B.value):f(B.value).then(S,T)}D((s=s.apply(n,i||[])).next())})};class GT extends ol{constructor(i){super(),this.maxIteration=1e3,this.edgeStrength=200,this.nodeStrength=1e3,this.coulombDisScale=.005,this.damping=.9,this.maxSpeed=1e3,this.minMovement=.5,this.interval=.02,this.factor=1,this.linkDistance=1,this.gravity=10,this.workerEnabled=!1,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(i)}getDefaultCfg(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}execute(){return px(this,void 0,void 0,function*(){const i=this,o=i.nodes;if(!o||o.length===0){i.onLayoutEnd&&i.onLayoutEnd();return}!i.width&&typeof window!="undefined"&&(i.width=window.innerWidth),!i.height&&typeof window!="undefined"&&(i.height=window.innerHeight),i.center||(i.center=[i.width/2,i.height/2]);const s=i.center;if(o.length===1){o[0].x=s[0],o[0].y=s[1],i.onLayoutEnd&&i.onLayoutEnd();return}const f={},h={};o.forEach((C,S)=>{Xo(C.x)||(C.x=Math.random()*i.width),Xo(C.y)||(C.y=Math.random()*i.height),f[C.id]=C,h[C.id]=S}),i.nodeMap=f,i.nodeIdxMap=h,i.nodeStrength=W0(i.nodeStrength,1),i.edgeStrength=W0(i.edgeStrength,1),yield i.run()})}executeWithWorker(i,o){const s=this,f=s.nodes,h=s.center;if(!f||f.length===0)return;if(f.length===1){f[0].x=h[0],f[0].y=h[1];return}const C={},S={};f.forEach((T,D)=>{Xo(T.x)||(T.x=Math.random()*s.width),Xo(T.y)||(T.y=Math.random()*s.height),C[T.id]=T,S[T.id]=D}),s.nodeMap=C,s.nodeIdxMap=S,s.nodeStrength=W0(s.nodeStrength,1),s.edgeStrength=W0(s.edgeStrength,1),s.run(i,o)}run(i,o){return px(this,void 0,void 0,function*(){const s=this,f=s.nodes,h=s.edges,C=s.maxIteration;!s.width&&typeof window!="undefined"&&(s.width=window.innerWidth),!s.height&&typeof window!="undefined"&&(s.height=window.innerHeight);const S=f.length;s.linkDistance=W0(s.linkDistance),s.edgeStrength=W0(s.edgeStrength);const{maxEdgePerVetex:T,array:D}=DT(f,h,s.linkDistance,s.edgeStrength);s.degrees=tu(f.length,s.nodeIdxMap,h);const B=[],H=[],ce=[],de=[],me=[],xe=[],Se=[];s.getMass||(s.getMass=Gi=>s.degrees[s.nodeIdxMap[Gi.id]]||1);const We=s.gravity,nt=s.center;f.forEach((Gi,ca)=>{B.push(s.getMass(Gi)),H.push(s.nodeStrength(Gi)),s.degrees[ca]||(s.degrees[ca]=0);let Ko=[nt[0],nt[1],We];if(s.getCenter){const ls=s.getCenter(Gi,s.degrees[ca]);ls&&Xo(ls[0])&&Xo(ls[1])&&Xo(ls[2])&&(Ko=ls)}ce.push(Ko[0]),de.push(Ko[1]),me.push(Ko[2]),Xo(Gi.fx)&&Xo(Gi.fy)?(xe.push(Gi.fx||.001),Se.push(Gi.fy||.001)):(xe.push(0),Se.push(0))});const Gt=zS([B,s.degrees,H,xe]),wn=zS([ce,de,me,Se]),Pn=s.workerEnabled;let Tr;Pn?Tr=E2.create({canvas:i,engineOptions:{supportCompute:!0}}):Tr=E2.create({engineOptions:{supportCompute:!0}});const xi=s.onLayoutEnd,yi=[];D.forEach(Gi=>{yi.push(Gi)});for(let Gi=0;Gi<4;Gi++)yi.push(0);const Uo=Tr.createKernel(LT).setDispatch([S,1,1]).setBinding({u_Data:D,u_damping:s.damping,u_maxSpeed:s.maxSpeed,u_minMovement:s.minMovement,u_coulombDisScale:s.coulombDisScale,u_factor:s.factor,u_NodeAttributeArray1:Gt,u_NodeAttributeArray2:wn,MAX_EDGE_PER_VERTEX:T,VERTEX_COUNT:S,u_AveMovement:yi,u_interval:s.interval}),wi=Tr.createKernel(FT).setDispatch([1,1,1]).setBinding({u_Data:D,VERTEX_COUNT:S,u_AveMovement:[0,0,0,0]});yield px(this,void 0,void 0,function*(){for(let ca=0;ca<C;ca++){yield Uo.execute(),wi.setBinding({u_Data:Uo}),yield wi.execute();const Ko=Math.max(.02,s.interval-ca*.002);Uo.setBinding({u_interval:Ko,u_AveMovement:wi})}const Gi=yield Uo.getOutput();i?o.postMessage({type:bu.GPUEND,vertexEdgeData:Gi}):f.forEach((ca,Ko)=>{const ls=Gi[4*Ko],qc=Gi[4*Ko+1];ca.x=ls,ca.y=qc}),xi&&xi()})})}getType(){return"gForce-gpu"}}class BT extends ol{constructor(i){super(),this.center=[0,0],this.maxIteration=100,this.gravity=10,this.comboGravity=10,this.linkDistance=10,this.alpha=1,this.alphaMin=.001,this.alphaDecay=1-Math.pow(this.alphaMin,1/300),this.alphaTarget=0,this.velocityDecay=.6,this.edgeStrength=.6,this.nodeStrength=30,this.preventOverlap=!1,this.preventNodeOverlap=!1,this.preventComboOverlap=!1,this.collideStrength=void 0,this.nodeCollideStrength=.5,this.comboCollideStrength=.5,this.comboSpacing=20,this.comboPadding=10,this.optimizeRangeFactor=1,this.onTick=()=>{},this.onLayoutEnd=()=>{},this.depthAttractiveForceScale=1,this.depthRepulsiveForceScale=2,this.nodes=[],this.edges=[],this.combos=[],this.comboTrees=[],this.width=300,this.height=300,this.bias=[],this.nodeMap={},this.oriComboMap={},this.indexMap={},this.comboMap={},this.previousLayouted=!1,this.updateCfg(i)}getDefaultCfg(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}execute(){const i=this,o=i.nodes,s=i.center;if(i.comboTree={id:"comboTreeRoot",depth:-1,children:i.comboTrees},!o||o.length===0){i.onLayoutEnd&&i.onLayoutEnd();return}if(o.length===1){o[0].x=s[0],o[0].y=s[1],i.onLayoutEnd&&i.onLayoutEnd();return}i.initVals(),i.run(),i.onLayoutEnd&&i.onLayoutEnd()}run(){const i=this,o=i.nodes,s=i.previousLayouted?i.maxIteration/5:i.maxIteration;!i.width&&typeof window!="undefined"&&(i.width=window.innerWidth),!i.height&&typeof window!="undefined"&&(i.height=window.innerHeight);const f=i.center,h=i.velocityDecay,C=i.comboMap;i.previousLayouted||i.initPos(C);for(let D=0;D<s;D++){const B=[];o.forEach((H,ce)=>{B[ce]={x:0,y:0}}),i.applyCalculate(B),i.applyComboCenterForce(B),o.forEach((H,ce)=>{!Xo(H.x)||!Xo(H.y)||(H.x+=B[ce].x*h,H.y+=B[ce].y*h)}),i.alpha+=(i.alphaTarget-i.alpha)*i.alphaDecay,i.onTick()}const S=[0,0];o.forEach(D=>{!Xo(D.x)||!Xo(D.y)||(S[0]+=D.x,S[1]+=D.y)}),S[0]/=o.length,S[1]/=o.length;const T=[f[0]-S[0],f[1]-S[1]];o.forEach((D,B)=>{!Xo(D.x)||!Xo(D.y)||(D.x+=T[0],D.y+=T[1])}),i.combos.forEach(D=>{const B=C[D.id];B&&B.empty&&(D.x=B.cx||D.x,D.y=B.cy||D.y)}),i.previousLayouted=!0}initVals(){const i=this,o=i.edges,s=i.nodes,f=i.combos,h={},C={},S={};s.forEach((wi,lo)=>{C[wi.id]=wi,S[wi.id]=lo}),i.nodeMap=C,i.indexMap=S;const T={};f.forEach(wi=>{T[wi.id]=wi}),i.oriComboMap=T,i.comboMap=i.getComboMap();const D=i.preventOverlap;i.preventComboOverlap=i.preventComboOverlap||D,i.preventNodeOverlap=i.preventNodeOverlap||D;const B=i.collideStrength;B&&(i.comboCollideStrength=B,i.nodeCollideStrength=B),i.comboCollideStrength=i.comboCollideStrength?i.comboCollideStrength:0,i.nodeCollideStrength=i.nodeCollideStrength?i.nodeCollideStrength:0;for(let wi=0;wi<o.length;++wi){const lo=Hs(o[wi],"source"),Gi=Hs(o[wi],"target");h[lo]?h[lo]++:h[lo]=1,h[Gi]?h[Gi]++:h[Gi]=1}const H=[];for(let wi=0;wi<o.length;++wi){const lo=Hs(o[wi],"source"),Gi=Hs(o[wi],"target");H[wi]=h[lo]/(h[lo]+h[Gi])}this.bias=H;const ce=i.nodeSize,de=i.nodeSpacing;let me,xe;if(Xo(de)?xe=()=>de:Mu(de)?xe=de:xe=()=>0,this.nodeSpacing=xe,!ce)me=wi=>wi.size?Xl(wi.size)?(wi.size[0]>wi.size[1]?wi.size[0]:wi.size[1])/2:Tc(wi.size)?(wi.size.width>wi.size.height?wi.size.width:wi.size.height)/2:wi.size/2:10;else if(Mu(ce))me=wi=>ce(wi);else if(Xl(ce)){const lo=(ce[0]>ce[1]?ce[0]:ce[1])/2;me=Gi=>lo}else{const wi=ce/2;me=lo=>wi}this.nodeSize=me;const Se=i.comboSpacing;let We;Xo(Se)?We=()=>Se:Mu(Se)?We=Se:We=()=>0,this.comboSpacing=We;const nt=i.comboPadding;let Gt;Xo(nt)?Gt=()=>nt:Xl(nt)?Gt=()=>Math.max.apply(null,nt):Mu(nt)?Gt=nt:Gt=()=>0,this.comboPadding=Gt;let wn=this.linkDistance,Pn;wn||(wn=10),Xo(wn)?Pn=wi=>wn:Pn=wn,this.linkDistance=Pn;let Tr=this.edgeStrength,xi;Tr||(Tr=1),Xo(Tr)?xi=wi=>Tr:xi=Tr,this.edgeStrength=xi;let yi=this.nodeStrength,Uo;yi||(yi=30),Xo(yi)?Uo=wi=>yi:Uo=yi,this.nodeStrength=Uo}initPos(i){this.nodes.forEach((f,h)=>{const C=f.comboId,S=i[C];C&&S?(f.x=S.cx+100/(h+1),f.y=S.cy+100/(h+1)):(f.x=100/(h+1),f.y=100/(h+1))})}getComboMap(){const i=this,o=i.nodeMap,s=i.comboTrees,f=i.oriComboMap,h={};return(s||[]).forEach(C=>{const S=[];yf(C,T=>{if(T.itemType==="node"||!f[T.id])return!0;if(h[T.id]===void 0){const H={id:T.id,name:T.id,cx:0,cy:0,count:0,depth:i.oriComboMap[T.id].depth||0,children:[]};h[T.id]=H}const D=T.children;D&&D.forEach(H=>{if(!h[H.id]&&!o[H.id])return!0;S.push(H)});const B=h[T.id];if(B.cx=0,B.cy=0,S.length===0){B.empty=!0;const H=f[T.id];B.cx=H.x,B.cy=H.y}return S.forEach(H=>{if(B.count++,H.itemType!=="node"){const de=h[H.id];Xo(de.cx)&&(B.cx+=de.cx),Xo(de.cy)&&(B.cy+=de.cy);return}const ce=o[H.id];ce&&(Xo(ce.x)&&(B.cx+=ce.x),Xo(ce.y)&&(B.cy+=ce.y))}),B.cx/=B.count||1,B.cy/=B.count||1,B.children=S,!0})}),h}applyComboCenterForce(i){const o=this,s=o.gravity,f=o.comboGravity||s,h=this.alpha,C=o.comboTrees,S=o.indexMap,T=o.nodeMap,D=o.comboMap;(C||[]).forEach(B=>{yf(B,H=>{if(H.itemType==="node"||!D[H.id])return!0;const de=D[H.id],me=(de.depth+1)/10*.5,xe=de.cx,Se=de.cy;return de.cx=0,de.cy=0,de.children.forEach(We=>{if(We.itemType!=="node"){const yi=D[We.id];yi&&Xo(yi.cx)&&(de.cx+=yi.cx),yi&&Xo(yi.cy)&&(de.cy+=yi.cy);return}const nt=T[We.id],Gt=nt.x-xe||.005,wn=nt.y-Se||.005,Pn=Math.sqrt(Gt*Gt+wn*wn),Tr=S[nt.id],xi=f*h/Pn*me;i[Tr].x-=Gt*xi,i[Tr].y-=wn*xi,Xo(nt.x)&&(de.cx+=nt.x),Xo(nt.y)&&(de.cy+=nt.y)}),de.cx/=de.count||1,de.cy/=de.count||1,!0})})}applyCalculate(i){const o=this,s=o.comboMap,f=o.nodes,h={};f.forEach((S,T)=>{f.forEach((D,B)=>{if(T<B)return;const H=S.x-D.x||.005,ce=S.y-D.y||.005;let de=H*H+ce*ce;const me=Math.sqrt(de);de<1&&(de=me),h[`${S.id}-${D.id}`]={vx:H,vy:ce,vl2:de,vl:me},h[`${D.id}-${S.id}`]={vl2:de,vl:me,vx:-H,vy:-ce}})}),o.updateComboSizes(s),o.calRepulsive(i,h),o.calAttractive(i,h),o.preventComboOverlap&&o.comboNonOverlapping(i,s)}updateComboSizes(i){const o=this,s=o.comboTrees,f=o.nodeMap,h=o.nodeSize,C=o.comboSpacing,S=o.comboPadding;(s||[]).forEach(T=>{const D=[];yf(T,B=>{if(B.itemType==="node")return!0;const H=i[B.id];if(!H)return!1;const ce=B.children;ce&&ce.forEach(xe=>{!i[xe.id]&&!f[xe.id]||D.push(xe)}),H.minX=1/0,H.minY=1/0,H.maxX=-1/0,H.maxY=-1/0,D.forEach(xe=>{if(xe.itemType!=="node")return!0;const Se=f[xe.id];if(!Se)return!0;const We=h(Se),nt=Se.x-We,Gt=Se.y-We,wn=Se.x+We,Pn=Se.y+We;H.minX>nt&&(H.minX=nt),H.minY>Gt&&(H.minY=Gt),H.maxX<wn&&(H.maxX=wn),H.maxY<Pn&&(H.maxY=Pn)});let de=o.oriComboMap[B.id].size||10;Xl(de)&&(de=de[0]);const me=Math.max(H.maxX-H.minX,H.maxY-H.minY,de);return H.r=me/2+C(H)/2+S(H),!0})})}comboNonOverlapping(i,o){const s=this,f=s.comboTree,h=s.comboCollideStrength,C=s.indexMap,S=s.nodeMap;yf(f,T=>{if(!o[T.id]&&!S[T.id]&&T.id!=="comboTreeRoot")return!1;const D=T.children;return D&&D.length>1&&D.forEach((B,H)=>{if(B.itemType==="node")return!1;const ce=o[B.id];ce&&D.forEach((de,me)=>{if(H<=me||de.itemType==="node")return!1;const xe=o[de.id];if(!xe)return!1;const Se=ce.cx-xe.cx||.005,We=ce.cy-xe.cy||.005,nt=Se*Se+We*We,Gt=ce.r||1,wn=xe.r||1,Pn=Gt+wn,Tr=wn*wn,xi=Gt*Gt;if(nt<Pn*Pn){const yi=B.children;if(!yi||yi.length===0)return!1;const Uo=de.children;if(!Uo||Uo.length===0)return!1;const wi=Math.sqrt(nt),lo=(Pn-wi)/wi*h,Gi=Se*lo,ca=We*lo,Ko=Tr/(xi+Tr),ls=1-Ko;yi.forEach(qc=>{if(qc.itemType!=="node")return!1;if(!S[qc.id])return;const _f=C[qc.id];Uo.forEach(Kl=>{if(Kl.itemType!=="node"||!S[Kl.id])return!1;const bh=C[Kl.id];i[_f].x+=Gi*Ko,i[_f].y+=ca*Ko,i[bh].x-=Gi*ls,i[bh].y-=ca*ls})})}})}),!0})}calRepulsive(i,o){const s=this,f=s.nodes,h=s.width*s.optimizeRangeFactor,C=s.nodeStrength,S=s.alpha,T=s.nodeCollideStrength,D=s.preventNodeOverlap,B=s.nodeSize,H=s.nodeSpacing,ce=s.depthRepulsiveForceScale,de=s.center;f.forEach((me,xe)=>{if(!(!me.x||!me.y)){if(de){const Se=s.gravity,We=me.x-de[0]||.005,nt=me.y-de[1]||.005,Gt=Math.sqrt(We*We+nt*nt);i[xe].x-=We*Se*S/Gt,i[xe].y-=nt*Se*S/Gt}f.forEach((Se,We)=>{if(xe===We||!Se.x||!Se.y)return;const{vl2:nt,vl:Gt}=o[`${me.id}-${Se.id}`];if(Gt>h)return;const{vx:wn,vy:Pn}=o[`${me.id}-${Se.id}`];let Tr=Math.log(Math.abs(Se.depth-me.depth)/10)+1||1;Tr=Tr<1?1:Tr,Se.comboId!==me.comboId&&(Tr+=1);const xi=Tr?Math.pow(ce,Tr):1,yi=C(Se)*S/nt*xi;if(i[xe].x+=wn*yi,i[xe].y+=Pn*yi,xe<We&&D){const Uo=B(me)+H(me)||1,wi=B(Se)+H(Se)||1,lo=Uo+wi;if(nt<lo*lo){const Gi=(lo-Gt)/Gt*T,ca=wi*wi;let Ko=ca/(Uo*Uo+ca);const ls=wn*Gi,qc=Pn*Gi;i[xe].x+=ls*Ko,i[xe].y+=qc*Ko,Ko=1-Ko,i[We].x-=ls*Ko,i[We].y-=qc*Ko}}})}})}calAttractive(i,o){const s=this,f=s.edges,h=s.linkDistance,C=s.alpha,S=s.edgeStrength,T=s.bias,D=s.depthAttractiveForceScale;f.forEach((B,H)=>{const ce=Hs(B,"source"),de=Hs(B,"target");if(!ce||!de||ce===de)return;const me=s.indexMap[ce],xe=s.indexMap[de],Se=s.nodeMap[ce],We=s.nodeMap[de];if(!Se||!We)return;let nt=Se.depth===We.depth?0:Math.log(Math.abs(Se.depth-We.depth)/10);Se.comboId===We.comboId&&(nt=nt/2);let Gt=nt?Math.pow(D,nt):1;if(Se.comboId!==We.comboId&&Gt===1?Gt=D/2:Se.comboId===We.comboId&&(Gt=2),!Xo(We.x)||!Xo(Se.x)||!Xo(We.y)||!Xo(Se.y))return;const{vl:wn,vx:Pn,vy:Tr}=o[`${de}-${ce}`],xi=(wn-h(B))/wn*C*S(B)*Gt,yi=Pn*xi,Uo=Tr*xi,wi=T[H];i[xe].x-=yi*wi,i[xe].y-=Uo*wi,i[me].x+=yi*(1-wi),i[me].y+=Uo*(1-wi)})}getType(){return"comboForce"}}class gx{constructor(i){this.id=i.id||0,this.rx=i.rx,this.ry=i.ry,this.fx=0,this.fy=0,this.mass=i.mass,this.degree=i.degree,this.g=i.g||0}distanceTo(i){const o=this.rx-i.rx,s=this.ry-i.ry;return Math.hypot(o,s)}setPos(i,o){this.rx=i,this.ry=o}resetForce(){this.fx=0,this.fy=0}addForce(i){const o=i.rx-this.rx,s=i.ry-this.ry;let f=Math.hypot(o,s);f=f<1e-4?1e-4:f;const h=this.g*(this.degree+1)*(i.degree+1)/f;this.fx+=h*o/f,this.fy+=h*s/f}in(i){return i.contains(this.rx,this.ry)}add(i){const o=this.mass+i.mass,s=(this.rx*this.mass+i.rx*i.mass)/o,f=(this.ry*this.mass+i.ry*i.mass)/o,h=this.degree+i.degree,C={rx:s,ry:f,mass:o,degree:h};return new gx(C)}}class H0{constructor(i){this.xmid=i.xmid,this.ymid=i.ymid,this.length=i.length,this.massCenter=i.massCenter||[0,0],this.mass=i.mass||1}getLength(){return this.length}contains(i,o){const s=this.length/2;return i<=this.xmid+s&&i>=this.xmid-s&&o<=this.ymid+s&&o>=this.ymid-s}NW(){const i=this.xmid-this.length/4,o=this.ymid+this.length/4,s=this.length/2,f={xmid:i,ymid:o,length:s};return new H0(f)}NE(){const i=this.xmid+this.length/4,o=this.ymid+this.length/4,s=this.length/2,f={xmid:i,ymid:o,length:s};return new H0(f)}SW(){const i=this.xmid-this.length/4,o=this.ymid-this.length/4,s=this.length/2,f={xmid:i,ymid:o,length:s};return new H0(f)}SE(){const i=this.xmid+this.length/4,o=this.ymid-this.length/4,s=this.length/2,f={xmid:i,ymid:o,length:s};return new H0(f)}}class K0{constructor(i){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,i!=null&&(this.quad=i)}insert(i){if(this.body==null){this.body=i;return}this._isExternal()?(this.quad&&(this.NW=new K0(this.quad.NW()),this.NE=new K0(this.quad.NE()),this.SW=new K0(this.quad.SW()),this.SE=new K0(this.quad.SE())),this._putBody(this.body),this._putBody(i),this.body=this.body.add(i)):(this.body=this.body.add(i),this._putBody(i))}_putBody(i){this.quad&&(i.in(this.quad.NW())&&this.NW?this.NW.insert(i):i.in(this.quad.NE())&&this.NE?this.NE.insert(i):i.in(this.quad.SW())&&this.SW?this.SW.insert(i):i.in(this.quad.SE())&&this.SE&&this.SE.insert(i))}_isExternal(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}updateForce(i){if(!(this.body==null||i===this.body))if(this._isExternal())i.addForce(this.body);else{const o=this.quad?this.quad.getLength():0,s=this.body.distanceTo(i);o/s<this.theta?i.addForce(this.body):(this.NW&&this.NW.updateForce(i),this.NE&&this.NE.updateForce(i),this.SW&&this.SW.updateForce(i),this.SE&&this.SE.updateForce(i))}}}class ZT extends ol{constructor(i){super(),this.center=[0,0],this.width=300,this.height=300,this.nodes=[],this.edges=[],this.kr=5,this.kg=1,this.mode="normal",this.preventOverlap=!1,this.dissuadeHubs=!1,this.barnesHut=void 0,this.maxIteration=0,this.ks=.1,this.ksmax=10,this.tao=.1,this.onLayoutEnd=()=>{},this.prune=void 0,this.updateCfg(i)}getDefaultCfg(){return{}}execute(){const i=this,{nodes:o,onLayoutEnd:s,prune:f}=i;let h=i.maxIteration;!i.width&&typeof window!="undefined"&&(i.width=window.innerWidth),!i.height&&typeof window!="undefined"&&(i.height=window.innerHeight);const C=[],S=o.length;for(let T=0;T<S;T+=1){const D=o[T];let B=10,H=10;Xo(D.size)&&(B=D.size,H=D.size),Xl(D.size)?(isNaN(D.size[0])||(B=D.size[0]),isNaN(D.size[1])||(H=D.size[1])):Tc(D.size)&&(B=D.size.width,H=D.size.height),i.getWidth&&!isNaN(i.getWidth(D))&&(H=i.getWidth(D)),i.getHeight&&!isNaN(i.getHeight(D))&&(B=i.getHeight(D));const ce=Math.max(B,H);C.push(ce)}i.barnesHut===void 0&&S>250&&(i.barnesHut=!0),i.prune===void 0&&S>100&&(i.prune=!0),this.maxIteration===0&&!i.prune?(h=250,S<=200&&S>100?h=1e3:S>200&&(h=1200),this.maxIteration=h):this.maxIteration===0&&f&&(h=100,S<=200&&S>100?h=500:S>200&&(h=950),this.maxIteration=h),i.kr||(i.kr=50,S>100&&S<=500?i.kr=20:S>500&&(i.kr=1)),i.kg||(i.kg=20,S>100&&S<=500?i.kg=10:S>500&&(i.kg=1)),this.nodes=i.updateNodesByForces(C),s()}updateNodesByForces(i){const o=this,{edges:s,maxIteration:f}=o;let h=o.nodes;const C=s.filter(me=>{const xe=Hs(me,"source"),Se=Hs(me,"target");return xe!==Se}),S=h.length,T=C.length,D=[],B={},H={},ce=[];for(let me=0;me<S;me+=1)B[h[me].id]=me,D[me]=0,(h[me].x===void 0||isNaN(h[me].x))&&(h[me].x=Math.random()*1e3),(h[me].y===void 0||isNaN(h[me].y))&&(h[me].y=Math.random()*1e3),ce.push({x:h[me].x,y:h[me].y});for(let me=0;me<T;me+=1){let xe,Se,We=0,nt=0;for(let Gt=0;Gt<S;Gt+=1){const wn=Hs(C[me],"source"),Pn=Hs(C[me],"target");h[Gt].id===wn?(xe=h[Gt],We=Gt):h[Gt].id===Pn&&(Se=h[Gt],nt=Gt),H[me]={sourceIdx:We,targetIdx:nt}}xe&&(D[B[xe.id]]+=1),Se&&(D[B[Se.id]]+=1)}let de=f;if(h=this.iterate(de,B,H,T,D,i),o.prune){for(let me=0;me<T;me+=1)D[H[me].sourceIdx]<=1?(h[H[me].sourceIdx].x=h[H[me].targetIdx].x,h[H[me].sourceIdx].y=h[H[me].targetIdx].y):D[H[me].targetIdx]<=1&&(h[H[me].targetIdx].x=h[H[me].sourceIdx].x,h[H[me].targetIdx].y=h[H[me].sourceIdx].y);o.prune=!1,o.barnesHut=!1,de=100,h=this.iterate(de,B,H,T,D,i)}return h}iterate(i,o,s,f,h,C){const S=this;let{nodes:T}=S;const{kr:D,preventOverlap:B}=S,{barnesHut:H}=S,ce=T.length;let de=0;const me=100;let xe=i;const Se=50;let We=[];const nt=[],Gt=[];for(let wn=0;wn<ce;wn+=1)if(We[2*wn]=0,We[2*wn+1]=0,H){const Pn={id:wn,rx:T[wn].x,ry:T[wn].y,mass:1,g:D,degree:h[wn]};Gt[wn]=new gx(Pn)}for(;xe>0;){for(let Pn=0;Pn<ce;Pn+=1)nt[2*Pn]=We[2*Pn],nt[2*Pn+1]=We[2*Pn+1],We[2*Pn]=0,We[2*Pn+1]=0;We=this.getAttrForces(xe,Se,f,o,s,h,C,We),H&&(B&&xe>Se||!B)?We=this.getOptRepGraForces(We,Gt,h):We=this.getRepGraForces(xe,Se,We,me,C,h);const wn=this.updatePos(We,nt,de,h);T=wn.nodes,de=wn.sg,xe--,S.tick&&S.tick()}return T}getAttrForces(i,o,s,f,h,C,S,T){const D=this,{nodes:B,preventOverlap:H,dissuadeHubs:ce,mode:de,prune:me}=D;for(let xe=0;xe<s;xe+=1){const Se=B[h[xe].sourceIdx],We=h[xe].sourceIdx,nt=B[h[xe].targetIdx],Gt=h[xe].targetIdx;if(me&&(C[We]<=1||C[Gt]<=1))continue;const wn=[nt.x-Se.x,nt.y-Se.y];let Pn=Math.hypot(wn[0],wn[1]);Pn=Pn<1e-4?1e-4:Pn,wn[0]=wn[0]/Pn,wn[1]=wn[1]/Pn,H&&i<o&&(Pn=Pn-S[We]-S[Gt]);let Tr=Pn,xi=Tr;de==="linlog"&&(Tr=Math.log(1+Pn),xi=Tr),ce&&(Tr=Pn/C[We],xi=Pn/C[Gt]),H&&i<o&&Pn<=0?(Tr=0,xi=0):H&&i<o&&Pn>0&&(Tr=Pn,xi=Pn),T[2*f[Se.id]]+=Tr*wn[0],T[2*f[nt.id]]-=xi*wn[0],T[2*f[Se.id]+1]+=Tr*wn[1],T[2*f[nt.id]+1]-=xi*wn[1]}return T}getRepGraForces(i,o,s,f,h,C){const S=this,{nodes:T,preventOverlap:D,kr:B,kg:H,center:ce,prune:de}=S,me=T.length;for(let xe=0;xe<me;xe+=1){for(let Gt=xe+1;Gt<me;Gt+=1){if(de&&(C[xe]<=1||C[Gt]<=1))continue;const wn=[T[Gt].x-T[xe].x,T[Gt].y-T[xe].y];let Pn=Math.hypot(wn[0],wn[1]);Pn=Pn<1e-4?1e-4:Pn,wn[0]=wn[0]/Pn,wn[1]=wn[1]/Pn,D&&i<o&&(Pn=Pn-h[xe]-h[Gt]);let Tr=B*(C[xe]+1)*(C[Gt]+1)/Pn;D&&i<o&&Pn<0?Tr=f*(C[xe]+1)*(C[Gt]+1):D&&i<o&&Pn===0?Tr=0:D&&i<o&&Pn>0&&(Tr=B*(C[xe]+1)*(C[Gt]+1)/Pn),s[2*xe]-=Tr*wn[0],s[2*Gt]+=Tr*wn[0],s[2*xe+1]-=Tr*wn[1],s[2*Gt+1]+=Tr*wn[1]}const Se=[T[xe].x-ce[0],T[xe].y-ce[1]],We=Math.hypot(Se[0],Se[1]);Se[0]=Se[0]/We,Se[1]=Se[1]/We;const nt=H*(C[xe]+1);s[2*xe]-=nt*Se[0],s[2*xe+1]-=nt*Se[1]}return s}getOptRepGraForces(i,o,s){const f=this,{nodes:h,kg:C,center:S,prune:T}=f,D=h.length;let B=9e10,H=-9e10,ce=9e10,de=-9e10;for(let nt=0;nt<D;nt+=1)T&&s[nt]<=1||(o[nt].setPos(h[nt].x,h[nt].y),h[nt].x>=H&&(H=h[nt].x),h[nt].x<=B&&(B=h[nt].x),h[nt].y>=de&&(de=h[nt].y),h[nt].y<=ce&&(ce=h[nt].y));const me=Math.max(H-B,de-ce),xe={xmid:(H+B)/2,ymid:(de+ce)/2,length:me,massCenter:S,mass:D},Se=new H0(xe),We=new K0(Se);for(let nt=0;nt<D;nt+=1)T&&s[nt]<=1||o[nt].in(Se)&&We.insert(o[nt]);for(let nt=0;nt<D;nt+=1){if(T&&s[nt]<=1)continue;o[nt].resetForce(),We.updateForce(o[nt]),i[2*nt]-=o[nt].fx,i[2*nt+1]-=o[nt].fy;const Gt=[h[nt].x-S[0],h[nt].y-S[1]];let wn=Math.hypot(Gt[0],Gt[1]);wn=wn<1e-4?1e-4:wn,Gt[0]=Gt[0]/wn,Gt[1]=Gt[1]/wn;const Pn=C*(s[nt]+1);i[2*nt]-=Pn*Gt[0],i[2*nt+1]-=Pn*Gt[1]}return i}updatePos(i,o,s,f){const h=this,{nodes:C,ks:S,tao:T,prune:D,ksmax:B}=h,H=C.length,ce=[],de=[];let me=0,xe=0;for(let We=0;We<H;We+=1){if(D&&f[We]<=1)continue;const nt=[i[2*We]-o[2*We],i[2*We+1]-o[2*We+1]],Gt=Math.hypot(nt[0],nt[1]),wn=[i[2*We]+o[2*We],i[2*We+1]+o[2*We+1]],Pn=Math.hypot(wn[0],wn[1]);ce[We]=Gt,de[We]=Pn/2,me+=(f[We]+1)*ce[We],xe+=(f[We]+1)*de[We]}const Se=s;s=T*xe/me,Se!==0&&(s=s>1.5*Se?1.5*Se:s);for(let We=0;We<H;We+=1){if(D&&f[We]<=1)continue;let nt=S*s/(1+s*Math.sqrt(ce[We])),Gt=Math.hypot(i[2*We],i[2*We+1]);Gt=Gt<1e-4?1e-4:Gt;const wn=B/Gt;nt=nt>wn?wn:nt;const Pn=nt*i[2*We],Tr=nt*i[2*We+1];C[We].x+=Pn,C[We].y+=Tr}return{nodes:C,sg:s}}}class ag{constructor(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}init(i,o,s){this.cells=[],this.CELL_W=s.CELL_W||ag.DEFAULT_CELL_W,this.CELL_H=s.CELL_H||ag.DEFAULT_CELL_H,this.columnNum=Math.ceil(i/this.CELL_W),this.rowNum=Math.ceil(o/this.CELL_H),ag.MIN_DIST=Math.pow(i,2)+Math.pow(o,2);for(let f=0;f<this.columnNum;f++){const h=[];for(let C=0;C<this.rowNum;C++){const S={dx:f,dy:C,x:f*this.CELL_W,y:C*this.CELL_H,occupied:!1};h.push(S)}this.cells.push(h)}}findGridByNodeId(i){var o,s;for(let f=0;f<this.columnNum;f++)for(let h=0;h<this.rowNum;h++)if(this.cells[f][h].node&&((s=(o=this.cells[f][h])===null||o===void 0?void 0:o.node)===null||s===void 0?void 0:s.id)===i)return{column:f,row:h};return null}sqdist(i,o){return Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2)}occupyNearest(i){let o=ag.MIN_DIST,s,f=null;for(let h=0;h<this.columnNum;h++)for(let C=0;C<this.rowNum;C++)!this.cells[h][C].occupied&&(s=this.sqdist(i,this.cells[h][C]))<o&&(o=s,f=this.cells[h][C]);return f&&(f.occupied=!0),f}insertColumn(i,o){if(!(o<=0)){for(let s=0;s<o;s++){this.cells[s+this.columnNum]=[];for(let f=0;f<this.rowNum;f++)this.cells[s+this.columnNum][f]={dx:s,dy:f,x:s*this.CELL_W,y:f*this.CELL_H,occupied:!1,node:null}}for(let s=this.columnNum-1;s>i;s--)for(let f=0;f<this.rowNum;f++)this.cells[s+o][f]=Object.assign(Object.assign({},this.cells[s][f]),{x:(s+o)*this.CELL_W,y:f*this.CELL_H}),this.cells[s][f]={x:s*this.CELL_W,y:f*this.CELL_H,occupied:!0,node:null};for(let s=0;s<this.additionColumn.length;s++)this.additionColumn[s]>=i&&(this.additionColumn[s]+=o);for(let s=0;s<o;s++)this.additionColumn.push(i+s+1);this.columnNum+=o}}insertRow(i,o){if(!(o<=0)){for(let s=0;s<o;s++)for(let f=0;f<this.columnNum;f++)this.cells[f][s+this.rowNum]={dx:f,dy:s,x:f*this.CELL_W,y:s*this.CELL_H,occupied:!1,node:null};for(let s=0;s<this.columnNum;s++)for(let f=this.rowNum-1;f>i;f--)this.cells[s][f+o]=Object.assign(Object.assign({},this.cells[s][f]),{dx:s,dy:f+o,x:s*this.CELL_W,y:(f+o)*this.CELL_H}),this.cells[s][f]={dx:s,dy:f,x:s*this.CELL_W,y:f*this.CELL_H,occupied:!1,node:null};for(let s=0;s<this.additionRow.length;s++)this.additionRow[s]>=i&&(this.additionRow[s]+=o);for(let s=0;s<o;s++)this.additionRow.push(i+s+1);this.rowNum+=o}}getNodes(){const i=[];for(let o=0;o<this.columnNum;o++)for(let s=0;s<this.rowNum;s++)this.cells[o][s].node&&i.push(this.cells[o][s]);return i}}ag.MIN_DIST=50,ag.DEFAULT_CELL_W=80,ag.DEFAULT_CELL_H=80;function zT(n,i){if(!n.nodes||n.nodes.length===0)return n;const o=i.width,s=i.height,f=i.nodeMinGap;let h=1e4,C=1e4;n.nodes.forEach(T=>{const D=T.size[0]||50,B=T.size[1]||50;h=Math.min(D,h),C=Math.min(B,C)});const S=new ag;S.init(o,s,{CELL_H:C,CELL_W:h}),n.nodes.forEach(T=>{const D=S.occupyNearest(T);D&&(D.node={id:T.id,size:T.size},T.x=D.x,T.y=D.y,T.dx=D.dx,T.dy=D.dy)});for(let T=0;T<n.nodes.length;T++){const D=n.nodes[T],B=S.findGridByNodeId(D.id);if(!B)throw new Error("can not find node cell");const{column:H,row:ce}=B;if(D.size[0]+f>h){const de=Math.ceil((D.size[0]+f)/h)-1;let me=de;for(let xe=0;xe<de&&(S.additionColumn.indexOf(H+xe+1)>-1&&!S.cells[H+xe+1][ce].node);xe++)me--;S.insertColumn(H,me)}if(D.size[1]+f>C){const de=Math.ceil((D.size[1]+f)/C)-1;let me=de;for(let xe=0;xe<de&&(S.additionRow.indexOf(ce+xe+1)>-1&&!S.cells[H][ce+xe+1].node);xe++)me--;S.insertRow(ce,me)}}for(let T=0;T<S.columnNum;T++)for(let D=0;D<S.rowNum;D++){const B=S.cells[T][D];if(B.node){const H=n.nodes.find(ce=>{var de;return ce.id===((de=B==null?void 0:B.node)===null||de===void 0?void 0:de.id)});H&&(H.x=B.x+H.size[0]/2,H.y=B.y+H.size[1]/2)}}}const US=1200,VS=800,S2=1e7,Vy=10,jS=3.141592653589793,vx=1.5707963267948966,UT=jS*.375,VT=jS*.625,M2=new Map,jT=10,$T=10;let mx=.8;const $S=.1,WT=.5;function HT(n,i,o){const s=n.x-n.size[0]/2,f=n.y-n.size[1]/2,h=n.x+n.size[0]/2,C=n.y+n.size[1]/2,S=i.x-i.size[0]/2,T=i.y-i.size[1]/2,D=i.x+i.size[0]/2,B=i.y+i.size[1]/2,H=n.x,ce=n.y,de=i.x,me=i.y,xe=de-H,Se=Math.atan2(xe,me-ce);let We=0,nt=0,Gt=0,wn=0;Se>vx?(nt=f-B,We=S-h,Gt=parseFloat(nt?(nt/Math.cos(Se)).toFixed(2):We.toFixed(2)),wn=parseFloat(We?(We/Math.sin(Se)).toFixed(2):nt.toFixed(2))):0<Se&&Se<=vx?(nt=T-C,We=S-h,nt>We?Gt=wn=parseFloat(nt?(nt/Math.cos(Se)).toFixed(2):We.toFixed(2)):Gt=wn=parseFloat(We?(We/Math.sin(Se)).toFixed(2):nt.toFixed(2))):Se<-vx?(nt=f-B,We=-(D-s),nt>We?Gt=wn=parseFloat(nt?(nt/Math.cos(Se)).toFixed(2):We.toFixed(2)):Gt=wn=parseFloat(We?(We/Math.sin(Se)).toFixed(2):nt.toFixed(2))):(nt=T-C,Math.abs(xe)>(h-s)/2?We=s-D:We=xe,nt>We?Gt=wn=parseFloat(nt?(nt/Math.cos(Se)).toFixed(2):We.toFixed(2)):Gt=wn=parseFloat(We&&Se!==0?(We/Math.sin(Se)).toFixed(2):nt.toFixed(2)));const Pn=parseFloat(Se.toFixed(2));let Tr=o;return o&&(Tr=UT<Pn&&Pn<VT),{distance:Math.abs(Gt<wn?Gt:wn),isHoriz:Tr}}function WS(n,i){const s=(M2.get(n.id)||[]).find(xi=>xi.source===i.id||xi.target===i.id),f=n.size[0]*n.size[1],h=i.size[0]*i.size[1],C=f>h?i:n,S=f>h?n:i,T=C.x-C.size[0]/2,D=C.y-C.size[1]/2,B=C.x+C.size[0]/2,H=C.y+C.size[1]/2,ce=S.x-S.size[0]/2,de=S.y-S.size[1]/2,me=S.x+S.size[0]/2,xe=S.y+S.size[1]/2,Se=C.x,We=C.y,nt=S.x,Gt=S.y,wn=B>=ce&&me>=T&&H>=de&&xe>=D;let Pn=0,Tr=0;if(wn){Tr=Math.sqrt(Math.pow(nt-Se,2)+Math.pow(Gt-We,2));const xi=T>ce?T:ce,yi=D>de?D:de,Uo=B<me?B:me,wi=H<xe?H:xe,lo=Uo-xi,Gi=wi-yi,ca=lo*Gi;Tr===0&&(Tr=1e-7),Pn=Vy*1/Tr*100+ca,Pn*=S2}else{let xi=!1;const yi=HT(C,S,xi);Tr=yi.distance,xi=yi.isHoriz,Tr<=Vy?Tr!==0?s?Pn+=Vy+S2*1/Tr:Pn+=Vy+S2*Vy/Tr:Pn+=S2:(Pn+=Tr,s&&(Pn+=Tr*Tr))}return Pn}function HS(n){let i=0;for(let o=0;o<n.length;o++){const s=n[o];(s.x<0||s.y<0||s.x>US||s.y>VS)&&(i+=1e12);for(let f=o+1;f<n.length;f++)i+=WS(s,n[f])}return i}function KT(n,i,o,s){const f=new Map;o.forEach((T,D)=>{f.set(T.id,T)});const h=s.filter(T=>T.source===n.id||T.target===n.id)||[],C=[];h.forEach(T=>{const D=T.source===n.id?T.target:T.source,B=f.get(D);B&&C.push(B)});let S=!0;for(let T=0;T<C.length;T++){const D=C[T],B=Math.atan((n.y-D.y)/(D.x-n.y))*180,H=Math.atan((i.y-D.y)/(D.x-i.y))*180,ce=B<30||B>150,de=H<30||H>150,me=B>70&&B<110,xe=H>70&&H<110;if(ce&&!de||B*H<0){S=!1;break}else if(me&&!xe||B*H<0){S=!1;break}else if((D.x-n.x)*(D.x-i.x)<0){S=!1;break}else if((D.y-n.y)*(D.y-i.y)<0){S=!1;break}}return S}function YT(n,i){let o=!1;const s=1,f=jT*s,h=$T*s,C=[f,-f,0,0],S=[0,0,h,-h];for(let T=0;T<n.length;++T){const D=n[T];let B=KS(D,n);for(let H=0;H<C.length;H++)if(KT(D,{x:D.x+C[H],y:D.y+S[H]},n,i)){D.x+=C[H],D.y+=S[H];const de=KS(D,n),me=Math.random();de<B||me<mx&&me>$S?(B=de,o=!0):(D.x-=C[H],D.y-=S[H])}}return mx>$S&&(mx*=WT),o?HS(n):0}function KS(n,i){let o=0;(n.x<0||n.y<0||n.x+n.size[0]+20>US||n.y+n.size[1]+20>VS)&&(o+=1e12);for(let s=0;s<i.length;++s)n.id!==i[s].id&&(o+=WS(n,i[s]));return o}function XT(n,i){if(n.length===0)return{nodes:n,edges:i};n.forEach(T=>{const D=i.filter(B=>B.source===T.id||B.target===T.id);M2.set(T,D)}),n.sort((T,D)=>{var B,H;return((B=M2.get(T.id))===null||B===void 0?void 0:B.length)-((H=M2.get(D.id))===null||H===void 0?void 0:H.length)});let o=HS(n),s=20,f=1,h=0;const C=50;let S=0;for(;s>0&&(S++,!(S>=C));){const T=YT(n,i);T!==0&&(h=T),f=h-o,o=h,f===0?--s:s=20}return n.forEach(T=>{T.x=T.x-T.size[0]/2,T.y=T.y-T.size[1]/2}),{nodes:n,edges:i}}var QT=XT;function JT(n,i){const{nodes:o,edges:s}=n,f=i.width,h=i.height;if(!(o!=null&&o.length))return Promise.resolve();const C=[];o.forEach(me=>{if(s.filter(Se=>Se.source===me.id||Se.target===me.id).length>1){const Se=Object.assign({},me);delete Se.size,C.push(Se)}});const S=[];s.forEach(me=>{const xe=C.find(We=>We.id===me.source),Se=C.find(We=>We.id===me.target);xe&&Se&&S.push(me)});const T=new pv({type:"dagre",ranksep:i.nodeMinGap,nodesep:i.nodeMinGap}),{nodes:D}=T.layout({nodes:C,edges:S});o.forEach(me=>{const xe=(D||[]).find(Se=>Se.id===me.id);me.x=(xe==null?void 0:xe.x)||f/2,me.y=(xe==null?void 0:xe.y)||h/2});const B=JSON.parse(JSON.stringify(o)),H=JSON.parse(JSON.stringify(s)),ce=$a().nodes(B).force("link",_c(H).id(me=>me.id).distance(me=>S.find(Se=>Se.source===me.source&&Se.target===me.target)?30:20)).force("charge",Ao()).force("center",eo(f/2,h/2)).force("x",gc(f/2)).force("y",fu(h/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise(me=>{ce.on("end",()=>{o.forEach(Pn=>{const Tr=B.find(xi=>xi.id===Pn.id);Tr&&(Pn.x=Tr.x,Pn.y=Tr.y)});const xe=Math.min(...o.map(Pn=>Pn.x)),Se=Math.max(...o.map(Pn=>Pn.x)),We=Math.min(...o.map(Pn=>Pn.y)),nt=Math.max(...o.map(Pn=>Pn.y)),Gt=f/(Se-xe),wn=h/(nt-We);o.forEach(Pn=>{Pn.x!==void 0&&Gt<1&&(Pn.x=(Pn.x-xe)*Gt),Pn.y!==void 0&&wn<1&&(Pn.y=(Pn.y-We)*wn)}),o.forEach(Pn=>{Pn.sizeTemp=Pn.size,Pn.size=[10,10]}),QT(o,s),o.forEach(Pn=>{Pn.size=Pn.sizeTemp||[],delete Pn.sizeTemp}),zT({nodes:o,edges:s},i),me()})})}class qT extends ol{constructor(i){super(),this.width=300,this.height=300,this.nodeMinGap=50,this.onLayoutEnd=()=>{},i&&this.updateCfg(i)}getDefaultCfg(){return{width:300,height:300,nodeMinGap:50}}execute(){const i=this,o=i.nodes,s=i.edges;return o==null||o.forEach(f=>{f.size||(f.size=[50,50])}),JT({nodes:o,edges:s},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(()=>{i.onLayoutEnd&&i.onLayoutEnd()})}getType(){return"er"}}class eO extends ol{constructor(i){super(),this.center=[0,0],this.width=300,this.height=300,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.updateCfg(i)}getDefaultCfg(){return{center:[0,0],width:300,height:300}}execute(){const i=this,o=i.nodes,s=.9,f=i.center;return!i.width&&typeof window!="undefined"&&(i.width=window.innerWidth),!i.height&&typeof window!="undefined"&&(i.height=window.innerHeight),o&&o.forEach(h=>{h.x=(Math.random()-.5)*s*i.width+f[0],h.y=(Math.random()-.5)*s*i.height+f[1]}),i.onLayoutEnd&&i.onLayoutEnd(),{nodes:o,edges:this.edges}}getType(){return"random"}}class ZO{constructor(i){const o=getLayoutByName(i.type);this.layoutInstance=new o(i)}layout(i){return this.layoutInstance.layout(i)}updateCfg(i){this.layoutInstance.updateCfg(i)}init(i){this.layoutInstance.init(i)}execute(){this.layoutInstance.execute()}getDefaultCfg(){return this.layoutInstance.getDefaultCfg()}destroy(){return this.layoutInstance.destroy()}}const tO={force:vl,fruchterman:bv,forceAtlas2:ZT,gForce:Ru,dagre:pv,circular:Ed,radial:Sg,concentric:fm,grid:ou,mds:yv,comboForce:BT,random:eO,"gForce-gpu":GT,"fruchterman-gpu":kT,er:qT};var P2;(function(n){n.command=be.GRAPH_LAYOUT,n.hookKey="graphLayout"})(P2||(P2={}));let jy=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().graphLayout.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const{layoutType:C,layoutOptions:S,customLayout:T}=h;return yield(T||(H=>{const ce=tO[C];return new ce(Object.assign({},S)).layout(H)}))(h.graphData),{graphData:h.graphData}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],jy.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],jy.prototype,"init",null),jy=(0,g.gn)([(0,d.injectable)({token:{token:so,named:P2.command.id}})],jy);var T2;(function(n){function i(s,f){return(0,yr.isEqual)(s,f)}n.isNodeEqual=i;function o(s,f){return(0,yr.isEqual)(s,f)}n.isEdgeEqual=o})(T2||(T2={}));var O2;(function(n){n.command=be.GRAPH_RENDER,n.hookKey="graphRender"})(O2||(O2={}));let $y=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().graphRender.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const C=yield this.ctx.getX6Graph(),S=yield this.ctx.getGraphMeta(),{beforeRender:T,graphData:D,isNodeEqual:B,isEdgeEqual:H,afterRender:ce}=h;return T&&T(S),yield this.doLoadGraph(C,D,B,H),ce&&ce(D,S),{}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this}),this.doLoadGraph=(i,o,s,f)=>(0,g.mG)(this,void 0,void 0,function*(){i!=null&&i.isFrozen()||i==null||i.freeze();const h=this.ctx.getCommands(),{addNodeConfigs:C,addEdgeConfigs:S,removeNodes:T,removeEdges:D,updateNodes:B,updateEdges:H}=this.graphDataDiff(i,o,s,f);for(const ce of B){const de=ce==null?void 0:ce.getData();yield h.executeCommand(Ge.UPDATE_NODE.id,{nodeConfig:de})}for(const ce of H){const de=ce==null?void 0:ce.getData();yield h.executeCommand(Ae.UPDATE_EDGE.id,{edgeConfig:de})}for(const ce of C)yield h.executeCommand(Ge.ADD_NODE.id,{nodeConfig:ce,options:{isRenderGraph:!0}},{name:"remove servcie",handler:de=>(0,g.mG)(this,void 0,void 0,function*(){delete de.createNodeService})});yield h.executeCommand(Re.INIT_GROUP.id,{graphData:{nodes:C,edges:[]}});for(const ce of S)yield h.executeCommand(Ae.ADD_EDGE.id,{edgeConfig:ce,options:{isRenderGraph:!0}},{name:"remove servcie",handler:de=>(0,g.mG)(this,void 0,void 0,function*(){delete de.createEdgeService})});for(const ce of T){const de=ce==null?void 0:ce.getData();de.isGroup?yield h.executeCommand(Re.DEL_GROUP.id,{nodeConfig:de}):yield h.executeCommand(Ge.DEL_NODE.id,{nodeConfig:de})}for(const ce of D){const de=ce==null?void 0:ce.getData();yield h.executeCommand(Ae.DEL_EDGE.id,{edgeConfig:de})}i!=null&&i.isFrozen()&&(i==null||i.unfreeze())})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}graphDataDiff(i,o,s,f){const{nodes:h,edges:C}=o,S=[];h.forEach(We=>{i.getCellById(We==null?void 0:We.id)||S.push(We)});const T=[],D=[],B=[];i.getNodes().forEach(We=>{const nt=h.find(Gt=>(Gt==null?void 0:Gt.id)===(We==null?void 0:We.id));if(!nt)B.push(We);else{let Gt=!0;s?Gt=s(We==null?void 0:We.data,nt):We!=null&&We.data&&nt&&(Gt=T2.isNodeEqual(We==null?void 0:We.data,nt)),Gt||We.setData(nt,{deep:!1}),Gt===!0?T.push(We):D.push(We)}});const ce=[];C.forEach(We=>{i.getCellById(We==null?void 0:We.id)||ce.push(We)});const de=[],me=[],xe=[];return i.getEdges().forEach(We=>{const nt=C.find(Gt=>(Gt==null?void 0:Gt.id)===(We==null?void 0:We.id));if(!nt)xe.push(We);else{let Gt=!0;f?Gt=f(We==null?void 0:We.data,nt):We!=null&&We.data&&nt&&(Gt=T2.isEdgeEqual(We==null?void 0:We.data,nt)),Gt||We.setData(nt,{deep:!1}),Gt===!0?de.push(We):me.push(We)}}),{addNodeConfigs:S,addEdgeConfigs:ce,retainNodes:T,retainEdges:de,removeNodes:B,removeEdges:xe,updateNodes:D,updateEdges:me}}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],$y.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],$y.prototype,"init",null),$y=(0,g.gn)([(0,d.injectable)({token:{token:so,named:O2.command.id}})],$y);var _2;(function(n){n.command=be.GRAPH_RESIZE,n.hookKey="graphResize"})(_2||(_2={}));let Wy=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),s=this.ctx.getHooks(),f=yield this.ctx.getGraphConfig(),h=f.rootContainer.clientHeight,C=f.rootContainer.clientWidth,S=yield s.graphResize.call(i,T=>(0,g.mG)(this,void 0,void 0,function*(){const D=yield this.ctx.getX6Graph(),{width:B=C,height:H=h}=T;return D==null||D.resize(B,H),{}}),o);return this.ctx.setResult(S),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],Wy.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],Wy.prototype,"init",null),Wy=(0,g.gn)([(0,d.injectable)({token:{token:so,named:_2.command.id}})],Wy);var A2;(function(n){n.command=be.GRAPH_FULLSCREEN,n.hookKey="graphFullscreen"})(A2||(A2={}));let Hy=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),s=this.ctx.getHooks(),f=yield this.ctx.getGraphConfig(),{appContainer:h}=f;if(!h)return;const C=yield s.graphFullscreen.call(i,()=>(0,g.mG)(this,void 0,void 0,function*(){var S,T;let D=!1;return document.fullscreenElement?(T=document.exitFullscreen)===null||T===void 0||T.call(document):((S=h.requestFullscreen)===null||S===void 0||S.call(h),D=!0),{fulllscreen:D}}),o);return this.ctx.setResult(C),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],Hy.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],Hy.prototype,"init",null),Hy=(0,g.gn)([(0,d.injectable)({token:{token:so,named:A2.command.id}})],Hy);var Ky;(function(n){n.command=be.GRAPH_ZOOM,n.MAX_SCALE=1.5,n.MIN_SCALE=.05,n.defaultZoomOptions={maxScale:n.MAX_SCALE,minScale:n.MIN_SCALE},n.hookKey="graphZoom"})(Ky||(Ky={}));let Yy=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().graphZoom.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const C=yield this.ctx.getX6Graph(),{factor:S,zoomFitPadding:T=12,zoomOptions:D=Ky.defaultZoomOptions}=h;return typeof S=="number"?C==null||C.zoom(S,D||{}):S==="fit"?C==null||C.zoomToFit(Object.assign(Object.assign({},D),{padding:T})):S==="real"&&(C==null||C.scale(1),C==null||C.centerContent()),{factor:S,zoomFitPadding:T,zoomOptions:D}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],Yy.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],Yy.prototype,"init",null),Yy=(0,g.gn)([(0,d.injectable)({token:{token:so,named:Ky.command.id}})],Yy);var D2;(function(n){n.command=be.GRAPH_COPY,n.hookKey="graphCopySelection"})(D2||(D2={}));let N2=class{constructor(){this.parseCells=i=>{i.forEach(h=>{const C=h.getData();h.isNode()&&C.isGroup&&h.getChildren().forEach(T=>{i.push(T)})});const o=i.filter(h=>h.isNode()).map(h=>h.id),s=i.reduce((h,C)=>{if(C.isEdge()){const S=C.getSourceCellId(),T=C.getTargetCellId();S&&T&&o.includes(S)&&o.includes(T)&&h.set(C.id,C)}else h.set(C.id,C);return h},new Map),f=Array.from(s.values());return Pc(f)},this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().graphCopySelection.call(o,()=>(0,g.mG)(this,void 0,void 0,function*(){const S=(yield i.getX6Graph()).getSelectedCells(),T=this.parseCells(S),D=window.localStorage.getItem(pe);return window.localStorage.setItem(pe,JSON.stringify(T)),i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){window.localStorage.setItem(pe,D)}))),{err:null}}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],N2.prototype,"contextProvider",void 0),N2=(0,g.gn)([(0,d.injectable)({token:{token:so,named:D2.command.id}})],N2);function nO(n,i=null){try{return JSON.parse(n)||i}catch(o){return console.error(o),i}}let Xy=class{constructor(){this.groupNodeMap=new Map,this.nodeMap=new Map,this.nodeMappingRecord=new Map,this.portMap=new Map,this.portMappingRecord=new Map,this.edgeMap=new Map,this.edgeMappingRecord=new Map,this.getNodesByType=i=>i.reduce((o,s)=>(s.isGroup?o.groupNodes.push(s):o.normalNodes.push(s),o),{normalNodes:[],groupNodes:[]}),this.getNodePorts=i=>Array.isArray(i.ports)?i.ports:i.ports&&Array.isArray(i.ports.items)?i.ports.items:[],this.addNodes=i=>{i.forEach(o=>{if(o.isGroup)this.groupNodeMap.set(o.id,o);else{const s=this.getNodePorts(o);this.nodeMap.set(o.id,o),s.forEach(f=>{this.portMap.set(f.id,f)})}})},this.addEdge=i=>{i.forEach(o=>{this.edgeMap.set(o.id,o)})},this.buildNodeMapping=(i,o)=>{const s=i.id||i.originId,f=o.id;this.nodeMappingRecord.set(s,f),this.getNodePorts(i).forEach((C,S)=>{const T=o.ports[S];T&&(this.portMap.set(T.id,T),this.portMappingRecord.set(C.id,T.id))})},this.createEdgeBetweenNodes=i=>{const{source:o,sourcePortId:s,target:f,targetPortId:h}=i;return Object.assign(Object.assign({},i),{source:this.nodeMappingRecord.get(o),target:this.nodeMappingRecord.get(f),sourcePortId:this.portMappingRecord.get(s),targetPortId:this.portMappingRecord.get(h)})},this.buildGroupRelations=i=>{const{groupChildren:o}=i,s=o.map(f=>this.nodeMappingRecord.get(f));return Object.assign(Object.assign({},i),{groupChildren:s})}}};Xy=(0,g.gn)([(0,d.injectable)()],Xy);var Qy,R2;(function(n){n.command=be.GRAPH_PASTE,n.hookKey="graphPasteSelection"})(R2||(R2={}));function I2(n,i=0){return Math.floor(Math.random()*(n-i)+i)}let Y0=Qy=class{constructor(){this.updateNodeCopiedProps=(i,o)=>{let s=I2(100),f=I2(100);return i&&(s=o.x-i.x+I2(30),f=o.y-i.y+I2(30)),o.x+=s,o.y+=f,o.originId=o.id,delete o.id,o.label=`${o.label}_copied`,o.isCollapsed=!1,o},this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),f=i.getHooks();if(Qy.doing)return this;Qy.doing=!0;const h=yield f.graphPasteSelection.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const{commandService:S,position:T}=C,D=window.localStorage.getItem(pe),B=nO(D,{nodes:[],edges:[]}),{nodes:H=[],edges:ce=[]}=B,{normalNodes:de,groupNodes:me}=this.mappingHelper.getNodesByType(H);return this.mappingHelper.addNodes(H),yield Promise.all(de.map(xe=>(0,g.mG)(this,void 0,void 0,function*(){const nt=(yield S.executeCommand(Ge.ADD_NODE.id,{nodeConfig:this.updateNodeCopiedProps(T,xe)})).contextProvider().getResult();this.mappingHelper.buildNodeMapping(xe,nt.nodeConfig)}))),yield Promise.all(me.map(xe=>(0,g.mG)(this,void 0,void 0,function*(){const Se=this.mappingHelper.buildGroupRelations(xe);yield S.executeCommand(Re.ADD_GROUP.id,{nodeConfig:this.updateNodeCopiedProps(T,Se)})}))),yield Promise.all(ce.map(xe=>{const Se=this.mappingHelper.createEdgeBetweenNodes(xe);return S.executeCommand(Ae.ADD_EDGE.id,{edgeConfig:Se})})),i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){window.localStorage.setItem(pe,null)}))),{err:null}}),s);return i.setResult(h),Qy.doing=!1,this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};Y0.doing=!1,(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],Y0.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.inject)(Xy),(0,g.w6)("design:type",Xy)],Y0.prototype,"mappingHelper",void 0),Y0=Qy=(0,g.gn)([(0,d.injectable)({token:{token:so,named:R2.command.id}})],Y0);var k2;(function(n){n.command=be.GRAPH_TOGGLE_MULTI_SELECT,n.hookKey="toggleMultiSelect"})(k2||(k2={}));let Jy=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().toggleMultiSelect.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const C=yield this.ctx.getX6Graph(),S=yield this.ctx.getGraphConfig(),{isEnable:T,modelService:D}=h,B=yield Ca.GRAPH_ENABLE_MULTI_SELECT.getModel(D),H=typeof T=="boolean"?T:!C.isRubberbandEnabled();return H?(C.enableRubberband(),C.scroller&&C.scroller.widget?C.scroller.disablePanning():C.disablePanning(),S.graphContainer.style.cursor="crosshair"):(C.disableRubberband(),C.scroller&&C.scroller.widget?C.scroller.enablePanning():C.enablePanning(),S.graphContainer.style.cursor="grab"),B.setValue({isEnable:H}),{isEnable:H}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],Jy.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],Jy.prototype,"init",null),Jy=(0,g.gn)([(0,d.injectable)({token:{token:so,named:k2.command.id}})],Jy);var L2;(function(n){n.command=be.GRAPH_HISTORY_UNDO,n.hookKey="historyUndo"})(L2||(L2={}));let F2=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().historyUndo.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const S=yield i.getX6Graph();return S.isHistoryEnabled()===!1?{err:"history is disabled"}:(S.undo(),i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){const{commandService:T}=C;T.executeCommand(be.GRAPH_HISTORY_REDO.id,{})}))),{err:null})}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],F2.prototype,"contextProvider",void 0),F2=(0,g.gn)([(0,d.injectable)({token:{token:so,named:L2.command.id}})],F2);var G2;(function(n){n.command=be.GRAPH_HISTORY_REDO,n.hookKey="historyRedo"})(G2||(G2={}));let B2=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().historyRedo.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const S=yield i.getX6Graph();return S.isHistoryEnabled()===!1?{err:"history is disabled"}:(S.redo(),i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){const{commandService:T}=C;T.executeCommand(be.GRAPH_HISTORY_UNDO.id,{})}))),{err:null})}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],B2.prototype,"contextProvider",void 0),B2=(0,g.gn)([(0,d.injectable)({token:{token:so,named:G2.command.id}})],B2);var Z2;(function(n){n.command=be.GRAPH_HISTORY_TOGGLE,n.hookKey="historyToggle"})(Z2||(Z2={}));let z2=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().historyToggle.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const S=yield i.getX6Graph();if(S.isHistoryEnabled()===!1)return{err:"history is disabled"};const T=S.isHistoryEnabled(),{enabled:D}=C;return S.toggleHistory(D),i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){const{commandService:B}=C;B.executeCommand(be.GRAPH_HISTORY_TOGGLE.id,{enabled:T})}))),{err:null}}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],z2.prototype,"contextProvider",void 0),z2=(0,g.gn)([(0,d.injectable)({token:{token:so,named:Z2.command.id}})],z2);var U2;(function(n){n.command=be.GRAPH_HISTORY_RESET,n.hookKey="historyReset"})(U2||(U2={}));let V2=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().historyReset.call(o,()=>(0,g.mG)(this,void 0,void 0,function*(){return(yield i.getX6Graph()).cleanHistory(),{err:null}}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],V2.prototype,"contextProvider",void 0),V2=(0,g.gn)([(0,d.injectable)({token:{token:so,named:U2.command.id}})],V2);var j2;(function(n){n.command=be.GRAPH_ADD_TOOL,n.hookKey="addTool"})(j2||(j2={}));let $2=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().addTool.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const{cellId:S,toolConfig:T,commandService:D}=C,H=(yield i.getX6Graph()).getCellById(S);return H&&(H.addTools(T.items,T.options),i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){Array.isArray(T.items)&&T.items.forEach(ce=>{D.executeCommand(be.GRAPH_DEL_TOOL.id,{cellId:S,toolname:ce})})})))),{err:null}}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],$2.prototype,"contextProvider",void 0),$2=(0,g.gn)([(0,d.injectable)({token:{token:so,named:j2.command.id}})],$2);var W2;(function(n){n.command=be.GRAPH_DEL_TOOL,n.hookKey="delTool"})(W2||(W2={}));let H2=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().delTool.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const{cellId:S,toolName:T,toolConfig:D}=C,H=(yield i.getX6Graph()).getCellById(S);return H&&(T==="*"?H.removeTools(D):H.removeTool(T,D)),{err:null}}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],H2.prototype,"contextProvider",void 0),H2=(0,g.gn)([(0,d.injectable)({token:{token:so,named:W2.command.id}})],H2);var K2;(function(n){n.command=be.REDO_CMD,n.hookKey="redoCommand"})(K2||(K2={}));let qy=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.ctx,{args:o,hooks:s}=i.getArgs();return yield i.getHooks().redoCommand.call(o,()=>(0,g.mG)(this,void 0,void 0,function*(){const h=i.getCommands();return h.isRedoable&&h.redoCommand(),this.ctx.addUndo(K.create(()=>{h.redoCommand()})),{}}),s),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],qy.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],qy.prototype,"init",null),qy=(0,g.gn)([(0,d.injectable)({token:{token:so,named:K2.command.id}})],qy);var Y2;(function(n){n.command=be.UNDO_CMD,n.hookKey="undoCommand"})(Y2||(Y2={}));let eb=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.ctx,{args:o,hooks:s}=i.getArgs();return yield i.getHooks().undoCommand.call(o,()=>(0,g.mG)(this,void 0,void 0,function*(){const h=i.getCommands();return h.isUndoable&&h.undoCommand(),this.ctx.addUndo(K.create(()=>{h.redoCommand()})),{}}),s),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],eb.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],eb.prototype,"init",null),eb=(0,g.gn)([(0,d.injectable)({token:{token:so,named:Y2.command.id}})],eb);const rO=n=>{n(Ws),n(Za),n(Vl),n(jy),n($y),n(Wy),n(F2),n(B2),n(z2),n(V2),n(qy),n(eb),n(Yy),n(Jy),n(N2),n(Y0),n(Hy),n($2),n(H2)},iO=[il,Ya,ds,L2,G2,U2,Z2,P2,O2,_2,A2,K2,Y2,Ky,k2,D2,R2,j2,W2];var tb;(function(n){n.command=Ae.ADD_EDGE,n.hookKey="addEdge",n.createEdgeId=s=>{if(k.kf.isString(s.source))return`${s.source}:${s.sourcePortId}-${s.target}:${s.targetPortId}`;if(i(s)){const f=s;return`${f.source.cell}:${f.source.port}-${f.target.cell}:${f.target.port}`}if(o(s)){const f=s;return`${f.sourceCell}:${f.sourcePort}-${f.targetCell}:${f.targetPort}`}};function i(s){return s.source&&s.source.cell&&k.kf.isString(s.source.cell)}n.isX6EdgeConfig=i;function o(s){return s.sourceCell&&k.kf.isString(s.sourceCell)}n.isX6EdgePlainConfig=o})(tb||(tb={}));let nb=class{constructor(){this.processEdgeConfig=(i,o)=>(0,g.mG)(this,void 0,void 0,function*(){if(!o.id){const{createIdService:s=tb.createEdgeId}=i;o.id=yield s(o)}return o.sourcePortId&&!o.sourcePort&&(o.sourcePort=o.sourcePortId,o.targetPort=o.targetPortId),o}),this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().addEdge.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const{cellFactory:C,createEdgeService:S,commandService:T,options:D}=h,B=yield this.ctx.getX6Graph();let H=h.edgeConfig;if(S){const Se=yield S(h);if(typeof Se=="boolean")return{err:"createEdgeService rejected"};H=Se}const ce=yield this.processEdgeConfig(h,H);let de;const me=Object.assign(Object.assign({},D),{isCommand:!0});if(C){const Se=yield C(ce,this);de=B.addEdge(Se,me)}else de=B.addEdge(Object.assign(Object.assign({},ce),{label:(ce==null?void 0:ce.label)||ce,data:Object.assign({},ce)}),me);const xe=K.create(()=>{T.executeCommand(Ae.DEL_EDGE.id,{x6Edge:de})});return this.ctx.addUndo(xe),{edgeConfig:ce,edgeCell:de}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],nb.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],nb.prototype,"init",null),nb=(0,g.gn)([(0,d.injectable)({token:{token:so,named:tb.command.id}})],nb);var Hh;(function(n){n.command=Ae.DEL_EDGE,n.hookKey="delEdge";let i;(function(o){o.EDGE_NOT_EXIST="edge is not exist",o.EDGE_INVALID_CELL="this is not a valid cell",o.X6_DELETE_FAILED="x6 throw err when call delete edge",o.SERVICE_REJECT="service reject to delete"})(i=n.ErrEnum||(n.ErrEnum={}))})(Hh||(Hh={}));let rb=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().delEdge.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const{edgeConfig:C,x6Edge:S,deleteEdgeService:T,commandService:D,options:B}=h;let H=S;if(!H&&(H=yield this.findEdgeById(C),!H))return console.error(Hh.ErrEnum.EDGE_NOT_EXIST,C),{err:Hh.ErrEnum.EDGE_NOT_EXIST};if(!(H&&H.isEdge()))return console.error(Hh.ErrEnum.EDGE_NOT_EXIST,H),{err:Hh.ErrEnum.EDGE_NOT_EXIST};if(T&&!(yield T(h)))return{err:Hh.ErrEnum.SERVICE_REJECT};try{const de=H.getTargetCell(),me=H.getSourceCell(),xe=H.getSourcePortId(),Se=H.getTargetPortId(),We=me?me.id:me.source,nt=de?de.id:de.target;H.remove(Object.assign(Object.assign({},B),{isCommand:!0}));const Gt=K.create(()=>{D.executeCommand(Ae.ADD_EDGE.id,{edgeConfig:{source:We,target:nt,sourcePortId:xe,targetPortId:Se}})});return this.ctx.addUndo(Gt),{err:null,edgeConfig:{source:We,target:nt,sourcePortId:xe,targetPortId:Se},targetCell:de,sourceCell:me,sourcePortId:xe,targetPortId:Se}}catch(de){return console.error(Hh.ErrEnum.X6_DELETE_FAILED,de),{err:Hh.ErrEnum.X6_DELETE_FAILED}}}),o);return this.ctx.setResult(f),this}),this.findEdgeById=i=>(0,g.mG)(this,void 0,void 0,function*(){return(yield this.ctx.getX6Graph()).getCellById(i.id)}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],rb.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],rb.prototype,"init",null),rb=(0,g.gn)([(0,d.injectable)({token:{token:so,named:Hh.command.id}})],rb);var oO=l(13218),YS=l.n(oO),X0;(function(n){n.command=Ae.UPDATE_EDGE,n.hookKey="updateEdge",n.XFlowEdgeSetOptions={overwrite:!0},n.XFlowUpdateLabelService=(i,o,s=n.XFlowEdgeSetOptions)=>(0,g.mG)(this,void 0,void 0,function*(){i==null||i.setLabelAt(0,(o==null?void 0:o.label)||o,s)})})(X0||(X0={}));let ib=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().updateEdge.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const C=yield this.ctx.getX6Graph(),{updateEdgeService:S,updateEdgeLabelService:T=X0.XFlowUpdateLabelService,options:D=X0.XFlowEdgeSetOptions}=h,B=S?yield S(h):h==null?void 0:h.edgeConfig,H=C==null?void 0:C.getCellById(B==null?void 0:B.id);return H==null||H.setData(B,D),B!=null&&B.hasOwnProperty("label")&&(yield T(H,B,D)),Vc()(B==null?void 0:B.visible)&&H.setVisible(B==null?void 0:B.visible),B.attrs&&H.setAttrs(B.attrs),B.vertices&&H.setVertices(B.vertices),B.router&&H.setRouter(B.router),B.connector&&H.setConnector(B.connector),YS()(B.source)&&H.setSource(B.source),YS()(B.target)&&H.setTarget(B.target),{edgeConfig:B,edgeCell:H}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],ib.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],ib.prototype,"init",null),ib=(0,g.gn)([(0,d.injectable)({token:{token:so,named:X0.command.id}})],ib);var X2;(function(n){n.command=Ae.HIGHLIGHT_EDGE,n.hookKey="highlightEdge"})(X2||(X2={}));let ob=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().highlightEdge.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){var C,S;const T=yield this.ctx.getX6Graph(),{edgeId:D,strokeColor:B,strokeWidth:H}=h,ce=T.getEdges(),de=ce.find(xe=>xe.id===D),me=ce.filter(xe=>xe.id!==D);if(!de)console.error(D,"this edgeId is not exist");else{const xe=de.getAttrs();((C=xe==null?void 0:xe.line)===null||C===void 0?void 0:C.stroke)===B&&((S=xe==null?void 0:xe.line)===null||S===void 0?void 0:S.strokeWidth)===H||(de==null||de.setAttrs({line:{stroke:B,strokeWidth:H||2}}),me.forEach(Se=>{Se.setAttrs({line:xe==null?void 0:xe.line})}),h.commandService.executeCommand(Ae.FRONT_EDGE.id,{edgeId:D}))}return{}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],ob.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],ob.prototype,"init",null),ob=(0,g.gn)([(0,d.injectable)({token:{token:so,named:X2.command.id}})],ob);var Q2;(function(n){n.command=Ae.FRONT_EDGE,n.hookKey="frontEdge"})(Q2||(Q2={}));let ab=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().frontEdge.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const C=yield this.ctx.getX6Graph(),{edgeId:S}=h,T=C==null?void 0:C.getCellById(S);return T?(T.toFront(),this.ctx.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){h.commandService.executeCommand(Ae.BACK_EDGE.id,{edgeId:S})})))):console.error(S,"this edgeId is not exist"),{}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],ab.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],ab.prototype,"init",null),ab=(0,g.gn)([(0,d.injectable)({token:{token:so,named:Q2.command.id}})],ab);var J2;(function(n){n.command=Ae.BACK_EDGE,n.hookKey="frontEdge"})(J2||(J2={}));let sb=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().frontEdge.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const C=yield this.ctx.getX6Graph(),{edgeId:S}=h,T=C==null?void 0:C.getCellById(S);return T?(T.toBack(),this.ctx.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){h.commandService.executeCommand(Ae.FRONT_EDGE.id,{edgeId:S})})))):console.error(S,"this edgeId is not exist"),{}}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],sb.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],sb.prototype,"init",null),sb=(0,g.gn)([(0,d.injectable)({token:{token:so,named:J2.command.id}})],sb);const aO=n=>{n(nb),n(rb),n(ib),n(ob),n(ab),n(sb)},sO=[tb,Hh,X0,X2,Q2,J2];var Q0;(function(n){n.command=Re.ADD_GROUP,n.hookKey="addGroup",n.GROUP_PADDING=12,n.GROUP_HEADER_HEIGHT=40})(Q0||(Q0={}));let q2=class{constructor(){this.getBBox=(i,o,s)=>{const{groupHeaderHeight:f=Q0.GROUP_HEADER_HEIGHT,groupPadding:h=Q0.GROUP_PADDING}=o,C=s.getCellsBBox(i.children);return C.moveAndExpand({x:-h,y:-(h+f),width:h*2,height:h*2+f}),C},this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().addGroup.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const{nodeConfig:S,createService:T,cellFactory:D,commandService:B}=C,H=yield i.getX6Graph(),ce=yield B.executeCommand(Ge.ADD_NODE.id,{cellFactory:D,createNodeService:T,nodeConfig:S}),{nodeCell:de}=ce.contextProvider().getResult(),{id:me}=de,{groupChildren:xe}=S;if(xe.length){xe.forEach(We=>{const nt=H.getCellById(We);nt&&(nt.setData(Object.assign(Object.assign({},nt.getData()),{group:me,isCollapsed:!1})),nt.prop("group",me),de.addChild(nt),H.unselect(nt))});const Se=this.getBBox(de,S,H);de.position(Se.x,Se.y),de.size(Se.width,Se.height),de.setZIndex(0),de.prop("isGroup",!0),de.setData(Object.assign(Object.assign({},de.getData()),{width:Se.width,height:Se.height,groupChildrenSize:{width:Se.width,height:Se.height},x:Se.x,y:Se.y,isGroup:!0})),H.select(de)}return S.isCollapsed&&(yield B.executeCommand(Re.COLLAPSE_GROUP.id,{nodeId:S.id,isCollapsed:S.isCollapsed})),i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){B.executeCommand(Re.DEL_GROUP.id,{nodeConfig:S})}))),{nodeConfig:S,nodeCell:de}}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],q2.prototype,"contextProvider",void 0),q2=(0,g.gn)([(0,d.injectable)({token:{token:so,named:Q0.command.id}})],q2);var eC;(function(n){n.command=Re.DEL_GROUP,n.hookKey="delGroup"})(eC||(eC={}));let tC=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().delGroup.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const S=yield i.getX6Graph(),{nodeConfig:T,commandService:D,deleteService:B}=C,{id:H}=T,ce=S.getCellById(H);if(B&&!(yield B(C)))return{err:"service rejected"};if(!ce)return{err:"target node is not exist"};if(ce.getProp("isGroup")!==!0)return{err:"target node is not group"};const{isCollapsed:de}=ce.getData();de&&(yield D.executeCommand(Re.COLLAPSE_GROUP.id,{nodeId:ce.id,isCollapsed:!1,collapsedSize:{width:0,height:0}}));const me=ce.getChildren();return me&&me.forEach(xe=>{ce.unembed(xe),xe.prop("group",""),xe.setData(Object.assign(Object.assign({},xe.getData()),{group:""}))}),yield D.executeCommand(Ge.DEL_NODE.id,{nodeConfig:T}),i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){D.executeCommand(Re.ADD_GROUP.id,{nodeConfig:T})}))),{err:null}}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],tC.prototype,"contextProvider",void 0),tC=(0,g.gn)([(0,d.injectable)({token:{token:so,named:eC.command.id}})],tC);var nC;(function(n){n.command=Re.INIT_GROUP,n.hookKey="initGroup"})(nC||(nC={}));let rC=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().initGroup.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const{graphData:S,commandService:T}=C,D=yield i.getX6Graph(),{nodes:B}=S,H={};return B.forEach(ce=>{const{id:de,group:me}=ce;me&&(H[me]?H[me].push(de):H[me]=[de])}),Object.keys(H).forEach(ce=>(0,g.mG)(this,void 0,void 0,function*(){const de=D.getCellById(ce),me=de.getData(),xe=H[ce]||[];de.prop("isGroup",!0),de.setData(Object.assign(Object.assign({},me),{isGroup:!0,groupChildren:xe})),xe.forEach(nt=>{const Gt=D.getCellById(nt);de.embed(Gt)}),de.toBack();const{isCollapsed:Se,groupCollapsedSize:We}=me;if(Se){const nt=C.collapsedSize||We||he;yield T.executeCommand(Re.COLLAPSE_GROUP.id,{collapsedSize:nt,isCollapsed:!0,nodeId:de.id})}})),{}}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],rC.prototype,"contextProvider",void 0),rC=(0,g.gn)([(0,d.injectable)({token:{token:so,named:nC.command.id}})],rC);var iC;(function(n){n.command=Re.COLLAPSE_GROUP,n.hookKey="collapseGroup"})(iC||(iC={}));let lb=class{constructor(){this.toggleVisible=(i,o,s)=>{i.forEach(f=>{const h=s.findViewByCell(f).container;h.style.visibility=o?"visible":"hidden"})},this.toggleCollapse=(i,o,s)=>{const f=i.getChildren().filter(T=>T.isNode()),h=i.getData(),{isCollapsed:C,gap:S=0}=s;if(C){const T=s.collapsedSize||h.groupCollapsedSize||he;i.prop("previousSize",i.size()),i.size(T)}else i.size(i.prop("previousSize"));f&&f.forEach(T=>{const D=i.position(),B=o.getConnectedEdges(T).filter(H=>{const ce=H.getSourceNode(),de=H.getTargetNode();return f.includes(ce)&&f.includes(de)});if(C){this.toggleVisible([T,...B],!1,o),T.prop("previousSize",T.size()),T.prop("previousRelativePosition",T.position({relative:!0})),T.position(D.x+S,D.y+S);const H=i.size();T.size({width:H.width-S*2,height:H.height-S*2})}else{this.toggleVisible([T,...B],!0,o);const H=T.prop("previousRelativePosition"),ce=T.prop("previousSize");T.position(H.x,H.y,{relative:!0}),T.size(ce)}}),i.prop("isCollapsed",C),i.setData(Object.assign(Object.assign({},i.getData()),{isCollapsed:C}))},this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const{args:i,hooks:o}=this.ctx.getArgs(),f=yield this.ctx.getHooks().collapseGroup.call(i,h=>(0,g.mG)(this,void 0,void 0,function*(){const C=yield this.ctx.getX6Graph(),S=C.getCellById(i.nodeId),{toggleService:T}=h;return T&&!(yield T(h))?{err:"service rejected"}:(S&&(this.toggleCollapse(S,C,i),this.ctx.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){S&&this.toggleCollapse(S,C,Object.assign(i,{isCollapsed:!i.isCollapsed}))})))),{err:null})}),o);return this.ctx.setResult(f),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],lb.prototype,"contextProvider",void 0),(0,g.gn)([(0,d.postConstruct)(),(0,g.w6)("design:type",Function),(0,g.w6)("design:paramtypes",[]),(0,g.w6)("design:returntype",void 0)],lb.prototype,"init",null),lb=(0,g.gn)([(0,d.injectable)({token:{token:so,named:iC.command.id}})],lb);const lO=n=>{n(q2),n(tC),n(rC),n(lb)},cO=[Q0,eC,nC,iC];var oC;(function(n){n.command=Ne.UPDATE_MODEL,n.hookKey="updateModel"})(oC||(oC={}));let aC=class{constructor(){this.execute=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider(),{args:o,hooks:s}=i.getArgs(),h=yield i.getHooks().updateModel.call(o,C=>(0,g.mG)(this,void 0,void 0,function*(){const{updateModel:S,getModel:T,modelService:D}=C,B=yield T(D),H=B.getValue(),ce=Ro(H);yield S(ce);const de=Lo(ce);return B.setValue(de),i.addUndo(K.create(()=>(0,g.mG)(this,void 0,void 0,function*(){B.setValue(de)}))),{model:B,value:de}}),s);return i.setResult(h),this}),this.undo=()=>(0,g.mG)(this,void 0,void 0,function*(){const i=this.contextProvider();return this.isUndoable()&&i.undo(),this}),this.redo=()=>(0,g.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,g.gn)([(0,d.inject)(Si),(0,g.w6)("design:type",Object)],aC.prototype,"contextProvider",void 0),aC=(0,g.gn)([(0,d.injectable)({token:{token:so,named:oC.command.id}})],aC);const zO=()=>{},uO=n=>{n(aC)},fO=[oC],XS=[...ju,...sO,...cO,...iO,...fO],QS=()=>new ft.m;let cb=class{constructor(){this.registerHook=i=>(0,g.mG)(this,void 0,void 0,function*(){const o=i.x6Events.registerHook({name:"bind group node move event",handler:s=>(0,g.mG)(this,void 0,void 0,function*(){const f={eventName:"node:moving",callback:({node:h})=>(0,g.mG)(this,void 0,void 0,function*(){if(h.prop("isGroup")){h.prop("originPosition",h.getPosition());return}const S=h.model.graph,{group:T}=h.getData(),D=S.getNodes().find(Gt=>Gt.id===T);if(!D)return;const B=D.getProp("isCollapsed");let H=D.getProp("originSize"),ce=!1;H==null&&(H=D.size(),D.prop("originSize",H));let de=D.prop("originPosition");de==null&&(de=D.getPosition(),D.prop("originPosition",de));let me=de.x,xe=de.y,Se=de.x+H.width,We=de.y+H.height;const nt=D.getChildren();if(nt&&nt.forEach(Gt=>{const wn=Gt.getBBox().inflate(12),Pn=wn.getCorner();wn.x<me&&(me=wn.x,ce=!0),wn.y<xe&&(xe=wn.y,ce=!0),Pn.x>Se&&(Se=Pn.x,ce=!0),Pn.y>We&&(We=Pn.y,ce=!0)}),ce){D.prop({position:{x:me,y:xe},size:{width:Se-me,height:We-xe}});const Gt=Object.assign(Object.assign({},D.getData()),{x:me,y:xe,width:Se-me,height:We-xe});B!==!0&&(Gt.groupChildrenSize={width:Se-me,height:We-xe}),D.setData(Gt)}})};s.push(f)})});return K.create(()=>{o.dispose()})}),this.registerHookHub=i=>(0,g.mG)(this,void 0,void 0,function*(){const o=new Y;return XS.forEach(({hookKey:s,createHook:f=QS})=>{const h=i.registerHookHub(s,f());o.push(h)}),this.commandConfig.getConfig().then(({getContributions:s})=>{s().forEach(({hookKey:h,createHook:C=QS})=>{const S=i.registerHookHub(h,C());o.push(S)})}),o})}registerGraphCommands(i){XS.forEach(({command:o})=>{i.registerCommand(o,{createCommand:this.commandFactory})}),this.commandConfig.getConfig().then(({getContributions:o})=>{o().forEach(f=>{i.registerCommand(f.command,{createCommand:this.commandFactory})})})}};(0,g.gn)([(0,d.inject)(pa),(0,g.w6)("design:type",Function)],cb.prototype,"commandFactory",void 0),(0,g.gn)([(0,d.inject)(Cl),(0,g.w6)("design:type",Cl)],cb.prototype,"commandConfig",void 0),cb=(0,g.gn)([(0,d.singleton)({contrib:[xo,nn]})],cb);const dO=(n,i)=>{i.getCommandContributions().forEach(s=>{const{CommandHandler:f,command:h}=s;n({token:{token:so,named:h.id},useClass:f})}),rO(n),Af(n),aO(n),lO(n),uO(n),n(cb)},hO=n=>(0,d.Module)(i=>{i(Xy),bs(i,n),dO(i,n),i(Ol),i(pa,{useFactory:o=>(s,f,h)=>{const C=o.container.createChild(),S=C.get(Ol);C.register(Si,{useDynamic:()=>()=>S});const T=C.getNamed(so,s);return S.setArgs(f,h),S.handlerInstance=T,T}})}),pO=n=>{const i=ui(),o=x.useMemo(()=>n.config?n.config:new Cl,[]);return x.useEffect(()=>{i.addCoreModule({config:o,createModule:hO})},[]),null},gO=n=>i=>{const o=x.useMemo(()=>({getValue:()=>({})}),[]);return o.getValue=()=>i,x.useMemo(()=>{const f=new Cl;return n(f,o),f},[o])},JS=Symbol("IToolbarService"),yx=d.Syringe.defineToken("IToolbarContribution");var vO=l(23279),mO=l.n(vO),yO=l(50361),bO=l.n(yO);let J0=class{constructor(){this.toDispose=new Y,this.toolbarItems=new Map,this.onDidChangeEvent=new qo(null),this.onDidChange=this.onDidChangeEvent.watch,this.fireOnDidChange=mO()(()=>this.onDidChangeEvent.setValue(void 0),16),this.registerDisposableToolbar=i=>{const o=new Y;return i({registerToolbarItem:f=>{const h=this.registerItem(f);return o.push(h),h}}),this.toDispose.push(o),o},this.getToolbarModel=i=>{const{layout:o,mainGroups:s=[],extraGroups:f=[]}=i;return new qo({layout:o,mainGroups:this.createToolbarGroupModel(s),extraGroups:this.createToolbarGroupModel(f)})},this.createToolbarGroupModel=i=>i.map(s=>{const{items:f=[]}=s;return Object.assign(Object.assign({},s),{items:f.map(h=>this.createToolbarModel({id:h.id})).filter(h=>!!h)})})}onStart(){const i=this.contributionProvider.getContributions();for(const o of i)o.registerToolbarItems(this)}onStop(){this.toDispose.dispose()}registerItem(i){return this.toolbarItems.has(i.id)&&console.warn(`ToolbarRegistry ${i.id} is duplicated, in`,i),this.toolbarItems.set(i.id,i),this.fireOnDidChange(),new Y(K.create(()=>this.fireOnDidChange()),K.create(()=>this.toolbarItems.delete(i.id)))}createToolbarModel(i){const o=bO()(this.toolbarItems.get(i.id)),s=Vc()(o.isEnabled)?o.isEnabled:!0,f=Vc()(o.isVisible)?o.isVisible:!0;return Object.assign(Object.assign({},o),{isEnabled:s,isVisible:f,iconName:o.iconName,text:o.text})}};(0,g.gn)([(0,d.inject)(jo),(0,g.w6)("design:type",Object)],J0.prototype,"commandService",void 0),(0,g.gn)([(0,d.inject)(Bo),(0,g.w6)("design:type",Object)],J0.prototype,"modelService",void 0),(0,g.gn)([(0,d.contrib)(yx),(0,g.w6)("design:type",Object)],J0.prototype,"contributionProvider",void 0),J0=(0,g.gn)([(0,d.singleton)({contrib:[Vo,JS]})],J0);const CO=()=>(0,d.Module)(n=>{d.Contribution.register(n,yx),n(J0)}),bx=n=>{const{}=n,i=ui();return x.useEffect(()=>{const o=i.addCoreModule({config:{CONFIG_TYPE:"ToolbarRegistry",getConfig:()=>(0,g.mG)(void 0,void 0,void 0,function*(){})},createModule:CO});return()=>{o.dispose()}},[i]),null};bx.defaultProps={XFlowModuleType:"ToolbarRegistry"};const UO=Symbol("xflow-menu-root"),xO=Symbol("IMenuService"),qS=d.Syringe.defineToken("IMenuContribution");var Cx;(function(n){n.Separator="separator",n.Submenu="submenu",n.Root="root",n.Leaf="leaf"})(Cx||(Cx={}));let sC=class{constructor(){this.toDispose=new Y,this.menuMap=new Map,this.getMenu=i=>this.menuMap.get(i),this.registerDisposableMenu=i=>{const o=new Y;return i({registerMenu:f=>{const h=this.registerMenu(f);return o.push(h),h}}),this.toDispose.push(o),o}}onStart(){const i=this.contributionProvider.getContributions();for(const o of i)o.registerMenu(this)}onStop(){this.toDispose.dispose()}registerMenu(i){return this.menuMap.set(i.id,i),K.create(()=>this.menuMap.delete(i.id))}};(0,g.gn)([(0,d.contrib)(qS),(0,g.w6)("design:type",Object)],sC.prototype,"contributionProvider",void 0),sC=(0,g.gn)([(0,d.singleton)({contrib:[Vo,xO]})],sC);const EO=()=>(0,d.Module)(n=>{d.Contribution.register(n,qS),n(sC)}),xx=n=>{const{}=n,i=ui();return x.useEffect(()=>{const o=i.addCoreModule({config:{CONFIG_TYPE:"MenuRegistry",getConfig:()=>(0,g.mG)(void 0,void 0,void 0,function*(){})},createModule:EO});return()=>{o.dispose()}},[]),null};xx.defaultProps={XFlowModuleType:"MenuRegistry"};const eM=n=>{const{meta:i,graphConfig:o,graphData:s,graphLayout:f,onLoad:h,isAutoCenter:C,hookConfig:S,modelServiceConfig:T,commandConfig:D,onAppConfigReady:B,onAppDestroy:H,children:ce=[],className:de,style:me}=n,[xe,Se]=x.useState(),We=x.useRef(null),nt=ci();x.useEffect(()=>{B&&B(nt);const Pn=nl(nt);Pn.start().then(()=>(0,g.mG)(void 0,void 0,void 0,function*(){var xi;Se(Pn),(xi=nt.getExtension("GraphConfig"))===null||xi===void 0||xi.config.setAppContainer(We.current),i&&(yield Pn.commandService.executeCommand(be.LOAD_META.id,{meta:i})),h&&h(Pn,nt),s&&(f&&(yield Pn.commandService.executeCommand(be.GRAPH_LAYOUT.id,Object.assign({graphData:s},f))),yield Pn.commandService.executeCommand(be.GRAPH_RENDER.id,{graphData:s}))}));const Tr=()=>(0,g.mG)(void 0,void 0,void 0,function*(){H&&H(Pn)});return()=>{Tr()}},[]),x.useEffect(()=>{xe&&xe.commandService.executeCommand(be.LOAD_META.id,{meta:i})},[i]),x.useEffect(()=>{(0,g.mG)(void 0,void 0,void 0,function*(){xe&&(s&&f&&(yield xe.commandService.executeCommand(be.GRAPH_LAYOUT.id,Object.assign({graphData:s},f))),yield xe.commandService.executeCommand(be.GRAPH_RENDER.id,{graphData:s}),C&&(yield xe.getGraphInstance()).centerContent())})},[s]);const Gt=E()("xflow-app-workspace",de,...nt.getContainerClassNames()),wn=(Array.isArray(ce)?ce:[ce]).some(Pn=>Pn&&Pn.props.isXFlowCanvas);return x.createElement(Qe,{app:xe},x.createElement(Yi.Provider,{value:nt},x.createElement("div",{className:Gt,id:nt.getInstanceId(),ref:We,style:me},!wn&&x.createElement(nc,{config:o,position:{top:0,bottom:0,left:0,right:0}}),ce,x.createElement(_s,{config:T}),x.createElement(pO,{config:D}),x.createElement(go,{config:S}),x.createElement(bx,null),x.createElement(xx,null))))};eM.defaultProps={};var VO=null;const wO=n=>n&&n.current,Ex=()=>{const n=x.useRef(!0);return x.useEffect(()=>()=>{n.current=!1},[]),n},tM=n=>{const i=Ex(),[o,s]=x.useState(n.getValue());x.useEffect(()=>{const S=n.watch(T=>{wO(i)&&s(T)});return()=>{S.dispose()}},[s]);const f=o,h=Io.isValidValue(f),C=x.useCallback(S=>n.setValue(S),[n]);return[f,C,h]},SO=n=>{const i=x.useMemo(()=>new qo(n),[]),[o,s,f]=tM(i);return x.useEffect(()=>()=>{i.dispose()},[i]),[o,s,i,f]},MO=n=>{const{getModel:i,initialState:o}=n,s=Ex(),f=x.useRef(),[h,C]=x.useState(o);return x.useEffect(()=>{let S;return i().then(T=>(0,g.mG)(void 0,void 0,void 0,function*(){f.current=T;const D=yield T.getValidValue();s.current&&(C(D),S=T.watch(B=>{s.current&&C(B)}))})),()=>{S&&S.dispose&&S.dispose()}},[]),[h,C,f.current]},PO=Symbol("IKeyBindingService"),nM=d.Syringe.defineToken("IKeyBindingContribution"),rM=Symbol("IKeyBindingOptionProvider");let nv=class{constructor(){this.toDispose=new Y,this.keyBindingMap=new Map,this.enabledKeyBindingMap=new Map,this.registerExternalKeybindings=()=>(0,g.mG)(this,void 0,void 0,function*(){const{registerKeybindingFunc:i}=yield this.optionProvider.getOption();return i(this)}),this.registerKeybinding=(i=[])=>{const o=new Y;return i.forEach(s=>{this.keyBindingMap.set(s.id,s),this.enableKeyBindings(s.id).then(f=>{o.push(K.create(()=>{f.dispose(),this.keyBindingMap.delete(s.id)}))})}),this.toDispose.push(o),o},this.enableKeyBindings=i=>(0,g.mG)(this,void 0,void 0,function*(){this.disableKeyBindings([i]);const o=this.keyBindingMap.get(i),s=yield this.getX6Graph(),f=this.runCommand(o);s.bindKey(o.keybinding,f);const h=K.create(()=>{s.unbindKey(o.keybinding),this.enabledKeyBindingMap.delete(o.id)});return this.enabledKeyBindingMap.set(o.id,h),h}),this.disableKeyBindings=i=>{i.forEach(o=>{const s=this.enabledKeyBindingMap.get(o);s&&s.dispose()})},this.runCommand=i=>o=>(0,g.mG)(this,void 0,void 0,function*(){yield i.callback(i,this.modelService,this.commandService,o)}),this.getX6Graph=()=>(0,g.mG)(this,void 0,void 0,function*(){return yield this.graphProvider.getGraphInstance()})}onStart(){const i=this.contributionProvider.getContributions();for(const o of i)o.registerKeybinding(this);this.registerExternalKeybindings()}onStop(){this.toDispose.dispose()}};(0,g.gn)([(0,d.inject)(rM),(0,g.w6)("design:type",Object)],nv.prototype,"optionProvider",void 0),(0,g.gn)([(0,d.inject)(jo),(0,g.w6)("design:type",Object)],nv.prototype,"commandService",void 0),(0,g.gn)([(0,d.inject)(Bo),(0,g.w6)("design:type",Object)],nv.prototype,"modelService",void 0),(0,g.gn)([(0,d.contrib)(nM),(0,g.w6)("design:type",Object)],nv.prototype,"contributionProvider",void 0),(0,g.gn)([(0,d.inject)(cs),(0,g.w6)("design:type",Object)],nv.prototype,"graphProvider",void 0),nv=(0,g.gn)([(0,d.singleton)({contrib:[Vo,PO]})],nv);const TO=(n,i)=>{n(rM,{useDynamic:()=>({getOption:()=>(0,g.mG)(void 0,void 0,void 0,function*(){return i.getConfig()})}),lifecycle:d.Syringe.Lifecycle.singleton})},OO=n=>(0,d.Module)(i=>{TO(i,n),d.Contribution.register(i,nM),i(nv)});var wx;(function(n){n.CONFIG_TYPE="CONTEXT_CONFIG"})(wx||(wx={}));const iM=()=>K.create(()=>{});class Sx{constructor(){this.CONFIG_TYPE=wx.CONFIG_TYPE,this.keybindingFunc=iM,this.isMounted=new re,this.setKeybindingFunc=i=>{this.keybindingFunc=i},this.setMountState=()=>{this.isMounted.resolve(!0)},this.getConfig=()=>(0,g.mG)(this,void 0,void 0,function*(){return yield this.isMounted.promise,{CONFIG_TYPE:this.CONFIG_TYPE,registerKeybindingFunc:this.keybindingFunc}}),this.dispose=()=>{this.keybindingFunc=iM,this.isMounted=new re}}}const _O=n=>{const{config:i}=n,o=ui(),s=x.useMemo(()=>i||new Sx,[i]);return x.useEffect(()=>{const f=o.addCoreModule({config:s,createModule:OO});return s.setMountState(),()=>{f.dispose(),s.dispose()}},[o,s]),null},AO=n=>i=>{const o=x.useMemo(()=>({getValue:()=>({})}),[]);return o.getValue=()=>i,x.useMemo(()=>{const f=new Sx;return n(f,o),f},[o])};function DO(n){return new Promise(i=>setTimeout(()=>i(!0),n))}var lC=l(63783);class NO{constructor(){this.map=new Map([["default",lC.Z],["QuestionCircleOutlined",lC.Z]]),this.map.set("default",lC.Z),this.map.set("QuestionCircleOutlined",lC.Z)}get(i){return this.map.get(i)}set(i,o){this.map.set(i,o)}has(i){return this.map.has(i)}}const RO=new NO;var jO=null},67309:function(j,M,l){"use strict";l.r(M),l.d(M,{COMMAND_GLOBALS:function(){return Oe},COMMAND_REDOABLE:function(){return ie},COMMAND_UNDOABLE:function(){return ve},CONTEXTMENU_EDGE:function(){return Y},CONTEXTMENU_NODE:function(){return K},CONTEXTMENU_TARGET:function(){return re},GRAPH_ENABLE_MULTI_SELECT:function(){return x},GRAPH_FULLSCREEN:function(){return A},GRAPH_META:function(){return fe},GRAPH_SCALE:function(){return le},HISTORY_REDOABLE:function(){return Pe},HISTORY_UNDOABLE:function(){return L},IS_GROUP_SELECTED:function(){return w},IS_NODE_SELECTED:function(){return E},IS_NORMAL_NODES_SELECTED:function(){return k},SELECTED_CELL:function(){return Z},SELECTED_CELLS:function(){return U},SELECTED_EDGES:function(){return Q},SELECTED_GROUPS:function(){return J},SELECTED_NODE:function(){return $},SELECTED_NODES:function(){return te},getModelUtil:function(){return m},isModelExistUtil:function(){return d},useModelValueUtil:function(){return g}});var v=l(97582);const d=pe=>Be=>{const je=Be.findDeferredModel(pe);return!!(je&&je.promise)},m=pe=>Be=>(0,v.mG)(void 0,void 0,void 0,function*(){return yield Be.awaitModel(pe)}),g=pe=>Be=>(0,v.mG)(void 0,void 0,void 0,function*(){return(yield Be.awaitModel(pe)).getValidValue()});var x;(function(pe){pe.id="GRAPH_ENABLE_MULTI_SELECT",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(x||(x={}));var A;(function(pe){pe.id="GRAPH_FULLSCREEN",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(A||(A={}));var E;(function(pe){pe.id="IS_NODE_SELECTED",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(E||(E={}));var w;(function(pe){pe.id="IS_GROUP_SELECTED",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(w||(w={}));var k;(function(pe){pe.id="IS_NORMAL_NODES_SELECTED",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(k||(k={}));var Z;(function(pe){pe.id="LAST_SELECTED_CELL",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(Z||(Z={}));var U;(function(pe){pe.id="SELECTED_CELLS",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(U||(U={}));var $;(function(pe){pe.id="LAST_SELECTED_NODE",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})($||($={}));var te;(function(pe){pe.id="SELECTED_NODES",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(te||(te={}));var Q;(function(pe){pe.id="SELECTED_EDGES",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(Q||(Q={}));var J;(function(pe){pe.id="SELECTED_GROUPS",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(J||(J={}));var K;(function(pe){pe.id="CONTEXTMENU_NODE",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(K||(K={}));var Y;(function(pe){pe.id="CONTEXTMENU_EDGE",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(Y||(Y={}));var re;(function(pe){pe.id="CONTEXTMENU_TARGET",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(re||(re={}));var fe;(function(pe){pe.id="GRAPH_META",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(fe||(fe={}));var le;(function(pe){pe.id="GRAPH_SCALE",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(le||(le={}));var ie;(function(pe){pe.id="COMMAND_REDOABLE",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(ie||(ie={}));var ve;(function(pe){pe.id="COMMAND_UNDOABLE",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(ve||(ve={}));var Oe;(function(pe){pe.id="COMMAND_GLOBALS",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(Oe||(Oe={}));var L;(function(pe){pe.id="HISTORY_UNDOABLE",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(L||(L={}));var Pe;(function(pe){pe.id="HISTORY_REDOABLE",pe.getModel=m(pe.id),pe.useValue=g(pe.id)})(Pe||(Pe={}))},39559:function(j,M,l){"use strict";l.d(M,{nZ:function(){return re},bu:function(){return Y},AM:function(){return x},GW:function(){return Q},kx:function(){return $},Fg:function(){return fe},Le:function(){return J},_$:function(){return w},cl:function(){return g}});var v=l(97582),d=l(96486);const m={config:{}},g=le=>{m.config=Object.assign({},m.config,le)},x=le=>{var ie;return(ie=m.config)===null||ie===void 0?void 0:ie[le]},A=new Map,E=new Map,w=le=>(0,v.mG)(void 0,void 0,void 0,function*(){const ie=yield le.getGraphInstance();A.set("x6graph",ie),E.set("app",le)}),k=()=>A.get("x6graph"),Z=()=>E.get("app"),U=()=>(0,v.mG)(void 0,void 0,void 0,function*(){return Z().getGraphData()}),$=(0,d.debounce)(le=>{const ie=x("onConfigChange");if(!(!ie||typeof ie!="function"))return ie(Object.assign({data:U()},le))},300,{trailing:!0});var te=l(58167);const Q=(le,ie)=>(0,v.mG)(void 0,void 0,void 0,function*(){const{node:ve}=le;if(!ve)return;const{data:Oe}=ve;if(Oe!=null&&Oe.groupChildren){const Pe=k();Oe==null||Oe.groupChildren.forEach(pe=>(0,v.mG)(void 0,void 0,void 0,function*(){var Be,je;const he=Pe.getCellById(pe);he&&he.isNode()&&(yield ie.executeCommand(te.cE.UPDATE_NODE.id,{nodeConfig:Object.assign(Object.assign(Object.assign({},he.data),(Be=he.getSize)===null||Be===void 0?void 0:Be.call(he)),(je=he.getPosition)===null||je===void 0?void 0:je.call(he))}))}))}const L=Object.assign(Object.assign(Object.assign({},ve.data),ve.getPosition()),ve.getSize());yield ie.executeCommand(te.cE.UPDATE_NODE.id,{nodeConfig:L}),$({type:"move:node",config:L})}),J=(le,ie)=>(0,v.mG)(void 0,void 0,void 0,function*(){const{node:ve}=le;if(!ve)return;const Oe=Object.assign(Object.assign(Object.assign({},ve.data),ve.getPosition()),ve.size());yield ie.executeCommand(te.cE.UPDATE_NODE.id,{nodeConfig:Oe}),$({type:"resize:node",config:Oe})}),K=le=>{var ie;let ve=(ie=le==null?void 0:le.e)===null||ie===void 0?void 0:ie.currentTarget;if(!ve)return document.getElementsByClassName("xflow-canvas-root");let Oe=null;for(;!Oe;){const L=ve.getElementsByClassName("xflow-canvas-root");(L==null?void 0:L.length)>0&&(Oe=L),ve=ve.parentNode}return Oe},Y=(le,ie)=>{const ve=K(ie);Array.from(ve).forEach(Oe=>{var L,Pe;const pe=Oe.querySelectorAll(".x6-port-body"),je=(Pe=(L=k().getSelectedCells())===null||L===void 0?void 0:L[0])===null||Pe===void 0?void 0:Pe.isNode();for(let he=0,st=pe.length;he<st;he=he+1)pe[he].style.visibility=!je&&le?"visible":"hidden"})},re=le=>(0,v.mG)(void 0,void 0,void 0,function*(){const{edge:ie}=le;ie&&ie.addTools("vertices","ondbclick")}),fe=(le,ie)=>(0,v.mG)(void 0,void 0,void 0,function*(){const{edge:ve}=le;ve&&ve.hasTools("ondbclick")&&(ie.executeCommand(te.$b.UPDATE_EDGE.id,{edgeConfig:Object.assign(Object.assign({},(0,d.get)(ve,"data")),{vertices:ve.getVertices()})}),ve.removeTools())})},39786:function(j,M,l){"use strict";l.d(M,{CQ:function(){return E},M8:function(){return x},X_:function(){return k},nK:function(){return g},o$:function(){return A},oI:function(){return w},oO:function(){return v},pN:function(){return m},rC:function(){return d}});const v=40,d="xflow-node-panel-collpase",m="GROUP_NODE_RENDER_ID",g=60,x=40,A=1,E={stroke:"#A2B1C3",fill:"#FFFFFF",fontFill:"#000",fontSize:12,label:""},w=[{name:"Terminal"},{name:"Process"},{name:"Decision"},{name:"Multi Document"},{name:"Connector",width:x,height:x},{name:"DataIO",ports:["top","bottom"]},{name:"Database"},{name:"Hard Disk"},{name:"Stroed Data"},{name:"Document"},{name:"Predefined Process"},{name:"Extract"},{name:"Merge"},{name:"Or",width:x,height:x},{name:"Manual Input"},{name:"Preparation"},{name:"Delay"},{name:"Manual Operation"},{name:"Display"},{name:"Off Page Link"},{name:"Note Left",label:"\u2263"},{name:"Note Right",label:"\u2263"},{name:"Internal Storage"},{name:"Text",label:"text"}],k=["Connector","Or"]},2850:function(j,M,l){"use strict";l.d(M,{Ep:function(){return bt},Be:function(){return Ve},wu:function(){return Me},vc:function(){return Qe}});var v={};l.r(v),l.d(v,{ConnectorNode:function(){return Z},DataIONode:function(){return U},DatabaseNode:function(){return te},DecisionNode:function(){return k},DelayNode:function(){return L},DisplayNode:function(){return pe},DocumentNode:function(){return K},ExtractNode:function(){return fe},HardDiskNode:function(){return Q},InternalStorageNode:function(){return st},ManualInputNode:function(){return ve},ManualOperationNode:function(){return Pe},MergeNode:function(){return le},MultiDocumentNode:function(){return Y},NoteLeftNode:function(){return je},NoteRightNode:function(){return he},OffPageLinkNode:function(){return Be},OrNode:function(){return ie},PredefinedProcessNode:function(){return re},PreparationNode:function(){return Oe},ProcessNode:function(){return w},StroedDataNode:function(){return J},TerminalNode:function(){return $},TextNode:function(){return en}});var d=l(97582),m=l(58167),g=l(96486),x=l(39559),A=l(67294),E=l(39786);const w=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=[["M",E.o$,E.o$],["L",Lt-2*E.o$,E.o$],["L",Lt-2*E.o$,Dt-2*E.o$],["L",E.o$,Dt-2*E.o$],["Z"]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(lt),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},k=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=[["M",Lt/2,E.o$],["L",Lt-2*E.o$,Dt/2],["L",Lt/2,Dt-2*E.o$],["L",E.o$,Dt/2],["Z"]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(lt),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},Z=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Dt-2*E.o$;return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:`M ${E.o$},${Dt/2} a ${lt/2} ${lt/2} 0 1 1 0 1 z`,fill:ht,stroke:Ne}),A.createElement("text",{x:Dt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},U=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Dt/2,Ft=[["M",lt-E.o$,E.o$],["L",Lt-2*E.o$,E.o$],["L",Lt-lt,Dt-2*E.o$],["L",E.o$,Dt-2*E.o$],["Z"]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(Ft),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},$=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Math.min(Dt,Lt)/2,Ft=[["M",lt,E.o$],["L",Lt-lt,E.o$],["C",Lt-2*E.o$,E.o$,Lt-2*E.o$,Dt/2],["",Lt-2*E.o$,Dt/2],["C",Lt-2*E.o$,Dt/2,Lt-2*E.o$,Dt-2*E.o$],["",Lt-lt,Dt-2*E.o$],["L",lt,Dt-2*E.o$],["C",E.o$,Dt-2*E.o$,E.o$,Dt/2],["",E.o$,Dt/2],["C",E.o$,Dt/2,E.o$,E.o$],["",lt,E.o$]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(Ft),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},te=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Lt/4,Ft=Math.min(Dt/10,12),qt=[["M",E.o$,E.o$+Ft],["C",E.o$+lt,E.o$,E.o$+Lt-lt,E.o$],["",Lt-2*E.o$,E.o$+Ft],["L",Lt-2*E.o$,Dt-2*E.o$-Ft],["C",Lt-2*E.o$-lt,Dt-2*E.o$,E.o$+lt,Dt-2*E.o$],["",E.o$,Dt-2*E.o$-Ft],["Z"]],Nn=[["M",E.o$,E.o$+Ft],["C",E.o$+lt,E.o$+2*Ft,E.o$+Lt-lt,E.o$+2*Ft],["",Lt-2*E.o$,E.o$+Ft]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(qt),fill:ht,stroke:Ne}),A.createElement("path",{d:bt(Nn),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},Q=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Math.min(Lt/10,Dt/4),Ft=Math.min(Dt/4,Lt/4),qt=[["M",E.o$+lt,E.o$],["L",Lt-2*E.o$-lt,E.o$],["C",Lt-2*E.o$,E.o$+Ft,Lt-2*E.o$,Dt-2*E.o$-Ft],["",Lt-2*E.o$-lt,Dt-2*E.o$],["L",E.o$+lt,Dt-2*E.o$],["C",E.o$,Dt-2*E.o$-Ft,E.o$,E.o$+Ft],["",E.o$+lt,E.o$]],Nn=[["M",Lt-2*E.o$-lt,E.o$],["C",Lt-2*E.o$-2*lt,E.o$+Ft,Lt-2*E.o$-2*lt,Dt-2*E.o$-Ft],["",Lt-2*E.o$-lt,Dt-2*E.o$]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(qt),fill:ht,stroke:Ne}),A.createElement("path",{d:bt(Nn),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},J=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Math.min(Lt/10,Dt/4),Ft=Math.min(Dt/4,Lt/4),qt=[["M",E.o$+lt,E.o$],["L",Lt-2*E.o$-lt,E.o$],["C",Lt-2*E.o$-2*lt,E.o$+Ft,Lt-2*E.o$-2*lt,Dt-2*E.o$-Ft],["",Lt-2*E.o$-lt,Dt-2*E.o$],["L",E.o$+lt,Dt-2*E.o$],["C",E.o$,Dt-2*E.o$-Ft,E.o$,E.o$+Ft],["",E.o$+lt,E.o$]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(qt),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},K=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Lt/8,Ft=Dt/8,qt=[["M",E.o$,E.o$],["L",Lt-2*E.o$,E.o$],["L",Lt-2*E.o$,Dt-2*E.o$-Ft],["C",Lt-2*E.o$-lt,Dt-2*E.o$-2*Ft,Lt/2+lt,Dt-2*E.o$-2*Ft],["",Lt/2,Dt-2*E.o$-Ft],["S",Lt/4,Dt-2*E.o$,E.o$,Dt-2*E.o$-2*Ft],["L",E.o$,E.o$]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(qt),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},Y=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,Lt=6,Dt=E.o$,lt=Lt/2;let{width:Ft,height:qt}=Ae;Ft+=Lt,qt+=Lt;const Nn=Ft/8,kn=qt/8,An=[["M",Dt+lt,Dt],["L",Ft-2*Dt,Dt],["L",Ft-2*Dt,qt-2*Dt-kn],["C",Ft-2*Dt-Nn,qt-2*Dt-2*kn,Ft/2+Nn,qt-2*Dt-2*kn],["",Ft/2,qt-2*Dt-kn],["S",Ft/4,qt-2*Dt,Dt+lt,qt-2*Dt-2*kn],["L",Dt+lt,Dt]];return A.createElement("svg",{viewBox:`0 0 ${Ft} ${qt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(An),fill:ht,stroke:Ne}),A.createElement("path",{d:bt(An,-Lt/2,Lt/2),fill:ht,stroke:Ne}),A.createElement("text",{x:Ft/2,y:qt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},re=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Lt/8,Ft=[["M",E.o$,E.o$],["L",Lt-2*E.o$,E.o$],["L",Lt-2*E.o$,Dt-2*E.o$],["L",E.o$,Dt-2*E.o$],["Z"]],qt=[["M",lt,E.o$],["L",lt,Dt-2*E.o$]],Nn=[["M",Lt-lt,E.o$],["L",Lt-lt,Dt-2*E.o$]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(Ft),fill:ht,stroke:Ne}),A.createElement("path",{d:bt(qt),stroke:Ne}),A.createElement("path",{d:bt(Nn),stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},fe=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=[["M",Lt/2,E.o$],["L",Lt-2*E.o$,Dt-2*E.o$],["L",E.o$,Dt-2*E.o$],["Z"]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(lt),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},le=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=[["M",E.o$,E.o$],["L",Lt-2*E.o$,E.o$],["L",Lt/2,Dt-2*E.o$],["Z"]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(lt),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},ie=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=[["M",Dt/2,E.o$],["L",Dt/2,Dt-2*E.o$]],Ft=[["M",E.o$,Dt/2],["L",Dt-2*E.o$,Dt/2]],qt=Dt-2*E.o$;return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:`M ${E.o$},${Dt/2} a ${qt/2} ${qt/2} 0 1 1 0 1 z`,fill:ht,stroke:Ne}),A.createElement("path",{d:bt(lt),stroke:Ne}),A.createElement("path",{d:bt(Ft),stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},ve=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=[["M",E.o$,Dt/5],["L",Lt-2*E.o$,E.o$],["L",Lt-2*E.o$,Dt-2*E.o$],["L",E.o$,Dt-2*E.o$],["Z"]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(lt),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},Oe=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Math.tan(Math.PI/6)*(Dt/2),Ft=[["M",lt,E.o$],["L",Lt-lt,E.o$],["L",Lt-2*E.o$,Dt/2],["L",Lt-lt,Dt-2*E.o$],["L",lt,Dt-2*E.o$],["L",E.o$,Dt/2],["Z"]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(Ft),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},L=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Math.min(Dt,Lt)/2,Ft=[["M",E.o$,E.o$],["L",Lt-lt,E.o$],["C",Lt-2*E.o$,E.o$,Lt-2*E.o$,Dt/2],["",Lt-2*E.o$,Dt/2],["C",Lt-2*E.o$,Dt/2,Lt-2*E.o$,Dt-2*E.o$],["",Lt-lt,Dt-2*E.o$],["L",E.o$,Dt-2*E.o$],["Z"]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(Ft),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},Pe=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Math.min(Math.tan(Math.PI/6)*Dt,Lt/2),Ft=[["M",E.o$,E.o$],["L",Lt-2*E.o$,E.o$],["L",Lt-lt,Dt-2*E.o$],["L",lt,Dt-2*E.o$],["Z"]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(Ft),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},pe=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Math.min(Dt,Lt)/3,Ft=Math.min(Math.tan(Math.PI/6)*(Dt/2),Lt/3),qt=[["M",Ft,E.o$],["L",Lt-lt,E.o$],["C",Lt-2*E.o$,E.o$,Lt-2*E.o$,Dt/2],["",Lt-2*E.o$,Dt/2],["C",Lt-2*E.o$,Dt/2,Lt-2*E.o$,Dt-2*E.o$],["",Lt-lt,Dt-2*E.o$],["L",Ft,Dt-2*E.o$],["L",E.o$,Dt/2],["Z"]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(qt),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},Be=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Math.min(Math.tan(Math.PI/6)*(Lt/2),Dt/4),Ft=[["M",E.o$,E.o$],["L",Lt-2*E.o$,E.o$],["L",Lt-2*E.o$,Dt-lt],["L",Lt/2,Dt-2*E.o$],["L",E.o$,Dt-lt],["Z"]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(Ft),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},je=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht="transparent",fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=6,Ft=Lt-2*E.o$,qt=[["M",Ft,E.o$],["C",Ft-lt,E.o$,Ft-lt,lt],["",Ft-lt,(Dt-lt)/2],["L",Ft-2*lt,Dt/2],["L",Ft-lt,(Dt+lt)/2],["L",Ft-lt,Dt-2*E.o$-lt],["C",Ft-lt,Dt-2*E.o$,Ft,Dt-2*E.o$],["",Ft,Dt-2*E.o$]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(qt),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},he=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht="transparent",fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=6,Ft=[["M",E.o$,E.o$],["C",lt,E.o$,lt,lt],["",lt,(Dt-lt)/2],["L",2*lt,Dt/2],["L",lt,(Dt+lt)/2],["L",lt,Dt-2*E.o$-lt],["C",lt,Dt-2*E.o$,E.o$,Dt-2*E.o$],["",E.o$,Dt-2*E.o$]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(Ft),fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},st=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{stroke:Ne=E.CQ.stroke,label:Re=E.CQ.label,fill:ht=E.CQ.fill,fontFill:Wt=E.CQ.fontFill,fontSize:Yt=E.CQ.fontSize}=be,{width:Lt,height:Dt}=Ae,lt=Lt-2*E.o$,Ft=Dt-2*E.o$,qt=6,Nn=[["M",E.o$,E.o$],["L",lt-qt,E.o$],["C",lt,E.o$,lt,qt],["",lt,Dt/2],["L",lt,Ft-qt],["C",lt,Ft,lt-qt,Ft],["",lt-qt,Ft],["L",qt,Ft],["C",E.o$,Ft,E.o$,Ft-qt],["",E.o$,Ft-qt],["Z"]];return A.createElement("svg",{viewBox:`0 0 ${Lt} ${Dt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("path",{d:bt(Nn),fill:ht,stroke:Ne}),A.createElement("path",{d:`M ${E.o$},${qt} L ${lt-1} ${qt} `,fill:ht,stroke:Ne}),A.createElement("path",{d:`M ${qt},${E.o$} L ${qt} ${Ft} `,fill:ht,stroke:Ne}),A.createElement("text",{x:Lt/2,y:Dt/2,fill:Wt,textAnchor:"middle",alignmentBaseline:"middle",fontSize:Yt},Re),"Sorry, your browser does not support inline SVG.")},en=Ge=>{const{size:Ae={width:E.nK,height:E.M8},data:be={}}=Ge,{label:Ne=E.CQ.label,fontFill:Re=E.CQ.fontFill,fontSize:ht=E.CQ.fontSize}=be,{width:Wt,height:Yt}=Ae,Lt=2;return A.createElement("svg",{viewBox:`0 0 ${Wt/Lt} ${Yt/Lt}`,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},A.createElement("text",{x:Wt/(2*Lt),y:Yt/(2*Lt),fill:Re,textAnchor:"middle",alignmentBaseline:"middle",fontSize:ht},Ne),"Sorry, your browser does not support inline SVG.")},vn=Ge=>({position:{name:Ge},attrs:{circle:{r:4,magnet:!0,stroke:"#31d0c6",strokeWidth:2,fill:"#fff",style:{visibility:"hidden"}}},zIndex:10}),Mt=(Ge=["top","right","bottom","left"])=>({items:Ge.map(Ae=>({group:Ae,id:(0,m.k$)()})),groups:{top:vn("top"),right:vn("right"),bottom:vn("bottom"),left:vn("left")}}),It=Ge=>(Ge||[]).map(Ae=>{const{name:be,popover:Ne,label:Re="",width:ht=E.M8,height:Wt=E.M8,ports:Yt,parentKey:Lt}=Ae;return{id:(0,m.k$)(),renderKey:be,name:be,label:Re,popoverContent:Ne,width:ht,height:Wt,ports:Yt||Mt(),originData:Object.assign({},Ae),isCustom:!0,parentKey:Lt}}),Ve=Ge=>(0,d.mG)(void 0,void 0,void 0,function*(){return[...It(Ge),...E.oI.map(({name:be,ports:Ne,width:Re=E.nK,height:ht=E.M8,label:Wt=""})=>({id:(0,m.k$)(),renderKey:be,name:be,label:Wt,popoverContent:()=>be,width:Re,height:ht,ports:Mt(Ne)}))]}),Me=Ge=>{const Ae=Ge?(0,g.isArray)(Ge)?Ge:[Ge]:[];let be=[];Ae.forEach(ht=>{be=be.concat(ht.nodes.map(Wt=>Object.assign(Object.assign({},Wt),{parentKey:ht.key})))}),be.length&&(0,x.cl)({registerNode:be});const Ne=(0,x.AM)("graphConfig"),Re=(0,x.AM)("registerNode");!Ne||!(Re!=null&&Re.length)||Re.forEach(ht=>{const{name:Wt,component:Yt}=ht;Ne.setNodeRender(Wt,Yt)})},Qe=Ge=>{Me(),Ge.nodeRender.get("Terminal")||E.oI.forEach(Ae=>{Ge.setNodeRender(Ae.name,v[`${Ae.name.replace(/\s+/g,"")}Node`])})},bt=(Ge,Ae=0,be=0)=>{if(!Ge.length)return null;let Ne="";return Ge.forEach(Re=>{const[ht,Wt,Yt,Lt,Dt]=Re;Ne+=(0,g.isNumber)(Yt)?` ${ht} ${Wt+Ae} ${Yt+be}`:` ${ht}`,Dt&&(Ne+=` ${Lt+Ae} ${Dt+be}`)}),Ne}},508:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.AlphaPicker=void 0;var v=Object.assign||function(U){for(var $=1;$<arguments.length;$++){var te=arguments[$];for(var Q in te)Object.prototype.hasOwnProperty.call(te,Q)&&(U[Q]=te[Q])}return U},d=l(67294),m=k(d),g=l(79941),x=k(g),A=l(17840),E=l(25532),w=k(E);function k(U){return U&&U.__esModule?U:{default:U}}var Z=M.AlphaPicker=function($){var te=$.rgb,Q=$.hsl,J=$.width,K=$.height,Y=$.onChange,re=$.direction,fe=$.style,le=$.renderers,ie=$.pointer,ve=$.className,Oe=ve===void 0?"":ve,L=(0,x.default)({default:{picker:{position:"relative",width:J,height:K},alpha:{radius:"2px",style:fe}}});return m.default.createElement("div",{style:L.picker,className:"alpha-picker "+Oe},m.default.createElement(A.Alpha,v({},L.alpha,{rgb:te,hsl:Q,pointer:ie,renderers:le,onChange:Y,direction:re})))};Z.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:w.default},M.default=(0,A.ColorWrap)(Z)},25532:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.AlphaPointer=void 0;var v=l(67294),d=x(v),m=l(79941),g=x(m);function x(E){return E&&E.__esModule?E:{default:E}}var A=M.AlphaPointer=function(w){var k=w.direction,Z=(0,g.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:k==="vertical"});return d.default.createElement("div",{style:Z.picker})};M.default=A},46835:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Block=void 0;var v=l(67294),d=Q(v),m=l(45697),g=Q(m),x=l(79941),A=Q(x),E=l(82492),w=Q(E),k=l(27200),Z=Q(k),U=l(17840),$=l(68959),te=Q($);function Q(K){return K&&K.__esModule?K:{default:K}}var J=M.Block=function(Y){var re=Y.onChange,fe=Y.onSwatchHover,le=Y.hex,ie=Y.colors,ve=Y.width,Oe=Y.triangle,L=Y.styles,Pe=L===void 0?{}:L,pe=Y.className,Be=pe===void 0?"":pe,je=le==="transparent",he=function(vn,Mt){Z.default.isValidHex(vn)&&re({hex:vn,source:"hex"},Mt)},st=(0,A.default)((0,w.default)({default:{card:{width:ve,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:le,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Z.default.getContrastingColor(le),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+le+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},Pe),{"hide-triangle":Oe==="hide"});return d.default.createElement("div",{style:st.card,className:"block-picker "+Be},d.default.createElement("div",{style:st.triangle}),d.default.createElement("div",{style:st.head},je&&d.default.createElement(U.Checkboard,{borderRadius:"6px 6px 0 0"}),d.default.createElement("div",{style:st.label},le)),d.default.createElement("div",{style:st.body},d.default.createElement(te.default,{colors:ie,onClick:he,onSwatchHover:fe}),d.default.createElement(U.EditableInput,{style:{input:st.input},value:le,onChange:he})))};J.propTypes={width:g.default.oneOfType([g.default.string,g.default.number]),colors:g.default.arrayOf(g.default.string),triangle:g.default.oneOf(["top","hide"]),styles:g.default.object},J.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},M.default=(0,U.ColorWrap)(J)},68959:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BlockSwatches=void 0;var v=l(67294),d=w(v),m=l(79941),g=w(m),x=l(35161),A=w(x),E=l(17840);function w(Z){return Z&&Z.__esModule?Z:{default:Z}}var k=M.BlockSwatches=function(U){var $=U.colors,te=U.onClick,Q=U.onSwatchHover,J=(0,g.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return d.default.createElement("div",{style:J.swatches},(0,A.default)($,function(K){return d.default.createElement(E.Swatch,{key:K,color:K,style:J.swatch,onClick:te,onHover:Q,focusStyle:{boxShadow:"0 0 4px "+K}})}),d.default.createElement("div",{style:J.clear}))};M.default=k},17339:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Chrome=void 0;var v=l(67294),d=K(v),m=l(45697),g=K(m),x=l(79941),A=K(x),E=l(82492),w=K(E),k=l(17840),Z=l(4575),U=K(Z),$=l(37634),te=K($),Q=l(36052),J=K(Q);function K(re){return re&&re.__esModule?re:{default:re}}var Y=M.Chrome=function(fe){var le=fe.width,ie=fe.onChange,ve=fe.disableAlpha,Oe=fe.rgb,L=fe.hsl,Pe=fe.hsv,pe=fe.hex,Be=fe.renderers,je=fe.styles,he=je===void 0?{}:je,st=fe.className,en=st===void 0?"":st,vn=(0,A.default)((0,w.default)({default:{picker:{width:le,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+Oe.r+", "+Oe.g+", "+Oe.b+", "+Oe.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},he),{disableAlpha:ve});return d.default.createElement("div",{style:vn.picker,className:"chrome-picker "+en},d.default.createElement("div",{style:vn.saturation},d.default.createElement(k.Saturation,{style:vn.Saturation,hsl:L,hsv:Pe,pointer:J.default,onChange:ie})),d.default.createElement("div",{style:vn.body},d.default.createElement("div",{style:vn.controls,className:"flexbox-fix"},d.default.createElement("div",{style:vn.color},d.default.createElement("div",{style:vn.swatch},d.default.createElement("div",{style:vn.active}),d.default.createElement(k.Checkboard,{renderers:Be}))),d.default.createElement("div",{style:vn.toggles},d.default.createElement("div",{style:vn.hue},d.default.createElement(k.Hue,{style:vn.Hue,hsl:L,pointer:te.default,onChange:ie})),d.default.createElement("div",{style:vn.alpha},d.default.createElement(k.Alpha,{style:vn.Alpha,rgb:Oe,hsl:L,pointer:te.default,renderers:Be,onChange:ie})))),d.default.createElement(U.default,{rgb:Oe,hsl:L,hex:pe,onChange:ie,disableAlpha:ve})))};Y.propTypes={width:g.default.oneOfType([g.default.string,g.default.number]),disableAlpha:g.default.bool,styles:g.default.object},Y.defaultProps={width:225,disableAlpha:!1,styles:{}},M.default=(0,k.ColorWrap)(Y)},4575:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ChromeFields=void 0;var v=function(){function K(Y,re){for(var fe=0;fe<re.length;fe++){var le=re[fe];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(Y,le.key,le)}}return function(Y,re,fe){return re&&K(Y.prototype,re),fe&&K(Y,fe),Y}}(),d=l(67294),m=U(d),g=l(79941),x=U(g),A=l(27200),E=U(A),w=l(17840),k=l(43891),Z=U(k);function U(K){return K&&K.__esModule?K:{default:K}}function $(K,Y){if(!(K instanceof Y))throw new TypeError("Cannot call a class as a function")}function te(K,Y){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:K}function Q(K,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);K.prototype=Object.create(Y&&Y.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(K,Y):K.__proto__=Y)}var J=M.ChromeFields=function(K){Q(Y,K);function Y(){var re,fe,le,ie;$(this,Y);for(var ve=arguments.length,Oe=Array(ve),L=0;L<ve;L++)Oe[L]=arguments[L];return ie=(fe=(le=te(this,(re=Y.__proto__||Object.getPrototypeOf(Y)).call.apply(re,[this].concat(Oe))),le),le.state={view:""},le.toggleViews=function(){le.state.view==="hex"?le.setState({view:"rgb"}):le.state.view==="rgb"?le.setState({view:"hsl"}):le.state.view==="hsl"&&(le.props.hsl.a===1?le.setState({view:"hex"}):le.setState({view:"rgb"}))},le.handleChange=function(Pe,pe){Pe.hex?E.default.isValidHex(Pe.hex)&&le.props.onChange({hex:Pe.hex,source:"hex"},pe):Pe.r||Pe.g||Pe.b?le.props.onChange({r:Pe.r||le.props.rgb.r,g:Pe.g||le.props.rgb.g,b:Pe.b||le.props.rgb.b,source:"rgb"},pe):Pe.a?(Pe.a<0?Pe.a=0:Pe.a>1&&(Pe.a=1),le.props.onChange({h:le.props.hsl.h,s:le.props.hsl.s,l:le.props.hsl.l,a:Math.round(Pe.a*100)/100,source:"rgb"},pe)):(Pe.h||Pe.s||Pe.l)&&(typeof Pe.s=="string"&&Pe.s.includes("%")&&(Pe.s=Pe.s.replace("%","")),typeof Pe.l=="string"&&Pe.l.includes("%")&&(Pe.l=Pe.l.replace("%","")),le.props.onChange({h:Pe.h||le.props.hsl.h,s:Number(Pe.s&&Pe.s||le.props.hsl.s),l:Number(Pe.l&&Pe.l||le.props.hsl.l),source:"hsl"},pe))},le.showHighlight=function(Pe){Pe.currentTarget.style.background="#eee"},le.hideHighlight=function(Pe){Pe.currentTarget.style.background="transparent"},fe),te(le,ie)}return v(Y,[{key:"componentDidMount",value:function(){this.props.hsl.a===1&&this.state.view!=="hex"?this.setState({view:"hex"}):this.state.view!=="rgb"&&this.state.view!=="hsl"&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(fe){fe.hsl.a!==1&&this.state.view==="hex"&&this.setState({view:"rgb"})}},{key:"render",value:function(){var fe=this,le=(0,x.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),ie=void 0;return this.state.view==="hex"?ie=m.default.createElement("div",{style:le.fields,className:"flexbox-fix"},m.default.createElement("div",{style:le.field},m.default.createElement(w.EditableInput,{style:{input:le.input,label:le.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?ie=m.default.createElement("div",{style:le.fields,className:"flexbox-fix"},m.default.createElement("div",{style:le.field},m.default.createElement(w.EditableInput,{style:{input:le.input,label:le.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),m.default.createElement("div",{style:le.field},m.default.createElement(w.EditableInput,{style:{input:le.input,label:le.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),m.default.createElement("div",{style:le.field},m.default.createElement(w.EditableInput,{style:{input:le.input,label:le.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),m.default.createElement("div",{style:le.alpha},m.default.createElement(w.EditableInput,{style:{input:le.input,label:le.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(ie=m.default.createElement("div",{style:le.fields,className:"flexbox-fix"},m.default.createElement("div",{style:le.field},m.default.createElement(w.EditableInput,{style:{input:le.input,label:le.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),m.default.createElement("div",{style:le.field},m.default.createElement(w.EditableInput,{style:{input:le.input,label:le.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),m.default.createElement("div",{style:le.field},m.default.createElement(w.EditableInput,{style:{input:le.input,label:le.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),m.default.createElement("div",{style:le.alpha},m.default.createElement(w.EditableInput,{style:{input:le.input,label:le.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),m.default.createElement("div",{style:le.wrap,className:"flexbox-fix"},ie,m.default.createElement("div",{style:le.toggle},m.default.createElement("div",{style:le.icon,onClick:this.toggleViews,ref:function(Oe){return fe.icon=Oe}},m.default.createElement(Z.default,{style:le.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}]),Y}(m.default.Component);M.default=J},37634:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ChromePointer=void 0;var v=l(67294),d=x(v),m=l(79941),g=x(m);function x(E){return E&&E.__esModule?E:{default:E}}var A=M.ChromePointer=function(){var w=(0,g.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return d.default.createElement("div",{style:w.picker})};M.default=A},36052:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ChromePointerCircle=void 0;var v=l(67294),d=x(v),m=l(79941),g=x(m);function x(E){return E&&E.__esModule?E:{default:E}}var A=M.ChromePointerCircle=function(){var w=(0,g.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return d.default.createElement("div",{style:w.picker})};M.default=A},93545:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Circle=void 0;var v=l(67294),d=Y(v),m=l(45697),g=Y(m),x=l(79941),A=Y(x),E=l(35161),w=Y(E),k=l(82492),Z=Y(k),U=l(53893),$=K(U),te=l(17840),Q=l(136),J=Y(Q);function K(fe){if(fe&&fe.__esModule)return fe;var le={};if(fe!=null)for(var ie in fe)Object.prototype.hasOwnProperty.call(fe,ie)&&(le[ie]=fe[ie]);return le.default=fe,le}function Y(fe){return fe&&fe.__esModule?fe:{default:fe}}var re=M.Circle=function(le){var ie=le.width,ve=le.onChange,Oe=le.onSwatchHover,L=le.colors,Pe=le.hex,pe=le.circleSize,Be=le.styles,je=Be===void 0?{}:Be,he=le.circleSpacing,st=le.className,en=st===void 0?"":st,vn=(0,A.default)((0,Z.default)({default:{card:{width:ie,display:"flex",flexWrap:"wrap",marginRight:-he,marginBottom:-he}}},je)),Mt=function(Ve,Me){return ve({hex:Ve,source:"hex"},Me)};return d.default.createElement("div",{style:vn.card,className:"circle-picker "+en},(0,w.default)(L,function(It){return d.default.createElement(J.default,{key:It,color:It,onClick:Mt,onSwatchHover:Oe,active:Pe===It.toLowerCase(),circleSize:pe,circleSpacing:he})}))};re.propTypes={width:g.default.oneOfType([g.default.string,g.default.number]),circleSize:g.default.number,circleSpacing:g.default.number,styles:g.default.object},re.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[$.red[500],$.pink[500],$.purple[500],$.deepPurple[500],$.indigo[500],$.blue[500],$.lightBlue[500],$.cyan[500],$.teal[500],$.green[500],$.lightGreen[500],$.lime[500],$.yellow[500],$.amber[500],$.orange[500],$.deepOrange[500],$.brown[500],$.blueGrey[500]],styles:{}},M.default=(0,te.ColorWrap)(re)},136:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.CircleSwatch=void 0;var v=l(67294),d=A(v),m=l(79941),g=A(m),x=l(17840);function A(w){return w&&w.__esModule?w:{default:w}}var E=M.CircleSwatch=function(k){var Z=k.color,U=k.onClick,$=k.onSwatchHover,te=k.hover,Q=k.active,J=k.circleSize,K=k.circleSpacing,Y=(0,g.default)({default:{swatch:{width:J,height:J,marginRight:K,marginBottom:K,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+J/2+"px "+Z,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+Z}}},{hover:te,active:Q});return d.default.createElement("div",{style:Y.swatch},d.default.createElement(x.Swatch,{style:Y.Swatch,color:Z,onClick:U,onHover:$,focusStyle:{boxShadow:Y.Swatch.boxShadow+", 0 0 5px "+Z}}))};E.defaultProps={circleSize:28,circleSpacing:14},M.default=(0,m.handleHover)(E)},38785:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Alpha=void 0;var v=Object.assign||function(Y){for(var re=1;re<arguments.length;re++){var fe=arguments[re];for(var le in fe)Object.prototype.hasOwnProperty.call(fe,le)&&(Y[le]=fe[le])}return Y},d=function(){function Y(re,fe){for(var le=0;le<fe.length;le++){var ie=fe[le];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(re,ie.key,ie)}}return function(re,fe,le){return fe&&Y(re.prototype,fe),le&&Y(re,le),re}}(),m=l(67294),g=$(m),x=l(79941),A=$(x),E=l(78321),w=U(E),k=l(39763),Z=$(k);function U(Y){if(Y&&Y.__esModule)return Y;var re={};if(Y!=null)for(var fe in Y)Object.prototype.hasOwnProperty.call(Y,fe)&&(re[fe]=Y[fe]);return re.default=Y,re}function $(Y){return Y&&Y.__esModule?Y:{default:Y}}function te(Y,re){if(!(Y instanceof re))throw new TypeError("Cannot call a class as a function")}function Q(Y,re){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:Y}function J(Y,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);Y.prototype=Object.create(re&&re.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,re):Y.__proto__=re)}var K=M.Alpha=function(Y){J(re,Y);function re(){var fe,le,ie,ve;te(this,re);for(var Oe=arguments.length,L=Array(Oe),Pe=0;Pe<Oe;Pe++)L[Pe]=arguments[Pe];return ve=(le=(ie=Q(this,(fe=re.__proto__||Object.getPrototypeOf(re)).call.apply(fe,[this].concat(L))),ie),ie.handleChange=function(pe){var Be=w.calculateChange(pe,ie.props.hsl,ie.props.direction,ie.props.a,ie.container);Be&&typeof ie.props.onChange=="function"&&ie.props.onChange(Be,pe)},ie.handleMouseDown=function(pe){ie.handleChange(pe),window.addEventListener("mousemove",ie.handleChange),window.addEventListener("mouseup",ie.handleMouseUp)},ie.handleMouseUp=function(){ie.unbindEventListeners()},ie.unbindEventListeners=function(){window.removeEventListener("mousemove",ie.handleChange),window.removeEventListener("mouseup",ie.handleMouseUp)},le),Q(ie,ve)}return d(re,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var le=this,ie=this.props.rgb,ve=(0,A.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+ie.r+","+ie.g+","+ie.b+`, 0) 0%,
           rgba(`+ie.r+","+ie.g+","+ie.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:ie.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+ie.r+","+ie.g+","+ie.b+`, 0) 0%,
           rgba(`+ie.r+","+ie.g+","+ie.b+", 1) 100%)"},pointer:{left:0,top:ie.a*100+"%"}},overwrite:v({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return g.default.createElement("div",{style:ve.alpha},g.default.createElement("div",{style:ve.checkboard},g.default.createElement(Z.default,{renderers:this.props.renderers})),g.default.createElement("div",{style:ve.gradient}),g.default.createElement("div",{style:ve.container,ref:function(L){return le.container=L},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},g.default.createElement("div",{style:ve.pointer},this.props.pointer?g.default.createElement(this.props.pointer,this.props):g.default.createElement("div",{style:ve.slider}))))}}]),re}(m.PureComponent||m.Component);M.default=K},39763:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Checkboard=void 0;var v=l(67294),d=w(v),m=l(79941),g=w(m),x=l(69433),A=E(x);function E(Z){if(Z&&Z.__esModule)return Z;var U={};if(Z!=null)for(var $ in Z)Object.prototype.hasOwnProperty.call(Z,$)&&(U[$]=Z[$]);return U.default=Z,U}function w(Z){return Z&&Z.__esModule?Z:{default:Z}}var k=M.Checkboard=function(U){var $=U.white,te=U.grey,Q=U.size,J=U.renderers,K=U.borderRadius,Y=U.boxShadow,re=(0,g.default)({default:{grid:{borderRadius:K,boxShadow:Y,absolute:"0px 0px 0px 0px",background:"url("+A.get($,te,Q,J.canvas)+") center left"}}});return d.default.createElement("div",{style:re.grid})};k.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},M.default=k},88238:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ColorWrap=void 0;var v=Object.assign||function(Q){for(var J=1;J<arguments.length;J++){var K=arguments[J];for(var Y in K)Object.prototype.hasOwnProperty.call(K,Y)&&(Q[Y]=K[Y])}return Q},d=function(){function Q(J,K){for(var Y=0;Y<K.length;Y++){var re=K[Y];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(J,re.key,re)}}return function(J,K,Y){return K&&Q(J.prototype,K),Y&&Q(J,Y),J}}(),m=l(67294),g=k(m),x=l(23279),A=k(x),E=l(27200),w=k(E);function k(Q){return Q&&Q.__esModule?Q:{default:Q}}function Z(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")}function U(Q,J){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:Q}function $(Q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);Q.prototype=Object.create(J&&J.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,J):Q.__proto__=J)}var te=M.ColorWrap=function(J){var K=function(Y){$(re,Y);function re(fe){Z(this,re);var le=U(this,(re.__proto__||Object.getPrototypeOf(re)).call(this));return le.handleChange=function(ie,ve){var Oe=w.default.simpleCheckForValidColor(ie);if(Oe){var L=w.default.toState(ie,ie.h||le.state.oldHue);le.setState(L),le.props.onChangeComplete&&le.debounce(le.props.onChangeComplete,L,ve),le.props.onChange&&le.props.onChange(L,ve)}},le.handleSwatchHover=function(ie,ve){var Oe=w.default.simpleCheckForValidColor(ie);if(Oe){var L=w.default.toState(ie,ie.h||le.state.oldHue);le.setState(L),le.props.onSwatchHover&&le.props.onSwatchHover(L,ve)}},le.state=v({},w.default.toState(fe.color,0)),le.debounce=(0,A.default)(function(ie,ve,Oe){ie(ve,Oe)},100),le}return d(re,[{key:"componentWillReceiveProps",value:function(le){this.setState(v({},w.default.toState(le.color,this.state.oldHue)))}},{key:"render",value:function(){var le={};return this.props.onSwatchHover&&(le.onSwatchHover=this.handleSwatchHover),g.default.createElement(J,v({},this.props,this.state,{onChange:this.handleChange},le))}}]),re}(m.PureComponent||m.Component);return K.propTypes=v({},J.propTypes),K.defaultProps=v({},J.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),K};M.default=te},55326:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.EditableInput=void 0;var v=function(){function le(ie,ve){for(var Oe=0;Oe<ve.length;Oe++){var L=ve[Oe];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(ie,L.key,L)}}return function(ie,ve,Oe){return ve&&le(ie.prototype,ve),Oe&&le(ie,Oe),ie}}(),d=l(67294),m=A(d),g=l(79941),x=A(g);function A(le){return le&&le.__esModule?le:{default:le}}function E(le,ie,ve){return ie in le?Object.defineProperty(le,ie,{value:ve,enumerable:!0,configurable:!0,writable:!0}):le[ie]=ve,le}function w(le,ie){if(!(le instanceof ie))throw new TypeError("Cannot call a class as a function")}function k(le,ie){if(!le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie&&(typeof ie=="object"||typeof ie=="function")?ie:le}function Z(le,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ie);le.prototype=Object.create(ie&&ie.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(le,ie):le.__proto__=ie)}var U=1,$=38,te=40,Q=[$,te],J=function(ie){return Q.indexOf(ie)>-1},K=function(ie){return ie+"%"},Y=function(ie){return Number(String(ie).replace(/%/g,""))},re=function(ie){return String(ie).indexOf("%")>-1},fe=M.EditableInput=function(le){Z(ie,le);function ie(ve){w(this,ie);var Oe=k(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this));return Oe.handleBlur=function(){Oe.state.blurValue&&Oe.setState({value:Oe.state.blurValue,blurValue:null})},Oe.handleChange=function(L){Oe.setUpdatedValue(L.target.value,L)},Oe.handleKeyDown=function(L){var Pe=Y(L.target.value);if(!isNaN(Pe)&&J(L.keyCode)){var pe=Oe.getArrowOffset(),Be=L.keyCode===$?Pe+pe:Pe-pe;Oe.setUpdatedValue(Be,L)}},Oe.handleDrag=function(L){if(Oe.props.dragLabel){var Pe=Math.round(Oe.props.value+L.movementX);Pe>=0&&Pe<=Oe.props.dragMax&&Oe.props.onChange&&Oe.props.onChange(Oe.getValueObjectWithLabel(Pe),L)}},Oe.handleMouseDown=function(L){Oe.props.dragLabel&&(L.preventDefault(),Oe.handleDrag(L),window.addEventListener("mousemove",Oe.handleDrag),window.addEventListener("mouseup",Oe.handleMouseUp))},Oe.handleMouseUp=function(){Oe.unbindEventListeners()},Oe.unbindEventListeners=function(){window.removeEventListener("mousemove",Oe.handleDrag),window.removeEventListener("mouseup",Oe.handleMouseUp)},Oe.state={value:String(ve.value).toUpperCase(),blurValue:String(ve.value).toUpperCase()},Oe}return v(ie,[{key:"componentWillReceiveProps",value:function(Oe){var L=this.input;Oe.value!==this.state.value&&(L===document.activeElement?this.setState({blurValue:String(Oe.value).toUpperCase()}):this.setState({value:String(Oe.value).toUpperCase(),blurValue:!this.state.blurValue&&String(Oe.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(Oe){return E({},this.props.label,Oe)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||U}},{key:"setUpdatedValue",value:function(Oe,L){var Pe=this.props.label!==null?this.getValueObjectWithLabel(Oe):Oe;this.props.onChange&&this.props.onChange(Pe,L);var pe=re(L.target.value);this.setState({value:pe?K(Oe):Oe})}},{key:"render",value:function(){var Oe=this,L=(0,x.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return m.default.createElement("div",{style:L.wrap},m.default.createElement("input",{style:L.input,ref:function(pe){return Oe.input=pe},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?m.default.createElement("span",{style:L.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),ie}(d.PureComponent||d.Component);M.default=fe},36159:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Hue=void 0;var v=function(){function Q(J,K){for(var Y=0;Y<K.length;Y++){var re=K[Y];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(J,re.key,re)}}return function(J,K,Y){return K&&Q(J.prototype,K),Y&&Q(J,Y),J}}(),d=l(67294),m=k(d),g=l(79941),x=k(g),A=l(19800),E=w(A);function w(Q){if(Q&&Q.__esModule)return Q;var J={};if(Q!=null)for(var K in Q)Object.prototype.hasOwnProperty.call(Q,K)&&(J[K]=Q[K]);return J.default=Q,J}function k(Q){return Q&&Q.__esModule?Q:{default:Q}}function Z(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")}function U(Q,J){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:Q}function $(Q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);Q.prototype=Object.create(J&&J.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,J):Q.__proto__=J)}var te=M.Hue=function(Q){$(J,Q);function J(){var K,Y,re,fe;Z(this,J);for(var le=arguments.length,ie=Array(le),ve=0;ve<le;ve++)ie[ve]=arguments[ve];return fe=(Y=(re=U(this,(K=J.__proto__||Object.getPrototypeOf(J)).call.apply(K,[this].concat(ie))),re),re.handleChange=function(Oe){var L=E.calculateChange(Oe,re.props.direction,re.props.hsl,re.container);L&&typeof re.props.onChange=="function"&&re.props.onChange(L,Oe)},re.handleMouseDown=function(Oe){re.handleChange(Oe),window.addEventListener("mousemove",re.handleChange),window.addEventListener("mouseup",re.handleMouseUp)},re.handleMouseUp=function(){re.unbindEventListeners()},Y),U(re,fe)}return v(J,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var Y=this,re=this.props.direction,fe=re===void 0?"horizontal":re,le=(0,x.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:fe==="vertical"});return m.default.createElement("div",{style:le.hue},m.default.createElement("div",{className:"hue-"+fe,style:le.container,ref:function(ve){return Y.container=ve},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},m.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),m.default.createElement("div",{style:le.pointer},this.props.pointer?m.default.createElement(this.props.pointer,this.props):m.default.createElement("div",{style:le.slider}))))}}]),J}(d.PureComponent||d.Component);M.default=te},65117:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Raised=void 0;var v=l(67294),d=k(v),m=l(45697),g=k(m),x=l(79941),A=k(x),E=l(82492),w=k(E);function k(U){return U&&U.__esModule?U:{default:U}}var Z=M.Raised=function($){var te=$.zDepth,Q=$.radius,J=$.background,K=$.children,Y=$.styles,re=Y===void 0?{}:Y,fe=(0,A.default)((0,w.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+te+"px "+te*4+"px rgba(0,0,0,.24)",borderRadius:Q,background:J}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},re),{"zDepth-1":te===1});return d.default.createElement("div",{style:fe.wrap},d.default.createElement("div",{style:fe.bg}),d.default.createElement("div",{style:fe.content},K))};Z.propTypes={background:g.default.string,zDepth:g.default.oneOf([0,1,2,3,4,5]),radius:g.default.number,styles:g.default.object},Z.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},M.default=Z},51849:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Saturation=void 0;var v=function(){function K(Y,re){for(var fe=0;fe<re.length;fe++){var le=re[fe];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(Y,le.key,le)}}return function(Y,re,fe){return re&&K(Y.prototype,re),fe&&K(Y,fe),Y}}(),d=l(67294),m=U(d),g=l(79941),x=U(g),A=l(23493),E=U(A),w=l(19723),k=Z(w);function Z(K){if(K&&K.__esModule)return K;var Y={};if(K!=null)for(var re in K)Object.prototype.hasOwnProperty.call(K,re)&&(Y[re]=K[re]);return Y.default=K,Y}function U(K){return K&&K.__esModule?K:{default:K}}function $(K,Y){if(!(K instanceof Y))throw new TypeError("Cannot call a class as a function")}function te(K,Y){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:K}function Q(K,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);K.prototype=Object.create(Y&&Y.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(K,Y):K.__proto__=Y)}var J=M.Saturation=function(K){Q(Y,K);function Y(re){$(this,Y);var fe=te(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,re));return fe.handleChange=function(le){typeof fe.props.onChange=="function"&&fe.throttle(fe.props.onChange,k.calculateChange(le,fe.props.hsl,fe.container),le)},fe.handleMouseDown=function(le){fe.handleChange(le),window.addEventListener("mousemove",fe.handleChange),window.addEventListener("mouseup",fe.handleMouseUp)},fe.handleMouseUp=function(){fe.unbindEventListeners()},fe.throttle=(0,E.default)(function(le,ie,ve){le(ie,ve)},50),fe}return v(Y,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var fe=this,le=this.props.style||{},ie=le.color,ve=le.white,Oe=le.black,L=le.pointer,Pe=le.circle,pe=(0,x.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:ie,white:ve,black:Oe,pointer:L,circle:Pe}},{custom:!!this.props.style});return m.default.createElement("div",{style:pe.color,ref:function(je){return fe.container=je},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},m.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),m.default.createElement("div",{style:pe.white,className:"saturation-white"},m.default.createElement("div",{style:pe.black,className:"saturation-black"}),m.default.createElement("div",{style:pe.pointer},this.props.pointer?m.default.createElement(this.props.pointer,this.props):m.default.createElement("div",{style:pe.circle}))))}}]),Y}(d.PureComponent||d.Component);M.default=J},50789:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Swatch=void 0;var v=Object.assign||function($){for(var te=1;te<arguments.length;te++){var Q=arguments[te];for(var J in Q)Object.prototype.hasOwnProperty.call(Q,J)&&($[J]=Q[J])}return $},d=l(67294),m=k(d),g=l(79941),x=k(g),A=l(28592),E=l(39763),w=k(E);function k($){return $&&$.__esModule?$:{default:$}}var Z=13,U=M.Swatch=function(te){var Q=te.color,J=te.style,K=te.onClick,Y=K===void 0?function(){}:K,re=te.onHover,fe=te.title,le=fe===void 0?Q:fe,ie=te.children,ve=te.focus,Oe=te.focusStyle,L=Oe===void 0?{}:Oe,Pe=Q==="transparent",pe=(0,x.default)({default:{swatch:v({background:Q,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},J,ve?L:{})}}),Be=function(vn){return Y(Q,vn)},je=function(vn){return vn.keyCode===Z&&Y(Q,vn)},he=function(vn){return re(Q,vn)},st={};return re&&(st.onMouseOver=he),m.default.createElement("div",v({style:pe.swatch,onClick:Be,title:le,tabIndex:0,onKeyDown:je},st),ie,Pe&&m.default.createElement(w.default,{borderRadius:pe.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};M.default=(0,A.handleFocus)(U)},17840:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var v=l(38785);Object.defineProperty(M,"Alpha",{enumerable:!0,get:function(){return k(v).default}});var d=l(39763);Object.defineProperty(M,"Checkboard",{enumerable:!0,get:function(){return k(d).default}});var m=l(55326);Object.defineProperty(M,"EditableInput",{enumerable:!0,get:function(){return k(m).default}});var g=l(36159);Object.defineProperty(M,"Hue",{enumerable:!0,get:function(){return k(g).default}});var x=l(65117);Object.defineProperty(M,"Raised",{enumerable:!0,get:function(){return k(x).default}});var A=l(51849);Object.defineProperty(M,"Saturation",{enumerable:!0,get:function(){return k(A).default}});var E=l(88238);Object.defineProperty(M,"ColorWrap",{enumerable:!0,get:function(){return k(E).default}});var w=l(50789);Object.defineProperty(M,"Swatch",{enumerable:!0,get:function(){return k(w).default}});function k(Z){return Z&&Z.__esModule?Z:{default:Z}}},63205:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Compact=void 0;var v=l(67294),d=re(v),m=l(45697),g=re(m),x=l(79941),A=re(x),E=l(35161),w=re(E),k=l(82492),Z=re(k),U=l(27200),$=re(U),te=l(17840),Q=l(97354),J=re(Q),K=l(27054),Y=re(K);function re(le){return le&&le.__esModule?le:{default:le}}var fe=M.Compact=function(ie){var ve=ie.onChange,Oe=ie.onSwatchHover,L=ie.colors,Pe=ie.hex,pe=ie.rgb,Be=ie.styles,je=Be===void 0?{}:Be,he=ie.className,st=he===void 0?"":he,en=(0,A.default)((0,Z.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},je)),vn=function(It,Ve){It.hex?$.default.isValidHex(It.hex)&&ve({hex:It.hex,source:"hex"},Ve):ve(It,Ve)};return d.default.createElement(te.Raised,{style:en.Compact,styles:je},d.default.createElement("div",{style:en.compact,className:"compact-picker "+st},d.default.createElement("div",null,(0,w.default)(L,function(Mt){return d.default.createElement(J.default,{key:Mt,color:Mt,active:Mt.toLowerCase()===Pe,onClick:vn,onSwatchHover:Oe})}),d.default.createElement("div",{style:en.clear})),d.default.createElement(Y.default,{hex:Pe,rgb:pe,onChange:vn})))};fe.propTypes={colors:g.default.arrayOf(g.default.string),styles:g.default.object},fe.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},M.default=(0,te.ColorWrap)(fe)},97354:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.CompactColor=void 0;var v=l(67294),d=w(v),m=l(79941),g=w(m),x=l(27200),A=w(x),E=l(17840);function w(Z){return Z&&Z.__esModule?Z:{default:Z}}var k=M.CompactColor=function(U){var $=U.color,te=U.onClick,Q=te===void 0?function(){}:te,J=U.onSwatchHover,K=U.active,Y=(0,g.default)({default:{color:{background:$,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:A.default.getContrastingColor($),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:K,"color-#FFFFFF":$==="#FFFFFF",transparent:$==="transparent"});return d.default.createElement(E.Swatch,{style:Y.color,color:$,onClick:Q,onHover:J,focusStyle:{boxShadow:"0 0 4px "+$}},d.default.createElement("div",{style:Y.dot}))};M.default=k},27054:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.CompactFields=void 0;var v=l(67294),d=A(v),m=l(79941),g=A(m),x=l(17840);function A(w){return w&&w.__esModule?w:{default:w}}var E=M.CompactFields=function(k){var Z=k.hex,U=k.rgb,$=k.onChange,te=(0,g.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:Z},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),Q=function(K,Y){K.r||K.g||K.b?$({r:K.r||U.r,g:K.g||U.g,b:K.b||U.b,source:"rgb"},Y):$({hex:K.hex,source:"hex"},Y)};return d.default.createElement("div",{style:te.fields,className:"flexbox-fix"},d.default.createElement("div",{style:te.active}),d.default.createElement(x.EditableInput,{style:{wrap:te.HEXwrap,input:te.HEXinput,label:te.HEXlabel},label:"hex",value:Z,onChange:Q}),d.default.createElement(x.EditableInput,{style:{wrap:te.RGBwrap,input:te.RGBinput,label:te.RGBlabel},label:"r",value:U.r,onChange:Q}),d.default.createElement(x.EditableInput,{style:{wrap:te.RGBwrap,input:te.RGBinput,label:te.RGBlabel},label:"g",value:U.g,onChange:Q}),d.default.createElement(x.EditableInput,{style:{wrap:te.RGBwrap,input:te.RGBinput,label:te.RGBlabel},label:"b",value:U.b,onChange:Q}))};M.default=E},21109:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Github=void 0;var v=l(67294),d=Q(v),m=l(45697),g=Q(m),x=l(79941),A=Q(x),E=l(35161),w=Q(E),k=l(82492),Z=Q(k),U=l(17840),$=l(8745),te=Q($);function Q(K){return K&&K.__esModule?K:{default:K}}var J=M.Github=function(Y){var re=Y.width,fe=Y.colors,le=Y.onChange,ie=Y.onSwatchHover,ve=Y.triangle,Oe=Y.styles,L=Oe===void 0?{}:Oe,Pe=Y.className,pe=Pe===void 0?"":Pe,Be=(0,A.default)((0,Z.default)({default:{card:{width:re,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},L),{"hide-triangle":ve==="hide","top-left-triangle":ve==="top-left","top-right-triangle":ve==="top-right","bottom-left-triangle":ve==="bottom-left","bottom-right-triangle":ve==="bottom-right"}),je=function(st,en){return le({hex:st,source:"hex"},en)};return d.default.createElement("div",{style:Be.card,className:"github-picker "+pe},d.default.createElement("div",{style:Be.triangleShadow}),d.default.createElement("div",{style:Be.triangle}),(0,w.default)(fe,function(he){return d.default.createElement(te.default,{color:he,key:he,onClick:je,onSwatchHover:ie})}))};J.propTypes={width:g.default.oneOfType([g.default.string,g.default.number]),colors:g.default.arrayOf(g.default.string),triangle:g.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:g.default.object},J.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},M.default=(0,U.ColorWrap)(J)},8745:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.GithubSwatch=void 0;var v=l(67294),d=A(v),m=l(79941),g=A(m),x=l(17840);function A(w){return w&&w.__esModule?w:{default:w}}var E=M.GithubSwatch=function(k){var Z=k.hover,U=k.color,$=k.onClick,te=k.onSwatchHover,Q={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},J=(0,g.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:Q}},{hover:Z});return d.default.createElement("div",{style:J.swatch},d.default.createElement(x.Swatch,{color:U,onClick:$,onHover:te,focusStyle:Q}))};M.default=(0,m.handleHover)(E)},31270:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.HuePicker=void 0;var v=Object.assign||function(J){for(var K=1;K<arguments.length;K++){var Y=arguments[K];for(var re in Y)Object.prototype.hasOwnProperty.call(Y,re)&&(J[re]=Y[re])}return J},d=l(67294),m=te(d),g=l(45697),x=te(g),A=l(79941),E=te(A),w=l(82492),k=te(w),Z=l(17840),U=l(98481),$=te(U);function te(J){return J&&J.__esModule?J:{default:J}}var Q=M.HuePicker=function(K){var Y=K.width,re=K.height,fe=K.onChange,le=K.hsl,ie=K.direction,ve=K.pointer,Oe=K.styles,L=Oe===void 0?{}:Oe,Pe=K.className,pe=Pe===void 0?"":Pe,Be=(0,E.default)((0,k.default)({default:{picker:{position:"relative",width:Y,height:re},hue:{radius:"2px"}}},L)),je=function(st){return fe({a:1,h:st.h,l:.5,s:1})};return m.default.createElement("div",{style:Be.picker,className:"hue-picker "+pe},m.default.createElement(Z.Hue,v({},Be.hue,{hsl:le,pointer:ve,onChange:je,direction:ie})))};Q.propTypes={styles:x.default.object},Q.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:$.default,styles:{}},M.default=(0,Z.ColorWrap)(Q)},98481:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SliderPointer=void 0;var v=l(67294),d=x(v),m=l(79941),g=x(m);function x(E){return E&&E.__esModule?E:{default:E}}var A=M.SliderPointer=function(w){var k=w.direction,Z=(0,g.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:k==="vertical"});return d.default.createElement("div",{style:Z.picker})};M.default=A},21172:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Material=void 0;var v=l(67294),d=Z(v),m=l(79941),g=Z(m),x=l(82492),A=Z(x),E=l(27200),w=Z(E),k=l(17840);function Z($){return $&&$.__esModule?$:{default:$}}var U=M.Material=function(te){var Q=te.onChange,J=te.hex,K=te.rgb,Y=te.styles,re=Y===void 0?{}:Y,fe=te.className,le=fe===void 0?"":fe,ie=(0,g.default)((0,A.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+J,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},re)),ve=function(L,Pe){L.hex?w.default.isValidHex(L.hex)&&Q({hex:L.hex,source:"hex"},Pe):(L.r||L.g||L.b)&&Q({r:L.r||K.r,g:L.g||K.g,b:L.b||K.b,source:"rgb"},Pe)};return d.default.createElement(k.Raised,{styles:re},d.default.createElement("div",{style:ie.material,className:"material-picker "+le},d.default.createElement(k.EditableInput,{style:{wrap:ie.HEXwrap,input:ie.HEXinput,label:ie.HEXlabel},label:"hex",value:J,onChange:ve}),d.default.createElement("div",{style:ie.split,className:"flexbox-fix"},d.default.createElement("div",{style:ie.third},d.default.createElement(k.EditableInput,{style:{wrap:ie.RGBwrap,input:ie.RGBinput,label:ie.RGBlabel},label:"r",value:K.r,onChange:ve})),d.default.createElement("div",{style:ie.third},d.default.createElement(k.EditableInput,{style:{wrap:ie.RGBwrap,input:ie.RGBinput,label:ie.RGBlabel},label:"g",value:K.g,onChange:ve})),d.default.createElement("div",{style:ie.third},d.default.createElement(k.EditableInput,{style:{wrap:ie.RGBwrap,input:ie.RGBinput,label:ie.RGBlabel},label:"b",value:K.b,onChange:ve})))))};M.default=(0,k.ColorWrap)(U)},80003:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Photoshop=void 0;var v=function(){function pe(Be,je){for(var he=0;he<je.length;he++){var st=je[he];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(Be,st.key,st)}}return function(Be,je,he){return je&&pe(Be.prototype,je),he&&pe(Be,he),Be}}(),d=l(67294),m=ie(d),g=l(45697),x=ie(g),A=l(79941),E=ie(A),w=l(82492),k=ie(w),Z=l(17840),U=l(85198),$=ie(U),te=l(10534),Q=ie(te),J=l(45656),K=ie(J),Y=l(84064),re=ie(Y),fe=l(1988),le=ie(fe);function ie(pe){return pe&&pe.__esModule?pe:{default:pe}}function ve(pe,Be){if(!(pe instanceof Be))throw new TypeError("Cannot call a class as a function")}function Oe(pe,Be){if(!pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Be&&(typeof Be=="object"||typeof Be=="function")?Be:pe}function L(pe,Be){if(typeof Be!="function"&&Be!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Be);pe.prototype=Object.create(Be&&Be.prototype,{constructor:{value:pe,enumerable:!1,writable:!0,configurable:!0}}),Be&&(Object.setPrototypeOf?Object.setPrototypeOf(pe,Be):pe.__proto__=Be)}var Pe=M.Photoshop=function(pe){L(Be,pe);function Be(je){ve(this,Be);var he=Oe(this,(Be.__proto__||Object.getPrototypeOf(Be)).call(this));return he.state={currentColor:je.hex},he}return v(Be,[{key:"render",value:function(){var he=this.props,st=he.styles,en=st===void 0?{}:st,vn=he.className,Mt=vn===void 0?"":vn,It=(0,E.default)((0,k.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},en));return m.default.createElement("div",{style:It.picker,className:"photoshop-picker "+Mt},m.default.createElement("div",{style:It.head},this.props.header),m.default.createElement("div",{style:It.body,className:"flexbox-fix"},m.default.createElement("div",{style:It.saturation},m.default.createElement(Z.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Q.default,onChange:this.props.onChange})),m.default.createElement("div",{style:It.hue},m.default.createElement(Z.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:K.default,onChange:this.props.onChange})),m.default.createElement("div",{style:It.controls},m.default.createElement("div",{style:It.top,className:"flexbox-fix"},m.default.createElement("div",{style:It.previews},m.default.createElement(le.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),m.default.createElement("div",{style:It.actions},m.default.createElement(re.default,{label:"OK",onClick:this.props.onAccept,active:!0}),m.default.createElement(re.default,{label:"Cancel",onClick:this.props.onCancel}),m.default.createElement($.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),Be}(m.default.Component);Pe.propTypes={header:x.default.string,styles:x.default.object},Pe.defaultProps={header:"Color Picker",styles:{}},M.default=(0,Z.ColorWrap)(Pe)},84064:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.PhotoshopButton=void 0;var v=l(67294),d=x(v),m=l(79941),g=x(m);function x(E){return E&&E.__esModule?E:{default:E}}var A=M.PhotoshopButton=function(w){var k=w.onClick,Z=w.label,U=w.children,$=w.active,te=(0,g.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:$});return d.default.createElement("div",{style:te.button,onClick:k},Z||U)};M.default=A},85198:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.PhotoshopPicker=void 0;var v=l(67294),d=w(v),m=l(79941),g=w(m),x=l(27200),A=w(x),E=l(17840);function w(Z){return Z&&Z.__esModule?Z:{default:Z}}var k=M.PhotoshopPicker=function(U){var $=U.onChange,te=U.rgb,Q=U.hsv,J=U.hex,K=(0,g.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),Y=function(fe,le){fe["#"]?A.default.isValidHex(fe["#"])&&$({hex:fe["#"],source:"hex"},le):fe.r||fe.g||fe.b?$({r:fe.r||te.r,g:fe.g||te.g,b:fe.b||te.b,source:"rgb"},le):(fe.h||fe.s||fe.v)&&$({h:fe.h||Q.h,s:fe.s||Q.s,v:fe.v||Q.v,source:"hsv"},le)};return d.default.createElement("div",{style:K.fields},d.default.createElement(E.EditableInput,{style:{wrap:K.RGBwrap,input:K.RGBinput,label:K.RGBlabel},label:"h",value:Math.round(Q.h),onChange:Y}),d.default.createElement(E.EditableInput,{style:{wrap:K.RGBwrap,input:K.RGBinput,label:K.RGBlabel},label:"s",value:Math.round(Q.s*100),onChange:Y}),d.default.createElement(E.EditableInput,{style:{wrap:K.RGBwrap,input:K.RGBinput,label:K.RGBlabel},label:"v",value:Math.round(Q.v*100),onChange:Y}),d.default.createElement("div",{style:K.divider}),d.default.createElement(E.EditableInput,{style:{wrap:K.RGBwrap,input:K.RGBinput,label:K.RGBlabel},label:"r",value:te.r,onChange:Y}),d.default.createElement(E.EditableInput,{style:{wrap:K.RGBwrap,input:K.RGBinput,label:K.RGBlabel},label:"g",value:te.g,onChange:Y}),d.default.createElement(E.EditableInput,{style:{wrap:K.RGBwrap,input:K.RGBinput,label:K.RGBlabel},label:"b",value:te.b,onChange:Y}),d.default.createElement("div",{style:K.divider}),d.default.createElement(E.EditableInput,{style:{wrap:K.HEXwrap,input:K.HEXinput,label:K.HEXlabel},label:"#",value:J.replace("#",""),onChange:Y}),d.default.createElement("div",{style:K.fieldSymbols},d.default.createElement("div",{style:K.symbol},"\xB0"),d.default.createElement("div",{style:K.symbol},"%"),d.default.createElement("div",{style:K.symbol},"%")))};M.default=k},45656:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.PhotoshopPointerCircle=void 0;var v=l(67294),d=x(v),m=l(79941),g=x(m);function x(E){return E&&E.__esModule?E:{default:E}}var A=M.PhotoshopPointerCircle=function(){var w=(0,g.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return d.default.createElement("div",{style:w.pointer},d.default.createElement("div",{style:w.left},d.default.createElement("div",{style:w.leftInside})),d.default.createElement("div",{style:w.right},d.default.createElement("div",{style:w.rightInside})))};M.default=A},10534:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.PhotoshopPointerCircle=void 0;var v=l(67294),d=x(v),m=l(79941),g=x(m);function x(E){return E&&E.__esModule?E:{default:E}}var A=M.PhotoshopPointerCircle=function(w){var k=w.hsl,Z=(0,g.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":k.l>.5});return d.default.createElement("div",{style:Z.picker})};M.default=A},1988:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.PhotoshopPreviews=void 0;var v=l(67294),d=x(v),m=l(79941),g=x(m);function x(E){return E&&E.__esModule?E:{default:E}}var A=M.PhotoshopPreviews=function(w){var k=w.rgb,Z=w.currentColor,U=(0,g.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+k.r+","+k.g+", "+k.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:Z,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return d.default.createElement("div",null,d.default.createElement("div",{style:U.label},"new"),d.default.createElement("div",{style:U.swatches},d.default.createElement("div",{style:U.new}),d.default.createElement("div",{style:U.current})),d.default.createElement("div",{style:U.label},"current"))};M.default=A},81076:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Sketch=void 0;var v=Object.assign||function(Y){for(var re=1;re<arguments.length;re++){var fe=arguments[re];for(var le in fe)Object.prototype.hasOwnProperty.call(fe,le)&&(Y[le]=fe[le])}return Y},d=l(67294),m=J(d),g=l(45697),x=J(g),A=l(79941),E=J(A),w=l(82492),k=J(w),Z=l(17840),U=l(94282),$=J(U),te=l(73164),Q=J(te);function J(Y){return Y&&Y.__esModule?Y:{default:Y}}var K=M.Sketch=function(re){var fe=re.width,le=re.rgb,ie=re.hex,ve=re.hsv,Oe=re.hsl,L=re.onChange,Pe=re.onSwatchHover,pe=re.disableAlpha,Be=re.presetColors,je=re.renderers,he=re.styles,st=he===void 0?{}:he,en=re.className,vn=en===void 0?"":en,Mt=(0,E.default)((0,k.default)({default:v({picker:{width:fe,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+le.r+","+le.g+","+le.b+","+le.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},st),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},st),{disableAlpha:pe});return m.default.createElement("div",{style:Mt.picker,className:"sketch-picker "+vn},m.default.createElement("div",{style:Mt.saturation},m.default.createElement(Z.Saturation,{style:Mt.Saturation,hsl:Oe,hsv:ve,onChange:L})),m.default.createElement("div",{style:Mt.controls,className:"flexbox-fix"},m.default.createElement("div",{style:Mt.sliders},m.default.createElement("div",{style:Mt.hue},m.default.createElement(Z.Hue,{style:Mt.Hue,hsl:Oe,onChange:L})),m.default.createElement("div",{style:Mt.alpha},m.default.createElement(Z.Alpha,{style:Mt.Alpha,rgb:le,hsl:Oe,renderers:je,onChange:L}))),m.default.createElement("div",{style:Mt.color},m.default.createElement(Z.Checkboard,null),m.default.createElement("div",{style:Mt.activeColor}))),m.default.createElement($.default,{rgb:le,hsl:Oe,hex:ie,onChange:L,disableAlpha:pe}),m.default.createElement(Q.default,{colors:Be,onClick:L,onSwatchHover:Pe}))};K.propTypes={disableAlpha:x.default.bool,width:x.default.oneOfType([x.default.string,x.default.number]),styles:x.default.object},K.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},M.default=(0,Z.ColorWrap)(K)},94282:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SketchFields=void 0;var v=l(67294),d=w(v),m=l(79941),g=w(m),x=l(27200),A=w(x),E=l(17840);function w(Z){return Z&&Z.__esModule?Z:{default:Z}}var k=M.SketchFields=function(U){var $=U.onChange,te=U.rgb,Q=U.hsl,J=U.hex,K=U.disableAlpha,Y=(0,g.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:K}),re=function(le,ie){le.hex?A.default.isValidHex(le.hex)&&$({hex:le.hex,source:"hex"},ie):le.r||le.g||le.b?$({r:le.r||te.r,g:le.g||te.g,b:le.b||te.b,a:te.a,source:"rgb"},ie):le.a&&(le.a<0?le.a=0:le.a>100&&(le.a=100),le.a/=100,$({h:Q.h,s:Q.s,l:Q.l,a:le.a,source:"rgb"},ie))};return d.default.createElement("div",{style:Y.fields,className:"flexbox-fix"},d.default.createElement("div",{style:Y.double},d.default.createElement(E.EditableInput,{style:{input:Y.input,label:Y.label},label:"hex",value:J.replace("#",""),onChange:re})),d.default.createElement("div",{style:Y.single},d.default.createElement(E.EditableInput,{style:{input:Y.input,label:Y.label},label:"r",value:te.r,onChange:re,dragLabel:"true",dragMax:"255"})),d.default.createElement("div",{style:Y.single},d.default.createElement(E.EditableInput,{style:{input:Y.input,label:Y.label},label:"g",value:te.g,onChange:re,dragLabel:"true",dragMax:"255"})),d.default.createElement("div",{style:Y.single},d.default.createElement(E.EditableInput,{style:{input:Y.input,label:Y.label},label:"b",value:te.b,onChange:re,dragLabel:"true",dragMax:"255"})),d.default.createElement("div",{style:Y.alpha},d.default.createElement(E.EditableInput,{style:{input:Y.input,label:Y.label},label:"a",value:Math.round(te.a*100),onChange:re,dragLabel:"true",dragMax:"100"})))};M.default=k},73164:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SketchPresetColors=void 0;var v=Object.assign||function(U){for(var $=1;$<arguments.length;$++){var te=arguments[$];for(var Q in te)Object.prototype.hasOwnProperty.call(te,Q)&&(U[Q]=te[Q])}return U},d=l(67294),m=k(d),g=l(45697),x=k(g),A=l(79941),E=k(A),w=l(17840);function k(U){return U&&U.__esModule?U:{default:U}}var Z=M.SketchPresetColors=function($){var te=$.colors,Q=$.onClick,J=Q===void 0?function(){}:Q,K=$.onSwatchHover,Y=(0,E.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!te||!te.length}),re=function(le,ie){J({hex:le,source:"hex"},ie)};return m.default.createElement("div",{style:Y.colors,className:"flexbox-fix"},te.map(function(fe){var le=typeof fe=="string"?{color:fe}:fe,ie=""+le.color+(le.title||"");return m.default.createElement("div",{key:ie,style:Y.swatchWrap},m.default.createElement(w.Swatch,v({},le,{style:Y.swatch,onClick:re,onHover:K,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+le.color}})))}))};Z.propTypes={colors:x.default.arrayOf(x.default.oneOfType([x.default.string,x.default.shape({color:x.default.string,title:x.default.string})])).isRequired},M.default=Z},18623:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Slider=void 0;var v=l(67294),d=Q(v),m=l(45697),g=Q(m),x=l(79941),A=Q(x),E=l(82492),w=Q(E),k=l(17840),Z=l(81410),U=Q(Z),$=l(9610),te=Q($);function Q(K){return K&&K.__esModule?K:{default:K}}var J=M.Slider=function(Y){var re=Y.hsl,fe=Y.onChange,le=Y.pointer,ie=Y.styles,ve=ie===void 0?{}:ie,Oe=Y.className,L=Oe===void 0?"":Oe,Pe=(0,A.default)((0,w.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},ve));return d.default.createElement("div",{style:Pe.wrap||{},className:"slider-picker "+L},d.default.createElement("div",{style:Pe.hue},d.default.createElement(k.Hue,{style:Pe.Hue,hsl:re,pointer:le,onChange:fe})),d.default.createElement("div",{style:Pe.swatches},d.default.createElement(U.default,{hsl:re,onClick:fe})))};J.propTypes={styles:g.default.object},J.defaultProps={pointer:te.default,styles:{}},M.default=(0,k.ColorWrap)(J)},9610:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SliderPointer=void 0;var v=l(67294),d=x(v),m=l(79941),g=x(m);function x(E){return E&&E.__esModule?E:{default:E}}var A=M.SliderPointer=function(){var w=(0,g.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return d.default.createElement("div",{style:w.picker})};M.default=A},14818:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SliderSwatch=void 0;var v=l(67294),d=x(v),m=l(79941),g=x(m);function x(E){return E&&E.__esModule?E:{default:E}}var A=M.SliderSwatch=function(w){var k=w.hsl,Z=w.offset,U=w.onClick,$=U===void 0?function(){}:U,te=w.active,Q=w.first,J=w.last,K=(0,g.default)({default:{swatch:{height:"12px",background:"hsl("+k.h+", 50%, "+Z*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:te,first:Q,last:J}),Y=function(fe){return $({h:k.h,s:.5,l:Z,source:"hsl"},fe)};return d.default.createElement("div",{style:K.swatch,onClick:Y})};M.default=A},81410:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SliderSwatches=void 0;var v=l(67294),d=E(v),m=l(79941),g=E(m),x=l(14818),A=E(x);function E(k){return k&&k.__esModule?k:{default:k}}var w=M.SliderSwatches=function(Z){var U=Z.onClick,$=Z.hsl,te=(0,g.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),Q=.1;return d.default.createElement("div",{style:te.swatches},d.default.createElement("div",{style:te.swatch},d.default.createElement(A.default,{hsl:$,offset:".80",active:Math.abs($.l-.8)<Q&&Math.abs($.s-.5)<Q,onClick:U,first:!0})),d.default.createElement("div",{style:te.swatch},d.default.createElement(A.default,{hsl:$,offset:".65",active:Math.abs($.l-.65)<Q&&Math.abs($.s-.5)<Q,onClick:U})),d.default.createElement("div",{style:te.swatch},d.default.createElement(A.default,{hsl:$,offset:".50",active:Math.abs($.l-.5)<Q&&Math.abs($.s-.5)<Q,onClick:U})),d.default.createElement("div",{style:te.swatch},d.default.createElement(A.default,{hsl:$,offset:".35",active:Math.abs($.l-.35)<Q&&Math.abs($.s-.5)<Q,onClick:U})),d.default.createElement("div",{style:te.swatch},d.default.createElement(A.default,{hsl:$,offset:".20",active:Math.abs($.l-.2)<Q&&Math.abs($.s-.5)<Q,onClick:U,last:!0})),d.default.createElement("div",{style:te.clear}))};M.default=w},10576:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Swatches=void 0;var v=l(67294),d=fe(v),m=l(45697),g=fe(m),x=l(79941),A=fe(x),E=l(35161),w=fe(E),k=l(82492),Z=fe(k),U=l(27200),$=fe(U),te=l(53893),Q=re(te),J=l(17840),K=l(3435),Y=fe(K);function re(ie){if(ie&&ie.__esModule)return ie;var ve={};if(ie!=null)for(var Oe in ie)Object.prototype.hasOwnProperty.call(ie,Oe)&&(ve[Oe]=ie[Oe]);return ve.default=ie,ve}function fe(ie){return ie&&ie.__esModule?ie:{default:ie}}var le=M.Swatches=function(ve){var Oe=ve.width,L=ve.height,Pe=ve.onChange,pe=ve.onSwatchHover,Be=ve.colors,je=ve.hex,he=ve.styles,st=he===void 0?{}:he,en=ve.className,vn=en===void 0?"":en,Mt=(0,A.default)((0,Z.default)({default:{picker:{width:Oe,height:L},overflow:{height:L,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},st)),It=function(Me,Qe){$.default.isValidHex(Me)&&Pe({hex:Me,source:"hex"},Qe)};return d.default.createElement("div",{style:Mt.picker,className:"swatches-picker "+vn},d.default.createElement(J.Raised,null,d.default.createElement("div",{style:Mt.overflow},d.default.createElement("div",{style:Mt.body},(0,w.default)(Be,function(Ve){return d.default.createElement(Y.default,{key:Ve.toString(),group:Ve,active:je,onClick:It,onSwatchHover:pe})}),d.default.createElement("div",{style:Mt.clear})))))};le.propTypes={width:g.default.oneOfType([g.default.string,g.default.number]),height:g.default.oneOfType([g.default.string,g.default.number]),colors:g.default.arrayOf(g.default.arrayOf(g.default.string)),styles:g.default.object},le.defaultProps={width:320,height:240,colors:[[Q.red[900],Q.red[700],Q.red[500],Q.red[300],Q.red[100]],[Q.pink[900],Q.pink[700],Q.pink[500],Q.pink[300],Q.pink[100]],[Q.purple[900],Q.purple[700],Q.purple[500],Q.purple[300],Q.purple[100]],[Q.deepPurple[900],Q.deepPurple[700],Q.deepPurple[500],Q.deepPurple[300],Q.deepPurple[100]],[Q.indigo[900],Q.indigo[700],Q.indigo[500],Q.indigo[300],Q.indigo[100]],[Q.blue[900],Q.blue[700],Q.blue[500],Q.blue[300],Q.blue[100]],[Q.lightBlue[900],Q.lightBlue[700],Q.lightBlue[500],Q.lightBlue[300],Q.lightBlue[100]],[Q.cyan[900],Q.cyan[700],Q.cyan[500],Q.cyan[300],Q.cyan[100]],[Q.teal[900],Q.teal[700],Q.teal[500],Q.teal[300],Q.teal[100]],["#194D33",Q.green[700],Q.green[500],Q.green[300],Q.green[100]],[Q.lightGreen[900],Q.lightGreen[700],Q.lightGreen[500],Q.lightGreen[300],Q.lightGreen[100]],[Q.lime[900],Q.lime[700],Q.lime[500],Q.lime[300],Q.lime[100]],[Q.yellow[900],Q.yellow[700],Q.yellow[500],Q.yellow[300],Q.yellow[100]],[Q.amber[900],Q.amber[700],Q.amber[500],Q.amber[300],Q.amber[100]],[Q.orange[900],Q.orange[700],Q.orange[500],Q.orange[300],Q.orange[100]],[Q.deepOrange[900],Q.deepOrange[700],Q.deepOrange[500],Q.deepOrange[300],Q.deepOrange[100]],[Q.brown[900],Q.brown[700],Q.brown[500],Q.brown[300],Q.brown[100]],[Q.blueGrey[900],Q.blueGrey[700],Q.blueGrey[500],Q.blueGrey[300],Q.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},M.default=(0,J.ColorWrap)(le)},86226:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SwatchesColor=void 0;var v=l(67294),d=Z(v),m=l(79941),g=Z(m),x=l(27200),A=Z(x),E=l(17840),w=l(70597),k=Z(w);function Z($){return $&&$.__esModule?$:{default:$}}var U=M.SwatchesColor=function(te){var Q=te.color,J=te.onClick,K=J===void 0?function(){}:J,Y=te.onSwatchHover,re=te.first,fe=te.last,le=te.active,ie=(0,g.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:Q,marginBottom:"1px"},check:{color:A.default.getContrastingColor(Q),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:re,last:fe,active:le,"color-#FFFFFF":Q==="#FFFFFF",transparent:Q==="transparent"});return d.default.createElement(E.Swatch,{color:Q,style:ie.color,onClick:K,onHover:Y,focusStyle:{boxShadow:"0 0 4px "+Q}},d.default.createElement("div",{style:ie.check},d.default.createElement(k.default,null)))};M.default=U},3435:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SwatchesGroup=void 0;var v=l(67294),d=k(v),m=l(79941),g=k(m),x=l(35161),A=k(x),E=l(86226),w=k(E);function k(U){return U&&U.__esModule?U:{default:U}}var Z=M.SwatchesGroup=function($){var te=$.onClick,Q=$.onSwatchHover,J=$.group,K=$.active,Y=(0,g.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return d.default.createElement("div",{style:Y.group},(0,A.default)(J,function(re,fe){return d.default.createElement(w.default,{key:re,color:re,active:re.toLowerCase()===K,first:fe===0,last:fe===J.length-1,onClick:te,onSwatchHover:Q})}))};M.default=Z},40318:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Twitter=void 0;var v=l(67294),d=Q(v),m=l(45697),g=Q(m),x=l(79941),A=Q(x),E=l(35161),w=Q(E),k=l(82492),Z=Q(k),U=l(27200),$=Q(U),te=l(17840);function Q(K){return K&&K.__esModule?K:{default:K}}var J=M.Twitter=function(Y){var re=Y.onChange,fe=Y.onSwatchHover,le=Y.hex,ie=Y.colors,ve=Y.width,Oe=Y.triangle,L=Y.styles,Pe=L===void 0?{}:L,pe=Y.className,Be=pe===void 0?"":pe,je=(0,A.default)((0,Z.default)({default:{card:{width:ve,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},Pe),{"hide-triangle":Oe==="hide","top-left-triangle":Oe==="top-left","top-right-triangle":Oe==="top-right"}),he=function(en,vn){$.default.isValidHex(en)&&re({hex:en,source:"hex"},vn)};return d.default.createElement("div",{style:je.card,className:"twitter-picker "+Be},d.default.createElement("div",{style:je.triangleShadow}),d.default.createElement("div",{style:je.triangle}),d.default.createElement("div",{style:je.body},(0,w.default)(ie,function(st,en){return d.default.createElement(te.Swatch,{key:en,color:st,hex:st,style:je.swatch,onClick:he,onHover:fe,focusStyle:{boxShadow:"0 0 4px "+st}})}),d.default.createElement("div",{style:je.hash},"#"),d.default.createElement(te.EditableInput,{style:{input:je.input},value:le.replace("#",""),onChange:he}),d.default.createElement("div",{style:je.clear})))};J.propTypes={width:g.default.oneOfType([g.default.string,g.default.number]),triangle:g.default.oneOf(["hide","top-left","top-right"]),colors:g.default.arrayOf(g.default.string),styles:g.default.object},J.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},M.default=(0,te.ColorWrap)(J)},78321:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var l=M.calculateChange=function(d,m,g,x,A){d.preventDefault();var E=A.clientWidth,w=A.clientHeight,k=typeof d.pageX=="number"?d.pageX:d.touches[0].pageX,Z=typeof d.pageY=="number"?d.pageY:d.touches[0].pageY,U=k-(A.getBoundingClientRect().left+window.pageXOffset),$=Z-(A.getBoundingClientRect().top+window.pageYOffset);if(g==="vertical"){var te=void 0;if($<0?te=0:$>w?te=1:te=Math.round($*100/w)/100,m.a!==te)return{h:m.h,s:m.s,l:m.l,a:te,source:"rgb"}}else{var Q=void 0;if(U<0?Q=0:U>E?Q=1:Q=Math.round(U*100/E)/100,x!==Q)return{h:m.h,s:m.s,l:m.l,a:Q,source:"rgb"}}return null}},69433:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var l={},v=M.render=function(g,x,A,E){if(typeof document=="undefined"&&!E)return null;var w=E?new E:document.createElement("canvas");w.width=A*2,w.height=A*2;var k=w.getContext("2d");return k?(k.fillStyle=g,k.fillRect(0,0,w.width,w.height),k.fillStyle=x,k.fillRect(0,0,A,A),k.translate(A,A),k.fillRect(0,0,A,A),w.toDataURL()):null},d=M.get=function(g,x,A,E){var w=g+"-"+x+"-"+A+(E?"-server":"");if(l[w])return l[w];var k=v(g,x,A,E);return l[w]=k,k}},27200:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.red=void 0;var v=l(66073),d=x(v),m=l(68207),g=x(m);function x(E){return E&&E.__esModule?E:{default:E}}M.default={simpleCheckForValidColor:function(w){var k=["r","g","b","a","h","s","l","v"],Z=0,U=0;return(0,d.default)(k,function($){if(w[$]&&(Z+=1,isNaN(w[$])||(U+=1),$==="s"||$==="l")){var te=/^\d+%$/;te.test(w[$])&&(U+=1)}}),Z===U?w:!1},toState:function(w,k){var Z=w.hex?(0,g.default)(w.hex):(0,g.default)(w),U=Z.toHsl(),$=Z.toHsv(),te=Z.toRgb(),Q=Z.toHex();U.s===0&&(U.h=k||0,$.h=k||0);var J=Q==="000000"&&te.a===0;return{hsl:U,hex:J?"transparent":"#"+Q,rgb:te,hsv:$,oldHue:w.h||k||U.h,source:w.source}},isValidHex:function(w){var k=String(w).charAt(0)==="#"?1:0;return w.length!==4+k&&w.length<7+k&&(0,g.default)(w).isValid()},getContrastingColor:function(w){if(!w)return"#fff";var k=this.toState(w);if(k.hex==="transparent")return"rgba(0,0,0,0.4)";var Z=(k.rgb.r*299+k.rgb.g*587+k.rgb.b*114)/1e3;return Z>=128?"#000":"#fff"}};var A=M.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},19800:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var l=M.calculateChange=function(d,m,g,x){d.preventDefault();var A=x.clientWidth,E=x.clientHeight,w=typeof d.pageX=="number"?d.pageX:d.touches[0].pageX,k=typeof d.pageY=="number"?d.pageY:d.touches[0].pageY,Z=w-(x.getBoundingClientRect().left+window.pageXOffset),U=k-(x.getBoundingClientRect().top+window.pageYOffset);if(m==="vertical"){var $=void 0;if(U<0)$=359;else if(U>E)$=0;else{var te=-(U*100/E)+100;$=360*te/100}if(g.h!==$)return{h:$,s:g.s,l:g.l,a:g.a,source:"rgb"}}else{var Q=void 0;if(Z<0)Q=0;else if(Z>A)Q=359;else{var J=Z*100/A;Q=360*J/100}if(g.h!==Q)return{h:Q,s:g.s,l:g.l,a:g.a,source:"rgb"}}return null}},28592:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.handleFocus=void 0;var v=Object.assign||function(Z){for(var U=1;U<arguments.length;U++){var $=arguments[U];for(var te in $)Object.prototype.hasOwnProperty.call($,te)&&(Z[te]=$[te])}return Z},d=function(){function Z(U,$){for(var te=0;te<$.length;te++){var Q=$[te];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(U,Q.key,Q)}}return function(U,$,te){return $&&Z(U.prototype,$),te&&Z(U,te),U}}(),m=l(67294),g=x(m);function x(Z){return Z&&Z.__esModule?Z:{default:Z}}function A(Z,U){if(!(Z instanceof U))throw new TypeError("Cannot call a class as a function")}function E(Z,U){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:Z}function w(Z,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);Z.prototype=Object.create(U&&U.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,U):Z.__proto__=U)}var k=M.handleFocus=function(U){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(te){w(Q,te);function Q(){var J,K,Y,re;A(this,Q);for(var fe=arguments.length,le=Array(fe),ie=0;ie<fe;ie++)le[ie]=arguments[ie];return re=(K=(Y=E(this,(J=Q.__proto__||Object.getPrototypeOf(Q)).call.apply(J,[this].concat(le))),Y),Y.state={focus:!1},Y.handleFocus=function(){return Y.setState({focus:!0})},Y.handleBlur=function(){return Y.setState({focus:!1})},K),E(Y,re)}return d(Q,[{key:"render",value:function(){return g.default.createElement($,{onFocus:this.handleFocus,onBlur:this.handleBlur},g.default.createElement(U,v({},this.props,this.state)))}}]),Q}(g.default.Component)}},19723:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var l=M.calculateChange=function(d,m,g){d.preventDefault();var x=g.getBoundingClientRect(),A=x.width,E=x.height,w=typeof d.pageX=="number"?d.pageX:d.touches[0].pageX,k=typeof d.pageY=="number"?d.pageY:d.touches[0].pageY,Z=w-(g.getBoundingClientRect().left+window.pageXOffset),U=k-(g.getBoundingClientRect().top+window.pageYOffset);Z<0?Z=0:Z>A?Z=A:U<0?U=0:U>E&&(U=E);var $=Z*100/A,te=-(U*100/E)+100;return{h:m.h,s:$,v:te,a:m.a,source:"rgb"}}},48007:function(j,M,l){"use strict";var v;v={value:!0},v=v=v=v=M.xS=v=v=v=v=v=v=v=v=v=v=void 0;var d=l(508);v={enumerable:!0,get:function(){return Y(d).default}};var m=l(46835);v={enumerable:!0,get:function(){return Y(m).default}};var g=l(93545);v={enumerable:!0,get:function(){return Y(g).default}};var x=l(17339);v={enumerable:!0,get:function(){return Y(x).default}};var A=l(63205);v={enumerable:!0,get:function(){return Y(A).default}};var E=l(21109);v={enumerable:!0,get:function(){return Y(E).default}};var w=l(31270);v={enumerable:!0,get:function(){return Y(w).default}};var k=l(21172);v={enumerable:!0,get:function(){return Y(k).default}};var Z=l(80003);v={enumerable:!0,get:function(){return Y(Z).default}};var U=l(81076);Object.defineProperty(M,"xS",{enumerable:!0,get:function(){return Y(U).default}});var $=l(18623);v={enumerable:!0,get:function(){return Y($).default}};var te=l(10576);v={enumerable:!0,get:function(){return Y(te).default}};var Q=l(40318);v={enumerable:!0,get:function(){return Y(Q).default}};var J=l(88238);v={enumerable:!0,get:function(){return Y(J).default}};var K=Y(x);function Y(re){return re&&re.__esModule?re:{default:re}}v=K.default},51490:function(j,M,l){"use strict";l.d(M,{m:function(){return w},X:function(){return d}});var v=l(97582),d;(function(k){k.ASYNC_SRRIES="ASYNC_SRRIES",k.ASYNC_PARALLEL="ASYNC_PARALLEL"})(d||(d={}));var m=l(94633),g=l.n(m),x;(function(k){let Z;(function(te){te.INVALID_HOOK_BEFORE="INVALID_HOOK_BEFORE",te.INVALID_HOOK_AFTER="INVALID_HOOK_AFTER",te.INVALID_HOOK_ARGS_LENGTH="INVALID_HOOK_ARGS_LENGTH"})(Z=k.ErrorEnum||(k.ErrorEnum={}));class U extends Error{constructor(Q,J,...K){Array.isArray(J)&&(J=J.filter(function(Y){return!!Y}).join(" ")),super(`${Q}: ${J}`),Error.captureStackTrace&&Error.captureStackTrace(this,U),this.code=Q,this.contexts={},K.forEach(Y=>{typeof Y=="object"&&Object.entries(Y).forEach(re=>{const[fe,le]=re;fe!=="key"&&le&&(this.contexts[fe]=JSON.parse(JSON.stringify(le)))})})}toString(){return`${this.code}: ${this.message}`}}k.HookError=U;const $=(te,Q,...J)=>new U(te,Q,...J);k.HookBeforeError=()=>$(Z.INVALID_HOOK_BEFORE,["hook require a before dependency but not exist in hookmap"]),k.HookAfterError=()=>$(Z.INVALID_HOOK_AFTER,["hook require a after dependency but not exist in hookmap"]),k.InvalidHookArguments=te=>$(Z.INVALID_HOOK_ARGS_LENGTH,["hook handlers must have 0 to 2 arguments",`but got ${te.handler.length}`])})(x||(x={}));var A;(function(k){k.normalize=(Z=[],U)=>{const $=Array.isArray(Z)?Z:[Z],te=[];return U.forEach(Q=>{te.push(Q)}),[...te,...$].filter(Q=>Q&&!!Q.handler)},k.sort=(Z=[],U)=>{const $=[];return Z.forEach(Q=>{if(Q.before){if(!U.has(Q.before))throw x.HookBeforeError();const J=[Q,U.get(Q.before)];$.push(J)}if(Q.after){if(!U.has(Q.after))throw x.HookBeforeError();const J=[U.get(Q.after),Q];$.push(J)}}),g().array(Z,$)}})(A||(A={}));class E{constructor(){this.isResolved=!1,this.isRejected=!1,this.promise=new Promise((Z,U)=>{this.resolve=$=>{this.isResolved=!0,Z($)},this.reject=$=>{this.isRejected=!0,U($)}})}}class w{constructor(Z){this.scheduleType=d.ASYNC_SRRIES,this.hasHook=U=>this.hookMap.has(U),this.getHooks=(U=[],$=!0)=>{const te=A.normalize(U,this.hookMap);return $?A.sort(te,this.hookMap):te},this.registerHook=U=>(this.hookMap.has(U.name)&&console.error(`${U.name} is duplicated in hookmap`),this.hookMap.set(U.name,U),{dispose:()=>{this.hookMap.delete(U.name)}}),this.call=(U,$=Q=>(0,v.mG)(this,void 0,void 0,function*(){return Q}),te=[])=>(0,v.mG)(this,void 0,void 0,function*(){const Q=this.getHooks(te,!0),J=this.schedulers[this.scheduleType];return J(U,$,Q)}),this.schedulers={[d.ASYNC_SRRIES]:(U,$,te=[])=>(0,v.mG)(this,void 0,void 0,function*(){let Q=$;for(const J of te){if([0,1].includes(J.handler.length)){yield J.handler.call(this,U);continue}if([2].includes(J.handler.length)&&Q!==null){const Y=yield J.handler.call(this,U,Q);if(Y===null){Q=null;break}else if(typeof Y=="function"){Q=Y;continue}}throw x.InvalidHookArguments(J)}if(Q)return yield Q.call(this,U)}),[d.ASYNC_PARALLEL]:(U,$,te=[])=>(0,v.mG)(this,void 0,void 0,function*(){const Q=te.map(K=>{if([0,1].includes(K.handler.length))return K.handler.call(this,U);if([2].includes(K.handler.length))return K.handler.call(this,U,$);throw x.InvalidHookArguments(K)}),J=new E;if(Promise.all(Q).then(K=>J.resolve(K)),$)return yield $.call(this,J)})},this.hookMap=new Map,Z&&Z.type&&(this.scheduleType=Z.type)}}},16569:function(j,M,l){"use strict";l.d(M,{Il:function(){return v.Il},Wu:function(){return un},g8:function(){return ti},ab:function(){return Rn},w5:function(){return fe},It:function(){return oe},XS:function(){return k},xZ:function(){return Zt},ce:function(){return zl},BH:function(){return v.BH},JT:function(){return v.JT},K4:function(){return v.K4},t2:function(){return su},wP:function(){return v.wP},hc:function(){return Ts},ky:function(){return Vf},wj:function(){return nu},m$:function(){return Ef},SV:function(){return ou},rc:function(){return Hs},qK:function(){return lu},qu:function(){return G},Gn:function(){return _r},Sn:function(){return wa},ln:function(){return v.ln},nY:function(){return v.nY},CG:function(){return v.CG},ko:function(){return v.ko},Ip:function(){return tc},G7:function(){return v.G7},G8:function(){return v.G8},dX:function(){return v.dX},Nf:function(){return v.ManaSyringe},UI:function(){return v.UI},wK:function(){return v.wK},zl:function(){return Ye},kR:function(){return ei},FL:function(){return v.FL},Xm:function(){return Rl.X},fu:function(){return v.fu},qs:function(){return bn},g:function(){return v.g},cP:function(){return v.cP},p3:function(){return v.p3},pz:function(){return v.pz},n1:function(){return v.n1},Hj:function(){return v.Hj},WY:function(){return v.WY},ho:function(){return is},$b:function(){return v.$b},Gv:function(){return v.Gv},dV:function(){return v.dV},ac:function(){return v.gy},cE:function(){return v.cE},s$:function(){return v.s$},s4:function(){return v.s4},Ao:function(){return v.Ao},Kd:function(){return Ir},Jp:function(){return v.Jp},vD:function(){return v.vD},zg:function(){return v.zg},HJ:function(){return v.HJ},iR:function(){return or},gw:function(){return v.gw},sd:function(){return qs},Yr:function(){return v.Yr},Ns:function(){return v.Ns},t1:function(){return v.t1},Iy:function(){return ye},bp:function(){return v.bp},FA:function(){return v.FA},XM:function(){return v.XM},tT:function(){return v.tT},DL:function(){return v.DL},R9:function(){return hn},Te:function(){return v.Te},XZ:function(){return v.XZ},e7:function(){return v.e7},k$:function(){return v.k$}});var v=l(58167),d=l(97582),m=l(67294),g=l(28660);let x=class{constructor(){this.toDispose=new v.K4,this.registerHookHub=()=>(0,d.mG)(this,void 0,void 0,function*(){return v.JT.create(()=>{})}),this.registerHook=Le=>(0,d.mG)(this,void 0,void 0,function*(){const at=new v.K4,ct=[Le.graphOptions.registerHook({name:"add snapline options",handler:dt=>(0,d.mG)(this,void 0,void 0,function*(){dt.snapline={enabled:!0,className:"xflow-snapline",clean:5e3}})})];return at.pushAll(ct),v.JT.create(()=>{})})}};x=(0,d.gn)([v.ManaSyringe.singleton({contrib:v.tF})],x);const A=()=>v.ManaSyringe.Module(Ee=>{Ee(x)}),E="CanvasSnapline",w="#faad14",k=Ee=>{const{color:Le=w}=Ee,at=(0,v.FA)(),ct=m.useMemo(()=>({CONFIG_TYPE:E,getConfig:()=>(0,d.mG)(void 0,void 0,void 0,function*(){return{}})}),[]);return m.useEffect(()=>{const dt=`xflow-snapline-${Date.now()}`;at.addContainerClassNames(dt);const mt=`
    .${dt} .xflow-snapline .x6-widget-snapline-horizontal,
    .${dt} .xflow-snapline .x6-widget-snapline-vertical {
      border-color: ${Le};
    }`,St=(0,v.Ns)(mt);return()=>{document.head.removeChild(St)}},[Le,at]),m.createElement(v.p3,{config:ct,createModule:A})};var Z=l(87381),U;(function(Ee){Ee.MOUSE_ENTER="node-port:mouseenter",Ee.MOUSE_LEAVE="node-port:mouseleave"})(U||(U={}));var $;(function(Ee){Ee.id="ACTIVE_NODE_PORT",Ee.useModel=Le=>(0,d.mG)(this,void 0,void 0,function*(){const at=yield Le.awaitModel(Ee.id);return{data:yield at.getValidValue(),model:at}})})($||($={}));var te=l(93967),Q=l.n(te);let J=class{constructor(){this.toDispose=new v.K4,this.getGraphInstance=()=>(0,d.mG)(this,void 0,void 0,function*(){const Le=yield this.graphProvider.getGraphInstance(),at=yield this.graphProvider.getGraphOptions();return{graph:Le,config:at}}),this.getPortRenderConfig=()=>({onPortRendered(at){const ct=this,{port:dt,node:mt}=at,{contentSelectors:St}=at,Nt=St&&St["xflow-port-group"];Nt instanceof Element&&(Nt.setAttribute("class",Q()("xflow-port-group",{connected:dt.connected&&dt.group!=="out",groupPort:(mt==null?void 0:mt.isGroup)&&(mt==null?void 0:mt.isGroup())})),Nt.addEventListener("mouseenter",O=>{const V={e:O,portId:dt.id,nodeId:mt.id,portData:dt,nodeData:mt.getData(),tooltip:dt.tooltip,placement:dt.group};ct.trigger(U.MOUSE_ENTER,V)}),Nt.addEventListener("mouseleave",O=>{const V={e:O,portId:dt.id,nodeId:mt.id,portData:dt,nodeData:mt.getData(),tooltip:dt.tooltip,placement:dt.group};ct.trigger(U.MOUSE_LEAVE,V)}))}}),this.registerHookHub=()=>(0,d.mG)(this,void 0,void 0,function*(){return v.JT.create(()=>{})}),this.registerHook=Le=>(0,d.mG)(this,void 0,void 0,function*(){const at=new v.K4,ct=[Le.graphOptions.registerHook({name:"add onPortRendered options ",handler:dt=>(0,d.mG)(this,void 0,void 0,function*(){Object.assign(dt,this.getPortRenderConfig())})})];return at.pushAll(ct),v.JT.create(()=>{})})}registerModel(Le){Le.registerModel({id:$.id,watchChange:at=>(0,d.mG)(this,void 0,void 0,function*(){const{graph:ct,config:dt}=yield this.getGraphInstance(),mt=O=>{const{x:V,y:ae,width:we,height:qe}=O.target.getBoundingClientRect(),Rt=dt.rootContainer.getBoundingClientRect();return{x:V-((Rt==null?void 0:Rt.x)||0)+we/2,y:ae-((Rt==null?void 0:Rt.y)||0)+qe/2}},St=O=>{at.setValue(Object.assign(Object.assign({},O),{position:mt(O.e)}))},Nt=()=>{at.setValue(null)};return ct.on(U.MOUSE_ENTER,St),ct.on(U.MOUSE_LEAVE,Nt),ct.on("cell:mouseleave",Nt),v.JT.create(()=>{ct.off(U.MOUSE_ENTER,St),ct.off(U.MOUSE_LEAVE,Nt)})})})}};(0,d.gn)([v.ManaSyringe.inject(v.$4),(0,d.w6)("design:type",Object)],J.prototype,"graphProvider",void 0),J=(0,d.gn)([v.ManaSyringe.singleton({contrib:[v.tF,v.SM]})],J);const K=()=>v.ManaSyringe.Module(Ee=>{Ee(J)}),Y="CanvasNodePortTooltip",re=Ee=>{const Le=(0,v.XZ)(),[at,,ct]=(0,v.Ao)(null);m.useEffect(()=>{if(!Le)return;const Nt=(0,d.mG)(void 0,void 0,void 0,function*(){const{model:O}=yield $.useModel(Le.modelService);return O.watch(V=>{ct.setValue(V)})});return()=>{Nt.then(O=>{O.dispose()})}},[ct,Le]);const dt=!!(at&&at.position&&at.position.x);if(!dt)return null;const mt=Ee.getTooltip?Ee.getTooltip(at):at.tooltip;return m.createElement(Z.Z,{visible:dt,title:mt,placement:at.placement||"top"},m.createElement("span",{className:"canvas-node-port-tooltip",style:{position:"absolute",left:at.position.x,top:at.position.y}}))},fe=Ee=>{const Le=m.useCallback(()=>(0,d.mG)(void 0,void 0,void 0,function*(){return null}),[]);return m.createElement(v.p3,{createModule:K,config:{CONFIG_TYPE:Y,getConfig:Le}},m.createElement(re,Object.assign({},Ee)))};var le;(function(Ee){Ee.CONFIG_TYPE="ContextMenuConfig"})(le||(le={}));class ie{constructor(Le){this.CONFIG_TYPE=le.CONFIG_TYPE,this.setMenuModelService=at=>{this.menuModelService=at},this.setCustomMenuRender=at=>{this.menuCustomRender=at},this.getConfig=()=>(0,d.mG)(this,void 0,void 0,function*(){return{CONFIG_TYPE:this.CONFIG_TYPE,menuCustomRender:this.menuCustomRender,menuModelService:this.menuModelService}}),this.moduleId=Le||(0,v.k$)()}dispose(){}}var ve;(function(Ee){Ee.id="CONTEXT_MENU_MODEL",Ee.useValue=v.dX.useModelValueUtil(Ee.id),Ee.getModel=v.dX.getModelUtil(Ee.id)})(ve||(ve={}));const{inject:Oe,singleton:L}=v.ManaSyringe;let Pe=class{constructor(){this.toDispose=new v.K4,this.getMenuModelValue=Le=>(0,d.mG)(this,void 0,void 0,function*(){const at=yield this.menuConfig.getConfig(),{anchor:ct,type:dt,cell:mt}=Le,St=new v.K4;this.toDispose.push(St);const Nt=mt?mt.getData():null,O=new v.FL({id:"menuroot",type:v.UI.Root,submenu:[]});St.push(v.JT.create(()=>{O.dispose()}));const V={toDispose:St,anchor:ct,target:{data:Nt,type:dt},customRender:null,menuModel:O};return at.menuCustomRender&&(V.customRender=yield at.menuCustomRender(Le,this.modelService)),at.menuModelService&&(yield at.menuModelService(Le,V.menuModel,this.modelService,St)),V})}registerModel(Le){const at=[Le.registerModel({id:ve.id,getInitialValue:()=>null,watchChange:(ct,dt)=>(0,d.mG)(this,void 0,void 0,function*(){return(yield v.dX.CONTEXTMENU_TARGET.getModel(dt)).watch(St=>(0,d.mG)(this,void 0,void 0,function*(){const Nt=yield this.getMenuModelValue(St);ct.setValue(Nt)}))})})];this.toDispose.pushAll(at)}};(0,d.gn)([Oe(ie),(0,d.w6)("design:type",ie)],Pe.prototype,"menuConfig",void 0),(0,d.gn)([Oe(v.qI),(0,d.w6)("design:type",Object)],Pe.prototype,"modelService",void 0),Pe=(0,d.gn)([L({contrib:[v.SM]})],Pe);const pe=Ee=>v.ManaSyringe.Module(Le=>{Le(Pe),Le(ie,{useValue:Ee})});var Be=l(1413),je=l(4942),he=l(97685),st=l(91),en=l(81263),vn={adjustX:1,adjustY:1},Mt=[0,0],It={topLeft:{points:["bl","tl"],overflow:vn,offset:[0,-4],targetOffset:Mt},topCenter:{points:["bc","tc"],overflow:vn,offset:[0,-4],targetOffset:Mt},topRight:{points:["br","tr"],overflow:vn,offset:[0,-4],targetOffset:Mt},bottomLeft:{points:["tl","bl"],overflow:vn,offset:[0,4],targetOffset:Mt},bottomCenter:{points:["tc","bc"],overflow:vn,offset:[0,4],targetOffset:Mt},bottomRight:{points:["tr","br"],overflow:vn,offset:[0,4],targetOffset:Mt}},Ve=It,Me={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(Le){var at=Le.keyCode;if(Le.altKey&&!Le.ctrlKey||Le.metaKey||at>=Me.F1&&at<=Me.F12)return!1;switch(at){case Me.ALT:case Me.CAPS_LOCK:case Me.CONTEXT_MENU:case Me.CTRL:case Me.DOWN:case Me.END:case Me.ESC:case Me.HOME:case Me.INSERT:case Me.LEFT:case Me.MAC_FF_META:case Me.META:case Me.NUMLOCK:case Me.NUM_CENTER:case Me.PAGE_DOWN:case Me.PAGE_UP:case Me.PAUSE:case Me.PRINT_SCREEN:case Me.RIGHT:case Me.SHIFT:case Me.UP:case Me.WIN_KEY:case Me.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(Le){if(Le>=Me.ZERO&&Le<=Me.NINE||Le>=Me.NUM_ZERO&&Le<=Me.NUM_MULTIPLY||Le>=Me.A&&Le<=Me.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&Le===0)return!0;switch(Le){case Me.SPACE:case Me.QUESTION_MARK:case Me.NUM_PLUS:case Me.NUM_MINUS:case Me.NUM_PERIOD:case Me.NUM_DIVISION:case Me.SEMICOLON:case Me.DASH:case Me.EQUALS:case Me.COMMA:case Me.PERIOD:case Me.SLASH:case Me.APOSTROPHE:case Me.SINGLE_QUOTE:case Me.OPEN_SQUARE_BRACKET:case Me.BACKSLASH:case Me.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Qe=Me,bt=function(Le){return+setTimeout(Le,16)},Ge=function(Le){return clearTimeout(Le)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(bt=function(Le){return window.requestAnimationFrame(Le)},Ge=function(Le){return window.cancelAnimationFrame(Le)});var Ae=0,be=new Map;function Ne(Ee){be.delete(Ee)}var Re=function(Le){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Ae+=1;var ct=Ae;function dt(mt){if(mt===0)Ne(ct),Le();else{var St=bt(function(){dt(mt-1)});be.set(ct,St)}}return dt(at),ct};Re.cancel=function(Ee){var Le=be.get(Ee);return Ne(Ee),Ge(Le)};var ht=Re,Wt=Qe.ESC,Yt=Qe.TAB;function Lt(Ee){var Le=Ee.visible,at=Ee.setTriggerVisible,ct=Ee.triggerRef,dt=Ee.menuRef,mt=Ee.onVisibleChange,St=Ee.autoFocus,Nt=m.useRef(!1),O=function(){if(Le&&ct.current){var qe,Rt,In,Wr;(qe=ct.current)===null||qe===void 0||(Rt=qe.triggerRef)===null||Rt===void 0||(In=Rt.current)===null||In===void 0||(Wr=In.focus)===null||Wr===void 0||Wr.call(In),at(!1),typeof mt=="function"&&mt(!1)}},V=function(){var qe,Rt;(qe=dt.current)===null||qe===void 0||(Rt=qe.focus)===null||Rt===void 0||Rt.call(qe),Nt.current=!0},ae=function(qe){var Rt;switch(qe.keyCode){case Wt:O();break;case Yt:!Nt.current&&(!((Rt=dt.current)===null||Rt===void 0)&&Rt.focus)?(qe.preventDefault(),V()):O();break}};m.useEffect(function(){return Le?(window.addEventListener("keydown",ae),St&&ht(V,3),function(){window.removeEventListener("keydown",ae),Nt.current=!1}):function(){Nt.current=!1}},[Le])}var Dt=l(71002),lt=l(40256);function Ft(Ee,Le,at){var ct=React.useRef({});return(!("value"in ct.current)||at(ct.current.condition,Le))&&(ct.current.value=Ee(),ct.current.condition=Le),ct.current.value}var qt=function(Le,at){typeof Le=="function"?Le(at):(0,Dt.Z)(Le)==="object"&&Le&&"current"in Le&&(Le.current=at)},Nn=function(){for(var Le=arguments.length,at=new Array(Le),ct=0;ct<Le;ct++)at[ct]=arguments[ct];var dt=at.filter(Boolean);return dt.length<=1?dt[0]:function(mt){at.forEach(function(St){qt(St,mt)})}},kn=function(){for(var Le=arguments.length,at=new Array(Le),ct=0;ct<Le;ct++)at[ct]=arguments[ct];return useMemo(function(){return Nn.apply(void 0,at)},at,function(dt,mt){return dt.length!==mt.length||dt.every(function(St,Nt){return St!==mt[Nt]})})},An=function(Le){var at,ct,dt=(0,lt.isMemo)(Le)?Le.type.type:Le.type;return!(typeof dt=="function"&&!((at=dt.prototype)!==null&&at!==void 0&&at.render)&&dt.$$typeof!==lt.ForwardRef||typeof Le=="function"&&!((ct=Le.prototype)!==null&&ct!==void 0&&ct.render)&&Le.$$typeof!==lt.ForwardRef)};function Kn(Ee){return(0,m.isValidElement)(Ee)&&!(0,lt.isFragment)(Ee)}var ee=function(Le){return Kn(Le)&&An(Le)},it=Number(m.version.split(".")[0])>=19?function(Ee){return Kn(Ee)?Ee.props.ref:null}:function(Ee){return Kn(Ee)?Ee.ref:null},Ze=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function ot(Ee,Le){var at=Ee.arrow,ct=at===void 0?!1:at,dt=Ee.prefixCls,mt=dt===void 0?"rc-dropdown":dt,St=Ee.transitionName,Nt=Ee.animation,O=Ee.align,V=Ee.placement,ae=V===void 0?"bottomLeft":V,we=Ee.placements,qe=we===void 0?Ve:we,Rt=Ee.getPopupContainer,In=Ee.showAction,Wr=Ee.hideAction,_i=Ee.overlayClassName,So=Ee.overlayStyle,Ho=Ee.visible,ga=Ee.trigger,ns=ga===void 0?["hover"]:ga,xs=Ee.autoFocus,el=(0,st.Z)(Ee,Ze),ja=m.useState(),Vs=(0,he.Z)(ja,2),dl=Vs[0],al=Vs[1],Oc="visible"in Ee?Ho:dl,$a=m.useRef(null);m.useImperativeHandle(Le,function(){return $a.current});var Ao=m.useRef(null),eo="".concat(mt,"-menu");Lt({visible:Oc,setTriggerVisible:al,triggerRef:$a,menuRef:Ao,onVisibleChange:Ee.onVisibleChange,autoFocus:xs});var As=function(){var vl=Ee.overlay,oc;return typeof vl=="function"?oc=vl():oc=vl,oc},ic=function(vl){var oc=Ee.onOverlayClick,Dc=As().props;al(!1),oc&&oc(vl),Dc.onClick&&Dc.onClick(vl)},_c=function(vl){var oc=Ee.onVisibleChange;al(vl),typeof oc=="function"&&oc(vl)},Ac=function(){var vl,oc=As(),Dc=Nn(Ao,oc.ref),Fu=(vl={prefixCls:eo},(0,je.Z)(vl,"data-dropdown-inject",!0),(0,je.Z)(vl,"onClick",ic),(0,je.Z)(vl,"ref",An(oc)?Dc:void 0),vl);return typeof oc.type=="string"&&(delete Fu.prefixCls,delete Fu["data-dropdown-inject"]),m.createElement(m.Fragment,null,ct&&m.createElement("div",{className:"".concat(mt,"-arrow")}),m.cloneElement(oc,Fu))},cc=function(){var vl=Ee.overlay;return typeof vl=="function"?Ac:Ac()},Pu=function(){var vl=Ee.minOverlayWidthMatchTrigger,oc=Ee.alignPoint;return"minOverlayWidthMatchTrigger"in Ee?vl:!oc},gc=function(){var vl=Ee.openClassName;return vl!==void 0?vl:"".concat(mt,"-open")},fu=function(){var vl=Ee.children,oc=vl.props?vl.props:{},Dc=Q()(oc.className,gc());return Oc&&vl?m.cloneElement(vl,{className:Dc}):vl},Cc=Wr;return!Cc&&ns.indexOf("contextMenu")!==-1&&(Cc=["click"]),m.createElement(en.Z,(0,Be.Z)((0,Be.Z)({builtinPlacements:qe},el),{},{prefixCls:mt,ref:$a,popupClassName:Q()(_i,(0,je.Z)({},"".concat(mt,"-show-arrow"),ct)),popupStyle:So,action:ns,showAction:In,hideAction:Cc||[],popupPlacement:ae,popupAlign:O,popupTransitionName:St,popupAnimation:Nt,popupVisible:Oc,stretch:Pu()?"minWidth":"",popup:cc(),onPopupVisibleChange:_c,getPopupContainer:Rt}),fu())}var Xe=m.forwardRef(ot),et=Xe;class pt extends m.Component{render(){const{children:Le,trigger:at,disabled:ct}=this.props,dt=`${this.props.prefixCls}-dropdown`,mt=m.Children.only(Le),St=m.cloneElement(mt,{className:Q()(Le.props.className,`${dt}-trigger`),disabled:ct}),Nt=ct?[]:Array.isArray(at)?at:[at];let O=!1;Nt&&Nt.indexOf("contextMenu")!==-1&&(O=!0);const V=m.Children.only(this.props.overlay),ae=m.createElement("div",{className:`${dt}-overlay`},V);return m.createElement(et,Object.assign({},this.props,{prefixCls:dt,overlay:ae,alignPoint:O,trigger:Nt}),St)}}(function(Ee){Ee.defaultProps={trigger:"hover",prefixCls:"x6",mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft"}})(pt||(pt={}));const He=m.createContext({});class Et extends m.PureComponent{constructor(){super(...arguments),this.onHotkey=()=>{this.triggerHandler()},this.onClick=Le=>{this.triggerHandler(Le)}}componentDidMount(){const{hotkey:Le}=this.props;Le&&this.props.context.registerHotkey(Le,this.onHotkey)}componentWillUnmount(){const{hotkey:Le}=this.props;Le&&this.props.context.unregisterHotkey(Le,this.onHotkey)}triggerHandler(Le){!this.props.disabled&&!this.props.hidden&&(this.props.name&&this.props.context.onClick(this.props.name,Le),this.props.onClick&&this.props.onClick())}render(){return m.createElement("div",Object.assign({},Et.getProps(this.props)),Et.getContent(this.props,this.onClick))}}(function(Ee){function Le(ct,dt){const{className:mt,disabled:St,active:Nt,hidden:O}=ct,{prefixCls:V}=ct.context,ae=`${V}-item`;return{className:Q()(ae,dt,{[`${ae}-active`]:Nt,[`${ae}-hidden`]:O,[`${ae}-disabled`]:St},mt)}}Ee.getProps=Le;function at(ct,dt,mt,St){const{icon:Nt,text:O,hotkey:V,children:ae}=ct,{prefixCls:we}=ct.context,qe=`${we}-item`;return m.createElement(m.Fragment,null,m.createElement("button",{type:"button",className:`${qe}-button`,onClick:dt},Nt&&m.isValidElement(Nt)&&m.createElement("span",{className:`${qe}-icon`},Nt),m.createElement("span",{className:`${qe}-text`},O||ae),V&&m.createElement("span",{className:`${qe}-hotkey`},V),mt),St)}Ee.getContent=at})(Et||(Et={}));const Vt=Ee=>m.createElement(He.Consumer,null,Le=>m.createElement(Et,Object.assign({context:Le},Ee))),On=()=>m.createElement(He.Consumer,null,({prefixCls:Ee})=>m.createElement("div",{className:`${Ee}-item ${Ee}-item-divider`}));var Wn=function(Ee,Le){var at={};for(var ct in Ee)Object.prototype.hasOwnProperty.call(Ee,ct)&&Le.indexOf(ct)<0&&(at[ct]=Ee[ct]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,ct=Object.getOwnPropertySymbols(Ee);dt<ct.length;dt++)Le.indexOf(ct[dt])<0&&Object.prototype.propertyIsEnumerable.call(Ee,ct[dt])&&(at[ct[dt]]=Ee[ct[dt]]);return at};const pr=Ee=>{const{hotkey:Le,children:at}=Ee,ct=Wn(Ee,["hotkey","children"]);return m.createElement(He.Consumer,null,dt=>{const{prefixCls:mt}=dt,St=Et.getProps(Object.assign({context:dt},Ee),`${mt}-submenu`);return m.createElement("div",Object.assign({},St),Et.getContent(Object.assign({context:dt},ct),null,m.createElement("span",{className:`${mt}-submenu-arrow`}),m.createElement("div",{className:`${mt}-submenu-menu`},at)))})};class Cr extends m.PureComponent{constructor(){super(...arguments),this.onClick=(Le,at)=>{this.props.stopPropagation&&at!=null&&at.stopPropagation(),this.props.onClick&&this.props.onClick(Le)},this.registerHotkey=(Le,at)=>{this.props.registerHotkey&&this.props.registerHotkey(Le,at)},this.unregisterHotkey=(Le,at)=>{this.props.unregisterHotkey&&this.props.unregisterHotkey(Le,at)}}render(){const{prefixCls:Le,className:at,children:ct,hasIcon:dt}=this.props,mt=`${Le}-menu`,St=He.Provider,Nt={prefixCls:mt,onClick:this.onClick,registerHotkey:this.registerHotkey,unregisterHotkey:this.unregisterHotkey};return m.createElement("div",{className:Q()(mt,{[`${mt}-has-icon`]:dt},at)},m.createElement(St,{value:Nt},ct))}}(function(Ee){Ee.Item=Vt,Ee.Divider=On,Ee.SubMenu=pr,Ee.defaultProps={prefixCls:"x6",stopPropagation:!1}})(Cr||(Cr={}));const Sn=Ee=>{const{idx:Le,menuOptions:at,target:ct,modelService:dt,commandService:mt,onHide:St}=Ee,{id:Nt,label:O,isEnabled:V=!0,isVisible:ae=!0,iconName:we,submenu:qe=[],active:Rt,hotkey:In,render:Wr,onClick:_i}=at;if(!ae)return null;if(at.type==="separator")return m.createElement(Cr.Divider,{key:String(at.id)+Le});if(at.type==="root")return m.createElement(Cr,{hasIcon:!0},qe.map((Ho,ga)=>Sn({idx:ga,target:ct,commandService:mt,modelService:dt,menuOptions:Ho,onHide:St})));if(at.submenu&&Array.isArray(at.submenu)){const Ho=v.ko.get(we),ga=!V;return m.createElement(Cr.SubMenu,{key:String(Nt),text:O,disabled:ga||qe.length===0,icon:Ho?m.createElement(Ho,null):null,active:Rt,hotkey:In},qe.map((ns,xs)=>Sn({idx:xs,target:ct,commandService:mt,modelService:dt,menuOptions:ns,onHide:St})))}const So=v.ko.get(we);return Wr?m.createElement(Wr,{menuItem:at,target:ct,commandService:mt,modelService:dt,onHide:St},[m.createElement(Cr.Item,{key:String(Nt),text:O,disabled:!V,icon:So?m.createElement(So,null):null,active:Rt,hotkey:In})]):m.createElement(Cr.Item,{key:String(Nt),text:O,disabled:!V,icon:So?m.createElement(So,null):null,active:Rt,hotkey:In,onClick:()=>(0,d.mG)(void 0,void 0,void 0,function*(){yield _i({menuItem:at,target:ct,commandService:mt,modelService:dt}),St&&St()})})},Cn=Ee=>{const{menuModel:Le,target:at,onHide:ct}=Ee,{modelService:dt,commandService:mt}=(0,v.XZ)(),[St]=(0,v.tT)(Le);return Sn({idx:-1,target:at,commandService:mt,modelService:dt,menuOptions:St,onHide:ct})},Fn=({toDispose:Ee})=>(m.useEffect(()=>()=>{Ee.dispose()},[Ee]),null),Hn=()=>{const Ee=m.useRef(),Le=(0,v.XZ)(),[at,,ct]=(0,v.DL)({getModel:()=>(0,d.mG)(void 0,void 0,void 0,function*(){return yield ve.getModel(Le.modelService)}),initialState:{anchor:null,menuModel:null,target:null,customRender:null,toDispose:null}}),{target:dt,anchor:mt,menuModel:St,customRender:Nt,toDispose:O}=at;if(!dt||!mt||!St)return null;const V=()=>{ct.setValue({anchor:null,menuModel:null,target:null,customRender:null,toDispose:null})},ae=Nt?m.createElement(Nt,{target:dt,modelService:Le.modelService,onHide:V}):m.createElement(Cn,{target:dt,menuModel:St,onHide:V});return m.createElement("div",{className:"xflow-menu-mask",ref:Ee,onClick:V,onContextMenu:we=>{we.preventDefault(),we.stopPropagation()}},m.createElement(Fn,{toDispose:O}),m.createElement(pt,{visible:!0,getPopupContainer:()=>Ee.current,overlay:ae},m.createElement("div",{className:"xflow-context-menu-anchor",style:{top:mt.y,left:mt.x}})))},sr="CanvasContextMenu",ti=Ee=>{const at=!!(0,v.XZ)(),ct=m.useMemo(()=>Ee.config?Ee.config:new ie,[Ee.config]);return m.createElement(v.p3,{createModule:pe,config:ct},at&&m.createElement(Hn,{config:ct}))},Ir=Ee=>Le=>{const at=m.useMemo(()=>({getValue:()=>({})}),[]);return at.getValue=()=>Le,m.useMemo(()=>{const dt=new ie;return Ee(dt,at),dt},[at])},kr="CanvasToolbar";class di{constructor(){this.CONFIG_TYPE=kr,this.setToolbarName=Le=>{this.moduleId=kr+"__"+Le},this.setToolbarModelService=Le=>{this.toolbarModelService=Le},this.setCustomToolbarRender=Le=>{this.customRenderService=Le},this.getConfig=()=>({CONFIG_TYPE:this.CONFIG_TYPE,toolbarCustomRender:this.customRenderService,toolbarModelService:this.toolbarModelService}),this.moduleId=kr+"__"+(0,v.k$)()}dispose(){}}var Yn=l(11382);const Bt=m.createContext({});class kt extends m.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.processClick()},this.handleDropdownItemClick=Le=>{this.processClick(Le,!1)}}processClick(Le=this.props.name,at=this.props.dropdown){!this.props.disabled&&!at&&(Le&&this.props.context.onClick(Le),this.props.onClick&&this.props.onClick(Le))}renderButton(){const{className:Le,hidden:at,disabled:ct,active:dt,icon:mt,text:St,dropdown:Nt,dropdownArrow:O,tooltip:V,tooltipProps:ae,tooltipAsTitle:we,children:qe}=this.props,{prefixCls:Rt}=this.props.context,In=`${Rt}-item`,Wr={onClick:this.handleClick,className:Q()(In,{[`${In}-hidden`]:at,[`${In}-active`]:dt,[`${In}-disabled`]:ct,[`${In}-dropdown`]:Nt},Le)};V&&we&&(Wr.title=V);const _i=m.createElement("button",Object.assign({type:"button"},Wr),mt&&m.isValidElement(mt)&&m.createElement("span",{className:`${In}-icon`},mt),(St||qe)&&m.createElement("span",{className:`${In}-text`},St||qe),Nt&&O&&m.createElement("span",{className:`${In}-dropdown-arrow`}));return V&&!we&&!ct?m.createElement(Z.Z,Object.assign({title:V,placement:"bottom",mouseEnterDelay:0,mouseLeaveDelay:0},ae),_i):_i}render(){const{dropdown:Le,dropdownProps:at,disabled:ct}=this.props,dt=this.renderButton();if(Le!=null&&!ct){const mt=m.createElement("div",null,Le.type===Cr?m.cloneElement(Le,{onClick:this.handleDropdownItemClick}):Le),St=Object.assign(Object.assign({trigger:["click"]},at),{disabled:ct,overlay:mt});return m.createElement(pt,Object.assign({},St),dt)}return dt}}const dn=Ee=>m.createElement(Bt.Consumer,null,Le=>m.createElement(kt,Object.assign({context:Le},Ee)));dn.defaultProps={dropdownArrow:!0};const Ot=({children:Ee,className:Le})=>m.createElement(Bt.Consumer,null,({prefixCls:at})=>m.createElement("div",{className:Q()(`${at}-group`,Le)},Ee));class ur extends m.PureComponent{constructor(){super(...arguments),this.onClick=(Le,at)=>{this.props.onClick&&this.props.onClick(Le,at)}}render(){const{prefixCls:Le,className:at,children:ct,extra:dt,size:mt,align:St,hoverEffect:Nt}=this.props,O=`${Le}-toolbar`;return m.createElement("div",{className:Q()(O,at,{[`${O}-${mt}`]:mt,[`${O}-align-right`]:St==="right",[`${O}-hover-effect`]:Nt})},m.createElement("div",{className:`${O}-content`},m.createElement("div",{className:`${O}-content-inner`},m.createElement(Bt.Provider,{value:{prefixCls:O,onClick:this.onClick}},ct)),dt&&m.createElement("div",{className:`${O}-content-extras`},dt)))}}(function(Ee){Ee.Item=dn,Ee.Group=Ot,Ee.defaultProps={prefixCls:"x6",hoverEffect:!1}})(ur||(ur={}));const Mn=Ee=>{const Le=(0,v.XZ)(),{item:at,layout:ct}=Ee,dt=Q()({"xflow-toolbar-item":!0}),mt=ct==="vertical"?"":at.text;let St;if(at.icon)St=at.icon;else if(at.iconName){const qe=v.ko.get(at.iconName);St=m.createElement(qe,null)}const Nt=at.render,{isEnabled:O=!0}=at,{commandService:V,modelService:ae}=Le,we=()=>{at.onClick&&at.onClick({toolbarItem:at,commandService:V,modelService:ae})};return Nt?m.createElement(Nt,Object.assign({},at,{onClick:we}),m.createElement(ur.Item,Object.assign({},at,{icon:St,text:mt,className:dt,disabled:!O,tooltip:at.tooltip||at.text,tooltipProps:Object.assign({placement:ct==="vertical"?"left":"bottom"},at.tooltipProps),onClick:()=>{}}))):m.createElement(ur.Item,Object.assign({},at,{icon:St,text:mt,className:dt,hidden:!at,disabled:!O,tooltip:at.tooltip||at.text,onClick:we,tooltipProps:Object.assign(Object.assign({},at.tooltipProps),{placement:ct==="vertical"?"left":"bottom"})}))},zr=Ee=>{const{group:Le,layout:at}=Ee,ct=m.useMemo(()=>Le.name||(0,v.k$)(),[Le.name]),{items:dt=[]}=Le;if(dt.length===0)return null;const mt=Q()({"xflow-toolbar-group":!0});return m.createElement(ur.Group,{className:mt,key:ct},dt.map(St=>m.createElement(Mn,{item:St,layout:at,key:St.id})))},jt=Ee=>{const{config:Le}=Ee,at=Le.moduleId,ct=(0,v.XZ)(),[dt,mt,St,Nt]=(0,v.Ao)({name:at,layout:Ee.layout,mainGroups:[],extraGroups:[],customRender:null});return m.useEffect(()=>{const O=new v.K4;if(!ct.modelService.findDeferredModel(at)){const{toolbarCustomRender:ae,toolbarModelService:we}=Le.getConfig(),qe=ct.modelService.registerModel({id:at,modelFactory:()=>St,watchChange:Rt=>(0,d.mG)(void 0,void 0,void 0,function*(){if(we&&(yield we(Rt,ct.modelService,O)),ae){const In=Wr=>{Rt.setValue(_i=>_i.customRender=Wr)};yield ae(ct.modelService,In)}return O})});O.push(qe)}return()=>{O.dispose()}},[]),{isModelReady:Nt,state:dt,setState:mt,toolbarModel:St}},gn=Ee=>{const{idx:Le,groups:at,layout:ct,toolbarOptions:dt}=Ee,{hoverEffect:mt=!0}=dt;return m.createElement(ur,{hoverEffect:mt},at.map((St,Nt)=>{const O=Le+Nt;return m.createElement(zr,{key:O,group:St,layout:ct})}))},Ln=Ee=>{const{isModelReady:Le,state:at}=jt(Ee),ct=(0,v.Te)(Ee.position),{mainGroups:dt=[],extraGroups:mt=[],layout:St,customRender:Nt}=at,O=Q()(Ee.className,St,"xflow-toolbar"),V=Q()({[St]:!0,"xflow-toolbar-root":!0});return Le?Nt?m.createElement("div",{className:O,style:Object.assign(Object.assign({},ct),Ee.style)},m.createElement(Nt,{config:at})):m.createElement("div",{className:O,style:Object.assign(Object.assign({},ct),Ee.style)},m.createElement("div",{className:V},dt.length>0&&m.createElement(gn,{idx:"mainGroups",groups:dt,layout:St,toolbarOptions:at}),mt.length>0&&m.createElement(gn,{idx:"extraGroups",groups:mt,layout:St,toolbarOptions:at}))):m.createElement("div",{className:O,style:Object.assign(Object.assign({},ct),Ee.style)},m.createElement(Yn.Z,{spinning:!0,size:"small"}))},vt=m.memo(Ln),Zt=Ee=>{const at=!!(0,v.XZ)(),ct=m.useMemo(()=>Ee.config?Ee.config:new di,[Ee.config]);return at?m.createElement(vt,Object.assign({},Ee,{config:ct})):null},or=Ee=>Le=>{const at=m.useMemo(()=>({getValue:()=>({})}),[]);return at.getValue=()=>Le,m.useMemo(()=>{const dt=new di;return Ee(dt,at),dt},[at])};var ir=l(89514),lr=l(52514),Pr=l(83715),$r=l(74317),dr=l(27732),ni=l(11713),un;(function(Ee){v.ko.set("ZoomInOutlined",ir.Z),v.ko.set("ZoomOutOutlined",lr.Z),v.ko.set("OneToOneOutlined",Pr.Z),v.ko.set("CompressOutlined",$r.Z),v.ko.set("FullscreenOutlined",dr.Z),v.ko.set("FullscreenExitOutlined",ni.Z),Ee.ZOOM_IN=v.Gv.GRAPH_ZOOM.id+"-zoom-in",Ee.ZOOM_OUT=v.Gv.GRAPH_ZOOM.id+"-zoom-out",Ee.SCALE_TO_ONE=v.Gv.GRAPH_ZOOM.id+"-scale-to-one",Ee.SCALE_TO_FIT=v.Gv.GRAPH_ZOOM.id+"-scale-to-fit",Ee.FULLSCREEN=v.Gv.GRAPH_ZOOM.id+"-fullscreen",Ee.MAX_SCALE=1.5,Ee.MIN_SCALE=.05,Ee.zoomOptions={maxScale:Ee.MAX_SCALE,minScale:Ee.MIN_SCALE},Ee.getToolbarConfig=({zoomFactor:Le,fullscreen:at})=>[{name:"main",items:[{id:Ee.ZOOM_IN,tooltip:"\u653E\u5927",iconName:"ZoomInOutlined",onClick:({commandService:ct})=>{ct.executeCommand(v.Gv.GRAPH_ZOOM.id,{factor:.1,zoomOptions:Ee.zoomOptions})}},{id:Ee.ZOOM_OUT,tooltip:"\u7F29\u5C0F",iconName:"ZoomOutOutlined",onClick:({commandService:ct})=>{ct.executeCommand(v.Gv.GRAPH_ZOOM.id,{factor:-.1,zoomOptions:Ee.zoomOptions})}},{id:Ee.SCALE_TO_ONE,iconName:"OneToOneOutlined",tooltip:"\u7F29\u653E\u52301:1",isEnabled:Le!==1,onClick:({commandService:ct})=>{ct.executeCommand(v.Gv.GRAPH_ZOOM.id,{factor:"real",zoomOptions:Ee.zoomOptions})}},{id:Ee.SCALE_TO_FIT,tooltip:"\u7F29\u653E\u5230\u9002\u5E94\u5C4F\u5E55",iconName:"CompressOutlined",onClick:({commandService:ct})=>{ct.executeCommand(v.Gv.GRAPH_ZOOM.id,{factor:"fit",zoomOptions:Ee.zoomOptions})}},{id:Ee.FULLSCREEN,tooltip:at?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F",iconName:at?"FullscreenExitOutlined":"FullscreenOutlined",onClick:({commandService:ct})=>{ct.executeCommand(v.Gv.GRAPH_FULLSCREEN.id,{})}}]}]})(un||(un={}));const ue="CANVAS_SCALE_TOOLBAR",De=or(Ee=>{Ee.setToolbarModelService((Le,at)=>(0,d.mG)(void 0,void 0,void 0,function*(){const ct=yield v.dX.GRAPH_SCALE.useValue(at);Le.setValue(St=>{St.mainGroups=un.getToolbarConfig({zoomFactor:ct.zoomFactor,fullscreen:!1})});const dt=yield v.dX.GRAPH_FULLSCREEN.getModel(at);dt.setValue(!1),dt.watch(St=>{Le.setValue(Nt=>{Nt.mainGroups=un.getToolbarConfig({zoomFactor:ct.zoomFactor,fullscreen:St})})}),(yield v.dX.GRAPH_SCALE.getModel(at)).watch(({zoomFactor:St})=>(0,d.mG)(void 0,void 0,void 0,function*(){const Nt=yield v.dX.GRAPH_FULLSCREEN.useValue(at);Le.setValue(O=>{O.mainGroups=un.getToolbarConfig({zoomFactor:St,fullscreen:Nt})})}))}))}),oe=Ee=>{const Le=De(Ee);return m.createElement(Zt,Object.assign({layout:"vertical"},Ee,{config:Le,position:Ee.position||{top:12,right:12}}))};var R=l(51018),N=l(71577);function G(Ee){const{className:Le,layout:at,initialValues:ct,form:dt,formItems:mt=[],onFinish:St,submitButton:Nt,buttonProps:O}=Ee;if(!dt)return null;const V=at==="vertical"?{padding:"0px 12px"}:{padding:"8px 12px"};return m.createElement(R.Z,{size:"small",form:dt,style:V,layout:at,onFinish:St,className:Le,initialValues:ct,labelCol:at==="vertical"?{span:24}:{span:8},wrapperCol:at==="vertical"?{span:24}:{span:16}},mt.map(ae=>m.createElement(R.Z.Item,Object.assign({label:ae.label,name:ae.name,rules:ae.rules},ae.itemProps),m.createElement(ae.render,ae.renderProps))),m.createElement(R.Z.Item,{wrapperCol:{offset:0,span:24}},Nt||m.createElement(N.Z,Object.assign({type:"primary",htmlType:"submit",style:{width:"100%"}},O),"\u6267\u884C\u547D\u4EE4")))}function ye(Ee,Le){return Math.floor(Math.random()*(Le-Ee)+Ee)}const Ie=Symbol("IMinimapConfigProvider");let ze=class{constructor(){this.toDispose=new v.K4,this.registerHookHub=()=>(0,d.mG)(this,void 0,void 0,function*(){return v.JT.create(()=>{})}),this.registerHook=Le=>(0,d.mG)(this,void 0,void 0,function*(){const at=new v.K4,ct=[Le.graphOptions.registerHook({name:"add minimap options",handler:dt=>(0,d.mG)(this,void 0,void 0,function*(){const mt=yield this.minimapConfig.getConfig();dt.minimap=Object.assign({},mt)})})];return at.pushAll(ct),v.JT.create(()=>{})})}};(0,d.gn)([v.ManaSyringe.inject(Ie),(0,d.w6)("design:type",Object)],ze.prototype,"minimapConfig",void 0),ze=(0,d.gn)([v.ManaSyringe.singleton({contrib:v.tF})],ze);const Ce=Ee=>v.ManaSyringe.Module(Le=>{Le(Ie,{useDynamic:()=>Ee}),Le(ze)});var ke=l(58379);class rt extends ke.DK{renderMarkup(){return this.renderJSONMarkup({tagName:"rect",selector:"body"})}update(){super.update({body:{refWidth:"100%",refHeight:"100%",fill:rt.nodeFillColor}})}}rt.nodeFillColor="#31d0c6",rt.setNodeFillColor=Ee=>{rt.nodeFillColor=Ee};const Tt="CanvasMiniMap",En=()=>({grid:!1,enabled:!0,width:200,height:120,padding:8,graphOptions:{async:!0,getCellView(Ee){if(Ee.isNode())return rt},createCellView(Ee){if(Ee.isEdge())return null}}}),Rn=Ee=>{const{nodeFillColor:Le,borderColor:at="#ced4de",handlerColor:ct="rgba(0,0,0,.3)",miniMapClz:dt="",position:mt={bottom:12,right:12},minimapOptions:St={}}=Ee,Nt=m.useRef(null),O=m.useRef(Ee.minimapOptions),V=m.useMemo(()=>new Set([dt,"xflow-minimap","minimap-instacne-"+Date.now().toString()]),[dt]),ae=m.useMemo(()=>()=>(0,d.mG)(void 0,void 0,void 0,function*(){return Object.assign(Object.assign(Object.assign({},En()),O.current),{container:Nt.current})}),[Nt]),we=(0,v.Te)(mt);m.useEffect(()=>{O.current=St},[O,St]),m.useEffect(()=>{Le&&rt.setNodeFillColor(Le)},[Le]),m.useEffect(()=>{const Rt=Array.from(V).reduce((_i,So)=>So?`${_i}.${So}`:_i,""),In=`
      ${Rt} .x6-widget-minimap-viewport {
        border: 1px solid ${at};
        margin: 0;
      }
      ${Rt} .x6-widget-minimap-viewport-zoom {
        border: 1px solid ${ct};
      }
    `,Wr=(0,v.Ns)(In);return()=>{document.head.removeChild(Wr)}},[at,V,ct]);const qe=Array.from(V).join(" ");return m.createElement(v.p3,{config:{getConfig:ae,CONFIG_TYPE:Tt},createModule:Ce},m.createElement("div",{ref:Nt,className:qe,style:we}))};class $n{constructor(){this.getValue=()=>({})}dispose(){this.getValue=()=>null}}class Xn{constructor(Le){this.moduleId=Le}dispose(){}}const $t=m.createContext({propsProxy:null,commandService:null,modelService:null}),hn=()=>m.useContext($t),bn=Ee=>{const{className:Le,position:at,style:ct,children:dt}=Ee,mt=(0,v.XZ)(),St=(0,v.Te)(at),Nt=m.useMemo(()=>new $n,[]);if(m.useEffect(()=>()=>{Nt.dispose()},[Nt]),!mt||!mt.modelService)return null;Nt.getValue=()=>Ee;const O=Q()({[Le]:!!Le,"xflow-workspace-panel":!0}),{commandService:V,modelService:ae}=mt;return m.createElement($t.Provider,{value:{propsProxy:Nt,commandService:V,modelService:ae}},m.createElement("div",{className:O,style:Object.assign(Object.assign({},St),ct)},dt))};var br=l(99814),qn=l(87462),Li=l(48792),$i=l(93771),Bi=function(Le,at){return m.createElement($i.Z,(0,Be.Z)((0,Be.Z)({},Le),{},{ref:at,icon:Li.Z}))},co=m.forwardRef(Bi),Do=co,Wo=l(53124),hi=l(33603),ua=4;function ya(Ee){var Le=Ee.dropPosition,at=Ee.dropLevelOffset,ct=Ee.prefixCls,dt=Ee.indent,mt=Ee.direction,St=mt===void 0?"ltr":mt,Nt=St==="ltr"?"left":"right",O=St==="ltr"?"right":"left",V=(0,je.Z)((0,je.Z)({},Nt,-at*dt+ua),O,0);switch(Le){case-1:V.top=-3;break;case 1:V.bottom=-3;break;default:V.bottom=-3,V[Nt]=dt+ua;break}return m.createElement("div",{style:V,className:"".concat(ct,"-drop-indicator")})}var fi=l(59657),Pi=m.forwardRef(function(Ee,Le){var at=m.useContext(Wo.E_),ct=at.getPrefixCls,dt=at.direction,mt=at.virtual,St=Ee.prefixCls,Nt=Ee.className,O=Ee.showIcon,V=O===void 0?!1:O,ae=Ee.showLine,we=Ee.switcherIcon,qe=Ee.blockNode,Rt=qe===void 0?!1:qe,In=Ee.children,Wr=Ee.checkable,_i=Wr===void 0?!1:Wr,So=Ee.selectable,Ho=So===void 0?!0:So,ga=Ee.draggable,ns=Ee.motion,xs=ns===void 0?(0,qn.Z)((0,qn.Z)({},hi.ZP),{motionAppear:!1}):ns,el=ct("tree",St),ja=(0,qn.Z)((0,qn.Z)({},Ee),{checkable:_i,selectable:Ho,showIcon:V,motion:xs,blockNode:Rt,showLine:!!ae,dropIndicatorRender:ya}),Vs=m.useMemo(function(){if(!ga)return!1;var dl={};switch((0,Dt.Z)(ga)){case"function":dl.nodeDraggable=ga;break;case"object":dl=(0,qn.Z)({},ga);break;default:break}return dl.icon!==!1&&(dl.icon=dl.icon||m.createElement(Do,null)),dl},[ga]);return m.createElement(br.Z,(0,qn.Z)({itemHeight:20,ref:Le,virtual:mt},ja,{prefixCls:el,className:Q()((0,je.Z)((0,je.Z)((0,je.Z)((0,je.Z)({},"".concat(el,"-icon-hide"),!V),"".concat(el,"-block-node"),Rt),"".concat(el,"-unselectable"),!Ho),"".concat(el,"-rtl"),dt==="rtl"),Nt),direction:dt,checkable:_i&&m.createElement("span",{className:"".concat(el,"-checkbox-inner")}),selectable:Ho,switcherIcon:function(al){return(0,fi.Z)(el,we,ae,al)},draggable:Vs}),In)}),Qi=Pi,Zi=l(74902),Ta=l(41018),uo=l(48898),xa=function(Le,at){return m.createElement($i.Z,(0,Be.Z)((0,Be.Z)({},Le),{},{ref:at,icon:uo.Z}))},Qo=m.forwardRef(xa),ra=Qo,To=l(85118),fa=function(Le,at){return m.createElement($i.Z,(0,Be.Z)((0,Be.Z)({},Le),{},{ref:at,icon:To.Z}))},Ba=m.forwardRef(fa),xt=Ba,sn=l(10225),Ht=l(1089),jn;(function(Ee){Ee[Ee.None=0]="None",Ee[Ee.Start=1]="Start",Ee[Ee.End=2]="End"})(jn||(jn={}));function xr(Ee,Le){function at(ct){var dt=ct.key,mt=ct.children;Le(dt,ct)!==!1&&xr(mt||[],Le)}Ee.forEach(at)}function nr(Ee){var Le=Ee.treeData,at=Ee.expandedKeys,ct=Ee.startKey,dt=Ee.endKey,mt=[],St=jn.None;if(ct&&ct===dt)return[ct];if(!ct||!dt)return[];function Nt(O){return O===ct||O===dt}return xr(Le,function(O){if(St===jn.End)return!1;if(Nt(O)){if(mt.push(O),St===jn.None)St=jn.Start;else if(St===jn.Start)return St=jn.End,!1}else St===jn.Start&&mt.push(O);return at.includes(O)}),mt}function zt(Ee,Le){var at=(0,Zi.Z)(Le),ct=[];return xr(Ee,function(dt,mt){var St=at.indexOf(dt);return St!==-1&&(ct.push(mt),at.splice(St,1)),!!at.length}),ct}var Qr=function(Ee,Le){var at={};for(var ct in Ee)Object.prototype.hasOwnProperty.call(Ee,ct)&&Le.indexOf(ct)<0&&(at[ct]=Ee[ct]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,ct=Object.getOwnPropertySymbols(Ee);dt<ct.length;dt++)Le.indexOf(ct[dt])<0&&Object.prototype.propertyIsEnumerable.call(Ee,ct[dt])&&(at[ct[dt]]=Ee[ct[dt]]);return at};function hr(Ee){var Le=Ee.isLeaf,at=Ee.expanded;return Le?m.createElement(Ta.Z,null):at?m.createElement(ra,null):m.createElement(xt,null)}function gi(Ee){var Le=Ee.treeData,at=Ee.children;return Le||(0,Ht.zn)(at)}var mo=function(Le,at){var ct=Le.defaultExpandAll,dt=Le.defaultExpandParent,mt=Le.defaultExpandedKeys,St=Qr(Le,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),Nt=m.useRef(),O=m.useRef(),V=function(){var _c=(0,Ht.I8)(gi(St)),Ac=_c.keyEntities,cc;return ct?cc=Object.keys(Ac):dt?cc=(0,sn.r7)(St.expandedKeys||mt||[],Ac):cc=St.expandedKeys||mt,cc},ae=m.useState(St.selectedKeys||St.defaultSelectedKeys||[]),we=(0,he.Z)(ae,2),qe=we[0],Rt=we[1],In=m.useState(function(){return V()}),Wr=(0,he.Z)(In,2),_i=Wr[0],So=Wr[1];m.useEffect(function(){"selectedKeys"in St&&Rt(St.selectedKeys)},[St.selectedKeys]),m.useEffect(function(){"expandedKeys"in St&&So(St.expandedKeys)},[St.expandedKeys]);var Ho=function(_c,Ac){var cc;return"expandedKeys"in St||So(_c),(cc=St.onExpand)===null||cc===void 0?void 0:cc.call(St,_c,Ac)},ga=function(_c,Ac){var cc,Pu=St.multiple,gc=Ac.node,fu=Ac.nativeEvent,Cc=gc.key,bu=Cc===void 0?"":Cc,vl=gi(St),oc=(0,qn.Z)((0,qn.Z)({},Ac),{selected:!0}),Dc=(fu==null?void 0:fu.ctrlKey)||(fu==null?void 0:fu.metaKey),Fu=fu==null?void 0:fu.shiftKey,Gu;Pu&&Dc?(Gu=_c,Nt.current=bu,O.current=Gu,oc.selectedNodes=zt(vl,Gu)):Pu&&Fu?(Gu=Array.from(new Set([].concat((0,Zi.Z)(O.current||[]),(0,Zi.Z)(nr({treeData:vl,expandedKeys:_i,startKey:bu,endKey:Nt.current}))))),oc.selectedNodes=zt(vl,Gu)):(Gu=[bu],Nt.current=bu,O.current=Gu,oc.selectedNodes=zt(vl,Gu)),(cc=St.onSelect)===null||cc===void 0||cc.call(St,Gu,oc),"selectedKeys"in St||Rt(Gu)},ns=m.useContext(Wo.E_),xs=ns.getPrefixCls,el=ns.direction,ja=St.prefixCls,Vs=St.className,dl=St.showIcon,al=dl===void 0?!0:dl,Oc=St.expandAction,$a=Oc===void 0?"click":Oc,Ao=Qr(St,["prefixCls","className","showIcon","expandAction"]),eo=xs("tree",ja),As=Q()("".concat(eo,"-directory"),(0,je.Z)({},"".concat(eo,"-directory-rtl"),el==="rtl"),Vs);return m.createElement(Qi,(0,qn.Z)({icon:hr,ref:at,blockNode:!0},Ao,{showIcon:al,expandAction:$a,prefixCls:eo,className:As,expandedKeys:_i,selectedKeys:qe,onSelect:ga,onExpand:Ho}))},No=m.forwardRef(mo),io=No,Ti=Qi;Ti.DirectoryTree=io,Ti.TreeNode=br.O;var Fi=Ti,ha=l(10808),Ea=l(62986),ea=l(27254),Ja=l(93613),hs=l(66005),Gs=l(67309);const Ki={HORIRONTAL_NODE:"xflow-node-horizontal-edge",VERTICAL_NODE:"xflow-node-vertical-edge",VERTICAL_GROUP:"xflow-group-vertical-edge"},Oa={EDGE:"xflow-edge"},qa="XFLOW_NODE_SHAPE",da="processing",Aa=160,Ps=32;var wa;(function(Ee){Ee.id="GRAPH_STATUS_INFO";let Le;(function(at){at.SUCCESS="success",at.PROCESSING="processing",at.ERROR="error",at.DEFAULT="default",at.WARNING="warning"})(Le=Ee.StatusEnum||(Ee.StatusEnum={})),Ee.getModel=(0,Gs.getModelUtil)(Ee.id),Ee.useValue=(0,Gs.useModelValueUtil)(Ee.id)})(wa||(wa={}));var is;(function(Ee){Ee.QUERY_GRAPH_STATUS={id:"xflow:query-graph-status",label:"\u67E5\u8BE2\u753B\u5E03\u8282\u70B9\u72B6\u6001"}})(is||(is={}));let Pl;const{AnchorGroup:F}=v.NsGraph;ke.NB.registry.exist(qa)?Pl=ke.NB.registry.get(qa):Pl=hs.ep.define({width:Aa,height:Ps,shape:qa,view:v.WY.X6_NODE_PORTAL_NODE_VIEW,ports:{groups:{top:{zIndex:2,position:{name:F.TOP}},bottom:{zIndex:2,position:{name:F.BOTTOM}},right:{zIndex:2,position:{name:F.RIGHT}},left:{zIndex:2,position:{name:F.LEFT}}}},attrs:{body:{magnet:!1,fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%",zIndex:1}},portMarkup:[{tagName:"g",selector:"xflow-port-group",className:"xflow-port-group",attrs:{width:8,height:8,x:-4,y:-4,zIndex:10,magnet:"true"},children:[{tagName:"circle",selector:"xflow-port",className:"xflow-port",attrs:{r:4,fill:"#fff",stroke:"#d9d9d9",zIndex:12}},{tagName:"polygon",selector:"xflow-port-arrow",className:"xflow-port-arrow",attrs:{points:"0,0 8,0 4,4 ",fill:"#d9d9d9",stroke:"#d9d9d9",zIndex:13,transform:"translate(-4,0)"}}]}]});const{DirectoryTree:X,TreeNode:ge}=Fi,_e=({expanded:Ee})=>Ee?m.createElement(ea.Z,null):m.createElement(Ja.Z,null),Je=Ee=>new Pl(Ee),tt=Ee=>{const{nodeConfig:Le,onMouseDown:at,graphConfig:ct,modelService:dt,commandService:mt}=Ee;if(!ct)return m.createElement("div",null);if(Le.renderComponent)return m.createElement("div",{onMouseDown:at},m.createElement(Le.renderComponent,{data:Le,isNodeTreePanel:!0}));const St=ct.nodeTypeParser(Le)||v.WY.XFLOW_DEFAULT_NODE,Nt=ct.nodeRender.get(St);return m.createElement("div",{onMouseDown:at},m.createElement(Nt,{commandService:mt,modelService:dt,data:Le,isNodeTreePanel:!0}))},gt=Ee=>{const[Le,at]=(0,m.useState)(!1),[ct,dt]=(0,m.useState)(),{getGraphConfig:mt}=(0,v.XZ)();mt().then(Rt=>{dt(Rt.appContainer)});const{prefixClz:St,graphConfig:Nt,commandService:O,modelService:V,popoverContent:ae,onMouseDown:we,item:qe}=Ee;return m.createElement(m.Fragment,null,ae&&m.createElement(ha.Z,{placement:"right",destroyTooltipOnHide:!0,content:ae,visible:Le,onVisibleChange:Rt=>{at(Rt)},getPopupContainer:()=>ct||document.body},m.createElement("div",{className:`${St}-node-wrapper`,onMouseEnter:()=>{at(!0)}},tt({graphConfig:Nt,commandService:O,onMouseDown:we,modelService:V,nodeConfig:qe}))),!ae&&m.createElement("div",{className:`${St}-node-wrapper`,onMouseEnter:()=>{at(!0)}},tt({graphConfig:Nt,commandService:O,onMouseDown:we,modelService:V,nodeConfig:qe})))},_n=Ee=>{const{x6NodeFactory:Le,dndOptions:at,onNodeDrop:ct,state:dt,onFolderExpand:mt,prefixClz:St}=Ee,{graphProvider:Nt,modelService:O,commandService:V}=(0,v.XZ)(),[ae,we]=m.useState(),[qe,Rt]=m.useState(),[In,Wr]=m.useState();Nt.getGraphInstance().then(Ho=>{Wr(Ho)}),m.useEffect(()=>{if(Nt.getGraphOptions().then(ga=>{we(ga)}),!In)return;const Ho=new ke.e9.q6(Object.assign(Object.assign({scaled:!1,animation:!1},at),{target:In,validateNode:ga=>(0,d.mG)(void 0,void 0,void 0,function*(){const ns=Object.assign(Object.assign({},ga.getData()),ga.getPosition());return ct?yield ct(ns,V,O):console.error("onNodeDrop method is required in NodeTree Panel"),!1})}));Rt(Ho)},[V,at,In,Nt,O,ct]);const _i=m.useCallback(Ho=>ga=>{if(!In||!qe||!ae)return;const ns=ae.nodeTypeParser(Ho),xs=Ho.renderComponent?Ho.renderComponent:ae.nodeRender.get(ns),el=(0,v.Yr)(xs,V,O),ja={data:Ho,width:Ho.width||180,height:Ho.height||40,view:ae.graphId,component:el},Vs=Le?Le(ja):Je(ja);qe.start(Vs,ga.nativeEvent)},[V,qe,In,ae,O,Le]),So=m.useCallback((Ho=[])=>Ho.map(ga=>{const{isDirectory:ns,children:xs,popoverContent:el}=ga;return ns?m.createElement(ge,{icon:_e,key:ga.id,title:ga.label,className:`${St}-tree-folder`},So(xs)):m.createElement(ge,{isLeaf:!0,key:ga.id,className:`${St}-tree-leaf`,icon:m.createElement("span",null),title:m.createElement(gt,{item:ga,onMouseDown:_i(ga),popoverContent:el,prefixClz:St,modelService:O,commandService:V,graphConfig:ae})})}),[V,ae,O,_i,St]);return m.createElement(m.Fragment,null,m.createElement("div",{className:`${St}-body`,style:Ee.style},!dt.keyword&&m.createElement(X,{showIcon:!0,selectable:!1,autoExpandParent:!1,onExpand:mt,expandedKeys:dt.expandedKeys,className:`${St}-tree`},So(dt.treeData)),dt.searchList.length>0&&m.createElement("ul",{className:`${St}-body-list`},dt.searchList.map(Ho=>m.createElement("li",{className:`${St}-body-list-item`},m.createElement(gt,{item:Ho,onMouseDown:_i(Ho),popoverContent:Ho.popoverContent,prefixClz:St,modelService:O,commandService:V,graphConfig:ae})))),dt.keyword&&dt.searchList.length===0&&m.createElement(Ea.Z,{style:{marginTop:"48px"}})))};var Dn=l(96365);const Un=Ee=>{const{prefixClz:Le,onKeywordChange:at}=Ee,{propsProxy:ct}=hn(),dt=ct.getValue();return m.createElement(m.Fragment,null,m.createElement("div",{className:`${Le}-header`,style:Ee.style},dt.header&&m.isValidElement(dt.header)&&dt.header,dt.searchService&&m.createElement("div",{className:`${Le}-header-search`},m.createElement(Dn.Z,{placeholder:"\u641C\u7D22\u7EC4\u4EF6",allowClear:!0,onChange:mt=>at(mt.target.value),style:{width:"100%",border:0}}))))},Mr=Ee=>{const{prefixClz:Le}=Ee,{propsProxy:at}=hn(),ct=at.getValue();return m.createElement(m.Fragment,null,m.createElement("div",{className:`${Le}-footer`,style:Ee.style},ct.footer&&m.isValidElement(ct.footer)&&ct.footer))},Dr=40,fr=40,Er="XFLOW_TREE_PANEL_ROOT_ID",ao=Ee=>{const Le=Ee&&Ee.headerPosition&&Ee.headerPosition.height||Dr,at=Ee.footerPosition&&Ee.footerPosition.height||fr;return{headerStyle:(0,v.Te)(Object.assign({height:Le,lineHeight:Le,top:0,left:0,right:0},Ee.headerPosition)),bodyStyle:(0,v.Te)(Object.assign({left:0,right:0,top:Le,bottom:at},Ee.bodyPosition)),footerStyle:(0,v.Te)(Object.assign({left:0,right:0,lineHeight:at,height:at,bottom:0},Ee.footerPosition))}};var oo=l(45578),ba=l.n(oo),es=l(50361),Da=l.n(es),ut;(function(Ee){Ee.id="TREE_PANEL_MODEL",Ee.useModel=Le=>(0,d.mG)(this,void 0,void 0,function*(){return Le.awaitModel(Ee.id)})})(ut||(ut={}));const on=(Ee,Le)=>{Ee.executeCommand(XFlowModelCommands.UPDATE_MODEL.id,{getModel:at=>__awaiter(void 0,void 0,void 0,function*(){return ut.useModel(at)}),updateModel:Le})},xn=Ee=>{const{treeDataService:Le,searchService:at}=Ee,{modelService:ct}=(0,v.XZ)(),[dt,mt,St]=(0,v.Ao)({treeData:[],searchList:[],treeNodeList:[],expandedKeys:[],defaultExpandAll:!1,keyword:""});m.useEffect(()=>{ct.findDeferredModel(ut.id)||ct.registerModel({id:ut.id,modelFactory:()=>St,watchChange:V=>(0,d.mG)(void 0,void 0,void 0,function*(){const ae=yield v.dX.GRAPH_META.getModel(ct),we=Rt=>(0,d.mG)(void 0,void 0,void 0,function*(){const In=yield Le(Rt,ct),{treeData:Wr,rootNodes:_i}=cr(In),So=yield V.getValidValue(),Ho=So.expandedKeys.length>0?So.expandedKeys:_i.map(ga=>ga.id);return{listData:In,treeData:Wr,expandedKeys:Ho}}),qe=ae.watch(Rt=>(0,d.mG)(void 0,void 0,void 0,function*(){const In=yield we(Rt);V.setValue({treeNodeList:In.listData,treeData:In.treeData,expandedKeys:In.expandedKeys,defaultExpandAll:!1,keyword:"",searchList:[]})}));return v.JT.create(()=>{qe.dispose()})})})},[]);const Nt=m.useCallback(V=>{mt(ae=>{ae.expandedKeys=V})},[mt]),O=m.useCallback(V=>(0,d.mG)(void 0,void 0,void 0,function*(){if(!at)return console.warn("searchService is not defined");if(V){const ae=yield at(dt.treeNodeList,V);mt(we=>{we.keyword=V,we.searchList=ae})}else mt(ae=>{ae.keyword="",ae.searchList=[]})}),[at,dt.treeNodeList]);return{state:dt,setState:mt,onKeywordChange:O,onFolderExpand:Nt}};function cr(Ee=[]){const at=(St=>ba()(St,"id").reduce((V,ae)=>{const we=ae.parentId||Er;return V.has(we)||V.set(we,[]),V.get(we).push(ae),V},new Map))(Da()(Ee));function ct(St,Nt){return St.map(O=>{if(Nt.has(O.id)){const V=Nt.get(O.id);O.key=O.id,O.isDirectory=!0,O.children=ct(V,Nt)||[]}else O.isLeaf=!0;return O})}const dt=at.get(Er)||[];return{treeData:ct(dt,at),rootNodes:dt}}var mn;(function(Ee){Ee.id="TREE_PANEL_DATA"})(mn||(mn={}));const Or=Ee=>{const{headerStyle:Le,bodyStyle:at,footerStyle:ct}=ao(Ee),{state:dt,onFolderExpand:mt,onKeywordChange:St}=xn(Ee);return m.createElement(m.Fragment,null,m.createElement(Un,Object.assign({},Ee,{state:dt,style:Le,onKeywordChange:St})),m.createElement(_n,Object.assign({},Ee,{state:dt,style:at,onFolderExpand:mt})),m.createElement(Mr,Object.assign({},Ee,{state:dt,style:ct})))},ei=Ee=>{const Le=(0,v.e7)("node-dnd-panel");return m.createElement(bn,Object.assign({},Ee,{className:Le}),m.createElement(Or,Object.assign({},Ee,{prefixClz:Le})))},Ni=Ee=>new Pl(Ee),ki=Ee=>{const{x6NodeFactory:Le,dndOptions:at,onNodeDrop:ct}=Ee,{graphProvider:dt,modelService:mt,commandService:St}=(0,v.XZ)(),[Nt,O]=m.useState(),[V,ae]=m.useState(),[we,qe]=m.useState();m.useEffect(()=>{dt.getGraphInstance().then(In=>{qe(In)}),dt.getGraphOptions().then(In=>{O(In)})},[dt,qe,O]),m.useEffect(()=>{if(!we)return;const In=new ke.e9.q6(Object.assign(Object.assign({scaled:!1,animation:!1},at),{target:we,validateNode:Wr=>(0,d.mG)(void 0,void 0,void 0,function*(){const _i=Object.assign(Object.assign({},Wr.getData()),Wr.getPosition());return ct?yield ct(_i,St,mt):console.error("onNodeDrop method is required in NodeTree Panel"),!1})}));return ae(In),()=>{In.dispose()}},[St,mt,at,we,ct]);const Rt=m.useCallback(In=>Wr=>{if(!we||!V||!Nt||In.isDisabled)return;const _i=Nt.nodeTypeParser(In),So=In.renderComponent?In.renderComponent:Nt.nodeRender.get(_i),Ho=(0,v.Yr)(So,St,mt),ga={data:In,width:In.width||180,height:In.height||40,view:Nt.graphId,component:Ho},ns=Le?Le(ga):Ni(ga);V.start(ns,Wr.nativeEvent)},[St,V,we,Nt,mt,Le]);return{graphConfig:Nt,onMouseDown:Rt,modelService:mt,commandService:St}},yo=Ee=>{const{nodeConfig:Le,onMouseDown:at,graphConfig:ct,modelService:dt,commandService:mt}=Ee;if(!ct)return m.createElement("div",null);if(Le.renderComponent)return m.createElement("div",{onMouseDown:at},m.createElement(Le.renderComponent,{data:Le,isNodePanel:!0}));const St=ct.nodeTypeParser(Le)||v.WY.XFLOW_DEFAULT_NODE,Nt=ct.nodeRender.get(St);return m.createElement("div",{onMouseDown:at},m.createElement(Nt,{commandService:mt,modelService:dt,data:Le,isNodeTreePanel:!0}))},Ro=Ee=>{const[Le,at]=m.useState(!1),{prefixClz:ct,graphConfig:dt,commandService:mt,modelService:St,popoverContent:Nt,onMouseDown:O,item:V}=Ee;return m.createElement(m.Fragment,null,Nt?m.createElement(ha.Z,{placement:"right",destroyTooltipOnHide:!0,content:Nt,visible:Le,onVisibleChange:ae=>{at(ae)}},m.createElement("div",{className:`${ct}-node-wrapper`,onMouseEnter:()=>{at(!0)}},yo({graphConfig:dt,commandService:mt,onMouseDown:O,modelService:St,nodeConfig:V}))):m.createElement("div",{className:`${ct}-node-wrapper`},yo({graphConfig:dt,commandService:mt,onMouseDown:O,modelService:St,nodeConfig:V})))},Lo=Ee=>{const{searchResult:Le,prefixClz:at,onMouseDown:ct,modelService:dt,commandService:mt,graphConfig:St}=Ee;return Le.length===0?m.createElement(Ea.Z,{style:{marginTop:"24px"}}):m.createElement("ul",{className:"xflow-collapse-search-list"},Le.map(Nt=>m.createElement("li",{className:`xflow-collapse-search-list-item ${Nt.isDisabled?"disabled":""}`,key:Nt.id},m.createElement(Ro,{item:Nt,onMouseDown:ct(Nt),popoverContent:Nt.popoverContent,prefixClz:at,modelService:dt,commandService:mt,graphConfig:St}))))};var Jo=l(14313);const Io=Ee=>{const{onActiveKeyChange:Le,collapseData:at,prefixClz:ct,onMouseDown:dt,modelService:mt,commandService:St,graphConfig:Nt}=Ee,O=ae=>{const{header:we,extra:qe,icon:Rt,isCollapsed:In}=ae,Wr=_i=>{_i.preventDefault(),Le(ae.id)};return m.createElement("div",{className:"xflow-collapse-header",onClick:Wr},m.createElement("div",{className:"xflow-collapse-header-icon"},(0,v.t1)(Rt)?m.createElement(Rt,{isCollapsed:In}):m.createElement(Jo.Z,{rotate:In?0:90,style:{fontSize:"12px"}})),m.createElement("div",{className:"xflow-collapse-header-label"},(0,v.t1)(we)?m.createElement(we,ae):we),m.createElement("div",{className:"xflow-collapse-header-extra"},(0,v.t1)(qe)?m.createElement(qe,ae):qe))},V=ae=>m.createElement("div",{className:"xflow-collapse-content"},ae.map(we=>m.createElement("div",{className:`xflow-collapse-content-item ${we.isDisabled?"disabled":""}`,key:we.id},m.createElement(Ro,{item:we,onMouseDown:dt(we),popoverContent:we.popoverContent,prefixClz:ct,modelService:mt,commandService:St,graphConfig:Nt}))));return m.createElement("ul",{className:"xflow-collapse-list"},at.length===0&&m.createElement(Ea.Z,{style:{marginTop:"24px"}}),at.map(ae=>{const{children:we=[],isCollapsed:qe,render:Rt}=ae,In=qe?"close":"open";return m.createElement("li",{className:`xflow-collapse-list-item ${In}`,key:ae.id},O(ae),(0,v.t1)(Rt)?m.createElement(Rt,ae):V(we))}))},qo=Ee=>{const{state:Le,prefixClz:at,onActiveKeyChange:ct}=Ee,{graphConfig:dt,onMouseDown:mt,modelService:St,commandService:Nt}=ki(Ee),{searchResult:O,collapseData:V,keyword:ae}=Le;return m.createElement("div",{className:`${at}-body`,style:Ee.style},ae.length===0&&m.createElement(Io,{onActiveKeyChange:ct,collapseData:V,onMouseDown:mt,modelService:St,commandService:Nt,graphConfig:dt,prefixClz:at}),ae.length>0&&m.createElement(Lo,{searchResult:O,onMouseDown:mt,modelService:St,commandService:Nt,graphConfig:dt,prefixClz:at}))},Vo=Ee=>{const{prefixClz:Le,onKeywordChange:at,state:ct}=Ee,{propsProxy:dt}=hn(),mt=dt.getValue(),St=Nt=>{const O=ct.collapseData.reduce((V,ae)=>(ae.children&&V.push(...ae.children),V),[]);at(Nt.target.value,O)};return m.createElement(m.Fragment,null,m.createElement("div",{className:`${Le}-header`,style:Ee.style},mt.header&&m.isValidElement(mt.header)&&mt.header,mt.searchService&&m.createElement("div",{className:`${Le}-header-search`},m.createElement(Dn.Z,{placeholder:"\u641C\u7D22\u7EC4\u4EF6",allowClear:!0,onChange:Nt=>St(Nt),style:{width:"100%",border:0}}))))},jo=Ee=>{const{prefixClz:Le}=Ee,{propsProxy:at}=hn(),ct=at.getValue();return m.createElement(m.Fragment,null,m.createElement("div",{className:`${Le}-footer`,style:Ee.style},ct.footer&&m.isValidElement(ct.footer)&&ct.footer))};var so=l(94155);const Si=Ee=>{const{prefixClz:Le,onCollapseBtnClick:at,isCollapsed:ct,collapseButtonStyle:dt,style:mt}=Ee;return m.createElement(m.Fragment,null,m.createElement("div",{className:`${Le}-header`,style:Object.assign(Object.assign({},mt),dt),onClick:at},m.createElement(so.Z,{rotate:ct?180:0})))},pa=40,xo=40,Pa=Ee=>{const Le=Ee&&Ee.headerPosition&&Ee.headerPosition.height||pa,at=Ee.footerPosition&&Ee.footerPosition.height||xo;return{headerStyle:(0,v.Te)(Object.assign({height:Le,lineHeight:Le,top:0,left:0,right:0},Ee.headerPosition)),bodyStyle:(0,v.Te)(Object.assign({left:0,right:0,top:Le,bottom:at},Ee.bodyPosition)),footerStyle:(0,v.Te)(Object.assign({left:0,right:0,lineHeight:at,height:at,bottom:0},Ee.footerPosition))}};var Fo;(function(Ee){Ee.id="COLLAPSE_PANEL_DATA",Ee.useModel=Le=>(0,d.mG)(this,void 0,void 0,function*(){return Le.awaitModel(Ee.id)})})(Fo||(Fo={}));const Sa=(Ee,Le)=>{Ee.executeCommand(XFlowModelCommands.UPDATE_MODEL.id,{getModel:at=>__awaiter(void 0,void 0,void 0,function*(){return NsCollapsePanelModel.useModel(at)}),updateModel:Le})},Bo=Ee=>{const{collapsible:Le,nodeDataService:at,searchService:ct,onCollapseChange:dt}=Ee,{modelService:mt}=(0,v.XZ)(),[St,Nt,O]=(0,v.Ao)({keyword:"",collapseData:[],searchResult:[]});m.useEffect(()=>{mt.findDeferredModel(Fo.id)||mt.registerModel({id:Fo.id,modelFactory:()=>O,watchChange:we=>(0,d.mG)(void 0,void 0,void 0,function*(){const qe=yield v.dX.GRAPH_META.getModel(mt),Rt=Wr=>(0,d.mG)(void 0,void 0,void 0,function*(){return{collapseData:yield at(Wr,mt)}}),In=qe.watch(Wr=>(0,d.mG)(void 0,void 0,void 0,function*(){const{collapseData:_i}=yield Rt(Wr);we.setValue(So=>{So.keyword="",So.collapseData=_i,So.searchResult=[]})}));return v.JT.create(()=>{In.dispose()})})})},[]);const V=m.useCallback(we=>{Nt(qe=>{qe.collapseData.forEach(Rt=>{Rt.id===we&&Rt.collapsible!==!1&&(Rt.isCollapsed=!Rt.isCollapsed)})})},[Nt]),ae=m.useCallback((we,qe)=>(0,d.mG)(void 0,void 0,void 0,function*(){if(!ct)return console.warn("searchService is not defined");if(we){const Rt=yield ct(qe,we);Nt(In=>{In.keyword=we,In.searchResult=Rt})}else Nt(Rt=>{Rt.keyword="",Rt.searchResult=[]})}),[ct]);return{state:St,collapsible:Le,setState:Nt,onKeywordChange:ae,onActiveKeyChange:V,onCollapseChange:dt}},se=Ee=>{const{headerStyle:Le,bodyStyle:at,footerStyle:ct}=Pa(Ee),{state:dt,onActiveKeyChange:mt,onKeywordChange:St}=Bo(Ee);return m.createElement(m.Fragment,null,m.createElement(Vo,Object.assign({},Ee,{state:dt,style:Le,onKeywordChange:St})),m.createElement(qo,Object.assign({},Ee,{state:dt,style:at,onActiveKeyChange:mt})),m.createElement(jo,Object.assign({},Ee,{state:dt,style:ct})))},Ye=Ee=>{const{position:Le,collapsible:at,onCollapseChange:ct}=Ee,{width:dt=200,left:mt}=Le,St=(0,v.e7)("collapse-panel"),[Nt,O]=(0,m.useState)(!1),V=(0,m.useCallback)(()=>{O(!Nt),ct(!Nt)},[Nt,ct]);return m.createElement(bn,Object.assign({},Ee,{className:St,position:Object.assign(Object.assign({},Le),{left:Nt?-dt:mt}),style:{transition:"left 0.5s"}}),m.createElement(se,Object.assign({},Ee,{prefixClz:St})),at&&m.createElement(Si,Object.assign({},Ee,{prefixClz:St,isCollapsed:Nt,onCollapseBtnClick:V,style:{position:"absolute",zIndex:1,width:13,right:-13,bottom:20,padding:"12px 0px",textAlign:"center",borderWidth:"1px 1px 1px 0",borderStyle:"solid solid solid",borderColor:"rgb(232, 232, 232) rgb(232, 232, 232) rgb(232, 232, 232)",cursor:"pointer"}})))},ft=Ee=>{const{state:Le}=Ee,{propsProxy:at}=hn(),ct=at.getValue(),dt=(0,v.XZ)(),mt=ct.footer&&typeof ct.footer=="function";return m.createElement(m.Fragment,null,m.createElement("div",{className:`${Ee.prefixClz}-footer`,style:Ee.style},mt&&m.createElement(ct.footer,Object.assign(Object.assign({},Ee),{headerStyle:{},bodyStyle:{},footerStyle:Ee.style,targetData:Le.targetData,targetType:Le.targetType,modelService:dt.modelService,commandService:dt.commandService})),!ct.footer&&m.createElement("div",{className:`${Ee.prefixClz}-footer-title`},ct.footerText)))},Ct=Ee=>{const{prefixClz:Le,hasSchema:at,state:ct}=Ee,{propsProxy:dt}=hn(),mt=dt.getValue(),St=(0,v.XZ)();if(at)return null;const Nt=mt.header&&typeof mt.header=="function";return m.createElement(m.Fragment,null,m.createElement("div",{className:`${Le}-header`,style:Ee.style},Nt&&m.createElement(mt.header,Object.assign(Object.assign({},Ee),{headerStyle:Ee.style,bodyStyle:{},footerStyle:{},targetData:ct.targetData,targetType:ct.targetType,modelService:St.modelService,commandService:St.commandService})),!mt.header&&m.createElement("div",{className:`${Le}-header-title`},mt.headerText||"Panel")))};var nn=l(7179);const yn=Ee=>{const{text:Le}=Ee,at=(0,d._T)(Ee,["text"]);return Le?m.createElement(Z.Z,Object.assign({placement:"left",title:Le},at),m.createElement("div",{className:"text-truncate"},Le)):null};function Vn(Ee){if(Ee)return m.createElement(yn,{text:Ee})}var wr=l(27361),Nr=l.n(wr);function jr(Ee,Le){return(at,ct)=>Ee.some(mt=>typeof(mt==null?void 0:mt.condition)=="function")?(typeof Le=="function"&&Le(void 0),!0):Ee.some(mt=>{const{name:St}=mt;return St?Nr()(at,St)!==Nr()(ct,St)?(typeof Le=="function"&&Le(St),!0):!1:(console.error("[Schema form]: A dependent name must be provided in the updater when the dependency condition is not a function."),!1)})}function bi(Ee){return Ee===""||Ee===void 0}function Hr(Ee,Le,at){const{getFieldValue:ct,getFieldsValue:dt}=Ee,{dependencies:mt,hidden:St,disabled:Nt}=Le;let O=St,V=Nt;return mt==null||mt.forEach(ae=>{const{name:we,condition:qe,hidden:Rt,disabled:In}=ae;if(typeof qe!="function"&&at&&we!==at)return;let Wr=!1;if(typeof qe=="function"){const _i=dt();Wr=!!qe(_i)}else{if(!we){console.error("[Schema form]: A dependent name must be provided in the props genarator when the dependency condition is not a function.");return}Wr=ct(we)===qe}Wr&&(Rt!==void 0&&(O=Rt),In!==void 0&&(V=In))}),{hidden:O,disabled:V}}const _r=Ee=>{const{schema:Le,children:at}=Ee,[ct,dt]=(0,m.useState)(),{dependencies:mt,value:St,defaultValue:Nt,hidden:O,disabled:V}=Le,ae=(0,m.useMemo)(()=>mt!=null&&mt.length?jr(mt,dt):void 0,[mt]);if(typeof at!="function")throw new Error("[Schema Form]: chilren of FormItemWrapper should be a render prop.");const we=bi(St)?Nt:St;return ae?m.createElement(R.Z.Item,{noStyle:!0,shouldUpdate:ae},qe=>{const{hidden:Rt,disabled:In}=Hr(qe,Le,ct);return at({hidden:Rt,disabled:In,initialValue:we})}):at({hidden:O,disabled:V,initialValue:we})},Lr=Ee=>{const{controlSchema:Le}=Ee,{required:at,tooltip:ct,extra:dt,name:mt,label:St,placeholder:Nt,rules:O}=Le;return m.createElement(_r,{schema:Le},({disabled:V,hidden:ae,initialValue:we})=>m.createElement(R.Z.Item,{name:mt,label:St,initialValue:we,tooltip:ct,extra:Vn(dt),required:at,hidden:ae,rules:O},m.createElement(Dn.Z,{className:"xflow-form-input",allowClear:!0,placeholder:Nt,disabled:V})))};var Ar=l(32808);const mi=Ee=>{const{controlSchema:Le}=Ee,{required:at,tooltip:ct,extra:dt,name:mt,label:St,rules:Nt}=Le;return m.createElement(_r,{schema:Le},({hidden:O,disabled:V,initialValue:ae})=>m.createElement(R.Z.Item,{className:"xflow-form-checkbox",name:mt,rules:Nt,initialValue:ae,tooltip:ct,extra:Vn(dt),required:at,hidden:O,valuePropName:"checked",getValueProps:we=>({checked:!!{true:!0,false:!1}[we]})},m.createElement(Ar.Z,{disabled:V},St)))},oi=Ee=>{const{controlSchema:Le}=Ee,{required:at,tooltip:ct,extra:dt,name:mt,label:St,placeholder:Nt,rules:O}=Le;return m.createElement(_r,{schema:Le},({hidden:V,disabled:ae,initialValue:we})=>m.createElement(R.Z.Item,{name:mt,label:St,initialValue:we,tooltip:ct,extra:Vn(dt),required:at,hidden:V,rules:O},m.createElement(Dn.Z.TextArea,{allowClear:!0,placeholder:Nt,rows:3,disabled:ae})))};var Pt=l(34041);const cn=Ee=>{const{controlSchema:Le}=Ee,{required:at,tooltip:ct,extra:dt,name:mt,label:St,placeholder:Nt,options:O=[],rules:V}=Le;return m.createElement(_r,{schema:Le},({hidden:ae,disabled:we,initialValue:qe})=>m.createElement(R.Z.Item,{name:mt,label:St,initialValue:qe,tooltip:ct,extra:Vn(dt),required:at,hidden:ae,rules:V},m.createElement(Pt.Z,{disabled:we,placeholder:Nt},O.map(Rt=>{const{title:In,value:Wr}=Rt;return m.createElement(Pt.Z.Option,{key:Wr.toString(),value:Wr},In)}))))};var Qn=l(33620),_t=l(30381),Xt=l.n(_t);const an=Ee=>{const{className:Le,style:at,disabled:ct,value:dt,onChange:mt}=Ee,[St,Nt]=(0,m.useState)(dt?Xt()(dt):void 0),O=(0,m.useRef)(!1);(0,m.useEffect)(()=>{if(!O.current){O.current=!0;return}const ae=Xt()(dt);ae.isValid()&&Nt(ae)},[dt]);const V=(0,m.useCallback)((ae,we)=>{const qe=Xt()(we);Nt(qe.isValid()?qe:void 0),typeof mt=="function"&&mt(qe.isValid()?qe.format("YYYY-MM-DD HH:mm:ss"):"")},[mt]);return m.createElement(Qn.Z,{showTime:!0,allowClear:!0,className:Le,style:at,disabled:ct,value:St,onChange:V})},yr=Ee=>{const{controlSchema:Le}=Ee,{required:at,tooltip:ct,extra:dt,name:mt,label:St,rules:Nt}=Le;return m.createElement(_r,{schema:Le},({disabled:O,hidden:V,initialValue:ae})=>m.createElement(R.Z.Item,{name:mt,label:St,initialValue:ae,tooltip:ct,extra:Vn(dt),required:at,hidden:V,rules:Nt},m.createElement(an,{style:{width:"100%"},disabled:O})))};var Ur=l(87799);function ci(Ee){const Le=Number(Ee);return Number.isNaN(Le)?void 0:Le}const Yi=Ee=>{const{disabled:Le,placeholder:at,value:ct,onChange:dt}=Ee,[mt,St]=(0,m.useState)(ci(ct)),Nt=(0,m.useRef)(!1);(0,m.useEffect)(()=>{Nt.current||(Nt.current=!0),St(ci(ct))},[ct]);const O=(0,m.useCallback)(V=>{St(V),typeof dt=="function"&&(V===void 0?dt(""):typeof ci(V)=="number"&&dt(ci(V)))},[dt]);return m.createElement(Ur.Z,{style:{width:"100%"},size:"small",placeholder:at,value:mt,onChange:O,disabled:Le})},ui=Ee=>{const{controlSchema:Le}=Ee,{required:at,tooltip:ct,extra:dt,name:mt,label:St,placeholder:Nt,rules:O}=Le;return m.createElement(_r,{schema:Le},({disabled:V,hidden:ae,initialValue:we})=>m.createElement(R.Z.Item,{name:mt,label:St,initialValue:we,tooltip:ct,extra:Vn(dt),required:at,hidden:ae,rules:O},m.createElement(Yi,{placeholder:Nt,disabled:V})))};var go;(function(Ee){Ee.INPUT="input",Ee.CHECKBOX="checkbox",Ee.TEXTAREA="textArea",Ee.SELECT="select",Ee.DATETIME="datetime",Ee.FLOAT="float"})(go||(go={}));const wo=[[go.INPUT,Lr],[go.CHECKBOX,mi],[go.TEXTAREA,oi],[go.DATETIME,yr],[go.SELECT,cn],[go.FLOAT,ui]],ji=Ee=>{const Le=new Map;return Ee.forEach(at=>{const[ct,dt]=at,mt=ct.toLowerCase();Le.has(mt)&&console.error(`${ct} is duplicated in controlMap:`,Le),Le.set(mt,dt)}),Le},ko=(Ee,Le,at=Lr)=>{if(Le.has(Ee))return Le.get(Ee);const ct=Ee.toLowerCase();return Le.has(ct)?Le.get(ct):(console.warn(`${Ee} is not exist in controlmap, fallback to defaultControl`),at)},{TabPane:os}=nn.default,La=Ee=>{var Le;const{schema:at,form:ct,className:dt,triggerUpdate:mt,defaultControlRender:St,afterUpdatingCb:Nt,controlMap:O}=Ee,V=(0,d._T)(Ee,["schema","form","className","triggerUpdate","defaultControlRender","afterUpdatingCb","controlMap"]),{tabs:ae}=at,[we]=R.Z.useForm(ct),qe=m.useMemo(()=>Ee.controlMap?Ee.controlMap:ji(wo),[Ee.controlMap]),Rt=(0,m.useCallback)(Wr=>{typeof mt=="function"&&mt(we,Wr)},[we,mt]);(0,m.useEffect)(()=>{we.setFieldsValue({})},[we]);const In=(0,m.useCallback)(()=>{requestAnimationFrame(()=>{we.setFieldsValue({})})},[we]);return m.createElement(R.Z,Object.assign({size:"small",form:we,layout:"vertical",className:Q()("xflow-json-form",dt)},V),m.createElement(nn.default,{type:"card",defaultActiveKey:(Le=ae[0])===null||Le===void 0?void 0:Le.name,className:Q()({tabs:!0,xTab:!0,singleTab:(ae==null?void 0:ae.length)===1,coupleTab:(ae==null?void 0:ae.length)===2,ternateTab:(ae==null?void 0:ae.length)===3}),onTabClick:In},ae.map(Wr=>{const{name:_i,groups:So}=Wr;return m.createElement(os,{key:_i,tab:_i},So.length===0&&m.createElement(Ea.Z,{style:{padding:"24px 0"}}),So.length>0&&So.map(Ho=>{const{controls:ga=[]}=Ho;return ga.length===0?m.createElement(Ea.Z,{style:{padding:"24px 0"}}):ga.map(ns=>{const{shape:xs,name:el}=ns,ja=ko(xs,qe,St);return ja?m.createElement(ja,{key:el,form:we,controlSchema:ns,triggerUpdate:Rt,afterUpdatingCb:Nt}):(console.error("\u672A\u627E\u5230\u5BF9\u5E94\u7684\u63A7\u4EF6:",xs),null)})}))})))},Ua=Ee=>{const{schema:Le={tabs:[]},triggerUpdate:at,onFieldsChange:ct,afterUpdatingCb:dt,defaultControlRender:mt,loading:St,controlMapService:Nt,defaultControls:O=[]}=Ee,V=m.useMemo(()=>{const ae=ji([...wo,...O]);return Nt&&Nt(ae),ae},[Nt,O]);return St?m.createElement("div",{className:`${Ee.prefixClz}-body`,style:Object.assign(Object.assign({},Ee.style),{display:"flex",justifyContent:"center",alignItems:"center"})},m.createElement(Yn.Z,{spinning:!0})):m.createElement("div",{className:`${Ee.prefixClz}-body`,style:Ee.style},Le.tabs.length>0&&m.createElement(La,{schema:Le,onFieldsChange:ct,controlMap:V,defaultControlRender:mt,afterUpdatingCb:dt,triggerUpdate:at}),Le.tabs.length===0&&m.createElement(Ea.Z,{style:{paddingTop:"64px"}}))},cs=40,sa=40,Ka=(Ee,Le)=>{const at=Ee&&Ee.headerPosition&&Ee.headerPosition.height||cs,ct=Ee.footerPosition&&Ee.footerPosition.height||sa;return{headerStyle:(0,v.Te)(Object.assign(Object.assign({height:0,top:0,left:0,right:0},Le?{height:at,lineHeight:at}:{}),Ee.headerPosition)),bodyStyle:(0,v.Te)(Object.assign(Object.assign({left:0,right:0,top:0},Le?{top:at,bottom:ct}:{bottom:ct}),Ee.bodyPosition)),footerStyle:(0,v.Te)(Object.assign(Object.assign({left:0,right:0,lineHeight:ct,height:ct,bottom:0},Le?{lineHeight:ct,height:ct}:{bottom:0}),Ee.footerPosition))}};var Ks;(function(Ee){Ee.id="XFLOW_JSON_SCHEMA_FORM",Ee.useModel=Le=>(0,d.mG)(this,void 0,void 0,function*(){return Le.awaitModel(Ee.id)})})(Ks||(Ks={}));const qs=(Ee,Le)=>{Ee.executeCommand(v.gy.UPDATE_MODEL.id,{getModel:at=>(0,d.mG)(void 0,void 0,void 0,function*(){return Ks.useModel(at)}),updateModel:Le})},yl=Ee=>{const Le=(0,v.XZ)(),{commandService:at,modelService:ct,getGraphInstance:dt}=Le,{formSchemaService:mt}=Ee,[St,Nt,O,V]=(0,v.Ao)({schema:{tabs:[]},targetType:null,targetData:null,targetCell:null,loading:!1});return m.useEffect(()=>{if(!Le||!Le.modelService)return;const ae=new v.K4;if(!Le.modelService.findDeferredModel(Ks.id)){const qe=Le.modelService.registerModel({id:Ks.id,modelFactory:()=>O,watchChange:(Rt,In)=>(0,d.mG)(void 0,void 0,void 0,function*(){const _i=(yield v.dX.SELECTED_CELL.getModel(In)).watch(So=>(0,d.mG)(void 0,void 0,void 0,function*(){const Ho=(xs,el)=>(0,d.mG)(void 0,void 0,void 0,function*(){Rt.setValue(al=>{al.loading=!0,al.schema={tabs:[]},al.targetType=null,al.targetData=null,al.targetCell=null});const ja=xs?xs.getData():null;if(!mt)return;const Vs=yield dt(),dl=yield mt({commandService:at,modelService:ct,targetData:ja,cell:xs,targetType:el,graph:Vs});Rt.setValue({loading:!1,schema:dl,targetType:el,targetCell:xs,targetData:ja})}),ns=(xs=>xs?xs.isNode&&xs.isNode()&&xs.getProp("isGroup")?"group":xs.isNode&&xs.isNode()?"node":xs.isEdge&&xs.isEdge()?"edge":"canvas":"canvas")(So);(Ee.targetType||["node","canvas"]).includes(ns)&&(yield Ho(So,ns))}));return v.JT.create(()=>{_i.dispose(),ae.push(_i)})})});ae.push(qe)}return()=>{ae.dispose()}},[]),{commandService:at,modelService:ct,state:St,setState:Nt,model:O,isModelReady:V}},Ds=Ee=>{const{prefixClz:Le}=Ee,{getCustomRenderComponent:at,afterUpdatingCb:ct,formValueUpdateService:dt=()=>{}}=Ee,{state:mt,commandService:St,modelService:Nt}=yl(Ee),O=m.useCallback((In,Wr={})=>(0,d.mG)(void 0,void 0,void 0,function*(){In.setFieldsValue(Wr);const _i=Object.entries(Wr).map(([ga,ns])=>({name:ga,value:ns})),So=Object.entries(mt.targetData).map(([ga,ns])=>({name:ga,value:ns})),Ho=yield dt({allFields:So,values:_i,modelService:Nt,commandService:St,targetData:mt.targetData,targetType:mt.targetType});ct&&ct(Ho)}),[ct,St,dt,Nt,mt.targetData,mt.targetType]),V=m.useCallback((In,Wr)=>(0,d.mG)(void 0,void 0,void 0,function*(){const _i=yield dt({values:In,allFields:Wr,modelService:Nt,commandService:St,targetData:mt.targetData,targetType:mt.targetType});ct&&ct(_i)}),[ct,St,dt,Nt,mt.targetData,mt.targetType]),ae=m.useMemo(()=>{try{return mt.schema.tabs.length===0||!mt.schema}catch(In){return!0}},[mt.schema]),{headerStyle:we,bodyStyle:qe,footerStyle:Rt}=Ka(Ee,ae);if(at){const In=at(mt.targetType,mt.targetData,Nt,St);if(In)return m.createElement(In,Object.assign(Object.assign({},Ee),{headerStyle:we,bodyStyle:qe,footerStyle:Rt,targetData:mt.targetData,targetType:mt.targetType,modelService:Nt,commandService:St}))}return m.createElement("div",{className:Le},m.createElement(Ct,Object.assign({hasSchema:!ae},Ee,{state:mt,style:we,prefixClz:Ee.prefixClz})),m.createElement(Ua,Object.assign({},Ee,{key:mt.targetData&&mt.targetData.id,style:qe,prefixClz:Ee.prefixClz,loading:mt.loading,schema:mt.schema,triggerUpdate:O,onFieldsChange:V})),m.createElement(ft,Object.assign({},Ee,{state:mt,style:Rt})))},tc=Ee=>{const Le=(0,v.e7)("json-schema-form");return m.createElement(bn,Object.assign({},Ee,{className:Le}),m.createElement(Ds,Object.assign({},Ee,{prefixClz:Le})))};var Rl=l(51490);ke.Bz.Connector.registry.exist(Ki.VERTICAL_NODE)||ke.kJ.registerConnector(Ki.VERTICAL_NODE,(Ee,Le)=>{const ct=Math.abs(Le.y-Ee.y),dt=Math.floor(ct/3*2),mt={x:Ee.x,y:Ee.y+16+dt},St={x:Le.x,y:Le.y-16-dt};return ke.y$.normalize(`M ${Ee.x} ${Ee.y}
         L ${Ee.x} ${Ee.y+16}
         C ${mt.x} ${mt.y} ${St.x} ${St.y} ${Le.x} ${Le.y-16}
         L ${Le.x} ${Le.y}
        `)},!0),ke.Bz.Connector.registry.exist(Ki.VERTICAL_GROUP)||ke.kJ.registerConnector(Ki.VERTICAL_GROUP,(Ee,Le)=>{const ct=Math.abs(Le.y-Ee.y),dt={x:Ee.x,y:Ee.y+4+ct},mt={x:Le.x,y:Le.y-4-ct};return ke.y$.normalize(`M ${Ee.x} ${Ee.y}
       L ${Ee.x} ${Ee.y+4}
       C ${dt.x} ${dt.y} ${mt.x} ${mt.y} ${Le.x} ${Le.y-4}
       L ${Le.x} ${Le.y}
      `)},!0),ke.Bz.Connector.registry.exist(Ki.HORIRONTAL_NODE)||ke.kJ.registerConnector(Ki.HORIRONTAL_NODE,(Ee,Le)=>{const ct=Math.abs(Le.y-Ee.y),dt=Math.floor(ct/3*2),mt={x:Ee.x,y:Ee.y+4+dt},St={x:Le.x,y:Le.y-4-dt};return ke.y$.normalize(`M ${Ee.x} ${Ee.y}
         L ${Ee.x} ${Ee.y+4}
         C ${mt.x} ${mt.y} ${St.x} ${St.y} ${Le.x} ${Le.y-4}
         L ${Le.x} ${Le.y}
        `)},!0);let Ca=ke.bn.kS.registry.get(Oa.EDGE);ke.bn.kS.registry.exist(Oa.EDGE)||(Ca=ke.bn.kS.registry.register(Oa.EDGE,ke.bn.kS.define({zIndex:1,highlight:!1,shape:Oa.EDGE}),!0));var us;(function(Ee){Ee.MODEL=wa,Ee.command=is.QUERY_GRAPH_STATUS,Ee.hookKey="queryGraphStatus";let Le;(function(at){at.SUCCESS="success",at.PROCESSING="processing",at.ERROR="error",at.DEFAULT="default",at.WARNING="warning"})(Le=Ee.StatusEnum||(Ee.StatusEnum={})),Ee.initStatusMap=()=>({[Ee.StatusEnum.DEFAULT]:[],[Ee.StatusEnum.PROCESSING]:[],[Ee.StatusEnum.ERROR]:[],[Ee.StatusEnum.WARNING]:[],[Ee.StatusEnum.SUCCESS]:[]}),Ee.groupByStatus=at=>{const ct=Ee.initStatusMap();return Object.entries(at).reduce((dt,[mt,St])=>(dt[St.status].push(mt),dt),ct)},Ee.statusDiff=(at,ct)=>{const dt=new Set([...at,...ct]),mt={current:[],add:[],remove:[]};return dt.forEach(St=>{ct.includes(St)&&!at.includes(St)&&mt.add.push(St),!ct.includes(St)&&at.includes(St)&&mt.remove.push(St)}),mt},Ee.shouldStop=at=>(0,d.mG)(this,void 0,void 0,function*(){return[Le.ERROR,Le.SUCCESS].includes(at.graphStatus)})})(us||(us={}));let Va=class{constructor(){this.statusInfo=us.initStatusMap(),this.getStatusModel=()=>(0,d.mG)(this,void 0,void 0,function*(){const at=this.contextProvider().getModelService();return yield wa.getModel(at)}),this.updateModelValue=Le=>(0,d.mG)(this,void 0,void 0,function*(){(yield this.getStatusModel()).setValue(Le)}),this.stopCurrentStatusLooping=()=>(0,d.mG)(this,void 0,void 0,function*(){const Le=yield this.getStatusModel(),{subscription:at}=yield Le.getValidValue();at.dispose()}),this.addStopDispose=()=>(0,d.mG)(this,void 0,void 0,function*(){const Le=yield this.getStatusModel(),{subscription:at}=yield Le.getValidValue();at.push({dispose:()=>{this.updateEdges(this.statusInfo,us.initStatusMap()),this.isLooping=!1}})}),this.updateGraph=(Le,at,ct)=>{this.updateNodes(Le,at,ct),this.updateEdges(Le,at)},this.updateNodeData=(Le,at)=>{const ct=this.x6Graph.getCellById(Le);ct&&ct.setData(Object.assign(Object.assign(Object.assign(Object.assign({},ct.getData()),ct.getSize()),ct.getPosition()),at))},this.updateNodes=(Le,at,ct)=>{Object.keys(Le).forEach(dt=>{const mt=us.statusDiff(Le[dt],at[dt]);mt.add.forEach(St=>{this.updateNodeData(St,ct[St])}),mt.remove.forEach(St=>{this.updateNodeData(St,ct[St])})})},this.updateEdges=(Le,at)=>{const ct=us.statusDiff(Le.processing,at.processing);this.x6Graph.getEdges().forEach(mt=>{var St;const Nt=(St=this.x6Graph)===null||St===void 0?void 0:St.findViewByCell(mt.id),O=mt.getTargetCellId();if(!O)return;const V=O.toString();if(Nt){if(ct.add.includes(V))return Nt.addClass(da);if(ct.remove.includes(V))return Nt.removeClass(da)}})},this.execute=()=>(0,d.mG)(this,void 0,void 0,function*(){const Le=this.contextProvider(),{args:at,hooks:ct}=Le.getArgs(),dt=Le.getHooks();this.x6Graph=yield Le.getX6Graph();const mt=yield dt.queryGraphStatus.call(at,St=>(0,d.mG)(this,void 0,void 0,function*(){const{graphStatusService:Nt,shouldStop:O=us.shouldStop,doOnce:V}=St;yield this.stopCurrentStatusLooping();const ae=(we,qe=1e4)=>(0,d.mG)(this,void 0,void 0,function*(){const Rt=yield we(St);this.updateModelValue(Wr=>{Object.entries(Rt.statusMap).forEach(([_i,So])=>{Wr.statusMap.set(_i,So)}),Wr.graphStatus=Rt.graphStatus});const In=us.groupByStatus(Rt.statusMap);this.updateGraph(this.statusInfo,In,Rt.statusMap),this.statusInfo=In,yield(0,v.gw)(qe),this.isLooping&&(O&&(yield O(Rt,St))||(yield ae(we,qe)))});return this.isLooping=St.loop===void 0?!0:St.loop,yield this.addStopDispose(),V&&(yield V(St)),ae(Nt,St.loopInterval),{}}),ct);return Le.setResult(mt),this}),this.undo=()=>(0,d.mG)(this,void 0,void 0,function*(){const Le=this.contextProvider();return this.isUndoable()&&Le.undo(),this}),this.redo=()=>(0,d.mG)(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};(0,d.gn)([v.ManaSyringe.inject(v.KV),(0,d.w6)("design:type",Object)],Va.prototype,"contextProvider",void 0),Va=(0,d.gn)([v.ManaSyringe.injectable({token:{token:v.$p,named:us.command.id}})],Va);const zs=()=>{};var Fa;(function(Ee){Ee.TOP_BOTTOM="TB",Ee.LEFT_RIGHT="LR"})(Fa||(Fa={}));const Ys=v.ManaSyringe.Syringe.defineToken("DAG_EXTENSION_CONFIG");var Us;(function(Ee){Ee.EVENT_NAME="ADD_EDGE_CMD_EVENT"})(Us||(Us={}));var _s;(function(Ee){Ee.router={name:"manhattan"},Ee.connector={name:"rounded",args:{radius:15}}})(_s||(_s={}));const Tl="ant",Bl=Ee=>{const{layout:Le,router:at=_s.router,connector:ct=_s.connector}=Ee;return{grid:!1,keyboard:{enabled:!0},selecting:{enabled:!0,multiple:!0,selectCellOnMoved:!0,showNodeSelectionBox:!1,rubberEdge:!0,rubberNode:!0,movable:!0},connecting:{sourceAnchor:Le?Le===Fa.TOP_BOTTOM?"bottom":"right":"center",targetAnchor:Le?Le===Fa.TOP_BOTTOM?"center":"left":"center",connectionPoint:"anchor",snap:{radius:20},router:at,connector:ct,highlight:!0,dangling:!1,createEdge(){const mt=this,St=new Ca({attrs:{line:{strokeDasharray:"5 5",stroke:"#888",strokeWidth:1,targetMarker:{name:"block",args:{size:"6"}}}}}),Nt=O=>{const{isNew:V}=O,ae=O.edge;if(V&&ae.isEdge()&&ae===St){const we=ae.getTargetPortId(),qe=ae.getTargetCell();if(qe&&qe.isNode()){qe.setPortProp(we,"connected",!1),ae.attr({line:{strokeDasharray:"",targetMarker:"",stroke:"#d5d5d5"}});const Rt=ae.getTargetPortId(),In=ae.getSourcePortId(),Wr=ae.getSourceCellId(),_i=ae.getTargetCellId();mt.trigger(Us.EVENT_NAME,{targetPortId:Rt,sourcePortId:In,source:Wr,target:_i,edge:St})}}};return mt.once("edge:connected",Nt),St},validateEdge:mt=>{var St;const{edge:Nt}=mt;return!!(!((St=Nt==null?void 0:Nt.target)===null||St===void 0)&&St.port)},validateMagnet({magnet:mt,cell:St}){const Nt=St.getData().ports.filter(O=>O.type===v.NsGraph.AnchorType.INPUT);return Nt.length>0?mt.getAttribute("port-group")!==Nt[0].group:!1},validateConnection({sourceView:mt,targetView:St,sourceMagnet:Nt,targetMagnet:O}){if(mt===St||!Nt||!O)return!1;if(Le){const Wr=Le===Fa.TOP_BOTTOM?v.NsGraph.AnchorGroup.TOP:v.NsGraph.AnchorGroup.LEFT;if(Nt.getAttribute("port-group")===Wr||O.getAttribute("port-group")!==Wr)return!1}const V=mt.cell,ae=Nt.getAttribute("port");if(!ae||V.getPort(ae).type!==v.NsGraph.AnchorType.OUTPUT)return!1;const qe=St.cell,Rt=O.getAttribute("port");if(!Rt)return!1;const In=qe.getPort(Rt);return In.type!==v.NsGraph.AnchorType.INPUT?!1:!(In&&In.connected)}},highlighting:{nodeAvailable:{name:"className",args:{className:"available"}},magnetAvailable:{name:"className",args:{className:"available"}},magnetAdsorbed:{name:"className",args:{className:"adsorbed"}}},scaling:{max:1.05,min:.01}}};let Zl=class{constructor(){this.registerGraphCommands=Le=>{Le.registerCommand(us.command,{createCommand:this.commandFactory})},this.toDispose=new v.K4,this.registerHook=Le=>(0,d.mG)(this,void 0,void 0,function*(){const at=new v.K4,ct=[Le.addNode.registerHook({name:"dag-add-node",handler:dt=>(0,d.mG)(this,void 0,void 0,function*(){const mt=St=>(0,d.mG)(this,void 0,void 0,function*(){return new Pl(Object.assign({},St))});dt.cellFactory=mt})}),Le.addEdge.registerHook({name:"dag-add-edge",handler:dt=>(0,d.mG)(this,void 0,void 0,function*(){const{layout:mt=Fa.TOP_BOTTOM}=yield this.propConfig.getConfig(),St=Nt=>(0,d.mG)(this,void 0,void 0,function*(){return new Ca(Object.assign(Object.assign({},Nt),{id:Nt.id,source:{cell:Nt.source,port:Nt.sourcePortId,anchor:{name:mt===Fa.TOP_BOTTOM?"bottom":"right"}},target:{cell:Nt.target,port:Nt.targetPortId,anchor:{name:mt===Fa.TOP_BOTTOM?"center":"right"}},attrs:{line:{strokeDasharray:"",targetMarker:"",stroke:"#d5d5d5",strokeWidth:1}},data:Object.assign({},Nt)}))});dt.cellFactory=St})}),Le.addEdge.registerHook({name:"after add edge, set target port props",handler:(dt,mt)=>(0,d.mG)(this,void 0,void 0,function*(){return Nt=>(0,d.mG)(this,void 0,void 0,function*(){const O=yield mt(Nt);if(O&&O.edgeCell){const V=O.edgeCell.getTargetCell(),ae=O.edgeCell.getTargetPortId();V.setPortProp(ae,"connected",!0)}return O})})}),Le.delEdge.registerHook({name:"afetr del edge, reset target node port props",handler:(dt,mt)=>(0,d.mG)(this,void 0,void 0,function*(){return Nt=>(0,d.mG)(this,void 0,void 0,function*(){const O=yield mt(Nt),{targetCell:V,targetPortId:ae}=O;return V&&V.isNode()&&ae&&V.setPortProp(ae,"connected",!1),O})})}),Le.afterGraphInit.registerHook({name:"call add edge to replace temp edge",handler:dt=>(0,d.mG)(this,void 0,void 0,function*(){const{commandService:mt,graph:St}=dt;St.on(Us.EVENT_NAME,Nt=>{mt.executeCommand(v.$b.ADD_EDGE.id,{edgeConfig:Nt}),Nt.edge.remove()})})}),Le.graphOptions.registerHook({name:"dag-extension-x6-options",handler:dt=>(0,d.mG)(this,void 0,void 0,function*(){const mt=yield this.propConfig.getConfig(),St=Bl(mt);Object.assign(dt,St)})})];return at.pushAll(ct),v.JT.create(()=>{})}),this.registerHookHub=Le=>(0,d.mG)(this,void 0,void 0,function*(){return Le.registerHookHub(us.hookKey,new Rl.m)})}registerModel(Le){Le.registerModel({id:wa.id,getInitialValue:()=>({statusMap:new Map,subscription:new v.K4,graphStatus:wa.StatusEnum.DEFAULT}),watchChange:at=>(0,d.mG)(this,void 0,void 0,function*(){const{subscription:ct}=yield at.getValidValue();return ct})})}};(0,d.gn)([v.ManaSyringe.inject(v.OL),(0,d.w6)("design:type",Function)],Zl.prototype,"commandFactory",void 0),(0,d.gn)([v.ManaSyringe.inject(Ys),(0,d.w6)("design:type",Object)],Zl.prototype,"propConfig",void 0),Zl=(0,d.gn)([v.ManaSyringe.singleton({contrib:[v.tF,v.SM,v.d]})],Zl);const Pc=Ee=>v.ManaSyringe.Module(Le=>{Le(Zl),Le(Va),Le(Ys,{useValue:Ee})}),zl=Ee=>{const Le=(0,v.FA)();m.useEffect(()=>{Le.addContainerClassNames("dag-extension-container");const ct=Ee.layout||"TB";Le.addContainerClassNames(ct==="TB"?"layout-top-bottom":"layout-left-right")},[Le,Ee.layout]);const at=m.useMemo(()=>({CONFIG_TYPE:"DAG_EXTENSION",getConfig:()=>(0,d.mG)(void 0,void 0,void 0,function*(){return Ee})}),[Ee]);return m.createElement(v.p3,{config:at,createModule:Pc})},uc="XFLOW_FLOW_NODE_SHAPE",Uc=150,nl=60;let bc;const{AnchorGroup:kc}=v.NsGraph,ll={circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}};ke.NB.registry.exist(uc)?bc=ke.NB.registry.get(uc):bc=hs.ep.define({width:Uc,height:nl,shape:uc,view:v.WY.X6_NODE_PORTAL_NODE_VIEW,ports:{groups:{top:{position:kc.TOP,attrs:ll},bottom:{position:kc.BOTTOM,attrs:ll},right:{position:kc.RIGHT,attrs:ll},left:{position:kc.LEFT,attrs:ll}}},attrs:{body:{magnet:!1,fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"}}});const fc={grid:!0,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20},createEdge(){return new ke.bn.kS({attrs:{line:{stroke:"#A2B1C3",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}},zIndex:0})},validateConnection({targetMagnet:Ee}){return!!Ee}},highlighting:{magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#5F95FF",stroke:"#5F95FF"}}}},resizing:!0,rotating:!0,selecting:{enabled:!0,rubberband:!0,showNodeSelectionBox:!0,modifiers:"shift"},snapline:!0,keyboard:!0,clipboard:!0};let bl=class{constructor(){this.toDispose=new v.K4,this.registerHookHub=()=>(0,d.mG)(this,void 0,void 0,function*(){return v.JT.create(()=>{})}),this.registerHook=Le=>(0,d.mG)(this,void 0,void 0,function*(){const at=new v.K4,ct=[Le.addNode.registerHook({name:"flow-add-node",handler:dt=>(0,d.mG)(this,void 0,void 0,function*(){const mt=St=>(0,d.mG)(this,void 0,void 0,function*(){return new bc(Object.assign({},St))});dt.cellFactory=mt})}),Le.addEdge.registerHook({name:"flow-add-edge",handler:dt=>(0,d.mG)(this,void 0,void 0,function*(){const mt=St=>(0,d.mG)(this,void 0,void 0,function*(){return delete St.id,new ke.bn.kS({source:{cell:St.source,port:St.sourcePortId},target:{cell:St.target,port:St.targetPortId},attrs:{line:{stroke:"#A2B1C3",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}},zIndex:-1,data:Object.assign({},St)})});dt.cellFactory=mt})}),Le.graphOptions.registerHook({name:"assign options ",handler:dt=>(0,d.mG)(this,void 0,void 0,function*(){Object.assign(dt,fc)})})];return at.pushAll(ct),v.JT.create(()=>{})})}};bl=(0,d.gn)([v.ManaSyringe.singleton({contrib:v.tF})],bl);const Ha=()=>v.ManaSyringe.Module(Ee=>{Ee(bl)}),Ts=()=>{const Ee=(0,v.FA)(),Le=m.useMemo(()=>({CONFIG_TYPE:"DAG_EXTENSION",getConfig:()=>(0,d.mG)(void 0,void 0,void 0,function*(){})}),[]);return m.useEffect(()=>{const at=Ee.addExtension({config:Le,createModule:Ha});return Ee.addContainerClassNames("flow-extension-container"),()=>{at.dispose()}},[Le,Ee]),null};var Yl=l(73935),nc=l(38080),Ol=l(82492),Wl=l.n(Ol),sc=l(43183),Cl=l(16248),cl=l(96486),bs=l(2850),Ia=l(62994),ta=l(15671),Bs=l(43144),ts=l(32531),Cs=l(29388),Ul=l(50344),Lc=l(96774),rl=l.n(Lc),Du=l(29372),Vc=m.forwardRef(function(Ee,Le){var at,ct=Ee.prefixCls,dt=Ee.forceRender,mt=Ee.className,St=Ee.style,Nt=Ee.children,O=Ee.isActive,V=Ee.role,ae=m.useState(O||dt),we=(0,he.Z)(ae,2),qe=we[0],Rt=we[1];return m.useEffect(function(){(dt||O)&&Rt(!0)},[dt,O]),qe?m.createElement("div",{ref:Le,className:Q()("".concat(ct,"-content"),(at={},(0,je.Z)(at,"".concat(ct,"-content-active"),O),(0,je.Z)(at,"".concat(ct,"-content-inactive"),!O),at),mt),style:St,role:V},m.createElement("div",{className:"".concat(ct,"-content-box")},Nt)):null});Vc.displayName="PanelContent";var dc=Vc,ul=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],yt=function(Ee){(0,ts.Z)(at,Ee);var Le=(0,Cs.Z)(at);function at(){var ct;(0,ta.Z)(this,at);for(var dt=arguments.length,mt=new Array(dt),St=0;St<dt;St++)mt[St]=arguments[St];return ct=Le.call.apply(Le,[this].concat(mt)),ct.onItemClick=function(){var Nt=ct.props,O=Nt.onItemClick,V=Nt.panelKey;typeof O=="function"&&O(V)},ct.handleKeyPress=function(Nt){(Nt.key==="Enter"||Nt.keyCode===13||Nt.which===13)&&ct.onItemClick()},ct.renderIcon=function(){var Nt=ct.props,O=Nt.showArrow,V=Nt.expandIcon,ae=Nt.prefixCls,we=Nt.collapsible;if(!O)return null;var qe=typeof V=="function"?V(ct.props):m.createElement("i",{className:"arrow"});return qe&&m.createElement("div",{className:"".concat(ae,"-expand-icon"),onClick:we==="header"||we==="icon"?ct.onItemClick:null},qe)},ct.renderTitle=function(){var Nt=ct.props,O=Nt.header,V=Nt.prefixCls,ae=Nt.collapsible;return m.createElement("span",{className:"".concat(V,"-header-text"),onClick:ae==="header"?ct.onItemClick:null},O)},ct}return(0,Bs.Z)(at,[{key:"shouldComponentUpdate",value:function(dt){return!rl()(this.props,dt)}},{key:"render",value:function(){var dt,mt,St=this.props,Nt=St.className,O=St.id,V=St.style,ae=St.prefixCls,we=St.headerClass,qe=St.children,Rt=St.isActive,In=St.destroyInactivePanel,Wr=St.accordion,_i=St.forceRender,So=St.openMotion,Ho=St.extra,ga=St.collapsible,ns=(0,st.Z)(St,ul),xs=ga==="disabled",el=ga==="header",ja=ga==="icon",Vs=Q()((dt={},(0,je.Z)(dt,"".concat(ae,"-item"),!0),(0,je.Z)(dt,"".concat(ae,"-item-active"),Rt),(0,je.Z)(dt,"".concat(ae,"-item-disabled"),xs),dt),Nt),dl=Q()("".concat(ae,"-header"),(mt={},(0,je.Z)(mt,we,we),(0,je.Z)(mt,"".concat(ae,"-header-collapsible-only"),el),(0,je.Z)(mt,"".concat(ae,"-icon-collapsible-only"),ja),mt)),al={className:dl,"aria-expanded":Rt,"aria-disabled":xs,onKeyPress:this.handleKeyPress};!el&&!ja&&(al.onClick=this.onItemClick,al.role=Wr?"tab":"button",al.tabIndex=xs?-1:0);var Oc=Ho!=null&&typeof Ho!="boolean";return delete ns.header,delete ns.panelKey,delete ns.onItemClick,delete ns.showArrow,delete ns.expandIcon,m.createElement("div",(0,qn.Z)({},ns,{className:Vs,style:V,id:O}),m.createElement("div",al,this.renderIcon(),this.renderTitle(),Oc&&m.createElement("div",{className:"".concat(ae,"-extra")},Ho)),m.createElement(Du.ZP,(0,qn.Z)({visible:Rt,leavedClassName:"".concat(ae,"-content-hidden")},So,{forceRender:_i,removeOnLeave:In}),function($a,Ao){var eo=$a.className,As=$a.style;return m.createElement(dc,{ref:Ao,prefixCls:ae,className:eo,style:As,isActive:Rt,forceRender:_i,role:Wr?"tabpanel":null},qe)}))}}]),at}(m.Component);yt.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var Ga=yt;function fl(Ee){var Le=Ee;if(!Array.isArray(Le)){var at=(0,Dt.Z)(Le);Le=at==="number"||at==="string"?[Le]:[]}return Le.map(function(ct){return String(ct)})}var ps=function(Ee){(0,ts.Z)(at,Ee);var Le=(0,Cs.Z)(at);function at(ct){var dt;(0,ta.Z)(this,at),dt=Le.call(this,ct),dt.onClickItem=function(O){var V=dt.state.activeKey;if(dt.props.accordion)V=V[0]===O?[]:[O];else{V=(0,Zi.Z)(V);var ae=V.indexOf(O),we=ae>-1;we?V.splice(ae,1):V.push(O)}dt.setActiveKey(V)},dt.getNewChild=function(O,V){if(!O)return null;var ae=dt.state.activeKey,we=dt.props,qe=we.prefixCls,Rt=we.openMotion,In=we.accordion,Wr=we.destroyInactivePanel,_i=we.expandIcon,So=we.collapsible,Ho=O.key||String(V),ga=O.props,ns=ga.header,xs=ga.headerClass,el=ga.destroyInactivePanel,ja=ga.collapsible,Vs=!1;In?Vs=ae[0]===Ho:Vs=ae.indexOf(Ho)>-1;var dl=ja!=null?ja:So,al={key:Ho,panelKey:Ho,header:ns,headerClass:xs,isActive:Vs,prefixCls:qe,destroyInactivePanel:el!=null?el:Wr,openMotion:Rt,accordion:In,children:O.props.children,onItemClick:dl==="disabled"?null:dt.onClickItem,expandIcon:_i,collapsible:dl};return typeof O.type=="string"?O:(Object.keys(al).forEach(function(Oc){typeof al[Oc]=="undefined"&&delete al[Oc]}),m.cloneElement(O,al))},dt.getItems=function(){var O=dt.props.children;return(0,Ul.Z)(O).map(dt.getNewChild)},dt.setActiveKey=function(O){"activeKey"in dt.props||dt.setState({activeKey:O}),dt.props.onChange(dt.props.accordion?O[0]:O)};var mt=ct.activeKey,St=ct.defaultActiveKey,Nt=St;return"activeKey"in ct&&(Nt=mt),dt.state={activeKey:fl(Nt)},dt}return(0,Bs.Z)(at,[{key:"shouldComponentUpdate",value:function(dt,mt){return!rl()(this.props,dt)||!rl()(this.state,mt)}},{key:"render",value:function(){var dt,mt=this.props,St=mt.prefixCls,Nt=mt.className,O=mt.style,V=mt.accordion,ae=Q()((dt={},(0,je.Z)(dt,St,!0),(0,je.Z)(dt,Nt,!!Nt),dt));return m.createElement("div",{className:ae,style:O,role:V?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(dt){var mt={};return"activeKey"in dt&&(mt.activeKey=fl(dt.activeKey)),mt}}]),at}(m.Component);ps.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},ps.Panel=Ga;var fs=ps,Nu=fs,qu=fs.Panel,jc=l(98423),lc=l(96159),af=function(Le){var at=m.useContext(Wo.E_),ct=at.getPrefixCls,dt=Le.prefixCls,mt=Le.className,St=mt===void 0?"":mt,Nt=Le.showArrow,O=Nt===void 0?!0:Nt,V=ct("collapse",dt),ae=Q()((0,je.Z)({},"".concat(V,"-no-arrow"),!O),St);return m.createElement(Nu.Panel,(0,qn.Z)({},Le,{prefixCls:V,className:ae}))},Af=af,ju=function(Le){var at=m.useContext(Wo.E_),ct=at.getPrefixCls,dt=at.direction,mt=Le.prefixCls,St=Le.className,Nt=St===void 0?"":St,O=Le.bordered,V=O===void 0?!0:O,ae=Le.ghost,we=Le.expandIconPosition,qe=we===void 0?"start":we,Rt=ct("collapse",mt),In=m.useMemo(function(){return qe==="left"?"start":qe==="right"?"end":qe},[qe]),Wr=function(){var ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xs=Le.expandIcon,el=xs?xs(ns):m.createElement(Ia.Z,{rotate:ns.isActive?90:void 0});return(0,lc.Tm)(el,function(){return{className:Q()(el.props.className,"".concat(Rt,"-arrow"))}})},_i=Q()("".concat(Rt,"-icon-position-").concat(In),(0,je.Z)((0,je.Z)((0,je.Z)({},"".concat(Rt,"-borderless"),!V),"".concat(Rt,"-rtl"),dt==="rtl"),"".concat(Rt,"-ghost"),!!ae),Nt),So=(0,qn.Z)((0,qn.Z)({},hi.ZP),{motionAppear:!1,leavedClassName:"".concat(Rt,"-content-hidden")}),Ho=function(){var ns=Le.children;return(0,Ul.Z)(ns).map(function(xs,el){var ja;if(!((ja=xs.props)===null||ja===void 0)&&ja.disabled){var Vs=xs.key||String(el),dl=xs.props,al=dl.disabled,Oc=dl.collapsible,$a=(0,qn.Z)((0,qn.Z)({},(0,jc.Z)(xs.props,["disabled"])),{key:Vs,collapsible:Oc!=null?Oc:al?"disabled":void 0});return(0,lc.Tm)(xs,$a)}return xs})};return m.createElement(Nu,(0,qn.Z)({openMotion:So},Le,{expandIcon:Wr,prefixCls:Rt,className:_i}),Ho())};ju.Panel=Af;var il=ju,Ws=il,Ya=l(39559);const{Panel:Vl}=Ws,ds=Ee=>{const{x6NodeFactory:Le,dndOptions:at,state:ct,prefixClz:dt,defaultActiveKey:mt=["official"],showOfficial:St=!0}=Ee,Nt=Ee.registerNode?(0,cl.isArray)(Ee.registerNode)?Ee.registerNode:[Ee.registerNode]:[],{graphProvider:O,modelService:V,commandService:ae}=(0,v.XZ)(),[we,qe]=m.useState(),[Rt,In]=m.useState();O.getGraphInstance().then(ja=>{In(ja)});let Wr;O.getGraphOptions().then(ja=>{Wr=ja});const _i=(0,m.useCallback)(ja=>(0,d.mG)(void 0,void 0,void 0,function*(){var Vs;const{ports:dl}=ja,al=Object.assign(Object.assign({},ja),{id:`node-${(0,v.k$)()}`,zIndex:10,ports:Object.assign(Object.assign({},dl),{items:(Vs=dl.items)===null||Vs===void 0?void 0:Vs.map(Ao=>Object.assign(Object.assign({},Ao),{id:(0,v.k$)()}))})}),Oc={nodeConfig:al};yield ae.executeCommand(v.cE.ADD_NODE.id,Oc);const $a=(0,Ya.AM)("onAddNode");typeof $a=="function"&&$a(al)}),[ae]);m.useEffect(()=>{if(!Rt)return;const ja=new ke.e9.q6(Object.assign(Object.assign({scaled:!1,animation:!1},at),{target:Rt,validateNode:Vs=>(0,d.mG)(void 0,void 0,void 0,function*(){const dl=Object.assign(Object.assign({},Vs.getData()),Vs.getPosition());return yield _i(dl),!1})}));qe(ja)},[ae,at,Rt,V,_i]);const So=m.useCallback(ja=>Vs=>{if(!Rt||!we||!Wr)return;const dl=Wr.nodeTypeParser(ja),{width:al=180,height:Oc=40}=ja,$a=Wr.nodeRender.get(dl),Ao=(0,v.Yr)($a,ae,V),eo={data:ja,width:al,height:Oc,view:Wr.graphId,component:Ao},As=Le?Le(eo):Je(eo);we.start(As,Vs.nativeEvent)},[ae,we,Rt,Wr,V,Le]),Ho=m.useCallback((ja=[])=>ja.map(Vs=>{const{popoverContent:dl}=Vs;return m.createElement(gt,{item:Vs,key:Vs.id,onMouseDown:So(Vs),popoverContent:dl,prefixClz:dt,modelService:V,commandService:ae,graphConfig:Wr})}),[ae,Wr,V,So,dt]),ga=ct.nodeList.filter(ja=>!ja.isCustom),ns=ct.searchList.filter(ja=>!ja.isCustom),xs=ja=>ct.nodeList.filter(Vs=>Vs.isCustom&&Vs.parentKey===ja),el=ja=>ct.searchList.filter(Vs=>Vs.isCustom&&Vs.parentKey===ja);return m.createElement(m.Fragment,null,m.createElement("div",{className:`${dt}-body`},m.createElement(Ws,{defaultActiveKey:mt,style:{border:"none"}},St&&m.createElement(Vl,{header:"\u901A\u7528\u8282\u70B9",key:"official",style:{border:"none"}},!ct.keyword&&m.createElement("div",{className:`${dt}-official`},Ho(ga)),ct.searchList.length>0&&m.createElement("div",{className:`${dt}-official`},Ho(ns))),(Nt==null?void 0:Nt.length)>0&&Nt.map(ja=>!ja.hidden&&ja.nodes.length>0&&m.createElement(Vl,{header:ja.title,key:ja.key,style:{border:"none"}},!ct.keyword&&m.createElement("div",{className:`${dt}-custom`},Ho(xs(ja.key))),ct.searchList.length>0&&m.createElement("div",{className:`${dt}-custom`},Ho(el(ja.key)))))),ct.keyword&&ct.searchList.length===0&&m.createElement(Ea.Z,{style:{marginTop:"48px"}})))},Za=Ee=>{const{prefixClz:Le,onKeywordChange:at}=Ee,{propsProxy:ct}=hn(),dt=ct.getValue();return m.createElement(m.Fragment,null,m.createElement("div",{className:`${Le}-header`,style:Object.assign({zIndex:1},Ee.style)},dt.header&&m.isValidElement(dt.header)&&dt.header,m.createElement("div",{className:`${Le}-header-search`},m.createElement(Dn.Z,{placeholder:"\u641C\u7D22\u7EC4\u4EF6",allowClear:!0,onChange:mt=>at(mt.target.value),style:{width:"100%",border:0}}))))};var xl;(function(Ee){Ee.id="NODE_PANEL_DATA"})(xl||(xl={}));const yu=(Ee=[],Le)=>(0,d.mG)(void 0,void 0,void 0,function*(){return Ee.filter(ct=>{var dt,mt;return ct.isDirectory||((dt=ct.label)===null||dt===void 0?void 0:dt.includes(Le))||((mt=ct.name)===null||mt===void 0?void 0:mt.includes(Le))})}),ef=Ee=>{const{searchService:Le=yu}=Ee,at=Ee.registerNode?(0,cl.isArray)(Ee.registerNode)?Ee.registerNode:[Ee.registerNode]:[];let ct=[];at.forEach(V=>{ct=ct.concat(V.nodes.map(ae=>Object.assign(Object.assign({},ae),{parentKey:V.key})))});const{modelService:dt}=(0,v.XZ)(),[mt,St,Nt]=(0,v.Ao)({searchList:[],nodeList:[],defaultExpandAll:!1,keyword:""});m.useEffect(()=>{dt.findDeferredModel(xl.id)||dt.registerModel({id:xl.id,modelFactory:()=>Nt,watchChange:V=>(0,d.mG)(void 0,void 0,void 0,function*(){const ae=yield v.dX.GRAPH_META.getModel(dt),we=()=>(0,d.mG)(void 0,void 0,void 0,function*(){return{listData:yield(0,bs.Be)(ct)}}),qe=ae.watch(()=>(0,d.mG)(void 0,void 0,void 0,function*(){const Rt=yield we();V.setValue({nodeList:Rt.listData,defaultExpandAll:!1,keyword:"",searchList:[]})}));return v.JT.create(()=>{qe.dispose()})})})},[]);const O=m.useCallback(V=>(0,d.mG)(void 0,void 0,void 0,function*(){if(Le)if(V){const ae=yield Le(mt.nodeList,V);St(we=>{we.keyword=V,we.searchList=ae})}else St(ae=>{ae.keyword="",ae.searchList=[]})}),[Le,mt.nodeList,St]);return{state:mt,setState:St,onKeywordChange:O}};var iu=l(39786),Xl=l(30723),Xo=l(68658);const $u=Ee=>{const{cell:Le,data:{label:at,stroke:ct,fill:dt,fontSize:mt,fontFill:St,width:Nt=200,isCollapsed:O=!1}}=Ee,V=(0,v.XZ)(),ae=()=>{V.executeCommand(v.dV.COLLAPSE_GROUP.id,{nodeId:Le.id,isCollapsed:!1,collapsedSize:{width:Nt,height:40}})},we=()=>{V.executeCommand(v.dV.COLLAPSE_GROUP.id,{nodeId:Le.id,isCollapsed:!0,collapsedSize:{width:Nt,height:40},gap:3})};return m.createElement("div",{className:"xflow-group-node",style:{borderColor:ct,backgroundColor:dt,fontSize:mt,color:St}},m.createElement("div",{className:"xflow-group-header"},m.createElement("div",{className:"header-left"},at),m.createElement("div",{className:"header-right"},O&&m.createElement(Xl.Z,{onClick:ae}),!O&&m.createElement(Xo.Z,{onClick:we}))))},Uf=Ee=>{Ee.setNodeRender(iu.pN,$u)};var Tc;(function(Ee){Ee.id="FLOWCHART_PANEL_DATA"})(Tc||(Tc={}));const fo=Ee=>{const{prefixClz:Le,position:at={width:240,top:0,bottom:0,left:0},showHeader:ct=!0}=Ee,dt=(0,d._T)(Ee,["prefixClz","position","showHeader"]),{width:mt=200}=at,{headerStyle:St,bodyStyle:Nt}=ao(Ee),{state:O,onKeywordChange:V}=ef(Ee);return m.createElement(m.Fragment,null,ct&&m.createElement(bn,Object.assign({},dt,{position:{top:0,left:0,height:iu.oO,width:mt}}),m.createElement(Za,Object.assign({},Ee,{state:O,style:St,onKeywordChange:V}))),m.createElement(bn,Object.assign({className:`${iu.rC}-nodes`},dt,{position:Object.assign(Object.assign({},at),{top:ct?iu.oO:0})}),m.createElement(ds,Object.assign({},Ee,{state:O,style:Nt}))))},Hs=Ee=>{(0,bs.wu)((0,cl.get)(Ee,"registerNode"));const Le=(0,v.e7)("node-panel"),[at,ct]=(0,m.useState)(!1),{show:dt=!0,position:mt={width:240,top:40,bottom:0,left:0}}=Ee,St=(0,d._T)(Ee,["show","position"]);if(!dt)return null;const{width:Nt=200,left:O}=mt;return m.createElement(bn,{className:iu.rC,position:Object.assign(Object.assign({},mt),{left:at?-Nt:O})},m.createElement("div",{className:`${iu.rC}-wrapper`},m.createElement(bn,Object.assign({className:Le},St,{position:{top:0,bottom:0,left:0,right:0}}),m.createElement(fo,Object.assign({},Ee,{prefixClz:Le,position:mt}))),m.createElement("div",{className:`${iu.rC}-icon`,style:{top:21,right:at?-20:-10,borderRadius:at?"0 50% 50% 0":"50%",borderLeft:at?"none":""},onClick:()=>{ct(!at)}},at?m.createElement(sc.Z,null):m.createElement(Cl.Z,null))))},tu="flowchart-connecting-edge",sf="ant";var Xs;(function(Ee){Ee.EVENT_NAME="ADD_FLOWCHART_EDGE_CMD_EVENT"})(Xs||(Xs={}));const mf=ke.bn.kS.registry.register("xflow",ke.bn.kS.define({zIndex:1,highlight:!0,name:tu,label:"",anchor:{name:"midSide",args:{dx:10}},attrs:{line:{stroke:"#A2B1C3",targetMarker:{name:"block",width:12,height:8},strokeDasharray:"5 5",strokeWidth:1}},data:{label:""}}),!0),Df=(0,v.Jp)((Ee,Le)=>{const{config:at={},useConfig:ct,mode:dt="edit"}=Le.getValue();Ee.setEdgeTypeParser(mt=>mt==null?void 0:mt.renderKey),(0,Ya.cl)(Object.assign(Object.assign({},Le.getValue()),{graphConfig:Ee})),(0,bs.vc)(Ee),Uf(Ee),Ee.setX6Config(Wl()({grid:!0,history:!0,resizing:{enabled:!0,minWidth:iu.M8,minHeight:iu.M8,preserveAspectRatio:mt=>{const{data:St}=mt;return iu.X_.includes(St.name)}},snapline:{enabled:!0},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20},createEdge(){const mt=new mf({});return this.once("edge:connected",St=>{const{edge:Nt,isNew:O}=St;if(O&&Nt&&Nt.isEdge()&&mt===Nt){const V=Nt.getTargetCell();if(V&&V.isNode()){const ae=Nt.getTargetPortId(),we=Nt.getSourcePortId(),qe=Nt.getSourceCellId(),Rt=Nt.getTargetCellId();this.trigger(Xs.EVENT_NAME,{targetPortId:ae,sourcePortId:we,source:qe,target:Rt,edge:Nt,tempEdgeId:mt.id})}}}),mt},validateEdge:mt=>{var St;const{edge:Nt}=mt;return!!(!((St=Nt==null?void 0:Nt.target)===null||St===void 0)&&St.port)},validateMagnet(){return!0},validateConnection({sourceView:mt,targetView:St,targetMagnet:Nt}){if(mt===St)return!1;const O=St.cell;if(Nt){const V=Nt.getAttribute("port"),ae=O.getPort(V);return!(ae&&ae.connected)}}},highlighting:{nodeAvailable:{name:"className",args:{className:"available"}},magnetAvailable:{name:"className",args:{className:"available"}},magnetAdsorbed:{name:"className",args:{className:"adsorbed"}}},onPortRendered(mt){const{port:St}=mt,{contentSelectors:Nt}=mt,O=Nt&&Nt.content,V=St.group,ae=Q()("xflow-port",{connected:St.connected});O&&Yl.render(m.createElement(nc.ZP,{prefixCls:sf},m.createElement(Z.Z,{title:St.tooltip,placement:V},m.createElement("span",{className:ae}))),O)}},at)),Ee.setEvents([{eventName:"node:selected",callback:()=>{dt==="edit"&&(0,Ya.bu)(!1)}},{eventName:"edge:dblclick",callback:mt=>{(0,Ya.nZ)(mt)}},{eventName:"edge:mouseleave",callback:(mt,St)=>{(0,Ya.Fg)(mt,St)}},{eventName:"node:mouseenter",callback:mt=>{dt==="edit"&&(0,Ya.bu)(!0,mt)}},{eventName:"node:mouseleave",callback:mt=>{(0,Ya.bu)(!1,mt)}},{eventName:"node:moved",callback:(mt,St)=>{(0,Ya.GW)(mt,St)}},{eventName:"node:resized",callback:(mt,St)=>{(0,Ya.Le)(mt,St)}}]),typeof ct=="function"&&ct(Ee)});var yf=l(13071);let Mu=class{constructor(){this.toDispose=new v.K4,this.registerHookHub=()=>(0,d.mG)(this,void 0,void 0,function*(){return v.JT.create(()=>{})}),this.registerHook=Le=>(0,d.mG)(this,void 0,void 0,function*(){const at=new v.K4,ct=[Le.afterGraphInit.registerHook({name:"call add edge to replace temp edge",handler:dt=>(0,d.mG)(this,void 0,void 0,function*(){const{commandService:mt,graph:St}=dt;St.on(Xs.EVENT_NAME,Nt=>(0,d.mG)(this,void 0,void 0,function*(){const{edge:O}=Nt,V=(0,d._T)(Nt,["edge"]),{tempEdgeId:ae}=V,we=(0,d._T)(V,["tempEdgeId"]),qe={edgeConfig:Object.assign(Object.assign({},we),{source:{cell:V.source,port:V.sourcePortId},target:{cell:V.target,port:V.targetPortId},zIndex:1,attrs:{line:{stroke:"#A2B1C3",targetMarker:{name:"block",width:12,height:8},strokeDasharray:"5 5",strokeWidth:1}},data:Object.assign({},we)})};yield mt.executeCommand(v.$b.ADD_EDGE.id,qe),yield mt.executeCommand(v.$b.DEL_EDGE.id,{edgeConfig:{id:ae}});const Rt=St.getCellById(V.source),In=St.getCellById(V.target);yield mt.executeCommand(v.cE.UPDATE_NODE.id,{nodeConfig:Object.assign(Object.assign({},Rt.data),{incomingEdges:St.getIncomingEdges(Rt),outgoingEdges:St.getOutgoingEdges(Rt)})}),yield mt.executeCommand(v.cE.UPDATE_NODE.id,{nodeConfig:Object.assign(Object.assign({},In.data),{incomingEdges:St.getIncomingEdges(In),outgoingEdges:St.getOutgoingEdges(In)})});const Wr=(0,Ya.AM)("onAddEdge");typeof Wr=="function"&&Wr(qe.edgeConfig),Nt.edge.remove()}))})})];return at.pushAll(ct),v.JT.create(()=>{})})}};Mu=(0,d.gn)([(0,yf.singleton)({contrib:v.tF})],Mu);const nu=()=>{const Ee=(0,v.FA)(),Le=m.useMemo(()=>({CONFIG_TYPE:"FLOWCHART_EXTENSION",getConfig:()=>(0,d.mG)(void 0,void 0,void 0,function*(){})}),[]);return m.useEffect(()=>{const at=Ee.addExtension({config:Le,createModule:eh});return Ee.addContainerClassNames("flowchart-extension-container"),()=>{at.dispose()}},[Le,Ee]),null},eh=()=>(0,yf.Module)(Ee=>{Ee(Mu)}),Vf=Ee=>{const{position:Le={top:40,left:240,right:240,bottom:0}}=Ee,at=Df(Ee),ct=(0,v.XZ)();return(0,m.useEffect)(()=>{ct&&(0,Ya._$)(ct)},[ct]),m.createElement(v.n1,Object.assign({},Ee,{config:at,position:Le}),Ee.children)};Vf.defaultProps={isXFlowCanvas:!0};const bd=Ee=>(0,d.mG)(void 0,void 0,void 0,function*(){var Le;const{targetType:at}=Ee,ct=(Le=Ee.targetData)===null||Le===void 0?void 0:Le.isGroup,dt={tabs:[{name:"\u8BBE\u7F6E",groups:[{name:"groupName",controls:[{label:"\u5206\u7EC4\u540D",name:"group-service",shape:"group-service",placeholder:"\u5206\u7EC4\u540D\u79F0"}]}]}]},mt={tabs:[{name:"\u8BBE\u7F6E",groups:[{name:"groupName",controls:[{label:"\u8282\u70B9\u540D",name:"node-service",shape:"node-service",placeholder:"\u8282\u70B9\u540D\u79F0"}]}]}]},St={tabs:[{name:"\u8BBE\u7F6E",groups:[{name:"groupName",controls:[{label:"\u8FB9",name:"edge-service",shape:"edge-service",placeholder:"\u8FB9\u540D\u79F0"}]}]}]};return ct?dt:at==="node"?mt:at==="edge"?St:{tabs:[{name:"\u8BBE\u7F6E",groups:[{name:"groupName",controls:[{label:"",name:"canvas-service",shape:"canvas-service"}]}]}]}});function ol(Ee){const[Le,at]=(0,m.useState)({loading:!0}),ct=(0,m.useCallback)(()=>{Ee().then(dt=>{at({loading:!1,data:dt})},dt=>{at({loading:!1}),console.error(dt)})},[Ee]);return(0,m.useEffect)(()=>{ct()},[ct]),Le}const ou=Ee=>{const{controlSchema:Le,children:at,type:ct="node"}=Ee,{commandService:dt,modelService:mt}=hn(),St=(0,m.useCallback)(()=>(0,d.mG)(void 0,void 0,void 0,function*(){const{data:Rt}=yield v.dX.SELECTED_NODE.useValue(mt);return Rt}),[mt]),Nt=(0,m.useCallback)(()=>(0,d.mG)(void 0,void 0,void 0,function*(){const Rt=yield v.dX.SELECTED_CELL.useValue(mt),In=Rt.getData();return Object.assign({id:Rt.id},In)}),[mt]),{data:O,loading:V}=ol(ct==="edge"?Nt:St);m.useEffect(()=>{dt.executeCommand(v.Gv.SAVE_GRAPH_DATA.id,{saveGraphDataService:(Rt,In)=>(0,d.mG)(void 0,void 0,void 0,function*(){return{err:null,data:In,meta:Rt}})})},[dt]);const ae=Rt=>(0,d.mG)(void 0,void 0,void 0,function*(){const In=yield St(),Wr=Object.assign(Object.assign({},In),Rt);yield dt.executeCommand(v.cE.UPDATE_NODE.id,{nodeConfig:Wr}),(0,Ya.kx)({type:"update:node",config:Wr})}),we=(Rt,In="line",Wr)=>(0,d.mG)(void 0,void 0,void 0,function*(){var _i;const So=yield Nt(),Ho=Object.assign(Object.assign(Object.assign({},So),Wr?Rt[Wr]:Rt),{attrs:Object.assign(Object.assign({},So.attrs),{[In]:Object.assign(Object.assign({},(_i=So.attrs)===null||_i===void 0?void 0:_i[In]),Wr?Rt[Wr]:Rt)})});yield dt.executeCommand(v.$b.UPDATE_EDGE.id,{edgeConfig:Ho}),(0,Ya.kx)({type:"update:edge",config:Ho})}),qe=Rt=>(0,d.mG)(void 0,void 0,void 0,function*(){const In=yield St(),Wr=Object.assign(Object.assign({},In),Rt);yield dt.executeCommand(v.cE.UPDATE_NODE.id,{nodeConfig:Wr}),(0,Ya.kx)({type:"update:group",config:Wr})});return V?null:m.createElement(_r,{schema:Le},()=>at(Object.assign({},O),{updateNode:ae,updateEdge:we,updateGroup:qe}))},Jl="flowchart-editor",Ru=24,ad={attrs:{line:{stroke:"#A2B1C3",strokeWidth:1},text:{fill:"#000",fontSize:12,textAnchor:"middle",textVerticalAnchor:"middle"}}},hc={width:12,height:8,name:"block"},Iu={width:0,height:0,name:""},ku={target:{sourceMarker:Iu,targetMarker:hc},source:{sourceMarker:hc,targetMarker:Iu},all:{sourceMarker:hc,targetMarker:hc},none:{sourceMarker:Iu,targetMarker:Iu}},Fc={solid:[0,0],dash:[5,5]};var _l=Ee=>{const{label:Le="\u6807\u7B7E",value:at,onChange:ct}=Ee;return m.createElement("div",{className:"group"},m.createElement("label",null,Le),m.createElement(Dn.Z,{value:at,style:{height:Ru},onChange:dt=>{ct==null||ct(dt.target.value)}}))},Nf=l(48007);const lf=Ee=>{const{label:Le,value:at="",onChange:ct}=Ee,[dt,mt]=(0,m.useState)(!1),St=(0,m.useRef)(at),Nt=(0,m.useRef)(),{graphProvider:O}=(0,v.XZ)(),V=(0,m.useRef)();O.getGraphOptions().then(Rt=>{V.current=Rt});const ae=()=>m.createElement("div",{className:`${Jl}-pick-color-container`},m.createElement("div",{className:`${Jl}-popover`},m.createElement(Nf.xS,{onChange:Rt=>{St.current=Rt.hex}}),m.createElement("div",{className:"foolter"},m.createElement(N.Z,{onClick:()=>{mt(!1)}},"\u53D6\u6D88"),m.createElement(N.Z,{type:"primary",onClick:()=>{ct==null||ct(St.current),mt(!1)}},"\u786E\u8BA4")))),we=(Rt,In)=>{const Wr=document.getElementsByClassName(In);if(Wr.length===1)return Wr[0];let _i=null,So=Rt.parentElement;for(;!_i;){const Ho=So.getElementsByClassName(In);(Ho==null?void 0:Ho.length)>0&&(_i=Ho[0]),So=So.parentElement}return _i},qe=Rt=>{const In=document.getElementsByClassName(`${Jl}-pick-color-container`);if(In.length&&Array.from(In).forEach(_i=>{var So;(So=_i.parentNode)===null||So===void 0||So.removeChild(_i)}),!Rt)return;const Wr=document.createElement("div");(0,Yl.render)((0,Yl.createPortal)(m.createElement(ae,null),we(Nt.current,"flowchart-editor-panel-body")),Wr)};return m.createElement("div",{className:"group",ref:Nt},Le&&m.createElement("label",null,Le),m.createElement("div",{className:`${Jl}-color-container`,onClick:()=>{mt(!0)}},m.createElement("div",{className:`${Jl}-color`,style:{backgroundColor:at,height:"100%"}})),qe(dt))};var $c=(0,m.memo)(lf,(Ee,Le)=>Ee.label===Le.label&&Ee.value===Le.value),Lu=Ee=>{const{label:Le,value:at,onChange:ct,min:dt,width:mt}=Ee;return m.createElement("div",{className:"group"},Le&&m.createElement("label",null,Le),m.createElement(Ur.Z,{value:at,min:dt,style:{width:mt,height:Ru},onChange:St=>{ct==null||ct(St)}}))};const tf=({value:Ee,onChangeItem:Le,addonBefore:at})=>m.createElement("div",{className:"addon-before-group"},m.createElement(Ur.Z,{value:Ee,style:{height:Ru,border:"none"},onChange:ct=>{Le(ct)}}),m.createElement("span",null,at));var cf=Ee=>{const{label:Le="\u4F4D\u7F6E",x:at,y:ct,onChange:dt}=Ee;return m.createElement("div",{className:"group"},m.createElement("label",null,Le),m.createElement("div",{className:"split"},m.createElement(tf,{addonBefore:"X",value:at,onChangeItem:mt=>{dt==null||dt("x",mt)}}),m.createElement(tf,{addonBefore:"Y",value:ct,onChangeItem:mt=>{dt==null||dt("y",mt)}})))},bf=Ee=>{const{width:Le,height:at,label:ct="\u5C3A\u5BF8",onChange:dt}=Ee;return m.createElement("div",{className:"group"},m.createElement("label",null,ct),m.createElement("div",{className:"split"},m.createElement(tf,{addonBefore:"W",value:Le,onChangeItem:mt=>{dt==null||dt("width",mt)}}),m.createElement(tf,{addonBefore:"H",value:at,onChangeItem:mt=>{dt==null||dt("height",mt)}})))},au=Ee=>{const{label:Le="\u7BAD\u5934",value:at,onChange:ct,options:dt=[],width:mt}=Ee;return m.createElement("div",{className:"group"},m.createElement("label",null,Le),m.createElement(Pt.Z,{size:"small",value:at,style:{width:mt,height:Ru},getPopupContainer:St=>St.parentNode,optionFilterProp:"children",onChange:St=>{ct==null||ct(St)},filterOption:(St,Nt)=>{const{label:O=""}=Nt;return typeof O=="string"?O.toLowerCase().indexOf(St.toLowerCase())>=0:O.toString().indexOf(St.toLowerCase())>=0},options:dt}))};const su={InputFiled:_l,ColorPicker:$c,InputNumberFiled:Lu,Size:bf,Position:cf,SelectField:au},Cf=Ee=>{const{config:Le,plugin:at={}}=Ee,{updateNode:ct}=at,[dt,mt]=(0,m.useState)(Object.assign(Object.assign({},iu.CQ),Le)),St=(Nt,O)=>{mt(Object.assign(Object.assign({},dt),{[Nt]:O})),ct({[Nt]:O})};return(0,m.useEffect)(()=>{mt(Object.assign(Object.assign({},iu.CQ),Le))},[Le]),m.createElement("div",{className:`${Jl}-panel-body`},m.createElement("div",{className:`${Jl}-panel-group`},m.createElement("h5",null,"\u5185\u5BB9"),m.createElement(_l,{label:"\u6807\u9898",value:dt.label,onChange:Nt=>{St("label",Nt)}})),m.createElement("div",{className:`${Jl}-panel-group`},m.createElement("h5",null,"\u6837\u5F0F"),m.createElement(cf,{x:dt.x,y:dt.y,onChange:(Nt,O)=>{St(Nt,O)}}),m.createElement(bf,{width:dt.width,height:dt.height,onChange:(Nt,O)=>{St(Nt,O)}}),m.createElement($c,{label:"\u586B\u5145",value:dt.fill,onChange:Nt=>{St("fill",Nt)}}),m.createElement($c,{label:"\u8FB9\u6846",value:dt.stroke,onChange:Nt=>{St("stroke",Nt)}}),m.createElement("div",{className:`${Jl}-node-text-style`},m.createElement(Lu,{label:"\u5B57\u53F7",value:dt.fontSize,width:68,onChange:Nt=>{St("fontSize",Nt)}}),m.createElement($c,{value:dt.fontFill,onChange:Nt=>{St("fontFill",Nt)}}))))},rc=Ee=>m.createElement(ou,Object.assign({},Ee),(Le,at)=>m.createElement(Cf,Object.assign({},Ee,{plugin:at,config:Le}))),pc=Ee=>{const{config:Le,plugin:at={}}=Ee,{updateEdge:ct}=at,[dt,mt]=(0,m.useState)(Object.assign(Object.assign({},ad),Le));(0,m.useEffect)(()=>{mt(Object.assign(Object.assign({},ad),Le))},[Le]);const St=(ae,we="line")=>{var qe;const{attrs:Rt={}}=dt;return(qe=Rt[we])===null||qe===void 0?void 0:qe[ae]},Nt=()=>{var ae,we,qe,Rt,In;const{attrs:Wr={}}=dt,{line:_i={}}=Wr;return!((ae=_i.sourceMarker)===null||ae===void 0)&&ae.name&&(!((we=_i.targetMarker)===null||we===void 0)&&we.name)?"all":!(!((qe=_i.sourceMarker)===null||qe===void 0)&&qe.name)&&!(!((Rt=_i.targetMarker)===null||Rt===void 0)&&Rt.name)?"none":!((In=_i.sourceMarker)===null||In===void 0)&&In.name?"source":"target"},O=()=>{const{attrs:ae={}}=dt,{line:we={}}=ae;return we.strokeDasharray?"dash":"solid"},V=(ae,we,qe="line")=>{var Rt,In;mt(ae==="arrow"?Object.assign(Object.assign({},dt),{attrs:Object.assign(Object.assign({},dt.attrs),{[qe]:Object.assign(Object.assign({},(Rt=dt.attrs)===null||Rt===void 0?void 0:Rt[qe]),we)})}):Object.assign(Object.assign({},dt),{[ae]:we,attrs:Object.assign(Object.assign({},dt.attrs),{[qe]:Object.assign(Object.assign({},(In=dt.attrs)===null||In===void 0?void 0:In[qe]),{[ae]:we})})})),ct({[ae]:we},qe,ae==="arrow"?"arrow":"")};return m.createElement("div",{className:`${Jl}-panel-body`},m.createElement("div",{className:`${Jl}-panel-group`},m.createElement("h5",null,"\u5185\u5BB9"),m.createElement(_l,{label:"\u6807\u7B7E",value:dt.label,onChange:ae=>{V("label",ae)}})),m.createElement("h5",{style:{marginBottom:12}},"\u6837\u5F0F"),m.createElement("div",{className:`${Jl}-panel-group`,style:{marginBottom:0}},m.createElement("h5",null,"\u7EBF"),m.createElement(au,{label:"\u7BAD\u5934",value:Nt(),width:"100%",options:[{label:"\u6B63\u5411",value:"target"},{label:"\u9006\u5411",value:"source"},{label:"\u53CC\u5411",value:"all"},{label:"\u65E0",value:"none"}],onChange:ae=>{V("arrow",ku[ae],"line")}}),m.createElement("div",{className:`${Jl}-edge-stroke-style`},m.createElement(au,{label:"\u7EBF\u5F62",width:68,value:O(),options:[{label:"\u5B9E\u7EBF",value:"solid"},{label:"\u865A\u7EBF",value:"dash"}],onChange:ae=>{V("strokeDasharray",Fc[ae],"line")}}),m.createElement(Lu,{value:St("strokeWidth"),min:1,onChange:ae=>{V("strokeWidth",ae,"line")}})),m.createElement($c,{label:"\u8FB9\u6846",value:St("stroke"),onChange:ae=>{V("stroke",ae,"line")}})),m.createElement("div",{className:`${Jl}-panel-group`},m.createElement("h5",null,"\u6807\u7B7E"),m.createElement("div",{className:`${Jl}-edge-text-style`},m.createElement(Lu,{label:"\u5B57\u53F7",min:10,width:68,value:St("fontSize","text")||12,onChange:ae=>{V("fontSize",ae,"text")}}),m.createElement($c,{value:St("fill","text")||"#000",onChange:ae=>{V("fill",ae,"text")}}))))},Ql=Ee=>m.createElement(ou,Object.assign({},Ee,{type:"edge"}),(Le,at)=>m.createElement(pc,Object.assign({},Ee,{plugin:at,config:Le}))),ed=Ee=>{const{config:Le,plugin:at={}}=Ee,{updateGroup:ct}=at,[dt,mt]=(0,m.useState)(Object.assign(Object.assign({},iu.CQ),Le)),St=(Nt,O)=>{mt(Object.assign(Object.assign({},dt),{[Nt]:O})),ct({[Nt]:O})};return(0,m.useEffect)(()=>{mt(Object.assign(Object.assign({},iu.CQ),Le))},[Le]),m.createElement("div",{className:`${Jl}-panel-body`},m.createElement("div",{className:`${Jl}-panel-group`},m.createElement("h5",null,"\u5185\u5BB9"),m.createElement(_l,{label:"\u6807\u9898",value:dt.label,onChange:Nt=>{St("label",Nt)}})),m.createElement("div",{className:`${Jl}-panel-group`},m.createElement("h5",null,"\u6837\u5F0F"),m.createElement(cf,{x:dt.x,y:dt.y,onChange:(Nt,O)=>{St(Nt,O)}}),m.createElement(bf,{width:dt.width,height:dt.height,onChange:(Nt,O)=>{St(Nt,O)}}),m.createElement($c,{label:"\u586B\u5145",value:dt.fill,onChange:Nt=>{St("fill",Nt)}}),m.createElement($c,{label:"\u8FB9\u6846",value:dt.stroke,onChange:Nt=>{St("stroke",Nt)}}),m.createElement("div",{className:`${Jl}-node-text-style`},m.createElement(Lu,{label:"\u5B57\u53F7",value:dt.fontSize,width:68,onChange:Nt=>{St("fontSize",Nt)}}),m.createElement($c,{value:dt.fontFill,onChange:Nt=>{St("fontFill",Nt)}}))))},Rf=Ee=>m.createElement(ou,Object.assign({},Ee),(Le,at)=>m.createElement(ed,Object.assign({},Ee,{plugin:at,config:Le}))),xf=()=>m.createElement("div",{className:`${Jl}-canvas-panel`},m.createElement("span",null,"\u672A\u9009\u4E2D")),xd=Ee=>(Ee.set("node-service",rc),Ee.set("edge-service",Ql),Ee.set("group-service",Rf),Ee.set("canvas-service",xf),Ee),lu={NodeService:rc,EdgeService:Ql,GroupService:Rf,CanvasService:xf},Wu="xflow-editor-panel-collpase",Ef=Ee=>{const[Le,at]=(0,m.useState)(!1),{controlMapService:ct=xd,formSchemaService:dt=bd,position:mt={width:240,top:0,bottom:0,right:0},show:St=!0}=Ee,Nt=(0,d._T)(Ee,["controlMapService","formSchemaService","position","show"]);if(!St)return null;const{width:O=200,right:V}=mt;return m.createElement(bn,{className:Wu,position:Object.assign(Object.assign({},mt),{right:Le?-O:V})},m.createElement("div",{className:`${Wu}-wrapper`},m.createElement(tc,Object.assign({targetType:["node","edge","canvas","group"],controlMapService:ct,formSchemaService:dt,position:Object.assign(Object.assign({},mt),{top:0}),prefixClz:"xflow-form-editor"},Nt)),m.createElement("div",{className:`${Wu}-icon`,style:{top:21,left:Le?-20:-10,borderRadius:Le?"50% 0 0  50%":"50%",borderRight:Le?"none":""},onClick:()=>{at(!Le)}},Le?m.createElement(Cl.Z,null):m.createElement(sc.Z,null))))}},10274:function(j,M,l){"use strict";l.d(M,{C:function(){return x}});var v=l(86500),d=l(48701),m=l(1350),g=l(90279),x=function(){function E(w,k){w===void 0&&(w=""),k===void 0&&(k={});var Z;if(w instanceof E)return w;typeof w=="number"&&(w=(0,v.Yt)(w)),this.originalInput=w;var U=(0,m.uA)(w);this.originalInput=w,this.r=U.r,this.g=U.g,this.b=U.b,this.a=U.a,this.roundA=Math.round(100*this.a)/100,this.format=(Z=k.format)!==null&&Z!==void 0?Z:U.format,this.gradientType=k.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=U.ok}return E.prototype.isDark=function(){return this.getBrightness()<128},E.prototype.isLight=function(){return!this.isDark()},E.prototype.getBrightness=function(){var w=this.toRgb();return(w.r*299+w.g*587+w.b*114)/1e3},E.prototype.getLuminance=function(){var w=this.toRgb(),k,Z,U,$=w.r/255,te=w.g/255,Q=w.b/255;return $<=.03928?k=$/12.92:k=Math.pow(($+.055)/1.055,2.4),te<=.03928?Z=te/12.92:Z=Math.pow((te+.055)/1.055,2.4),Q<=.03928?U=Q/12.92:U=Math.pow((Q+.055)/1.055,2.4),.2126*k+.7152*Z+.0722*U},E.prototype.getAlpha=function(){return this.a},E.prototype.setAlpha=function(w){return this.a=(0,g.Yq)(w),this.roundA=Math.round(100*this.a)/100,this},E.prototype.isMonochrome=function(){var w=this.toHsl().s;return w===0},E.prototype.toHsv=function(){var w=(0,v.py)(this.r,this.g,this.b);return{h:w.h*360,s:w.s,v:w.v,a:this.a}},E.prototype.toHsvString=function(){var w=(0,v.py)(this.r,this.g,this.b),k=Math.round(w.h*360),Z=Math.round(w.s*100),U=Math.round(w.v*100);return this.a===1?"hsv(".concat(k,", ").concat(Z,"%, ").concat(U,"%)"):"hsva(".concat(k,", ").concat(Z,"%, ").concat(U,"%, ").concat(this.roundA,")")},E.prototype.toHsl=function(){var w=(0,v.lC)(this.r,this.g,this.b);return{h:w.h*360,s:w.s,l:w.l,a:this.a}},E.prototype.toHslString=function(){var w=(0,v.lC)(this.r,this.g,this.b),k=Math.round(w.h*360),Z=Math.round(w.s*100),U=Math.round(w.l*100);return this.a===1?"hsl(".concat(k,", ").concat(Z,"%, ").concat(U,"%)"):"hsla(".concat(k,", ").concat(Z,"%, ").concat(U,"%, ").concat(this.roundA,")")},E.prototype.toHex=function(w){return w===void 0&&(w=!1),(0,v.vq)(this.r,this.g,this.b,w)},E.prototype.toHexString=function(w){return w===void 0&&(w=!1),"#"+this.toHex(w)},E.prototype.toHex8=function(w){return w===void 0&&(w=!1),(0,v.s)(this.r,this.g,this.b,this.a,w)},E.prototype.toHex8String=function(w){return w===void 0&&(w=!1),"#"+this.toHex8(w)},E.prototype.toHexShortString=function(w){return w===void 0&&(w=!1),this.a===1?this.toHexString(w):this.toHex8String(w)},E.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},E.prototype.toRgbString=function(){var w=Math.round(this.r),k=Math.round(this.g),Z=Math.round(this.b);return this.a===1?"rgb(".concat(w,", ").concat(k,", ").concat(Z,")"):"rgba(".concat(w,", ").concat(k,", ").concat(Z,", ").concat(this.roundA,")")},E.prototype.toPercentageRgb=function(){var w=function(k){return"".concat(Math.round((0,g.sh)(k,255)*100),"%")};return{r:w(this.r),g:w(this.g),b:w(this.b),a:this.a}},E.prototype.toPercentageRgbString=function(){var w=function(k){return Math.round((0,g.sh)(k,255)*100)};return this.a===1?"rgb(".concat(w(this.r),"%, ").concat(w(this.g),"%, ").concat(w(this.b),"%)"):"rgba(".concat(w(this.r),"%, ").concat(w(this.g),"%, ").concat(w(this.b),"%, ").concat(this.roundA,")")},E.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var w="#"+(0,v.vq)(this.r,this.g,this.b,!1),k=0,Z=Object.entries(d.R);k<Z.length;k++){var U=Z[k],$=U[0],te=U[1];if(w===te)return $}return!1},E.prototype.toString=function(w){var k=!!w;w=w!=null?w:this.format;var Z=!1,U=this.a<1&&this.a>=0,$=!k&&U&&(w.startsWith("hex")||w==="name");return $?w==="name"&&this.a===0?this.toName():this.toRgbString():(w==="rgb"&&(Z=this.toRgbString()),w==="prgb"&&(Z=this.toPercentageRgbString()),(w==="hex"||w==="hex6")&&(Z=this.toHexString()),w==="hex3"&&(Z=this.toHexString(!0)),w==="hex4"&&(Z=this.toHex8String(!0)),w==="hex8"&&(Z=this.toHex8String()),w==="name"&&(Z=this.toName()),w==="hsl"&&(Z=this.toHslString()),w==="hsv"&&(Z=this.toHsvString()),Z||this.toHexString())},E.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},E.prototype.clone=function(){return new E(this.toString())},E.prototype.lighten=function(w){w===void 0&&(w=10);var k=this.toHsl();return k.l+=w/100,k.l=(0,g.V2)(k.l),new E(k)},E.prototype.brighten=function(w){w===void 0&&(w=10);var k=this.toRgb();return k.r=Math.max(0,Math.min(255,k.r-Math.round(255*-(w/100)))),k.g=Math.max(0,Math.min(255,k.g-Math.round(255*-(w/100)))),k.b=Math.max(0,Math.min(255,k.b-Math.round(255*-(w/100)))),new E(k)},E.prototype.darken=function(w){w===void 0&&(w=10);var k=this.toHsl();return k.l-=w/100,k.l=(0,g.V2)(k.l),new E(k)},E.prototype.tint=function(w){return w===void 0&&(w=10),this.mix("white",w)},E.prototype.shade=function(w){return w===void 0&&(w=10),this.mix("black",w)},E.prototype.desaturate=function(w){w===void 0&&(w=10);var k=this.toHsl();return k.s-=w/100,k.s=(0,g.V2)(k.s),new E(k)},E.prototype.saturate=function(w){w===void 0&&(w=10);var k=this.toHsl();return k.s+=w/100,k.s=(0,g.V2)(k.s),new E(k)},E.prototype.greyscale=function(){return this.desaturate(100)},E.prototype.spin=function(w){var k=this.toHsl(),Z=(k.h+w)%360;return k.h=Z<0?360+Z:Z,new E(k)},E.prototype.mix=function(w,k){k===void 0&&(k=50);var Z=this.toRgb(),U=new E(w).toRgb(),$=k/100,te={r:(U.r-Z.r)*$+Z.r,g:(U.g-Z.g)*$+Z.g,b:(U.b-Z.b)*$+Z.b,a:(U.a-Z.a)*$+Z.a};return new E(te)},E.prototype.analogous=function(w,k){w===void 0&&(w=6),k===void 0&&(k=30);var Z=this.toHsl(),U=360/k,$=[this];for(Z.h=(Z.h-(U*w>>1)+720)%360;--w;)Z.h=(Z.h+U)%360,$.push(new E(Z));return $},E.prototype.complement=function(){var w=this.toHsl();return w.h=(w.h+180)%360,new E(w)},E.prototype.monochromatic=function(w){w===void 0&&(w=6);for(var k=this.toHsv(),Z=k.h,U=k.s,$=k.v,te=[],Q=1/w;w--;)te.push(new E({h:Z,s:U,v:$})),$=($+Q)%1;return te},E.prototype.splitcomplement=function(){var w=this.toHsl(),k=w.h;return[this,new E({h:(k+72)%360,s:w.s,l:w.l}),new E({h:(k+216)%360,s:w.s,l:w.l})]},E.prototype.onBackground=function(w){var k=this.toRgb(),Z=new E(w).toRgb(),U=k.a+Z.a*(1-k.a);return new E({r:(k.r*k.a+Z.r*Z.a*(1-k.a))/U,g:(k.g*k.a+Z.g*Z.a*(1-k.a))/U,b:(k.b*k.a+Z.b*Z.a*(1-k.a))/U,a:U})},E.prototype.triad=function(){return this.polyad(3)},E.prototype.tetrad=function(){return this.polyad(4)},E.prototype.polyad=function(w){for(var k=this.toHsl(),Z=k.h,U=[this],$=360/w,te=1;te<w;te++)U.push(new E({h:(Z+te*$)%360,s:k.s,l:k.l}));return U},E.prototype.equals=function(w){return this.toRgbString()===new E(w).toRgbString()},E}();function A(E,w){return E===void 0&&(E=""),w===void 0&&(w={}),new x(E,w)}},85788:function(j,M,l){var v=l(58579);j.exports={Graph:v.Graph,json:l(62485),alg:l(39100),version:v.version}},74774:function(j,M,l){var v=l(77163);j.exports=d;function d(m){var g={},x=[],A;function E(w){v.has(g,w)||(g[w]=!0,A.push(w),v.each(m.successors(w),E),v.each(m.predecessors(w),E))}return v.each(m.nodes(),function(w){A=[],E(w),A.length&&x.push(A)}),x}},65179:function(j,M,l){var v=l(77163);j.exports=d;function d(g,x,A){v.isArray(x)||(x=[x]);var E=(g.isDirected()?g.successors:g.neighbors).bind(g),w=[],k={};return v.each(x,function(Z){if(!g.hasNode(Z))throw new Error("Graph does not have node: "+Z);m(g,Z,A==="post",k,E,w)}),w}function m(g,x,A,E,w,k){v.has(E,x)||(E[x]=!0,A||k.push(x),v.each(w(x),function(Z){m(g,Z,A,E,w,k)}),A&&k.push(x))}},73897:function(j,M,l){var v=l(69205),d=l(77163);j.exports=m;function m(g,x,A){return d.transform(g.nodes(),function(E,w){E[w]=v(g,w,x,A)},{})}},69205:function(j,M,l){var v=l(77163),d=l(96129);j.exports=g;var m=v.constant(1);function g(A,E,w,k){return x(A,String(E),w||m,k||function(Z){return A.outEdges(Z)})}function x(A,E,w,k){var Z={},U=new d,$,te,Q=function(J){var K=J.v!==$?J.v:J.w,Y=Z[K],re=w(J),fe=te.distance+re;if(re<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+J+" Weight: "+re);fe<Y.distance&&(Y.distance=fe,Y.predecessor=$,U.decrease(K,fe))};for(A.nodes().forEach(function(J){var K=J===E?0:Number.POSITIVE_INFINITY;Z[J]={distance:K},U.add(J,K)});U.size()>0&&($=U.removeMin(),te=Z[$],te.distance!==Number.POSITIVE_INFINITY);)k($).forEach(Q);return Z}},32630:function(j,M,l){var v=l(77163),d=l(93070);j.exports=m;function m(g){return v.filter(d(g),function(x){return x.length>1||x.length===1&&g.hasEdge(x[0],x[0])})}},3171:function(j,M,l){var v=l(77163);j.exports=m;var d=v.constant(1);function m(x,A,E){return g(x,A||d,E||function(w){return x.outEdges(w)})}function g(x,A,E){var w={},k=x.nodes();return k.forEach(function(Z){w[Z]={},w[Z][Z]={distance:0},k.forEach(function(U){Z!==U&&(w[Z][U]={distance:Number.POSITIVE_INFINITY})}),E(Z).forEach(function(U){var $=U.v===Z?U.w:U.v,te=A(U);w[Z][$]={distance:te,predecessor:Z}})}),k.forEach(function(Z){var U=w[Z];k.forEach(function($){var te=w[$];k.forEach(function(Q){var J=te[Z],K=U[Q],Y=te[Q],re=J.distance+K.distance;re<Y.distance&&(Y.distance=re,Y.predecessor=K.predecessor)})})}),w}},39100:function(j,M,l){j.exports={components:l(74774),dijkstra:l(69205),dijkstraAll:l(73897),findCycles:l(32630),floydWarshall:l(3171),isAcyclic:l(78149),postorder:l(85979),preorder:l(5340),prim:l(74975),tarjan:l(93070),topsort:l(37034)}},78149:function(j,M,l){var v=l(37034);j.exports=d;function d(m){try{v(m)}catch(g){if(g instanceof v.CycleException)return!1;throw g}return!0}},85979:function(j,M,l){var v=l(65179);j.exports=d;function d(m,g){return v(m,g,"post")}},5340:function(j,M,l){var v=l(65179);j.exports=d;function d(m,g){return v(m,g,"pre")}},74975:function(j,M,l){var v=l(77163),d=l(1053),m=l(96129);j.exports=g;function g(x,A){var E=new d,w={},k=new m,Z;function U(te){var Q=te.v===Z?te.w:te.v,J=k.priority(Q);if(J!==void 0){var K=A(te);K<J&&(w[Q]=Z,k.decrease(Q,K))}}if(x.nodeCount()===0)return E;v.each(x.nodes(),function(te){k.add(te,Number.POSITIVE_INFINITY),E.setNode(te)}),k.decrease(x.nodes()[0],0);for(var $=!1;k.size()>0;){if(Z=k.removeMin(),v.has(w,Z))E.setEdge(Z,w[Z]);else{if($)throw new Error("Input graph is not connected: "+x);$=!0}x.nodeEdges(Z).forEach(U)}return E}},93070:function(j,M,l){var v=l(77163);j.exports=d;function d(m){var g=0,x=[],A={},E=[];function w(k){var Z=A[k]={onStack:!0,lowlink:g,index:g++};if(x.push(k),m.successors(k).forEach(function(te){v.has(A,te)?A[te].onStack&&(Z.lowlink=Math.min(Z.lowlink,A[te].index)):(w(te),Z.lowlink=Math.min(Z.lowlink,A[te].lowlink))}),Z.lowlink===Z.index){var U=[],$;do $=x.pop(),A[$].onStack=!1,U.push($);while(k!==$);E.push(U)}}return m.nodes().forEach(function(k){v.has(A,k)||w(k)}),E}},37034:function(j,M,l){var v=l(77163);j.exports=d,d.CycleException=m;function d(g){var x={},A={},E=[];function w(k){if(v.has(A,k))throw new m;v.has(x,k)||(A[k]=!0,x[k]=!0,v.each(g.predecessors(k),w),delete A[k],E.push(k))}if(v.each(g.sinks(),w),v.size(x)!==g.nodeCount())throw new m;return E}function m(){}},96129:function(j,M,l){var v=l(77163);j.exports=d;function d(){this._arr=[],this._keyIndices={}}d.prototype.size=function(){return this._arr.length},d.prototype.keys=function(){return this._arr.map(function(m){return m.key})},d.prototype.has=function(m){return v.has(this._keyIndices,m)},d.prototype.priority=function(m){var g=this._keyIndices[m];if(g!==void 0)return this._arr[g].priority},d.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},d.prototype.add=function(m,g){var x=this._keyIndices;if(m=String(m),!v.has(x,m)){var A=this._arr,E=A.length;return x[m]=E,A.push({key:m,priority:g}),this._decrease(E),!0}return!1},d.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var m=this._arr.pop();return delete this._keyIndices[m.key],this._heapify(0),m.key},d.prototype.decrease=function(m,g){var x=this._keyIndices[m];if(g>this._arr[x].priority)throw new Error("New priority is greater than current priority. Key: "+m+" Old: "+this._arr[x].priority+" New: "+g);this._arr[x].priority=g,this._decrease(x)},d.prototype._heapify=function(m){var g=this._arr,x=2*m,A=x+1,E=m;x<g.length&&(E=g[x].priority<g[E].priority?x:E,A<g.length&&(E=g[A].priority<g[E].priority?A:E),E!==m&&(this._swap(m,E),this._heapify(E)))},d.prototype._decrease=function(m){for(var g=this._arr,x=g[m].priority,A;m!==0&&(A=m>>1,!(g[A].priority<x));)this._swap(m,A),m=A},d.prototype._swap=function(m,g){var x=this._arr,A=this._keyIndices,E=x[m],w=x[g];x[m]=w,x[g]=E,A[w.key]=m,A[E.key]=g}},1053:function(j,M,l){"use strict";var v=l(77163);j.exports=x;var d="\0",m="\0",g="";function x(U){this._isDirected=v.has(U,"directed")?U.directed:!0,this._isMultigraph=v.has(U,"multigraph")?U.multigraph:!1,this._isCompound=v.has(U,"compound")?U.compound:!1,this._label=void 0,this._defaultNodeLabelFn=v.constant(void 0),this._defaultEdgeLabelFn=v.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[m]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}x.prototype._nodeCount=0,x.prototype._edgeCount=0,x.prototype.isDirected=function(){return this._isDirected},x.prototype.isMultigraph=function(){return this._isMultigraph},x.prototype.isCompound=function(){return this._isCompound},x.prototype.setGraph=function(U){return this._label=U,this},x.prototype.graph=function(){return this._label},x.prototype.setDefaultNodeLabel=function(U){return v.isFunction(U)||(U=v.constant(U)),this._defaultNodeLabelFn=U,this},x.prototype.nodeCount=function(){return this._nodeCount},x.prototype.nodes=function(){return v.keys(this._nodes)},x.prototype.sources=function(){return v.filter(this.nodes(),v.bind(function(U){return v.isEmpty(this._in[U])},this))},x.prototype.sinks=function(){return v.filter(this.nodes(),v.bind(function(U){return v.isEmpty(this._out[U])},this))},x.prototype.setNodes=function(U,$){var te=arguments;return v.each(U,v.bind(function(Q){te.length>1?this.setNode(Q,$):this.setNode(Q)},this)),this},x.prototype.setNode=function(U,$){return v.has(this._nodes,U)?(arguments.length>1&&(this._nodes[U]=$),this):(this._nodes[U]=arguments.length>1?$:this._defaultNodeLabelFn(U),this._isCompound&&(this._parent[U]=m,this._children[U]={},this._children[m][U]=!0),this._in[U]={},this._preds[U]={},this._out[U]={},this._sucs[U]={},++this._nodeCount,this)},x.prototype.node=function(U){return this._nodes[U]},x.prototype.hasNode=function(U){return v.has(this._nodes,U)},x.prototype.removeNode=function(U){var $=this;if(v.has(this._nodes,U)){var te=function(Q){$.removeEdge($._edgeObjs[Q])};delete this._nodes[U],this._isCompound&&(this._removeFromParentsChildList(U),delete this._parent[U],v.each(this.children(U),v.bind(function(Q){this.setParent(Q)},this)),delete this._children[U]),v.each(v.keys(this._in[U]),te),delete this._in[U],delete this._preds[U],v.each(v.keys(this._out[U]),te),delete this._out[U],delete this._sucs[U],--this._nodeCount}return this},x.prototype.setParent=function(U,$){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(v.isUndefined($))$=m;else{$+="";for(var te=$;!v.isUndefined(te);te=this.parent(te))if(te===U)throw new Error("Setting "+$+" as parent of "+U+" would create create a cycle");this.setNode($)}return this.setNode(U),this._removeFromParentsChildList(U),this._parent[U]=$,this._children[$][U]=!0,this},x.prototype._removeFromParentsChildList=function(U){delete this._children[this._parent[U]][U]},x.prototype.parent=function(U){if(this._isCompound){var $=this._parent[U];if($!==m)return $}},x.prototype.children=function(U){if(v.isUndefined(U)&&(U=m),this._isCompound){var $=this._children[U];if($)return v.keys($)}else{if(U===m)return this.nodes();if(this.hasNode(U))return[]}},x.prototype.predecessors=function(U){var $=this._preds[U];if($)return v.keys($)},x.prototype.successors=function(U){var $=this._sucs[U];if($)return v.keys($)},x.prototype.neighbors=function(U){var $=this.predecessors(U);if($)return v.union($,this.successors(U))},x.prototype.isLeaf=function(U){var $;return this.isDirected()?$=this.successors(U):$=this.neighbors(U),$.length===0},x.prototype.filterNodes=function(U){var $=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});$.setGraph(this.graph()),v.each(this._nodes,v.bind(function(K,Y){U(Y)&&$.setNode(Y,K)},this)),v.each(this._edgeObjs,v.bind(function(K){$.hasNode(K.v)&&$.hasNode(K.w)&&$.setEdge(K,this.edge(K))},this));var te=this,Q={};function J(K){var Y=te.parent(K);return Y===void 0||$.hasNode(Y)?(Q[K]=Y,Y):Y in Q?Q[Y]:J(Y)}return this._isCompound&&v.each($.nodes(),function(K){$.setParent(K,J(K))}),$},x.prototype.setDefaultEdgeLabel=function(U){return v.isFunction(U)||(U=v.constant(U)),this._defaultEdgeLabelFn=U,this},x.prototype.edgeCount=function(){return this._edgeCount},x.prototype.edges=function(){return v.values(this._edgeObjs)},x.prototype.setPath=function(U,$){var te=this,Q=arguments;return v.reduce(U,function(J,K){return Q.length>1?te.setEdge(J,K,$):te.setEdge(J,K),K}),this},x.prototype.setEdge=function(){var U,$,te,Q,J=!1,K=arguments[0];typeof K=="object"&&K!==null&&"v"in K?(U=K.v,$=K.w,te=K.name,arguments.length===2&&(Q=arguments[1],J=!0)):(U=K,$=arguments[1],te=arguments[3],arguments.length>2&&(Q=arguments[2],J=!0)),U=""+U,$=""+$,v.isUndefined(te)||(te=""+te);var Y=w(this._isDirected,U,$,te);if(v.has(this._edgeLabels,Y))return J&&(this._edgeLabels[Y]=Q),this;if(!v.isUndefined(te)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(U),this.setNode($),this._edgeLabels[Y]=J?Q:this._defaultEdgeLabelFn(U,$,te);var re=k(this._isDirected,U,$,te);return U=re.v,$=re.w,Object.freeze(re),this._edgeObjs[Y]=re,A(this._preds[$],U),A(this._sucs[U],$),this._in[$][Y]=re,this._out[U][Y]=re,this._edgeCount++,this},x.prototype.edge=function(U,$,te){var Q=arguments.length===1?Z(this._isDirected,arguments[0]):w(this._isDirected,U,$,te);return this._edgeLabels[Q]},x.prototype.hasEdge=function(U,$,te){var Q=arguments.length===1?Z(this._isDirected,arguments[0]):w(this._isDirected,U,$,te);return v.has(this._edgeLabels,Q)},x.prototype.removeEdge=function(U,$,te){var Q=arguments.length===1?Z(this._isDirected,arguments[0]):w(this._isDirected,U,$,te),J=this._edgeObjs[Q];return J&&(U=J.v,$=J.w,delete this._edgeLabels[Q],delete this._edgeObjs[Q],E(this._preds[$],U),E(this._sucs[U],$),delete this._in[$][Q],delete this._out[U][Q],this._edgeCount--),this},x.prototype.inEdges=function(U,$){var te=this._in[U];if(te){var Q=v.values(te);return $?v.filter(Q,function(J){return J.v===$}):Q}},x.prototype.outEdges=function(U,$){var te=this._out[U];if(te){var Q=v.values(te);return $?v.filter(Q,function(J){return J.w===$}):Q}},x.prototype.nodeEdges=function(U,$){var te=this.inEdges(U,$);if(te)return te.concat(this.outEdges(U,$))};function A(U,$){U[$]?U[$]++:U[$]=1}function E(U,$){--U[$]||delete U[$]}function w(U,$,te,Q){var J=""+$,K=""+te;if(!U&&J>K){var Y=J;J=K,K=Y}return J+g+K+g+(v.isUndefined(Q)?d:Q)}function k(U,$,te,Q){var J=""+$,K=""+te;if(!U&&J>K){var Y=J;J=K,K=Y}var re={v:J,w:K};return Q&&(re.name=Q),re}function Z(U,$){return w(U,$.v,$.w,$.name)}},58579:function(j,M,l){j.exports={Graph:l(1053),version:l(82321)}},62485:function(j,M,l){var v=l(77163),d=l(1053);j.exports={write:m,read:A};function m(E){var w={options:{directed:E.isDirected(),multigraph:E.isMultigraph(),compound:E.isCompound()},nodes:g(E),edges:x(E)};return v.isUndefined(E.graph())||(w.value=v.clone(E.graph())),w}function g(E){return v.map(E.nodes(),function(w){var k=E.node(w),Z=E.parent(w),U={v:w};return v.isUndefined(k)||(U.value=k),v.isUndefined(Z)||(U.parent=Z),U})}function x(E){return v.map(E.edges(),function(w){var k=E.edge(w),Z={v:w.v,w:w.w};return v.isUndefined(w.name)||(Z.name=w.name),v.isUndefined(k)||(Z.value=k),Z})}function A(E){var w=new d(E.options).setGraph(E.value);return v.each(E.nodes,function(k){w.setNode(k.v,k.value),k.parent&&w.setParent(k.v,k.parent)}),v.each(E.edges,function(k){w.setEdge({v:k.v,w:k.w,name:k.name},k.value)}),w}},77163:function(j,M,l){var v;try{v=l(96486)}catch(d){}v||(v=window._),j.exports=v},82321:function(j){j.exports="2.1.4"},70597:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var v=Object.assign||function(E){for(var w=1;w<arguments.length;w++){var k=arguments[w];for(var Z in k)Object.prototype.hasOwnProperty.call(k,Z)&&(E[Z]=k[Z])}return E},d=l(67294),m=g(d);function g(E){return E&&E.__esModule?E:{default:E}}function x(E,w){var k={};for(var Z in E)w.indexOf(Z)>=0||Object.prototype.hasOwnProperty.call(E,Z)&&(k[Z]=E[Z]);return k}var A=24;M.default=function(E){var w=E.fill,k=w===void 0?"currentColor":w,Z=E.width,U=Z===void 0?A:Z,$=E.height,te=$===void 0?A:$,Q=E.style,J=Q===void 0?{}:Q,K=x(E,["fill","width","height","style"]);return m.default.createElement("svg",v({viewBox:"0 0 "+A+" "+A,style:v({fill:k,width:U,height:te},J)},K),m.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},43891:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var v=Object.assign||function(E){for(var w=1;w<arguments.length;w++){var k=arguments[w];for(var Z in k)Object.prototype.hasOwnProperty.call(k,Z)&&(E[Z]=k[Z])}return E},d=l(67294),m=g(d);function g(E){return E&&E.__esModule?E:{default:E}}function x(E,w){var k={};for(var Z in E)w.indexOf(Z)>=0||Object.prototype.hasOwnProperty.call(E,Z)&&(k[Z]=E[Z]);return k}var A=24;M.default=function(E){var w=E.fill,k=w===void 0?"currentColor":w,Z=E.width,U=Z===void 0?A:Z,$=E.height,te=$===void 0?A:$,Q=E.style,J=Q===void 0?{}:Q,K=x(E,["fill","width","height","style"]);return m.default.createElement("svg",v({viewBox:"0 0 "+A+" "+A,style:v({fill:k,width:U,height:te},J)},K),m.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},18062:function(j,M,l){"use strict";l.d(M,{Z:function(){return te}});var v=l(1413),d=l(91),m=l(67294),g=l(4836),x=l(98916),A=l(36640),E=l(60947),w=l(85893),k=["className","onScroll","onMouseEnter","onMouseLeave","innerRef","children","minThumbSize","ghost","suppressScrollX","suppressScrollY","theme","Wrapper"];function Z(Q){var J=Q.className,K=Q.onScroll,Y=Q.onMouseEnter,re=Q.onMouseLeave,fe=Q.innerRef,le=Q.children,ie=Q.minThumbSize,ve=Q.ghost,Oe=Q.suppressScrollX,L=Q.suppressScrollY,Pe=Q.theme,pe=Pe===void 0?"white":Pe,Be=Q.Wrapper,je=(0,d.Z)(Q,k),he=(0,m.useRef)(null);(0,g.lE)(fe,he);var st=(0,x.Z)({scrollBox:he,minThumbSize:ie}),en=st.updateLayerThrottle,vn=st.updateLayerNow,Mt=st.horizontalBar,It=st.verticalBar,Ve=st.updateBarVisible;function Me(Ge){K&&K(Ge),en()}function Qe(Ge){Y&&Y(Ge),vn()}function bt(Ge){re&&re(Ge),Ve(!1)}return(0,w.jsxs)(Be,(0,v.Z)((0,v.Z)({className:(0,A.AK)("infore-container",J),ref:he,onScroll:Me,onMouseEnter:Qe,onMouseLeave:bt},je),{},{children:[(0,w.jsxs)("div",{className:(0,A.AK)("infore-track-box","infore-theme-".concat(pe),ve?"infore-ghost":""),children:[!Oe&&Mt,!L&&It]}),le]}))}var U=["suppressScrollX","suppressScrollY","suppressMacOS","as","style","children"],$=(0,m.forwardRef)(function(Q,J){var K=Q.suppressScrollX,Y=Q.suppressScrollY,re=Q.suppressMacOS,fe=re===void 0?!0:re,le=Q.as,ie=le===void 0?"div":le,ve=Q.style,Oe=Q.children,L=(0,d.Z)(Q,U),Pe=(0,v.Z)({overflowX:(0,A.pr)(K),overflowY:(0,A.pr)(Y)},ve),pe=ie;return(0,A.EI)(fe)?(0,w.jsx)(Z,(0,v.Z)((0,v.Z)({style:Pe,innerRef:J,suppressScrollX:K,suppressScrollY:Y,Wrapper:pe},L),{},{children:Oe})):(0,w.jsx)(pe,(0,v.Z)((0,v.Z)({style:Pe,ref:J},L),{},{children:Oe}))}),te=$},49612:function(j,M,l){"use strict";var v,d=l(28785).default,m=l(48374).default,g=l(29777).default,x=l(25457).default,A=l(33862).default,E=l(25098).default,w=l(31996).default,k=l(26037).default,Z=l(80363).default,U=l(9783).default,$=l(74978).default,te=l(5574).default,Q=l(64599).default,J=l(15009).default,K=l(52677).default,Y=l(12444).default,re=l(72004).default;v={value:!0};var fe=l(44091),le=l(75823),ie=" ".repeat(2),ve=" ".repeat(4);function Oe(){return L(this)}function L(ue){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=De.maxRows,R=oe===void 0?15:oe,N=De.maxColumns,G=N===void 0?10:N,ye=De.maxNumSize,Ie=ye===void 0?8:ye,ze=De.padMinus,Ce=ze===void 0?"auto":ze;return"".concat(ue.constructor.name,` {
`).concat(ie,`[
`).concat(ve).concat(Pe(ue,R,G,Ie,Ce),`
`).concat(ie,`]
`).concat(ie,"rows: ").concat(ue.rows,`
`).concat(ie,"columns: ").concat(ue.columns,`
}`)}function Pe(ue,De,oe,R,N){var G=ue.rows,ye=ue.columns,Ie=Math.min(G,De),ze=Math.min(ye,oe),Ce=[];if(N==="auto"){N=!1;e:for(var ke=0;ke<Ie;ke++)for(var rt=0;rt<ze;rt++)if(ue.get(ke,rt)<0){N=!0;break e}}for(var Tt=0;Tt<Ie;Tt++){for(var En=[],Rn=0;Rn<ze;Rn++)En.push(pe(ue.get(Tt,Rn),R,N));Ce.push("".concat(En.join(" ")))}return ze!==ye&&(Ce[Ce.length-1]+=" ... ".concat(ye-oe," more columns")),Ie!==G&&Ce.push("... ".concat(G-De," more rows")),Ce.join(`
`.concat(ve))}function pe(ue,De,oe){return(ue>=0&&oe?" ".concat(Be(ue,De-1)):Be(ue,De)).padEnd(De)}function Be(ue,De){var oe=ue.toString();if(oe.length<=De)return oe;var R=ue.toFixed(De);if(R.length>De&&(R=ue.toFixed(Math.max(0,De-(R.length-De)))),R.length<=De&&!R.startsWith("0.000")&&!R.startsWith("-0.000"))return R;var N=ue.toExponential(De);return N.length>De&&(N=ue.toExponential(Math.max(0,De-(N.length-De)))),N.slice(0)}function je(ue,De){ue.prototype.add=function(R){return typeof R=="number"?this.addS(R):this.addM(R)},ue.prototype.addS=function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)+R);return this},ue.prototype.addM=function(R){if(R=De.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)+R.get(N,G));return this},ue.add=function(R,N){var G=new De(R);return G.add(N)},ue.prototype.sub=function(R){return typeof R=="number"?this.subS(R):this.subM(R)},ue.prototype.subS=function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)-R);return this},ue.prototype.subM=function(R){if(R=De.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)-R.get(N,G));return this},ue.sub=function(R,N){var G=new De(R);return G.sub(N)},ue.prototype.subtract=ue.prototype.sub,ue.prototype.subtractS=ue.prototype.subS,ue.prototype.subtractM=ue.prototype.subM,ue.subtract=ue.sub,ue.prototype.mul=function(R){return typeof R=="number"?this.mulS(R):this.mulM(R)},ue.prototype.mulS=function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)*R);return this},ue.prototype.mulM=function(R){if(R=De.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)*R.get(N,G));return this},ue.mul=function(R,N){var G=new De(R);return G.mul(N)},ue.prototype.multiply=ue.prototype.mul,ue.prototype.multiplyS=ue.prototype.mulS,ue.prototype.multiplyM=ue.prototype.mulM,ue.multiply=ue.mul,ue.prototype.div=function(R){return typeof R=="number"?this.divS(R):this.divM(R)},ue.prototype.divS=function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)/R);return this},ue.prototype.divM=function(R){if(R=De.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)/R.get(N,G));return this},ue.div=function(R,N){var G=new De(R);return G.div(N)},ue.prototype.divide=ue.prototype.div,ue.prototype.divideS=ue.prototype.divS,ue.prototype.divideM=ue.prototype.divM,ue.divide=ue.div,ue.prototype.mod=function(R){return typeof R=="number"?this.modS(R):this.modM(R)},ue.prototype.modS=function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)%R);return this},ue.prototype.modM=function(R){if(R=De.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)%R.get(N,G));return this},ue.mod=function(R,N){var G=new De(R);return G.mod(N)},ue.prototype.modulus=ue.prototype.mod,ue.prototype.modulusS=ue.prototype.modS,ue.prototype.modulusM=ue.prototype.modM,ue.modulus=ue.mod,ue.prototype.and=function(R){return typeof R=="number"?this.andS(R):this.andM(R)},ue.prototype.andS=function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)&R);return this},ue.prototype.andM=function(R){if(R=De.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)&R.get(N,G));return this},ue.and=function(R,N){var G=new De(R);return G.and(N)},ue.prototype.or=function(R){return typeof R=="number"?this.orS(R):this.orM(R)},ue.prototype.orS=function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)|R);return this},ue.prototype.orM=function(R){if(R=De.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)|R.get(N,G));return this},ue.or=function(R,N){var G=new De(R);return G.or(N)},ue.prototype.xor=function(R){return typeof R=="number"?this.xorS(R):this.xorM(R)},ue.prototype.xorS=function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)^R);return this},ue.prototype.xorM=function(R){if(R=De.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)^R.get(N,G));return this},ue.xor=function(R,N){var G=new De(R);return G.xor(N)},ue.prototype.leftShift=function(R){return typeof R=="number"?this.leftShiftS(R):this.leftShiftM(R)},ue.prototype.leftShiftS=function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)<<R);return this},ue.prototype.leftShiftM=function(R){if(R=De.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)<<R.get(N,G));return this},ue.leftShift=function(R,N){var G=new De(R);return G.leftShift(N)},ue.prototype.signPropagatingRightShift=function(R){return typeof R=="number"?this.signPropagatingRightShiftS(R):this.signPropagatingRightShiftM(R)},ue.prototype.signPropagatingRightShiftS=function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)>>R);return this},ue.prototype.signPropagatingRightShiftM=function(R){if(R=De.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)>>R.get(N,G));return this},ue.signPropagatingRightShift=function(R,N){var G=new De(R);return G.signPropagatingRightShift(N)},ue.prototype.rightShift=function(R){return typeof R=="number"?this.rightShiftS(R):this.rightShiftM(R)},ue.prototype.rightShiftS=function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)>>>R);return this},ue.prototype.rightShiftM=function(R){if(R=De.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)>>>R.get(N,G));return this},ue.rightShift=function(R,N){var G=new De(R);return G.rightShift(N)},ue.prototype.zeroFillRightShift=ue.prototype.rightShift,ue.prototype.zeroFillRightShiftS=ue.prototype.rightShiftS,ue.prototype.zeroFillRightShiftM=ue.prototype.rightShiftM,ue.zeroFillRightShift=ue.rightShift,ue.prototype.not=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,~this.get(R,N));return this},ue.not=function(R){var N=new De(R);return N.not()},ue.prototype.abs=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.abs(this.get(R,N)));return this},ue.abs=function(R){var N=new De(R);return N.abs()},ue.prototype.acos=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.acos(this.get(R,N)));return this},ue.acos=function(R){var N=new De(R);return N.acos()},ue.prototype.acosh=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.acosh(this.get(R,N)));return this},ue.acosh=function(R){var N=new De(R);return N.acosh()},ue.prototype.asin=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.asin(this.get(R,N)));return this},ue.asin=function(R){var N=new De(R);return N.asin()},ue.prototype.asinh=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.asinh(this.get(R,N)));return this},ue.asinh=function(R){var N=new De(R);return N.asinh()},ue.prototype.atan=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.atan(this.get(R,N)));return this},ue.atan=function(R){var N=new De(R);return N.atan()},ue.prototype.atanh=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.atanh(this.get(R,N)));return this},ue.atanh=function(R){var N=new De(R);return N.atanh()},ue.prototype.cbrt=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.cbrt(this.get(R,N)));return this},ue.cbrt=function(R){var N=new De(R);return N.cbrt()},ue.prototype.ceil=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.ceil(this.get(R,N)));return this},ue.ceil=function(R){var N=new De(R);return N.ceil()},ue.prototype.clz32=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.clz32(this.get(R,N)));return this},ue.clz32=function(R){var N=new De(R);return N.clz32()},ue.prototype.cos=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.cos(this.get(R,N)));return this},ue.cos=function(R){var N=new De(R);return N.cos()},ue.prototype.cosh=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.cosh(this.get(R,N)));return this},ue.cosh=function(R){var N=new De(R);return N.cosh()},ue.prototype.exp=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.exp(this.get(R,N)));return this},ue.exp=function(R){var N=new De(R);return N.exp()},ue.prototype.expm1=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.expm1(this.get(R,N)));return this},ue.expm1=function(R){var N=new De(R);return N.expm1()},ue.prototype.floor=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.floor(this.get(R,N)));return this},ue.floor=function(R){var N=new De(R);return N.floor()},ue.prototype.fround=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.fround(this.get(R,N)));return this},ue.fround=function(R){var N=new De(R);return N.fround()},ue.prototype.log=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.log(this.get(R,N)));return this},ue.log=function(R){var N=new De(R);return N.log()},ue.prototype.log1p=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.log1p(this.get(R,N)));return this},ue.log1p=function(R){var N=new De(R);return N.log1p()},ue.prototype.log10=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.log10(this.get(R,N)));return this},ue.log10=function(R){var N=new De(R);return N.log10()},ue.prototype.log2=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.log2(this.get(R,N)));return this},ue.log2=function(R){var N=new De(R);return N.log2()},ue.prototype.round=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.round(this.get(R,N)));return this},ue.round=function(R){var N=new De(R);return N.round()},ue.prototype.sign=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.sign(this.get(R,N)));return this},ue.sign=function(R){var N=new De(R);return N.sign()},ue.prototype.sin=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.sin(this.get(R,N)));return this},ue.sin=function(R){var N=new De(R);return N.sin()},ue.prototype.sinh=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.sinh(this.get(R,N)));return this},ue.sinh=function(R){var N=new De(R);return N.sinh()},ue.prototype.sqrt=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.sqrt(this.get(R,N)));return this},ue.sqrt=function(R){var N=new De(R);return N.sqrt()},ue.prototype.tan=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.tan(this.get(R,N)));return this},ue.tan=function(R){var N=new De(R);return N.tan()},ue.prototype.tanh=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.tanh(this.get(R,N)));return this},ue.tanh=function(R){var N=new De(R);return N.tanh()},ue.prototype.trunc=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.trunc(this.get(R,N)));return this},ue.trunc=function(R){var N=new De(R);return N.trunc()},ue.pow=function(R,N){var G=new De(R);return G.pow(N)},ue.prototype.pow=function(R){return typeof R=="number"?this.powS(R):this.powM(R)},ue.prototype.powS=function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,Math.pow(this.get(N,G),R));return this},ue.prototype.powM=function(R){if(R=De.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,Math.pow(this.get(N,G),R.get(N,G)));return this}}function he(ue,De,oe){var R=oe?ue.rows:ue.rows-1;if(De<0||De>R)throw new RangeError("Row index out of range")}function st(ue,De,oe){var R=oe?ue.columns:ue.columns-1;if(De<0||De>R)throw new RangeError("Column index out of range")}function en(ue,De){if(De.to1DArray&&(De=De.to1DArray()),De.length!==ue.columns)throw new RangeError("vector size must be the same as the number of columns");return De}function vn(ue,De){if(De.to1DArray&&(De=De.to1DArray()),De.length!==ue.rows)throw new RangeError("vector size must be the same as the number of rows");return De}function Mt(ue,De){if(!fe.isAnyArray(De))throw new TypeError("row indices must be an array");for(var oe=0;oe<De.length;oe++)if(De[oe]<0||De[oe]>=ue.rows)throw new RangeError("row indices are out of range")}function It(ue,De){if(!fe.isAnyArray(De))throw new TypeError("column indices must be an array");for(var oe=0;oe<De.length;oe++)if(De[oe]<0||De[oe]>=ue.columns)throw new RangeError("column indices are out of range")}function Ve(ue,De,oe,R,N){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Qe("startRow",De),Qe("endRow",oe),Qe("startColumn",R),Qe("endColumn",N),De>oe||R>N||De<0||De>=ue.rows||oe<0||oe>=ue.rows||R<0||R>=ue.columns||N<0||N>=ue.columns)throw new RangeError("Submatrix indices are out of range")}function Me(ue){for(var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,oe=[],R=0;R<ue;R++)oe.push(De);return oe}function Qe(ue,De){if(typeof De!="number")throw new TypeError("".concat(ue," must be a number"))}function bt(ue){if(ue.isEmpty())throw new Error("Empty matrix has no elements to index")}function Ge(ue){for(var De=Me(ue.rows),oe=0;oe<ue.rows;++oe)for(var R=0;R<ue.columns;++R)De[oe]+=ue.get(oe,R);return De}function Ae(ue){for(var De=Me(ue.columns),oe=0;oe<ue.rows;++oe)for(var R=0;R<ue.columns;++R)De[R]+=ue.get(oe,R);return De}function be(ue){for(var De=0,oe=0;oe<ue.rows;oe++)for(var R=0;R<ue.columns;R++)De+=ue.get(oe,R);return De}function Ne(ue){for(var De=Me(ue.rows,1),oe=0;oe<ue.rows;++oe)for(var R=0;R<ue.columns;++R)De[oe]*=ue.get(oe,R);return De}function Re(ue){for(var De=Me(ue.columns,1),oe=0;oe<ue.rows;++oe)for(var R=0;R<ue.columns;++R)De[R]*=ue.get(oe,R);return De}function ht(ue){for(var De=1,oe=0;oe<ue.rows;oe++)for(var R=0;R<ue.columns;R++)De*=ue.get(oe,R);return De}function Wt(ue,De,oe){for(var R=ue.rows,N=ue.columns,G=[],ye=0;ye<R;ye++){for(var Ie=0,ze=0,Ce=0,ke=0;ke<N;ke++)Ce=ue.get(ye,ke)-oe[ye],Ie+=Ce,ze+=Ce*Ce;De?G.push((ze-Ie*Ie/N)/(N-1)):G.push((ze-Ie*Ie/N)/N)}return G}function Yt(ue,De,oe){for(var R=ue.rows,N=ue.columns,G=[],ye=0;ye<N;ye++){for(var Ie=0,ze=0,Ce=0,ke=0;ke<R;ke++)Ce=ue.get(ke,ye)-oe[ye],Ie+=Ce,ze+=Ce*Ce;De?G.push((ze-Ie*Ie/R)/(R-1)):G.push((ze-Ie*Ie/R)/R)}return G}function Lt(ue,De,oe){for(var R=ue.rows,N=ue.columns,G=R*N,ye=0,Ie=0,ze=0,Ce=0;Ce<R;Ce++)for(var ke=0;ke<N;ke++)ze=ue.get(Ce,ke)-oe,ye+=ze,Ie+=ze*ze;return De?(Ie-ye*ye/G)/(G-1):(Ie-ye*ye/G)/G}function Dt(ue,De){for(var oe=0;oe<ue.rows;oe++)for(var R=0;R<ue.columns;R++)ue.set(oe,R,ue.get(oe,R)-De[oe])}function lt(ue,De){for(var oe=0;oe<ue.rows;oe++)for(var R=0;R<ue.columns;R++)ue.set(oe,R,ue.get(oe,R)-De[R])}function Ft(ue,De){for(var oe=0;oe<ue.rows;oe++)for(var R=0;R<ue.columns;R++)ue.set(oe,R,ue.get(oe,R)-De)}function qt(ue){for(var De=[],oe=0;oe<ue.rows;oe++){for(var R=0,N=0;N<ue.columns;N++)R+=Math.pow(ue.get(oe,N),2)/(ue.columns-1);De.push(Math.sqrt(R))}return De}function Nn(ue,De){for(var oe=0;oe<ue.rows;oe++)for(var R=0;R<ue.columns;R++)ue.set(oe,R,ue.get(oe,R)/De[oe])}function kn(ue){for(var De=[],oe=0;oe<ue.columns;oe++){for(var R=0,N=0;N<ue.rows;N++)R+=Math.pow(ue.get(N,oe),2)/(ue.rows-1);De.push(Math.sqrt(R))}return De}function An(ue,De){for(var oe=0;oe<ue.rows;oe++)for(var R=0;R<ue.columns;R++)ue.set(oe,R,ue.get(oe,R)/De[R])}function Kn(ue){for(var De=ue.size-1,oe=0,R=0;R<ue.columns;R++)for(var N=0;N<ue.rows;N++)oe+=Math.pow(ue.get(N,R),2)/De;return Math.sqrt(oe)}function ee(ue,De){for(var oe=0;oe<ue.rows;oe++)for(var R=0;R<ue.columns;R++)ue.set(oe,R,ue.get(oe,R)/De)}var it=function(ue){function De(){Y(this,De)}return re(De,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(R){if(typeof R!="function")throw new TypeError("callback must be a function");for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)R.call(this,N,G);return this}},{key:"to1DArray",value:function(){for(var R=[],N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)R.push(this.get(N,G));return R}},{key:"to2DArray",value:function(){for(var R=[],N=0;N<this.rows;N++){R.push([]);for(var G=0;G<this.columns;G++)R[N].push(this.get(N,G))}return R}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var R=0;R<this.rows;R++)for(var N=0;N<=R;N++)if(this.get(R,N)!==this.get(N,R))return!1;return!0}return!1}},{key:"isDistance",value:function(){if(!this.isSymmetric())return!1;for(var R=0;R<this.rows;R++)if(this.get(R,R)!==0)return!1;return!0}},{key:"isEchelonForm",value:function(){for(var R=0,N=0,G=-1,ye=!0,Ie=!1;R<this.rows&&ye;){for(N=0,Ie=!1;N<this.columns&&Ie===!1;)this.get(R,N)===0?N++:this.get(R,N)===1&&N>G?(Ie=!0,G=N):(ye=!1,Ie=!0);R++}return ye}},{key:"isReducedEchelonForm",value:function(){for(var R=0,N=0,G=-1,ye=!0,Ie=!1;R<this.rows&&ye;){for(N=0,Ie=!1;N<this.columns&&Ie===!1;)this.get(R,N)===0?N++:this.get(R,N)===1&&N>G?(Ie=!0,G=N):(ye=!1,Ie=!0);for(var ze=N+1;ze<this.rows;ze++)this.get(R,ze)!==0&&(ye=!1);R++}return ye}},{key:"echelonForm",value:function(){for(var R=this.clone(),N=0,G=0;N<R.rows&&G<R.columns;){for(var ye=N,Ie=N;Ie<R.rows;Ie++)R.get(Ie,G)>R.get(ye,G)&&(ye=Ie);if(R.get(ye,G)===0)G++;else{R.swapRows(N,ye);for(var ze=R.get(N,G),Ce=G;Ce<R.columns;Ce++)R.set(N,Ce,R.get(N,Ce)/ze);for(var ke=N+1;ke<R.rows;ke++){var rt=R.get(ke,G)/R.get(N,G);R.set(ke,G,0);for(var Tt=G+1;Tt<R.columns;Tt++)R.set(ke,Tt,R.get(ke,Tt)-R.get(N,Tt)*rt)}N++,G++}}return R}},{key:"reducedEchelonForm",value:function(){for(var R=this.echelonForm(),N=R.columns,G=R.rows,ye=G-1;ye>=0;)if(R.maxRow(ye)===0)ye--;else{for(var Ie=0,ze=!1;Ie<G&&ze===!1;)R.get(ye,Ie)===1?ze=!0:Ie++;for(var Ce=0;Ce<ye;Ce++)for(var ke=R.get(Ce,Ie),rt=Ie;rt<N;rt++){var Tt=R.get(Ce,rt)-ke*R.get(ye,rt);R.set(Ce,rt,Tt)}ye--}return R}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(K(R)!=="object")throw new TypeError("options must be an object");var N=R.rows,G=N===void 0?1:N,ye=R.columns,Ie=ye===void 0?1:ye;if(!Number.isInteger(G)||G<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(Ie)||Ie<=0)throw new TypeError("columns must be a positive integer");for(var ze=new et(this.rows*G,this.columns*Ie),Ce=0;Ce<G;Ce++)for(var ke=0;ke<Ie;ke++)ze.setSubMatrix(this,this.rows*Ce,this.columns*ke);return ze}},{key:"fill",value:function(R){for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,R);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(R){he(this,R);for(var N=[],G=0;G<this.columns;G++)N.push(this.get(R,G));return N}},{key:"getRowVector",value:function(R){return et.rowVector(this.getRow(R))}},{key:"setRow",value:function(R,N){he(this,R),N=en(this,N);for(var G=0;G<this.columns;G++)this.set(R,G,N[G]);return this}},{key:"swapRows",value:function(R,N){he(this,R),he(this,N);for(var G=0;G<this.columns;G++){var ye=this.get(R,G);this.set(R,G,this.get(N,G)),this.set(N,G,ye)}return this}},{key:"getColumn",value:function(R){st(this,R);for(var N=[],G=0;G<this.rows;G++)N.push(this.get(G,R));return N}},{key:"getColumnVector",value:function(R){return et.columnVector(this.getColumn(R))}},{key:"setColumn",value:function(R,N){st(this,R),N=vn(this,N);for(var G=0;G<this.rows;G++)this.set(G,R,N[G]);return this}},{key:"swapColumns",value:function(R,N){st(this,R),st(this,N);for(var G=0;G<this.rows;G++){var ye=this.get(G,R);this.set(G,R,this.get(G,N)),this.set(G,N,ye)}return this}},{key:"addRowVector",value:function(R){R=en(this,R);for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)+R[G]);return this}},{key:"subRowVector",value:function(R){R=en(this,R);for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)-R[G]);return this}},{key:"mulRowVector",value:function(R){R=en(this,R);for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)*R[G]);return this}},{key:"divRowVector",value:function(R){R=en(this,R);for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)/R[G]);return this}},{key:"addColumnVector",value:function(R){R=vn(this,R);for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)+R[N]);return this}},{key:"subColumnVector",value:function(R){R=vn(this,R);for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)-R[N]);return this}},{key:"mulColumnVector",value:function(R){R=vn(this,R);for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)*R[N]);return this}},{key:"divColumnVector",value:function(R){R=vn(this,R);for(var N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)this.set(N,G,this.get(N,G)/R[N]);return this}},{key:"mulRow",value:function(R,N){he(this,R);for(var G=0;G<this.columns;G++)this.set(R,G,this.get(R,G)*N);return this}},{key:"mulColumn",value:function(R,N){st(this,R);for(var G=0;G<this.rows;G++)this.set(G,R,this.get(G,R)*N);return this}},{key:"max",value:function(R){if(this.isEmpty())return NaN;switch(R){case"row":{for(var N=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),G=0;G<this.rows;G++)for(var ye=0;ye<this.columns;ye++)this.get(G,ye)>N[G]&&(N[G]=this.get(G,ye));return N}case"column":{for(var Ie=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),ze=0;ze<this.rows;ze++)for(var Ce=0;Ce<this.columns;Ce++)this.get(ze,Ce)>Ie[Ce]&&(Ie[Ce]=this.get(ze,Ce));return Ie}case void 0:{for(var ke=this.get(0,0),rt=0;rt<this.rows;rt++)for(var Tt=0;Tt<this.columns;Tt++)this.get(rt,Tt)>ke&&(ke=this.get(rt,Tt));return ke}default:throw new Error("invalid option: ".concat(R))}}},{key:"maxIndex",value:function(){bt(this);for(var R=this.get(0,0),N=[0,0],G=0;G<this.rows;G++)for(var ye=0;ye<this.columns;ye++)this.get(G,ye)>R&&(R=this.get(G,ye),N[0]=G,N[1]=ye);return N}},{key:"min",value:function(R){if(this.isEmpty())return NaN;switch(R){case"row":{for(var N=new Array(this.rows).fill(Number.POSITIVE_INFINITY),G=0;G<this.rows;G++)for(var ye=0;ye<this.columns;ye++)this.get(G,ye)<N[G]&&(N[G]=this.get(G,ye));return N}case"column":{for(var Ie=new Array(this.columns).fill(Number.POSITIVE_INFINITY),ze=0;ze<this.rows;ze++)for(var Ce=0;Ce<this.columns;Ce++)this.get(ze,Ce)<Ie[Ce]&&(Ie[Ce]=this.get(ze,Ce));return Ie}case void 0:{for(var ke=this.get(0,0),rt=0;rt<this.rows;rt++)for(var Tt=0;Tt<this.columns;Tt++)this.get(rt,Tt)<ke&&(ke=this.get(rt,Tt));return ke}default:throw new Error("invalid option: ".concat(R))}}},{key:"minIndex",value:function(){bt(this);for(var R=this.get(0,0),N=[0,0],G=0;G<this.rows;G++)for(var ye=0;ye<this.columns;ye++)this.get(G,ye)<R&&(R=this.get(G,ye),N[0]=G,N[1]=ye);return N}},{key:"maxRow",value:function(R){if(he(this,R),this.isEmpty())return NaN;for(var N=this.get(R,0),G=1;G<this.columns;G++)this.get(R,G)>N&&(N=this.get(R,G));return N}},{key:"maxRowIndex",value:function(R){he(this,R),bt(this);for(var N=this.get(R,0),G=[R,0],ye=1;ye<this.columns;ye++)this.get(R,ye)>N&&(N=this.get(R,ye),G[1]=ye);return G}},{key:"minRow",value:function(R){if(he(this,R),this.isEmpty())return NaN;for(var N=this.get(R,0),G=1;G<this.columns;G++)this.get(R,G)<N&&(N=this.get(R,G));return N}},{key:"minRowIndex",value:function(R){he(this,R),bt(this);for(var N=this.get(R,0),G=[R,0],ye=1;ye<this.columns;ye++)this.get(R,ye)<N&&(N=this.get(R,ye),G[1]=ye);return G}},{key:"maxColumn",value:function(R){if(st(this,R),this.isEmpty())return NaN;for(var N=this.get(0,R),G=1;G<this.rows;G++)this.get(G,R)>N&&(N=this.get(G,R));return N}},{key:"maxColumnIndex",value:function(R){st(this,R),bt(this);for(var N=this.get(0,R),G=[0,R],ye=1;ye<this.rows;ye++)this.get(ye,R)>N&&(N=this.get(ye,R),G[0]=ye);return G}},{key:"minColumn",value:function(R){if(st(this,R),this.isEmpty())return NaN;for(var N=this.get(0,R),G=1;G<this.rows;G++)this.get(G,R)<N&&(N=this.get(G,R));return N}},{key:"minColumnIndex",value:function(R){st(this,R),bt(this);for(var N=this.get(0,R),G=[0,R],ye=1;ye<this.rows;ye++)this.get(ye,R)<N&&(N=this.get(ye,R),G[0]=ye);return G}},{key:"diag",value:function(){for(var R=Math.min(this.rows,this.columns),N=[],G=0;G<R;G++)N.push(this.get(G,G));return N}},{key:"norm",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius";switch(R){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError("unknown norm type: ".concat(R))}}},{key:"cumulativeSum",value:function(){for(var R=0,N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)R+=this.get(N,G),this.set(N,G,R);return this}},{key:"dot",value:function(R){De.isMatrix(R)&&(R=R.to1DArray());var N=this.to1DArray();if(N.length!==R.length)throw new RangeError("vectors do not have the same size");for(var G=0,ye=0;ye<N.length;ye++)G+=N[ye]*R[ye];return G}},{key:"mmul",value:function(R){R=et.checkMatrix(R);for(var N=this.rows,G=this.columns,ye=R.columns,Ie=new et(N,ye),ze=new Float64Array(G),Ce=0;Ce<ye;Ce++){for(var ke=0;ke<G;ke++)ze[ke]=R.get(ke,Ce);for(var rt=0;rt<N;rt++){for(var Tt=0,En=0;En<G;En++)Tt+=this.get(rt,En)*ze[En];Ie.set(rt,Ce,Tt)}}return Ie}},{key:"strassen2x2",value:function(R){R=et.checkMatrix(R);var N=new et(2,2),G=this.get(0,0),ye=R.get(0,0),Ie=this.get(0,1),ze=R.get(0,1),Ce=this.get(1,0),ke=R.get(1,0),rt=this.get(1,1),Tt=R.get(1,1),En=(G+rt)*(ye+Tt),Rn=(Ce+rt)*ye,$n=G*(ze-Tt),Xn=rt*(ke-ye),$t=(G+Ie)*Tt,hn=(Ce-G)*(ye+ze),bn=(Ie-rt)*(ke+Tt),br=En+Xn-$t+bn,qn=$n+$t,Li=Rn+Xn,$i=En-Rn+$n+hn;return N.set(0,0,br),N.set(0,1,qn),N.set(1,0,Li),N.set(1,1,$i),N}},{key:"strassen3x3",value:function(R){R=et.checkMatrix(R);var N=new et(3,3),G=this.get(0,0),ye=this.get(0,1),Ie=this.get(0,2),ze=this.get(1,0),Ce=this.get(1,1),ke=this.get(1,2),rt=this.get(2,0),Tt=this.get(2,1),En=this.get(2,2),Rn=R.get(0,0),$n=R.get(0,1),Xn=R.get(0,2),$t=R.get(1,0),hn=R.get(1,1),bn=R.get(1,2),br=R.get(2,0),qn=R.get(2,1),Li=R.get(2,2),$i=(G+ye+Ie-ze-Ce-Tt-En)*hn,Bi=(G-ze)*(-$n+hn),co=Ce*(-Rn+$n+$t-hn-bn-br+Li),Do=(-G+ze+Ce)*(Rn-$n+hn),Wo=(ze+Ce)*(-Rn+$n),hi=G*Rn,ua=(-G+rt+Tt)*(Rn-Xn+bn),ya=(-G+rt)*(Xn-bn),fi=(rt+Tt)*(-Rn+Xn),Pi=(G+ye+Ie-Ce-ke-rt-Tt)*bn,Qi=Tt*(-Rn+Xn+$t-hn-bn-br+qn),Zi=(-Ie+Tt+En)*(hn+br-qn),Ta=(Ie-En)*(hn-qn),uo=Ie*br,xa=(Tt+En)*(-br+qn),Qo=(-Ie+Ce+ke)*(bn+br-Li),ra=(Ie-ke)*(bn-Li),To=(Ce+ke)*(-br+Li),fa=ye*$t,Ba=ke*qn,xt=ze*Xn,sn=rt*$n,Ht=En*Li,jn=hi+uo+fa,xr=$i+Do+Wo+hi+Zi+uo+xa,nr=hi+ua+fi+Pi+uo+Qo+To,zt=Bi+co+Do+hi+uo+Qo+ra,Qr=Bi+Do+Wo+hi+Ba,hr=uo+Qo+ra+To+xt,gi=hi+ua+ya+Qi+Zi+Ta+uo,mo=Zi+Ta+uo+xa+sn,No=hi+ua+ya+fi+Ht;return N.set(0,0,jn),N.set(0,1,xr),N.set(0,2,nr),N.set(1,0,zt),N.set(1,1,Qr),N.set(1,2,hr),N.set(2,0,gi),N.set(2,1,mo),N.set(2,2,No),N}},{key:"mmulStrassen",value:function(R){R=et.checkMatrix(R);var N=this.clone(),G=N.rows,ye=N.columns,Ie=R.rows,ze=R.columns;ye!==Ie&&console.warn("Multiplying ".concat(G," x ").concat(ye," and ").concat(Ie," x ").concat(ze," matrix: dimensions do not match."));function Ce(En,Rn,$n){var Xn=En.rows,$t=En.columns;if(Xn===Rn&&$t===$n)return En;var hn=De.zeros(Rn,$n);return hn=hn.setSubMatrix(En,0,0),hn}var ke=Math.max(G,Ie),rt=Math.max(ye,ze);N=Ce(N,ke,rt),R=Ce(R,ke,rt);function Tt(En,Rn,$n,Xn){if($n<=512||Xn<=512)return En.mmul(Rn);$n%2===1&&Xn%2===1?(En=Ce(En,$n+1,Xn+1),Rn=Ce(Rn,$n+1,Xn+1)):$n%2===1?(En=Ce(En,$n+1,Xn),Rn=Ce(Rn,$n+1,Xn)):Xn%2===1&&(En=Ce(En,$n,Xn+1),Rn=Ce(Rn,$n,Xn+1));var $t=parseInt(En.rows/2,10),hn=parseInt(En.columns/2,10),bn=En.subMatrix(0,$t-1,0,hn-1),br=Rn.subMatrix(0,$t-1,0,hn-1),qn=En.subMatrix(0,$t-1,hn,En.columns-1),Li=Rn.subMatrix(0,$t-1,hn,Rn.columns-1),$i=En.subMatrix($t,En.rows-1,0,hn-1),Bi=Rn.subMatrix($t,Rn.rows-1,0,hn-1),co=En.subMatrix($t,En.rows-1,hn,En.columns-1),Do=Rn.subMatrix($t,Rn.rows-1,hn,Rn.columns-1),Wo=Tt(De.add(bn,co),De.add(br,Do),$t,hn),hi=Tt(De.add($i,co),br,$t,hn),ua=Tt(bn,De.sub(Li,Do),$t,hn),ya=Tt(co,De.sub(Bi,br),$t,hn),fi=Tt(De.add(bn,qn),Do,$t,hn),Pi=Tt(De.sub($i,bn),De.add(br,Li),$t,hn),Qi=Tt(De.sub(qn,co),De.add(Bi,Do),$t,hn),Zi=De.add(Wo,ya);Zi.sub(fi),Zi.add(Qi);var Ta=De.add(ua,fi),uo=De.add(hi,ya),xa=De.sub(Wo,hi);xa.add(ua),xa.add(Pi);var Qo=De.zeros(2*Zi.rows,2*Zi.columns);return Qo=Qo.setSubMatrix(Zi,0,0),Qo=Qo.setSubMatrix(Ta,Zi.rows,0),Qo=Qo.setSubMatrix(uo,0,Zi.columns),Qo=Qo.setSubMatrix(xa,Zi.rows,Zi.columns),Qo.subMatrix(0,$n-1,0,Xn-1)}return Tt(N,R,ke,rt)}},{key:"scaleRows",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(K(R)!=="object")throw new TypeError("options must be an object");var N=R.min,G=N===void 0?0:N,ye=R.max,Ie=ye===void 0?1:ye;if(!Number.isFinite(G))throw new TypeError("min must be a number");if(!Number.isFinite(Ie))throw new TypeError("max must be a number");if(G>=Ie)throw new RangeError("min must be smaller than max");for(var ze=new et(this.rows,this.columns),Ce=0;Ce<this.rows;Ce++){var ke=this.getRow(Ce);ke.length>0&&le(ke,{min:G,max:Ie,output:ke}),ze.setRow(Ce,ke)}return ze}},{key:"scaleColumns",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(K(R)!=="object")throw new TypeError("options must be an object");var N=R.min,G=N===void 0?0:N,ye=R.max,Ie=ye===void 0?1:ye;if(!Number.isFinite(G))throw new TypeError("min must be a number");if(!Number.isFinite(Ie))throw new TypeError("max must be a number");if(G>=Ie)throw new RangeError("min must be smaller than max");for(var ze=new et(this.rows,this.columns),Ce=0;Ce<this.columns;Ce++){var ke=this.getColumn(Ce);ke.length&&le(ke,{min:G,max:Ie,output:ke}),ze.setColumn(Ce,ke)}return ze}},{key:"flipRows",value:function(){for(var R=Math.ceil(this.columns/2),N=0;N<this.rows;N++)for(var G=0;G<R;G++){var ye=this.get(N,G),Ie=this.get(N,this.columns-1-G);this.set(N,G,Ie),this.set(N,this.columns-1-G,ye)}return this}},{key:"flipColumns",value:function(){for(var R=Math.ceil(this.rows/2),N=0;N<this.columns;N++)for(var G=0;G<R;G++){var ye=this.get(G,N),Ie=this.get(this.rows-1-G,N);this.set(G,N,Ie),this.set(this.rows-1-G,N,ye)}return this}},{key:"kroneckerProduct",value:function(R){R=et.checkMatrix(R);for(var N=this.rows,G=this.columns,ye=R.rows,Ie=R.columns,ze=new et(N*ye,G*Ie),Ce=0;Ce<N;Ce++)for(var ke=0;ke<G;ke++)for(var rt=0;rt<ye;rt++)for(var Tt=0;Tt<Ie;Tt++)ze.set(ye*Ce+rt,Ie*ke+Tt,this.get(Ce,ke)*R.get(rt,Tt));return ze}},{key:"kroneckerSum",value:function(R){if(R=et.checkMatrix(R),!this.isSquare()||!R.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var N=this.rows,G=R.rows,ye=this.kroneckerProduct(et.eye(G,G)),Ie=et.eye(N,N).kroneckerProduct(R);return ye.add(Ie)}},{key:"transpose",value:function(){for(var R=new et(this.columns,this.rows),N=0;N<this.rows;N++)for(var G=0;G<this.columns;G++)R.set(G,N,this.get(N,G));return R}},{key:"sortRows",value:function(){for(var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ze,N=0;N<this.rows;N++)this.setRow(N,this.getRow(N).sort(R));return this}},{key:"sortColumns",value:function(){for(var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ze,N=0;N<this.columns;N++)this.setColumn(N,this.getColumn(N).sort(R));return this}},{key:"subMatrix",value:function(R,N,G,ye){Ve(this,R,N,G,ye);for(var Ie=new et(N-R+1,ye-G+1),ze=R;ze<=N;ze++)for(var Ce=G;Ce<=ye;Ce++)Ie.set(ze-R,Ce-G,this.get(ze,Ce));return Ie}},{key:"subMatrixRow",value:function(R,N,G){if(N===void 0&&(N=0),G===void 0&&(G=this.columns-1),N>G||N<0||N>=this.columns||G<0||G>=this.columns)throw new RangeError("Argument out of range");for(var ye=new et(R.length,G-N+1),Ie=0;Ie<R.length;Ie++)for(var ze=N;ze<=G;ze++){if(R[Ie]<0||R[Ie]>=this.rows)throw new RangeError("Row index out of range: ".concat(R[Ie]));ye.set(Ie,ze-N,this.get(R[Ie],ze))}return ye}},{key:"subMatrixColumn",value:function(R,N,G){if(N===void 0&&(N=0),G===void 0&&(G=this.rows-1),N>G||N<0||N>=this.rows||G<0||G>=this.rows)throw new RangeError("Argument out of range");for(var ye=new et(G-N+1,R.length),Ie=0;Ie<R.length;Ie++)for(var ze=N;ze<=G;ze++){if(R[Ie]<0||R[Ie]>=this.columns)throw new RangeError("Column index out of range: ".concat(R[Ie]));ye.set(ze-N,Ie,this.get(ze,R[Ie]))}return ye}},{key:"setSubMatrix",value:function(R,N,G){if(R=et.checkMatrix(R),R.isEmpty())return this;var ye=N+R.rows-1,Ie=G+R.columns-1;Ve(this,N,ye,G,Ie);for(var ze=0;ze<R.rows;ze++)for(var Ce=0;Ce<R.columns;Ce++)this.set(N+ze,G+Ce,R.get(ze,Ce));return this}},{key:"selection",value:function(R,N){Mt(this,R),It(this,N);for(var G=new et(R.length,N.length),ye=0;ye<R.length;ye++)for(var Ie=R[ye],ze=0;ze<N.length;ze++){var Ce=N[ze];G.set(ye,ze,this.get(Ie,Ce))}return G}},{key:"trace",value:function(){for(var R=Math.min(this.rows,this.columns),N=0,G=0;G<R;G++)N+=this.get(G,G);return N}},{key:"clone",value:function(){return this.constructor.copy(this,new et(this.rows,this.columns))}},{key:"sum",value:function(R){switch(R){case"row":return Ge(this);case"column":return Ae(this);case void 0:return be(this);default:throw new Error("invalid option: ".concat(R))}}},{key:"product",value:function(R){switch(R){case"row":return Ne(this);case"column":return Re(this);case void 0:return ht(this);default:throw new Error("invalid option: ".concat(R))}}},{key:"mean",value:function(R){var N=this.sum(R);switch(R){case"row":{for(var G=0;G<this.rows;G++)N[G]/=this.columns;return N}case"column":{for(var ye=0;ye<this.columns;ye++)N[ye]/=this.rows;return N}case void 0:return N/this.size;default:throw new Error("invalid option: ".concat(R))}}},{key:"variance",value:function(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(K(R)==="object"&&(N=R,R=void 0),K(N)!=="object")throw new TypeError("options must be an object");var G=N,ye=G.unbiased,Ie=ye===void 0?!0:ye,ze=G.mean,Ce=ze===void 0?this.mean(R):ze;if(typeof Ie!="boolean")throw new TypeError("unbiased must be a boolean");switch(R){case"row":{if(!fe.isAnyArray(Ce))throw new TypeError("mean must be an array");return Wt(this,Ie,Ce)}case"column":{if(!fe.isAnyArray(Ce))throw new TypeError("mean must be an array");return Yt(this,Ie,Ce)}case void 0:{if(typeof Ce!="number")throw new TypeError("mean must be a number");return Lt(this,Ie,Ce)}default:throw new Error("invalid option: ".concat(R))}}},{key:"standardDeviation",value:function(R,N){K(R)==="object"&&(N=R,R=void 0);var G=this.variance(R,N);if(R===void 0)return Math.sqrt(G);for(var ye=0;ye<G.length;ye++)G[ye]=Math.sqrt(G[ye]);return G}},{key:"center",value:function(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(K(R)==="object"&&(N=R,R=void 0),K(N)!=="object")throw new TypeError("options must be an object");var G=N,ye=G.center,Ie=ye===void 0?this.mean(R):ye;switch(R){case"row":{if(!fe.isAnyArray(Ie))throw new TypeError("center must be an array");return Dt(this,Ie),this}case"column":{if(!fe.isAnyArray(Ie))throw new TypeError("center must be an array");return lt(this,Ie),this}case void 0:{if(typeof Ie!="number")throw new TypeError("center must be a number");return Ft(this,Ie),this}default:throw new Error("invalid option: ".concat(R))}}},{key:"scale",value:function(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(K(R)==="object"&&(N=R,R=void 0),K(N)!=="object")throw new TypeError("options must be an object");var G=N.scale;switch(R){case"row":{if(G===void 0)G=qt(this);else if(!fe.isAnyArray(G))throw new TypeError("scale must be an array");return Nn(this,G),this}case"column":{if(G===void 0)G=kn(this);else if(!fe.isAnyArray(G))throw new TypeError("scale must be an array");return An(this,G),this}case void 0:{if(G===void 0)G=Kn(this);else if(typeof G!="number")throw new TypeError("scale must be a number");return ee(this,G),this}default:throw new Error("invalid option: ".concat(R))}}},{key:"toString",value:function(R){return L(this,R)}},{key:ue,value:function(){return this.entries()}},{key:"entries",value:J().mark(function oe(){var R,N;return J().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:R=0;case 1:if(!(R<this.rows)){ye.next=12;break}N=0;case 3:if(!(N<this.columns)){ye.next=9;break}return ye.next=6,[R,N,this.get(R,N)];case 6:N++,ye.next=3;break;case 9:R++,ye.next=1;break;case 12:case"end":return ye.stop()}},oe,this)})},{key:"values",value:J().mark(function oe(){var R,N;return J().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:R=0;case 1:if(!(R<this.rows)){ye.next=12;break}N=0;case 3:if(!(N<this.columns)){ye.next=9;break}return ye.next=6,this.get(R,N);case 6:N++,ye.next=3;break;case 9:R++,ye.next=1;break;case 12:case"end":return ye.stop()}},oe,this)})}],[{key:"from1DArray",value:function(R,N,G){var ye=R*N;if(ye!==G.length)throw new RangeError("data length does not match given dimensions");for(var Ie=new et(R,N),ze=0;ze<R;ze++)for(var Ce=0;Ce<N;Ce++)Ie.set(ze,Ce,G[ze*N+Ce]);return Ie}},{key:"rowVector",value:function(R){for(var N=new et(1,R.length),G=0;G<R.length;G++)N.set(0,G,R[G]);return N}},{key:"columnVector",value:function(R){for(var N=new et(R.length,1),G=0;G<R.length;G++)N.set(G,0,R[G]);return N}},{key:"zeros",value:function(R,N){return new et(R,N)}},{key:"ones",value:function(R,N){return new et(R,N).fill(1)}},{key:"rand",value:function(R,N){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(K(G)!=="object")throw new TypeError("options must be an object");for(var ye=G.random,Ie=ye===void 0?Math.random:ye,ze=new et(R,N),Ce=0;Ce<R;Ce++)for(var ke=0;ke<N;ke++)ze.set(Ce,ke,Ie());return ze}},{key:"randInt",value:function(R,N){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(K(G)!=="object")throw new TypeError("options must be an object");var ye=G.min,Ie=ye===void 0?0:ye,ze=G.max,Ce=ze===void 0?1e3:ze,ke=G.random,rt=ke===void 0?Math.random:ke;if(!Number.isInteger(Ie))throw new TypeError("min must be an integer");if(!Number.isInteger(Ce))throw new TypeError("max must be an integer");if(Ie>=Ce)throw new RangeError("min must be smaller than max");for(var Tt=Ce-Ie,En=new et(R,N),Rn=0;Rn<R;Rn++)for(var $n=0;$n<N;$n++){var Xn=Ie+Math.round(rt()*Tt);En.set(Rn,$n,Xn)}return En}},{key:"eye",value:function(R,N,G){N===void 0&&(N=R),G===void 0&&(G=1);for(var ye=Math.min(R,N),Ie=this.zeros(R,N),ze=0;ze<ye;ze++)Ie.set(ze,ze,G);return Ie}},{key:"diag",value:function(R,N,G){var ye=R.length;N===void 0&&(N=ye),G===void 0&&(G=N);for(var Ie=Math.min(ye,N,G),ze=this.zeros(N,G),Ce=0;Ce<Ie;Ce++)ze.set(Ce,Ce,R[Ce]);return ze}},{key:"min",value:function(R,N){R=this.checkMatrix(R),N=this.checkMatrix(N);for(var G=R.rows,ye=R.columns,Ie=new et(G,ye),ze=0;ze<G;ze++)for(var Ce=0;Ce<ye;Ce++)Ie.set(ze,Ce,Math.min(R.get(ze,Ce),N.get(ze,Ce)));return Ie}},{key:"max",value:function(R,N){R=this.checkMatrix(R),N=this.checkMatrix(N);for(var G=R.rows,ye=R.columns,Ie=new this(G,ye),ze=0;ze<G;ze++)for(var Ce=0;Ce<ye;Ce++)Ie.set(ze,Ce,Math.max(R.get(ze,Ce),N.get(ze,Ce)));return Ie}},{key:"checkMatrix",value:function(R){return De.isMatrix(R)?R:new et(R)}},{key:"isMatrix",value:function(R){return R!=null&&R.klass==="Matrix"}},{key:"copy",value:function(R,N){var G=Q(R.entries()),ye;try{for(G.s();!(ye=G.n()).done;){var Ie=te(ye.value,3),ze=Ie[0],Ce=Ie[1],ke=Ie[2];N.set(ze,Ce,ke)}}catch(rt){G.e(rt)}finally{G.f()}return N}}]),De}(Symbol.iterator);it.prototype.klass="Matrix",typeof Symbol!="undefined"&&(it.prototype[Symbol.for("nodejs.util.inspect.custom")]=Oe);function Ze(ue,De){return ue-De}function ot(ue){return ue.every(function(De){return typeof De=="number"})}it.random=it.rand,it.randomInt=it.randInt,it.diagonal=it.diag,it.prototype.diagonal=it.prototype.diag,it.identity=it.eye,it.prototype.negate=it.prototype.neg,it.prototype.tensorProduct=it.prototype.kroneckerProduct;var Xe=new WeakSet,et=function(ue){w(oe,ue);var De=k(oe);function oe(R,N){var G;if(Y(this,oe),G=De.call(this),Z(E(G),Xe),U(E(G),"data",void 0),oe.isMatrix(R))$(E(G),Xe,pt).call(E(G),R.rows,R.columns),oe.copy(R,E(G));else if(Number.isInteger(R)&&R>=0)$(E(G),Xe,pt).call(E(G),R,N);else if(fe.isAnyArray(R)){var ye=R;if(R=ye.length,N=R?ye[0].length:0,typeof N!="number")throw new TypeError("Data must be a 2D array with at least one element");G.data=[];for(var Ie=0;Ie<R;Ie++){if(ye[Ie].length!==N)throw new RangeError("Inconsistent array dimensions");if(!ot(ye[Ie]))throw new TypeError("Input data contains non-numeric values");G.data.push(Float64Array.from(ye[Ie]))}G.rows=R,G.columns=N}else throw new TypeError("First argument must be a positive number or an array");return G}return re(oe,[{key:"set",value:function(N,G,ye){return this.data[N][G]=ye,this}},{key:"get",value:function(N,G){return this.data[N][G]}},{key:"removeRow",value:function(N){return he(this,N),this.data.splice(N,1),this.rows-=1,this}},{key:"addRow",value:function(N,G){return G===void 0&&(G=N,N=this.rows),he(this,N,!0),G=Float64Array.from(en(this,G)),this.data.splice(N,0,G),this.rows+=1,this}},{key:"removeColumn",value:function(N){st(this,N);for(var G=0;G<this.rows;G++){for(var ye=new Float64Array(this.columns-1),Ie=0;Ie<N;Ie++)ye[Ie]=this.data[G][Ie];for(var ze=N+1;ze<this.columns;ze++)ye[ze-1]=this.data[G][ze];this.data[G]=ye}return this.columns-=1,this}},{key:"addColumn",value:function(N,G){typeof G=="undefined"&&(G=N,N=this.columns),st(this,N,!0),G=vn(this,G);for(var ye=0;ye<this.rows;ye++){for(var Ie=new Float64Array(this.columns+1),ze=0;ze<N;ze++)Ie[ze]=this.data[ye][ze];for(Ie[ze++]=G[ye];ze<this.columns+1;ze++)Ie[ze]=this.data[ye][ze-1];this.data[ye]=Ie}return this.columns+=1,this}}]),oe}(it);function pt(ue,De){if(this.data=[],Number.isInteger(De)&&De>=0)for(var oe=0;oe<ue;oe++)this.data.push(new Float64Array(De));else throw new TypeError("nColumns must be a positive integer");this.rows=ue,this.columns=De}je(it,et);var He=new WeakMap,Et=function(ue){w(oe,ue);var De=k(oe);function oe(R){var N;if(Y(this,oe),N=De.call(this),g(E(N),He,{writable:!0,value:void 0}),et.isMatrix(R)){if(!R.isSymmetric())throw new TypeError("not symmetric data");x(E(N),He,et.copy(R,new et(R.rows,R.rows)))}else if(Number.isInteger(R)&&R>=0)x(E(N),He,new et(R,R));else if(x(E(N),He,new et(R)),!N.isSymmetric())throw new TypeError("not symmetric data");return N}return re(oe,[{key:"size",get:function(){return A(this,He).size}},{key:"rows",get:function(){return A(this,He).rows}},{key:"columns",get:function(){return A(this,He).columns}},{key:"diagonalSize",get:function(){return this.rows}},{key:"clone",value:function(){var N=new oe(this.diagonalSize),G=Q(this.upperRightEntries()),ye;try{for(G.s();!(ye=G.n()).done;){var Ie=te(ye.value,3),ze=Ie[0],Ce=Ie[1],ke=Ie[2];N.set(ze,Ce,ke)}}catch(rt){G.e(rt)}finally{G.f()}return N}},{key:"toMatrix",value:function(){return new et(this)}},{key:"get",value:function(N,G){return A(this,He).get(N,G)}},{key:"set",value:function(N,G,ye){return A(this,He).set(N,G,ye),A(this,He).set(G,N,ye),this}},{key:"removeCross",value:function(N){return A(this,He).removeRow(N),A(this,He).removeColumn(N),this}},{key:"addCross",value:function(N,G){G===void 0&&(G=N,N=this.diagonalSize);var ye=G.slice();return ye.splice(N,1),A(this,He).addRow(N,ye),A(this,He).addColumn(N,G),this}},{key:"applyMask",value:function(N){if(N.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");var G=[],ye=Q(N.entries()),Ie;try{for(ye.s();!(Ie=ye.n()).done;){var ze=te(Ie.value,2),Ce=ze[0],ke=ze[1];ke||G.push(Ce)}}catch(Rn){ye.e(Rn)}finally{ye.f()}G.reverse();for(var rt=0,Tt=G;rt<Tt.length;rt++){var En=Tt[rt];this.removeCross(En)}return this}},{key:"toCompact",value:function(){for(var N=this.diagonalSize,G=new Array(N*(N+1)/2),ye=0,Ie=0,ze=0;ze<G.length;ze++)G[ze]=this.get(Ie,ye),++ye>=N&&(ye=++Ie);return G}},{key:"upperRightEntries",value:J().mark(function R(){var N,G,ye;return J().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:N=0,G=0;case 1:if(!(N<this.diagonalSize)){ze.next=9;break}return ye=this.get(N,G),ze.next=5,[N,G,ye];case 5:++G>=this.diagonalSize&&(G=++N);case 6:ze.next=1;break;case 9:case"end":return ze.stop()}},R,this)})},{key:"upperRightValues",value:J().mark(function R(){var N,G,ye;return J().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:N=0,G=0;case 1:if(!(N<this.diagonalSize)){ze.next=9;break}return ye=this.get(N,G),ze.next=5,ye;case 5:++G>=this.diagonalSize&&(G=++N);case 6:ze.next=1;break;case 9:case"end":return ze.stop()}},R,this)})}],[{key:"isSymmetricMatrix",value:function(N){return et.isMatrix(N)&&N.klassType==="SymmetricMatrix"}},{key:"zeros",value:function(N){return new this(N)}},{key:"ones",value:function(N){return new this(N).fill(1)}},{key:"fromCompact",value:function(N){var G=N.length,ye=(Math.sqrt(8*G+1)-1)/2;if(!Number.isInteger(ye))throw new TypeError("This array is not a compact representation of a Symmetric Matrix, ".concat(JSON.stringify(N)));for(var Ie=new oe(ye),ze=0,Ce=0,ke=0;ke<G;ke++)Ie.set(ze,Ce,N[ke]),++ze>=ye&&(ze=++Ce);return Ie}}]),oe}(it);Et.prototype.klassType="SymmetricMatrix";var Vt=function(ue){w(oe,ue);var De=k(oe);function oe(R){var N;if(Y(this,oe),N=De.call(this,R),!N.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix");return N}return re(oe,[{key:"set",value:function(N,G,ye){return N===G&&(ye=0),d(m(oe.prototype),"set",this).call(this,N,G,ye)}},{key:"addCross",value:function(N,G){return G===void 0&&(G=N,N=this.diagonalSize),G=G.slice(),G[N]=0,d(m(oe.prototype),"addCross",this).call(this,N,G)}},{key:"toSymmetricMatrix",value:function(){return new Et(this)}},{key:"clone",value:function(){var N=new oe(this.diagonalSize),G=Q(this.upperRightEntries()),ye;try{for(G.s();!(ye=G.n()).done;){var Ie=te(ye.value,3),ze=Ie[0],Ce=Ie[1],ke=Ie[2];ze!==Ce&&N.set(ze,Ce,ke)}}catch(rt){G.e(rt)}finally{G.f()}return N}},{key:"toCompact",value:function(){for(var N=this.diagonalSize,G=(N-1)*N/2,ye=new Array(G),Ie=1,ze=0,Ce=0;Ce<ye.length;Ce++)ye[Ce]=this.get(ze,Ie),++Ie>=N&&(Ie=++ze+1);return ye}}],[{key:"isDistanceMatrix",value:function(N){return Et.isSymmetricMatrix(N)&&N.klassSubType==="DistanceMatrix"}},{key:"fromCompact",value:function(N){var G=N.length;if(G===0)return new this(0);var ye=(Math.sqrt(8*G+1)+1)/2;if(!Number.isInteger(ye))throw new TypeError("This array is not a compact representation of a DistanceMatrix, ".concat(JSON.stringify(N)));for(var Ie=new this(ye),ze=1,Ce=0,ke=0;ke<G;ke++)Ie.set(ze,Ce,N[ke]),++ze>=ye&&(ze=++Ce+1);return Ie}}]),oe}(Et);Vt.prototype.klassSubType="DistanceMatrix";var On=function(ue){w(oe,ue);var De=k(oe);function oe(R,N,G){var ye;return Y(this,oe),ye=De.call(this),ye.matrix=R,ye.rows=N,ye.columns=G,ye}return re(oe)}(it),Wn=function(ue){w(oe,ue);var De=k(oe);function oe(R,N){var G;return Y(this,oe),st(R,N),G=De.call(this,R,R.rows,1),G.column=N,G}return re(oe,[{key:"set",value:function(N,G,ye){return this.matrix.set(N,this.column,ye),this}},{key:"get",value:function(N){return this.matrix.get(N,this.column)}}]),oe}(On),pr=function(ue){w(oe,ue);var De=k(oe);function oe(R,N){var G;return Y(this,oe),It(R,N),G=De.call(this,R,R.rows,N.length),G.columnIndices=N,G}return re(oe,[{key:"set",value:function(N,G,ye){return this.matrix.set(N,this.columnIndices[G],ye),this}},{key:"get",value:function(N,G){return this.matrix.get(N,this.columnIndices[G])}}]),oe}(On),Cr=function(ue){w(oe,ue);var De=k(oe);function oe(R){return Y(this,oe),De.call(this,R,R.rows,R.columns)}return re(oe,[{key:"set",value:function(N,G,ye){return this.matrix.set(N,this.columns-G-1,ye),this}},{key:"get",value:function(N,G){return this.matrix.get(N,this.columns-G-1)}}]),oe}(On),Sn=function(ue){w(oe,ue);var De=k(oe);function oe(R){return Y(this,oe),De.call(this,R,R.rows,R.columns)}return re(oe,[{key:"set",value:function(N,G,ye){return this.matrix.set(this.rows-N-1,G,ye),this}},{key:"get",value:function(N,G){return this.matrix.get(this.rows-N-1,G)}}]),oe}(On),Cn=function(ue){w(oe,ue);var De=k(oe);function oe(R,N){var G;return Y(this,oe),he(R,N),G=De.call(this,R,1,R.columns),G.row=N,G}return re(oe,[{key:"set",value:function(N,G,ye){return this.matrix.set(this.row,G,ye),this}},{key:"get",value:function(N,G){return this.matrix.get(this.row,G)}}]),oe}(On),Fn=function(ue){w(oe,ue);var De=k(oe);function oe(R,N){var G;return Y(this,oe),Mt(R,N),G=De.call(this,R,N.length,R.columns),G.rowIndices=N,G}return re(oe,[{key:"set",value:function(N,G,ye){return this.matrix.set(this.rowIndices[N],G,ye),this}},{key:"get",value:function(N,G){return this.matrix.get(this.rowIndices[N],G)}}]),oe}(On),Hn=function(ue){w(oe,ue);var De=k(oe);function oe(R,N,G){var ye;return Y(this,oe),Mt(R,N),It(R,G),ye=De.call(this,R,N.length,G.length),ye.rowIndices=N,ye.columnIndices=G,ye}return re(oe,[{key:"set",value:function(N,G,ye){return this.matrix.set(this.rowIndices[N],this.columnIndices[G],ye),this}},{key:"get",value:function(N,G){return this.matrix.get(this.rowIndices[N],this.columnIndices[G])}}]),oe}(On),sr=function(ue){w(oe,ue);var De=k(oe);function oe(R,N,G,ye,Ie){var ze;return Y(this,oe),Ve(R,N,G,ye,Ie),ze=De.call(this,R,G-N+1,Ie-ye+1),ze.startRow=N,ze.startColumn=ye,ze}return re(oe,[{key:"set",value:function(N,G,ye){return this.matrix.set(this.startRow+N,this.startColumn+G,ye),this}},{key:"get",value:function(N,G){return this.matrix.get(this.startRow+N,this.startColumn+G)}}]),oe}(On),ti=function(ue){w(oe,ue);var De=k(oe);function oe(R){return Y(this,oe),De.call(this,R,R.columns,R.rows)}return re(oe,[{key:"set",value:function(N,G,ye){return this.matrix.set(G,N,ye),this}},{key:"get",value:function(N,G){return this.matrix.get(G,N)}}]),oe}(On),Ir=function(ue){w(oe,ue);var De=k(oe);function oe(R){var N,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y(this,oe);var ye=G.rows,Ie=ye===void 0?1:ye;if(R.length%Ie!==0)throw new Error("the data length is not divisible by the number of rows");return N=De.call(this),N.rows=Ie,N.columns=R.length/Ie,N.data=R,N}return re(oe,[{key:"set",value:function(N,G,ye){var Ie=this._calculateIndex(N,G);return this.data[Ie]=ye,this}},{key:"get",value:function(N,G){var ye=this._calculateIndex(N,G);return this.data[ye]}},{key:"_calculateIndex",value:function(N,G){return N*this.columns+G}}]),oe}(it),kr=function(ue){w(oe,ue);var De=k(oe);function oe(R){var N;return Y(this,oe),N=De.call(this),N.data=R,N.rows=R.length,N.columns=R[0].length,N}return re(oe,[{key:"set",value:function(N,G,ye){return this.data[N][G]=ye,this}},{key:"get",value:function(N,G){return this.data[N][G]}}]),oe}(it);function di(ue,De){if(fe.isAnyArray(ue))return ue[0]&&fe.isAnyArray(ue[0])?new kr(ue):new Ir(ue,De);throw new Error("the argument is not an array")}var Yn=function(){function ue(De){Y(this,ue),De=kr.checkMatrix(De);var oe=De.clone(),R=oe.rows,N=oe.columns,G=new Float64Array(R),ye=1,Ie,ze,Ce,ke,rt,Tt,En,Rn,$n;for(Ie=0;Ie<R;Ie++)G[Ie]=Ie;for(Rn=new Float64Array(R),ze=0;ze<N;ze++){for(Ie=0;Ie<R;Ie++)Rn[Ie]=oe.get(Ie,ze);for(Ie=0;Ie<R;Ie++){for($n=Math.min(Ie,ze),rt=0,Ce=0;Ce<$n;Ce++)rt+=oe.get(Ie,Ce)*Rn[Ce];Rn[Ie]-=rt,oe.set(Ie,ze,Rn[Ie])}for(ke=ze,Ie=ze+1;Ie<R;Ie++)Math.abs(Rn[Ie])>Math.abs(Rn[ke])&&(ke=Ie);if(ke!==ze){for(Ce=0;Ce<N;Ce++)Tt=oe.get(ke,Ce),oe.set(ke,Ce,oe.get(ze,Ce)),oe.set(ze,Ce,Tt);En=G[ke],G[ke]=G[ze],G[ze]=En,ye=-ye}if(ze<R&&oe.get(ze,ze)!==0)for(Ie=ze+1;Ie<R;Ie++)oe.set(Ie,ze,oe.get(Ie,ze)/oe.get(ze,ze))}this.LU=oe,this.pivotVector=G,this.pivotSign=ye}return re(ue,[{key:"isSingular",value:function(){for(var oe=this.LU,R=oe.columns,N=0;N<R;N++)if(oe.get(N,N)===0)return!0;return!1}},{key:"solve",value:function(oe){oe=et.checkMatrix(oe);var R=this.LU,N=R.rows;if(N!==oe.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var G=oe.columns,ye=oe.subMatrixRow(this.pivotVector,0,G-1),Ie=R.columns,ze,Ce,ke;for(ke=0;ke<Ie;ke++)for(ze=ke+1;ze<Ie;ze++)for(Ce=0;Ce<G;Ce++)ye.set(ze,Ce,ye.get(ze,Ce)-ye.get(ke,Ce)*R.get(ze,ke));for(ke=Ie-1;ke>=0;ke--){for(Ce=0;Ce<G;Ce++)ye.set(ke,Ce,ye.get(ke,Ce)/R.get(ke,ke));for(ze=0;ze<ke;ze++)for(Ce=0;Ce<G;Ce++)ye.set(ze,Ce,ye.get(ze,Ce)-ye.get(ke,Ce)*R.get(ze,ke))}return ye}},{key:"determinant",get:function(){var oe=this.LU;if(!oe.isSquare())throw new Error("Matrix must be square");for(var R=this.pivotSign,N=oe.columns,G=0;G<N;G++)R*=oe.get(G,G);return R}},{key:"lowerTriangularMatrix",get:function(){for(var oe=this.LU,R=oe.rows,N=oe.columns,G=new et(R,N),ye=0;ye<R;ye++)for(var Ie=0;Ie<N;Ie++)ye>Ie?G.set(ye,Ie,oe.get(ye,Ie)):ye===Ie?G.set(ye,Ie,1):G.set(ye,Ie,0);return G}},{key:"upperTriangularMatrix",get:function(){for(var oe=this.LU,R=oe.rows,N=oe.columns,G=new et(R,N),ye=0;ye<R;ye++)for(var Ie=0;Ie<N;Ie++)ye<=Ie?G.set(ye,Ie,oe.get(ye,Ie)):G.set(ye,Ie,0);return G}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),ue}();function Bt(ue,De){var oe=0;return Math.abs(ue)>Math.abs(De)?(oe=De/ue,Math.abs(ue)*Math.sqrt(1+oe*oe)):De!==0?(oe=ue/De,Math.abs(De)*Math.sqrt(1+oe*oe)):0}var kt=function(){function ue(De){Y(this,ue),De=kr.checkMatrix(De);var oe=De.clone(),R=De.rows,N=De.columns,G=new Float64Array(N),ye,Ie,ze,Ce;for(ze=0;ze<N;ze++){var ke=0;for(ye=ze;ye<R;ye++)ke=Bt(ke,oe.get(ye,ze));if(ke!==0){for(oe.get(ze,ze)<0&&(ke=-ke),ye=ze;ye<R;ye++)oe.set(ye,ze,oe.get(ye,ze)/ke);for(oe.set(ze,ze,oe.get(ze,ze)+1),Ie=ze+1;Ie<N;Ie++){for(Ce=0,ye=ze;ye<R;ye++)Ce+=oe.get(ye,ze)*oe.get(ye,Ie);for(Ce=-Ce/oe.get(ze,ze),ye=ze;ye<R;ye++)oe.set(ye,Ie,oe.get(ye,Ie)+Ce*oe.get(ye,ze))}}G[ze]=-ke}this.QR=oe,this.Rdiag=G}return re(ue,[{key:"solve",value:function(oe){oe=et.checkMatrix(oe);var R=this.QR,N=R.rows;if(oe.rows!==N)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var G=oe.columns,ye=oe.clone(),Ie=R.columns,ze,Ce,ke,rt;for(ke=0;ke<Ie;ke++)for(Ce=0;Ce<G;Ce++){for(rt=0,ze=ke;ze<N;ze++)rt+=R.get(ze,ke)*ye.get(ze,Ce);for(rt=-rt/R.get(ke,ke),ze=ke;ze<N;ze++)ye.set(ze,Ce,ye.get(ze,Ce)+rt*R.get(ze,ke))}for(ke=Ie-1;ke>=0;ke--){for(Ce=0;Ce<G;Ce++)ye.set(ke,Ce,ye.get(ke,Ce)/this.Rdiag[ke]);for(ze=0;ze<ke;ze++)for(Ce=0;Ce<G;Ce++)ye.set(ze,Ce,ye.get(ze,Ce)-ye.get(ke,Ce)*R.get(ze,ke))}return ye.subMatrix(0,Ie-1,0,G-1)}},{key:"isFullRank",value:function(){for(var oe=this.QR.columns,R=0;R<oe;R++)if(this.Rdiag[R]===0)return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var oe=this.QR,R=oe.columns,N=new et(R,R),G,ye;for(G=0;G<R;G++)for(ye=0;ye<R;ye++)G<ye?N.set(G,ye,oe.get(G,ye)):G===ye?N.set(G,ye,this.Rdiag[G]):N.set(G,ye,0);return N}},{key:"orthogonalMatrix",get:function(){var oe=this.QR,R=oe.rows,N=oe.columns,G=new et(R,N),ye,Ie,ze,Ce;for(ze=N-1;ze>=0;ze--){for(ye=0;ye<R;ye++)G.set(ye,ze,0);for(G.set(ze,ze,1),Ie=ze;Ie<N;Ie++)if(oe.get(ze,ze)!==0){for(Ce=0,ye=ze;ye<R;ye++)Ce+=oe.get(ye,ze)*G.get(ye,Ie);for(Ce=-Ce/oe.get(ze,ze),ye=ze;ye<R;ye++)G.set(ye,Ie,G.get(ye,Ie)+Ce*oe.get(ye,ze))}}return G}}]),ue}(),dn=function(){function ue(De){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Y(this,ue),De=kr.checkMatrix(De),De.isEmpty())throw new Error("Matrix must be non-empty");var R=De.rows,N=De.columns,G=oe.computeLeftSingularVectors,ye=G===void 0?!0:G,Ie=oe.computeRightSingularVectors,ze=Ie===void 0?!0:Ie,Ce=oe.autoTranspose,ke=Ce===void 0?!1:Ce,rt=!!ye,Tt=!!ze,En=!1,Rn;if(R<N)if(!ke)Rn=De.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{Rn=De.transpose(),R=Rn.rows,N=Rn.columns,En=!0;var $n=rt;rt=Tt,Tt=$n}else Rn=De.clone();for(var Xn=Math.min(R,N),$t=Math.min(R+1,N),hn=new Float64Array($t),bn=new et(R,Xn),br=new et(N,N),qn=new Float64Array(N),Li=new Float64Array(R),$i=new Float64Array($t),Bi=0;Bi<$t;Bi++)$i[Bi]=Bi;for(var co=Math.min(R-1,N),Do=Math.max(0,Math.min(N-2,R)),Wo=Math.max(co,Do),hi=0;hi<Wo;hi++){if(hi<co){hn[hi]=0;for(var ua=hi;ua<R;ua++)hn[hi]=Bt(hn[hi],Rn.get(ua,hi));if(hn[hi]!==0){Rn.get(hi,hi)<0&&(hn[hi]=-hn[hi]);for(var ya=hi;ya<R;ya++)Rn.set(ya,hi,Rn.get(ya,hi)/hn[hi]);Rn.set(hi,hi,Rn.get(hi,hi)+1)}hn[hi]=-hn[hi]}for(var fi=hi+1;fi<N;fi++){if(hi<co&&hn[hi]!==0){for(var Pi=0,Qi=hi;Qi<R;Qi++)Pi+=Rn.get(Qi,hi)*Rn.get(Qi,fi);Pi=-Pi/Rn.get(hi,hi);for(var Zi=hi;Zi<R;Zi++)Rn.set(Zi,fi,Rn.get(Zi,fi)+Pi*Rn.get(Zi,hi))}qn[fi]=Rn.get(hi,fi)}if(rt&&hi<co)for(var Ta=hi;Ta<R;Ta++)bn.set(Ta,hi,Rn.get(Ta,hi));if(hi<Do){qn[hi]=0;for(var uo=hi+1;uo<N;uo++)qn[hi]=Bt(qn[hi],qn[uo]);if(qn[hi]!==0){qn[hi+1]<0&&(qn[hi]=0-qn[hi]);for(var xa=hi+1;xa<N;xa++)qn[xa]/=qn[hi];qn[hi+1]+=1}if(qn[hi]=-qn[hi],hi+1<R&&qn[hi]!==0){for(var Qo=hi+1;Qo<R;Qo++)Li[Qo]=0;for(var ra=hi+1;ra<R;ra++)for(var To=hi+1;To<N;To++)Li[ra]+=qn[To]*Rn.get(ra,To);for(var fa=hi+1;fa<N;fa++)for(var Ba=-qn[fa]/qn[hi+1],xt=hi+1;xt<R;xt++)Rn.set(xt,fa,Rn.get(xt,fa)+Ba*Li[xt])}if(Tt)for(var sn=hi+1;sn<N;sn++)br.set(sn,hi,qn[sn])}}var Ht=Math.min(N,R+1);if(co<N&&(hn[co]=Rn.get(co,co)),R<Ht&&(hn[Ht-1]=0),Do+1<Ht&&(qn[Do]=Rn.get(Do,Ht-1)),qn[Ht-1]=0,rt){for(var jn=co;jn<Xn;jn++){for(var xr=0;xr<R;xr++)bn.set(xr,jn,0);bn.set(jn,jn,1)}for(var nr=co-1;nr>=0;nr--)if(hn[nr]!==0){for(var zt=nr+1;zt<Xn;zt++){for(var Qr=0,hr=nr;hr<R;hr++)Qr+=bn.get(hr,nr)*bn.get(hr,zt);Qr=-Qr/bn.get(nr,nr);for(var gi=nr;gi<R;gi++)bn.set(gi,zt,bn.get(gi,zt)+Qr*bn.get(gi,nr))}for(var mo=nr;mo<R;mo++)bn.set(mo,nr,-bn.get(mo,nr));bn.set(nr,nr,1+bn.get(nr,nr));for(var No=0;No<nr-1;No++)bn.set(No,nr,0)}else{for(var io=0;io<R;io++)bn.set(io,nr,0);bn.set(nr,nr,1)}}if(Tt)for(var Ti=N-1;Ti>=0;Ti--){if(Ti<Do&&qn[Ti]!==0)for(var Fi=Ti+1;Fi<N;Fi++){for(var ha=0,Ea=Ti+1;Ea<N;Ea++)ha+=br.get(Ea,Ti)*br.get(Ea,Fi);ha=-ha/br.get(Ti+1,Ti);for(var ea=Ti+1;ea<N;ea++)br.set(ea,Fi,br.get(ea,Fi)+ha*br.get(ea,Ti))}for(var Ja=0;Ja<N;Ja++)br.set(Ja,Ti,0);br.set(Ti,Ti,1)}for(var hs=Ht-1,Gs=Number.EPSILON;Ht>0;){var Ki=void 0,Oa=void 0;for(Ki=Ht-2;Ki>=-1&&Ki!==-1;Ki--){var qa=Number.MIN_VALUE+Gs*Math.abs(hn[Ki]+Math.abs(hn[Ki+1]));if(Math.abs(qn[Ki])<=qa||Number.isNaN(qn[Ki])){qn[Ki]=0;break}}if(Ki===Ht-2)Oa=4;else{var da=void 0;for(da=Ht-1;da>=Ki&&da!==Ki;da--){var Aa=(da!==Ht?Math.abs(qn[da]):0)+(da!==Ki+1?Math.abs(qn[da-1]):0);if(Math.abs(hn[da])<=Gs*Aa){hn[da]=0;break}}da===Ki?Oa=3:da===Ht-1?Oa=1:(Oa=2,Ki=da)}switch(Ki++,Oa){case 1:{var Ps=qn[Ht-2];qn[Ht-2]=0;for(var wa=Ht-2;wa>=Ki;wa--){var is=Bt(hn[wa],Ps),Pl=hn[wa]/is,F=Ps/is;if(hn[wa]=is,wa!==Ki&&(Ps=-F*qn[wa-1],qn[wa-1]=Pl*qn[wa-1]),Tt)for(var X=0;X<N;X++)is=Pl*br.get(X,wa)+F*br.get(X,Ht-1),br.set(X,Ht-1,-F*br.get(X,wa)+Pl*br.get(X,Ht-1)),br.set(X,wa,is)}break}case 2:{var ge=qn[Ki-1];qn[Ki-1]=0;for(var _e=Ki;_e<Ht;_e++){var Je=Bt(hn[_e],ge),tt=hn[_e]/Je,gt=ge/Je;if(hn[_e]=Je,ge=-gt*qn[_e],qn[_e]=tt*qn[_e],rt)for(var _n=0;_n<R;_n++)Je=tt*bn.get(_n,_e)+gt*bn.get(_n,Ki-1),bn.set(_n,Ki-1,-gt*bn.get(_n,_e)+tt*bn.get(_n,Ki-1)),bn.set(_n,_e,Je)}break}case 3:{var Dn=Math.max(Math.abs(hn[Ht-1]),Math.abs(hn[Ht-2]),Math.abs(qn[Ht-2]),Math.abs(hn[Ki]),Math.abs(qn[Ki])),Un=hn[Ht-1]/Dn,Mr=hn[Ht-2]/Dn,Dr=qn[Ht-2]/Dn,fr=hn[Ki]/Dn,Er=qn[Ki]/Dn,ao=((Mr+Un)*(Mr-Un)+Dr*Dr)/2,oo=Un*Dr*(Un*Dr),ba=0;(ao!==0||oo!==0)&&(ao<0?ba=0-Math.sqrt(ao*ao+oo):ba=Math.sqrt(ao*ao+oo),ba=oo/(ao+ba));for(var es=(fr+Un)*(fr-Un)+ba,Da=fr*Er,ut=Ki;ut<Ht-1;ut++){var on=Bt(es,Da);on===0&&(on=Number.MIN_VALUE);var xn=es/on,cr=Da/on;if(ut!==Ki&&(qn[ut-1]=on),es=xn*hn[ut]+cr*qn[ut],qn[ut]=xn*qn[ut]-cr*hn[ut],Da=cr*hn[ut+1],hn[ut+1]=xn*hn[ut+1],Tt)for(var mn=0;mn<N;mn++)on=xn*br.get(mn,ut)+cr*br.get(mn,ut+1),br.set(mn,ut+1,-cr*br.get(mn,ut)+xn*br.get(mn,ut+1)),br.set(mn,ut,on);if(on=Bt(es,Da),on===0&&(on=Number.MIN_VALUE),xn=es/on,cr=Da/on,hn[ut]=on,es=xn*qn[ut]+cr*hn[ut+1],hn[ut+1]=-cr*qn[ut]+xn*hn[ut+1],Da=cr*qn[ut+1],qn[ut+1]=xn*qn[ut+1],rt&&ut<R-1)for(var Or=0;Or<R;Or++)on=xn*bn.get(Or,ut)+cr*bn.get(Or,ut+1),bn.set(Or,ut+1,-cr*bn.get(Or,ut)+xn*bn.get(Or,ut+1)),bn.set(Or,ut,on)}qn[Ht-2]=es;break}case 4:{if(hn[Ki]<=0&&(hn[Ki]=hn[Ki]<0?-hn[Ki]:0,Tt))for(var ei=0;ei<=hs;ei++)br.set(ei,Ki,-br.get(ei,Ki));for(;Ki<hs&&!(hn[Ki]>=hn[Ki+1]);){var Ni=hn[Ki];if(hn[Ki]=hn[Ki+1],hn[Ki+1]=Ni,Tt&&Ki<N-1)for(var ki=0;ki<N;ki++)Ni=br.get(ki,Ki+1),br.set(ki,Ki+1,br.get(ki,Ki)),br.set(ki,Ki,Ni);if(rt&&Ki<R-1)for(var yo=0;yo<R;yo++)Ni=bn.get(yo,Ki+1),bn.set(yo,Ki+1,bn.get(yo,Ki)),bn.set(yo,Ki,Ni);Ki++}Ht--;break}}}if(En){var Ro=br;br=bn,bn=Ro}this.m=R,this.n=N,this.s=hn,this.U=bn,this.V=br}return re(ue,[{key:"solve",value:function(oe){for(var R=oe,N=this.threshold,G=this.s.length,ye=et.zeros(G,G),Ie=0;Ie<G;Ie++)Math.abs(this.s[Ie])<=N?ye.set(Ie,Ie,0):ye.set(Ie,Ie,1/this.s[Ie]);for(var ze=this.U,Ce=this.rightSingularVectors,ke=Ce.mmul(ye),rt=Ce.rows,Tt=ze.rows,En=et.zeros(rt,Tt),Rn=0;Rn<rt;Rn++)for(var $n=0;$n<Tt;$n++){for(var Xn=0,$t=0;$t<G;$t++)Xn+=ke.get(Rn,$t)*ze.get($n,$t);En.set(Rn,$n,Xn)}return En.mmul(R)}},{key:"solveForDiagonal",value:function(oe){return this.solve(et.diag(oe))}},{key:"inverse",value:function(){for(var oe=this.V,R=this.threshold,N=oe.rows,G=oe.columns,ye=new et(N,this.s.length),Ie=0;Ie<N;Ie++)for(var ze=0;ze<G;ze++)Math.abs(this.s[ze])>R&&ye.set(Ie,ze,oe.get(Ie,ze)/this.s[ze]);for(var Ce=this.U,ke=Ce.rows,rt=Ce.columns,Tt=new et(N,ke),En=0;En<N;En++)for(var Rn=0;Rn<ke;Rn++){for(var $n=0,Xn=0;Xn<rt;Xn++)$n+=ye.get(En,Xn)*Ce.get(Rn,Xn);Tt.set(En,Rn,$n)}return Tt}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var oe=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,R=0,N=this.s,G=0,ye=N.length;G<ye;G++)N[G]>oe&&R++;return R}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return et.diag(this.s)}}]),ue}();function Ot(ue){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ue=kr.checkMatrix(ue),De?new dn(ue).inverse():ur(ue,et.eye(ue.rows))}function ur(ue,De){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return ue=kr.checkMatrix(ue),De=kr.checkMatrix(De),oe?new dn(ue).solve(De):ue.isSquare()?new Yn(ue).solve(De):new kt(ue).solve(De)}function Mn(ue){if(ue=et.checkMatrix(ue),ue.isSquare()){if(ue.columns===0)return 1;var De,oe,R,N;if(ue.columns===2)return De=ue.get(0,0),oe=ue.get(0,1),R=ue.get(1,0),N=ue.get(1,1),De*N-oe*R;if(ue.columns===3){var G,ye,Ie;return G=new Hn(ue,[1,2],[1,2]),ye=new Hn(ue,[1,2],[0,2]),Ie=new Hn(ue,[1,2],[0,1]),De=ue.get(0,0),oe=ue.get(0,1),R=ue.get(0,2),De*Mn(G)-oe*Mn(ye)+R*Mn(Ie)}else return new Yn(ue).determinant}else throw Error("determinant can only be calculated for a square matrix")}function zr(ue,De){for(var oe=[],R=0;R<ue;R++)R!==De&&oe.push(R);return oe}function jt(ue,De,oe){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-9,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-9;if(ue>N)return new Array(De.rows+1).fill(0);for(var G=De.addRow(oe,[0]),ye=0;ye<G.rows;ye++)Math.abs(G.get(ye,0))<R&&G.set(ye,0,0);return G.to1DArray()}function gn(ue){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=De.thresholdValue,R=oe===void 0?1e-9:oe,N=De.thresholdError,G=N===void 0?1e-9:N;ue=et.checkMatrix(ue);for(var ye=ue.rows,Ie=new et(ye,ye),ze=0;ze<ye;ze++){var Ce=et.columnVector(ue.getRow(ze)),ke=ue.subMatrixRow(zr(ye,ze)).transpose(),rt=new dn(ke),Tt=rt.solve(Ce),En=et.sub(Ce,ke.mmul(Tt)).abs().max();Ie.setRow(ze,jt(En,Tt,ze,R,G))}return Ie}function Ln(ue){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.EPSILON;if(ue=et.checkMatrix(ue),ue.isEmpty())return ue.transpose();for(var oe=new dn(ue,{autoTranspose:!0}),R=oe.leftSingularVectors,N=oe.rightSingularVectors,G=oe.diagonal,ye=0;ye<G.length;ye++)Math.abs(G[ye])>De?G[ye]=1/G[ye]:G[ye]=0;return N.mmul(et.diag(G).mmul(R.transpose()))}function vt(ue){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ue,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ue=new et(ue);var R=!1;if(K(De)==="object"&&!et.isMatrix(De)&&!fe.isAnyArray(De)?(oe=De,De=ue,R=!0):De=new et(De),ue.rows!==De.rows)throw new TypeError("Both matrices must have the same number of rows");var N=oe,G=N.center,ye=G===void 0?!0:G;ye&&(ue=ue.center("column"),R||(De=De.center("column")));for(var Ie=ue.transpose().mmul(De),ze=0;ze<Ie.rows;ze++)for(var Ce=0;Ce<Ie.columns;Ce++)Ie.set(ze,Ce,Ie.get(ze,Ce)*(1/(ue.rows-1)));return Ie}function Zt(ue){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ue,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ue=new et(ue);var R=!1;if(K(De)==="object"&&!et.isMatrix(De)&&!fe.isAnyArray(De)?(oe=De,De=ue,R=!0):De=new et(De),ue.rows!==De.rows)throw new TypeError("Both matrices must have the same number of rows");var N=oe,G=N.center,ye=G===void 0?!0:G,Ie=N.scale,ze=Ie===void 0?!0:Ie;ye&&(ue.center("column"),R||De.center("column")),ze&&(ue.scale("column"),R||De.scale("column"));for(var Ce=ue.standardDeviation("column",{unbiased:!0}),ke=R?Ce:De.standardDeviation("column",{unbiased:!0}),rt=ue.transpose().mmul(De),Tt=0;Tt<rt.rows;Tt++)for(var En=0;En<rt.columns;En++)rt.set(Tt,En,rt.get(Tt,En)*(1/(Ce[Tt]*ke[En]))*(1/(ue.rows-1)));return rt}var or=function(){function ue(De){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y(this,ue);var R=oe.assumeSymmetric,N=R===void 0?!1:R;if(De=kr.checkMatrix(De),!De.isSquare())throw new Error("Matrix is not a square matrix");if(De.isEmpty())throw new Error("Matrix must be non-empty");var G=De.columns,ye=new et(G,G),Ie=new Float64Array(G),ze=new Float64Array(G),Ce=De,ke,rt,Tt=!1;if(N?Tt=!0:Tt=De.isSymmetric(),Tt){for(ke=0;ke<G;ke++)for(rt=0;rt<G;rt++)ye.set(ke,rt,Ce.get(ke,rt));ir(G,ze,Ie,ye),lr(G,ze,Ie,ye)}else{var En=new et(G,G),Rn=new Float64Array(G);for(rt=0;rt<G;rt++)for(ke=0;ke<G;ke++)En.set(ke,rt,Ce.get(ke,rt));Pr(G,En,Rn,ye),$r(G,ze,Ie,ye,En)}this.n=G,this.e=ze,this.d=Ie,this.V=ye}return re(ue,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var oe=this.n,R=this.e,N=this.d,G=new et(oe,oe),ye,Ie;for(ye=0;ye<oe;ye++){for(Ie=0;Ie<oe;Ie++)G.set(ye,Ie,0);G.set(ye,ye,N[ye]),R[ye]>0?G.set(ye,ye+1,R[ye]):R[ye]<0&&G.set(ye,ye-1,R[ye])}return G}}]),ue}();function ir(ue,De,oe,R){var N,G,ye,Ie,ze,Ce,ke,rt;for(ze=0;ze<ue;ze++)oe[ze]=R.get(ue-1,ze);for(Ie=ue-1;Ie>0;Ie--){for(rt=0,ye=0,Ce=0;Ce<Ie;Ce++)rt=rt+Math.abs(oe[Ce]);if(rt===0)for(De[Ie]=oe[Ie-1],ze=0;ze<Ie;ze++)oe[ze]=R.get(Ie-1,ze),R.set(Ie,ze,0),R.set(ze,Ie,0);else{for(Ce=0;Ce<Ie;Ce++)oe[Ce]/=rt,ye+=oe[Ce]*oe[Ce];for(N=oe[Ie-1],G=Math.sqrt(ye),N>0&&(G=-G),De[Ie]=rt*G,ye=ye-N*G,oe[Ie-1]=N-G,ze=0;ze<Ie;ze++)De[ze]=0;for(ze=0;ze<Ie;ze++){for(N=oe[ze],R.set(ze,Ie,N),G=De[ze]+R.get(ze,ze)*N,Ce=ze+1;Ce<=Ie-1;Ce++)G+=R.get(Ce,ze)*oe[Ce],De[Ce]+=R.get(Ce,ze)*N;De[ze]=G}for(N=0,ze=0;ze<Ie;ze++)De[ze]/=ye,N+=De[ze]*oe[ze];for(ke=N/(ye+ye),ze=0;ze<Ie;ze++)De[ze]-=ke*oe[ze];for(ze=0;ze<Ie;ze++){for(N=oe[ze],G=De[ze],Ce=ze;Ce<=Ie-1;Ce++)R.set(Ce,ze,R.get(Ce,ze)-(N*De[Ce]+G*oe[Ce]));oe[ze]=R.get(Ie-1,ze),R.set(Ie,ze,0)}}oe[Ie]=ye}for(Ie=0;Ie<ue-1;Ie++){if(R.set(ue-1,Ie,R.get(Ie,Ie)),R.set(Ie,Ie,1),ye=oe[Ie+1],ye!==0){for(Ce=0;Ce<=Ie;Ce++)oe[Ce]=R.get(Ce,Ie+1)/ye;for(ze=0;ze<=Ie;ze++){for(G=0,Ce=0;Ce<=Ie;Ce++)G+=R.get(Ce,Ie+1)*R.get(Ce,ze);for(Ce=0;Ce<=Ie;Ce++)R.set(Ce,ze,R.get(Ce,ze)-G*oe[Ce])}}for(Ce=0;Ce<=Ie;Ce++)R.set(Ce,Ie+1,0)}for(ze=0;ze<ue;ze++)oe[ze]=R.get(ue-1,ze),R.set(ue-1,ze,0);R.set(ue-1,ue-1,1),De[0]=0}function lr(ue,De,oe,R){var N,G,ye,Ie,ze,Ce,ke,rt,Tt,En,Rn,$n,Xn,$t,hn,bn;for(ye=1;ye<ue;ye++)De[ye-1]=De[ye];De[ue-1]=0;var br=0,qn=0,Li=Number.EPSILON;for(Ce=0;Ce<ue;Ce++){for(qn=Math.max(qn,Math.abs(oe[Ce])+Math.abs(De[Ce])),ke=Ce;ke<ue&&!(Math.abs(De[ke])<=Li*qn);)ke++;if(ke>Ce)do{for(N=oe[Ce],rt=(oe[Ce+1]-N)/(2*De[Ce]),Tt=Bt(rt,1),rt<0&&(Tt=-Tt),oe[Ce]=De[Ce]/(rt+Tt),oe[Ce+1]=De[Ce]*(rt+Tt),En=oe[Ce+1],G=N-oe[Ce],ye=Ce+2;ye<ue;ye++)oe[ye]-=G;for(br=br+G,rt=oe[ke],Rn=1,$n=Rn,Xn=Rn,$t=De[Ce+1],hn=0,bn=0,ye=ke-1;ye>=Ce;ye--)for(Xn=$n,$n=Rn,bn=hn,N=Rn*De[ye],G=Rn*rt,Tt=Bt(rt,De[ye]),De[ye+1]=hn*Tt,hn=De[ye]/Tt,Rn=rt/Tt,rt=Rn*oe[ye]-hn*N,oe[ye+1]=G+hn*(Rn*N+hn*oe[ye]),ze=0;ze<ue;ze++)G=R.get(ze,ye+1),R.set(ze,ye+1,hn*R.get(ze,ye)+Rn*G),R.set(ze,ye,Rn*R.get(ze,ye)-hn*G);rt=-hn*bn*Xn*$t*De[Ce]/En,De[Ce]=hn*rt,oe[Ce]=Rn*rt}while(Math.abs(De[Ce])>Li*qn);oe[Ce]=oe[Ce]+br,De[Ce]=0}for(ye=0;ye<ue-1;ye++){for(ze=ye,rt=oe[ye],Ie=ye+1;Ie<ue;Ie++)oe[Ie]<rt&&(ze=Ie,rt=oe[Ie]);if(ze!==ye)for(oe[ze]=oe[ye],oe[ye]=rt,Ie=0;Ie<ue;Ie++)rt=R.get(Ie,ye),R.set(Ie,ye,R.get(Ie,ze)),R.set(Ie,ze,rt)}}function Pr(ue,De,oe,R){var N=0,G=ue-1,ye,Ie,ze,Ce,ke,rt,Tt;for(rt=N+1;rt<=G-1;rt++){for(Tt=0,Ce=rt;Ce<=G;Ce++)Tt=Tt+Math.abs(De.get(Ce,rt-1));if(Tt!==0){for(ze=0,Ce=G;Ce>=rt;Ce--)oe[Ce]=De.get(Ce,rt-1)/Tt,ze+=oe[Ce]*oe[Ce];for(Ie=Math.sqrt(ze),oe[rt]>0&&(Ie=-Ie),ze=ze-oe[rt]*Ie,oe[rt]=oe[rt]-Ie,ke=rt;ke<ue;ke++){for(ye=0,Ce=G;Ce>=rt;Ce--)ye+=oe[Ce]*De.get(Ce,ke);for(ye=ye/ze,Ce=rt;Ce<=G;Ce++)De.set(Ce,ke,De.get(Ce,ke)-ye*oe[Ce])}for(Ce=0;Ce<=G;Ce++){for(ye=0,ke=G;ke>=rt;ke--)ye+=oe[ke]*De.get(Ce,ke);for(ye=ye/ze,ke=rt;ke<=G;ke++)De.set(Ce,ke,De.get(Ce,ke)-ye*oe[ke])}oe[rt]=Tt*oe[rt],De.set(rt,rt-1,Tt*Ie)}}for(Ce=0;Ce<ue;Ce++)for(ke=0;ke<ue;ke++)R.set(Ce,ke,Ce===ke?1:0);for(rt=G-1;rt>=N+1;rt--)if(De.get(rt,rt-1)!==0){for(Ce=rt+1;Ce<=G;Ce++)oe[Ce]=De.get(Ce,rt-1);for(ke=rt;ke<=G;ke++){for(Ie=0,Ce=rt;Ce<=G;Ce++)Ie+=oe[Ce]*R.get(Ce,ke);for(Ie=Ie/oe[rt]/De.get(rt,rt-1),Ce=rt;Ce<=G;Ce++)R.set(Ce,ke,R.get(Ce,ke)+Ie*oe[Ce])}}}function $r(ue,De,oe,R,N){var G=ue-1,ye=0,Ie=ue-1,ze=Number.EPSILON,Ce=0,ke=0,rt=0,Tt=0,En=0,Rn=0,$n=0,Xn=0,$t,hn,bn,br,qn,Li,$i,Bi,co,Do,Wo,hi,ua,ya,fi;for($t=0;$t<ue;$t++)for(($t<ye||$t>Ie)&&(oe[$t]=N.get($t,$t),De[$t]=0),hn=Math.max($t-1,0);hn<ue;hn++)ke=ke+Math.abs(N.get($t,hn));for(;G>=ye;){for(br=G;br>ye&&(Rn=Math.abs(N.get(br-1,br-1))+Math.abs(N.get(br,br)),Rn===0&&(Rn=ke),!(Math.abs(N.get(br,br-1))<ze*Rn));)br--;if(br===G)N.set(G,G,N.get(G,G)+Ce),oe[G]=N.get(G,G),De[G]=0,G--,Xn=0;else if(br===G-1){if($i=N.get(G,G-1)*N.get(G-1,G),rt=(N.get(G-1,G-1)-N.get(G,G))/2,Tt=rt*rt+$i,$n=Math.sqrt(Math.abs(Tt)),N.set(G,G,N.get(G,G)+Ce),N.set(G-1,G-1,N.get(G-1,G-1)+Ce),Bi=N.get(G,G),Tt>=0){for($n=rt>=0?rt+$n:rt-$n,oe[G-1]=Bi+$n,oe[G]=oe[G-1],$n!==0&&(oe[G]=Bi-$i/$n),De[G-1]=0,De[G]=0,Bi=N.get(G,G-1),Rn=Math.abs(Bi)+Math.abs($n),rt=Bi/Rn,Tt=$n/Rn,En=Math.sqrt(rt*rt+Tt*Tt),rt=rt/En,Tt=Tt/En,hn=G-1;hn<ue;hn++)$n=N.get(G-1,hn),N.set(G-1,hn,Tt*$n+rt*N.get(G,hn)),N.set(G,hn,Tt*N.get(G,hn)-rt*$n);for($t=0;$t<=G;$t++)$n=N.get($t,G-1),N.set($t,G-1,Tt*$n+rt*N.get($t,G)),N.set($t,G,Tt*N.get($t,G)-rt*$n);for($t=ye;$t<=Ie;$t++)$n=R.get($t,G-1),R.set($t,G-1,Tt*$n+rt*R.get($t,G)),R.set($t,G,Tt*R.get($t,G)-rt*$n)}else oe[G-1]=Bi+rt,oe[G]=Bi+rt,De[G-1]=$n,De[G]=-$n;G=G-2,Xn=0}else{if(Bi=N.get(G,G),co=0,$i=0,br<G&&(co=N.get(G-1,G-1),$i=N.get(G,G-1)*N.get(G-1,G)),Xn===10){for(Ce+=Bi,$t=ye;$t<=G;$t++)N.set($t,$t,N.get($t,$t)-Bi);Rn=Math.abs(N.get(G,G-1))+Math.abs(N.get(G-1,G-2)),Bi=co=.75*Rn,$i=-.4375*Rn*Rn}if(Xn===30&&(Rn=(co-Bi)/2,Rn=Rn*Rn+$i,Rn>0)){for(Rn=Math.sqrt(Rn),co<Bi&&(Rn=-Rn),Rn=Bi-$i/((co-Bi)/2+Rn),$t=ye;$t<=G;$t++)N.set($t,$t,N.get($t,$t)-Rn);Ce+=Rn,Bi=co=$i=.964}for(Xn=Xn+1,qn=G-2;qn>=br&&($n=N.get(qn,qn),En=Bi-$n,Rn=co-$n,rt=(En*Rn-$i)/N.get(qn+1,qn)+N.get(qn,qn+1),Tt=N.get(qn+1,qn+1)-$n-En-Rn,En=N.get(qn+2,qn+1),Rn=Math.abs(rt)+Math.abs(Tt)+Math.abs(En),rt=rt/Rn,Tt=Tt/Rn,En=En/Rn,!(qn===br||Math.abs(N.get(qn,qn-1))*(Math.abs(Tt)+Math.abs(En))<ze*(Math.abs(rt)*(Math.abs(N.get(qn-1,qn-1))+Math.abs($n)+Math.abs(N.get(qn+1,qn+1))))));)qn--;for($t=qn+2;$t<=G;$t++)N.set($t,$t-2,0),$t>qn+2&&N.set($t,$t-3,0);for(bn=qn;bn<=G-1&&(ya=bn!==G-1,bn!==qn&&(rt=N.get(bn,bn-1),Tt=N.get(bn+1,bn-1),En=ya?N.get(bn+2,bn-1):0,Bi=Math.abs(rt)+Math.abs(Tt)+Math.abs(En),Bi!==0&&(rt=rt/Bi,Tt=Tt/Bi,En=En/Bi)),Bi!==0);bn++)if(Rn=Math.sqrt(rt*rt+Tt*Tt+En*En),rt<0&&(Rn=-Rn),Rn!==0){for(bn!==qn?N.set(bn,bn-1,-Rn*Bi):br!==qn&&N.set(bn,bn-1,-N.get(bn,bn-1)),rt=rt+Rn,Bi=rt/Rn,co=Tt/Rn,$n=En/Rn,Tt=Tt/rt,En=En/rt,hn=bn;hn<ue;hn++)rt=N.get(bn,hn)+Tt*N.get(bn+1,hn),ya&&(rt=rt+En*N.get(bn+2,hn),N.set(bn+2,hn,N.get(bn+2,hn)-rt*$n)),N.set(bn,hn,N.get(bn,hn)-rt*Bi),N.set(bn+1,hn,N.get(bn+1,hn)-rt*co);for($t=0;$t<=Math.min(G,bn+3);$t++)rt=Bi*N.get($t,bn)+co*N.get($t,bn+1),ya&&(rt=rt+$n*N.get($t,bn+2),N.set($t,bn+2,N.get($t,bn+2)-rt*En)),N.set($t,bn,N.get($t,bn)-rt),N.set($t,bn+1,N.get($t,bn+1)-rt*Tt);for($t=ye;$t<=Ie;$t++)rt=Bi*R.get($t,bn)+co*R.get($t,bn+1),ya&&(rt=rt+$n*R.get($t,bn+2),R.set($t,bn+2,R.get($t,bn+2)-rt*En)),R.set($t,bn,R.get($t,bn)-rt),R.set($t,bn+1,R.get($t,bn+1)-rt*Tt)}}}if(ke!==0){for(G=ue-1;G>=0;G--)if(rt=oe[G],Tt=De[G],Tt===0)for(br=G,N.set(G,G,1),$t=G-1;$t>=0;$t--){for($i=N.get($t,$t)-rt,En=0,hn=br;hn<=G;hn++)En=En+N.get($t,hn)*N.get(hn,G);if(De[$t]<0)$n=$i,Rn=En;else if(br=$t,De[$t]===0?N.set($t,G,$i!==0?-En/$i:-En/(ze*ke)):(Bi=N.get($t,$t+1),co=N.get($t+1,$t),Tt=(oe[$t]-rt)*(oe[$t]-rt)+De[$t]*De[$t],Li=(Bi*Rn-$n*En)/Tt,N.set($t,G,Li),N.set($t+1,G,Math.abs(Bi)>Math.abs($n)?(-En-$i*Li)/Bi:(-Rn-co*Li)/$n)),Li=Math.abs(N.get($t,G)),ze*Li*Li>1)for(hn=$t;hn<=G;hn++)N.set(hn,G,N.get(hn,G)/Li)}else if(Tt<0)for(br=G-1,Math.abs(N.get(G,G-1))>Math.abs(N.get(G-1,G))?(N.set(G-1,G-1,Tt/N.get(G,G-1)),N.set(G-1,G,-(N.get(G,G)-rt)/N.get(G,G-1))):(fi=dr(0,-N.get(G-1,G),N.get(G-1,G-1)-rt,Tt),N.set(G-1,G-1,fi[0]),N.set(G-1,G,fi[1])),N.set(G,G-1,0),N.set(G,G,1),$t=G-2;$t>=0;$t--){for(Do=0,Wo=0,hn=br;hn<=G;hn++)Do=Do+N.get($t,hn)*N.get(hn,G-1),Wo=Wo+N.get($t,hn)*N.get(hn,G);if($i=N.get($t,$t)-rt,De[$t]<0)$n=$i,En=Do,Rn=Wo;else if(br=$t,De[$t]===0?(fi=dr(-Do,-Wo,$i,Tt),N.set($t,G-1,fi[0]),N.set($t,G,fi[1])):(Bi=N.get($t,$t+1),co=N.get($t+1,$t),hi=(oe[$t]-rt)*(oe[$t]-rt)+De[$t]*De[$t]-Tt*Tt,ua=(oe[$t]-rt)*2*Tt,hi===0&&ua===0&&(hi=ze*ke*(Math.abs($i)+Math.abs(Tt)+Math.abs(Bi)+Math.abs(co)+Math.abs($n))),fi=dr(Bi*En-$n*Do+Tt*Wo,Bi*Rn-$n*Wo-Tt*Do,hi,ua),N.set($t,G-1,fi[0]),N.set($t,G,fi[1]),Math.abs(Bi)>Math.abs($n)+Math.abs(Tt)?(N.set($t+1,G-1,(-Do-$i*N.get($t,G-1)+Tt*N.get($t,G))/Bi),N.set($t+1,G,(-Wo-$i*N.get($t,G)-Tt*N.get($t,G-1))/Bi)):(fi=dr(-En-co*N.get($t,G-1),-Rn-co*N.get($t,G),$n,Tt),N.set($t+1,G-1,fi[0]),N.set($t+1,G,fi[1]))),Li=Math.max(Math.abs(N.get($t,G-1)),Math.abs(N.get($t,G))),ze*Li*Li>1)for(hn=$t;hn<=G;hn++)N.set(hn,G-1,N.get(hn,G-1)/Li),N.set(hn,G,N.get(hn,G)/Li)}for($t=0;$t<ue;$t++)if($t<ye||$t>Ie)for(hn=$t;hn<ue;hn++)R.set($t,hn,N.get($t,hn));for(hn=ue-1;hn>=ye;hn--)for($t=ye;$t<=Ie;$t++){for($n=0,bn=ye;bn<=Math.min(hn,Ie);bn++)$n=$n+R.get($t,bn)*N.get(bn,hn);R.set($t,hn,$n)}}}function dr(ue,De,oe,R){var N,G;return Math.abs(oe)>Math.abs(R)?(N=R/oe,G=oe+N*R,[(ue+N*De)/G,(De-N*ue)/G]):(N=oe/R,G=R+N*oe,[(N*ue+De)/G,(N*De-ue)/G])}var ni=function(){function ue(De){if(Y(this,ue),De=kr.checkMatrix(De),!De.isSymmetric())throw new Error("Matrix is not symmetric");var oe=De,R=oe.rows,N=new et(R,R),G=!0,ye,Ie,ze;for(Ie=0;Ie<R;Ie++){var Ce=0;for(ze=0;ze<Ie;ze++){var ke=0;for(ye=0;ye<ze;ye++)ke+=N.get(ze,ye)*N.get(Ie,ye);ke=(oe.get(Ie,ze)-ke)/N.get(ze,ze),N.set(Ie,ze,ke),Ce=Ce+ke*ke}for(Ce=oe.get(Ie,Ie)-Ce,G&=Ce>0,N.set(Ie,Ie,Math.sqrt(Math.max(Ce,0))),ze=Ie+1;ze<R;ze++)N.set(Ie,ze,0)}this.L=N,this.positiveDefinite=!!G}return re(ue,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(oe){oe=kr.checkMatrix(oe);var R=this.L,N=R.rows;if(oe.rows!==N)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");var G=oe.columns,ye=oe.clone(),Ie,ze,Ce;for(Ce=0;Ce<N;Ce++)for(ze=0;ze<G;ze++){for(Ie=0;Ie<Ce;Ie++)ye.set(Ce,ze,ye.get(Ce,ze)-ye.get(Ie,ze)*R.get(Ce,Ie));ye.set(Ce,ze,ye.get(Ce,ze)/R.get(Ce,Ce))}for(Ce=N-1;Ce>=0;Ce--)for(ze=0;ze<G;ze++){for(Ie=Ce+1;Ie<N;Ie++)ye.set(Ce,ze,ye.get(Ce,ze)-ye.get(Ie,ze)*R.get(Ie,Ce));ye.set(Ce,ze,ye.get(Ce,ze)/R.get(Ce,Ce))}return ye}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),ue}(),un=re(function ue(De){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y(this,ue),De=kr.checkMatrix(De);var R=oe.Y,N=oe.scaleScores,G=N===void 0?!1:N,ye=oe.maxIterations,Ie=ye===void 0?1e3:ye,ze=oe.terminationCriteria,Ce=ze===void 0?1e-10:ze,ke;if(R){if(fe.isAnyArray(R)&&typeof R[0]=="number"?R=et.columnVector(R):R=kr.checkMatrix(R),R.rows!==De.rows)throw new Error("Y should have the same number of rows as X");ke=R.getColumnVector(0)}else ke=De.getColumnVector(0);for(var rt=1,Tt,En,Rn,$n,Xn=0;Xn<Ie&&rt>Ce;Xn++)Rn=De.transpose().mmul(ke).div(ke.transpose().mmul(ke).get(0,0)),Rn=Rn.div(Rn.norm()),Tt=De.mmul(Rn).div(Rn.transpose().mmul(Rn).get(0,0)),Xn>0&&(rt=Tt.clone().sub($n).pow(2).sum()),$n=Tt.clone(),R?(En=R.transpose().mmul(Tt).div(Tt.transpose().mmul(Tt).get(0,0)),En=En.div(En.norm()),ke=R.mmul(En).div(En.transpose().mmul(En).get(0,0))):ke=Tt;if(R){var $t=De.transpose().mmul(Tt).div(Tt.transpose().mmul(Tt).get(0,0));$t=$t.div($t.norm());var hn=De.clone().sub(Tt.clone().mmul($t.transpose())),bn=ke.transpose().mmul(Tt).div(Tt.transpose().mmul(Tt).get(0,0)),br=R.clone().sub(Tt.clone().mulS(bn.get(0,0)).mmul(En.transpose()));this.t=Tt,this.p=$t.transpose(),this.w=Rn.transpose(),this.q=En,this.u=ke,this.s=Tt.transpose().mmul(Tt),this.xResidual=hn,this.yResidual=br,this.betas=bn}else this.w=Rn.transpose(),this.s=Tt.transpose().mmul(Tt).sqrt(),G?this.t=Tt.clone().div(this.s.get(0,0)):this.t=Tt,this.xResidual=De.sub(Tt.mmul(Rn.transpose()))});M.XA=it,M.a_=ni,M.yQ=ni,M.Hs=Vt,M.Ec=or,M.dx=or,M.LU=Yn,M.Rm=Yn,M.y3=et,M.qK=pr,M.pb=Wn,M.j=Cr,M.sO=Sn,M.BZ=Fn,M.EK=Cn,M.Db=Hn,M.Fx=sr,M.tU=ti,M.Ym=un,M.rs=un,M.QR=kt,M.TB=kt,M.oH=dn,M.Sc=dn,M.BN=Et,M.it=Ir,M.$r=kr,M.QM=Zt,M.AV=vt,v=et,M.GH=Mn,M.SO=Ot,M.uZ=gn,M.yU=Ln,M.F1=ur,M.re=di},62145:function(){"use strict"},43146:function(){"use strict"},49469:function(j,M){"use strict";var l;l={value:!0};var v;(function(he){he.TextureCompressionBC="texture-compression-bc"})(v=M.UX||(M.UX={}));var d;(function(he){he.ClampToEdge="clamp-to-edge",he.Repeat="repeat",he.MirrorRepeat="mirror-repeat"})(d=M.OB||(M.OB={}));var m;(function(he){he.UniformBuffer="uniform-buffer",he.StorageBuffer="storage-buffer",he.ReadonlyStorageBuffer="readonly-storage-buffer",he.Sampler="sampler",he.ComparisonSampler="comparison-sampler",he.SampledTexture="sampled-texture",he.ReadonlyStorageTexture="readonly-storage-texture",he.WriteonlyStorageTexture="writeonly-storage-texture"})(m=M.$l||(M.$l={}));var g;(function(he){he.Zero="zero",he.One="one",he.SrcColor="src-color",he.OneMinusSrcColor="one-minus-src-color",he.SrcAlpha="src-alpha",he.OneMinusSrcAlpha="one-minus-src-alpha",he.DstColor="dst-color",he.OneMinusDstColor="one-minus-dst-color",he.DstAlpha="dst-alpha",he.OneMinusDstAlpha="one-minus-dst-alpha",he.SrcAlphaSaturated="src-alpha-saturated",he.BlendColor="blend-color",he.OneMinusBlendColor="one-minus-blend-color"})(g=M.zi||(M.zi={}));var x;(function(he){he.Add="add",he.Subtract="subtract",he.ReverseSubtract="reverse-subtract",he.Min="min",he.Max="max"})(x=M.db||(M.db={}));var A;(function(he){he.Never="never",he.Less="less",he.Equal="equal",he.LessEqual="less-equal",he.Greater="greater",he.NotEqual="not-equal",he.GreaterEqual="greater-equal",he.Always="always"})(A=M.wb||(M.wb={}));var E;(function(he){he.None="none",he.Front="front",he.Back="back"})(E=M.Wf||(M.Wf={}));var w;(function(he){he.Nearest="nearest",he.Linear="linear"})(w=M.X9||(M.X9={}));var k;(function(he){he.CCW="ccw",he.CW="cw"})(k=M.zX||(M.zX={}));var Z;(function(he){he.Uint16="uint16",he.Uint32="uint32"})(Z=M.iD||(M.iD={}));var U;(function(he){he.Vertex="vertex",he.Instance="instance"})(U=M.V||(M.V={}));var $;(function(he){he.Load="load"})($=M.Ws||(M.Ws={}));var te;(function(he){he.PointList="point-list",he.LineList="line-list",he.LineStrip="line-strip",he.TriangleList="triangle-list",he.TriangleStrip="triangle-strip"})(te=M.YV||(M.YV={}));var Q;(function(he){he.Keep="keep",he.Zero="zero",he.Replace="replace",he.Invert="invert",he.IncrementClamp="increment-clamp",he.DecrementClamp="decrement-clamp",he.IncrementWrap="increment-wrap",he.DecrementWrap="decrement-wrap"})(Q=M.xS||(M.xS={}));var J;(function(he){he.Store="store",he.Clear="clear"})(J=M.EG||(M.EG={}));var K;(function(he){he.E1d="1d",he.E2d="2d",he.E3d="3d"})(K=M.kd||(M.kd={}));var Y;(function(he){he.R8Unorm="r8unorm",he.R8Snorm="r8snorm",he.R8Uint="r8uint",he.R8Sint="r8sint",he.R16Uint="r16uint",he.R16Sint="r16sint",he.R16Float="r16float",he.RG8Unorm="rg8unorm",he.RG8Snorm="rg8snorm",he.RG8Uint="rg8uint",he.RG8Sint="rg8sint",he.R32Uint="r32uint",he.R32Sint="r32sint",he.R32Float="r32float",he.RG16Uint="rg16uint",he.RG16Sint="rg16sint",he.RG16Float="rg16float",he.RGBA8Unorm="rgba8unorm",he.RGBA8UnormSRGB="rgba8unorm-srgb",he.RGBA8Snorm="rgba8snorm",he.RGBA8Uint="rgba8uint",he.RGBA8Sint="rgba8sint",he.BGRA8Unorm="bgra8unorm",he.BGRA8UnormSRGB="bgra8unorm-srgb",he.RGB10A2Unorm="rgb10a2unorm",he.RG11B10Float="rg11b10float",he.RG32Uint="rg32uint",he.RG32Sint="rg32sint",he.RG32Float="rg32float",he.RGBA16Uint="rgba16uint",he.RGBA16Sint="rgba16sint",he.RGBA16Float="rgba16float",he.RGBA32Uint="rgba32uint",he.RGBA32Sint="rgba32sint",he.RGBA32Float="rgba32float",he.Depth32Float="depth32float",he.Depth24Plus="depth24plus",he.Depth24PlusStencil8="depth24plus-stencil8"})(Y=M.EV||(M.EV={}));var re;(function(he){he.Float="float",he.Sint="sint",he.Uint="uint"})(re=M.Ek||(M.Ek={}));var fe;(function(he){he.E1d="1d",he.E2d="2d",he.E2dArray="2d-array",he.Cube="cube",he.CubeArray="cube-array",he.E3d="3d"})(fe=M.p_||(M.p_={}));var le;(function(he){he.Uchar2="uchar2",he.Uchar4="uchar4",he.Char2="char2",he.Char4="char4",he.Uchar2Norm="uchar2norm",he.Uchar4Norm="uchar4norm",he.Char2Norm="char2norm",he.Char4Norm="char4norm",he.Ushort2="ushort2",he.Ushort4="ushort4",he.Short2="short2",he.Short4="short4",he.Ushort2Norm="ushort2norm",he.Ushort4Norm="ushort4norm",he.Short2Norm="short2norm",he.Short4Norm="short4norm",he.Half2="half2",he.Half4="half4",he.Float="float",he.Float2="float2",he.Float3="float3",he.Float4="float4",he.Uint="uint",he.Uint2="uint2",he.Uint3="uint3",he.Uint4="uint4",he.Int="int",he.Int2="int2",he.Int3="int3",he.Int4="int4"})(le=M.gB||(M.gB={}));var ie;(function(he){he.All="all",he.StencilOnly="stencil-only",he.DepthOnly="depth-only"})(ie=M.H7||(M.H7={}));var ve;(function(he){he.Error="error",he.Warning="warning",he.Info="info"})(ve=M.mj||(M.mj={}));var Oe;(function(he){he.Occlusion="occlusion"})(Oe=M.xL||(M.xL={}));var L;(function(he){he[he.MapRead=1]="MapRead",he[he.MapWrite=2]="MapWrite",he[he.CopySrc=4]="CopySrc",he[he.CopyDst=8]="CopyDst",he[he.Index=16]="Index",he[he.Vertex=32]="Vertex",he[he.Uniform=64]="Uniform",he[he.Storage=128]="Storage",he[he.Indirect=256]="Indirect",he[he.QueryResolve=512]="QueryResolve"})(L=M.FB||(M.FB={}));var Pe;(function(he){he[he.Red=1]="Red",he[he.Green=2]="Green",he[he.Blue=4]="Blue",he[he.Alpha=8]="Alpha",he[he.All=15]="All"})(Pe=M.Yw||(M.Yw={}));var pe;(function(he){he[he.Vertex=1]="Vertex",he[he.Fragment=2]="Fragment",he[he.Compute=4]="Compute"})(pe=M.$X||(M.$X={}));var Be;(function(he){he[he.CopySrc=1]="CopySrc",he[he.CopyDst=2]="CopyDst",he[he.Sampled=4]="Sampled",he[he.Storage=8]="Storage",he[he.OutputAttachment=16]="OutputAttachment"})(Be=M.v2||(M.v2={}));var je;(function(he){he[he.Read=1]="Read",he[he.Write=2]="Write"})(je=M.gc||(M.gc={}))},2093:function(j,M,l){"use strict";var v=l(97582),d=l(67294),m=l(92770);function g(A){return(0,m.mf)(A[Symbol.asyncIterator])}function x(A,E){(0,d.useEffect)(function(){var w=A(),k=!1;function Z(){return(0,v.mG)(this,void 0,void 0,function(){var U;return(0,v.Jh)(this,function($){switch($.label){case 0:if(!g(w))return[3,4];$.label=1;case 1:return[4,w.next()];case 2:return U=$.sent(),U.done||k?[3,3]:[3,1];case 3:return[3,6];case 4:return[4,w];case 5:$.sent(),$.label=6;case 6:return[2]}})})}return Z(),function(){k=!0}},E)}M.Z=x},93812:function(j,M,l){"use strict";l.d(M,{Z:function(){return g}});var v=l(67294),d=l(70202),m=function(x){return function(A,E){var w=(0,v.useRef)(),k=(0,v.useRef)(0);(E===void 0||!(0,d.k)(E,w.current))&&(k.current+=1),w.current=E,x(A,[k.current])}},g=m(v.useEffect)},13118:function(j,M,l){"use strict";var v=l(97582),d=l(67294),m=l(83204),g=l(52982),x=function(){return g.Z?document.visibilityState:"visible"};function A(){var E=(0,v.CR)((0,d.useState)(x),2),w=E[0],k=E[1];return(0,m.Z)("visibilitychange",function(){k(x())},{target:function(){return document}}),w}M.Z=A},65868:function(j,M,l){"use strict";l.d(M,{Z:function(){return le}});var v=l(97582),d=l(3930),m=l(92770),g=l(48002),x=l(67294),A=l(77967),E=l(70202),w=function(ie,ve,Oe){var L=(0,x.useRef)(),Pe=(0,x.useRef)(0);(0,E.k)(ve,L.current)||(Pe.current+=1),L.current=ve,(0,A.Z)(ie,[Pe.current],Oe)},k=w,Z=/(mac|iphone|ipod|ipad)/i.test(typeof navigator!="undefined"?navigator==null?void 0:navigator.platform:""),U=Z,$={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pausebreak:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftwindowkey:91,rightwindowkey:92,meta:U?[91,93]:[91,92],selectkey:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalpoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,semicolon:186,equalsign:187,comma:188,dash:189,period:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},te={ctrl:function(ie){return ie.ctrlKey},shift:function(ie){return ie.shiftKey},alt:function(ie){return ie.altKey},meta:function(ie){return ie.type==="keyup"?$.meta.includes(ie.keyCode):ie.metaKey}};function Q(ie){return(0,m.HD)(ie)||(0,m.hj)(ie)}function J(ie){var ve=Object.keys(te).reduce(function(Oe,L){return te[L](ie)?Oe+1:Oe},0);return[16,17,18,91,92].includes(ie.keyCode)?ve:ve+1}function K(ie,ve,Oe){var L,Pe;if(!ie.key)return!1;if((0,m.hj)(ve))return ie.keyCode===ve?ve:!1;var pe=ve.split("."),Be=0;try{for(var je=(0,v.XA)(pe),he=je.next();!he.done;he=je.next()){var st=he.value,en=te[st],vn=$[st.toLowerCase()];(en&&en(ie)||vn&&vn===ie.keyCode)&&Be++}}catch(Mt){L={error:Mt}}finally{try{he&&!he.done&&(Pe=je.return)&&Pe.call(je)}finally{if(L)throw L.error}}return Oe?Be===pe.length&&J(ie)===pe.length?ve:!1:Be===pe.length?ve:!1}function Y(ie,ve){return(0,m.mf)(ie)?ie:Q(ie)?function(Oe){return K(Oe,ie,ve)}:Array.isArray(ie)?function(Oe){return ie.find(function(L){return K(Oe,L,ve)})}:function(){return!!ie}}var re=["keydown"];function fe(ie,ve,Oe){var L=Oe||{},Pe=L.events,pe=Pe===void 0?re:Pe,Be=L.target,je=L.exactMatch,he=je===void 0?!1:je,st=L.useCapture,en=st===void 0?!1:st,vn=(0,d.Z)(ve),Mt=(0,d.Z)(ie);k(function(){var It,Ve,Me,Qe=(0,g.n)(Be,window);if(Qe){var bt=function(Ne){var Re,ht=Y(Mt.current,he),Wt=ht(Ne),Yt=Q(Wt)?Wt:Ne.key;if(Wt)return(Re=vn.current)===null||Re===void 0?void 0:Re.call(vn,Ne,Yt)};try{for(var Ge=(0,v.XA)(pe),Ae=Ge.next();!Ae.done;Ae=Ge.next()){var be=Ae.value;(Me=Qe==null?void 0:Qe.addEventListener)===null||Me===void 0||Me.call(Qe,be,bt,en)}}catch(Ne){It={error:Ne}}finally{try{Ae&&!Ae.done&&(Ve=Ge.return)&&Ve.call(Ge)}finally{if(It)throw It.error}}return function(){var Ne,Re,ht;try{for(var Wt=(0,v.XA)(pe),Yt=Wt.next();!Yt.done;Yt=Wt.next()){var Lt=Yt.value;(ht=Qe==null?void 0:Qe.removeEventListener)===null||ht===void 0||ht.call(Qe,Lt,bt,en)}}catch(Dt){Ne={error:Dt}}finally{try{Yt&&!Yt.done&&(Re=Wt.return)&&Re.call(Wt)}finally{if(Ne)throw Ne.error}}}}},[pe],Be)}var le=fe},96522:function(j,M,l){"use strict";var v=l(67294),d=l(3930),m=l(48002),g=l(52982),x=l(77967),A=g.Z&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch);function E(w,k,Z){var U=Z===void 0?{}:Z,$=U.delay,te=$===void 0?300:$,Q=U.moveThreshold,J=U.onClick,K=U.onLongPressEnd,Y=(0,d.Z)(w),re=(0,d.Z)(J),fe=(0,d.Z)(K),le=(0,v.useRef)(),ie=(0,v.useRef)(!1),ve=(0,v.useRef)({x:0,y:0}),Oe=!!(Q!=null&&Q.x&&Q.x>0||Q!=null&&Q.y&&Q.y>0);(0,x.Z)(function(){var L=(0,m.n)(k);if(!(L!=null&&L.addEventListener))return;var Pe=function(en){var vn=pe(en),Mt=vn.clientX,It=vn.clientY,Ve=Math.abs(Mt-ve.current.x),Me=Math.abs(It-ve.current.y);return!!(Q!=null&&Q.x&&Ve>Q.x||Q!=null&&Q.y&&Me>Q.y)};function pe(en){return"TouchEvent"in window&&en instanceof TouchEvent?{clientX:en.touches[0].clientX,clientY:en.touches[0].clientY}:en instanceof MouseEvent?{clientX:en.clientX,clientY:en.clientY}:(console.warn("Unsupported event type"),{clientX:0,clientY:0})}var Be=function(en){if(Oe){var vn=pe(en),Mt=vn.clientX,It=vn.clientY;ve.current.x=Mt,ve.current.y=It}le.current=setTimeout(function(){Y.current(en),ie.current=!0},te)},je=function(en){le.current&&Pe(en)&&(clearTimeout(le.current),le.current=void 0)},he=function(en,vn){var Mt;vn===void 0&&(vn=!1),le.current&&clearTimeout(le.current),ie.current&&((Mt=fe.current)===null||Mt===void 0||Mt.call(fe,en)),vn&&!ie.current&&re.current&&re.current(en),ie.current=!1},st=function(en){return he(en,!0)};return A?(L.addEventListener("touchstart",Be),L.addEventListener("touchend",st),Oe&&L.addEventListener("touchmove",je)):(L.addEventListener("mousedown",Be),L.addEventListener("mouseup",st),L.addEventListener("mouseleave",he),Oe&&L.addEventListener("mousemove",je)),function(){le.current&&(clearTimeout(le.current),ie.current=!1),A?(L.removeEventListener("touchstart",Be),L.removeEventListener("touchend",st),Oe&&L.removeEventListener("touchmove",je)):(L.removeEventListener("mousedown",Be),L.removeEventListener("mouseup",st),L.removeEventListener("mouseleave",he),Oe&&L.removeEventListener("mousemove",je))}},[],k)}M.Z=E},70202:function(j,M,l){"use strict";l.d(M,{k:function(){return m}});var v=l(69590),d=l.n(v),m=function(g,x){return g===void 0&&(g=[]),x===void 0&&(x=[]),d()(g,x)}},98787:function(j,M,l){"use strict";l.d(M,{E:function(){return d},Y:function(){return m}});var v=l(93355),d=(0,v.b)("success","processing","error","default","warning"),m=(0,v.b)("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")},98082:function(j,M,l){"use strict";var v=l(97685),d=l(67294),m=l(31808);M.Z=function(){var g=d.useState(!1),x=(0,v.Z)(g,2),A=x[0],E=x[1];return d.useEffect(function(){E((0,m.fk)())},[]),A}},33603:function(j,M,l){"use strict";l.d(M,{mL:function(){return k},q0:function(){return w}});var v=l(93355),d=function(){return{height:0,opacity:0}},m=function(U){var $=U.scrollHeight;return{height:$,opacity:1}},g=function(U){return{height:U?U.offsetHeight:0}},x=function(U,$){return($==null?void 0:$.deadline)===!0||$.propertyName==="height"},A={motionName:"ant-motion-collapse",onAppearStart:d,onEnterStart:d,onAppearActive:m,onEnterActive:m,onLeaveStart:g,onLeaveActive:d,onAppearEnd:x,onEnterEnd:x,onLeaveEnd:x,motionDeadline:500},E=(0,v.b)("bottomLeft","bottomRight","topLeft","topRight"),w=function(U){return U!==void 0&&(U==="topLeft"||U==="topRight")?"slide-down":"slide-up"},k=function(U,$,te){return te!==void 0?te:"".concat(U,"-").concat($)};M.ZP=A},96159:function(j,M,l){"use strict";l.d(M,{M2:function(){return m},Tm:function(){return x},l$:function(){return d}});var v=l(67294),d=v.isValidElement;function m(A){return A&&d(A)&&A.type===v.Fragment}function g(A,E,w){return d(A)?v.cloneElement(A,typeof w=="function"?w(A.props||{}):w):E}function x(A,E){return g(A,A,E)}},24308:function(j,M,l){"use strict";l.d(M,{c4:function(){return m}});var v=l(4942),d=l(87462),m=["xxl","xl","lg","md","sm","xs"],g={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},x=new Map,A=-1,E={},w={matchHandlers:{},dispatch:function(Z){return E=Z,x.forEach(function(U){return U(E)}),x.size>=1},subscribe:function(Z){return x.size||this.register(),A+=1,x.set(A,Z),Z(E),A},unsubscribe:function(Z){x.delete(Z),x.size||this.unregister()},unregister:function(){var Z=this;Object.keys(g).forEach(function(U){var $=g[U],te=Z.matchHandlers[$];te==null||te.mql.removeListener(te==null?void 0:te.listener)}),x.clear()},register:function(){var Z=this;Object.keys(g).forEach(function(U){var $=g[U],te=function(K){var Y=K.matches;Z.dispatch((0,d.Z)((0,d.Z)({},E),(0,v.Z)({},U,Y)))},Q=window.matchMedia($);Q.addListener(te),Z.matchHandlers[$]={mql:Q,listener:te},te(Q)})}};M.ZP=w},9708:function(j,M,l){"use strict";l.d(M,{F:function(){return E},Z:function(){return A}});var v=l(4942),d=l(93967),m=l.n(d),g=l(93355),x=(0,g.b)("warning","error","");function A(w,k,Z){return m()((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)({},"".concat(w,"-status-success"),k==="success"),"".concat(w,"-status-warning"),k==="warning"),"".concat(w,"-status-error"),k==="error"),"".concat(w,"-status-validating"),k==="validating"),"".concat(w,"-has-feedback"),Z))}var E=function(k,Z){return Z||k}},31808:function(j,M,l){"use strict";l.d(M,{fk:function(){return g},jD:function(){return d}});var v=l(98924),d=function(){return(0,v.Z)()&&window.document.documentElement},m,g=function(){if(!d())return!1;if(m!==void 0)return m;var A=document.createElement("div");return A.style.display="flex",A.style.flexDirection="column",A.style.rowGap="1px",A.appendChild(document.createElement("div")),A.appendChild(document.createElement("div")),document.body.appendChild(A),m=A.scrollHeight===1,document.body.removeChild(A),m}},93355:function(j,M,l){"use strict";l.d(M,{a:function(){return d},b:function(){return v}});var v=function(){for(var g=arguments.length,x=new Array(g),A=0;A<g;A++)x[A]=arguments[A];return x},d=function(){for(var g=arguments.length,x=new Array(g),A=0;A<g;A++)x[A]=arguments[A];return x}},68349:function(j,M,l){"use strict";l.d(M,{Z:function(){return Oe}});var v=l(15671),d=l(43144),m=l(82963),g=l(78814),x=l(61120),A=l(97326),E=l(32531),w=l(44958),k=l(42550),Z=l(67294),U=l(53124),$=l(75164),te=0,Q={};function J(L){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,pe=te++,Be=Pe;function je(){Be-=1,Be<=0?(L(),delete Q[pe]):Q[pe]=(0,$.Z)(je)}return Q[pe]=(0,$.Z)(je),pe}J.cancel=function(Pe){Pe!==void 0&&($.Z.cancel(Q[Pe]),delete Q[Pe])},J.ids=Q;var K=l(96159);function Y(L,Pe,pe){return Pe=(0,x.Z)(Pe),(0,m.Z)(L,(0,g.Z)()?Reflect.construct(Pe,pe||[],(0,x.Z)(L).constructor):Pe.apply(L,pe))}var re;function fe(L){return!L||L.offsetParent===null||L.hidden}function le(L){return L instanceof Document?L.body:Array.from(L.childNodes).find(function(Pe){return(Pe==null?void 0:Pe.nodeType)===Node.ELEMENT_NODE})}function ie(L){var Pe=(L||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return Pe&&Pe[1]&&Pe[2]&&Pe[3]?!(Pe[1]===Pe[2]&&Pe[2]===Pe[3]):!0}var ve=function(L){(0,E.Z)(Pe,L);function Pe(){var pe;return(0,v.Z)(this,Pe),pe=Y(this,Pe,arguments),pe.containerRef=Z.createRef(),pe.animationStart=!1,pe.destroyed=!1,pe.onClick=function(Be,je){var he,st,en=pe.props,vn=en.insertExtraNode,Mt=en.disabled;if(!(Mt||!Be||fe(Be)||Be.className.includes("-leave"))){pe.extraNode=document.createElement("div");var It=(0,A.Z)(pe),Ve=It.extraNode,Me=pe.context.getPrefixCls;Ve.className="".concat(Me(""),"-click-animating-node");var Qe=pe.getAttributeName();if(Be.setAttribute(Qe,"true"),je&&je!=="#fff"&&je!=="#ffffff"&&je!=="rgb(255, 255, 255)"&&je!=="rgba(255, 255, 255, 1)"&&ie(je)&&!/rgba\((?:\d*, ){3}0\)/.test(je)&&je!=="transparent"){Ve.style.borderColor=je;var bt=((he=Be.getRootNode)===null||he===void 0?void 0:he.call(Be))||Be.ownerDocument,Ge=(st=le(bt))!==null&&st!==void 0?st:bt;re=(0,w.hq)(`
      [`.concat(Me(""),"-click-animating-without-extra-node='true']::after, .").concat(Me(""),`-click-animating-node {
        --antd-wave-shadow-color: `).concat(je,`;
      }`),"antd-wave",{csp:pe.csp,attachTo:Ge})}vn&&Be.appendChild(Ve),["transition","animation"].forEach(function(Ae){Be.addEventListener("".concat(Ae,"start"),pe.onTransitionStart),Be.addEventListener("".concat(Ae,"end"),pe.onTransitionEnd)})}},pe.onTransitionStart=function(Be){if(!pe.destroyed){var je=pe.containerRef.current;!Be||Be.target!==je||pe.animationStart||pe.resetEffect(je)}},pe.onTransitionEnd=function(Be){!Be||Be.animationName!=="fadeEffect"||pe.resetEffect(Be.target)},pe.bindAnimationEvent=function(Be){if(!(!Be||!Be.getAttribute||Be.getAttribute("disabled")||Be.className.includes("disabled"))){var je=function(st){if(!(st.target.tagName==="INPUT"||fe(st.target))){pe.resetEffect(Be);var en=getComputedStyle(Be).getPropertyValue("border-top-color")||getComputedStyle(Be).getPropertyValue("border-color")||getComputedStyle(Be).getPropertyValue("background-color");pe.clickWaveTimeoutId=window.setTimeout(function(){return pe.onClick(Be,en)},0),J.cancel(pe.animationStartId),pe.animationStart=!0,pe.animationStartId=J(function(){pe.animationStart=!1},10)}};return Be.addEventListener("click",je,!0),{cancel:function(){Be.removeEventListener("click",je,!0)}}}},pe.renderWave=function(Be){var je=Be.csp,he=pe.props.children;if(pe.csp=je,!Z.isValidElement(he))return he;var st=pe.containerRef;return(0,k.Yr)(he)&&(st=(0,k.sQ)(he.ref,pe.containerRef)),(0,K.Tm)(he,{ref:st})},pe}return(0,d.Z)(Pe,[{key:"componentDidMount",value:function(){this.destroyed=!1;var Be=this.containerRef.current;!Be||Be.nodeType!==1||(this.instance=this.bindAnimationEvent(Be))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var Be=this.context.getPrefixCls,je=this.props.insertExtraNode;return je?"".concat(Be(""),"-click-animating"):"".concat(Be(""),"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(Be){var je=this;if(!(!Be||Be===this.extraNode||!(Be instanceof Element))){var he=this.props.insertExtraNode,st=this.getAttributeName();Be.setAttribute(st,"false"),re&&(re.innerHTML=""),he&&this.extraNode&&Be.contains(this.extraNode)&&Be.removeChild(this.extraNode),["transition","animation"].forEach(function(en){Be.removeEventListener("".concat(en,"start"),je.onTransitionStart),Be.removeEventListener("".concat(en,"end"),je.onTransitionEnd)})}}},{key:"render",value:function(){return Z.createElement(U.C,null,this.renderWave)}}]),Pe}(Z.Component);ve.contextType=U.E_;var Oe=ve},24093:function(j,M,l){"use strict";l.d(M,{C:function(){return pe}});var v=l(87462),d=l(4942),m=l(71002),g=l(97685),x=l(93967),A=l.n(x),E=l(48555),w=l(42550),k=l(67294),Z=l(53124),U=l(68821),$=l(24308),te=k.createContext("default"),Q=function(je){var he=je.children,st=je.size;return k.createElement(te.Consumer,null,function(en){return k.createElement(te.Provider,{value:st||en},he)})},J=te,K=function(Be,je){var he={};for(var st in Be)Object.prototype.hasOwnProperty.call(Be,st)&&je.indexOf(st)<0&&(he[st]=Be[st]);if(Be!=null&&typeof Object.getOwnPropertySymbols=="function")for(var en=0,st=Object.getOwnPropertySymbols(Be);en<st.length;en++)je.indexOf(st[en])<0&&Object.prototype.propertyIsEnumerable.call(Be,st[en])&&(he[st[en]]=Be[st[en]]);return he},Y=function(je,he){var st=k.useContext(J),en=k.useState(1),vn=(0,g.Z)(en,2),Mt=vn[0],It=vn[1],Ve=k.useState(!1),Me=(0,g.Z)(Ve,2),Qe=Me[0],bt=Me[1],Ge=k.useState(!0),Ae=(0,g.Z)(Ge,2),be=Ae[0],Ne=Ae[1],Re=k.useRef(null),ht=k.useRef(null),Wt=(0,w.sQ)(he,Re),Yt=k.useContext(Z.E_),Lt=Yt.getPrefixCls,Dt=function(){if(!(!ht.current||!Re.current)){var di=ht.current.offsetWidth,Yn=Re.current.offsetWidth;if(di!==0&&Yn!==0){var Bt=je.gap,kt=Bt===void 0?4:Bt;kt*2<Yn&&It(Yn-kt*2<di?(Yn-kt*2)/di:1)}}};k.useEffect(function(){bt(!0)},[]),k.useEffect(function(){Ne(!0),It(1)},[je.src]),k.useEffect(function(){Dt()},[je.gap]);var lt=function(){var di=je.onError,Yn=di?di():void 0;Yn!==!1&&Ne(!1)},Ft=je.prefixCls,qt=je.shape,Nn=qt===void 0?"circle":qt,kn=je.size,An=kn===void 0?"default":kn,Kn=je.src,ee=je.srcSet,it=je.icon,Ze=je.className,ot=je.alt,Xe=je.draggable,et=je.children,pt=je.crossOrigin,He=K(je,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),Et=An==="default"?st:An,Vt=Object.keys((0,m.Z)(Et)==="object"?Et||{}:{}).some(function(kr){return["xs","sm","md","lg","xl","xxl"].includes(kr)}),On=(0,U.Z)(Vt),Wn=k.useMemo(function(){if((0,m.Z)(Et)!=="object")return{};var kr=$.c4.find(function(Yn){return On[Yn]}),di=Et[kr];return di?{width:di,height:di,lineHeight:"".concat(di,"px"),fontSize:it?di/2:18}:{}},[On,Et]),pr=Lt("avatar",Ft),Cr=A()((0,d.Z)((0,d.Z)({},"".concat(pr,"-lg"),Et==="large"),"".concat(pr,"-sm"),Et==="small")),Sn=k.isValidElement(Kn),Cn=A()(pr,Cr,(0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(pr,"-").concat(Nn),!!Nn),"".concat(pr,"-image"),Sn||Kn&&be),"".concat(pr,"-icon"),!!it),Ze),Fn=typeof Et=="number"?{width:Et,height:Et,lineHeight:"".concat(Et,"px"),fontSize:it?Et/2:18}:{},Hn;if(typeof Kn=="string"&&be)Hn=k.createElement("img",{src:Kn,draggable:Xe,srcSet:ee,onError:lt,alt:ot,crossOrigin:pt});else if(Sn)Hn=Kn;else if(it)Hn=it;else if(Qe||Mt!==1){var sr="scale(".concat(Mt,") translateX(-50%)"),ti={msTransform:sr,WebkitTransform:sr,transform:sr},Ir=typeof Et=="number"?{lineHeight:"".concat(Et,"px")}:{};Hn=k.createElement(E.Z,{onResize:Dt},k.createElement("span",{className:"".concat(pr,"-string"),ref:ht,style:(0,v.Z)((0,v.Z)({},Ir),ti)},et))}else Hn=k.createElement("span",{className:"".concat(pr,"-string"),style:{opacity:0},ref:ht},et);return delete He.onError,delete He.gap,k.createElement("span",(0,v.Z)({},He,{style:(0,v.Z)((0,v.Z)((0,v.Z)({},Fn),Wn),He.style),className:Cn,ref:Wt}),Hn)},re=k.forwardRef(Y),fe=re,le=l(50344),ie=l(10808),ve=l(96159),Oe=function(je){var he=k.useContext(Z.E_),st=he.getPrefixCls,en=he.direction,vn=je.prefixCls,Mt=je.className,It=Mt===void 0?"":Mt,Ve=je.maxCount,Me=je.maxStyle,Qe=je.size,bt=st("avatar-group",vn),Ge=A()(bt,(0,d.Z)({},"".concat(bt,"-rtl"),en==="rtl"),It),Ae=je.children,be=je.maxPopoverPlacement,Ne=be===void 0?"top":be,Re=je.maxPopoverTrigger,ht=Re===void 0?"hover":Re,Wt=(0,le.Z)(Ae).map(function(lt,Ft){return(0,ve.Tm)(lt,{key:"avatar-key-".concat(Ft)})}),Yt=Wt.length;if(Ve&&Ve<Yt){var Lt=Wt.slice(0,Ve),Dt=Wt.slice(Ve,Yt);return Lt.push(k.createElement(ie.Z,{key:"avatar-popover-key",content:Dt,trigger:ht,placement:Ne,overlayClassName:"".concat(bt,"-popover")},k.createElement(fe,{style:Me},"+".concat(Yt-Ve)))),k.createElement(Q,{size:Qe},k.createElement("div",{className:Ge,style:je.style},Lt))}return k.createElement(Q,{size:Qe},k.createElement("div",{className:Ge,style:je.style},Wt))},L=Oe,Pe=fe;Pe.Group=L;var pe=Pe},30045:function(j,M,l){"use strict";var v=l(43146),d=l(63942)},6134:function(j,M,l){"use strict";l.d(M,{n:function(){return Me},Z:function(){return Ge}});var v=l(87462),d=l(4942),m=l(97685),g=l(71002),x=l(93967),A=l.n(x),E=l(98423),w=l(67294),k=l(53124),Z=l(98866),U=l(97647),$=l(4173),te=l(96159),Q=l(93355),J=l(68349),K=function(Ae,be){var Ne={};for(var Re in Ae)Object.prototype.hasOwnProperty.call(Ae,Re)&&be.indexOf(Re)<0&&(Ne[Re]=Ae[Re]);if(Ae!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ht=0,Re=Object.getOwnPropertySymbols(Ae);ht<Re.length;ht++)be.indexOf(Re[ht])<0&&Object.prototype.propertyIsEnumerable.call(Ae,Re[ht])&&(Ne[Re[ht]]=Ae[Re[ht]]);return Ne},Y=w.createContext(void 0),re=function(be){var Ne=w.useContext(k.E_),Re=Ne.getPrefixCls,ht=Ne.direction,Wt=be.prefixCls,Yt=be.size,Lt=be.className,Dt=K(be,["prefixCls","size","className"]),lt=Re("btn-group",Wt),Ft="";switch(Yt){case"large":Ft="lg";break;case"small":Ft="sm";break;case"middle":case void 0:break;default:}var qt=A()(lt,(0,d.Z)((0,d.Z)({},"".concat(lt,"-").concat(Ft),Ft),"".concat(lt,"-rtl"),ht==="rtl"),Lt);return w.createElement(Y.Provider,{value:Yt},w.createElement("div",(0,v.Z)({},Dt,{className:qt})))},fe=re,le=l(19267),ie=l(29372),ve=function(){return{width:0,opacity:0,transform:"scale(0)"}},Oe=function(be){return{width:be.scrollWidth,opacity:1,transform:"scale(1)"}},L=function(be){var Ne=be.prefixCls,Re=be.loading,ht=be.existIcon,Wt=!!Re;return ht?w.createElement("span",{className:"".concat(Ne,"-loading-icon")},w.createElement(le.Z,null)):w.createElement(ie.ZP,{visible:Wt,motionName:"".concat(Ne,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:ve,onAppearActive:Oe,onEnterStart:ve,onEnterActive:Oe,onLeaveStart:Oe,onLeaveActive:ve},function(Yt,Lt){var Dt=Yt.className,lt=Yt.style;return w.createElement("span",{className:"".concat(Ne,"-loading-icon"),style:lt,ref:Lt},w.createElement(le.Z,{className:Dt}))})},Pe=L,pe=function(Ae,be){var Ne={};for(var Re in Ae)Object.prototype.hasOwnProperty.call(Ae,Re)&&be.indexOf(Re)<0&&(Ne[Re]=Ae[Re]);if(Ae!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ht=0,Re=Object.getOwnPropertySymbols(Ae);ht<Re.length;ht++)be.indexOf(Re[ht])<0&&Object.prototype.propertyIsEnumerable.call(Ae,Re[ht])&&(Ne[Re[ht]]=Ae[Re[ht]]);return Ne},Be=/^[\u4e00-\u9fa5]{2}$/,je=Be.test.bind(Be);function he(Ae){return typeof Ae=="string"}function st(Ae){return Ae==="text"||Ae==="link"}function en(Ae,be){if(Ae!=null){var Ne=be?" ":"";return typeof Ae!="string"&&typeof Ae!="number"&&he(Ae.type)&&je(Ae.props.children)?(0,te.Tm)(Ae,{children:Ae.props.children.split("").join(Ne)}):typeof Ae=="string"?je(Ae)?w.createElement("span",null,Ae.split("").join(Ne)):w.createElement("span",null,Ae):(0,te.M2)(Ae)?w.createElement("span",null,Ae):Ae}}function vn(Ae,be){var Ne=!1,Re=[];return w.Children.forEach(Ae,function(ht){var Wt=(0,g.Z)(ht),Yt=Wt==="string"||Wt==="number";if(Ne&&Yt){var Lt=Re.length-1,Dt=Re[Lt];Re[Lt]="".concat(Dt).concat(ht)}else Re.push(ht);Ne=Yt}),w.Children.map(Re,function(ht){return en(ht,be)})}var Mt=(0,Q.b)("default","primary","ghost","dashed","link","text"),It=(0,Q.b)("default","circle","round"),Ve=(0,Q.b)("submit","button","reset");function Me(Ae){return Ae==="danger"?{danger:!0}:{type:Ae}}var Qe=function(be,Ne){var Re,ht=be.loading,Wt=ht===void 0?!1:ht,Yt=be.prefixCls,Lt=be.type,Dt=Lt===void 0?"default":Lt,lt=be.danger,Ft=be.shape,qt=Ft===void 0?"default":Ft,Nn=be.size,kn=be.disabled,An=be.className,Kn=be.children,ee=be.icon,it=be.ghost,Ze=it===void 0?!1:it,ot=be.block,Xe=ot===void 0?!1:ot,et=be.htmlType,pt=et===void 0?"button":et,He=pe(be,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),Et=w.useContext(U.Z),Vt=w.useContext(Z.Z),On=kn!=null?kn:Vt,Wn=w.useContext(Y),pr=w.useState(!!Wt),Cr=(0,m.Z)(pr,2),Sn=Cr[0],Cn=Cr[1],Fn=w.useState(!1),Hn=(0,m.Z)(Fn,2),sr=Hn[0],ti=Hn[1],Ir=w.useContext(k.E_),kr=Ir.getPrefixCls,di=Ir.autoInsertSpaceInButton,Yn=Ir.direction,Bt=Ne||w.createRef(),kt=function(){return w.Children.count(Kn)===1&&!ee&&!st(Dt)},dn=function(){if(!(!Bt||!Bt.current||di===!1)){var ue=Bt.current.textContent;kt()&&je(ue)?sr||ti(!0):sr&&ti(!1)}},Ot=typeof Wt=="boolean"?Wt:(Wt==null?void 0:Wt.delay)||!0;w.useEffect(function(){var un=null;return typeof Ot=="number"?un=window.setTimeout(function(){un=null,Cn(Ot)},Ot):Cn(Ot),function(){un&&(window.clearTimeout(un),un=null)}},[Ot]),w.useEffect(dn,[Bt]);var ur=function(ue){var De=be.onClick;if(Sn||On){ue.preventDefault();return}De==null||De(ue)},Mn=kr("btn",Yt),zr=di!==!1,jt=(0,$.ri)(Mn,Yn),gn=jt.compactSize,Ln=jt.compactItemClassnames,vt={large:"lg",small:"sm",middle:void 0},Zt=gn||Wn||Nn||Et,or=Zt&&vt[Zt]||"",ir=Sn?"loading":ee,lr=(0,E.Z)(He,["navigate"]),Pr=A()(Mn,(Re={},(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)(Re,"".concat(Mn,"-").concat(qt),qt!=="default"&&qt),"".concat(Mn,"-").concat(Dt),Dt),"".concat(Mn,"-").concat(or),or),"".concat(Mn,"-icon-only"),!Kn&&Kn!==0&&!!ir),"".concat(Mn,"-background-ghost"),Ze&&!st(Dt)),"".concat(Mn,"-loading"),Sn),"".concat(Mn,"-two-chinese-chars"),sr&&zr&&!Sn),"".concat(Mn,"-block"),Xe),"".concat(Mn,"-dangerous"),!!lt),"".concat(Mn,"-rtl"),Yn==="rtl"),(0,d.Z)(Re,"".concat(Mn,"-disabled"),lr.href!==void 0&&On)),Ln,An),$r=ee&&!Sn?ee:w.createElement(Pe,{existIcon:!!ee,prefixCls:Mn,loading:!!Sn}),dr=Kn||Kn===0?vn(Kn,kt()&&zr):null;if(lr.href!==void 0)return w.createElement("a",(0,v.Z)({},lr,{className:Pr,onClick:ur,ref:Bt}),$r,dr);var ni=w.createElement("button",(0,v.Z)({},He,{type:pt,className:Pr,onClick:ur,disabled:On,ref:Bt}),$r,dr);return st(Dt)?ni:w.createElement(J.Z,{disabled:!!Sn},ni)},bt=w.forwardRef(Qe);bt.Group=fe,bt.__ANT_BUTTON=!0;var Ge=bt},71577:function(j,M,l){"use strict";var v=l(6134);M.Z=v.Z},29913:function(j,M,l){"use strict";var v=l(43146)},32808:function(j,M,l){"use strict";l.d(M,{Z:function(){return Oe}});var v=l(4942),d=l(87462),m=l(93967),g=l.n(m),x=l(50132),A=l(67294),E=l(53124),w=l(65223),k=l(74902),Z=l(97685),U=l(98423),$=function(L,Pe){var pe={};for(var Be in L)Object.prototype.hasOwnProperty.call(L,Be)&&Pe.indexOf(Be)<0&&(pe[Be]=L[Be]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function")for(var je=0,Be=Object.getOwnPropertySymbols(L);je<Be.length;je++)Pe.indexOf(Be[je])<0&&Object.prototype.propertyIsEnumerable.call(L,Be[je])&&(pe[Be[je]]=L[Be[je]]);return pe},te=A.createContext(null),Q=function(Pe,pe){var Be=Pe.defaultValue,je=Pe.children,he=Pe.options,st=he===void 0?[]:he,en=Pe.prefixCls,vn=Pe.className,Mt=Pe.style,It=Pe.onChange,Ve=$(Pe,["defaultValue","children","options","prefixCls","className","style","onChange"]),Me=A.useContext(E.E_),Qe=Me.getPrefixCls,bt=Me.direction,Ge=A.useState(Ve.value||Be||[]),Ae=(0,Z.Z)(Ge,2),be=Ae[0],Ne=Ae[1],Re=A.useState([]),ht=(0,Z.Z)(Re,2),Wt=ht[0],Yt=ht[1];A.useEffect(function(){"value"in Ve&&Ne(Ve.value||[])},[Ve.value]);var Lt=function(){return st.map(function(it){return typeof it=="string"||typeof it=="number"?{label:it,value:it}:it})},Dt=function(it){Yt(function(Ze){return Ze.filter(function(ot){return ot!==it})})},lt=function(it){Yt(function(Ze){return[].concat((0,k.Z)(Ze),[it])})},Ft=function(it){var Ze=be.indexOf(it.value),ot=(0,k.Z)(be);Ze===-1?ot.push(it.value):ot.splice(Ze,1),"value"in Ve||Ne(ot);var Xe=Lt();It==null||It(ot.filter(function(et){return Wt.includes(et)}).sort(function(et,pt){var He=Xe.findIndex(function(Vt){return Vt.value===et}),Et=Xe.findIndex(function(Vt){return Vt.value===pt});return He-Et}))},qt=Qe("checkbox",en),Nn="".concat(qt,"-group"),kn=(0,U.Z)(Ve,["value","disabled"]);st&&st.length>0&&(je=Lt().map(function(ee){return A.createElement(ie,{prefixCls:qt,key:ee.value.toString(),disabled:"disabled"in ee?ee.disabled:Ve.disabled,value:ee.value,checked:be.includes(ee.value),onChange:ee.onChange,className:"".concat(Nn,"-item"),style:ee.style},ee.label)}));var An={toggleOption:Ft,value:be,disabled:Ve.disabled,name:Ve.name,registerValue:lt,cancelValue:Dt},Kn=g()(Nn,(0,v.Z)({},"".concat(Nn,"-rtl"),bt==="rtl"),vn);return A.createElement("div",(0,d.Z)({className:Kn,style:Mt},kn,{ref:pe}),A.createElement(te.Provider,{value:An},je))},J=A.forwardRef(Q),K=A.memo(J),Y=l(98866),re=function(L,Pe){var pe={};for(var Be in L)Object.prototype.hasOwnProperty.call(L,Be)&&Pe.indexOf(Be)<0&&(pe[Be]=L[Be]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function")for(var je=0,Be=Object.getOwnPropertySymbols(L);je<Be.length;je++)Pe.indexOf(Be[je])<0&&Object.prototype.propertyIsEnumerable.call(L,Be[je])&&(pe[Be[je]]=L[Be[je]]);return pe},fe=function(Pe,pe){var Be,je=Pe.prefixCls,he=Pe.className,st=Pe.children,en=Pe.indeterminate,vn=en===void 0?!1:en,Mt=Pe.style,It=Pe.onMouseEnter,Ve=Pe.onMouseLeave,Me=Pe.skipGroup,Qe=Me===void 0?!1:Me,bt=Pe.disabled,Ge=re(Pe,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),Ae=A.useContext(E.E_),be=Ae.getPrefixCls,Ne=Ae.direction,Re=A.useContext(te),ht=(0,A.useContext)(w.aM),Wt=ht.isFormItemInput,Yt=(0,A.useContext)(Y.Z),Lt=(Be=(Re==null?void 0:Re.disabled)||bt)!==null&&Be!==void 0?Be:Yt,Dt=A.useRef(Ge.value);A.useEffect(function(){Re==null||Re.registerValue(Ge.value)},[]),A.useEffect(function(){if(!Qe)return Ge.value!==Dt.current&&(Re==null||Re.cancelValue(Dt.current),Re==null||Re.registerValue(Ge.value),Dt.current=Ge.value),function(){return Re==null?void 0:Re.cancelValue(Ge.value)}},[Ge.value]);var lt=be("checkbox",je),Ft=(0,d.Z)({},Ge);Re&&!Qe&&(Ft.onChange=function(){Ge.onChange&&Ge.onChange.apply(Ge,arguments),Re.toggleOption&&Re.toggleOption({label:st,value:Ge.value})},Ft.name=Re.name,Ft.checked=Re.value.includes(Ge.value));var qt=g()((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)({},"".concat(lt,"-wrapper"),!0),"".concat(lt,"-rtl"),Ne==="rtl"),"".concat(lt,"-wrapper-checked"),Ft.checked),"".concat(lt,"-wrapper-disabled"),Lt),"".concat(lt,"-wrapper-in-form-item"),Wt),he),Nn=g()((0,v.Z)({},"".concat(lt,"-indeterminate"),vn)),kn=vn?"mixed":void 0;return A.createElement("label",{className:qt,style:Mt,onMouseEnter:It,onMouseLeave:Ve},A.createElement(x.Z,(0,d.Z)({"aria-checked":kn},Ft,{prefixCls:lt,className:Nn,disabled:Lt,ref:pe})),st!==void 0&&A.createElement("span",null,st))},le=A.forwardRef(fe),ie=le,ve=ie;ve.Group=K,ve.__ANT_CHECKBOX=!0;var Oe=ve},15746:function(j,M,l){"use strict";var v=l(21584);M.Z=v.Z},89032:function(j,M,l){"use strict";var v=l(43146),d=l(157)},49263:function(j,M,l){"use strict";var v=l(43146)},98866:function(j,M,l){"use strict";l.d(M,{n:function(){return m}});var v=l(67294),d=v.createContext(!1),m=function(x){var A=x.children,E=x.disabled,w=v.useContext(d);return v.createElement(d.Provider,{value:E!=null?E:w},A)};M.Z=d},97647:function(j,M,l){"use strict";l.d(M,{q:function(){return m}});var v=l(67294),d=v.createContext(void 0),m=function(x){var A=x.children,E=x.size;return v.createElement(d.Consumer,null,function(w){return v.createElement(d.Provider,{value:E||w},A)})};M.Z=d},53124:function(j,M,l){"use strict";l.d(M,{C:function(){return g},E_:function(){return m}});var v=l(67294),d=function(E,w){return w||(E?"ant-".concat(E):"ant")},m=v.createContext({getPrefixCls:d}),g=m.Consumer;function x(A){return function(w){var k=function(te){return React.createElement(g,null,function(Q){var J=A.prefixCls,K=Q.getPrefixCls,Y=te.prefixCls,re=K(J,Y);return React.createElement(w,_extends({},Q,te,{prefixCls:re}))})},Z=w.constructor,U=Z&&Z.displayName||w.name||"Component";return k}}},88258:function(j,M,l){"use strict";var v=l(67294),d=l(53124),m=l(62986),g=function(A){return v.createElement(d.C,null,function(E){var w=E.getPrefixCls,k=w("empty");switch(A){case"Table":case"List":return v.createElement(m.Z,{image:m.Z.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return v.createElement(m.Z,{image:m.Z.PRESENTED_IMAGE_SIMPLE,className:"".concat(k,"-small")});default:return v.createElement(m.Z,null)}})};M.Z=g},38080:function(j,M,l){"use strict";l.d(M,{ZP:function(){return Cr},w6:function(){return On}});var v=l(87462),d=l(54775),m=l(56982),g=l(67294),x=l(8880),A=l(37920),E=l(83008),w=l(67178),k="internalMark",Z=function(Cn){var Fn=Cn.locale,Hn=Fn===void 0?{}:Fn,sr=Cn.children,ti=Cn._ANT_MARK__;g.useEffect(function(){return(0,E.f)(Hn&&Hn.Modal),function(){(0,E.f)()}},[Hn]);var Ir=g.useMemo(function(){return(0,v.Z)((0,v.Z)({},Hn),{exist:!0})},[Hn]);return g.createElement(w.Z.Provider,{value:Ir},sr)},U=Z,$=l(23715),te=l(80779),Q=l(53315),J=l(4942),K=l(53922),Y=l(41439),re=l(62208),fe=l(31581),le=l(17260),ie=l(93967),ve=l.n(ie),Oe=l(91127),L=l(97685),Pe=l(51550),pe=l(53124);function Be(Sn,Cn){var Fn=function(){var sr,ti=null,Ir={add:function(ur,Mn){ti==null||ti.component.add(ur,Mn)}},kr=(0,Pe.Z)(Ir),di=(0,L.Z)(kr,2),Yn=di[0],Bt=di[1];function kt(Ot){var ur=Ot.prefixCls,Mn=sr("notification",ur);Sn((0,v.Z)((0,v.Z)({},Ot),{prefixCls:Mn}),function(zr){var jt=zr.prefixCls,gn=zr.instance;ti=gn,Yn(Cn(Ot,jt))})}var dn=g.useRef({});return dn.current.open=kt,["success","info","warning","error"].forEach(function(Ot){dn.current[Ot]=function(ur){return dn.current.open((0,v.Z)((0,v.Z)({},ur),{type:Ot}))}}),[dn.current,g.createElement(pe.C,{key:"holder"},function(Ot){return sr=Ot.getPrefixCls,Bt})]};return Fn}var je=function(Sn,Cn,Fn,Hn){function sr(ti){return ti instanceof Fn?ti:new Fn(function(Ir){Ir(ti)})}return new(Fn||(Fn=Promise))(function(ti,Ir){function kr(Bt){try{Yn(Hn.next(Bt))}catch(kt){Ir(kt)}}function di(Bt){try{Yn(Hn.throw(Bt))}catch(kt){Ir(kt)}}function Yn(Bt){Bt.done?ti(Bt.value):sr(Bt.value).then(kr,di)}Yn((Hn=Hn.apply(Sn,Cn||[])).next())})},he={},st=4.5,en=24,vn=24,Mt="",It="topRight",Ve,Me,Qe=!1,bt;function Ge(Sn){var Cn=Sn.duration,Fn=Sn.placement,Hn=Sn.bottom,sr=Sn.top,ti=Sn.getContainer,Ir=Sn.closeIcon,kr=Sn.prefixCls;kr!==void 0&&(Mt=kr),Cn!==void 0&&(st=Cn),Fn!==void 0?It=Fn:Sn.rtl&&(It="topLeft"),Hn!==void 0&&(vn=Hn),sr!==void 0&&(en=sr),ti!==void 0&&(Ve=ti),Ir!==void 0&&(Me=Ir),Sn.rtl!==void 0&&(Qe=Sn.rtl),Sn.maxCount!==void 0&&(bt=Sn.maxCount)}function Ae(Sn){var Cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:en,Fn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vn,Hn;switch(Sn){case"top":Hn={left:"50%",transform:"translateX(-50%)",right:"auto",top:Cn,bottom:"auto"};break;case"topLeft":Hn={left:0,top:Cn,bottom:"auto"};break;case"topRight":Hn={right:0,top:Cn,bottom:"auto"};break;case"bottom":Hn={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:Fn};break;case"bottomLeft":Hn={left:0,top:"auto",bottom:Fn};break;default:Hn={right:0,top:"auto",bottom:Fn};break}return Hn}function be(Sn,Cn){var Fn=Sn.placement,Hn=Fn===void 0?It:Fn,sr=Sn.top,ti=Sn.bottom,Ir=Sn.getContainer,kr=Ir===void 0?Ve:Ir,di=Sn.prefixCls,Yn=On(),Bt=Yn.getPrefixCls,kt=Yn.getIconPrefixCls,dn=Bt("notification",di||Mt),Ot=kt(),ur="".concat(dn,"-").concat(Hn),Mn=he[ur];if(Mn){Promise.resolve(Mn).then(function(jt){Cn({prefixCls:"".concat(dn,"-notice"),iconPrefixCls:Ot,instance:jt})});return}var zr=ve()("".concat(dn,"-").concat(Hn),(0,J.Z)({},"".concat(dn,"-rtl"),Qe===!0));he[ur]=new Promise(function(jt){Oe.Z.newInstance({prefixCls:dn,className:zr,style:Ae(Hn,sr,ti),getContainer:kr,maxCount:bt},function(gn){jt(gn),Cn({prefixCls:"".concat(dn,"-notice"),iconPrefixCls:Ot,instance:gn})})})}var Ne={success:K.Z,info:le.Z,error:Y.Z,warning:fe.Z};function Re(Sn,Cn,Fn){var Hn=Sn.duration,sr=Sn.icon,ti=Sn.type,Ir=Sn.description,kr=Sn.message,di=Sn.btn,Yn=Sn.onClose,Bt=Sn.onClick,kt=Sn.key,dn=Sn.style,Ot=Sn.className,ur=Sn.closeIcon,Mn=ur===void 0?Me:ur,zr=Sn.props,jt=Hn===void 0?st:Hn,gn=null;sr?gn=g.createElement("span",{className:"".concat(Cn,"-icon")},Sn.icon):ti&&(gn=g.createElement(Ne[ti]||null,{className:"".concat(Cn,"-icon ").concat(Cn,"-icon-").concat(ti)}));var Ln=typeof Mn=="undefined"?g.createElement("span",{className:"".concat(Cn,"-close-x")},g.createElement(re.Z,{className:"".concat(Cn,"-close-icon")})):Mn,vt=!Ir&&gn?g.createElement("span",{className:"".concat(Cn,"-message-single-line-auto-margin")}):null;return{content:g.createElement(Cr,{iconPrefixCls:Fn},g.createElement("div",{className:gn?"".concat(Cn,"-with-icon"):"",role:"alert"},gn,g.createElement("div",{className:"".concat(Cn,"-message")},vt,kr),g.createElement("div",{className:"".concat(Cn,"-description")},Ir),di?g.createElement("span",{className:"".concat(Cn,"-btn")},di):null)),duration:jt,closable:!0,closeIcon:Ln,onClose:Yn,onClick:Bt,key:kt,style:dn||{},className:ve()(Ot,(0,J.Z)({},"".concat(Cn,"-").concat(ti),!!ti)),props:zr}}function ht(Sn){be(Sn,function(Cn){var Fn=Cn.prefixCls,Hn=Cn.iconPrefixCls,sr=Cn.instance;sr.notice(Re(Sn,Fn,Hn))})}var Wt={open:ht,close:function(Cn){Object.keys(he).forEach(function(Fn){return Promise.resolve(he[Fn]).then(function(Hn){Hn.removeNotice(Cn)})})},config:Ge,destroy:function(){Object.keys(he).forEach(function(Cn){Promise.resolve(he[Cn]).then(function(Fn){Fn.destroy()}),delete he[Cn]})}};["success","info","warning","error"].forEach(function(Sn){Wt[Sn]=function(Cn){return Wt.open((0,v.Z)((0,v.Z)({},Cn),{type:Sn}))}}),Wt.warn=Wt.warning,Wt.useNotification=Be(be,Re);var Yt=function(Cn){return je(void 0,void 0,void 0,_regeneratorRuntime().mark(function Fn(){return _regeneratorRuntime().wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return sr.abrupt("return",null);case 1:case"end":return sr.stop()}},Fn)}))},Lt=Wt,Dt=l(92138),lt=l(10274),Ft=l(98924),qt=l(44958),Nn="-ant-".concat(Date.now(),"-").concat(Math.random());function kn(Sn,Cn){var Fn={},Hn=function(Bt,kt){var dn=Bt.clone();return dn=(kt==null?void 0:kt(dn))||dn,dn.toRgbString()},sr=function(Bt,kt){var dn=new lt.C(Bt),Ot=(0,Dt.R_)(dn.toRgbString());Fn["".concat(kt,"-color")]=Hn(dn),Fn["".concat(kt,"-color-disabled")]=Ot[1],Fn["".concat(kt,"-color-hover")]=Ot[4],Fn["".concat(kt,"-color-active")]=Ot[6],Fn["".concat(kt,"-color-outline")]=dn.clone().setAlpha(.2).toRgbString(),Fn["".concat(kt,"-color-deprecated-bg")]=Ot[0],Fn["".concat(kt,"-color-deprecated-border")]=Ot[2]};if(Cn.primaryColor){sr(Cn.primaryColor,"primary");var ti=new lt.C(Cn.primaryColor),Ir=(0,Dt.R_)(ti.toRgbString());Ir.forEach(function(Yn,Bt){Fn["primary-".concat(Bt+1)]=Yn}),Fn["primary-color-deprecated-l-35"]=Hn(ti,function(Yn){return Yn.lighten(35)}),Fn["primary-color-deprecated-l-20"]=Hn(ti,function(Yn){return Yn.lighten(20)}),Fn["primary-color-deprecated-t-20"]=Hn(ti,function(Yn){return Yn.tint(20)}),Fn["primary-color-deprecated-t-50"]=Hn(ti,function(Yn){return Yn.tint(50)}),Fn["primary-color-deprecated-f-12"]=Hn(ti,function(Yn){return Yn.setAlpha(Yn.getAlpha()*.12)});var kr=new lt.C(Ir[0]);Fn["primary-color-active-deprecated-f-30"]=Hn(kr,function(Yn){return Yn.setAlpha(Yn.getAlpha()*.3)}),Fn["primary-color-active-deprecated-d-02"]=Hn(kr,function(Yn){return Yn.darken(2)})}Cn.successColor&&sr(Cn.successColor,"success"),Cn.warningColor&&sr(Cn.warningColor,"warning"),Cn.errorColor&&sr(Cn.errorColor,"error"),Cn.infoColor&&sr(Cn.infoColor,"info");var di=Object.keys(Fn).map(function(Yn){return"--".concat(Sn,"-").concat(Yn,": ").concat(Fn[Yn],";")});return`
  :root {
    `.concat(di.join(`
`),`
  }
  `).trim()}function An(Sn,Cn){var Fn=kn(Sn,Cn);(0,Ft.Z)()&&(0,qt.hq)(Fn,"".concat(Nn,"-dynamic-theme"))}var Kn=l(98866),ee=l(97647),it=null,Ze=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"],ot="ant",Xe="anticon",et,pt;function He(){return et||ot}function Et(){return pt||Xe}var Vt=function(Cn){var Fn=Cn.prefixCls,Hn=Cn.iconPrefixCls,sr=Cn.theme;Fn!==void 0&&(et=Fn),Hn!==void 0&&(pt=Hn),sr&&An(He(),sr)},On=function(){return{getPrefixCls:function(Fn,Hn){return Hn||(Fn?"".concat(He(),"-").concat(Fn):He())},getIconPrefixCls:Et,getRootPrefixCls:function(Fn,Hn){return Fn||et||(Hn&&Hn.includes("-")?Hn.replace(/^(.*)-[^-]*$/,"$1"):He())}}},Wn=function(Cn){var Fn=Cn.children,Hn=Cn.csp,sr=Cn.autoInsertSpaceInButton,ti=Cn.form,Ir=Cn.locale,kr=Cn.componentSize,di=Cn.direction,Yn=Cn.space,Bt=Cn.virtual,kt=Cn.dropdownMatchSelectWidth,dn=Cn.legacyLocale,Ot=Cn.parentContext,ur=Cn.iconPrefixCls,Mn=Cn.componentDisabled,zr=g.useCallback(function(or,ir){var lr=Cn.prefixCls;if(ir)return ir;var Pr=lr||Ot.getPrefixCls("");return or?"".concat(Pr,"-").concat(or):Pr},[Ot.getPrefixCls,Cn.prefixCls]),jt=(0,v.Z)((0,v.Z)({},Ot),{csp:Hn,autoInsertSpaceInButton:sr,locale:Ir||dn,direction:di,space:Yn,virtual:Bt,dropdownMatchSelectWidth:kt,getPrefixCls:zr});Ze.forEach(function(or){var ir=Cn[or];ir&&(jt[or]=ir)});var gn=(0,m.Z)(function(){return jt},jt,function(or,ir){var lr=Object.keys(or),Pr=Object.keys(ir);return lr.length!==Pr.length||lr.some(function($r){return or[$r]!==ir[$r]})}),Ln=g.useMemo(function(){return{prefixCls:ur,csp:Hn}},[ur,Hn]),vt=Fn,Zt=g.useMemo(function(){var or,ir,lr,Pr;return(0,x.T)(((or=te.Z.Form)===null||or===void 0?void 0:or.defaultValidateMessages)||{},((lr=(ir=gn.locale)===null||ir===void 0?void 0:ir.Form)===null||lr===void 0?void 0:lr.defaultValidateMessages)||{},((Pr=gn.form)===null||Pr===void 0?void 0:Pr.validateMessages)||{},(ti==null?void 0:ti.validateMessages)||{})},[gn,ti==null?void 0:ti.validateMessages]);return Object.keys(Zt).length>0&&(vt=g.createElement(A.Z.Provider,{value:Zt},Fn)),Ir&&(vt=g.createElement(U,{locale:Ir,_ANT_MARK__:k},vt)),(ur||Hn)&&(vt=g.createElement(d.Z.Provider,{value:Ln},vt)),kr&&(vt=g.createElement(ee.q,{size:kr},vt)),Mn!==void 0&&(vt=g.createElement(Kn.n,{disabled:Mn},vt)),g.createElement(pe.E_.Provider,{value:gn},vt)},pr=function(Cn){return g.useEffect(function(){Cn.direction&&(Q.ZP.config({rtl:Cn.direction==="rtl"}),Lt.config({rtl:Cn.direction==="rtl"}))},[Cn.direction]),g.createElement($.Z,null,function(Fn,Hn,sr){return g.createElement(pe.C,null,function(ti){return g.createElement(Wn,(0,v.Z)({parentContext:ti,legacyLocale:sr},Cn))})})};pr.ConfigContext=pe.E_,pr.SizeContext=ee.Z,pr.config=Vt;var Cr=pr},26188:function(){"use strict"},33620:function(j,M,l){"use strict";l.d(M,{Z:function(){return Bo}});var v=l(30381),d=l.n(v),m=l(80334),g={getNow:function(){return d()()},getFixedDate:function(Ye){return d()(Ye,"YYYY-MM-DD")},getEndDate:function(Ye){var ft=Ye.clone();return ft.endOf("month")},getWeekDay:function(Ye){var ft=Ye.clone().locale("en_US");return ft.weekday()+ft.localeData().firstDayOfWeek()},getYear:function(Ye){return Ye.year()},getMonth:function(Ye){return Ye.month()},getDate:function(Ye){return Ye.date()},getHour:function(Ye){return Ye.hour()},getMinute:function(Ye){return Ye.minute()},getSecond:function(Ye){return Ye.second()},addYear:function(Ye,ft){var Ct=Ye.clone();return Ct.add(ft,"year")},addMonth:function(Ye,ft){var Ct=Ye.clone();return Ct.add(ft,"month")},addDate:function(Ye,ft){var Ct=Ye.clone();return Ct.add(ft,"day")},setYear:function(Ye,ft){var Ct=Ye.clone();return Ct.year(ft)},setMonth:function(Ye,ft){var Ct=Ye.clone();return Ct.month(ft)},setDate:function(Ye,ft){var Ct=Ye.clone();return Ct.date(ft)},setHour:function(Ye,ft){var Ct=Ye.clone();return Ct.hour(ft)},setMinute:function(Ye,ft){var Ct=Ye.clone();return Ct.minute(ft)},setSecond:function(Ye,ft){var Ct=Ye.clone();return Ct.second(ft)},isAfter:function(Ye,ft){return Ye.isAfter(ft)},isValidate:function(Ye){return Ye.isValid()},locale:{getWeekFirstDay:function(Ye){var ft=d()().locale(Ye);return ft.localeData().firstDayOfWeek()},getWeekFirstDate:function(Ye,ft){var Ct=ft.clone(),nn=Ct.locale(Ye);return nn.weekday(0)},getWeek:function(Ye,ft){var Ct=ft.clone(),nn=Ct.locale(Ye);return nn.week()},getShortWeekDays:function(Ye){var ft=d()().locale(Ye);return ft.localeData().weekdaysMin()},getShortMonths:function(Ye){var ft=d()().locale(Ye);return ft.localeData().monthsShort()},format:function(Ye,ft,Ct){var nn=ft.clone(),yn=nn.locale(Ye);return yn.format(Ct)},parse:function(Ye,ft,Ct){for(var nn=[],yn=0;yn<Ct.length;yn+=1){var Vn=Ct[yn],wr=ft;if(Vn.includes("wo")||Vn.includes("Wo")){Vn=Vn.replace(/wo/g,"w").replace(/Wo/g,"W");var Nr=Vn.match(/[-YyMmDdHhSsWwGg]+/g),jr=wr.match(/[-\d]+/g);Nr&&jr?(Vn=Nr.join(""),wr=jr.join("")):nn.push(Vn.replace(/o/g,""))}var bi=d()(wr,Vn,Ye,!0);if(bi.isValid())return bi}for(var Hr=0;Hr<nn.length;Hr+=1){var _r=d()(ft,nn[Hr],Ye,!1);if(_r.isValid())return(0,m.ET)(!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),_r}return null}}},x=g,A=l(87462),E=l(93355),w=l(67294),k=l(71577);function Z(se){return w.createElement(k.Z,(0,A.Z)({size:"small",type:"primary"},se))}var U=l(4942),$=l(97685),te=l(62208),Q=l(93967),J=l.n(Q),K=l(98423),Y=l(53124),re=l(98787),fe=l(68349),le=function(se,Ye){var ft={};for(var Ct in se)Object.prototype.hasOwnProperty.call(se,Ct)&&Ye.indexOf(Ct)<0&&(ft[Ct]=se[Ct]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nn=0,Ct=Object.getOwnPropertySymbols(se);nn<Ct.length;nn++)Ye.indexOf(Ct[nn])<0&&Object.prototype.propertyIsEnumerable.call(se,Ct[nn])&&(ft[Ct[nn]]=se[Ct[nn]]);return ft},ie=function(Ye){var ft=Ye.prefixCls,Ct=Ye.className,nn=Ye.checked,yn=Ye.onChange,Vn=Ye.onClick,wr=le(Ye,["prefixCls","className","checked","onChange","onClick"]),Nr=w.useContext(Y.E_),jr=Nr.getPrefixCls,bi=function(Ar){yn==null||yn(!nn),Vn==null||Vn(Ar)},Hr=jr("tag",ft),_r=J()(Hr,(0,U.Z)((0,U.Z)({},"".concat(Hr,"-checkable"),!0),"".concat(Hr,"-checkable-checked"),nn),Ct);return w.createElement("span",(0,A.Z)({},wr,{className:_r,onClick:bi}))},ve=ie,Oe=function(se,Ye){var ft={};for(var Ct in se)Object.prototype.hasOwnProperty.call(se,Ct)&&Ye.indexOf(Ct)<0&&(ft[Ct]=se[Ct]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nn=0,Ct=Object.getOwnPropertySymbols(se);nn<Ct.length;nn++)Ye.indexOf(Ct[nn])<0&&Object.prototype.propertyIsEnumerable.call(se,Ct[nn])&&(ft[Ct[nn]]=se[Ct[nn]]);return ft},L=new RegExp("^(".concat(re.Y.join("|"),")(-inverse)?$")),Pe=new RegExp("^(".concat(re.E.join("|"),")$")),pe=function(Ye,ft){var Ct=Ye.prefixCls,nn=Ye.className,yn=Ye.style,Vn=Ye.children,wr=Ye.icon,Nr=Ye.color,jr=Ye.onClose,bi=Ye.closeIcon,Hr=Ye.closable,_r=Hr===void 0?!1:Hr,Lr=Oe(Ye,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Ar=w.useContext(Y.E_),mi=Ar.getPrefixCls,oi=Ar.direction,Pt=w.useState(!0),cn=(0,$.Z)(Pt,2),Qn=cn[0],_t=cn[1];w.useEffect(function(){"visible"in Lr&&_t(Lr.visible)},[Lr.visible]);var Xt=function(){return Nr?L.test(Nr)||Pe.test(Nr):!1},an=(0,A.Z)({backgroundColor:Nr&&!Xt()?Nr:void 0},yn),yr=Xt(),Ur=mi("tag",Ct),ci=J()(Ur,(0,U.Z)((0,U.Z)((0,U.Z)((0,U.Z)({},"".concat(Ur,"-").concat(Nr),yr),"".concat(Ur,"-has-color"),Nr&&!yr),"".concat(Ur,"-hidden"),!Qn),"".concat(Ur,"-rtl"),oi==="rtl"),nn),Yi=function(Ua){Ua.stopPropagation(),jr==null||jr(Ua),!Ua.defaultPrevented&&("visible"in Lr||_t(!1))},ui=function(){return _r?bi?w.createElement("span",{className:"".concat(Ur,"-close-icon"),onClick:Yi},bi):w.createElement(te.Z,{className:"".concat(Ur,"-close-icon"),onClick:Yi}):null},go="onClick"in Lr||Vn&&Vn.type==="a",wo=(0,K.Z)(Lr,["visible"]),ji=wr||null,ko=ji?w.createElement(w.Fragment,null,ji,w.createElement("span",null,Vn)):Vn,os=w.createElement("span",(0,A.Z)({},wo,{ref:ft,className:ci,style:an}),ko,ui());return go?w.createElement(fe.Z,null,os):os},Be=w.forwardRef(pe);Be.CheckableTag=ve;var je=Be;function he(se){return w.createElement(je,(0,A.Z)({color:"blue"},se))}var st=l(1413),en=l(49842),vn=l(93771),Mt=function(Ye,ft){return w.createElement(vn.Z,(0,st.Z)((0,st.Z)({},Ye),{},{ref:ft,icon:en.Z}))},It=w.forwardRef(Mt),Ve=It,Me=l(99011),Qe=function(Ye,ft){return w.createElement(vn.Z,(0,st.Z)((0,st.Z)({},Ye),{},{ref:ft,icon:Me.Z}))},bt=w.forwardRef(Qe),Ge=bt,Ae=l(17012),be=l(19369),Ne=function(Ye,ft){return w.createElement(vn.Z,(0,st.Z)((0,st.Z)({},Ye),{},{ref:ft,icon:be.Z}))},Re=w.forwardRef(Ne),ht=Re,Wt=l(15671),Yt=l(43144),Lt=l(32531),Dt=l(29388),lt=l(21770),Ft=l(71002),qt=l(15105),Nn=w.createContext({}),kn=Nn,An={visibility:"hidden"};function Kn(se){var Ye=se.prefixCls,ft=se.prevIcon,Ct=ft===void 0?"\u2039":ft,nn=se.nextIcon,yn=nn===void 0?"\u203A":nn,Vn=se.superPrevIcon,wr=Vn===void 0?"\xAB":Vn,Nr=se.superNextIcon,jr=Nr===void 0?"\xBB":Nr,bi=se.onSuperPrev,Hr=se.onSuperNext,_r=se.onPrev,Lr=se.onNext,Ar=se.children,mi=w.useContext(kn),oi=mi.hideNextBtn,Pt=mi.hidePrevBtn;return w.createElement("div",{className:Ye},bi&&w.createElement("button",{type:"button",onClick:bi,tabIndex:-1,className:"".concat(Ye,"-super-prev-btn"),style:Pt?An:{}},wr),_r&&w.createElement("button",{type:"button",onClick:_r,tabIndex:-1,className:"".concat(Ye,"-prev-btn"),style:Pt?An:{}},Ct),w.createElement("div",{className:"".concat(Ye,"-view")},Ar),Lr&&w.createElement("button",{type:"button",onClick:Lr,tabIndex:-1,className:"".concat(Ye,"-next-btn"),style:oi?An:{}},yn),Hr&&w.createElement("button",{type:"button",onClick:Hr,tabIndex:-1,className:"".concat(Ye,"-super-next-btn"),style:oi?An:{}},jr))}var ee=Kn;function it(se){var Ye=se.prefixCls,ft=se.generateConfig,Ct=se.viewDate,nn=se.onPrevDecades,yn=se.onNextDecades,Vn=w.useContext(kn),wr=Vn.hideHeader;if(wr)return null;var Nr="".concat(Ye,"-header"),jr=ft.getYear(Ct),bi=Math.floor(jr/gn)*gn,Hr=bi+gn-1;return w.createElement(ee,(0,A.Z)({},se,{prefixCls:Nr,onSuperPrev:nn,onSuperNext:yn}),bi,"-",Hr)}var Ze=it;function ot(se,Ye,ft,Ct,nn){var yn=se.setHour(Ye,ft);return yn=se.setMinute(yn,Ct),yn=se.setSecond(yn,nn),yn}function Xe(se,Ye,ft){if(!ft)return Ye;var Ct=Ye;return Ct=se.setHour(Ct,se.getHour(ft)),Ct=se.setMinute(Ct,se.getMinute(ft)),Ct=se.setSecond(Ct,se.getSecond(ft)),Ct}function et(se,Ye,ft,Ct,nn,yn){var Vn=Math.floor(se/Ct)*Ct;if(Vn<se)return[Vn,60-nn,60-yn];var wr=Math.floor(Ye/nn)*nn;if(wr<Ye)return[Vn,wr,60-yn];var Nr=Math.floor(ft/yn)*yn;return[Vn,wr,Nr]}function pt(se,Ye){var ft=se.getYear(Ye),Ct=se.getMonth(Ye)+1,nn=se.getEndDate(se.getFixedDate("".concat(ft,"-").concat(Ct,"-01"))),yn=se.getDate(nn),Vn=Ct<10?"0".concat(Ct):"".concat(Ct);return"".concat(ft,"-").concat(Vn,"-").concat(yn)}function He(se){for(var Ye=se.prefixCls,ft=se.disabledDate,Ct=se.onSelect,nn=se.picker,yn=se.rowNum,Vn=se.colNum,wr=se.prefixColumn,Nr=se.rowClassName,jr=se.baseDate,bi=se.getCellClassName,Hr=se.getCellText,_r=se.getCellNode,Lr=se.getCellDate,Ar=se.generateConfig,mi=se.titleCell,oi=se.headerCells,Pt=w.useContext(kn),cn=Pt.onDateMouseEnter,Qn=Pt.onDateMouseLeave,_t=Pt.mode,Xt="".concat(Ye,"-cell"),an=[],yr=0;yr<yn;yr+=1){for(var Ur=[],ci=void 0,Yi=function(){var wo,ji=yr*Vn+ui,ko=Lr(jr,ji),os=Ie({cellDate:ko,mode:_t,disabledDate:ft,generateConfig:Ar});ui===0&&(ci=ko,wr&&Ur.push(wr(ci)));var La=mi&&mi(ko);Ur.push(w.createElement("td",{key:ui,title:La,className:J()(Xt,(0,st.Z)((wo={},(0,U.Z)(wo,"".concat(Xt,"-disabled"),os),(0,U.Z)(wo,"".concat(Xt,"-start"),Hr(ko)===1||nn==="year"&&Number(La)%10===0),(0,U.Z)(wo,"".concat(Xt,"-end"),La===pt(Ar,ko)||nn==="year"&&Number(La)%10===9),wo),bi(ko))),onClick:function(){os||Ct(ko)},onMouseEnter:function(){!os&&cn&&cn(ko)},onMouseLeave:function(){!os&&Qn&&Qn(ko)}},_r?_r(ko):w.createElement("div",{className:"".concat(Xt,"-inner")},Hr(ko))))},ui=0;ui<Vn;ui+=1)Yi();an.push(w.createElement("tr",{key:yr,className:Nr&&Nr(ci)},Ur))}return w.createElement("div",{className:"".concat(Ye,"-body")},w.createElement("table",{className:"".concat(Ye,"-content")},oi&&w.createElement("thead",null,w.createElement("tr",null,oi)),w.createElement("tbody",null,an)))}var Et=3,Vt=4;function On(se){var Ye=jt-1,ft=se.prefixCls,Ct=se.viewDate,nn=se.generateConfig,yn="".concat(ft,"-cell"),Vn=nn.getYear(Ct),wr=Math.floor(Vn/jt)*jt,Nr=Math.floor(Vn/gn)*gn,jr=Nr+gn-1,bi=nn.setYear(Ct,Nr-Math.ceil((Et*Vt*jt-gn)/2)),Hr=function(Lr){var Ar,mi=nn.getYear(Lr),oi=mi+Ye;return Ar={},(0,U.Z)(Ar,"".concat(yn,"-in-view"),Nr<=mi&&oi<=jr),(0,U.Z)(Ar,"".concat(yn,"-selected"),mi===wr),Ar};return w.createElement(He,(0,A.Z)({},se,{rowNum:Vt,colNum:Et,baseDate:bi,getCellText:function(Lr){var Ar=nn.getYear(Lr);return"".concat(Ar,"-").concat(Ar+Ye)},getCellClassName:Hr,getCellDate:function(Lr,Ar){return nn.addYear(Lr,Ar*jt)}}))}var Wn=On,pr=l(74902),Cr=l(75164),Sn=l(5110),Cn=new Map;function Fn(se,Ye){var ft;function Ct(){(0,Sn.Z)(se)?Ye():ft=(0,Cr.Z)(function(){Ct()})}return Ct(),function(){Cr.Z.cancel(ft)}}function Hn(se,Ye,ft){if(Cn.get(se)&&cancelAnimationFrame(Cn.get(se)),ft<=0){Cn.set(se,requestAnimationFrame(function(){se.scrollTop=Ye}));return}var Ct=Ye-se.scrollTop,nn=Ct/ft*10;Cn.set(se,requestAnimationFrame(function(){se.scrollTop+=nn,se.scrollTop!==Ye&&Hn(se,Ye,ft-10)}))}function sr(se,Ye){var ft=Ye.onLeftRight,Ct=Ye.onCtrlLeftRight,nn=Ye.onUpDown,yn=Ye.onPageUpDown,Vn=Ye.onEnter,wr=se.which,Nr=se.ctrlKey,jr=se.metaKey;switch(wr){case qt.Z.LEFT:if(Nr||jr){if(Ct)return Ct(-1),!0}else if(ft)return ft(-1),!0;break;case qt.Z.RIGHT:if(Nr||jr){if(Ct)return Ct(1),!0}else if(ft)return ft(1),!0;break;case qt.Z.UP:if(nn)return nn(-1),!0;break;case qt.Z.DOWN:if(nn)return nn(1),!0;break;case qt.Z.PAGE_UP:if(yn)return yn(-1),!0;break;case qt.Z.PAGE_DOWN:if(yn)return yn(1),!0;break;case qt.Z.ENTER:if(Vn)return Vn(),!0;break}return!1}function ti(se,Ye,ft,Ct){var nn=se;if(!nn)switch(Ye){case"time":nn=Ct?"hh:mm:ss a":"HH:mm:ss";break;case"week":nn="gggg-wo";break;case"month":nn="YYYY-MM";break;case"quarter":nn="YYYY-[Q]Q";break;case"year":nn="YYYY";break;default:nn=ft?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return nn}function Ir(se,Ye,ft){var Ct=se==="time"?8:10,nn=typeof Ye=="function"?Ye(ft.getNow()).length:Ye.length;return Math.max(Ct,nn)+2}var kr=null,di=new Set;function Yn(se){return!kr&&typeof window!="undefined"&&window.addEventListener&&(kr=function(ft){(0,pr.Z)(di).forEach(function(Ct){Ct(ft)})},window.addEventListener("mousedown",kr)),di.add(se),function(){di.delete(se),di.size===0&&(window.removeEventListener("mousedown",kr),kr=null)}}function Bt(se){var Ye=se.target;if(se.composed&&Ye.shadowRoot){var ft;return((ft=se.composedPath)===null||ft===void 0?void 0:ft.call(se)[0])||Ye}return Ye}var kt=function(Ye){return Ye==="month"||Ye==="date"?"year":Ye},dn=function(Ye){return Ye==="date"?"month":Ye},Ot=function(Ye){return Ye==="month"||Ye==="date"?"quarter":Ye},ur=function(Ye){return Ye==="date"?"week":Ye},Mn={year:kt,month:dn,quarter:Ot,week:ur,time:null,date:null};function zr(se,Ye){return se.some(function(ft){return ft&&ft.contains(Ye)})}var jt=10,gn=jt*10;function Ln(se){var Ye=se.prefixCls,ft=se.onViewDateChange,Ct=se.generateConfig,nn=se.viewDate,yn=se.operationRef,Vn=se.onSelect,wr=se.onPanelChange,Nr="".concat(Ye,"-decade-panel");yn.current={onKeyDown:function(_r){return sr(_r,{onLeftRight:function(Ar){Vn(Ct.addYear(nn,Ar*jt),"key")},onCtrlLeftRight:function(Ar){Vn(Ct.addYear(nn,Ar*gn),"key")},onUpDown:function(Ar){Vn(Ct.addYear(nn,Ar*jt*Et),"key")},onEnter:function(){wr("year",nn)}})}};var jr=function(_r){var Lr=Ct.addYear(nn,_r*gn);ft(Lr),wr(null,Lr)},bi=function(_r){Vn(_r,"mouse"),wr("year",_r)};return w.createElement("div",{className:Nr},w.createElement(Ze,(0,A.Z)({},se,{prefixCls:Ye,onPrevDecades:function(){jr(-1)},onNextDecades:function(){jr(1)}})),w.createElement(Wn,(0,A.Z)({},se,{prefixCls:Ye,onSelect:bi})))}var vt=Ln,Zt=7;function or(se,Ye){if(!se&&!Ye)return!0;if(!se||!Ye)return!1}function ir(se,Ye,ft){var Ct=or(Ye,ft);if(typeof Ct=="boolean")return Ct;var nn=Math.floor(se.getYear(Ye)/10),yn=Math.floor(se.getYear(ft)/10);return nn===yn}function lr(se,Ye,ft){var Ct=or(Ye,ft);return typeof Ct=="boolean"?Ct:se.getYear(Ye)===se.getYear(ft)}function Pr(se,Ye){var ft=Math.floor(se.getMonth(Ye)/3);return ft+1}function $r(se,Ye,ft){var Ct=or(Ye,ft);return typeof Ct=="boolean"?Ct:lr(se,Ye,ft)&&Pr(se,Ye)===Pr(se,ft)}function dr(se,Ye,ft){var Ct=or(Ye,ft);return typeof Ct=="boolean"?Ct:lr(se,Ye,ft)&&se.getMonth(Ye)===se.getMonth(ft)}function ni(se,Ye,ft){var Ct=or(Ye,ft);return typeof Ct=="boolean"?Ct:se.getYear(Ye)===se.getYear(ft)&&se.getMonth(Ye)===se.getMonth(ft)&&se.getDate(Ye)===se.getDate(ft)}function un(se,Ye,ft){var Ct=or(Ye,ft);return typeof Ct=="boolean"?Ct:se.getHour(Ye)===se.getHour(ft)&&se.getMinute(Ye)===se.getMinute(ft)&&se.getSecond(Ye)===se.getSecond(ft)}function ue(se,Ye,ft,Ct){var nn=or(ft,Ct);return typeof nn=="boolean"?nn:lr(se,ft,Ct)&&se.locale.getWeek(Ye,ft)===se.locale.getWeek(Ye,Ct)}function De(se,Ye,ft){return ni(se,Ye,ft)&&un(se,Ye,ft)}function oe(se,Ye,ft,Ct){return!Ye||!ft||!Ct?!1:!ni(se,Ye,Ct)&&!ni(se,ft,Ct)&&se.isAfter(Ct,Ye)&&se.isAfter(ft,Ct)}function R(se,Ye,ft){var Ct=Ye.locale.getWeekFirstDay(se),nn=Ye.setDate(ft,1),yn=Ye.getWeekDay(nn),Vn=Ye.addDate(nn,Ct-yn);return Ye.getMonth(Vn)===Ye.getMonth(ft)&&Ye.getDate(Vn)>1&&(Vn=Ye.addDate(Vn,-7)),Vn}function N(se,Ye,ft){var Ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;switch(Ye){case"year":return ft.addYear(se,Ct*10);case"quarter":case"month":return ft.addYear(se,Ct);default:return ft.addMonth(se,Ct)}}function G(se,Ye){var ft=Ye.generateConfig,Ct=Ye.locale,nn=Ye.format;return typeof nn=="function"?nn(se):ft.locale.format(Ct.locale,se,nn)}function ye(se,Ye){var ft=Ye.generateConfig,Ct=Ye.locale,nn=Ye.formatList;return!se||typeof nn[0]=="function"?null:ft.locale.parse(Ct.locale,se,nn)}function Ie(se){var Ye=se.cellDate,ft=se.mode,Ct=se.disabledDate,nn=se.generateConfig;if(!Ct)return!1;var yn=function(Ar,mi,oi){for(var Pt=mi;Pt<=oi;){var cn=void 0;switch(Ar){case"date":{if(cn=nn.setDate(Ye,Pt),!Ct(cn))return!1;break}case"month":{if(cn=nn.setMonth(Ye,Pt),!Ie({cellDate:cn,mode:"month",generateConfig:nn,disabledDate:Ct}))return!1;break}case"year":{if(cn=nn.setYear(Ye,Pt),!Ie({cellDate:cn,mode:"year",generateConfig:nn,disabledDate:Ct}))return!1;break}}Pt+=1}return!0};switch(ft){case"date":case"week":return Ct(Ye);case"month":{var Vn=1,wr=nn.getDate(nn.getEndDate(Ye));return yn("date",Vn,wr)}case"quarter":{var Nr=Math.floor(nn.getMonth(Ye)/3)*3,jr=Nr+2;return yn("month",Nr,jr)}case"year":return yn("month",0,11);case"decade":{var bi=nn.getYear(Ye),Hr=Math.floor(bi/jt)*jt,_r=Hr+jt-1;return yn("year",Hr,_r)}}}function ze(se){var Ye=w.useContext(kn),ft=Ye.hideHeader;if(ft)return null;var Ct=se.prefixCls,nn=se.generateConfig,yn=se.locale,Vn=se.value,wr=se.format,Nr="".concat(Ct,"-header");return w.createElement(ee,{prefixCls:Nr},Vn?G(Vn,{locale:yn,format:wr,generateConfig:nn}):"\xA0")}var Ce=ze,ke=l(56982);function rt(se){var Ye=se.value,ft=se.generateConfig,Ct=se.disabledMinutes,nn=se.disabledSeconds,yn=se.minutes,Vn=se.seconds,wr=se.use12Hours,Nr=function(bi,Hr,_r,Lr){var Ar=Ye||ft.getNow(),mi=Math.max(0,Hr),oi=Math.max(0,_r),Pt=Math.max(0,Lr),cn=Ct&&Ct(mi);if(cn!=null&&cn.includes(oi)){var Qn=yn.find(function(an){return!cn.includes(an.value)});if(Qn)oi=Qn.value;else return null}var _t=nn&&nn(mi,oi);if(_t!=null&&_t.includes(Pt)){var Xt=Vn.find(function(an){return!_t.includes(an.value)});if(Xt)Pt=Xt.value;else return null}return Ar=ot(ft,Ar,!wr||!bi?mi:mi+12,oi,Pt),Ar};return Nr}function Tt(se,Ye){for(var ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",Ct=String(se);Ct.length<Ye;)Ct="".concat(ft).concat(se);return Ct}var En=function(){for(var Ye=arguments.length,ft=new Array(Ye),Ct=0;Ct<Ye;Ct++)ft[Ct]=arguments[Ct];return ft};function Rn(se){return se==null?[]:Array.isArray(se)?se:[se]}function $n(se){var Ye={};return Object.keys(se).forEach(function(ft){(ft.substr(0,5)==="data-"||ft.substr(0,5)==="aria-"||ft==="role"||ft==="name")&&ft.substr(0,7)!=="data-__"&&(Ye[ft]=se[ft])}),Ye}function Xn(se,Ye){return se?se[Ye]:null}function $t(se,Ye,ft){var Ct=[Xn(se,0),Xn(se,1)];return Ct[ft]=typeof Ye=="function"?Ye(Ct[ft]):Ye,!Ct[0]&&!Ct[1]?null:Ct}function hn(se){var Ye=se.prefixCls,ft=se.units,Ct=se.onSelect,nn=se.value,yn=se.active,Vn=se.hideDisabledOptions,wr="".concat(Ye,"-cell"),Nr=w.useContext(kn),jr=Nr.open,bi=(0,w.useRef)(null),Hr=(0,w.useRef)(new Map),_r=(0,w.useRef)();return(0,w.useLayoutEffect)(function(){var Lr=Hr.current.get(nn);Lr&&jr!==!1&&Hn(bi.current,Lr.offsetTop,120)},[nn]),(0,w.useLayoutEffect)(function(){if(jr){var Lr=Hr.current.get(nn);Lr&&(_r.current=Fn(Lr,function(){Hn(bi.current,Lr.offsetTop,0)}))}return function(){var Ar;(Ar=_r.current)===null||Ar===void 0||Ar.call(_r)}},[jr]),w.createElement("ul",{className:J()("".concat(Ye,"-column"),(0,U.Z)({},"".concat(Ye,"-column-active"),yn)),ref:bi,style:{position:"relative"}},ft.map(function(Lr){var Ar;return Vn&&Lr.disabled?null:w.createElement("li",{key:Lr.value,ref:function(oi){Hr.current.set(Lr.value,oi)},className:J()(wr,(Ar={},(0,U.Z)(Ar,"".concat(wr,"-disabled"),Lr.disabled),(0,U.Z)(Ar,"".concat(wr,"-selected"),nn===Lr.value),Ar)),onClick:function(){Lr.disabled||Ct(Lr.value)}},w.createElement("div",{className:"".concat(wr,"-inner")},Lr.label))}))}var bn=hn;function br(se,Ye){if(se.length!==Ye.length)return!0;for(var ft=0;ft<se.length;ft+=1)if(se[ft].disabled!==Ye[ft].disabled)return!0;return!1}function qn(se,Ye,ft,Ct){for(var nn=[],yn=ft>=1?ft|0:1,Vn=se;Vn<=Ye;Vn+=yn)nn.push({label:Tt(Vn,2),value:Vn,disabled:(Ct||[]).includes(Vn)});return nn}function Li(se){var Ye=se.generateConfig,ft=se.prefixCls,Ct=se.operationRef,nn=se.activeColumnIndex,yn=se.value,Vn=se.showHour,wr=se.showMinute,Nr=se.showSecond,jr=se.use12Hours,bi=se.hourStep,Hr=bi===void 0?1:bi,_r=se.minuteStep,Lr=_r===void 0?1:_r,Ar=se.secondStep,mi=Ar===void 0?1:Ar,oi=se.disabledHours,Pt=se.disabledMinutes,cn=se.disabledSeconds,Qn=se.disabledTime,_t=se.hideDisabledOptions,Xt=se.onSelect,an=[],yr="".concat(ft,"-content"),Ur="".concat(ft,"-time-panel"),ci,Yi=yn?Ye.getHour(yn):-1,ui=Yi,go=yn?Ye.getMinute(yn):-1,wo=yn?Ye.getSecond(yn):-1,ji=Ye.getNow(),ko=w.useMemo(function(){if(Qn){var Fa=Qn(ji);return[Fa.disabledHours,Fa.disabledMinutes,Fa.disabledSeconds]}return[oi,Pt,cn]},[oi,Pt,cn,Qn,ji]),os=(0,$.Z)(ko,3),La=os[0],Ua=os[1],cs=os[2],sa=qn(0,23,Hr,La&&La()),Ka=(0,ke.Z)(function(){return sa},sa,br);jr&&(ci=ui>=12,ui%=12);var Ks=w.useMemo(function(){if(!jr)return[!1,!1];var Fa=[!0,!0];return Ka.forEach(function(Ys){var Us=Ys.disabled,_s=Ys.value;Us||(_s>=12?Fa[1]=!1:Fa[0]=!1)}),Fa},[jr,Ka]),qs=(0,$.Z)(Ks,2),yl=qs[0],Ds=qs[1],tc=w.useMemo(function(){return jr?Ka.filter(ci?function(Fa){return Fa.value>=12}:function(Fa){return Fa.value<12}).map(function(Fa){var Ys=Fa.value%12,Us=Ys===0?"12":Tt(Ys,2);return(0,st.Z)((0,st.Z)({},Fa),{},{label:Us,value:Ys})}):Ka},[jr,ci,Ka]),Rl=qn(0,59,Lr,Ua&&Ua(Yi)),Ca=qn(0,59,mi,cs&&cs(Yi,go)),us=rt({value:yn,generateConfig:Ye,disabledMinutes:Ua,disabledSeconds:cs,minutes:Rl,seconds:Ca,use12Hours:jr});Ct.current={onUpDown:function(Ys){var Us=an[nn];if(Us)for(var _s=Us.units.findIndex(function(Pc){return Pc.value===Us.value}),Tl=Us.units.length,Bl=1;Bl<Tl;Bl+=1){var Zl=Us.units[(_s+Ys*Bl+Tl)%Tl];if(Zl.disabled!==!0){Us.onSelect(Zl.value);break}}}};function Va(Fa,Ys,Us,_s,Tl){Fa!==!1&&an.push({node:w.cloneElement(Ys,{prefixCls:Ur,value:Us,active:nn===an.length,onSelect:Tl,units:_s,hideDisabledOptions:_t}),onSelect:Tl,value:Us,units:_s})}Va(Vn,w.createElement(bn,{key:"hour"}),ui,tc,function(Fa){Xt(us(ci,Fa,go,wo),"mouse")}),Va(wr,w.createElement(bn,{key:"minute"}),go,Rl,function(Fa){Xt(us(ci,ui,Fa,wo),"mouse")}),Va(Nr,w.createElement(bn,{key:"second"}),wo,Ca,function(Fa){Xt(us(ci,ui,go,Fa),"mouse")});var zs=-1;return typeof ci=="boolean"&&(zs=ci?1:0),Va(jr===!0,w.createElement(bn,{key:"12hours"}),zs,[{label:"AM",value:0,disabled:yl},{label:"PM",value:1,disabled:Ds}],function(Fa){Xt(us(!!Fa,ui,go,wo),"mouse")}),w.createElement("div",{className:yr},an.map(function(Fa){var Ys=Fa.node;return Ys}))}var $i=Li,Bi=function(Ye){return Ye.filter(function(ft){return ft!==!1}).length};function co(se){var Ye=se.generateConfig,ft=se.format,Ct=ft===void 0?"HH:mm:ss":ft,nn=se.prefixCls,yn=se.active,Vn=se.operationRef,wr=se.showHour,Nr=se.showMinute,jr=se.showSecond,bi=se.use12Hours,Hr=bi===void 0?!1:bi,_r=se.onSelect,Lr=se.value,Ar="".concat(nn,"-time-panel"),mi=w.useRef(),oi=w.useState(-1),Pt=(0,$.Z)(oi,2),cn=Pt[0],Qn=Pt[1],_t=Bi([wr,Nr,jr,Hr]);return Vn.current={onKeyDown:function(an){return sr(an,{onLeftRight:function(Ur){Qn((cn+Ur+_t)%_t)},onUpDown:function(Ur){cn===-1?Qn(0):mi.current&&mi.current.onUpDown(Ur)},onEnter:function(){_r(Lr||Ye.getNow(),"key"),Qn(-1)}})},onBlur:function(){Qn(-1)}},w.createElement("div",{className:J()(Ar,(0,U.Z)({},"".concat(Ar,"-active"),yn))},w.createElement(Ce,(0,A.Z)({},se,{format:Ct,prefixCls:nn})),w.createElement($i,(0,A.Z)({},se,{prefixCls:nn,activeColumnIndex:cn,operationRef:mi})))}var Do=co,Wo=w.createContext({}),hi=Wo;function ua(se){var Ye=se.cellPrefixCls,ft=se.generateConfig,Ct=se.rangedValue,nn=se.hoverRangedValue,yn=se.isInView,Vn=se.isSameCell,wr=se.offsetCell,Nr=se.today,jr=se.value;function bi(Hr){var _r,Lr=wr(Hr,-1),Ar=wr(Hr,1),mi=Xn(Ct,0),oi=Xn(Ct,1),Pt=Xn(nn,0),cn=Xn(nn,1),Qn=oe(ft,Pt,cn,Hr);function _t(Yi){return Vn(mi,Yi)}function Xt(Yi){return Vn(oi,Yi)}var an=Vn(Pt,Hr),yr=Vn(cn,Hr),Ur=(Qn||yr)&&(!yn(Lr)||Xt(Lr)),ci=(Qn||an)&&(!yn(Ar)||_t(Ar));return _r={},(0,U.Z)(_r,"".concat(Ye,"-in-view"),yn(Hr)),(0,U.Z)(_r,"".concat(Ye,"-in-range"),oe(ft,mi,oi,Hr)),(0,U.Z)(_r,"".concat(Ye,"-range-start"),_t(Hr)),(0,U.Z)(_r,"".concat(Ye,"-range-end"),Xt(Hr)),(0,U.Z)(_r,"".concat(Ye,"-range-start-single"),_t(Hr)&&!oi),(0,U.Z)(_r,"".concat(Ye,"-range-end-single"),Xt(Hr)&&!mi),(0,U.Z)(_r,"".concat(Ye,"-range-start-near-hover"),_t(Hr)&&(Vn(Lr,Pt)||oe(ft,Pt,cn,Lr))),(0,U.Z)(_r,"".concat(Ye,"-range-end-near-hover"),Xt(Hr)&&(Vn(Ar,cn)||oe(ft,Pt,cn,Ar))),(0,U.Z)(_r,"".concat(Ye,"-range-hover"),Qn),(0,U.Z)(_r,"".concat(Ye,"-range-hover-start"),an),(0,U.Z)(_r,"".concat(Ye,"-range-hover-end"),yr),(0,U.Z)(_r,"".concat(Ye,"-range-hover-edge-start"),Ur),(0,U.Z)(_r,"".concat(Ye,"-range-hover-edge-end"),ci),(0,U.Z)(_r,"".concat(Ye,"-range-hover-edge-start-near-range"),Ur&&Vn(Lr,oi)),(0,U.Z)(_r,"".concat(Ye,"-range-hover-edge-end-near-range"),ci&&Vn(Ar,mi)),(0,U.Z)(_r,"".concat(Ye,"-today"),Vn(Nr,Hr)),(0,U.Z)(_r,"".concat(Ye,"-selected"),Vn(jr,Hr)),_r}return bi}function ya(se){var Ye=se.prefixCls,ft=se.generateConfig,Ct=se.prefixColumn,nn=se.locale,yn=se.rowCount,Vn=se.viewDate,wr=se.value,Nr=se.dateRender,jr=w.useContext(hi),bi=jr.rangedValue,Hr=jr.hoverRangedValue,_r=R(nn.locale,ft,Vn),Lr="".concat(Ye,"-cell"),Ar=ft.locale.getWeekFirstDay(nn.locale),mi=ft.getNow(),oi=[],Pt=nn.shortWeekDays||(ft.locale.getShortWeekDays?ft.locale.getShortWeekDays(nn.locale):[]);Ct&&oi.push(w.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var cn=0;cn<Zt;cn+=1)oi.push(w.createElement("th",{key:cn},Pt[(cn+Ar)%Zt]));var Qn=ua({cellPrefixCls:Lr,today:mi,value:wr,generateConfig:ft,rangedValue:Ct?null:bi,hoverRangedValue:Ct?null:Hr,isSameCell:function(an,yr){return ni(ft,an,yr)},isInView:function(an){return dr(ft,an,Vn)},offsetCell:function(an,yr){return ft.addDate(an,yr)}}),_t=Nr?function(Xt){return Nr(Xt,mi)}:void 0;return w.createElement(He,(0,A.Z)({},se,{rowNum:yn,colNum:Zt,baseDate:_r,getCellNode:_t,getCellText:ft.getDate,getCellClassName:Qn,getCellDate:ft.addDate,titleCell:function(an){return G(an,{locale:nn,format:"YYYY-MM-DD",generateConfig:ft})},headerCells:oi}))}var fi=ya;function Pi(se){var Ye=se.prefixCls,ft=se.generateConfig,Ct=se.locale,nn=se.viewDate,yn=se.onNextMonth,Vn=se.onPrevMonth,wr=se.onNextYear,Nr=se.onPrevYear,jr=se.onYearClick,bi=se.onMonthClick,Hr=w.useContext(kn),_r=Hr.hideHeader;if(_r)return null;var Lr="".concat(Ye,"-header"),Ar=Ct.shortMonths||(ft.locale.getShortMonths?ft.locale.getShortMonths(Ct.locale):[]),mi=ft.getMonth(nn),oi=w.createElement("button",{type:"button",key:"year",onClick:jr,tabIndex:-1,className:"".concat(Ye,"-year-btn")},G(nn,{locale:Ct,format:Ct.yearFormat,generateConfig:ft})),Pt=w.createElement("button",{type:"button",key:"month",onClick:bi,tabIndex:-1,className:"".concat(Ye,"-month-btn")},Ct.monthFormat?G(nn,{locale:Ct,format:Ct.monthFormat,generateConfig:ft}):Ar[mi]),cn=Ct.monthBeforeYear?[Pt,oi]:[oi,Pt];return w.createElement(ee,(0,A.Z)({},se,{prefixCls:Lr,onSuperPrev:Nr,onPrev:Vn,onNext:yn,onSuperNext:wr}),cn)}var Qi=Pi,Zi=6;function Ta(se){var Ye=se.prefixCls,ft=se.panelName,Ct=ft===void 0?"date":ft,nn=se.keyboardConfig,yn=se.active,Vn=se.operationRef,wr=se.generateConfig,Nr=se.value,jr=se.viewDate,bi=se.onViewDateChange,Hr=se.onPanelChange,_r=se.onSelect,Lr="".concat(Ye,"-").concat(Ct,"-panel");Vn.current={onKeyDown:function(Pt){return sr(Pt,(0,st.Z)({onLeftRight:function(Qn){_r(wr.addDate(Nr||jr,Qn),"key")},onCtrlLeftRight:function(Qn){_r(wr.addYear(Nr||jr,Qn),"key")},onUpDown:function(Qn){_r(wr.addDate(Nr||jr,Qn*Zt),"key")},onPageUpDown:function(Qn){_r(wr.addMonth(Nr||jr,Qn),"key")}},nn))}};var Ar=function(Pt){var cn=wr.addYear(jr,Pt);bi(cn),Hr(null,cn)},mi=function(Pt){var cn=wr.addMonth(jr,Pt);bi(cn),Hr(null,cn)};return w.createElement("div",{className:J()(Lr,(0,U.Z)({},"".concat(Lr,"-active"),yn))},w.createElement(Qi,(0,A.Z)({},se,{prefixCls:Ye,value:Nr,viewDate:jr,onPrevYear:function(){Ar(-1)},onNextYear:function(){Ar(1)},onPrevMonth:function(){mi(-1)},onNextMonth:function(){mi(1)},onMonthClick:function(){Hr("month",jr)},onYearClick:function(){Hr("year",jr)}})),w.createElement(fi,(0,A.Z)({},se,{onSelect:function(Pt){return _r(Pt,"mouse")},prefixCls:Ye,value:Nr,viewDate:jr,rowCount:Zi})))}var uo=Ta,xa=En("date","time");function Qo(se){var Ye=se.prefixCls,ft=se.operationRef,Ct=se.generateConfig,nn=se.value,yn=se.defaultValue,Vn=se.disabledTime,wr=se.showTime,Nr=se.onSelect,jr="".concat(Ye,"-datetime-panel"),bi=w.useState(null),Hr=(0,$.Z)(bi,2),_r=Hr[0],Lr=Hr[1],Ar=w.useRef({}),mi=w.useRef({}),oi=(0,Ft.Z)(wr)==="object"?(0,st.Z)({},wr):{};function Pt(Xt){var an=xa.indexOf(_r)+Xt,yr=xa[an]||null;return yr}var cn=function(an){mi.current.onBlur&&mi.current.onBlur(an),Lr(null)};ft.current={onKeyDown:function(an){if(an.which===qt.Z.TAB){var yr=Pt(an.shiftKey?-1:1);return Lr(yr),yr&&an.preventDefault(),!0}if(_r){var Ur=_r==="date"?Ar:mi;return Ur.current&&Ur.current.onKeyDown&&Ur.current.onKeyDown(an),!0}return[qt.Z.LEFT,qt.Z.RIGHT,qt.Z.UP,qt.Z.DOWN].includes(an.which)?(Lr("date"),!0):!1},onBlur:cn,onClose:cn};var Qn=function(an,yr){var Ur=an;yr==="date"&&!nn&&oi.defaultValue?(Ur=Ct.setHour(Ur,Ct.getHour(oi.defaultValue)),Ur=Ct.setMinute(Ur,Ct.getMinute(oi.defaultValue)),Ur=Ct.setSecond(Ur,Ct.getSecond(oi.defaultValue))):yr==="time"&&!nn&&yn&&(Ur=Ct.setYear(Ur,Ct.getYear(yn)),Ur=Ct.setMonth(Ur,Ct.getMonth(yn)),Ur=Ct.setDate(Ur,Ct.getDate(yn))),Nr&&Nr(Ur,"mouse")},_t=Vn?Vn(nn||null):{};return w.createElement("div",{className:J()(jr,(0,U.Z)({},"".concat(jr,"-active"),_r))},w.createElement(uo,(0,A.Z)({},se,{operationRef:Ar,active:_r==="date",onSelect:function(an){Qn(Xe(Ct,an,!nn&&(0,Ft.Z)(wr)==="object"?wr.defaultValue:null),"date")}})),w.createElement(Do,(0,A.Z)({},se,{format:void 0},oi,_t,{disabledTime:null,defaultValue:void 0,operationRef:mi,active:_r==="time",onSelect:function(an){Qn(an,"time")}})))}var ra=Qo;function To(se){var Ye=se.prefixCls,ft=se.generateConfig,Ct=se.locale,nn=se.value,yn="".concat(Ye,"-cell"),Vn=function(bi){return w.createElement("td",{key:"week",className:J()(yn,"".concat(yn,"-week"))},ft.locale.getWeek(Ct.locale,bi))},wr="".concat(Ye,"-week-panel-row"),Nr=function(bi){return J()(wr,(0,U.Z)({},"".concat(wr,"-selected"),ue(ft,Ct.locale,nn,bi)))};return w.createElement(uo,(0,A.Z)({},se,{panelName:"week",prefixColumn:Vn,rowClassName:Nr,keyboardConfig:{onLeftRight:null}}))}var fa=To;function Ba(se){var Ye=se.prefixCls,ft=se.generateConfig,Ct=se.locale,nn=se.viewDate,yn=se.onNextYear,Vn=se.onPrevYear,wr=se.onYearClick,Nr=w.useContext(kn),jr=Nr.hideHeader;if(jr)return null;var bi="".concat(Ye,"-header");return w.createElement(ee,(0,A.Z)({},se,{prefixCls:bi,onSuperPrev:Vn,onSuperNext:yn}),w.createElement("button",{type:"button",onClick:wr,className:"".concat(Ye,"-year-btn")},G(nn,{locale:Ct,format:Ct.yearFormat,generateConfig:ft})))}var xt=Ba,sn=3,Ht=4;function jn(se){var Ye=se.prefixCls,ft=se.locale,Ct=se.value,nn=se.viewDate,yn=se.generateConfig,Vn=se.monthCellRender,wr=w.useContext(hi),Nr=wr.rangedValue,jr=wr.hoverRangedValue,bi="".concat(Ye,"-cell"),Hr=ua({cellPrefixCls:bi,value:Ct,generateConfig:yn,rangedValue:Nr,hoverRangedValue:jr,isSameCell:function(oi,Pt){return dr(yn,oi,Pt)},isInView:function(){return!0},offsetCell:function(oi,Pt){return yn.addMonth(oi,Pt)}}),_r=ft.shortMonths||(yn.locale.getShortMonths?yn.locale.getShortMonths(ft.locale):[]),Lr=yn.setMonth(nn,0),Ar=Vn?function(mi){return Vn(mi,ft)}:void 0;return w.createElement(He,(0,A.Z)({},se,{rowNum:Ht,colNum:sn,baseDate:Lr,getCellNode:Ar,getCellText:function(oi){return ft.monthFormat?G(oi,{locale:ft,format:ft.monthFormat,generateConfig:yn}):_r[yn.getMonth(oi)]},getCellClassName:Hr,getCellDate:yn.addMonth,titleCell:function(oi){return G(oi,{locale:ft,format:"YYYY-MM",generateConfig:yn})}}))}var xr=jn;function nr(se){var Ye=se.prefixCls,ft=se.operationRef,Ct=se.onViewDateChange,nn=se.generateConfig,yn=se.value,Vn=se.viewDate,wr=se.onPanelChange,Nr=se.onSelect,jr="".concat(Ye,"-month-panel");ft.current={onKeyDown:function(_r){return sr(_r,{onLeftRight:function(Ar){Nr(nn.addMonth(yn||Vn,Ar),"key")},onCtrlLeftRight:function(Ar){Nr(nn.addYear(yn||Vn,Ar),"key")},onUpDown:function(Ar){Nr(nn.addMonth(yn||Vn,Ar*sn),"key")},onEnter:function(){wr("date",yn||Vn)}})}};var bi=function(_r){var Lr=nn.addYear(Vn,_r);Ct(Lr),wr(null,Lr)};return w.createElement("div",{className:jr},w.createElement(xt,(0,A.Z)({},se,{prefixCls:Ye,onPrevYear:function(){bi(-1)},onNextYear:function(){bi(1)},onYearClick:function(){wr("year",Vn)}})),w.createElement(xr,(0,A.Z)({},se,{prefixCls:Ye,onSelect:function(_r){Nr(_r,"mouse"),wr("date",_r)}})))}var zt=nr;function Qr(se){var Ye=se.prefixCls,ft=se.generateConfig,Ct=se.locale,nn=se.viewDate,yn=se.onNextYear,Vn=se.onPrevYear,wr=se.onYearClick,Nr=w.useContext(kn),jr=Nr.hideHeader;if(jr)return null;var bi="".concat(Ye,"-header");return w.createElement(ee,(0,A.Z)({},se,{prefixCls:bi,onSuperPrev:Vn,onSuperNext:yn}),w.createElement("button",{type:"button",onClick:wr,className:"".concat(Ye,"-year-btn")},G(nn,{locale:Ct,format:Ct.yearFormat,generateConfig:ft})))}var hr=Qr,gi=4,mo=1;function No(se){var Ye=se.prefixCls,ft=se.locale,Ct=se.value,nn=se.viewDate,yn=se.generateConfig,Vn=w.useContext(hi),wr=Vn.rangedValue,Nr=Vn.hoverRangedValue,jr="".concat(Ye,"-cell"),bi=ua({cellPrefixCls:jr,value:Ct,generateConfig:yn,rangedValue:wr,hoverRangedValue:Nr,isSameCell:function(Lr,Ar){return $r(yn,Lr,Ar)},isInView:function(){return!0},offsetCell:function(Lr,Ar){return yn.addMonth(Lr,Ar*3)}}),Hr=yn.setDate(yn.setMonth(nn,0),1);return w.createElement(He,(0,A.Z)({},se,{rowNum:mo,colNum:gi,baseDate:Hr,getCellText:function(Lr){return G(Lr,{locale:ft,format:ft.quarterFormat||"[Q]Q",generateConfig:yn})},getCellClassName:bi,getCellDate:function(Lr,Ar){return yn.addMonth(Lr,Ar*3)},titleCell:function(Lr){return G(Lr,{locale:ft,format:"YYYY-[Q]Q",generateConfig:yn})}}))}var io=No;function Ti(se){var Ye=se.prefixCls,ft=se.operationRef,Ct=se.onViewDateChange,nn=se.generateConfig,yn=se.value,Vn=se.viewDate,wr=se.onPanelChange,Nr=se.onSelect,jr="".concat(Ye,"-quarter-panel");ft.current={onKeyDown:function(_r){return sr(_r,{onLeftRight:function(Ar){Nr(nn.addMonth(yn||Vn,Ar*3),"key")},onCtrlLeftRight:function(Ar){Nr(nn.addYear(yn||Vn,Ar),"key")},onUpDown:function(Ar){Nr(nn.addYear(yn||Vn,Ar),"key")}})}};var bi=function(_r){var Lr=nn.addYear(Vn,_r);Ct(Lr),wr(null,Lr)};return w.createElement("div",{className:jr},w.createElement(hr,(0,A.Z)({},se,{prefixCls:Ye,onPrevYear:function(){bi(-1)},onNextYear:function(){bi(1)},onYearClick:function(){wr("year",Vn)}})),w.createElement(io,(0,A.Z)({},se,{prefixCls:Ye,onSelect:function(_r){Nr(_r,"mouse")}})))}var Fi=Ti;function ha(se){var Ye=se.prefixCls,ft=se.generateConfig,Ct=se.viewDate,nn=se.onPrevDecade,yn=se.onNextDecade,Vn=se.onDecadeClick,wr=w.useContext(kn),Nr=wr.hideHeader;if(Nr)return null;var jr="".concat(Ye,"-header"),bi=ft.getYear(Ct),Hr=Math.floor(bi/Ki)*Ki,_r=Hr+Ki-1;return w.createElement(ee,(0,A.Z)({},se,{prefixCls:jr,onSuperPrev:nn,onSuperNext:yn}),w.createElement("button",{type:"button",onClick:Vn,className:"".concat(Ye,"-decade-btn")},Hr,"-",_r))}var Ea=ha,ea=3,Ja=4;function hs(se){var Ye=se.prefixCls,ft=se.value,Ct=se.viewDate,nn=se.locale,yn=se.generateConfig,Vn=w.useContext(hi),wr=Vn.rangedValue,Nr=Vn.hoverRangedValue,jr="".concat(Ye,"-cell"),bi=yn.getYear(Ct),Hr=Math.floor(bi/Ki)*Ki,_r=Hr+Ki-1,Lr=yn.setYear(Ct,Hr-Math.ceil((ea*Ja-Ki)/2)),Ar=function(Pt){var cn=yn.getYear(Pt);return Hr<=cn&&cn<=_r},mi=ua({cellPrefixCls:jr,value:ft,generateConfig:yn,rangedValue:wr,hoverRangedValue:Nr,isSameCell:function(Pt,cn){return lr(yn,Pt,cn)},isInView:Ar,offsetCell:function(Pt,cn){return yn.addYear(Pt,cn)}});return w.createElement(He,(0,A.Z)({},se,{rowNum:Ja,colNum:ea,baseDate:Lr,getCellText:yn.getYear,getCellClassName:mi,getCellDate:yn.addYear,titleCell:function(Pt){return G(Pt,{locale:nn,format:"YYYY",generateConfig:yn})}}))}var Gs=hs,Ki=10;function Oa(se){var Ye=se.prefixCls,ft=se.operationRef,Ct=se.onViewDateChange,nn=se.generateConfig,yn=se.value,Vn=se.viewDate,wr=se.sourceMode,Nr=se.onSelect,jr=se.onPanelChange,bi="".concat(Ye,"-year-panel");ft.current={onKeyDown:function(Lr){return sr(Lr,{onLeftRight:function(mi){Nr(nn.addYear(yn||Vn,mi),"key")},onCtrlLeftRight:function(mi){Nr(nn.addYear(yn||Vn,mi*Ki),"key")},onUpDown:function(mi){Nr(nn.addYear(yn||Vn,mi*ea),"key")},onEnter:function(){jr(wr==="date"?"date":"month",yn||Vn)}})}};var Hr=function(Lr){var Ar=nn.addYear(Vn,Lr*10);Ct(Ar),jr(null,Ar)};return w.createElement("div",{className:bi},w.createElement(Ea,(0,A.Z)({},se,{prefixCls:Ye,onPrevDecade:function(){Hr(-1)},onNextDecade:function(){Hr(1)},onDecadeClick:function(){jr("decade",Vn)}})),w.createElement(Gs,(0,A.Z)({},se,{prefixCls:Ye,onSelect:function(Lr){jr(wr==="date"?"date":"month",Lr),Nr(Lr,"mouse")}})))}var qa=Oa;function da(se,Ye,ft){return ft?w.createElement("div",{className:"".concat(se,"-footer-extra")},ft(Ye)):null}function Aa(se){var Ye=se.prefixCls,ft=se.rangeList,Ct=ft===void 0?[]:ft,nn=se.components,yn=nn===void 0?{}:nn,Vn=se.needConfirmButton,wr=se.onNow,Nr=se.onOk,jr=se.okDisabled,bi=se.showNow,Hr=se.locale,_r,Lr;if(Ct.length){var Ar=yn.rangeItem||"span";_r=w.createElement(w.Fragment,null,Ct.map(function(oi){var Pt=oi.label,cn=oi.onClick,Qn=oi.onMouseEnter,_t=oi.onMouseLeave;return w.createElement("li",{key:Pt,className:"".concat(Ye,"-preset")},w.createElement(Ar,{onClick:cn,onMouseEnter:Qn,onMouseLeave:_t},Pt))}))}if(Vn){var mi=yn.button||"button";wr&&!_r&&bi!==!1&&(_r=w.createElement("li",{className:"".concat(Ye,"-now")},w.createElement("a",{className:"".concat(Ye,"-now-btn"),onClick:wr},Hr.now))),Lr=Vn&&w.createElement("li",{className:"".concat(Ye,"-ok")},w.createElement(mi,{disabled:jr,onClick:Nr},Hr.ok))}return!_r&&!Lr?null:w.createElement("ul",{className:"".concat(Ye,"-ranges")},_r,Lr)}var Ps=["date","month"];function wa(se){var Ye,ft=se.prefixCls,Ct=ft===void 0?"rc-picker":ft,nn=se.className,yn=se.style,Vn=se.locale,wr=se.generateConfig,Nr=se.value,jr=se.defaultValue,bi=se.pickerValue,Hr=se.defaultPickerValue,_r=se.disabledDate,Lr=se.mode,Ar=se.picker,mi=Ar===void 0?"date":Ar,oi=se.tabIndex,Pt=oi===void 0?0:oi,cn=se.showNow,Qn=se.showTime,_t=se.showToday,Xt=se.renderExtraFooter,an=se.hideHeader,yr=se.onSelect,Ur=se.onChange,ci=se.onPanelChange,Yi=se.onMouseDown,ui=se.onPickerValueChange,go=se.onOk,wo=se.components,ji=se.direction,ko=se.hourStep,os=ko===void 0?1:ko,La=se.minuteStep,Ua=La===void 0?1:La,cs=se.secondStep,sa=cs===void 0?1:cs,Ka=mi==="date"&&!!Qn||mi==="time",Ks=24%os===0,qs=60%Ua===0,yl=60%sa===0,Ds=w.useContext(kn),tc=Ds.operationRef,Rl=Ds.panelRef,Ca=Ds.onSelect,us=Ds.hideRanges,Va=Ds.defaultOpenValue,zs=w.useContext(hi),Fa=zs.inRange,Ys=zs.panelPosition,Us=zs.rangedValue,_s=zs.hoverRangedValue,Tl=w.useRef({}),Bl=w.useRef(!0),Zl=(0,lt.Z)(null,{value:Nr,defaultValue:jr,postState:function(yt){return!yt&&Va&&mi==="time"?Va:yt}}),Pc=(0,$.Z)(Zl,2),zl=Pc[0],uc=Pc[1],Uc=(0,lt.Z)(null,{value:bi,defaultValue:Hr||zl,postState:function(yt){var Ga=wr.getNow();if(!yt)return Ga;if(!zl&&Qn){var fl=(0,Ft.Z)(Qn)==="object"?Qn.defaultValue:jr;return Xe(wr,Array.isArray(yt)?yt[0]:yt,fl||Ga)}return Array.isArray(yt)?yt[0]:yt}}),nl=(0,$.Z)(Uc,2),bc=nl[0],kc=nl[1],ll=function(yt){kc(yt),ui&&ui(yt)},fc=function(yt){var Ga=Mn[mi];return Ga?Ga(yt):yt},bl=(0,lt.Z)(function(){return mi==="time"?"time":fc("date")},{value:Lr}),Ha=(0,$.Z)(bl,2),Ts=Ha[0],Yl=Ha[1];w.useEffect(function(){Yl(mi)},[mi]);var nc=w.useState(function(){return Ts}),Ol=(0,$.Z)(nc,2),Wl=Ol[0],sc=Ol[1],Cl=function(yt,Ga){var fl=fc(yt||Ts);sc(Ts),Yl(fl),ci&&(Ts!==fl||De(wr,bc,bc))&&ci(Ga,fl)},cl=function(yt,Ga){var fl=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(Ts===mi||fl)&&(uc(yt),yr&&yr(yt),Ca&&Ca(yt,Ga),Ur&&!De(wr,yt,zl)&&!(_r!=null&&_r(yt))&&Ur(yt))},bs=function(yt){if(Ps.includes(Ts)){var Ga,fl,ps=Ts==="date";switch(yt===qt.Z.PAGE_UP||yt===qt.Z.PAGE_DOWN?fl=ps?wr.addMonth:wr.addYear:fl=ps?wr.addDate:wr.addMonth,yt){case qt.Z.LEFT:case qt.Z.PAGE_UP:Ga=fl(bc,-1);break;case qt.Z.RIGHT:case qt.Z.PAGE_DOWN:Ga=fl(bc,1);break;case qt.Z.UP:case qt.Z.DOWN:Ga=fl(bc,Number("".concat(yt===qt.Z.UP?"-":"").concat(ps?Zt:sn)));break}if(Ga)return!(_r!=null&&_r(Ga))}return!0},Ia=function(yt){if(Tl.current&&Tl.current.onKeyDown){var Ga=!0,fl=yt.which;if([qt.Z.LEFT,qt.Z.RIGHT,qt.Z.UP,qt.Z.DOWN,qt.Z.PAGE_UP,qt.Z.PAGE_DOWN,qt.Z.ENTER].includes(fl)&&(yt.preventDefault(),fl!==qt.Z.ENTER&&Pt===0&&(Ga=bs(fl))),Ga)return Tl.current.onKeyDown(yt)}return(0,m.ZP)(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1},ta=function(yt){Tl.current&&Tl.current.onBlur&&Tl.current.onBlur(yt)};tc&&Ys!=="right"&&(tc.current={onKeyDown:Ia,onClose:function(){Tl.current&&Tl.current.onClose&&Tl.current.onClose()}}),w.useEffect(function(){Nr&&!Bl.current&&kc(Nr)},[Nr]),w.useEffect(function(){Bl.current=!1},[]);var Bs,ts=(0,st.Z)((0,st.Z)({},se),{},{operationRef:Tl,prefixCls:Ct,viewDate:bc,value:zl,onViewDateChange:ll,sourceMode:Wl,onPanelChange:Cl,disabledDate:_r});switch(delete ts.onChange,delete ts.onSelect,Ts){case"decade":Bs=w.createElement(vt,(0,A.Z)({},ts,{onSelect:function(yt,Ga){ll(yt),cl(yt,Ga)}}));break;case"year":Bs=w.createElement(qa,(0,A.Z)({},ts,{onSelect:function(yt,Ga){ll(yt),cl(yt,Ga)}}));break;case"month":Bs=w.createElement(zt,(0,A.Z)({},ts,{onSelect:function(yt,Ga){ll(yt),cl(yt,Ga)}}));break;case"quarter":Bs=w.createElement(Fi,(0,A.Z)({},ts,{onSelect:function(yt,Ga){ll(yt),cl(yt,Ga)}}));break;case"week":Bs=w.createElement(fa,(0,A.Z)({},ts,{onSelect:function(yt,Ga){ll(yt),cl(yt,Ga)}}));break;case"time":delete ts.showTime,Bs=w.createElement(Do,(0,A.Z)({},ts,(0,Ft.Z)(Qn)==="object"?Qn:null,{onSelect:function(yt,Ga){ll(yt),cl(yt,Ga)}}));break;default:Qn?Bs=w.createElement(ra,(0,A.Z)({},ts,{onSelect:function(yt,Ga){ll(yt),cl(yt,Ga)}})):Bs=w.createElement(uo,(0,A.Z)({},ts,{onSelect:function(yt,Ga){ll(yt),cl(yt,Ga)}}))}var Cs,Ul,Lc=function(){var yt=wr.getNow(),Ga=et(wr.getHour(yt),wr.getMinute(yt),wr.getSecond(yt),Ks?os:1,qs?Ua:1,yl?sa:1),fl=ot(wr,yt,Ga[0],Ga[1],Ga[2]);cl(fl,"submit")};us||(Cs=da(Ct,Ts,Xt),Ul=Aa({prefixCls:Ct,components:wo,needConfirmButton:Ka,okDisabled:!zl||_r&&_r(zl),locale:Vn,showNow:cn,onNow:Ka&&Lc,onOk:function(){zl&&(cl(zl,"submit",!0),go&&go(zl))}}));var rl;if(_t&&Ts==="date"&&mi==="date"&&!Qn){var Du=wr.getNow(),Vc="".concat(Ct,"-today-btn"),dc=_r&&_r(Du);rl=w.createElement("a",{className:J()(Vc,dc&&"".concat(Vc,"-disabled")),"aria-disabled":dc,onClick:function(){dc||cl(Du,"mouse",!0)}},Vn.today)}return w.createElement(kn.Provider,{value:(0,st.Z)((0,st.Z)({},Ds),{},{mode:Ts,hideHeader:"hideHeader"in se?an:Ds.hideHeader,hidePrevBtn:Fa&&Ys==="right",hideNextBtn:Fa&&Ys==="left"})},w.createElement("div",{tabIndex:Pt,className:J()("".concat(Ct,"-panel"),nn,(Ye={},(0,U.Z)(Ye,"".concat(Ct,"-panel-has-range"),Us&&Us[0]&&Us[1]),(0,U.Z)(Ye,"".concat(Ct,"-panel-has-range-hover"),_s&&_s[0]&&_s[1]),(0,U.Z)(Ye,"".concat(Ct,"-panel-rtl"),ji==="rtl"),Ye)),style:yn,onKeyDown:Ia,onBlur:ta,onMouseDown:Yi,ref:Rl},Bs,Cs||Ul||rl?w.createElement("div",{className:"".concat(Ct,"-footer")},Cs,Ul,rl):null))}var is=wa,Pl=l(81263),F={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function X(se){var Ye,ft=se.prefixCls,Ct=se.popupElement,nn=se.popupStyle,yn=se.visible,Vn=se.dropdownClassName,wr=se.dropdownAlign,Nr=se.transitionName,jr=se.getPopupContainer,bi=se.children,Hr=se.range,_r=se.popupPlacement,Lr=se.direction,Ar="".concat(ft,"-dropdown"),mi=function(){return _r!==void 0?_r:Lr==="rtl"?"bottomRight":"bottomLeft"};return w.createElement(Pl.Z,{showAction:[],hideAction:[],popupPlacement:mi(),builtinPlacements:F,prefixCls:Ar,popupTransitionName:Nr,popup:Ct,popupAlign:wr,popupVisible:yn,popupClassName:J()(Vn,(Ye={},(0,U.Z)(Ye,"".concat(Ar,"-range"),Hr),(0,U.Z)(Ye,"".concat(Ar,"-rtl"),Lr==="rtl"),Ye)),popupStyle:nn,getPopupContainer:jr},bi)}var ge=X;function _e(se){var Ye=se.open,ft=se.value,Ct=se.isClickOutside,nn=se.triggerOpen,yn=se.forwardKeyDown,Vn=se.onKeyDown,wr=se.blurToCancel,Nr=se.onSubmit,jr=se.onCancel,bi=se.onFocus,Hr=se.onBlur,_r=se.currentFocusedKey,Lr=se.key,Ar=Lr===void 0?"start":Lr,mi=(0,w.useState)(!1),oi=(0,$.Z)(mi,2),Pt=oi[0],cn=oi[1],Qn=(0,w.useState)(!1),_t=(0,$.Z)(Qn,2),Xt=_t[0],an=_t[1],yr=(0,w.useRef)(),Ur=(0,w.useRef)(!1),ci=(0,w.useRef)(!1),Yi=(0,w.useRef)(!1),ui={onMouseDown:function(){cn(!0),nn(!0)},onKeyDown:function(wo){var ji=function(){Yi.current=!0};if(Vn(wo,ji),!Yi.current){switch(wo.which){case qt.Z.ENTER:{Ye?Nr()!==!1&&cn(!0):nn(!0),wo.preventDefault();return}case qt.Z.TAB:{Pt&&Ye&&!wo.shiftKey?(cn(!1),wo.preventDefault()):!Pt&&Ye&&!yn(wo)&&wo.shiftKey&&(cn(!0),wo.preventDefault());return}case qt.Z.ESC:{cn(!0),jr();return}}!Ye&&![qt.Z.SHIFT].includes(wo.which)?nn(!0):Pt||yn(wo)}},onFocus:function(wo){cn(!0),an(!0),_r&&(_r.current=Ar),clearTimeout(yr.current),bi&&bi(wo)},onBlur:function(wo){if(Ur.current||!Ct(document.activeElement)){Ur.current=!1;return}wr?setTimeout(function(){for(var ji=document,ko=ji.activeElement;ko&&ko.shadowRoot;)ko=ko.shadowRoot.activeElement;Ct(ko)&&jr()},0):Ye&&(nn(!1),ci.current&&Nr()),an(!1),_r?(_r.current="",yr.current=setTimeout(function(){_r.current||Hr==null||Hr(wo)},100)):Hr==null||Hr(wo)}};return(0,w.useEffect)(function(){ci.current=!1},[Ye]),(0,w.useEffect)(function(){ci.current=!0},[ft]),(0,w.useEffect)(function(){return Yn(function(go){var wo=Bt(go),ji=Ct(wo);Ye?ji?(!Xt||ji)&&nn(!1):(Ur.current=!0,requestAnimationFrame(function(){Ur.current=!1})):Xt&&!ji&&(Ur.current=!0)})}),(0,w.useEffect)(function(){return function(){return clearTimeout(yr.current)}},[]),[ui,{focused:Xt,typing:Pt}]}function Je(se){var Ye=se.valueTexts,ft=se.onTextChange,Ct=w.useState(""),nn=(0,$.Z)(Ct,2),yn=nn[0],Vn=nn[1],wr=w.useRef([]);wr.current=Ye;function Nr(bi){Vn(bi),ft(bi)}function jr(){Vn(wr.current[0])}return w.useEffect(function(){Ye.every(function(bi){return bi!==yn})&&jr()},[Ye.join("||")]),[yn,Nr,jr]}var tt=l(91881);function gt(se,Ye){var ft=Ye.formatList,Ct=Ye.generateConfig,nn=Ye.locale;return(0,ke.Z)(function(){if(!se)return[[""],""];for(var yn="",Vn=[],wr=0;wr<ft.length;wr+=1){var Nr=ft[wr],jr=G(se,{generateConfig:Ct,locale:nn,format:Nr});Vn.push(jr),wr===0&&(yn=jr)}return[Vn,yn]},[se,ft,nn],function(yn,Vn){return!De(Ct,yn[0],Vn[0])||!(0,tt.Z)(yn[1],Vn[1],!0)||!(0,tt.Z)(yn[2],Vn[2],!0)})}function _n(se,Ye){var ft=Ye.formatList,Ct=Ye.generateConfig,nn=Ye.locale,yn=(0,w.useState)(null),Vn=(0,$.Z)(yn,2),wr=Vn[0],Nr=Vn[1],jr=(0,w.useRef)(null);function bi(oi){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(cancelAnimationFrame(jr.current),Pt){Nr(oi);return}jr.current=requestAnimationFrame(function(){Nr(oi)})}var Hr=gt(wr,{formatList:ft,generateConfig:Ct,locale:nn}),_r=(0,$.Z)(Hr,2),Lr=_r[1];function Ar(oi){bi(oi)}function mi(){var oi=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;bi(null,oi)}return(0,w.useEffect)(function(){mi(!0)},[se]),(0,w.useEffect)(function(){return function(){return cancelAnimationFrame(jr.current)}},[]),[Lr,Ar,mi]}function Dn(se){var Ye=se.picker,ft=se.disabledHours,Ct=se.disabledMinutes,nn=se.disabledSeconds;Ye==="time"&&(ft||Ct||nn)&&warning(!1,"'disabledHours', 'disabledMinutes', 'disabledSeconds' will be removed in the next major version, please use 'disabledTime' instead.")}function Un(se){var Ye,ft=se.prefixCls,Ct=ft===void 0?"rc-picker":ft,nn=se.id,yn=se.tabIndex,Vn=se.style,wr=se.className,Nr=se.dropdownClassName,jr=se.dropdownAlign,bi=se.popupStyle,Hr=se.transitionName,_r=se.generateConfig,Lr=se.locale,Ar=se.inputReadOnly,mi=se.allowClear,oi=se.autoFocus,Pt=se.showTime,cn=se.picker,Qn=cn===void 0?"date":cn,_t=se.format,Xt=se.use12Hours,an=se.value,yr=se.defaultValue,Ur=se.open,ci=se.defaultOpen,Yi=se.defaultOpenValue,ui=se.suffixIcon,go=se.clearIcon,wo=se.disabled,ji=se.disabledDate,ko=se.placeholder,os=se.getPopupContainer,La=se.pickerRef,Ua=se.panelRender,cs=se.onChange,sa=se.onOpenChange,Ka=se.onFocus,Ks=se.onBlur,qs=se.onMouseDown,yl=se.onMouseUp,Ds=se.onMouseEnter,tc=se.onMouseLeave,Rl=se.onContextMenu,Ca=se.onClick,us=se.onKeyDown,Va=se.onSelect,zs=se.direction,Fa=se.autoComplete,Ys=Fa===void 0?"off":Fa,Us=se.inputRender,_s=w.useRef(null),Tl=Qn==="date"&&!!Pt||Qn==="time",Bl=Rn(ti(_t,Qn,Pt,Xt)),Zl=w.useRef(null),Pc=w.useRef(null),zl=w.useRef(null),uc=(0,lt.Z)(null,{value:an,defaultValue:yr}),Uc=(0,$.Z)(uc,2),nl=Uc[0],bc=Uc[1],kc=w.useState(nl),ll=(0,$.Z)(kc,2),fc=ll[0],bl=ll[1],Ha=w.useRef(null),Ts=(0,lt.Z)(!1,{value:Ur,defaultValue:ci,postState:function(Za){return wo?!1:Za},onChange:function(Za){sa&&sa(Za),!Za&&Ha.current&&Ha.current.onClose&&Ha.current.onClose()}}),Yl=(0,$.Z)(Ts,2),nc=Yl[0],Ol=Yl[1],Wl=gt(fc,{formatList:Bl,generateConfig:_r,locale:Lr}),sc=(0,$.Z)(Wl,2),Cl=sc[0],cl=sc[1],bs=Je({valueTexts:Cl,onTextChange:function(Za){var xl=ye(Za,{locale:Lr,formatList:Bl,generateConfig:_r});xl&&(!ji||!ji(xl))&&bl(xl)}}),Ia=(0,$.Z)(bs,3),ta=Ia[0],Bs=Ia[1],ts=Ia[2],Cs=function(Za){bl(Za),bc(Za),cs&&!De(_r,nl,Za)&&cs(Za,Za?G(Za,{generateConfig:_r,locale:Lr,format:Bl[0]}):"")},Ul=function(Za){wo&&Za||Ol(Za)},Lc=function(Za){return nc&&Ha.current&&Ha.current.onKeyDown?Ha.current.onKeyDown(Za):((0,m.ZP)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},rl=function(){for(var Za=arguments.length,xl=new Array(Za),yu=0;yu<Za;yu++)xl[yu]=arguments[yu];Ca==null||Ca.apply(void 0,xl),_s.current&&(_s.current.focus(),Ul(!0))},Du=_e({blurToCancel:Tl,open:nc,value:ta,triggerOpen:Ul,forwardKeyDown:Lc,isClickOutside:function(Za){return!zr([Zl.current,Pc.current,zl.current],Za)},onSubmit:function(){return!fc||ji&&ji(fc)?!1:(Cs(fc),Ul(!1),ts(),!0)},onCancel:function(){Ul(!1),bl(nl),ts()},onKeyDown:function(Za,xl){us==null||us(Za,xl)},onFocus:Ka,onBlur:Ks}),Vc=(0,$.Z)(Du,2),dc=Vc[0],ul=Vc[1],yt=ul.focused,Ga=ul.typing;w.useEffect(function(){nc||(bl(nl),!Cl.length||Cl[0]===""?Bs(""):cl!==ta&&ts())},[nc,Cl]),w.useEffect(function(){nc||ts()},[Qn]),w.useEffect(function(){bl(nl)},[nl]),La&&(La.current={focus:function(){_s.current&&_s.current.focus()},blur:function(){_s.current&&_s.current.blur()}});var fl=_n(ta,{formatList:Bl,generateConfig:_r,locale:Lr}),ps=(0,$.Z)(fl,3),fs=ps[0],Nu=ps[1],qu=ps[2],jc=(0,st.Z)((0,st.Z)({},se),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),lc=w.createElement(is,(0,A.Z)({},jc,{generateConfig:_r,className:J()((0,U.Z)({},"".concat(Ct,"-panel-focused"),!Ga)),value:fc,locale:Lr,tabIndex:-1,onSelect:function(Za){Va==null||Va(Za),bl(Za)},direction:zs,onPanelChange:function(Za,xl){var yu=se.onPanelChange;qu(!0),yu==null||yu(Za,xl)}}));Ua&&(lc=Ua(lc));var af=w.createElement("div",{className:"".concat(Ct,"-panel-container"),onMouseDown:function(Za){Za.preventDefault()}},lc),Af;ui&&(Af=w.createElement("span",{className:"".concat(Ct,"-suffix")},ui));var ju;mi&&nl&&!wo&&(ju=w.createElement("span",{onMouseDown:function(Za){Za.preventDefault(),Za.stopPropagation()},onMouseUp:function(Za){Za.preventDefault(),Za.stopPropagation(),Cs(null),Ul(!1)},className:"".concat(Ct,"-clear"),role:"button"},go||w.createElement("span",{className:"".concat(Ct,"-clear-btn")})));var il=(0,st.Z)((0,st.Z)((0,st.Z)({id:nn,tabIndex:yn,disabled:wo,readOnly:Ar||typeof Bl[0]=="function"||!Ga,value:fs||ta,onChange:function(Za){Bs(Za.target.value)},autoFocus:oi,placeholder:ko,ref:_s,title:ta},dc),{},{size:Ir(Qn,Bl[0],_r)},$n(se)),{},{autoComplete:Ys}),Ws=Us?Us(il):w.createElement("input",il),Ya=function(Za,xl){(xl==="submit"||xl!=="key"&&!Tl)&&(Cs(Za),Ul(!1))},Vl=zs==="rtl"?"bottomRight":"bottomLeft";return w.createElement(kn.Provider,{value:{operationRef:Ha,hideHeader:Qn==="time",panelRef:Zl,onSelect:Ya,open:nc,defaultOpenValue:Yi,onDateMouseEnter:Nu,onDateMouseLeave:qu}},w.createElement(ge,{visible:nc,popupElement:af,popupStyle:bi,prefixCls:Ct,dropdownClassName:Nr,dropdownAlign:jr,getPopupContainer:os,transitionName:Hr,popupPlacement:Vl,direction:zs},w.createElement("div",{ref:zl,className:J()(Ct,wr,(Ye={},(0,U.Z)(Ye,"".concat(Ct,"-disabled"),wo),(0,U.Z)(Ye,"".concat(Ct,"-focused"),yt),(0,U.Z)(Ye,"".concat(Ct,"-rtl"),zs==="rtl"),Ye)),style:Vn,onMouseDown:qs,onMouseUp:yl,onMouseEnter:Ds,onMouseLeave:tc,onContextMenu:Rl,onClick:rl},w.createElement("div",{className:J()("".concat(Ct,"-input"),(0,U.Z)({},"".concat(Ct,"-input-placeholder"),!!fs)),ref:Pc},Ws,Af,ju))))}var Mr=function(se){(0,Lt.Z)(ft,se);var Ye=(0,Dt.Z)(ft);function ft(){var Ct;(0,Wt.Z)(this,ft);for(var nn=arguments.length,yn=new Array(nn),Vn=0;Vn<nn;Vn++)yn[Vn]=arguments[Vn];return Ct=Ye.call.apply(Ye,[this].concat(yn)),Ct.pickerRef=w.createRef(),Ct.focus=function(){Ct.pickerRef.current&&Ct.pickerRef.current.focus()},Ct.blur=function(){Ct.pickerRef.current&&Ct.pickerRef.current.blur()},Ct}return(0,Yt.Z)(ft,[{key:"render",value:function(){return w.createElement(Un,(0,A.Z)({},this.props,{pickerRef:this.pickerRef}))}}]),ft}(w.Component),Dr=Mr;function fr(se,Ye,ft){var Ct=se.picker,nn=se.locale,yn=se.selectedValue,Vn=se.disabledDate,wr=se.disabled,Nr=se.generateConfig,jr=Xn(yn,0),bi=Xn(yn,1);function Hr(oi){return Nr.locale.getWeekFirstDate(nn.locale,oi)}function _r(oi){var Pt=Nr.getYear(oi),cn=Nr.getMonth(oi);return Pt*100+cn}function Lr(oi){var Pt=Nr.getYear(oi),cn=Pr(Nr,oi);return Pt*10+cn}var Ar=w.useCallback(function(oi){if(Vn&&Vn(oi))return!0;if(wr[1]&&bi)return!ni(Nr,oi,bi)&&Nr.isAfter(oi,bi);if(Ye&&bi)switch(Ct){case"quarter":return Lr(oi)>Lr(bi);case"month":return _r(oi)>_r(bi);case"week":return Hr(oi)>Hr(bi);default:return!ni(Nr,oi,bi)&&Nr.isAfter(oi,bi)}return!1},[Vn,wr[1],bi,Ye]),mi=w.useCallback(function(oi){if(Vn&&Vn(oi))return!0;if(wr[0]&&jr)return!ni(Nr,oi,bi)&&Nr.isAfter(jr,oi);if(ft&&jr)switch(Ct){case"quarter":return Lr(oi)<Lr(jr);case"month":return _r(oi)<_r(jr);case"week":return Hr(oi)<Hr(jr);default:return!ni(Nr,oi,jr)&&Nr.isAfter(jr,oi)}return!1},[Vn,wr[0],jr,ft]);return[Ar,mi]}function Er(se,Ye,ft,Ct){var nn=N(se,ft,Ct,1);function yn(Vn){return Vn(se,Ye)?"same":Vn(nn,Ye)?"closing":"far"}switch(ft){case"year":return yn(function(Vn,wr){return ir(Ct,Vn,wr)});case"quarter":case"month":return yn(function(Vn,wr){return lr(Ct,Vn,wr)});default:return yn(function(Vn,wr){return dr(Ct,Vn,wr)})}}function ao(se,Ye,ft,Ct){var nn=Xn(se,0),yn=Xn(se,1);if(Ye===0)return nn;if(nn&&yn){var Vn=Er(nn,yn,ft,Ct);switch(Vn){case"same":return nn;case"closing":return nn;default:return N(yn,ft,Ct,-1)}}return nn}function oo(se){var Ye=se.values,ft=se.picker,Ct=se.defaultDates,nn=se.generateConfig,yn=w.useState(function(){return[Xn(Ct,0),Xn(Ct,1)]}),Vn=(0,$.Z)(yn,2),wr=Vn[0],Nr=Vn[1],jr=w.useState(null),bi=(0,$.Z)(jr,2),Hr=bi[0],_r=bi[1],Lr=Xn(Ye,0),Ar=Xn(Ye,1);function mi(Pt){return wr[Pt]?wr[Pt]:Xn(Hr,Pt)||ao(Ye,Pt,ft,nn)||Lr||Ar||nn.getNow()}function oi(Pt,cn){if(Pt){var Qn=$t(Hr,Pt,cn);Nr($t(wr,null,cn)||[null,null]);var _t=(cn+1)%2;Xn(Ye,_t)||(Qn=$t(Qn,Pt,_t)),_r(Qn)}else(Lr||Ar)&&_r(null)}return[mi,oi]}function ba(se,Ye){return se&&se[0]&&se[1]&&Ye.isAfter(se[0],se[1])?[se[1],se[0]]:se}function es(se,Ye,ft,Ct){return!!(se||Ct&&Ct[Ye]||ft[(Ye+1)%2])}function Da(se){var Ye,ft,Ct,nn=se.prefixCls,yn=nn===void 0?"rc-picker":nn,Vn=se.id,wr=se.style,Nr=se.className,jr=se.popupStyle,bi=se.dropdownClassName,Hr=se.transitionName,_r=se.dropdownAlign,Lr=se.getPopupContainer,Ar=se.generateConfig,mi=se.locale,oi=se.placeholder,Pt=se.autoFocus,cn=se.disabled,Qn=se.format,_t=se.picker,Xt=_t===void 0?"date":_t,an=se.showTime,yr=se.use12Hours,Ur=se.separator,ci=Ur===void 0?"~":Ur,Yi=se.value,ui=se.defaultValue,go=se.defaultPickerValue,wo=se.open,ji=se.defaultOpen,ko=se.disabledDate,os=se.disabledTime,La=se.dateRender,Ua=se.panelRender,cs=se.ranges,sa=se.allowEmpty,Ka=se.allowClear,Ks=se.suffixIcon,qs=se.clearIcon,yl=se.pickerRef,Ds=se.inputReadOnly,tc=se.mode,Rl=se.renderExtraFooter,Ca=se.onChange,us=se.onOpenChange,Va=se.onPanelChange,zs=se.onCalendarChange,Fa=se.onFocus,Ys=se.onBlur,Us=se.onMouseDown,_s=se.onMouseUp,Tl=se.onMouseEnter,Bl=se.onMouseLeave,Zl=se.onClick,Pc=se.onOk,zl=se.onKeyDown,uc=se.components,Uc=se.order,nl=se.direction,bc=se.activePickerIndex,kc=se.autoComplete,ll=kc===void 0?"off":kc,fc=Xt==="date"&&!!an||Xt==="time",bl=(0,w.useRef)({}),Ha=(0,w.useRef)(null),Ts=(0,w.useRef)(null),Yl=(0,w.useRef)(null),nc=(0,w.useRef)(null),Ol=(0,w.useRef)(null),Wl=(0,w.useRef)(null),sc=(0,w.useRef)(null),Cl=(0,w.useRef)(null),cl=Rn(ti(Qn,Xt,an,yr)),bs=(0,lt.Z)(0,{value:bc}),Ia=(0,$.Z)(bs,2),ta=Ia[0],Bs=Ia[1],ts=(0,w.useRef)(null),Cs=w.useMemo(function(){return Array.isArray(cn)?cn:[cn||!1,cn||!1]},[cn]),Ul=(0,lt.Z)(null,{value:Yi,defaultValue:ui,postState:function(Ao){return Xt==="time"&&!Uc?Ao:ba(Ao,Ar)}}),Lc=(0,$.Z)(Ul,2),rl=Lc[0],Du=Lc[1],Vc=oo({values:rl,picker:Xt,defaultDates:go,generateConfig:Ar}),dc=(0,$.Z)(Vc,2),ul=dc[0],yt=dc[1],Ga=(0,lt.Z)(rl,{postState:function(Ao){var eo=Ao;if(Cs[0]&&Cs[1])return eo;for(var As=0;As<2;As+=1)Cs[As]&&!eo&&!Xn(eo,As)&&!Xn(sa,As)&&(eo=$t(eo,Ar.getNow(),As));return eo}}),fl=(0,$.Z)(Ga,2),ps=fl[0],fs=fl[1],Nu=(0,lt.Z)([Xt,Xt],{value:tc}),qu=(0,$.Z)(Nu,2),jc=qu[0],lc=qu[1];(0,w.useEffect)(function(){lc([Xt,Xt])},[Xt]);var af=function(Ao,eo){lc(Ao),Va&&Va(eo,Ao)},Af=fr({picker:Xt,selectedValue:ps,locale:mi,disabled:Cs,disabledDate:ko,generateConfig:Ar},bl.current[1],bl.current[0]),ju=(0,$.Z)(Af,2),il=ju[0],Ws=ju[1],Ya=(0,lt.Z)(!1,{value:wo,defaultValue:ji,postState:function(Ao){return Cs[ta]?!1:Ao},onChange:function(Ao){us&&us(Ao),!Ao&&ts.current&&ts.current.onClose&&ts.current.onClose()}}),Vl=(0,$.Z)(Ya,2),ds=Vl[0],Za=Vl[1],xl=ds&&ta===0,yu=ds&&ta===1,ef=(0,w.useState)(0),iu=(0,$.Z)(ef,2),Xl=iu[0],Xo=iu[1];(0,w.useEffect)(function(){!ds&&Ha.current&&Xo(Ha.current.offsetWidth)},[ds]);var $u=w.useRef();function Uf($a,Ao){if($a)clearTimeout($u.current),bl.current[Ao]=!0,Bs(Ao),Za($a),ds||yt(null,Ao);else if(ta===Ao){Za($a);var eo=bl.current;$u.current=setTimeout(function(){eo===bl.current&&(bl.current={})})}}function Tc($a){Uf(!0,$a),setTimeout(function(){var Ao=[Wl,sc][$a];Ao.current&&Ao.current.focus()},0)}function fo($a,Ao){var eo=$a,As=Xn(eo,0),ic=Xn(eo,1);As&&ic&&Ar.isAfter(As,ic)&&(Xt==="week"&&!ue(Ar,mi.locale,As,ic)||Xt==="quarter"&&!$r(Ar,As,ic)||Xt!=="week"&&Xt!=="quarter"&&Xt!=="time"&&!ni(Ar,As,ic)?(Ao===0?(eo=[As,null],ic=null):(As=null,eo=[null,ic]),bl.current=(0,U.Z)({},Ao,!0)):(Xt!=="time"||Uc!==!1)&&(eo=ba(eo,Ar))),fs(eo);var _c=eo&&eo[0]?G(eo[0],{generateConfig:Ar,locale:mi,format:cl[0]}):"",Ac=eo&&eo[1]?G(eo[1],{generateConfig:Ar,locale:mi,format:cl[0]}):"";if(zs){var cc={range:Ao===0?"start":"end"};zs(eo,[_c,Ac],cc)}var Pu=es(As,0,Cs,sa),gc=es(ic,1,Cs,sa),fu=eo===null||Pu&&gc;fu&&(Du(eo),Ca&&(!De(Ar,Xn(rl,0),As)||!De(Ar,Xn(rl,1),ic))&&Ca(eo,[_c,Ac]));var Cc=null;Ao===0&&!Cs[1]?Cc=1:Ao===1&&!Cs[0]&&(Cc=0),Cc!==null&&Cc!==ta&&(!bl.current[Cc]||!Xn(eo,Cc))&&Xn(eo,Ao)?Tc(Cc):Uf(!1,Ao)}var Hs=function(Ao){return ds&&ts.current&&ts.current.onKeyDown?ts.current.onKeyDown(Ao):((0,m.ZP)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},tu={formatList:cl,generateConfig:Ar,locale:mi},sf=gt(Xn(ps,0),tu),Xs=(0,$.Z)(sf,2),mf=Xs[0],Df=Xs[1],yf=gt(Xn(ps,1),tu),Mu=(0,$.Z)(yf,2),nu=Mu[0],eh=Mu[1],Vf=function(Ao,eo){var As=ye(Ao,{locale:mi,formatList:cl,generateConfig:Ar}),ic=eo===0?il:Ws;As&&!ic(As)&&(fs($t(ps,As,eo)),yt(As,eo))},bd=Je({valueTexts:mf,onTextChange:function(Ao){return Vf(Ao,0)}}),ol=(0,$.Z)(bd,3),ou=ol[0],Jl=ol[1],Ru=ol[2],ad=Je({valueTexts:nu,onTextChange:function(Ao){return Vf(Ao,1)}}),hc=(0,$.Z)(ad,3),Iu=hc[0],ku=hc[1],Fc=hc[2],Cd=(0,w.useState)(null),_l=(0,$.Z)(Cd,2),Nf=_l[0],lf=_l[1],$c=(0,w.useState)(null),sd=(0,$.Z)($c,2),Lu=sd[0],tf=sd[1],ld=_n(ou,{formatList:cl,generateConfig:Ar,locale:mi}),cf=(0,$.Z)(ld,3),Gc=cf[0],bf=cf[1],qf=cf[2],au=_n(Iu,{formatList:cl,generateConfig:Ar,locale:mi}),su=(0,$.Z)(au,3),Cf=su[0],rc=su[1],pc=su[2],Ql=function(Ao){tf($t(ps,Ao,ta)),ta===0?bf(Ao):rc(Ao)},ed=function(){tf($t(ps,null,ta)),ta===0?qf():pc()},Rf=function(Ao,eo){return{blurToCancel:fc,forwardKeyDown:Hs,onBlur:Ys,isClickOutside:function(ic){return!zr([Ts.current,Yl.current,nc.current,Ha.current],ic)},onFocus:function(ic){Bs(Ao),Fa&&Fa(ic)},triggerOpen:function(ic){Uf(ic,Ao)},onSubmit:function(){if(!ps||ko&&ko(ps[Ao]))return!1;fo(ps,Ao),eo()},onCancel:function(){Uf(!1,Ao),fs(rl),eo()}}},xf=(0,w.useRef)(""),xd=_e((0,st.Z)((0,st.Z)({},Rf(0,Ru)),{},{open:xl,value:ou,currentFocusedKey:xf,key:"start",onKeyDown:function(Ao,eo){zl==null||zl(Ao,eo)}})),lu=(0,$.Z)(xd,2),Wu=lu[0],Ef=lu[1],Ee=Ef.focused,Le=Ef.typing,at=_e((0,st.Z)((0,st.Z)({},Rf(1,Fc)),{},{open:yu,value:Iu,currentFocusedKey:xf,key:"end",onKeyDown:function(Ao,eo){zl==null||zl(Ao,eo)}})),ct=(0,$.Z)(at,2),dt=ct[0],mt=ct[1],St=mt.focused,Nt=mt.typing,O=function(Ao){Zl&&Zl(Ao),!ds&&!Wl.current.contains(Ao.target)&&!sc.current.contains(Ao.target)&&(Cs[0]?Cs[1]||Tc(1):Tc(0))},V=function(Ao){Us&&Us(Ao),ds&&(Ee||St)&&!Wl.current.contains(Ao.target)&&!sc.current.contains(Ao.target)&&Ao.preventDefault()},ae=rl&&rl[0]?G(rl[0],{locale:mi,format:"YYYYMMDDHHmmss",generateConfig:Ar}):"",we=rl&&rl[1]?G(rl[1],{locale:mi,format:"YYYYMMDDHHmmss",generateConfig:Ar}):"";(0,w.useEffect)(function(){ds||(fs(rl),!mf.length||mf[0]===""?Jl(""):Df!==ou&&Ru(),!nu.length||nu[0]===""?ku(""):eh!==Iu&&Fc())},[ds,mf,nu]),(0,w.useEffect)(function(){fs(rl)},[ae,we]),yl&&(yl.current={focus:function(){Wl.current&&Wl.current.focus()},blur:function(){Wl.current&&Wl.current.blur(),sc.current&&sc.current.blur()}});var qe=Object.keys(cs||{}),Rt=qe.map(function($a){var Ao=cs[$a],eo=typeof Ao=="function"?Ao():Ao;return{label:$a,onClick:function(){fo(eo,null),Uf(!1,ta)},onMouseEnter:function(){lf(eo)},onMouseLeave:function(){lf(null)}}});function In(){var $a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ao=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},eo=null;ds&&Lu&&Lu[0]&&Lu[1]&&Ar.isAfter(Lu[1],Lu[0])&&(eo=Lu);var As=an;if(an&&(0,Ft.Z)(an)==="object"&&an.defaultValue){var ic=an.defaultValue;As=(0,st.Z)((0,st.Z)({},an),{},{defaultValue:Xn(ic,ta)||void 0})}var _c=null;return La&&(_c=function(cc,Pu){return La(cc,Pu,{range:ta?"end":"start"})}),w.createElement(hi.Provider,{value:{inRange:!0,panelPosition:$a,rangedValue:Nf||ps,hoverRangedValue:eo}},w.createElement(is,(0,A.Z)({},se,Ao,{dateRender:_c,showTime:As,mode:jc[ta],generateConfig:Ar,style:void 0,direction:nl,disabledDate:ta===0?il:Ws,disabledTime:function(cc){return os?os(cc,ta===0?"start":"end"):!1},className:J()((0,U.Z)({},"".concat(yn,"-panel-focused"),ta===0?!Le:!Nt)),value:Xn(ps,ta),locale:mi,tabIndex:-1,onPanelChange:function(cc,Pu){ta===0&&qf(!0),ta===1&&pc(!0),af($t(jc,Pu,ta),$t(ps,cc,ta));var gc=cc;$a==="right"&&jc[ta]===Pu&&(gc=N(gc,Pu,Ar,-1)),yt(gc,ta)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:ta===0?Xn(ps,1):Xn(ps,0)})))}var Wr=0,_i=0;if(ta&&Yl.current&&Ol.current&&Ts.current){Wr=Yl.current.offsetWidth+Ol.current.offsetWidth;var So=Cl.current.offsetLeft>Wr?Cl.current.offsetLeft-Wr:Cl.current.offsetLeft;Ts.current.offsetWidth&&Cl.current.offsetWidth&&Wr>Ts.current.offsetWidth-Cl.current.offsetWidth-(nl==="rtl"?0:So)&&(_i=Wr)}var Ho=nl==="rtl"?{right:Wr}:{left:Wr};function ga(){var $a,Ao=da(yn,jc[ta],Rl),eo=Aa({prefixCls:yn,components:uc,needConfirmButton:fc,okDisabled:!Xn(ps,ta)||ko&&ko(ps[ta]),locale:mi,rangeList:Rt,onOk:function(){Xn(ps,ta)&&(fo(ps,ta),Pc&&Pc(ps))}});if(Xt!=="time"&&!an){var As=ul(ta),ic=N(As,Xt,Ar),_c=jc[ta],Ac=_c===Xt,cc=In(Ac?"left":!1,{pickerValue:As,onPickerValueChange:function(Cc){yt(Cc,ta)}}),Pu=In("right",{pickerValue:ic,onPickerValueChange:function(Cc){yt(N(Cc,Xt,Ar,-1),ta)}});nl==="rtl"?$a=w.createElement(w.Fragment,null,Pu,Ac&&cc):$a=w.createElement(w.Fragment,null,cc,Ac&&Pu)}else $a=In();var gc=w.createElement(w.Fragment,null,w.createElement("div",{className:"".concat(yn,"-panels")},$a),(Ao||eo)&&w.createElement("div",{className:"".concat(yn,"-footer")},Ao,eo));return Ua&&(gc=Ua(gc)),w.createElement("div",{className:"".concat(yn,"-panel-container"),style:{marginLeft:_i},ref:Ts,onMouseDown:function(Cc){Cc.preventDefault()}},gc)}var ns=w.createElement("div",{className:J()("".concat(yn,"-range-wrapper"),"".concat(yn,"-").concat(Xt,"-range-wrapper")),style:{minWidth:Xl}},w.createElement("div",{ref:Cl,className:"".concat(yn,"-range-arrow"),style:Ho}),ga()),xs;Ks&&(xs=w.createElement("span",{className:"".concat(yn,"-suffix")},Ks));var el;Ka&&(Xn(rl,0)&&!Cs[0]||Xn(rl,1)&&!Cs[1])&&(el=w.createElement("span",{onMouseDown:function(Ao){Ao.preventDefault(),Ao.stopPropagation()},onMouseUp:function(Ao){Ao.preventDefault(),Ao.stopPropagation();var eo=rl;Cs[0]||(eo=$t(eo,null,0)),Cs[1]||(eo=$t(eo,null,1)),fo(eo,null),Uf(!1,ta)},className:"".concat(yn,"-clear")},qs||w.createElement("span",{className:"".concat(yn,"-clear-btn")})));var ja={size:Ir(Xt,cl[0],Ar)},Vs=0,dl=0;Yl.current&&nc.current&&Ol.current&&(ta===0?dl=Yl.current.offsetWidth:(Vs=Wr,dl=nc.current.offsetWidth));var al=nl==="rtl"?{right:Vs}:{left:Vs},Oc=function(Ao,eo){var As=$t(ps,Ao,ta);eo==="submit"||eo!=="key"&&!fc?(fo(As,ta),ta===0?qf():pc()):fs(As)};return w.createElement(kn.Provider,{value:{operationRef:ts,hideHeader:Xt==="time",onDateMouseEnter:Ql,onDateMouseLeave:ed,hideRanges:!0,onSelect:Oc,open:ds}},w.createElement(ge,{visible:ds,popupElement:ns,popupStyle:jr,prefixCls:yn,dropdownClassName:bi,dropdownAlign:_r,getPopupContainer:Lr,transitionName:Hr,range:!0,direction:nl},w.createElement("div",(0,A.Z)({ref:Ha,className:J()(yn,"".concat(yn,"-range"),Nr,(Ye={},(0,U.Z)(Ye,"".concat(yn,"-disabled"),Cs[0]&&Cs[1]),(0,U.Z)(Ye,"".concat(yn,"-focused"),ta===0?Ee:St),(0,U.Z)(Ye,"".concat(yn,"-rtl"),nl==="rtl"),Ye)),style:wr,onClick:O,onMouseEnter:Tl,onMouseLeave:Bl,onMouseDown:V,onMouseUp:_s},$n(se)),w.createElement("div",{className:J()("".concat(yn,"-input"),(ft={},(0,U.Z)(ft,"".concat(yn,"-input-active"),ta===0),(0,U.Z)(ft,"".concat(yn,"-input-placeholder"),!!Gc),ft)),ref:Yl},w.createElement("input",(0,A.Z)({id:Vn,disabled:Cs[0],readOnly:Ds||typeof cl[0]=="function"||!Le,value:Gc||ou,onChange:function(Ao){Jl(Ao.target.value)},autoFocus:Pt,placeholder:Xn(oi,0)||"",ref:Wl},Wu,ja,{autoComplete:ll}))),w.createElement("div",{className:"".concat(yn,"-range-separator"),ref:Ol},ci),w.createElement("div",{className:J()("".concat(yn,"-input"),(Ct={},(0,U.Z)(Ct,"".concat(yn,"-input-active"),ta===1),(0,U.Z)(Ct,"".concat(yn,"-input-placeholder"),!!Cf),Ct)),ref:nc},w.createElement("input",(0,A.Z)({disabled:Cs[1],readOnly:Ds||typeof cl[0]=="function"||!Nt,value:Cf||Iu,onChange:function(Ao){ku(Ao.target.value)},placeholder:Xn(oi,1)||"",ref:sc},dt,ja,{autoComplete:ll}))),w.createElement("div",{className:"".concat(yn,"-active-bar"),style:(0,st.Z)((0,st.Z)({},al),{},{width:dl,position:"absolute"})}),xs,el)))}var ut=function(se){(0,Lt.Z)(ft,se);var Ye=(0,Dt.Z)(ft);function ft(){var Ct;(0,Wt.Z)(this,ft);for(var nn=arguments.length,yn=new Array(nn),Vn=0;Vn<nn;Vn++)yn[Vn]=arguments[Vn];return Ct=Ye.call.apply(Ye,[this].concat(yn)),Ct.pickerRef=w.createRef(),Ct.focus=function(){Ct.pickerRef.current&&Ct.pickerRef.current.focus()},Ct.blur=function(){Ct.pickerRef.current&&Ct.pickerRef.current.blur()},Ct}return(0,Yt.Z)(ft,[{key:"render",value:function(){return w.createElement(Da,(0,A.Z)({},this.props,{pickerRef:this.pickerRef}))}}]),ft}(w.Component),on=ut,xn=Dr,cr=l(98866),mn=l(97647),Or=l(65223),ei=l(4173),Ni=l(23715),ki=l(9708),yo=l(87206);function Ro(se,Ye,ft){return ft!==void 0?ft:se==="year"&&Ye.lang.yearPlaceholder?Ye.lang.yearPlaceholder:se==="quarter"&&Ye.lang.quarterPlaceholder?Ye.lang.quarterPlaceholder:se==="month"&&Ye.lang.monthPlaceholder?Ye.lang.monthPlaceholder:se==="week"&&Ye.lang.weekPlaceholder?Ye.lang.weekPlaceholder:se==="time"&&Ye.timePickerLocale.placeholder?Ye.timePickerLocale.placeholder:Ye.lang.placeholder}function Lo(se,Ye,ft){return ft!==void 0?ft:se==="year"&&Ye.lang.yearPlaceholder?Ye.lang.rangeYearPlaceholder:se==="quarter"&&Ye.lang.quarterPlaceholder?Ye.lang.rangeQuarterPlaceholder:se==="month"&&Ye.lang.monthPlaceholder?Ye.lang.rangeMonthPlaceholder:se==="week"&&Ye.lang.weekPlaceholder?Ye.lang.rangeWeekPlaceholder:se==="time"&&Ye.timePickerLocale.placeholder?Ye.timePickerLocale.rangePlaceholder:Ye.lang.rangePlaceholder}function Jo(se,Ye){var ft={adjustX:1,adjustY:1};switch(Ye){case"bottomLeft":return{points:["tl","bl"],offset:[0,4],overflow:ft};case"bottomRight":return{points:["tr","br"],offset:[0,4],overflow:ft};case"topLeft":return{points:["bl","tl"],offset:[0,-4],overflow:ft};case"topRight":return{points:["br","tr"],offset:[0,-4],overflow:ft};default:return{points:se==="rtl"?["tr","br"]:["tl","bl"],offset:[0,4],overflow:ft}}}var Io=function(se,Ye){var ft={};for(var Ct in se)Object.prototype.hasOwnProperty.call(se,Ct)&&Ye.indexOf(Ct)<0&&(ft[Ct]=se[Ct]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nn=0,Ct=Object.getOwnPropertySymbols(se);nn<Ct.length;nn++)Ye.indexOf(Ct[nn])<0&&Object.prototype.propertyIsEnumerable.call(se,Ct[nn])&&(ft[Ct[nn]]=se[Ct[nn]]);return ft};function qo(se){var Ye=(0,w.forwardRef)(function(ft,Ct){var nn=ft.prefixCls,yn=ft.getPopupContainer,Vn=ft.className,wr=ft.placement,Nr=ft.size,jr=ft.disabled,bi=ft.bordered,Hr=bi===void 0?!0:bi,_r=ft.placeholder,Lr=ft.popupClassName,Ar=ft.dropdownClassName,mi=ft.status,oi=Io(ft,["prefixCls","getPopupContainer","className","placement","size","disabled","bordered","placeholder","popupClassName","dropdownClassName","status"]),Pt=w.useRef(null),cn=(0,w.useContext)(Y.E_),Qn=cn.getPrefixCls,_t=cn.direction,Xt=cn.getPopupContainer,an=Qn("picker",nn),yr=(0,ei.ri)(an,_t),Ur=yr.compactSize,ci=yr.compactItemClassnames,Yi=ft.format,ui=ft.showTime,go=ft.picker,wo=Qn(),ji={};ji=(0,A.Z)((0,A.Z)((0,A.Z)({},ji),ui?pa((0,A.Z)({format:Yi,picker:go},ui)):{}),go==="time"?pa((0,A.Z)((0,A.Z)({format:Yi},ft),{picker:go})):{});var ko=w.useContext(mn.Z),os=Ur||Nr||ko,La=w.useContext(cr.Z),Ua=jr!=null?jr:La,cs=(0,w.useContext)(Or.aM),sa=cs.hasFeedback,Ka=cs.status,Ks=cs.feedbackIcon,qs=w.createElement(w.Fragment,null,go==="time"?w.createElement(Ge,null):w.createElement(Ve,null),sa&&Ks);return(0,w.useImperativeHandle)(Ct,function(){return{focus:function(){var Ds;return(Ds=Pt.current)===null||Ds===void 0?void 0:Ds.focus()},blur:function(){var Ds;return(Ds=Pt.current)===null||Ds===void 0?void 0:Ds.blur()}}}),w.createElement(Ni.Z,{componentName:"DatePicker",defaultLocale:yo.Z},function(yl){var Ds=(0,A.Z)((0,A.Z)({},yl),ft.locale);return w.createElement(on,(0,A.Z)({separator:w.createElement("span",{"aria-label":"to",className:"".concat(an,"-separator")},w.createElement(ht,null)),disabled:Ua,ref:Pt,dropdownAlign:Jo(_t,wr),placeholder:Lo(go,Ds,_r),suffixIcon:qs,clearIcon:w.createElement(Ae.Z,null),prevIcon:w.createElement("span",{className:"".concat(an,"-prev-icon")}),nextIcon:w.createElement("span",{className:"".concat(an,"-next-icon")}),superPrevIcon:w.createElement("span",{className:"".concat(an,"-super-prev-icon")}),superNextIcon:w.createElement("span",{className:"".concat(an,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(wo,"-slide-up")},oi,ji,{className:J()((0,U.Z)((0,U.Z)({},"".concat(an,"-").concat(os),os),"".concat(an,"-borderless"),!Hr),(0,ki.Z)(an,(0,ki.F)(Ka,mi),sa),ci,Vn),locale:Ds.lang,prefixCls:an,getPopupContainer:yn||Xt,generateConfig:se,components:so,direction:_t,dropdownClassName:Lr||Ar}))})});return Ye}var Vo=function(se,Ye){var ft={};for(var Ct in se)Object.prototype.hasOwnProperty.call(se,Ct)&&Ye.indexOf(Ct)<0&&(ft[Ct]=se[Ct]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nn=0,Ct=Object.getOwnPropertySymbols(se);nn<Ct.length;nn++)Ye.indexOf(Ct[nn])<0&&Object.prototype.propertyIsEnumerable.call(se,Ct[nn])&&(ft[Ct[nn]]=se[Ct[nn]]);return ft};function jo(se){function Ye(Nr,jr){var bi=(0,w.forwardRef)(function(Hr,_r){var Lr=Hr.prefixCls,Ar=Hr.getPopupContainer,mi=Hr.className,oi=Hr.size,Pt=Hr.bordered,cn=Pt===void 0?!0:Pt,Qn=Hr.placement,_t=Hr.placeholder,Xt=Hr.popupClassName,an=Hr.dropdownClassName,yr=Hr.disabled,Ur=Hr.status,ci=Vo(Hr,["prefixCls","getPopupContainer","className","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status"]),Yi=(0,w.useContext)(Y.E_),ui=Yi.getPrefixCls,go=Yi.direction,wo=Yi.getPopupContainer,ji=ui("picker",Lr),ko=(0,ei.ri)(ji,go),os=ko.compactSize,La=ko.compactItemClassnames,Ua=w.useRef(null),cs=Hr.format,sa=Hr.showTime;(0,w.useImperativeHandle)(_r,function(){return{focus:function(){var _s;return(_s=Ua.current)===null||_s===void 0?void 0:_s.focus()},blur:function(){var _s;return(_s=Ua.current)===null||_s===void 0?void 0:_s.blur()}}});var Ka={showToday:!0},Ks={};Nr&&(Ks.picker=Nr);var qs=Nr||Hr.picker;Ks=(0,A.Z)((0,A.Z)((0,A.Z)({},Ks),sa?pa((0,A.Z)({format:cs,picker:qs},sa)):{}),qs==="time"?pa((0,A.Z)((0,A.Z)({format:cs},Hr),{picker:qs})):{});var yl=ui(),Ds=w.useContext(mn.Z),tc=os||oi||Ds,Rl=w.useContext(cr.Z),Ca=yr!=null?yr:Rl,us=(0,w.useContext)(Or.aM),Va=us.hasFeedback,zs=us.status,Fa=us.feedbackIcon,Ys=w.createElement(w.Fragment,null,qs==="time"?w.createElement(Ge,null):w.createElement(Ve,null),Va&&Fa);return w.createElement(Ni.Z,{componentName:"DatePicker",defaultLocale:yo.Z},function(Us){var _s=(0,A.Z)((0,A.Z)({},Us),Hr.locale);return w.createElement(xn,(0,A.Z)({ref:Ua,placeholder:Ro(qs,_s,_t),suffixIcon:Ys,dropdownAlign:Jo(go,Qn),clearIcon:w.createElement(Ae.Z,null),prevIcon:w.createElement("span",{className:"".concat(ji,"-prev-icon")}),nextIcon:w.createElement("span",{className:"".concat(ji,"-next-icon")}),superPrevIcon:w.createElement("span",{className:"".concat(ji,"-super-prev-icon")}),superNextIcon:w.createElement("span",{className:"".concat(ji,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(yl,"-slide-up")},Ka,ci,Ks,{locale:_s.lang,className:J()((0,U.Z)((0,U.Z)({},"".concat(ji,"-").concat(tc),tc),"".concat(ji,"-borderless"),!cn),(0,ki.Z)(ji,(0,ki.F)(zs,Ur),Va),La,mi),prefixCls:ji,getPopupContainer:Ar||wo,generateConfig:se,components:so,direction:go,disabled:Ca,dropdownClassName:Xt||an}))})});return jr&&(bi.displayName=jr),bi}var ft=Ye(),Ct=Ye("week","WeekPicker"),nn=Ye("month","MonthPicker"),yn=Ye("year","YearPicker"),Vn=Ye("time","TimePicker"),wr=Ye("quarter","QuarterPicker");return{DatePicker:ft,WeekPicker:Ct,MonthPicker:nn,YearPicker:yn,TimePicker:Vn,QuarterPicker:wr}}var so={button:Z,rangeItem:he};function Si(se){return se?Array.isArray(se)?se:[se]:[]}function pa(se){var Ye=se.format,ft=se.picker,Ct=se.showHour,nn=se.showMinute,yn=se.showSecond,Vn=se.use12Hours,wr=Si(Ye)[0],Nr=(0,A.Z)({},se);return wr&&typeof wr=="string"&&(!wr.includes("s")&&yn===void 0&&(Nr.showSecond=!1),!wr.includes("m")&&nn===void 0&&(Nr.showMinute=!1),!wr.includes("H")&&!wr.includes("h")&&Ct===void 0&&(Nr.showHour=!1),(wr.includes("a")||wr.includes("A"))&&Vn===void 0&&(Nr.use12Hours=!0)),ft==="time"?Nr:(typeof wr=="function"&&delete Nr.format,{showTime:Nr})}var xo=(0,E.b)("bottomLeft","bottomRight","topLeft","topRight");function Pa(se){var Ye=jo(se),ft=Ye.DatePicker,Ct=Ye.WeekPicker,nn=Ye.MonthPicker,yn=Ye.YearPicker,Vn=Ye.TimePicker,wr=Ye.QuarterPicker,Nr=qo(se),jr=ft;return jr.WeekPicker=Ct,jr.MonthPicker=nn,jr.YearPicker=yn,jr.RangePicker=Nr,jr.TimePicker=Vn,jr.QuarterPicker=wr,jr}var Fo=Pa,Sa=Fo(x),Bo=Sa},87206:function(j,M,l){"use strict";l.d(M,{Z:function(){return A}});var v=l(87462),d={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},m=d,g=l(42115),x={lang:(0,v.Z)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},m),timePickerLocale:(0,v.Z)({},g.Z)},A=x},40877:function(j,M,l){"use strict";var v=l(87462),d=l(4942),m=l(93967),g=l.n(m),x=l(67294),A=l(53124),E=function(k,Z){var U={};for(var $ in k)Object.prototype.hasOwnProperty.call(k,$)&&Z.indexOf($)<0&&(U[$]=k[$]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,$=Object.getOwnPropertySymbols(k);te<$.length;te++)Z.indexOf($[te])<0&&Object.prototype.propertyIsEnumerable.call(k,$[te])&&(U[$[te]]=k[$[te]]);return U},w=function(Z){var U=x.useContext(A.E_),$=U.getPrefixCls,te=U.direction,Q=Z.prefixCls,J=Z.type,K=J===void 0?"horizontal":J,Y=Z.orientation,re=Y===void 0?"center":Y,fe=Z.orientationMargin,le=Z.className,ie=Z.children,ve=Z.dashed,Oe=Z.plain,L=E(Z,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),Pe=$("divider",Q),pe=re.length>0?"-".concat(re):re,Be=!!ie,je=re==="left"&&fe!=null,he=re==="right"&&fe!=null,st=g()(Pe,"".concat(Pe,"-").concat(K),(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(Pe,"-with-text"),Be),"".concat(Pe,"-with-text").concat(pe),Be),"".concat(Pe,"-dashed"),!!ve),"".concat(Pe,"-plain"),!!Oe),"".concat(Pe,"-rtl"),te==="rtl"),"".concat(Pe,"-no-default-orientation-margin-left"),je),"".concat(Pe,"-no-default-orientation-margin-right"),he),le),en=(0,v.Z)((0,v.Z)({},je&&{marginLeft:fe}),he&&{marginRight:fe});return x.createElement("div",(0,v.Z)({className:st},L,{role:"separator"}),ie&&K!=="vertical"&&x.createElement("span",{className:"".concat(Pe,"-inner-text"),style:en},ie))};M.Z=w},98541:function(j,M,l){"use strict";var v=l(43146)},62986:function(j,M,l){"use strict";l.d(M,{Z:function(){return K}});var v=l(4942),d=l(87462),m=l(93967),g=l.n(m),x=l(67294),A=l(53124),E=l(23715),w=function(){var re=x.useContext(A.E_),fe=re.getPrefixCls,le=fe("empty-img-default");return x.createElement("svg",{className:le,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},x.createElement("g",{fill:"none",fillRule:"evenodd"},x.createElement("g",{transform:"translate(24 31.67)"},x.createElement("ellipse",{className:"".concat(le,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),x.createElement("path",{className:"".concat(le,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),x.createElement("path",{className:"".concat(le,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),x.createElement("path",{className:"".concat(le,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),x.createElement("path",{className:"".concat(le,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),x.createElement("path",{className:"".concat(le,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),x.createElement("g",{className:"".concat(le,"-g"),transform:"translate(149.65 15.383)"},x.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),x.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},k=w,Z=function(){var re=x.useContext(A.E_),fe=re.getPrefixCls,le=fe("empty-img-simple");return x.createElement("svg",{className:le,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},x.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},x.createElement("ellipse",{className:"".concat(le,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),x.createElement("g",{className:"".concat(le,"-g"),fillRule:"nonzero"},x.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),x.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(le,"-path")}))))},U=Z,$=function(Y,re){var fe={};for(var le in Y)Object.prototype.hasOwnProperty.call(Y,le)&&re.indexOf(le)<0&&(fe[le]=Y[le]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ie=0,le=Object.getOwnPropertySymbols(Y);ie<le.length;ie++)re.indexOf(le[ie])<0&&Object.prototype.propertyIsEnumerable.call(Y,le[ie])&&(fe[le[ie]]=Y[le[ie]]);return fe},te=x.createElement(k,null),Q=x.createElement(U,null),J=function(re){var fe=re.className,le=re.prefixCls,ie=re.image,ve=ie===void 0?te:ie,Oe=re.description,L=re.children,Pe=re.imageStyle,pe=$(re,["className","prefixCls","image","description","children","imageStyle"]),Be=x.useContext(A.E_),je=Be.getPrefixCls,he=Be.direction;return x.createElement(E.Z,{componentName:"Empty"},function(st){var en=je("empty",le),vn=typeof Oe!="undefined"?Oe:st.description,Mt=typeof vn=="string"?vn:"empty",It=null;return typeof ve=="string"?It=x.createElement("img",{alt:Mt,src:ve}):It=ve,x.createElement("div",(0,d.Z)({className:g()(en,(0,v.Z)((0,v.Z)({},"".concat(en,"-normal"),ve===Q),"".concat(en,"-rtl"),he==="rtl"),fe)},pe),x.createElement("div",{className:"".concat(en,"-image"),style:Pe},It),vn&&x.createElement("div",{className:"".concat(en,"-description")},vn),L&&x.createElement("div",{className:"".concat(en,"-footer")},L))})};J.PRESENTED_IMAGE_DEFAULT=te,J.PRESENTED_IMAGE_SIMPLE=Q;var K=J},81151:function(j,M,l){"use strict";var v=l(43146)},65223:function(j,M,l){"use strict";l.d(M,{RV:function(){return E},Rk:function(){return w},Ux:function(){return Z},aM:function(){return k},q3:function(){return x},qI:function(){return A}});var v=l(87462),d=l(78511),m=l(98423),g=l(67294),x=g.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),A=g.createContext(null),E=function($){var te=(0,m.Z)($,["prefixCls"]);return g.createElement(d.RV,(0,v.Z)({},te))},w=g.createContext({prefixCls:""}),k=g.createContext({}),Z=function($){var te=$.children,Q=$.status,J=$.override,K=(0,g.useContext)(k),Y=(0,g.useMemo)(function(){var re=(0,v.Z)({},K);return J&&delete re.isFormItemInput,Q&&(delete re.status,delete re.hasFeedback,delete re.feedbackIcon),re},[Q,J,K]);return g.createElement(k.Provider,{value:Y},te)}},51018:function(j,M,l){"use strict";l.d(M,{Z:function(){return Ln}});var v=l(65223),d=l(4942),m=l(87462),g=l(74902),x=l(93967),A=l.n(x),E=l(29372),w=l(67294),k=l(53124),Z=l(33603),U=l(97685);function $(vt){var Zt=w.useState(vt),or=(0,U.Z)(Zt,2),ir=or[0],lr=or[1];return w.useEffect(function(){var Pr=setTimeout(function(){lr(vt)},vt.length?0:10);return function(){clearTimeout(Pr)}},[vt]),ir}var te=[];function Q(vt,Zt,or){var ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof vt=="string"?vt:"".concat(or,"-").concat(ir),error:vt,errorStatus:Zt}}function J(vt){var Zt=vt.help,or=vt.helpStatus,ir=vt.errors,lr=ir===void 0?te:ir,Pr=vt.warnings,$r=Pr===void 0?te:Pr,dr=vt.className,ni=vt.fieldId,un=vt.onVisibleChanged,ue=w.useContext(v.Rk),De=ue.prefixCls,oe=w.useContext(k.E_),R=oe.getPrefixCls,N="".concat(De,"-item-explain"),G=R(),ye=$(lr),Ie=$($r),ze=w.useMemo(function(){return Zt!=null?[Q(Zt,or,"help")]:[].concat((0,g.Z)(ye.map(function(ke,rt){return Q(ke,"error","error",rt)})),(0,g.Z)(Ie.map(function(ke,rt){return Q(ke,"warning","warning",rt)})))},[Zt,or,ye,Ie]),Ce={};return ni&&(Ce.id="".concat(ni,"_help")),w.createElement(E.ZP,{motionDeadline:Z.ZP.motionDeadline,motionName:"".concat(G,"-show-help"),visible:!!ze.length,onVisibleChanged:un},function(ke){var rt=ke.className,Tt=ke.style;return w.createElement("div",(0,m.Z)({},Ce,{className:A()(N,rt,dr),style:Tt,role:"alert"}),w.createElement(E.V4,(0,m.Z)({keys:ze},Z.ZP,{motionName:"".concat(G,"-show-help-item"),component:!1}),function(En){var Rn=En.key,$n=En.error,Xn=En.errorStatus,$t=En.className,hn=En.style;return w.createElement("div",{key:Rn,className:A()($t,(0,d.Z)({},"".concat(N,"-").concat(Xn),Xn)),style:hn},$n)}))})}var K=l(71002),Y=l(78511),re=l(98866),fe=l(97647),le=l(37920);function ie(vt){return typeof vt=="object"&&vt!=null&&vt.nodeType===1}function ve(vt,Zt){return(!Zt||vt!=="hidden")&&vt!=="visible"&&vt!=="clip"}function Oe(vt,Zt){if(vt.clientHeight<vt.scrollHeight||vt.clientWidth<vt.scrollWidth){var or=getComputedStyle(vt,null);return ve(or.overflowY,Zt)||ve(or.overflowX,Zt)||function(ir){var lr=function(Pr){if(!Pr.ownerDocument||!Pr.ownerDocument.defaultView)return null;try{return Pr.ownerDocument.defaultView.frameElement}catch($r){return null}}(ir);return!!lr&&(lr.clientHeight<ir.scrollHeight||lr.clientWidth<ir.scrollWidth)}(vt)}return!1}function L(vt,Zt,or,ir,lr,Pr,$r,dr){return Pr<vt&&$r>Zt||Pr>vt&&$r<Zt?0:Pr<=vt&&dr<=or||$r>=Zt&&dr>=or?Pr-vt-ir:$r>Zt&&dr<or||Pr<vt&&dr>or?$r-Zt+lr:0}var Pe=function(vt,Zt){var or=window,ir=Zt.scrollMode,lr=Zt.block,Pr=Zt.inline,$r=Zt.boundary,dr=Zt.skipOverflowHiddenElements,ni=typeof $r=="function"?$r:function(To){return To!==$r};if(!ie(vt))throw new TypeError("Invalid target");for(var un,ue,De=document.scrollingElement||document.documentElement,oe=[],R=vt;ie(R)&&ni(R);){if((R=(ue=(un=R).parentElement)==null?un.getRootNode().host||null:ue)===De){oe.push(R);break}R!=null&&R===document.body&&Oe(R)&&!Oe(document.documentElement)||R!=null&&Oe(R,dr)&&oe.push(R)}for(var N=or.visualViewport?or.visualViewport.width:innerWidth,G=or.visualViewport?or.visualViewport.height:innerHeight,ye=window.scrollX||pageXOffset,Ie=window.scrollY||pageYOffset,ze=vt.getBoundingClientRect(),Ce=ze.height,ke=ze.width,rt=ze.top,Tt=ze.right,En=ze.bottom,Rn=ze.left,$n=lr==="start"||lr==="nearest"?rt:lr==="end"?En:rt+Ce/2,Xn=Pr==="center"?Rn+ke/2:Pr==="end"?Tt:Rn,$t=[],hn=0;hn<oe.length;hn++){var bn=oe[hn],br=bn.getBoundingClientRect(),qn=br.height,Li=br.width,$i=br.top,Bi=br.right,co=br.bottom,Do=br.left;if(ir==="if-needed"&&rt>=0&&Rn>=0&&En<=G&&Tt<=N&&rt>=$i&&En<=co&&Rn>=Do&&Tt<=Bi)return $t;var Wo=getComputedStyle(bn),hi=parseInt(Wo.borderLeftWidth,10),ua=parseInt(Wo.borderTopWidth,10),ya=parseInt(Wo.borderRightWidth,10),fi=parseInt(Wo.borderBottomWidth,10),Pi=0,Qi=0,Zi="offsetWidth"in bn?bn.offsetWidth-bn.clientWidth-hi-ya:0,Ta="offsetHeight"in bn?bn.offsetHeight-bn.clientHeight-ua-fi:0,uo="offsetWidth"in bn?bn.offsetWidth===0?0:Li/bn.offsetWidth:0,xa="offsetHeight"in bn?bn.offsetHeight===0?0:qn/bn.offsetHeight:0;if(De===bn)Pi=lr==="start"?$n:lr==="end"?$n-G:lr==="nearest"?L(Ie,Ie+G,G,ua,fi,Ie+$n,Ie+$n+Ce,Ce):$n-G/2,Qi=Pr==="start"?Xn:Pr==="center"?Xn-N/2:Pr==="end"?Xn-N:L(ye,ye+N,N,hi,ya,ye+Xn,ye+Xn+ke,ke),Pi=Math.max(0,Pi+Ie),Qi=Math.max(0,Qi+ye);else{Pi=lr==="start"?$n-$i-ua:lr==="end"?$n-co+fi+Ta:lr==="nearest"?L($i,co,qn,ua,fi+Ta,$n,$n+Ce,Ce):$n-($i+qn/2)+Ta/2,Qi=Pr==="start"?Xn-Do-hi:Pr==="center"?Xn-(Do+Li/2)+Zi/2:Pr==="end"?Xn-Bi+ya+Zi:L(Do,Bi,Li,hi,ya+Zi,Xn,Xn+ke,ke);var Qo=bn.scrollLeft,ra=bn.scrollTop;$n+=ra-(Pi=Math.max(0,Math.min(ra+Pi/xa,bn.scrollHeight-qn/xa+Ta))),Xn+=Qo-(Qi=Math.max(0,Math.min(Qo+Qi/uo,bn.scrollWidth-Li/uo+Zi)))}$t.push({el:bn,top:Pi,left:Qi})}return $t};function pe(vt){return vt===Object(vt)&&Object.keys(vt).length!==0}function Be(vt,Zt){Zt===void 0&&(Zt="auto");var or="scrollBehavior"in document.body.style;vt.forEach(function(ir){var lr=ir.el,Pr=ir.top,$r=ir.left;lr.scroll&&or?lr.scroll({top:Pr,left:$r,behavior:Zt}):(lr.scrollTop=Pr,lr.scrollLeft=$r)})}function je(vt){return vt===!1?{block:"end",inline:"nearest"}:pe(vt)?vt:{block:"start",inline:"nearest"}}function he(vt,Zt){var or=vt.isConnected||vt.ownerDocument.documentElement.contains(vt);if(pe(Zt)&&typeof Zt.behavior=="function")return Zt.behavior(or?Pe(vt,Zt):[]);if(or){var ir=je(Zt);return Be(Pe(vt,ir),ir.behavior)}}var st=he,en=["parentNode"],vn="form_item";function Mt(vt){return vt===void 0||vt===!1?[]:Array.isArray(vt)?vt:[vt]}function It(vt,Zt){if(vt.length){var or=vt.join("_");if(Zt)return"".concat(Zt,"_").concat(or);var ir=en.includes(or);return ir?"".concat(vn,"_").concat(or):or}}function Ve(vt){var Zt=Mt(vt);return Zt.join("_")}function Me(vt){var Zt=(0,Y.cI)(),or=(0,U.Z)(Zt,1),ir=or[0],lr=w.useRef({}),Pr=w.useMemo(function(){return vt!=null?vt:(0,m.Z)((0,m.Z)({},ir),{__INTERNAL__:{itemRef:function(dr){return function(ni){var un=Ve(dr);ni?lr.current[un]=ni:delete lr.current[un]}}},scrollToField:function(dr){var ni=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},un=Mt(dr),ue=It(un,Pr.__INTERNAL__.name),De=ue?document.getElementById(ue):null;De&&st(De,(0,m.Z)({scrollMode:"if-needed",block:"nearest"},ni))},getFieldInstance:function(dr){var ni=Ve(dr);return lr.current[ni]}})},[vt,ir]);return[Pr]}var Qe=function(vt,Zt){var or={};for(var ir in vt)Object.prototype.hasOwnProperty.call(vt,ir)&&Zt.indexOf(ir)<0&&(or[ir]=vt[ir]);if(vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lr=0,ir=Object.getOwnPropertySymbols(vt);lr<ir.length;lr++)Zt.indexOf(ir[lr])<0&&Object.prototype.propertyIsEnumerable.call(vt,ir[lr])&&(or[ir[lr]]=vt[ir[lr]]);return or},bt=function(Zt,or){var ir=w.useContext(fe.Z),lr=w.useContext(re.Z),Pr=w.useContext(k.E_),$r=Pr.getPrefixCls,dr=Pr.direction,ni=Pr.form,un=Zt.prefixCls,ue=Zt.className,De=ue===void 0?"":ue,oe=Zt.size,R=oe===void 0?ir:oe,N=Zt.disabled,G=N===void 0?lr:N,ye=Zt.form,Ie=Zt.colon,ze=Zt.labelAlign,Ce=Zt.labelWrap,ke=Zt.labelCol,rt=Zt.wrapperCol,Tt=Zt.hideRequiredMark,En=Zt.layout,Rn=En===void 0?"horizontal":En,$n=Zt.scrollToFirstError,Xn=Zt.requiredMark,$t=Zt.onFinishFailed,hn=Zt.name,bn=Qe(Zt,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),br=w.useContext(le.Z),qn=(0,w.useMemo)(function(){return Xn!==void 0?Xn:ni&&ni.requiredMark!==void 0?ni.requiredMark:!Tt},[Tt,Xn,ni]),Li=Ie!=null?Ie:ni==null?void 0:ni.colon,$i=$r("form",un),Bi=A()($i,(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},"".concat($i,"-").concat(Rn),!0),"".concat($i,"-hide-required-mark"),qn===!1),"".concat($i,"-rtl"),dr==="rtl"),"".concat($i,"-").concat(R),R),De),co=Me(ye),Do=(0,U.Z)(co,1),Wo=Do[0],hi=Wo.__INTERNAL__;hi.name=hn;var ua=(0,w.useMemo)(function(){return{name:hn,labelAlign:ze,labelCol:ke,labelWrap:Ce,wrapperCol:rt,vertical:Rn==="vertical",colon:Li,requiredMark:qn,itemRef:hi.itemRef,form:Wo}},[hn,ze,ke,rt,Rn,Li,qn,Wo]);w.useImperativeHandle(or,function(){return Wo});var ya=function(Pi){$t==null||$t(Pi);var Qi={block:"nearest"};$n&&Pi.errorFields.length&&((0,K.Z)($n)==="object"&&(Qi=$n),Wo.scrollToField(Pi.errorFields[0].name,Qi))};return w.createElement(re.n,{disabled:G},w.createElement(fe.q,{size:R},w.createElement(v.RV,(0,m.Z)({},{validateMessages:br}),w.createElement(v.q3.Provider,{value:ua},w.createElement(Y.ZP,(0,m.Z)({id:hn},bn,{name:hn,onFinishFailed:ya,form:Wo,className:Bi}))))))},Ge=w.forwardRef(bt),Ae=Ge,be=l(30470),Ne=l(42550),Re=function(){var Zt=(0,w.useContext)(v.aM),or=Zt.status;return{status:or}},ht=Re,Wt=l(96159),Yt=l(93355),Lt=l(75164);function Dt(vt){var Zt=w.useState(vt),or=(0,U.Z)(Zt,2),ir=or[0],lr=or[1],Pr=(0,w.useRef)(null),$r=(0,w.useRef)([]),dr=(0,w.useRef)(!1);w.useEffect(function(){return dr.current=!1,function(){dr.current=!0,Lt.Z.cancel(Pr.current),Pr.current=null}},[]);function ni(un){dr.current||(Pr.current===null&&($r.current=[],Pr.current=(0,Lt.Z)(function(){Pr.current=null,lr(function(ue){var De=ue;return $r.current.forEach(function(oe){De=oe(De)}),De})})),$r.current.push(un))}return[ir,ni]}function lt(){var vt=w.useContext(v.q3),Zt=vt.itemRef,or=w.useRef({});function ir(lr,Pr){var $r=Pr&&(0,K.Z)(Pr)==="object"&&Pr.ref,dr=lr.join("_");return(or.current.name!==dr||or.current.originRef!==$r)&&(or.current.name=dr,or.current.originRef=$r,or.current.ref=(0,Ne.sQ)(Zt(lr),$r)),or.current.ref}return ir}var Ft=l(19735),qt=l(17012),Nn=l(29950),kn=l(19267),An=l(8410),Kn=l(98423),ee=l(92820),it=l(1413),Ze=l(36688),ot=l(93771),Xe=function(Zt,or){return w.createElement(ot.Z,(0,it.Z)((0,it.Z)({},Zt),{},{ref:or,icon:Ze.Z}))},et=w.forwardRef(Xe),pt=et,He=l(21584),Et=l(23715),Vt=l(80779),On=l(87381),Wn=function(vt,Zt){var or={};for(var ir in vt)Object.prototype.hasOwnProperty.call(vt,ir)&&Zt.indexOf(ir)<0&&(or[ir]=vt[ir]);if(vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lr=0,ir=Object.getOwnPropertySymbols(vt);lr<ir.length;lr++)Zt.indexOf(ir[lr])<0&&Object.prototype.propertyIsEnumerable.call(vt,ir[lr])&&(or[ir[lr]]=vt[ir[lr]]);return or};function pr(vt){return vt?(0,K.Z)(vt)==="object"&&!w.isValidElement(vt)?vt:{title:vt}:null}var Cr=function(Zt){var or=Zt.prefixCls,ir=Zt.label,lr=Zt.htmlFor,Pr=Zt.labelCol,$r=Zt.labelAlign,dr=Zt.colon,ni=Zt.required,un=Zt.requiredMark,ue=Zt.tooltip,De=(0,Et.E)("Form"),oe=(0,U.Z)(De,1),R=oe[0];return ir?w.createElement(v.q3.Consumer,{key:"label"},function(N){var G=N.vertical,ye=N.labelAlign,Ie=N.labelCol,ze=N.labelWrap,Ce=N.colon,ke,rt=Pr||Ie||{},Tt=$r||ye,En="".concat(or,"-item-label"),Rn=A()(En,Tt==="left"&&"".concat(En,"-left"),rt.className,(0,d.Z)({},"".concat(En,"-wrap"),!!ze)),$n=ir,Xn=dr===!0||Ce!==!1&&dr!==!1,$t=Xn&&!G;$t&&typeof ir=="string"&&ir.trim()!==""&&($n=ir.replace(/[:|]\s*$/,""));var hn=pr(ue);if(hn){var bn=hn.icon,br=bn===void 0?w.createElement(pt,null):bn,qn=Wn(hn,["icon"]),Li=w.createElement(On.Z,(0,m.Z)({},qn),w.cloneElement(br,{className:"".concat(or,"-item-tooltip"),title:"",onClick:function(co){co.preventDefault()},tabIndex:null}));$n=w.createElement(w.Fragment,null,$n,Li)}un==="optional"&&!ni&&($n=w.createElement(w.Fragment,null,$n,w.createElement("span",{className:"".concat(or,"-item-optional"),title:""},(R==null?void 0:R.optional)||((ke=Vt.Z.Form)===null||ke===void 0?void 0:ke.optional))));var $i=A()((0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(or,"-item-required"),ni),"".concat(or,"-item-required-mark-optional"),un==="optional"),"".concat(or,"-item-no-colon"),!Xn));return w.createElement(He.Z,(0,m.Z)({},rt,{className:Rn}),w.createElement("label",{htmlFor:lr,className:$i,title:typeof ir=="string"?ir:""},$n))}):null},Sn=Cr,Cn=function(Zt){var or=Zt.prefixCls,ir=Zt.status,lr=Zt.wrapperCol,Pr=Zt.children,$r=Zt.errors,dr=Zt.warnings,ni=Zt._internalItemRender,un=Zt.extra,ue=Zt.help,De=Zt.fieldId,oe=Zt.marginBottom,R=Zt.onErrorVisibleChanged,N="".concat(or,"-item"),G=w.useContext(v.q3),ye=lr||G.wrapperCol||{},Ie=A()("".concat(N,"-control"),ye.className),ze=w.useMemo(function(){return(0,m.Z)({},G)},[G]);delete ze.labelCol,delete ze.wrapperCol;var Ce=w.createElement("div",{className:"".concat(N,"-control-input")},w.createElement("div",{className:"".concat(N,"-control-input-content")},Pr)),ke=w.useMemo(function(){return{prefixCls:or,status:ir}},[or,ir]),rt=oe!==null||$r.length||dr.length?w.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},w.createElement(v.Rk.Provider,{value:ke},w.createElement(J,{fieldId:De,errors:$r,warnings:dr,help:ue,helpStatus:ir,className:"".concat(N,"-explain-connected"),onVisibleChanged:R})),!!oe&&w.createElement("div",{style:{width:0,height:oe}})):null,Tt={};De&&(Tt.id="".concat(De,"_extra"));var En=un?w.createElement("div",(0,m.Z)({},Tt,{className:"".concat(N,"-extra")}),un):null,Rn=ni&&ni.mark==="pro_table_render"&&ni.render?ni.render(Zt,{input:Ce,errorList:rt,extra:En}):w.createElement(w.Fragment,null,Ce,rt,En);return w.createElement(v.q3.Provider,{value:ze},w.createElement(He.Z,(0,m.Z)({},ye,{className:Ie}),Rn))},Fn=Cn,Hn=function(vt,Zt){var or={};for(var ir in vt)Object.prototype.hasOwnProperty.call(vt,ir)&&Zt.indexOf(ir)<0&&(or[ir]=vt[ir]);if(vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lr=0,ir=Object.getOwnPropertySymbols(vt);lr<ir.length;lr++)Zt.indexOf(ir[lr])<0&&Object.prototype.propertyIsEnumerable.call(vt,ir[lr])&&(or[ir[lr]]=vt[ir[lr]]);return or},sr={success:Ft.Z,warning:Nn.Z,error:qt.Z,validating:kn.Z};function ti(vt){var Zt=vt.prefixCls,or=vt.className,ir=vt.style,lr=vt.help,Pr=vt.errors,$r=vt.warnings,dr=vt.validateStatus,ni=vt.meta,un=vt.hasFeedback,ue=vt.hidden,De=vt.children,oe=vt.fieldId,R=vt.isRequired,N=vt.onSubItemMetaChange,G=Hn(vt,["prefixCls","className","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","isRequired","onSubItemMetaChange"]),ye="".concat(Zt,"-item"),Ie=w.useContext(v.q3),ze=Ie.requiredMark,Ce=w.useRef(null),ke=$(Pr),rt=$($r),Tt=lr!=null,En=!!(Tt||Pr.length||$r.length),Rn=w.useState(null),$n=(0,U.Z)(Rn,2),Xn=$n[0],$t=$n[1];(0,An.Z)(function(){if(En&&Ce.current){var Li=getComputedStyle(Ce.current);$t(parseInt(Li.marginBottom,10))}},[En]);var hn=function($i){$i||$t(null)},bn="";dr!==void 0?bn=dr:ni.validating?bn="validating":ke.length?bn="error":rt.length?bn="warning":ni.touched&&(bn="success");var br=w.useMemo(function(){var Li;if(un){var $i=bn&&sr[bn];Li=$i?w.createElement("span",{className:A()("".concat(ye,"-feedback-icon"),"".concat(ye,"-feedback-icon-").concat(bn))},w.createElement($i,null)):null}return{status:bn,hasFeedback:un,feedbackIcon:Li,isFormItemInput:!0}},[bn,un]),qn=(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},ye,!0),"".concat(ye,"-with-help"),Tt||ke.length||rt.length),"".concat(or),!!or),"".concat(ye,"-has-feedback"),bn&&un),"".concat(ye,"-has-success"),bn==="success"),"".concat(ye,"-has-warning"),bn==="warning"),"".concat(ye,"-has-error"),bn==="error"),"".concat(ye,"-is-validating"),bn==="validating"),"".concat(ye,"-hidden"),ue);return w.createElement("div",{className:A()(qn),style:ir,ref:Ce},w.createElement(ee.Z,(0,m.Z)({className:"".concat(ye,"-row")},(0,Kn.Z)(G,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","required","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol"])),w.createElement(Sn,(0,m.Z)({htmlFor:oe,required:R,requiredMark:ze},vt,{prefixCls:Zt})),w.createElement(Fn,(0,m.Z)({},vt,ni,{errors:ke,warnings:rt,prefixCls:Zt,status:bn,help:lr,marginBottom:Xn,onErrorVisibleChanged:hn}),w.createElement(v.qI.Provider,{value:N},w.createElement(v.aM.Provider,{value:br},De)))),!!Xn&&w.createElement("div",{className:"".concat(ye,"-margin-offset"),style:{marginBottom:-Xn}}))}var Ir="__SPLIT__",kr=(0,Yt.b)("success","warning","error","validating",""),di=w.memo(function(vt){var Zt=vt.children;return Zt},function(vt,Zt){return vt.value===Zt.value&&vt.update===Zt.update&&vt.childProps.length===Zt.childProps.length&&vt.childProps.every(function(or,ir){return or===Zt.childProps[ir]})});function Yn(vt){return vt!=null}function Bt(){return{errors:[],warnings:[],touched:!1,validating:!1,validated:!1,name:[]}}function kt(vt){var Zt=vt.name,or=vt.noStyle,ir=vt.dependencies,lr=vt.prefixCls,Pr=vt.shouldUpdate,$r=vt.rules,dr=vt.children,ni=vt.required,un=vt.label,ue=vt.messageVariables,De=vt.trigger,oe=De===void 0?"onChange":De,R=vt.validateTrigger,N=vt.hidden,G=(0,w.useContext)(k.E_),ye=G.getPrefixCls,Ie=(0,w.useContext)(v.q3),ze=Ie.name,Ce=typeof dr=="function",ke=(0,w.useContext)(v.qI),rt=(0,w.useContext)(Y.zb),Tt=rt.validateTrigger,En=R!==void 0?R:Tt,Rn=Yn(Zt),$n=ye("form",lr),Xn=w.useContext(Y.ZM),$t=w.useRef(),hn=Dt({}),bn=(0,U.Z)(hn,2),br=bn[0],qn=bn[1],Li=(0,be.Z)(function(){return Bt()}),$i=(0,U.Z)(Li,2),Bi=$i[0],co=$i[1],Do=function(uo){var xa=Xn==null?void 0:Xn.getKey(uo.name);if(co(uo.destroy?Bt():uo,!0),or&&ke){var Qo=uo.name;if(uo.destroy)Qo=$t.current||Qo;else if(xa!==void 0){var ra=(0,U.Z)(xa,2),To=ra[0],fa=ra[1];Qo=[To].concat((0,g.Z)(fa)),$t.current=Qo}ke(uo,Qo)}},Wo=function(uo,xa){qn(function(Qo){var ra=(0,m.Z)({},Qo),To=[].concat((0,g.Z)(uo.name.slice(0,-1)),(0,g.Z)(xa)),fa=To.join(Ir);return uo.destroy?delete ra[fa]:ra[fa]=uo,ra})},hi=w.useMemo(function(){var Ta=(0,g.Z)(Bi.errors),uo=(0,g.Z)(Bi.warnings);return Object.values(br).forEach(function(xa){Ta.push.apply(Ta,(0,g.Z)(xa.errors||[])),uo.push.apply(uo,(0,g.Z)(xa.warnings||[]))}),[Ta,uo]},[br,Bi.errors,Bi.warnings]),ua=(0,U.Z)(hi,2),ya=ua[0],fi=ua[1],Pi=lt();function Qi(Ta,uo,xa){return or&&!N?Ta:w.createElement(ti,(0,m.Z)({key:"row"},vt,{prefixCls:$n,fieldId:uo,isRequired:xa,errors:ya,warnings:fi,meta:Bi,onSubItemMetaChange:Wo}),Ta)}if(!Rn&&!Ce&&!ir)return Qi(dr);var Zi={};return typeof un=="string"?Zi.label=un:Zt&&(Zi.label=String(Zt)),ue&&(Zi=(0,m.Z)((0,m.Z)({},Zi),ue)),w.createElement(Y.gN,(0,m.Z)({},vt,{messageVariables:Zi,trigger:oe,validateTrigger:En,onMetaChange:Do}),function(Ta,uo,xa){var Qo=Mt(Zt).length&&uo?uo.name:[],ra=It(Qo,ze),To=ni!==void 0?ni:!!($r&&$r.some(function(xr){if(xr&&(0,K.Z)(xr)==="object"&&xr.required&&!xr.warningOnly)return!0;if(typeof xr=="function"){var nr=xr(xa);return nr&&nr.required&&!nr.warningOnly}return!1})),fa=(0,m.Z)({},Ta),Ba=null;if(Array.isArray(dr)&&Rn)Ba=dr;else if(!(Ce&&(!(Pr||ir)||Rn))){if(!(ir&&!Ce&&!Rn))if((0,Wt.l$)(dr)){var xt=(0,m.Z)((0,m.Z)({},dr.props),fa);if(xt.id||(xt.id=ra),vt.help||ya.length>0||fi.length>0||vt.extra){var sn=[];(vt.help||ya.length>0)&&sn.push("".concat(ra,"_help")),vt.extra&&sn.push("".concat(ra,"_extra")),xt["aria-describedby"]=sn.join(" ")}ya.length>0&&(xt["aria-invalid"]="true"),To&&(xt["aria-required"]="true"),(0,Ne.Yr)(dr)&&(xt.ref=Pi(Qo,dr));var Ht=new Set([].concat((0,g.Z)(Mt(oe)),(0,g.Z)(Mt(En))));Ht.forEach(function(xr){xt[xr]=function(){for(var nr,zt,Qr,hr,gi,mo=arguments.length,No=new Array(mo),io=0;io<mo;io++)No[io]=arguments[io];(Qr=fa[xr])===null||Qr===void 0||(nr=Qr).call.apply(nr,[fa].concat(No)),(gi=(hr=dr.props)[xr])===null||gi===void 0||(zt=gi).call.apply(zt,[hr].concat(No))}});var jn=[xt["aria-required"],xt["aria-invalid"],xt["aria-describedby"]];Ba=w.createElement(di,{value:fa[vt.valuePropName||"value"],update:dr,childProps:jn},(0,Wt.Tm)(dr,xt))}else Ce&&(Pr||ir)&&!Rn?Ba=dr(xa):Ba=dr}return Qi(Ba,ra,To)})}var dn=kt;dn.useStatus=ht;var Ot=dn,ur=function(vt,Zt){var or={};for(var ir in vt)Object.prototype.hasOwnProperty.call(vt,ir)&&Zt.indexOf(ir)<0&&(or[ir]=vt[ir]);if(vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lr=0,ir=Object.getOwnPropertySymbols(vt);lr<ir.length;lr++)Zt.indexOf(ir[lr])<0&&Object.prototype.propertyIsEnumerable.call(vt,ir[lr])&&(or[ir[lr]]=vt[ir[lr]]);return or},Mn=function(Zt){var or=Zt.prefixCls,ir=Zt.children,lr=ur(Zt,["prefixCls","children"]),Pr=w.useContext(k.E_),$r=Pr.getPrefixCls,dr=$r("form",or),ni=w.useMemo(function(){return{prefixCls:dr,status:"error"}},[dr]);return w.createElement(Y.aV,(0,m.Z)({},lr),function(un,ue,De){return w.createElement(v.Rk.Provider,{value:ni},ir(un.map(function(oe){return(0,m.Z)((0,m.Z)({},oe),{fieldKey:oe.key})}),ue,{errors:De.errors,warnings:De.warnings}))})},zr=Mn;function jt(){var vt=(0,w.useContext)(v.q3),Zt=vt.form;return Zt}var gn=Ae;gn.Item=Ot,gn.List=zr,gn.ErrorList=J,gn.useForm=Me,gn.useFormInstance=jt,gn.useWatch=Y.qo,gn.Provider=v.RV,gn.create=function(){};var Ln=gn},37920:function(j,M,l){"use strict";var v=l(67294);M.Z=(0,v.createContext)(void 0)},99134:function(j,M,l){"use strict";var v=l(67294),d=(0,v.createContext)({});M.Z=d},21584:function(j,M,l){"use strict";var v=l(4942),d=l(87462),m=l(71002),g=l(93967),x=l.n(g),A=l(67294),E=l(53124),w=l(99134),k=function(te,Q){var J={};for(var K in te)Object.prototype.hasOwnProperty.call(te,K)&&Q.indexOf(K)<0&&(J[K]=te[K]);if(te!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Y=0,K=Object.getOwnPropertySymbols(te);Y<K.length;Y++)Q.indexOf(K[Y])<0&&Object.prototype.propertyIsEnumerable.call(te,K[Y])&&(J[K[Y]]=te[K[Y]]);return J};function Z(te){return typeof te=="number"?"".concat(te," ").concat(te," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(te)?"0 0 ".concat(te):te}var U=["xs","sm","md","lg","xl","xxl"],$=A.forwardRef(function(te,Q){var J=A.useContext(E.E_),K=J.getPrefixCls,Y=J.direction,re=A.useContext(w.Z),fe=re.gutter,le=re.wrap,ie=re.supportFlexGap,ve=te.prefixCls,Oe=te.span,L=te.order,Pe=te.offset,pe=te.push,Be=te.pull,je=te.className,he=te.children,st=te.flex,en=te.style,vn=k(te,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),Mt=K("col",ve),It={};U.forEach(function(Ge){var Ae={},be=te[Ge];typeof be=="number"?Ae.span=be:(0,m.Z)(be)==="object"&&(Ae=be||{}),delete vn[Ge],It=(0,d.Z)((0,d.Z)({},It),(0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)({},"".concat(Mt,"-").concat(Ge,"-").concat(Ae.span),Ae.span!==void 0),"".concat(Mt,"-").concat(Ge,"-order-").concat(Ae.order),Ae.order||Ae.order===0),"".concat(Mt,"-").concat(Ge,"-offset-").concat(Ae.offset),Ae.offset||Ae.offset===0),"".concat(Mt,"-").concat(Ge,"-push-").concat(Ae.push),Ae.push||Ae.push===0),"".concat(Mt,"-").concat(Ge,"-pull-").concat(Ae.pull),Ae.pull||Ae.pull===0),"".concat(Mt,"-rtl"),Y==="rtl"))});var Ve=x()(Mt,(0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)({},"".concat(Mt,"-").concat(Oe),Oe!==void 0),"".concat(Mt,"-order-").concat(L),L),"".concat(Mt,"-offset-").concat(Pe),Pe),"".concat(Mt,"-push-").concat(pe),pe),"".concat(Mt,"-pull-").concat(Be),Be),je,It),Me={};if(fe&&fe[0]>0){var Qe=fe[0]/2;Me.paddingLeft=Qe,Me.paddingRight=Qe}if(fe&&fe[1]>0&&!ie){var bt=fe[1]/2;Me.paddingTop=bt,Me.paddingBottom=bt}return st&&(Me.flex=Z(st),le===!1&&!Me.minWidth&&(Me.minWidth=0)),A.createElement("div",(0,d.Z)({},vn,{style:(0,d.Z)((0,d.Z)({},Me),en),className:Ve,ref:Q}),he)});M.Z=$},68821:function(j,M,l){"use strict";l.d(M,{Z:function(){return A}});var v=l(67294),d=l(97685);function m(){var E=v.useReducer(function(Z){return Z+1},0),w=(0,d.Z)(E,2),k=w[1];return k}var g=l(24308);function x(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,w=(0,v.useRef)({}),k=m();return(0,v.useEffect)(function(){var Z=g.ZP.subscribe(function(U){w.current=U,E&&k()});return function(){return g.ZP.unsubscribe(Z)}},[]),w.current}var A=x},92820:function(j,M,l){"use strict";var v=l(87462),d=l(4942),m=l(71002),g=l(97685),x=l(93967),A=l.n(x),E=l(67294),w=l(53124),k=l(98082),Z=l(24308),U=l(93355),$=l(99134),te=function(re,fe){var le={};for(var ie in re)Object.prototype.hasOwnProperty.call(re,ie)&&fe.indexOf(ie)<0&&(le[ie]=re[ie]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ve=0,ie=Object.getOwnPropertySymbols(re);ve<ie.length;ve++)fe.indexOf(ie[ve])<0&&Object.prototype.propertyIsEnumerable.call(re,ie[ve])&&(le[ie[ve]]=re[ie[ve]]);return le},Q=(0,U.b)("top","middle","bottom","stretch"),J=(0,U.b)("start","end","center","space-around","space-between","space-evenly");function K(re,fe){var le=E.useState(typeof re=="string"?re:""),ie=(0,g.Z)(le,2),ve=ie[0],Oe=ie[1],L=function(){if(typeof re=="string"&&Oe(re),(0,m.Z)(re)==="object")for(var pe=0;pe<Z.c4.length;pe++){var Be=Z.c4[pe];if(fe[Be]){var je=re[Be];if(je!==void 0){Oe(je);return}}}};return E.useEffect(function(){L()},[JSON.stringify(re),fe]),ve}var Y=E.forwardRef(function(re,fe){var le=re.prefixCls,ie=re.justify,ve=re.align,Oe=re.className,L=re.style,Pe=re.children,pe=re.gutter,Be=pe===void 0?0:pe,je=re.wrap,he=te(re,["prefixCls","justify","align","className","style","children","gutter","wrap"]),st=E.useContext(w.E_),en=st.getPrefixCls,vn=st.direction,Mt=E.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),It=(0,g.Z)(Mt,2),Ve=It[0],Me=It[1],Qe=E.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),bt=(0,g.Z)(Qe,2),Ge=bt[0],Ae=bt[1],be=K(ve,Ge),Ne=K(ie,Ge),Re=(0,k.Z)(),ht=E.useRef(Be);E.useEffect(function(){var it=Z.ZP.subscribe(function(Ze){Ae(Ze);var ot=ht.current||0;(!Array.isArray(ot)&&(0,m.Z)(ot)==="object"||Array.isArray(ot)&&((0,m.Z)(ot[0])==="object"||(0,m.Z)(ot[1])==="object"))&&Me(Ze)});return function(){return Z.ZP.unsubscribe(it)}},[]);var Wt=function(){var Ze=[void 0,void 0],ot=Array.isArray(Be)?Be:[Be,void 0];return ot.forEach(function(Xe,et){if((0,m.Z)(Xe)==="object")for(var pt=0;pt<Z.c4.length;pt++){var He=Z.c4[pt];if(Ve[He]&&Xe[He]!==void 0){Ze[et]=Xe[He];break}}else Ze[et]=Xe}),Ze},Yt=en("row",le),Lt=Wt(),Dt=A()(Yt,(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(Yt,"-no-wrap"),je===!1),"".concat(Yt,"-").concat(Ne),Ne),"".concat(Yt,"-").concat(be),be),"".concat(Yt,"-rtl"),vn==="rtl"),Oe),lt={},Ft=Lt[0]!=null&&Lt[0]>0?Lt[0]/-2:void 0,qt=Lt[1]!=null&&Lt[1]>0?Lt[1]/-2:void 0;if(Ft&&(lt.marginLeft=Ft,lt.marginRight=Ft),Re){var Nn=(0,g.Z)(Lt,2);lt.rowGap=Nn[1]}else qt&&(lt.marginTop=qt,lt.marginBottom=qt);var kn=(0,g.Z)(Lt,2),An=kn[0],Kn=kn[1],ee=E.useMemo(function(){return{gutter:[An,Kn],wrap:je,supportFlexGap:Re}},[An,Kn,je,Re]);return E.createElement($.Z.Provider,{value:ee},E.createElement("div",(0,v.Z)({},he,{className:Dt,style:(0,v.Z)((0,v.Z)({},lt),L),ref:fe}),Pe))});M.Z=Y},157:function(j,M,l){"use strict";var v=l(43146)},87799:function(j,M,l){"use strict";l.d(M,{Z:function(){return Kn}});var v=l(87462),d=l(4942),m=l(71002),g=l(97685),x=l(13622),A=l(1413),E=l(67294),w=l(92287),k=l(93771),Z=function(it,Ze){return E.createElement(k.Z,(0,A.Z)((0,A.Z)({},it),{},{ref:Ze,icon:w.Z}))},U=E.forwardRef(Z),$=U,te=l(93967),Q=l.n(te),J=l(91),K=l(15105),Y=l(8410),re=l(42550),fe=l(15671),le=l(43144);function ie(){return typeof BigInt=="function"}function ve(ee){var it=ee.trim(),Ze=it.startsWith("-");Ze&&(it=it.slice(1)),it=it.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),it.startsWith(".")&&(it="0".concat(it));var ot=it||"0",Xe=ot.split("."),et=Xe[0]||"0",pt=Xe[1]||"0";et==="0"&&pt==="0"&&(Ze=!1);var He=Ze?"-":"";return{negative:Ze,negativeStr:He,trimStr:ot,integerStr:et,decimalStr:pt,fullStr:"".concat(He).concat(ot)}}function Oe(ee){var it=String(ee);return!Number.isNaN(Number(it))&&it.includes("e")}function L(ee){var it=String(ee);if(Oe(ee)){var Ze=Number(it.slice(it.indexOf("e-")+2)),ot=it.match(/\.(\d+)/);return ot!=null&&ot[1]&&(Ze+=ot[1].length),Ze}return it.includes(".")&&pe(it)?it.length-it.indexOf(".")-1:0}function Pe(ee){var it=String(ee);if(Oe(ee)){if(ee>Number.MAX_SAFE_INTEGER)return String(ie()?BigInt(ee).toString():Number.MAX_SAFE_INTEGER);if(ee<Number.MIN_SAFE_INTEGER)return String(ie()?BigInt(ee).toString():Number.MIN_SAFE_INTEGER);it=ee.toFixed(L(it))}return ve(it).fullStr}function pe(ee){return typeof ee=="number"?!Number.isNaN(ee):ee?/^\s*-?\d+(\.\d+)?\s*$/.test(ee)||/^\s*-?\d+\.\s*$/.test(ee)||/^\s*-?\.\d+\s*$/.test(ee):!1}function Be(ee){var it=typeof ee=="number"?Pe(ee):ve(ee).fullStr,Ze=it.includes(".");return Ze?ve(it.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:ee+"0"}var je=function(){function ee(it){if((0,fe.Z)(this,ee),this.origin="",this.number=void 0,this.empty=void 0,!it&&it!==0||!String(it).trim()){this.empty=!0;return}this.origin=String(it),this.number=Number(it)}return(0,le.Z)(ee,[{key:"negate",value:function(){return new ee(-this.toNumber())}},{key:"add",value:function(Ze){if(this.isInvalidate())return new ee(Ze);var ot=Number(Ze);if(Number.isNaN(ot))return this;var Xe=this.number+ot;if(Xe>Number.MAX_SAFE_INTEGER)return new ee(Number.MAX_SAFE_INTEGER);if(Xe<Number.MIN_SAFE_INTEGER)return new ee(Number.MIN_SAFE_INTEGER);var et=Math.max(L(this.number),L(ot));return new ee(Xe.toFixed(et))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(Ze){return this.toNumber()===(Ze==null?void 0:Ze.toNumber())}},{key:"lessEquals",value:function(Ze){return this.add(Ze.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Ze?this.isInvalidate()?"":Pe(this.number):this.origin}}]),ee}(),he=function(){function ee(it){if((0,fe.Z)(this,ee),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,!it&&it!==0||!String(it).trim()){this.empty=!0;return}if(this.origin=String(it),it==="-"){this.nan=!0;return}var Ze=it;if(Oe(Ze)&&(Ze=Number(Ze)),Ze=typeof Ze=="string"?Ze:Pe(Ze),pe(Ze)){var ot=ve(Ze);this.negative=ot.negative;var Xe=ot.trimStr.split(".");this.integer=BigInt(Xe[0]);var et=Xe[1]||"0";this.decimal=BigInt(et),this.decimalLen=et.length}else this.nan=!0}return(0,le.Z)(ee,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(Ze){var ot="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(Ze,"0"));return BigInt(ot)}},{key:"negate",value:function(){var Ze=new ee(this.toString());return Ze.negative=!Ze.negative,Ze}},{key:"add",value:function(Ze){if(this.isInvalidate())return new ee(Ze);var ot=new ee(Ze);if(ot.isInvalidate())return this;var Xe=Math.max(this.getDecimalStr().length,ot.getDecimalStr().length),et=this.alignDecimal(Xe),pt=ot.alignDecimal(Xe),He=(et+pt).toString(),Et=ve(He),Vt=Et.negativeStr,On=Et.trimStr,Wn="".concat(Vt).concat(On.padStart(Xe+1,"0"));return new ee("".concat(Wn.slice(0,-Xe),".").concat(Wn.slice(-Xe)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(Ze){return this.toString()===(Ze==null?void 0:Ze.toString())}},{key:"lessEquals",value:function(Ze){return this.add(Ze.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Ze?this.isInvalidate()?"":ve("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),ee}();function st(ee){return ie()?new he(ee):new je(ee)}function en(ee,it,Ze){var ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(ee==="")return"";var Xe=ve(ee),et=Xe.negativeStr,pt=Xe.integerStr,He=Xe.decimalStr,Et="".concat(it).concat(He),Vt="".concat(et).concat(pt);if(Ze>=0){var On=Number(He[Ze]);if(On>=5&&!ot){var Wn=st(ee).add("".concat(et,"0.").concat("0".repeat(Ze)).concat(10-On));return en(Wn.toString(),it,Ze,ot)}return Ze===0?Vt:"".concat(Vt).concat(it).concat(He.padEnd(Ze,"0").slice(0,Ze))}return Et===".0"?Vt:"".concat(Vt).concat(Et)}var vn=l(31131),Mt=200,It=600;function Ve(ee){var it=ee.prefixCls,Ze=ee.upNode,ot=ee.downNode,Xe=ee.upDisabled,et=ee.downDisabled,pt=ee.onStep,He=E.useRef(),Et=E.useRef();Et.current=pt;var Vt=function(Fn,Hn){Fn.preventDefault(),Et.current(Hn);function sr(){Et.current(Hn),He.current=setTimeout(sr,Mt)}He.current=setTimeout(sr,It)},On=function(){clearTimeout(He.current)};if(E.useEffect(function(){return On},[]),(0,vn.Z)())return null;var Wn="".concat(it,"-handler"),pr=Q()(Wn,"".concat(Wn,"-up"),(0,d.Z)({},"".concat(Wn,"-up-disabled"),Xe)),Cr=Q()(Wn,"".concat(Wn,"-down"),(0,d.Z)({},"".concat(Wn,"-down-disabled"),et)),Sn={unselectable:"on",role:"button",onMouseUp:On,onMouseLeave:On};return E.createElement("div",{className:"".concat(Wn,"-wrap")},E.createElement("span",(0,v.Z)({},Sn,{onMouseDown:function(Fn){Vt(Fn,!0)},"aria-label":"Increase Value","aria-disabled":Xe,className:pr}),Ze||E.createElement("span",{unselectable:"on",className:"".concat(it,"-handler-up-inner")})),E.createElement("span",(0,v.Z)({},Sn,{onMouseDown:function(Fn){Vt(Fn,!1)},"aria-label":"Decrease Value","aria-disabled":et,className:Cr}),ot||E.createElement("span",{unselectable:"on",className:"".concat(it,"-handler-down-inner")})))}var Me=l(80334);function Qe(ee,it){var Ze=(0,E.useRef)(null);function ot(){try{var et=ee.selectionStart,pt=ee.selectionEnd,He=ee.value,Et=He.substring(0,et),Vt=He.substring(pt);Ze.current={start:et,end:pt,value:He,beforeTxt:Et,afterTxt:Vt}}catch(On){}}function Xe(){if(ee&&Ze.current&&it)try{var et=ee.value,pt=Ze.current,He=pt.beforeTxt,Et=pt.afterTxt,Vt=pt.start,On=et.length;if(et.endsWith(Et))On=et.length-Ze.current.afterTxt.length;else if(et.startsWith(He))On=He.length;else{var Wn=He[Vt-1],pr=et.indexOf(Wn,Vt-1);pr!==-1&&(On=pr+1)}ee.setSelectionRange(On,On)}catch(Cr){(0,Me.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(Cr.message))}}return[ot,Xe]}var bt=l(75164),Ge=function(){var ee=(0,E.useRef)(0),it=function(){bt.Z.cancel(ee.current)};return(0,E.useEffect)(function(){return it},[]),function(Ze){it(),ee.current=(0,bt.Z)(function(){Ze()})}},Ae=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],be=function(it,Ze){return it||Ze.isEmpty()?Ze.toString():Ze.toNumber()},Ne=function(it){var Ze=st(it);return Ze.isInvalidate()?null:Ze},Re=E.forwardRef(function(ee,it){var Ze,ot=ee.prefixCls,Xe=ot===void 0?"rc-input-number":ot,et=ee.className,pt=ee.style,He=ee.min,Et=ee.max,Vt=ee.step,On=Vt===void 0?1:Vt,Wn=ee.defaultValue,pr=ee.value,Cr=ee.disabled,Sn=ee.readOnly,Cn=ee.upHandler,Fn=ee.downHandler,Hn=ee.keyboard,sr=ee.controls,ti=sr===void 0?!0:sr,Ir=ee.stringMode,kr=ee.parser,di=ee.formatter,Yn=ee.precision,Bt=ee.decimalSeparator,kt=ee.onChange,dn=ee.onInput,Ot=ee.onPressEnter,ur=ee.onStep,Mn=(0,J.Z)(ee,Ae),zr="".concat(Xe,"-input"),jt=E.useRef(null),gn=E.useState(!1),Ln=(0,g.Z)(gn,2),vt=Ln[0],Zt=Ln[1],or=E.useRef(!1),ir=E.useRef(!1),lr=E.useRef(!1),Pr=E.useState(function(){return st(pr!=null?pr:Wn)}),$r=(0,g.Z)(Pr,2),dr=$r[0],ni=$r[1];function un(fi){pr===void 0&&ni(fi)}var ue=E.useCallback(function(fi,Pi){if(!Pi)return Yn>=0?Yn:Math.max(L(fi),L(On))},[Yn,On]),De=E.useCallback(function(fi){var Pi=String(fi);if(kr)return kr(Pi);var Qi=Pi;return Bt&&(Qi=Qi.replace(Bt,".")),Qi.replace(/[^\w.-]+/g,"")},[kr,Bt]),oe=E.useRef(""),R=E.useCallback(function(fi,Pi){if(di)return di(fi,{userTyping:Pi,input:String(oe.current)});var Qi=typeof fi=="number"?Pe(fi):fi;if(!Pi){var Zi=ue(Qi,Pi);if(pe(Qi)&&(Bt||Zi>=0)){var Ta=Bt||".";Qi=en(Qi,Ta,Zi)}}return Qi},[di,ue,Bt]),N=E.useState(function(){var fi=Wn!=null?Wn:pr;return dr.isInvalidate()&&["string","number"].includes((0,m.Z)(fi))?Number.isNaN(fi)?"":fi:R(dr.toString(),!1)}),G=(0,g.Z)(N,2),ye=G[0],Ie=G[1];oe.current=ye;function ze(fi,Pi){Ie(R(fi.isInvalidate()?fi.toString(!1):fi.toString(!Pi),Pi))}var Ce=E.useMemo(function(){return Ne(Et)},[Et,Yn]),ke=E.useMemo(function(){return Ne(He)},[He,Yn]),rt=E.useMemo(function(){return!Ce||!dr||dr.isInvalidate()?!1:Ce.lessEquals(dr)},[Ce,dr]),Tt=E.useMemo(function(){return!ke||!dr||dr.isInvalidate()?!1:dr.lessEquals(ke)},[ke,dr]),En=Qe(jt.current,vt),Rn=(0,g.Z)(En,2),$n=Rn[0],Xn=Rn[1],$t=function(Pi){return Ce&&!Pi.lessEquals(Ce)?Ce:ke&&!ke.lessEquals(Pi)?ke:null},hn=function(Pi){return!$t(Pi)},bn=function(Pi,Qi){var Zi=Pi,Ta=hn(Zi)||Zi.isEmpty();if(!Zi.isEmpty()&&!Qi&&(Zi=$t(Zi)||Zi,Ta=!0),!Sn&&!Cr&&Ta){var uo=Zi.toString(),xa=ue(uo,Qi);return xa>=0&&(Zi=st(en(uo,".",xa)),hn(Zi)||(Zi=st(en(uo,".",xa,!0)))),Zi.equals(dr)||(un(Zi),kt==null||kt(Zi.isEmpty()?null:be(Ir,Zi)),pr===void 0&&ze(Zi,Qi)),Zi}return dr},br=Ge(),qn=function fi(Pi){if($n(),Ie(Pi),!ir.current){var Qi=De(Pi),Zi=st(Qi);Zi.isNaN()||bn(Zi,!0)}dn==null||dn(Pi),br(function(){var Ta=Pi;kr||(Ta=Pi.replace(//g,".")),Ta!==Pi&&fi(Ta)})},Li=function(){ir.current=!0},$i=function(){ir.current=!1,qn(jt.current.value)},Bi=function(Pi){qn(Pi.target.value)},co=function(Pi){var Qi;if(!(Pi&&rt||!Pi&&Tt)){or.current=!1;var Zi=st(lr.current?Be(On):On);Pi||(Zi=Zi.negate());var Ta=(dr||st(0)).add(Zi.toString()),uo=bn(Ta,!1);ur==null||ur(be(Ir,uo),{offset:lr.current?Be(On):On,type:Pi?"up":"down"}),(Qi=jt.current)===null||Qi===void 0||Qi.focus()}},Do=function(Pi){var Qi=st(De(ye)),Zi=Qi;Qi.isNaN()?Zi=dr:Zi=bn(Qi,Pi),pr!==void 0?ze(dr,!1):Zi.isNaN()||ze(Zi,!1)},Wo=function(){or.current=!0},hi=function(Pi){var Qi=Pi.which,Zi=Pi.shiftKey;or.current=!0,Zi?lr.current=!0:lr.current=!1,Qi===K.Z.ENTER&&(ir.current||(or.current=!1),Do(!1),Ot==null||Ot(Pi)),Hn!==!1&&!ir.current&&[K.Z.UP,K.Z.DOWN].includes(Qi)&&(co(K.Z.UP===Qi),Pi.preventDefault())},ua=function(){or.current=!1,lr.current=!1},ya=function(){Do(!1),Zt(!1),or.current=!1};return(0,Y.o)(function(){dr.isInvalidate()||ze(dr,!1)},[Yn]),(0,Y.o)(function(){var fi=st(pr);ni(fi);var Pi=st(De(ye));(!fi.equals(Pi)||!or.current||di)&&ze(fi,or.current)},[pr]),(0,Y.o)(function(){di&&Xn()},[ye]),E.createElement("div",{className:Q()(Xe,et,(Ze={},(0,d.Z)(Ze,"".concat(Xe,"-focused"),vt),(0,d.Z)(Ze,"".concat(Xe,"-disabled"),Cr),(0,d.Z)(Ze,"".concat(Xe,"-readonly"),Sn),(0,d.Z)(Ze,"".concat(Xe,"-not-a-number"),dr.isNaN()),(0,d.Z)(Ze,"".concat(Xe,"-out-of-range"),!dr.isInvalidate()&&!hn(dr)),Ze)),style:pt,onFocus:function(){Zt(!0)},onBlur:ya,onKeyDown:hi,onKeyUp:ua,onCompositionStart:Li,onCompositionEnd:$i,onBeforeInput:Wo},ti&&E.createElement(Ve,{prefixCls:Xe,upNode:Cn,downNode:Fn,upDisabled:rt,downDisabled:Tt,onStep:co}),E.createElement("div",{className:"".concat(zr,"-wrap")},E.createElement("input",(0,v.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":He,"aria-valuemax":Et,"aria-valuenow":dr.isInvalidate()?null:dr.toString(),step:On},Mn,{ref:(0,re.sQ)(jt,it),className:zr,value:ye,onChange:Bi,disabled:Cr,readOnly:Sn}))))});Re.displayName="InputNumber";var ht=Re,Wt=ht,Yt=l(53124),Lt=l(98866),Dt=l(97647),lt=l(65223),Ft=l(4173),qt=l(96159),Nn=l(9708),kn=function(ee,it){var Ze={};for(var ot in ee)Object.prototype.hasOwnProperty.call(ee,ot)&&it.indexOf(ot)<0&&(Ze[ot]=ee[ot]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xe=0,ot=Object.getOwnPropertySymbols(ee);Xe<ot.length;Xe++)it.indexOf(ot[Xe])<0&&Object.prototype.propertyIsEnumerable.call(ee,ot[Xe])&&(Ze[ot[Xe]]=ee[ot[Xe]]);return Ze},An=E.forwardRef(function(ee,it){var Ze=E.useContext(Yt.E_),ot=Ze.getPrefixCls,Xe=Ze.direction,et=E.useContext(Dt.Z),pt=E.useState(!1),He=(0,g.Z)(pt,2),Et=He[0],Vt=He[1],On=E.useRef(null);E.useImperativeHandle(it,function(){return On.current});var Wn=ee.className,pr=ee.size,Cr=ee.disabled,Sn=ee.prefixCls,Cn=ee.addonBefore,Fn=ee.addonAfter,Hn=ee.prefix,sr=ee.bordered,ti=sr===void 0?!0:sr,Ir=ee.readOnly,kr=ee.status,di=ee.controls,Yn=kn(ee,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),Bt=ot("input-number",Sn),kt=(0,Ft.ri)(Bt,Xe),dn=kt.compactSize,Ot=kt.compactItemClassnames,ur=E.createElement($,{className:"".concat(Bt,"-handler-up-inner")}),Mn=E.createElement(x.Z,{className:"".concat(Bt,"-handler-down-inner")}),zr=typeof di=="boolean"?di:void 0;(0,m.Z)(di)==="object"&&(ur=typeof di.upIcon=="undefined"?ur:E.createElement("span",{className:"".concat(Bt,"-handler-up-inner")},di.upIcon),Mn=typeof di.downIcon=="undefined"?Mn:E.createElement("span",{className:"".concat(Bt,"-handler-down-inner")},di.downIcon));var jt=(0,E.useContext)(lt.aM),gn=jt.hasFeedback,Ln=jt.status,vt=jt.isFormItemInput,Zt=jt.feedbackIcon,or=(0,Nn.F)(Ln,kr),ir=dn||pr||et,lr=E.useContext(Lt.Z),Pr=Cr!=null?Cr:lr,$r=Q()((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(Bt,"-lg"),ir==="large"),"".concat(Bt,"-sm"),ir==="small"),"".concat(Bt,"-rtl"),Xe==="rtl"),"".concat(Bt,"-borderless"),!ti),"".concat(Bt,"-in-form-item"),vt),(0,Nn.Z)(Bt,or),Ot,Wn),dr=E.createElement(Wt,(0,v.Z)({ref:On,disabled:Pr,className:$r,upHandler:ur,downHandler:Mn,prefixCls:Bt,readOnly:Ir,controls:zr},Yn));if(Hn!=null||gn){var ni=Q()("".concat(Bt,"-affix-wrapper"),(0,Nn.Z)("".concat(Bt,"-affix-wrapper"),or,gn),(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(Bt,"-affix-wrapper-focused"),Et),"".concat(Bt,"-affix-wrapper-disabled"),ee.disabled),"".concat(Bt,"-affix-wrapper-sm"),et==="small"),"".concat(Bt,"-affix-wrapper-lg"),et==="large"),"".concat(Bt,"-affix-wrapper-rtl"),Xe==="rtl"),"".concat(Bt,"-affix-wrapper-readonly"),Ir),"".concat(Bt,"-affix-wrapper-borderless"),!ti),"".concat(Wn),!(Cn||Fn)&&Wn));dr=E.createElement("div",{className:ni,style:ee.style,onMouseUp:function(){return On.current.focus()}},Hn&&E.createElement("span",{className:"".concat(Bt,"-prefix")},Hn),(0,qt.Tm)(dr,{style:null,value:ee.value,onFocus:function(ye){var Ie;Vt(!0),(Ie=ee.onFocus)===null||Ie===void 0||Ie.call(ee,ye)},onBlur:function(ye){var Ie;Vt(!1),(Ie=ee.onBlur)===null||Ie===void 0||Ie.call(ee,ye)}}),gn&&E.createElement("span",{className:"".concat(Bt,"-suffix")},Zt))}if(Cn!=null||Fn!=null){var un="".concat(Bt,"-group"),ue="".concat(un,"-addon"),De=Cn?E.createElement("div",{className:ue},Cn):null,oe=Fn?E.createElement("div",{className:ue},Fn):null,R=Q()("".concat(Bt,"-wrapper"),un,(0,d.Z)({},"".concat(un,"-rtl"),Xe==="rtl")),N=Q()("".concat(Bt,"-group-wrapper"),(0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(Bt,"-group-wrapper-sm"),et==="small"),"".concat(Bt,"-group-wrapper-lg"),et==="large"),"".concat(Bt,"-group-wrapper-rtl"),Xe==="rtl"),(0,Nn.Z)("".concat(Bt,"-group-wrapper"),or,gn),Wn);dr=E.createElement("div",{className:N,style:ee.style},E.createElement("div",{className:R},De&&E.createElement(Ft.BR,null,E.createElement(lt.Ux,{status:!0,override:!0},De)),(0,qt.Tm)(dr,{style:null,disabled:Pr}),oe&&E.createElement(Ft.BR,null,E.createElement(lt.Ux,{status:!0,override:!0},oe))))}return dr}),Kn=An},25359:function(j,M,l){"use strict";var v=l(43146)},16591:function(j,M,l){"use strict";l.d(M,{ZP:function(){return bt},D7:function(){return It},rJ:function(){return Ve},nH:function(){return Me}});var v=l(4942),d=l(87462),m=l(71002),g=l(17012),x=l(93967),A=l.n(x),E=l(67294);function w(Ge){return!!(Ge.addonBefore||Ge.addonAfter)}function k(Ge){return!!(Ge.prefix||Ge.suffix||Ge.allowClear)}function Z(Ge,Ae,be,Ne){if(be){var Re=Ae;if(Ae.type==="click"){var ht=Ge.cloneNode(!0);Re=Object.create(Ae,{target:{value:ht},currentTarget:{value:ht}}),ht.value="",be(Re);return}if(Ne!==void 0){Re=Object.create(Ae,{target:{value:Ge},currentTarget:{value:Ge}}),Ge.value=Ne,be(Re);return}be(Re)}}function U(Ge,Ae){if(Ge){Ge.focus(Ae);var be=Ae||{},Ne=be.cursor;if(Ne){var Re=Ge.value.length;switch(Ne){case"start":Ge.setSelectionRange(0,0);break;case"end":Ge.setSelectionRange(Re,Re);break;default:Ge.setSelectionRange(0,Re)}}}}function $(Ge){return typeof Ge=="undefined"||Ge===null?"":String(Ge)}var te=function(Ae){var be=Ae.inputElement,Ne=Ae.prefixCls,Re=Ae.prefix,ht=Ae.suffix,Wt=Ae.addonBefore,Yt=Ae.addonAfter,Lt=Ae.className,Dt=Ae.style,lt=Ae.affixWrapperClassName,Ft=Ae.groupClassName,qt=Ae.wrapperClassName,Nn=Ae.disabled,kn=Ae.readOnly,An=Ae.focused,Kn=Ae.triggerFocus,ee=Ae.allowClear,it=Ae.value,Ze=Ae.handleReset,ot=Ae.hidden,Xe=(0,E.useRef)(null),et=function(Hn){var sr;(sr=Xe.current)!==null&&sr!==void 0&&sr.contains(Hn.target)&&(Kn==null||Kn())},pt=function(){var Hn;if(!ee)return null;var sr=!Nn&&!kn&&it,ti="".concat(Ne,"-clear-icon"),Ir=(0,m.Z)(ee)==="object"&&ee!==null&&ee!==void 0&&ee.clearIcon?ee.clearIcon:"\u2716";return E.createElement("span",{onClick:Ze,onMouseDown:function(di){return di.preventDefault()},className:A()(ti,(Hn={},(0,v.Z)(Hn,"".concat(ti,"-hidden"),!sr),(0,v.Z)(Hn,"".concat(ti,"-has-suffix"),!!ht),Hn)),role:"button",tabIndex:-1},Ir)},He=(0,E.cloneElement)(be,{value:it,hidden:ot});if(k(Ae)){var Et,Vt="".concat(Ne,"-affix-wrapper"),On=A()(Vt,(Et={},(0,v.Z)(Et,"".concat(Vt,"-disabled"),Nn),(0,v.Z)(Et,"".concat(Vt,"-focused"),An),(0,v.Z)(Et,"".concat(Vt,"-readonly"),kn),(0,v.Z)(Et,"".concat(Vt,"-input-with-clear-btn"),ht&&ee&&it),Et),!w(Ae)&&Lt,lt),Wn=(ht||ee)&&E.createElement("span",{className:"".concat(Ne,"-suffix")},pt(),ht);He=E.createElement("span",{className:On,style:Dt,hidden:!w(Ae)&&ot,onClick:et,ref:Xe},Re&&E.createElement("span",{className:"".concat(Ne,"-prefix")},Re),(0,E.cloneElement)(be,{style:null,value:it,hidden:null}),Wn)}if(w(Ae)){var pr="".concat(Ne,"-group"),Cr="".concat(pr,"-addon"),Sn=A()("".concat(Ne,"-wrapper"),pr,qt),Cn=A()("".concat(Ne,"-group-wrapper"),Lt,Ft);return E.createElement("span",{className:Cn,style:Dt,hidden:ot},E.createElement("span",{className:Sn},Wt&&E.createElement("span",{className:Cr},Wt),(0,E.cloneElement)(He,{style:null,hidden:null}),Yt&&E.createElement("span",{className:Cr},Yt)))}return He},Q=te,J=l(74902),K=l(97685),Y=l(91),re=l(98423),fe=l(21770),le=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],ie=(0,E.forwardRef)(function(Ge,Ae){var be=Ge.autoComplete,Ne=Ge.onChange,Re=Ge.onFocus,ht=Ge.onBlur,Wt=Ge.onPressEnter,Yt=Ge.onKeyDown,Lt=Ge.prefixCls,Dt=Lt===void 0?"rc-input":Lt,lt=Ge.disabled,Ft=Ge.htmlSize,qt=Ge.className,Nn=Ge.maxLength,kn=Ge.suffix,An=Ge.showCount,Kn=Ge.type,ee=Kn===void 0?"text":Kn,it=Ge.inputClassName,Ze=(0,Y.Z)(Ge,le),ot=(0,fe.Z)(Ge.defaultValue,{value:Ge.value}),Xe=(0,K.Z)(ot,2),et=Xe[0],pt=Xe[1],He=(0,E.useState)(!1),Et=(0,K.Z)(He,2),Vt=Et[0],On=Et[1],Wn=(0,E.useRef)(null),pr=function(kr){Wn.current&&U(Wn.current,kr)};(0,E.useImperativeHandle)(Ae,function(){return{focus:pr,blur:function(){var kr;(kr=Wn.current)===null||kr===void 0||kr.blur()},setSelectionRange:function(kr,di,Yn){var Bt;(Bt=Wn.current)===null||Bt===void 0||Bt.setSelectionRange(kr,di,Yn)},select:function(){var kr;(kr=Wn.current)===null||kr===void 0||kr.select()},input:Wn.current}}),(0,E.useEffect)(function(){On(function(Ir){return Ir&&lt?!1:Ir})},[lt]);var Cr=function(kr){Ge.value===void 0&&pt(kr.target.value),Wn.current&&Z(Wn.current,kr,Ne)},Sn=function(kr){Wt&&kr.key==="Enter"&&Wt(kr),Yt==null||Yt(kr)},Cn=function(kr){On(!0),Re==null||Re(kr)},Fn=function(kr){On(!1),ht==null||ht(kr)},Hn=function(kr){pt(""),pr(),Wn.current&&Z(Wn.current,kr,Ne)},sr=function(){var kr=(0,re.Z)(Ge,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return E.createElement("input",(0,d.Z)({autoComplete:be},kr,{onChange:Cr,onFocus:Cn,onBlur:Fn,onKeyDown:Sn,className:A()(Dt,(0,v.Z)({},"".concat(Dt,"-disabled"),lt),it,!w(Ge)&&!k(Ge)&&qt),ref:Wn,size:Ft,type:ee}))},ti=function(){var kr=Number(Nn)>0;if(kn||An){var di=$(et),Yn=(0,J.Z)(di).length,Bt=(0,m.Z)(An)==="object"?An.formatter({value:di,count:Yn,maxLength:Nn}):"".concat(Yn).concat(kr?" / ".concat(Nn):"");return E.createElement(E.Fragment,null,!!An&&E.createElement("span",{className:A()("".concat(Dt,"-show-count-suffix"),(0,v.Z)({},"".concat(Dt,"-show-count-has-suffix"),!!kn))},Bt),kn)}return null};return E.createElement(Q,(0,d.Z)({},Ze,{prefixCls:Dt,className:qt,inputElement:sr(),handleReset:Hn,value:$(et),focused:Vt,triggerFocus:pr,suffix:ti(),disabled:lt}))}),ve=ie,Oe=ve,L=l(42550),Pe=l(53124),pe=l(98866),Be=l(97647),je=l(65223),he=l(4173),st=l(9708),en=l(72922);function vn(Ge){return!!(Ge.prefix||Ge.suffix||Ge.allowClear)}var Mt=function(Ge,Ae){var be={};for(var Ne in Ge)Object.prototype.hasOwnProperty.call(Ge,Ne)&&Ae.indexOf(Ne)<0&&(be[Ne]=Ge[Ne]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Re=0,Ne=Object.getOwnPropertySymbols(Ge);Re<Ne.length;Re++)Ae.indexOf(Ne[Re])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Ne[Re])&&(be[Ne[Re]]=Ge[Ne[Re]]);return be};function It(Ge){return typeof Ge=="undefined"||Ge===null?"":String(Ge)}function Ve(Ge,Ae,be,Ne){if(be){var Re=Ae;if(Ae.type==="click"){var ht=Ge.cloneNode(!0);Re=Object.create(Ae,{target:{value:ht},currentTarget:{value:ht}}),ht.value="",be(Re);return}if(Ne!==void 0){Re=Object.create(Ae,{target:{value:Ge},currentTarget:{value:Ge}}),Ge.value=Ne,be(Re);return}be(Re)}}function Me(Ge,Ae){if(Ge){Ge.focus(Ae);var be=Ae||{},Ne=be.cursor;if(Ne){var Re=Ge.value.length;switch(Ne){case"start":Ge.setSelectionRange(0,0);break;case"end":Ge.setSelectionRange(Re,Re);break;default:Ge.setSelectionRange(0,Re);break}}}}var Qe=(0,E.forwardRef)(function(Ge,Ae){var be=Ge.prefixCls,Ne=Ge.bordered,Re=Ne===void 0?!0:Ne,ht=Ge.status,Wt=Ge.size,Yt=Ge.disabled,Lt=Ge.onBlur,Dt=Ge.onFocus,lt=Ge.suffix,Ft=Ge.allowClear,qt=Ge.addonAfter,Nn=Ge.addonBefore,kn=Ge.className,An=Ge.onChange,Kn=Mt(Ge,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","onChange"]),ee=E.useContext(Pe.E_),it=ee.getPrefixCls,Ze=ee.direction,ot=ee.input,Xe=it("input",be),et=(0,E.useRef)(null),pt=(0,he.ri)(Xe,Ze),He=pt.compactSize,Et=pt.compactItemClassnames,Vt=E.useContext(Be.Z),On=He||Wt||Vt,Wn=E.useContext(pe.Z),pr=Yt!=null?Yt:Wn,Cr=(0,E.useContext)(je.aM),Sn=Cr.status,Cn=Cr.hasFeedback,Fn=Cr.feedbackIcon,Hn=(0,st.F)(Sn,ht),sr=vn(Ge)||!!Cn,ti=(0,E.useRef)(sr);(0,E.useEffect)(function(){var dn;sr&&ti.current,ti.current=sr},[sr]);var Ir=(0,en.Z)(et,!0),kr=function(Ot){Ir(),Lt==null||Lt(Ot)},di=function(Ot){Ir(),Dt==null||Dt(Ot)},Yn=function(Ot){Ir(),An==null||An(Ot)},Bt=(Cn||lt)&&E.createElement(E.Fragment,null,lt,Cn&&Fn),kt;return(0,m.Z)(Ft)==="object"&&(Ft!=null&&Ft.clearIcon)?kt=Ft:Ft&&(kt={clearIcon:E.createElement(g.Z,null)}),E.createElement(Oe,(0,d.Z)({ref:(0,L.sQ)(Ae,et),prefixCls:Xe,autoComplete:ot==null?void 0:ot.autoComplete},Kn,{disabled:pr||void 0,onBlur:kr,onFocus:di,suffix:Bt,allowClear:kt,className:A()(kn,Et),onChange:Yn,addonAfter:qt&&E.createElement(he.BR,null,E.createElement(je.Ux,{override:!0,status:!0},qt)),addonBefore:Nn&&E.createElement(he.BR,null,E.createElement(je.Ux,{override:!0,status:!0},Nn)),inputClassName:A()((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)({},"".concat(Xe,"-sm"),On==="small"),"".concat(Xe,"-lg"),On==="large"),"".concat(Xe,"-rtl"),Ze==="rtl"),"".concat(Xe,"-borderless"),!Re),!sr&&(0,st.Z)(Xe,Hn)),affixWrapperClassName:A()((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)({},"".concat(Xe,"-affix-wrapper-sm"),On==="small"),"".concat(Xe,"-affix-wrapper-lg"),On==="large"),"".concat(Xe,"-affix-wrapper-rtl"),Ze==="rtl"),"".concat(Xe,"-affix-wrapper-borderless"),!Re),(0,st.Z)("".concat(Xe,"-affix-wrapper"),Hn,Cn)),wrapperClassName:A()((0,v.Z)({},"".concat(Xe,"-group-rtl"),Ze==="rtl")),groupClassName:A()((0,v.Z)((0,v.Z)((0,v.Z)({},"".concat(Xe,"-group-wrapper-sm"),On==="small"),"".concat(Xe,"-group-wrapper-lg"),On==="large"),"".concat(Xe,"-group-wrapper-rtl"),Ze==="rtl"),(0,st.Z)("".concat(Xe,"-group-wrapper"),Hn,Cn))}))}),bt=Qe},56994:function(j,M,l){"use strict";l.d(M,{Z:function(){return Kn}});var v=l(71002),d=l(4942),m=l(87462),g=l(97685),x=l(74902),A=l(93967),E=l.n(A),w=l(15671),k=l(43144),Z=l(32531),U=l(29388),$=l(67294),te=l(1413),Q=l(91),J=l(48555),K=l(8410),Y=l(75164),re=l(21770),fe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,le=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],ie={},ve;function Oe(ee){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ze=ee.getAttribute("id")||ee.getAttribute("data-reactid")||ee.getAttribute("name");if(it&&ie[Ze])return ie[Ze];var ot=window.getComputedStyle(ee),Xe=ot.getPropertyValue("box-sizing")||ot.getPropertyValue("-moz-box-sizing")||ot.getPropertyValue("-webkit-box-sizing"),et=parseFloat(ot.getPropertyValue("padding-bottom"))+parseFloat(ot.getPropertyValue("padding-top")),pt=parseFloat(ot.getPropertyValue("border-bottom-width"))+parseFloat(ot.getPropertyValue("border-top-width")),He=le.map(function(Vt){return"".concat(Vt,":").concat(ot.getPropertyValue(Vt))}).join(";"),Et={sizingStyle:He,paddingSize:et,borderSize:pt,boxSizing:Xe};return it&&Ze&&(ie[Ze]=Et),Et}function L(ee){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ve||(ve=document.createElement("textarea"),ve.setAttribute("tab-index","-1"),ve.setAttribute("aria-hidden","true"),document.body.appendChild(ve)),ee.getAttribute("wrap")?ve.setAttribute("wrap",ee.getAttribute("wrap")):ve.removeAttribute("wrap");var Xe=Oe(ee,it),et=Xe.paddingSize,pt=Xe.borderSize,He=Xe.boxSizing,Et=Xe.sizingStyle;ve.setAttribute("style","".concat(Et,";").concat(fe)),ve.value=ee.value||ee.placeholder||"";var Vt=void 0,On=void 0,Wn,pr=ve.scrollHeight;if(He==="border-box"?pr+=pt:He==="content-box"&&(pr-=et),Ze!==null||ot!==null){ve.value=" ";var Cr=ve.scrollHeight-et;Ze!==null&&(Vt=Cr*Ze,He==="border-box"&&(Vt=Vt+et+pt),pr=Math.max(Vt,pr)),ot!==null&&(On=Cr*ot,He==="border-box"&&(On=On+et+pt),Wn=pr>On?"":"hidden",pr=Math.min(On,pr))}var Sn={height:pr,overflowY:Wn,resize:"none"};return Vt&&(Sn.minHeight=Vt),On&&(Sn.maxHeight=On),Sn}var Pe=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],pe=0,Be=1,je=2,he=$.forwardRef(function(ee,it){var Ze=ee.prefixCls,ot=Ze===void 0?"rc-textarea":Ze,Xe=ee.onPressEnter,et=ee.defaultValue,pt=ee.value,He=ee.autoSize,Et=ee.onResize,Vt=ee.className,On=ee.style,Wn=ee.disabled,pr=ee.onChange,Cr=ee.onInternalAutoSize,Sn=(0,Q.Z)(ee,Pe),Cn=(0,re.Z)(et,{value:pt,postState:function(ni){return ni!=null?ni:""}}),Fn=(0,g.Z)(Cn,2),Hn=Fn[0],sr=Fn[1],ti=function(ni){sr(ni.target.value),pr==null||pr(ni)},Ir=$.useRef();$.useImperativeHandle(it,function(){return{textArea:Ir.current}});var kr=$.useMemo(function(){return He&&(0,v.Z)(He)==="object"?[He.minRows,He.maxRows]:[]},[He]),di=(0,g.Z)(kr,2),Yn=di[0],Bt=di[1],kt=!!He,dn=function(){try{if(document.activeElement===Ir.current){var ni=Ir.current,un=ni.selectionStart,ue=ni.selectionEnd,De=ni.scrollTop;Ir.current.setSelectionRange(un,ue),Ir.current.scrollTop=De}}catch(oe){}},Ot=$.useState(je),ur=(0,g.Z)(Ot,2),Mn=ur[0],zr=ur[1],jt=$.useState(),gn=(0,g.Z)(jt,2),Ln=gn[0],vt=gn[1],Zt=function(){zr(pe)};(0,K.Z)(function(){kt&&Zt()},[pt,Yn,Bt,kt]),(0,K.Z)(function(){if(Mn===pe)zr(Be);else if(Mn===Be){var dr=L(Ir.current,!1,Yn,Bt);zr(je),vt(dr)}else dn()},[Mn]);var or=$.useRef(),ir=function(){Y.Z.cancel(or.current)},lr=function(ni){Mn===je&&(Et==null||Et(ni),He&&(ir(),or.current=(0,Y.Z)(function(){Zt()})))};$.useEffect(function(){return ir},[]);var Pr=kt?Ln:null,$r=(0,te.Z)((0,te.Z)({},On),Pr);return(Mn===pe||Mn===Be)&&($r.overflowY="hidden",$r.overflowX="hidden"),$.createElement(J.Z,{onResize:lr,disabled:!(He||Et)},$.createElement("textarea",(0,m.Z)({},Sn,{ref:Ir,style:$r,className:E()(ot,Vt,(0,d.Z)({},"".concat(ot,"-disabled"),Wn)),disabled:Wn,value:Hn,onChange:ti})))}),st=he,en=function(ee){(0,Z.Z)(Ze,ee);var it=(0,U.Z)(Ze);function Ze(ot){var Xe;(0,w.Z)(this,Ze),Xe=it.call(this,ot),Xe.resizableTextArea=void 0,Xe.focus=function(){Xe.resizableTextArea.textArea.focus()},Xe.saveTextArea=function(pt){Xe.resizableTextArea=pt},Xe.handleChange=function(pt){var He=Xe.props.onChange;Xe.setValue(pt.target.value),He&&He(pt)},Xe.handleKeyDown=function(pt){var He=Xe.props,Et=He.onPressEnter,Vt=He.onKeyDown;pt.keyCode===13&&Et&&Et(pt),Vt&&Vt(pt)};var et=typeof ot.value=="undefined"||ot.value===null?ot.defaultValue:ot.value;return Xe.state={value:et},Xe}return(0,k.Z)(Ze,[{key:"setValue",value:function(Xe,et){"value"in this.props||this.setState({value:Xe},et)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return $.createElement(st,(0,m.Z)({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(Xe){return"value"in Xe?{value:Xe.value}:null}}]),Ze}($.Component),vn=en,Mt=l(98423),It=l(53124),Ve=l(98866),Me=l(97647),Qe=l(65223),bt=l(9708),Ge=l(82963),Ae=l(78814),be=l(61120),Ne=l(17012),Re=l(96159),ht=l(93355);function Wt(ee,it,Ze){return it=(0,be.Z)(it),(0,Ge.Z)(ee,(0,Ae.Z)()?Reflect.construct(it,Ze||[],(0,be.Z)(ee).constructor):it.apply(ee,Ze))}var Yt=(0,ht.b)("text","input");function Lt(ee){return!!(ee.addonBefore||ee.addonAfter)}var Dt=function(ee){(0,Z.Z)(it,ee);function it(){return(0,w.Z)(this,it),Wt(this,it,arguments)}return(0,k.Z)(it,[{key:"renderClearIcon",value:function(ot){var Xe=this.props,et=Xe.value,pt=Xe.disabled,He=Xe.readOnly,Et=Xe.handleReset,Vt=Xe.suffix,On=!pt&&!He&&et,Wn="".concat(ot,"-clear-icon");return $.createElement(Ne.Z,{onClick:Et,onMouseDown:function(Cr){return Cr.preventDefault()},className:E()((0,d.Z)((0,d.Z)({},"".concat(Wn,"-hidden"),!On),"".concat(Wn,"-has-suffix"),!!Vt),Wn),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(ot,Xe,et){var pt=this.props,He=pt.value,Et=pt.allowClear,Vt=pt.className,On=pt.focused,Wn=pt.style,pr=pt.direction,Cr=pt.bordered,Sn=pt.hidden,Cn=pt.status,Fn=et.status,Hn=et.hasFeedback;if(!Et)return(0,Re.Tm)(Xe,{value:He});var sr=E()("".concat(ot,"-affix-wrapper"),"".concat(ot,"-affix-wrapper-textarea-with-clear-btn"),(0,bt.Z)("".concat(ot,"-affix-wrapper"),(0,bt.F)(Fn,Cn),Hn),(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(ot,"-affix-wrapper-focused"),On),"".concat(ot,"-affix-wrapper-rtl"),pr==="rtl"),"".concat(ot,"-affix-wrapper-borderless"),!Cr),"".concat(Vt),!Lt(this.props)&&Vt));return $.createElement("span",{className:sr,style:Wn,hidden:Sn},(0,Re.Tm)(Xe,{style:null,value:He}),this.renderClearIcon(ot))}},{key:"render",value:function(){var ot=this;return $.createElement(Qe.aM.Consumer,null,function(Xe){var et=ot.props,pt=et.prefixCls,He=et.inputType,Et=et.element;if(He===Yt[0])return ot.renderTextAreaWithClearIcon(pt,Et,Xe)})}}]),it}($.Component),lt=Dt,Ft=l(16591),qt=function(ee,it){var Ze={};for(var ot in ee)Object.prototype.hasOwnProperty.call(ee,ot)&&it.indexOf(ot)<0&&(Ze[ot]=ee[ot]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xe=0,ot=Object.getOwnPropertySymbols(ee);Xe<ot.length;Xe++)it.indexOf(ot[Xe])<0&&Object.prototype.propertyIsEnumerable.call(ee,ot[Xe])&&(Ze[ot[Xe]]=ee[ot[Xe]]);return Ze};function Nn(ee,it){return(0,x.Z)(ee||"").slice(0,it).join("")}function kn(ee,it,Ze,ot){var Xe=Ze;return ee?Xe=Nn(Ze,ot):(0,x.Z)(it||"").length<Ze.length&&(0,x.Z)(Ze||"").length>ot&&(Xe=it),Xe}var An=$.forwardRef(function(ee,it){var Ze=ee.prefixCls,ot=ee.bordered,Xe=ot===void 0?!0:ot,et=ee.showCount,pt=et===void 0?!1:et,He=ee.maxLength,Et=ee.className,Vt=ee.style,On=ee.size,Wn=ee.disabled,pr=ee.onCompositionStart,Cr=ee.onCompositionEnd,Sn=ee.onChange,Cn=ee.onFocus,Fn=ee.onBlur,Hn=ee.status,sr=qt(ee,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","onFocus","onBlur","status"]),ti=$.useContext(It.E_),Ir=ti.getPrefixCls,kr=ti.direction,di=$.useContext(Me.Z),Yn=$.useContext(Ve.Z),Bt=Wn!=null?Wn:Yn,kt=$.useContext(Qe.aM),dn=kt.status,Ot=kt.hasFeedback,ur=kt.isFormItemInput,Mn=kt.feedbackIcon,zr=(0,bt.F)(dn,Hn),jt=$.useRef(null),gn=$.useRef(null),Ln=$.useState(!1),vt=(0,g.Z)(Ln,2),Zt=vt[0],or=vt[1],ir=$.useState(!1),lr=(0,g.Z)(ir,2),Pr=lr[0],$r=lr[1],dr=$.useRef(),ni=$.useRef(0),un=(0,re.Z)(sr.defaultValue,{value:sr.value}),ue=(0,g.Z)(un,2),De=ue[0],oe=ue[1],R=sr.hidden,N=function(bn,br){sr.value===void 0&&(oe(bn),br==null||br())},G=Number(He)>0,ye=function(bn){or(!0),dr.current=De,ni.current=bn.currentTarget.selectionStart,pr==null||pr(bn)},Ie=function(bn){var br;or(!1);var qn=bn.currentTarget.value;if(G){var Li=ni.current>=He+1||ni.current===((br=dr.current)===null||br===void 0?void 0:br.length);qn=kn(Li,dr.current,qn,He)}qn!==De&&(N(qn),(0,Ft.rJ)(bn.currentTarget,bn,Sn,qn)),Cr==null||Cr(bn)},ze=function(bn){var br=bn.target.value;if(!Zt&&G){var qn=bn.target.selectionStart>=He+1||bn.target.selectionStart===br.length||!bn.target.selectionStart;br=kn(qn,De,br,He)}N(br),(0,Ft.rJ)(bn.currentTarget,bn,Sn,br)},Ce=function(bn){$r(!1),Fn==null||Fn(bn)},ke=function(bn){$r(!0),Cn==null||Cn(bn)};$.useEffect(function(){$r(function(hn){return!Bt&&hn})},[Bt]);var rt=function(bn){var br,qn,Li;N(""),(br=jt.current)===null||br===void 0||br.focus(),(0,Ft.rJ)((Li=(qn=jt.current)===null||qn===void 0?void 0:qn.resizableTextArea)===null||Li===void 0?void 0:Li.textArea,bn,Sn)},Tt=Ir("input",Ze);$.useImperativeHandle(it,function(){var hn;return{resizableTextArea:(hn=jt.current)===null||hn===void 0?void 0:hn.resizableTextArea,focus:function(br){var qn,Li;(0,Ft.nH)((Li=(qn=jt.current)===null||qn===void 0?void 0:qn.resizableTextArea)===null||Li===void 0?void 0:Li.textArea,br)},blur:function(){var br;return(br=jt.current)===null||br===void 0?void 0:br.blur()}}});var En=$.createElement(vn,(0,m.Z)({},(0,Mt.Z)(sr,["allowClear"]),{disabled:Bt,className:E()((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(Tt,"-borderless"),!Xe),Et,Et&&!pt),"".concat(Tt,"-sm"),di==="small"||On==="small"),"".concat(Tt,"-lg"),di==="large"||On==="large"),(0,bt.Z)(Tt,zr)),style:pt?{resize:Vt==null?void 0:Vt.resize}:Vt,prefixCls:Tt,onCompositionStart:ye,onChange:ze,onBlur:Ce,onFocus:ke,onCompositionEnd:Ie,ref:jt})),Rn=(0,Ft.D7)(De);!Zt&&G&&(sr.value===null||sr.value===void 0)&&(Rn=Nn(Rn,He));var $n=$.createElement(lt,(0,m.Z)({disabled:Bt,focused:Pr},sr,{prefixCls:Tt,direction:kr,inputType:"text",value:Rn,element:En,handleReset:rt,ref:gn,bordered:Xe,status:Hn,style:pt?void 0:Vt}));if(pt||Ot){var Xn=(0,x.Z)(Rn).length,$t="";return(0,v.Z)(pt)==="object"?$t=pt.formatter({value:Rn,count:Xn,maxLength:He}):$t="".concat(Xn).concat(G?" / ".concat(He):""),$.createElement("div",{hidden:R,className:E()("".concat(Tt,"-textarea"),(0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(Tt,"-textarea-rtl"),kr==="rtl"),"".concat(Tt,"-textarea-show-count"),pt),"".concat(Tt,"-textarea-in-form-item"),ur),(0,bt.Z)("".concat(Tt,"-textarea"),zr,Ot),Et),style:Vt,"data-count":$t},$n,Ot&&$.createElement("span",{className:"".concat(Tt,"-textarea-suffix")},Mn))}return $n}),Kn=An},72922:function(j,M,l){"use strict";l.d(M,{Z:function(){return d}});var v=l(67294);function d(m,g){var x=(0,v.useRef)([]),A=function(){x.current.push(setTimeout(function(){var w,k,Z,U;!((w=m.current)===null||w===void 0)&&w.input&&((k=m.current)===null||k===void 0?void 0:k.input.getAttribute("type"))==="password"&&(!((Z=m.current)===null||Z===void 0)&&Z.input.hasAttribute("value"))&&((U=m.current)===null||U===void 0||U.input.removeAttribute("value"))}))};return(0,v.useEffect)(function(){return g&&A(),function(){return x.current.forEach(function(E){E&&clearTimeout(E)})}},[]),A}},96365:function(j,M,l){"use strict";l.d(M,{Z:function(){return bt}});var v=l(87462),d=l(4942),m=l(93967),g=l.n(m),x=l(67294),A=l(53124),E=l(65223),w=function(Ae){var be=(0,x.useContext)(A.E_),Ne=be.getPrefixCls,Re=be.direction,ht=Ae.prefixCls,Wt=Ae.className,Yt=Wt===void 0?"":Wt,Lt=Ne("input-group",ht),Dt=g()(Lt,(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(Lt,"-lg"),Ae.size==="large"),"".concat(Lt,"-sm"),Ae.size==="small"),"".concat(Lt,"-compact"),Ae.compact),"".concat(Lt,"-rtl"),Re==="rtl"),Yt),lt=(0,x.useContext)(E.aM),Ft=(0,x.useMemo)(function(){return(0,v.Z)((0,v.Z)({},lt),{isFormItemInput:!1})},[lt]);return x.createElement("span",{className:Dt,style:Ae.style,onMouseEnter:Ae.onMouseEnter,onMouseLeave:Ae.onMouseLeave,onFocus:Ae.onFocus,onBlur:Ae.onBlur},x.createElement(E.aM.Provider,{value:Ft},Ae.children))},k=w,Z=l(16591),U=l(97685),$=l(71002),te=l(1413),Q=l(42003),J=l(93771),K=function(Ae,be){return x.createElement(J.Z,(0,te.Z)((0,te.Z)({},Ae),{},{ref:be,icon:Q.Z}))},Y=x.forwardRef(K),re=Y,fe=l(1208),le=l(98423),ie=l(42550),ve=l(72922),Oe=function(Ge,Ae){var be={};for(var Ne in Ge)Object.prototype.hasOwnProperty.call(Ge,Ne)&&Ae.indexOf(Ne)<0&&(be[Ne]=Ge[Ne]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Re=0,Ne=Object.getOwnPropertySymbols(Ge);Re<Ne.length;Re++)Ae.indexOf(Ne[Re])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Ne[Re])&&(be[Ne[Re]]=Ge[Ne[Re]]);return be},L=function(Ae){return Ae?x.createElement(fe.Z,null):x.createElement(re,null)},Pe={click:"onClick",hover:"onMouseOver"},pe=x.forwardRef(function(Ge,Ae){var be=Ge.visibilityToggle,Ne=be===void 0?!0:be,Re=(0,$.Z)(Ne)==="object"&&Ne.visible!==void 0,ht=(0,x.useState)(function(){return Re?Ne.visible:!1}),Wt=(0,U.Z)(ht,2),Yt=Wt[0],Lt=Wt[1],Dt=(0,x.useRef)(null);x.useEffect(function(){Re&&Lt(Ne.visible)},[Re,Ne]);var lt=(0,ve.Z)(Dt),Ft=function(){var An=Ge.disabled;An||(Yt&&lt(),Lt(function(Kn){var ee,it=!Kn;return(0,$.Z)(Ne)==="object"&&((ee=Ne.onVisibleChange)===null||ee===void 0||ee.call(Ne,it)),it}))},qt=function(An){var Kn=Ge.action,ee=Kn===void 0?"click":Kn,it=Ge.iconRender,Ze=it===void 0?L:it,ot=Pe[ee]||"",Xe=Ze(Yt),et=(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},ot,Ft),"className","".concat(An,"-icon")),"key","passwordIcon"),"onMouseDown",function(He){He.preventDefault()}),"onMouseUp",function(He){He.preventDefault()});return x.cloneElement(x.isValidElement(Xe)?Xe:x.createElement("span",null,Xe),et)},Nn=function(An){var Kn=An.getPrefixCls,ee=Ge.className,it=Ge.prefixCls,Ze=Ge.inputPrefixCls,ot=Ge.size,Xe=Oe(Ge,["className","prefixCls","inputPrefixCls","size"]),et=Kn("input",Ze),pt=Kn("input-password",it),He=Ne&&qt(pt),Et=g()(pt,ee,(0,d.Z)({},"".concat(pt,"-").concat(ot),!!ot)),Vt=(0,v.Z)((0,v.Z)({},(0,le.Z)(Xe,["suffix","iconRender","visibilityToggle"])),{type:Yt?"text":"password",className:Et,prefixCls:et,suffix:He});return ot&&(Vt.size=ot),x.createElement(Z.ZP,(0,v.Z)({ref:(0,ie.sQ)(Ae,Dt)},Vt))};return x.createElement(A.C,null,Nn)}),Be=pe,je=l(25783),he=l(71577),st=l(97647),en=l(4173),vn=l(96159),Mt=function(Ge,Ae){var be={};for(var Ne in Ge)Object.prototype.hasOwnProperty.call(Ge,Ne)&&Ae.indexOf(Ne)<0&&(be[Ne]=Ge[Ne]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Re=0,Ne=Object.getOwnPropertySymbols(Ge);Re<Ne.length;Re++)Ae.indexOf(Ne[Re])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Ne[Re])&&(be[Ne[Re]]=Ge[Ne[Re]]);return be},It=x.forwardRef(function(Ge,Ae){var be=Ge.prefixCls,Ne=Ge.inputPrefixCls,Re=Ge.className,ht=Ge.size,Wt=Ge.suffix,Yt=Ge.enterButton,Lt=Yt===void 0?!1:Yt,Dt=Ge.addonAfter,lt=Ge.loading,Ft=Ge.disabled,qt=Ge.onSearch,Nn=Ge.onChange,kn=Ge.onCompositionStart,An=Ge.onCompositionEnd,Kn=Mt(Ge,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),ee=x.useContext(A.E_),it=ee.getPrefixCls,Ze=ee.direction,ot=x.useContext(st.Z),Xe=x.useRef(!1),et=it("input-search",be),pt=it("input",Ne),He=(0,en.ri)(et,Ze),Et=He.compactSize,Vt=Et||ht||ot,On=x.useRef(null),Wn=function(Bt){Bt&&Bt.target&&Bt.type==="click"&&qt&&qt(Bt.target.value,Bt),Nn&&Nn(Bt)},pr=function(Bt){var kt;document.activeElement===((kt=On.current)===null||kt===void 0?void 0:kt.input)&&Bt.preventDefault()},Cr=function(Bt){var kt,dn;qt&&qt((dn=(kt=On.current)===null||kt===void 0?void 0:kt.input)===null||dn===void 0?void 0:dn.value,Bt)},Sn=function(Bt){Xe.current||lt||Cr(Bt)},Cn=typeof Lt=="boolean"?x.createElement(je.Z,null):null,Fn="".concat(et,"-button"),Hn,sr=Lt||{},ti=sr.type&&sr.type.__ANT_BUTTON===!0;ti||sr.type==="button"?Hn=(0,vn.Tm)(sr,(0,v.Z)({onMouseDown:pr,onClick:function(Bt){var kt,dn;(dn=(kt=sr==null?void 0:sr.props)===null||kt===void 0?void 0:kt.onClick)===null||dn===void 0||dn.call(kt,Bt),Cr(Bt)},key:"enterButton"},ti?{className:Fn,size:Vt}:{})):Hn=x.createElement(he.Z,{className:Fn,type:Lt?"primary":void 0,size:Vt,disabled:Ft,key:"enterButton",onMouseDown:pr,onClick:Cr,loading:lt,icon:Cn},Lt),Dt&&(Hn=[Hn,(0,vn.Tm)(Dt,{key:"addonAfter"})]);var Ir=g()(et,(0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(et,"-rtl"),Ze==="rtl"),"".concat(et,"-").concat(Vt),!!Vt),"".concat(et,"-with-button"),!!Lt),Re),kr=function(Bt){Xe.current=!0,kn==null||kn(Bt)},di=function(Bt){Xe.current=!1,An==null||An(Bt)};return x.createElement(Z.ZP,(0,v.Z)({ref:(0,ie.sQ)(On,Ae),onPressEnter:Sn},Kn,{size:Vt,onCompositionStart:kr,onCompositionEnd:di,prefixCls:pt,addonAfter:Hn,suffix:Wt,onChange:Wn,className:Ir,disabled:Ft}))}),Ve=It,Me=l(56994),Qe=Z.ZP;Qe.Group=k,Qe.Search=Ve,Qe.TextArea=Me.Z,Qe.Password=Be;var bt=Qe},69463:function(j,M,l){"use strict";var v=l(43146),d=l(29913)},23715:function(j,M,l){"use strict";l.d(M,{Z:function(){return E},E:function(){return w}});var v=l(87462),d=l(67294),m=l(67178),g=l(80779),x=g.Z,A=function(Z){var U=Z.componentName,$=U===void 0?"global":U,te=Z.defaultLocale,Q=Z.children,J=d.useContext(m.Z),K=d.useMemo(function(){var re,fe=te||x[$],le=(re=J==null?void 0:J[$])!==null&&re!==void 0?re:{};return(0,v.Z)((0,v.Z)({},fe instanceof Function?fe():fe),le||{})},[$,te,J]),Y=d.useMemo(function(){var re=J&&J.locale;return J&&J.exist&&!re?x.locale:re},[J]);return Q(K,Y,J)},E=A,w=function(Z,U){var $=d.useContext(m.Z),te=d.useMemo(function(){var Q,J=U||x[Z],K=(Q=$==null?void 0:$[Z])!==null&&Q!==void 0?Q:{};return(0,v.Z)((0,v.Z)({},typeof J=="function"?J():J),K||{})},[Z,U,$]);return[te]}},67178:function(j,M,l){"use strict";var v=l(67294),d=(0,v.createContext)(void 0);M.Z=d},80779:function(j,M,l){"use strict";l.d(M,{Z:function(){return E}});var v=l(62906),d=l(87206),m=d.Z,g=l(42115),x="${label} is not a valid ${type}",A={locale:"en",Pagination:v.Z,DatePicker:d.Z,TimePicker:g.Z,Calendar:m,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:x,method:x,array:x,object:x,number:x,date:x,boolean:x,integer:x,float:x,regexp:x,email:x,url:x,hex:x},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},E=A},53315:function(j,M,l){"use strict";l.d(M,{Df:function(){return be},ZP:function(){return Re},S$:function(){return vn},z$:function(){return Me}});var v=l(87462),d=l(4942),m=l(19735),g=l(17012),x=l(29950),A=l(1413),E=l(67294),w=l(12489),k=l(93771),Z=function(Wt,Yt){return E.createElement(k.Z,(0,A.Z)((0,A.Z)({},Wt),{},{ref:Yt,icon:w.Z}))},U=E.forwardRef(Z),$=U,te=l(19267),Q=l(93967),J=l.n(Q),K=l(91127),Y=l(38080),re=l(97685),fe=l(51550),le=l(53124);function ie(ht,Wt){var Yt=function(){var Dt,lt,Ft=null,qt={add:function(ot,Xe){Ft==null||Ft.component.add(ot,Xe)}},Nn=(0,fe.Z)(qt),kn=(0,re.Z)(Nn,2),An=kn[0],Kn=kn[1];function ee(Ze){var ot=Ze.prefixCls,Xe=Dt("message",ot),et=Dt(),pt=Ze.key||vn(),He=new Promise(function(Vt){var On=function(){return typeof Ze.onClose=="function"&&Ze.onClose(),Vt(!0)};ht((0,v.Z)((0,v.Z)({},Ze),{prefixCls:Xe,rootPrefixCls:et,getPopupContainer:lt}),function(Wn){var pr=Wn.prefixCls,Cr=Wn.instance;Ft=Cr,An(Wt((0,v.Z)((0,v.Z)({},Ze),{key:pt,onClose:On}),pr))})}),Et=function(){Ft&&Ft.removeNotice(pt)};return Et.then=function(Vt,On){return He.then(Vt,On)},Et.promise=He,Et}var it=E.useRef({});return it.current.open=ee,Me.forEach(function(Ze){return be(it.current,Ze)}),[it.current,E.createElement(le.C,{key:"holder"},function(Ze){return Dt=Ze.getPrefixCls,lt=Ze.getPopupContainer,Kn})]};return Yt}var ve,Oe=3,L,Pe=1,pe="",Be="move-up",je=!1,he,st,en=!1;function vn(){return Pe++}function Mt(ht){ht.top!==void 0&&(L=ht.top,ve=null),ht.duration!==void 0&&(Oe=ht.duration),ht.prefixCls!==void 0&&(pe=ht.prefixCls),ht.getContainer!==void 0&&(he=ht.getContainer,ve=null),ht.transitionName!==void 0&&(Be=ht.transitionName,ve=null,je=!0),ht.maxCount!==void 0&&(st=ht.maxCount,ve=null),ht.rtl!==void 0&&(en=ht.rtl)}function It(ht,Wt){var Yt=ht.prefixCls,Lt=ht.getPopupContainer,Dt=(0,Y.w6)(),lt=Dt.getPrefixCls,Ft=Dt.getRootPrefixCls,qt=Dt.getIconPrefixCls,Nn=lt("message",Yt||pe),kn=Ft(ht.rootPrefixCls,Nn),An=qt();if(ve){Wt({prefixCls:Nn,rootPrefixCls:kn,iconPrefixCls:An,instance:ve});return}var Kn={prefixCls:Nn,transitionName:je?Be:"".concat(kn,"-").concat(Be),style:{top:L},getContainer:he||Lt,maxCount:st};K.Z.newInstance(Kn,function(ee){if(ve){Wt({prefixCls:Nn,rootPrefixCls:kn,iconPrefixCls:An,instance:ve});return}ve=ee,Wt({prefixCls:Nn,rootPrefixCls:kn,iconPrefixCls:An,instance:ee})})}var Ve={info:$,success:m.Z,error:g.Z,warning:x.Z,loading:te.Z},Me=Object.keys(Ve);function Qe(ht,Wt,Yt){var Lt=ht.duration!==void 0?ht.duration:Oe,Dt=Ve[ht.type],lt=J()("".concat(Wt,"-custom-content"),(0,d.Z)((0,d.Z)({},"".concat(Wt,"-").concat(ht.type),ht.type),"".concat(Wt,"-rtl"),en===!0));return{key:ht.key,duration:Lt,style:ht.style||{},className:ht.className,content:E.createElement(Y.ZP,{iconPrefixCls:Yt},E.createElement("div",{className:lt},ht.icon||Dt&&E.createElement(Dt,null),E.createElement("span",null,ht.content))),onClose:ht.onClose,onClick:ht.onClick}}function bt(ht){var Wt=ht.key||vn(),Yt=new Promise(function(Dt){var lt=function(){return typeof ht.onClose=="function"&&ht.onClose(),Dt(!0)};It(ht,function(Ft){var qt=Ft.prefixCls,Nn=Ft.iconPrefixCls,kn=Ft.instance;kn.notice(Qe((0,v.Z)((0,v.Z)({},ht),{key:Wt,onClose:lt}),qt,Nn))})}),Lt=function(){var lt;ve&&(ve.removeNotice(Wt),(lt=ht.onClose)===null||lt===void 0||lt.call(ht))};return Lt.then=function(Dt,lt){return Yt.then(Dt,lt)},Lt.promise=Yt,Lt}function Ge(ht){return Object.prototype.toString.call(ht)==="[object Object]"&&!!ht.content}var Ae={open:bt,config:Mt,destroy:function(Wt){if(ve)if(Wt){var Yt=ve,Lt=Yt.removeNotice;Lt(Wt)}else{var Dt=ve,lt=Dt.destroy;lt(),ve=null}}};function be(ht,Wt){ht[Wt]=function(Yt,Lt,Dt){return Ge(Yt)?ht.open((0,v.Z)((0,v.Z)({},Yt),{type:Wt})):(typeof Lt=="function"&&(Dt=Lt,Lt=void 0),ht.open({content:Yt,duration:Lt,type:Wt,onClose:Dt}))}}Me.forEach(function(ht){return be(Ae,ht)}),Ae.warn=Ae.warning,Ae.useMessage=ie(It,Qe);var Ne=function(){return null},Re=Ae},14934:function(j,M,l){"use strict";var v=l(43146)},83008:function(j,M,l){"use strict";l.d(M,{A:function(){return x},f:function(){return g}});var v=l(87462),d=l(80779),m=(0,v.Z)({},d.Z.Modal);function g(A){A?m=(0,v.Z)((0,v.Z)({},m),A):m=(0,v.Z)({},d.Z.Modal)}function x(){return m}},10808:function(j,M,l){"use strict";l.d(M,{Z:function(){return Z}});var v=l(87462),d=l(67294),m=function($){return $?typeof $=="function"?$():$:null},g=l(33603),x=l(53124),A=l(87381),E=function(U,$){var te={};for(var Q in U)Object.prototype.hasOwnProperty.call(U,Q)&&$.indexOf(Q)<0&&(te[Q]=U[Q]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var J=0,Q=Object.getOwnPropertySymbols(U);J<Q.length;J++)$.indexOf(Q[J])<0&&Object.prototype.propertyIsEnumerable.call(U,Q[J])&&(te[Q[J]]=U[Q[J]]);return te},w=function($){var te=$.title,Q=$.content,J=$.prefixCls;return d.createElement(d.Fragment,null,te&&d.createElement("div",{className:"".concat(J,"-title")},m(te)),d.createElement("div",{className:"".concat(J,"-inner-content")},m(Q)))},k=d.forwardRef(function(U,$){var te=U.prefixCls,Q=U.title,J=U.content,K=U._overlay,Y=U.placement,re=Y===void 0?"top":Y,fe=U.trigger,le=fe===void 0?"hover":fe,ie=U.mouseEnterDelay,ve=ie===void 0?.1:ie,Oe=U.mouseLeaveDelay,L=Oe===void 0?.1:Oe,Pe=U.overlayStyle,pe=Pe===void 0?{}:Pe,Be=E(U,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),je=d.useContext(x.E_),he=je.getPrefixCls,st=he("popover",te),en=he(),vn=d.useMemo(function(){return K||(!Q&&!J?null:d.createElement(w,{prefixCls:st,title:Q,content:J}))},[K,Q,J,st]);return d.createElement(A.Z,(0,v.Z)({placement:re,trigger:le,mouseEnterDelay:ve,mouseLeaveDelay:L,overlayStyle:pe},Be,{prefixCls:st,ref:$,overlay:vn,transitionName:(0,g.mL)(en,"zoom-big",Be.transitionName)}))}),Z=k},63942:function(j,M,l){"use strict";var v=l(43146)},71230:function(j,M,l){"use strict";var v=l(92820);M.Z=v.Z},13062:function(j,M,l){"use strict";var v=l(43146),d=l(157)},34041:function(j,M,l){"use strict";var v=l(4942),d=l(87462),m=l(93967),g=l.n(m),x=l(7752),A=l(98423),E=l(67294),w=l(53124),k=l(88258),Z=l(98866),U=l(97647),$=l(65223),te=l(33603),Q=l(9708),J=l(46163),K=l(4173),Y=function(ie,ve){var Oe={};for(var L in ie)Object.prototype.hasOwnProperty.call(ie,L)&&ve.indexOf(L)<0&&(Oe[L]=ie[L]);if(ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pe=0,L=Object.getOwnPropertySymbols(ie);Pe<L.length;Pe++)ve.indexOf(L[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ie,L[Pe])&&(Oe[L[Pe]]=ie[L[Pe]]);return Oe},re="SECRET_COMBOBOX_MODE_DO_NOT_USE",fe=function(ve,Oe){var L=ve.prefixCls,Pe=ve.bordered,pe=Pe===void 0?!0:Pe,Be=ve.className,je=ve.getPopupContainer,he=ve.dropdownClassName,st=ve.popupClassName,en=ve.listHeight,vn=en===void 0?256:en,Mt=ve.placement,It=ve.listItemHeight,Ve=It===void 0?32:It,Me=ve.size,Qe=ve.disabled,bt=ve.notFoundContent,Ge=ve.status,Ae=ve.showArrow,be=Y(ve,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","popupClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]),Ne=E.useContext(w.E_),Re=Ne.getPopupContainer,ht=Ne.getPrefixCls,Wt=Ne.renderEmpty,Yt=Ne.direction,Lt=Ne.virtual,Dt=Ne.dropdownMatchSelectWidth,lt=E.useContext(U.Z),Ft=ht("select",L),qt=ht(),Nn=(0,K.ri)(Ft,Yt),kn=Nn.compactSize,An=Nn.compactItemClassnames,Kn=E.useMemo(function(){var kr=be.mode;if(kr!=="combobox")return kr===re?"combobox":kr},[be.mode]),ee=Kn==="multiple"||Kn==="tags",it=Ae!==void 0?Ae:be.loading||!(ee||Kn==="combobox"),Ze=(0,E.useContext)($.aM),ot=Ze.status,Xe=Ze.hasFeedback,et=Ze.isFormItemInput,pt=Ze.feedbackIcon,He=(0,Q.F)(ot,Ge),Et;bt!==void 0?Et=bt:Kn==="combobox"?Et=null:Et=(Wt||k.Z)("Select");var Vt=(0,J.Z)((0,d.Z)((0,d.Z)({},be),{multiple:ee,hasFeedback:Xe,feedbackIcon:pt,showArrow:it,prefixCls:Ft})),On=Vt.suffixIcon,Wn=Vt.itemIcon,pr=Vt.removeIcon,Cr=Vt.clearIcon,Sn=(0,A.Z)(be,["suffixIcon","itemIcon"]),Cn=g()(st||he,(0,v.Z)({},"".concat(Ft,"-dropdown-").concat(Yt),Yt==="rtl")),Fn=kn||Me||lt,Hn=E.useContext(Z.Z),sr=Qe!=null?Qe:Hn,ti=g()((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)({},"".concat(Ft,"-lg"),Fn==="large"),"".concat(Ft,"-sm"),Fn==="small"),"".concat(Ft,"-rtl"),Yt==="rtl"),"".concat(Ft,"-borderless"),!pe),"".concat(Ft,"-in-form-item"),et),(0,Q.Z)(Ft,He,Xe),An,Be),Ir=function(){return Mt!==void 0?Mt:Yt==="rtl"?"bottomRight":"bottomLeft"};return E.createElement(x.ZP,(0,d.Z)({ref:Oe,virtual:Lt,dropdownMatchSelectWidth:Dt},Sn,{transitionName:(0,te.mL)(qt,(0,te.q0)(Mt),be.transitionName),listHeight:vn,listItemHeight:Ve,mode:Kn,prefixCls:Ft,placement:Ir(),direction:Yt,inputIcon:On,menuItemSelectedIcon:Wn,removeIcon:pr,clearIcon:Cr,notFoundContent:Et,className:ti,getPopupContainer:je||Re,dropdownClassName:Cn,showArrow:Xe||Ae,disabled:sr}))},le=E.forwardRef(fe);le.SECRET_COMBOBOX_MODE_DO_NOT_USE=re,le.Option=x.Wx,le.OptGroup=x.Xo,M.Z=le},95985:function(j,M,l){"use strict";var v=l(43146),d=l(81151)},46163:function(j,M,l){"use strict";l.d(M,{Z:function(){return w}});var v=l(64894),d=l(17012),m=l(62208),g=l(13622),x=l(19267),A=l(25783),E=l(67294);function w(k){var Z=k.suffixIcon,U=k.clearIcon,$=k.menuItemSelectedIcon,te=k.removeIcon,Q=k.loading,J=k.multiple,K=k.hasFeedback,Y=k.prefixCls,re=k.showArrow,fe=k.feedbackIcon,le=U!=null?U:E.createElement(d.Z,null),ie=function(Be){return E.createElement(E.Fragment,null,re!==!1&&Be,K&&fe)},ve=null;if(Z!==void 0)ve=ie(Z);else if(Q)ve=ie(E.createElement(x.Z,{spin:!0}));else{var Oe="".concat(Y,"-suffix");ve=function(Be){var je=Be.open,he=Be.showSearch;return ie(je&&he?E.createElement(A.Z,{className:Oe}):E.createElement(g.Z,{className:Oe}))}}var L=null;$!==void 0?L=$:J?L=E.createElement(v.Z,null):L=null;var Pe=null;return te!==void 0?Pe=te:Pe=E.createElement(m.Z,null),{clearIcon:le,suffixIcon:ve,itemIcon:L,removeIcon:Pe}}},4173:function(j,M,l){"use strict";l.d(M,{BR:function(){return U},ri:function(){return Z}});var v=l(87462),d=l(4942),m=l(93967),g=l.n(m),x=l(50344),A=l(67294),E=l(53124),w=function(Q,J){var K={};for(var Y in Q)Object.prototype.hasOwnProperty.call(Q,Y)&&J.indexOf(Y)<0&&(K[Y]=Q[Y]);if(Q!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,Y=Object.getOwnPropertySymbols(Q);re<Y.length;re++)J.indexOf(Y[re])<0&&Object.prototype.propertyIsEnumerable.call(Q,Y[re])&&(K[Y[re]]=Q[Y[re]]);return K},k=A.createContext(null),Z=function(J,K){var Y=A.useContext(k),re=A.useMemo(function(){if(!Y)return"";var fe=Y.compactDirection,le=Y.isFirstItem,ie=Y.isLastItem,ve=fe==="vertical"?"-vertical-":"-";return g()((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(J,"-compact").concat(ve,"item"),!0),"".concat(J,"-compact").concat(ve,"first-item"),le),"".concat(J,"-compact").concat(ve,"last-item"),ie),"".concat(J,"-compact").concat(ve,"item-rtl"),K==="rtl"))},[J,K,Y]);return{compactSize:Y==null?void 0:Y.compactSize,compactDirection:Y==null?void 0:Y.compactDirection,compactItemClassnames:re}},U=function(J){var K=J.children;return A.createElement(k.Provider,{value:null},K)},$=function(J){var K=J.children,Y=w(J,["children"]);return A.createElement(k.Provider,{value:Y},K)},te=function(J){var K=A.useContext(E.E_),Y=K.getPrefixCls,re=K.direction,fe=J.size,le=fe===void 0?"middle":fe,ie=J.direction,ve=J.block,Oe=J.prefixCls,L=J.className,Pe=J.children,pe=w(J,["size","direction","block","prefixCls","className","children"]),Be=Y("space-compact",Oe),je=g()(Be,(0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(Be,"-rtl"),re==="rtl"),"".concat(Be,"-block"),ve),"".concat(Be,"-vertical"),ie==="vertical"),L),he=A.useContext(k),st=(0,x.Z)(Pe),en=A.useMemo(function(){return st.map(function(vn,Mt){var It=vn&&vn.key||"".concat(Be,"-item-").concat(Mt);return A.createElement($,{key:It,compactSize:le,compactDirection:ie,isFirstItem:Mt===0&&(!he||(he==null?void 0:he.isFirstItem)),isLastItem:Mt===st.length-1&&(!he||(he==null?void 0:he.isLastItem))},vn)})},[le,st,he]);return st.length===0?null:A.createElement("div",(0,v.Z)({className:je},pe),en)};M.ZP=te},26713:function(j,M,l){"use strict";l.d(M,{u:function(){return te},Z:function(){return re}});var v=l(87462),d=l(4942),m=l(97685),g=l(93967),x=l.n(g),A=l(50344),E=l(67294),w=l(53124),k=l(98082);function Z(fe){var le=fe.className,ie=fe.direction,ve=fe.index,Oe=fe.marginDirection,L=fe.children,Pe=fe.split,pe=fe.wrap,Be=E.useContext(te),je=Be.horizontalSize,he=Be.verticalSize,st=Be.latestIndex,en=Be.supportFlexGap,vn={};return en||(ie==="vertical"?ve<st&&(vn={marginBottom:je/(Pe?2:1)}):vn=(0,v.Z)((0,v.Z)({},ve<st&&(0,d.Z)({},Oe,je/(Pe?2:1))),pe&&{paddingBottom:he})),L==null?null:E.createElement(E.Fragment,null,E.createElement("div",{className:le,style:vn},L),ve<st&&Pe&&E.createElement("span",{className:"".concat(le,"-split"),style:vn},Pe))}var U=l(4173),$=function(fe,le){var ie={};for(var ve in fe)Object.prototype.hasOwnProperty.call(fe,ve)&&le.indexOf(ve)<0&&(ie[ve]=fe[ve]);if(fe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Oe=0,ve=Object.getOwnPropertySymbols(fe);Oe<ve.length;Oe++)le.indexOf(ve[Oe])<0&&Object.prototype.propertyIsEnumerable.call(fe,ve[Oe])&&(ie[ve[Oe]]=fe[ve[Oe]]);return ie},te=E.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),Q={small:8,middle:16,large:24};function J(fe){return typeof fe=="string"?Q[fe]:fe||0}var K=function(le){var ie=E.useContext(w.E_),ve=ie.getPrefixCls,Oe=ie.space,L=ie.direction,Pe=le.size,pe=Pe===void 0?(Oe==null?void 0:Oe.size)||"small":Pe,Be=le.align,je=le.className,he=le.children,st=le.direction,en=st===void 0?"horizontal":st,vn=le.prefixCls,Mt=le.split,It=le.style,Ve=le.wrap,Me=Ve===void 0?!1:Ve,Qe=$(le,["size","align","className","children","direction","prefixCls","split","style","wrap"]),bt=(0,k.Z)(),Ge=E.useMemo(function(){return(Array.isArray(pe)?pe:[pe,pe]).map(function(kn){return J(kn)})},[pe]),Ae=(0,m.Z)(Ge,2),be=Ae[0],Ne=Ae[1],Re=(0,A.Z)(he,{keepEmpty:!0}),ht=Be===void 0&&en==="horizontal"?"center":Be,Wt=ve("space",vn),Yt=x()(Wt,"".concat(Wt,"-").concat(en),(0,d.Z)((0,d.Z)({},"".concat(Wt,"-rtl"),L==="rtl"),"".concat(Wt,"-align-").concat(ht),ht),je),Lt="".concat(Wt,"-item"),Dt=L==="rtl"?"marginLeft":"marginRight",lt=0,Ft=Re.map(function(kn,An){kn!=null&&(lt=An);var Kn=kn&&kn.key||"".concat(Lt,"-").concat(An);return E.createElement(Z,{className:Lt,key:Kn,direction:en,index:An,marginDirection:Dt,split:Mt,wrap:Me},kn)}),qt=E.useMemo(function(){return{horizontalSize:be,verticalSize:Ne,latestIndex:lt,supportFlexGap:bt}},[be,Ne,lt,bt]);if(Re.length===0)return null;var Nn={};return Me&&(Nn.flexWrap="wrap",bt||(Nn.marginBottom=-Ne)),bt&&(Nn.columnGap=be,Nn.rowGap=Ne),E.createElement("div",(0,v.Z)({className:Yt,style:(0,v.Z)((0,v.Z)({},Nn),It)},Qe),E.createElement(te.Provider,{value:qt},Ft))},Y=K;Y.Compact=U.ZP;var re=Y},6516:function(j,M,l){"use strict";var v=l(43146)},11382:function(j,M,l){"use strict";var v=l(87462),d=l(4942),m=l(97685),g=l(93967),x=l.n(g),A=l(23279),E=l.n(A),w=l(98423),k=l(67294),Z=l(53124),U=l(96159),$=l(93355),te=function(le,ie){var ve={};for(var Oe in le)Object.prototype.hasOwnProperty.call(le,Oe)&&ie.indexOf(Oe)<0&&(ve[Oe]=le[Oe]);if(le!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,Oe=Object.getOwnPropertySymbols(le);L<Oe.length;L++)ie.indexOf(Oe[L])<0&&Object.prototype.propertyIsEnumerable.call(le,Oe[L])&&(ve[Oe[L]]=le[Oe[L]]);return ve},Q=(0,$.b)("small","default","large"),J=null;function K(le,ie){var ve=ie.indicator,Oe="".concat(le,"-dot");return ve===null?null:(0,U.l$)(ve)?(0,U.Tm)(ve,{className:x()(ve.props.className,Oe)}):(0,U.l$)(J)?(0,U.Tm)(J,{className:x()(J.props.className,Oe)}):k.createElement("span",{className:x()(Oe,"".concat(le,"-dot-spin"))},k.createElement("i",{className:"".concat(le,"-dot-item")}),k.createElement("i",{className:"".concat(le,"-dot-item")}),k.createElement("i",{className:"".concat(le,"-dot-item")}),k.createElement("i",{className:"".concat(le,"-dot-item")}))}function Y(le,ie){return!!le&&!!ie&&!isNaN(Number(ie))}var re=function(ie){var ve=ie.spinPrefixCls,Oe=ie.spinning,L=Oe===void 0?!0:Oe,Pe=ie.delay,pe=ie.className,Be=ie.size,je=Be===void 0?"default":Be,he=ie.tip,st=ie.wrapperClassName,en=ie.style,vn=ie.children,Mt=te(ie,["spinPrefixCls","spinning","delay","className","size","tip","wrapperClassName","style","children"]),It=k.useState(function(){return L&&!Y(L,Pe)}),Ve=(0,m.Z)(It,2),Me=Ve[0],Qe=Ve[1];k.useEffect(function(){var Ae=E()(function(){Qe(L)},Pe);return Ae(),function(){var be;(be=Ae==null?void 0:Ae.cancel)===null||be===void 0||be.call(Ae)}},[Pe,L]);var bt=function(){return typeof vn!="undefined"},Ge=function(be){var Ne=be.direction,Re=x()(ve,(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},"".concat(ve,"-sm"),je==="small"),"".concat(ve,"-lg"),je==="large"),"".concat(ve,"-spinning"),Me),"".concat(ve,"-show-text"),!!he),"".concat(ve,"-rtl"),Ne==="rtl"),pe),ht=(0,w.Z)(Mt,["indicator","prefixCls"]),Wt=k.createElement("div",(0,v.Z)({},ht,{style:en,className:Re,"aria-live":"polite","aria-busy":Me}),K(ve,ie),he?k.createElement("div",{className:"".concat(ve,"-text")},he):null);if(bt()){var Yt=x()("".concat(ve,"-container"),(0,d.Z)({},"".concat(ve,"-blur"),Me));return k.createElement("div",(0,v.Z)({},ht,{className:x()("".concat(ve,"-nested-loading"),st)}),Me&&k.createElement("div",{key:"loading"},Wt),k.createElement("div",{className:Yt,key:"container"},vn))}return Wt};return k.createElement(Z.C,null,Ge)},fe=function(ie){var ve=ie.prefixCls,Oe=k.useContext(Z.E_),L=Oe.getPrefixCls,Pe=L("spin",ve),pe=(0,v.Z)((0,v.Z)({},ie),{spinPrefixCls:Pe});return k.createElement(re,(0,v.Z)({},pe))};fe.setDefaultIndicator=function(le){J=le},M.Z=fe},7179:function(j,M,l){"use strict";l.d(M,{default:function(){return Da}});var v=l(4942),d=l(87462),m=l(62208),g=l(1413),x=l(67294),A=l(29245),E=l(93771),w=function(on,xn){return x.createElement(E.Z,(0,g.Z)((0,g.Z)({},on),{},{ref:xn,icon:A.Z}))},k=x.forwardRef(w),Z=k,U=l(42110),$=function(on,xn){return x.createElement(E.Z,(0,g.Z)((0,g.Z)({},on),{},{ref:xn,icon:U.Z}))},te=x.forwardRef($),Q=te,J=l(93967),K=l.n(J),Y=l(97685),re=l(71002),fe=l(91),le=l(31131),ie=l(21770),ve=l(29372),Oe=(0,x.createContext)(null),L=x.forwardRef(function(ut,on){var xn=ut.prefixCls,cr=ut.className,mn=ut.style,Or=ut.id,ei=ut.active,Ni=ut.tabKey,ki=ut.children;return x.createElement("div",{id:Or&&"".concat(Or,"-panel-").concat(Ni),role:"tabpanel",tabIndex:ei?0:-1,"aria-labelledby":Or&&"".concat(Or,"-tab-").concat(Ni),"aria-hidden":!ei,style:mn,className:K()(xn,ei&&"".concat(xn,"-active"),cr),ref:on},ki)}),Pe=L,pe=["key","forceRender","style","className"];function Be(ut){var on=ut.id,xn=ut.activeKey,cr=ut.animated,mn=ut.tabPosition,Or=ut.destroyInactiveTabPane,ei=x.useContext(Oe),Ni=ei.prefixCls,ki=ei.tabs,yo=cr.tabPane,Ro="".concat(Ni,"-tabpane");return x.createElement("div",{className:K()("".concat(Ni,"-content-holder"))},x.createElement("div",{className:K()("".concat(Ni,"-content"),"".concat(Ni,"-content-").concat(mn),(0,v.Z)({},"".concat(Ni,"-content-animated"),yo))},ki.map(function(Lo){var Jo=Lo.key,Io=Lo.forceRender,qo=Lo.style,Vo=Lo.className,jo=(0,fe.Z)(Lo,pe),so=Jo===xn;return x.createElement(ve.ZP,(0,d.Z)({key:Jo,visible:so,forceRender:Io,removeOnLeave:!!Or,leavedClassName:"".concat(Ro,"-hidden")},cr.tabPaneMotion),function(Si,pa){var xo=Si.style,Pa=Si.className;return x.createElement(Pe,(0,d.Z)({},jo,{prefixCls:Ro,id:on,tabKey:Jo,animated:yo,active:so,style:(0,g.Z)((0,g.Z)({},qo),xo),className:K()(Vo,Pa),ref:pa}))})})))}var je=l(74902),he=l(48555),st=l(66680),en=l(75164),vn=l(42550),Mt={width:0,height:0,left:0,top:0};function It(ut,on,xn){return(0,x.useMemo)(function(){for(var cr,mn=new Map,Or=on.get((cr=ut[0])===null||cr===void 0?void 0:cr.key)||Mt,ei=Or.left+Or.width,Ni=0;Ni<ut.length;Ni+=1){var ki=ut[Ni].key,yo=on.get(ki);if(!yo){var Ro;yo=on.get((Ro=ut[Ni-1])===null||Ro===void 0?void 0:Ro.key)||Mt}var Lo=mn.get(ki)||(0,g.Z)({},yo);Lo.right=ei-Lo.left-Lo.width,mn.set(ki,Lo)}return mn},[ut.map(function(cr){return cr.key}).join("_"),on,xn])}function Ve(ut,on){var xn=x.useRef(ut),cr=x.useState({}),mn=(0,Y.Z)(cr,2),Or=mn[1];function ei(Ni){var ki=typeof Ni=="function"?Ni(xn.current):Ni;ki!==xn.current&&on(ki,xn.current),xn.current=ki,Or({})}return[xn.current,ei]}var Me=.1,Qe=.01,bt=20,Ge=Math.pow(.995,bt);function Ae(ut,on){var xn=(0,x.useState)(),cr=(0,Y.Z)(xn,2),mn=cr[0],Or=cr[1],ei=(0,x.useState)(0),Ni=(0,Y.Z)(ei,2),ki=Ni[0],yo=Ni[1],Ro=(0,x.useState)(0),Lo=(0,Y.Z)(Ro,2),Jo=Lo[0],Io=Lo[1],qo=(0,x.useState)(),Vo=(0,Y.Z)(qo,2),jo=Vo[0],so=Vo[1],Si=(0,x.useRef)();function pa(se){var Ye=se.touches[0],ft=Ye.screenX,Ct=Ye.screenY;Or({x:ft,y:Ct}),window.clearInterval(Si.current)}function xo(se){if(mn){se.preventDefault();var Ye=se.touches[0],ft=Ye.screenX,Ct=Ye.screenY;Or({x:ft,y:Ct});var nn=ft-mn.x,yn=Ct-mn.y;on(nn,yn);var Vn=Date.now();yo(Vn),Io(Vn-ki),so({x:nn,y:yn})}}function Pa(){if(mn&&(Or(null),so(null),jo)){var se=jo.x/Jo,Ye=jo.y/Jo,ft=Math.abs(se),Ct=Math.abs(Ye);if(Math.max(ft,Ct)<Me)return;var nn=se,yn=Ye;Si.current=window.setInterval(function(){if(Math.abs(nn)<Qe&&Math.abs(yn)<Qe){window.clearInterval(Si.current);return}nn*=Ge,yn*=Ge,on(nn*bt,yn*bt)},bt)}}var Fo=(0,x.useRef)();function Sa(se){var Ye=se.deltaX,ft=se.deltaY,Ct=0,nn=Math.abs(Ye),yn=Math.abs(ft);nn===yn?Ct=Fo.current==="x"?Ye:ft:nn>yn?(Ct=Ye,Fo.current="x"):(Ct=ft,Fo.current="y"),on(-Ct,-Ct)&&se.preventDefault()}var Bo=(0,x.useRef)(null);Bo.current={onTouchStart:pa,onTouchMove:xo,onTouchEnd:Pa,onWheel:Sa},x.useEffect(function(){function se(nn){Bo.current.onTouchStart(nn)}function Ye(nn){Bo.current.onTouchMove(nn)}function ft(nn){Bo.current.onTouchEnd(nn)}function Ct(nn){Bo.current.onWheel(nn)}return document.addEventListener("touchmove",Ye,{passive:!1}),document.addEventListener("touchend",ft,{passive:!1}),ut.current.addEventListener("touchstart",se,{passive:!1}),ut.current.addEventListener("wheel",Ct),function(){document.removeEventListener("touchmove",Ye),document.removeEventListener("touchend",ft)}},[])}var be=l(8410);function Ne(ut){var on=(0,x.useState)(0),xn=(0,Y.Z)(on,2),cr=xn[0],mn=xn[1],Or=(0,x.useRef)(0),ei=(0,x.useRef)();return ei.current=ut,(0,be.o)(function(){var Ni;(Ni=ei.current)===null||Ni===void 0||Ni.call(ei)},[cr]),function(){Or.current===cr&&(Or.current+=1,mn(Or.current))}}function Re(ut){var on=(0,x.useRef)([]),xn=(0,x.useState)({}),cr=(0,Y.Z)(xn,2),mn=cr[1],Or=(0,x.useRef)(typeof ut=="function"?ut():ut),ei=Ne(function(){var ki=Or.current;on.current.forEach(function(yo){ki=yo(ki)}),on.current=[],Or.current=ki,mn({})});function Ni(ki){on.current.push(ki),ei()}return[Or.current,Ni]}var ht={width:0,height:0,left:0,top:0,right:0};function Wt(ut,on,xn,cr,mn,Or,ei){var Ni=ei.tabs,ki=ei.tabPosition,yo=ei.rtl,Ro,Lo,Jo;return["top","bottom"].includes(ki)?(Ro="width",Lo=yo?"right":"left",Jo=Math.abs(xn)):(Ro="height",Lo="top",Jo=-xn),(0,x.useMemo)(function(){if(!Ni.length)return[0,0];for(var Io=Ni.length,qo=Io,Vo=0;Vo<Io;Vo+=1){var jo=ut.get(Ni[Vo].key)||ht;if(jo[Lo]+jo[Ro]>Jo+on){qo=Vo-1;break}}for(var so=0,Si=Io-1;Si>=0;Si-=1){var pa=ut.get(Ni[Si].key)||ht;if(pa[Lo]<Jo){so=Si+1;break}}return[so,qo]},[ut,on,cr,mn,Or,Jo,ki,Ni.map(function(Io){return Io.key}).join("_"),yo])}function Yt(ut){var on;return ut instanceof Map?(on={},ut.forEach(function(xn,cr){on[cr]=xn})):on=ut,JSON.stringify(on)}var Lt="TABS_DQ";function Dt(ut){return String(ut).replace(/"/g,Lt)}function lt(ut,on){var xn=ut.prefixCls,cr=ut.editable,mn=ut.locale,Or=ut.style;return!cr||cr.showAdd===!1?null:x.createElement("button",{ref:on,type:"button",className:"".concat(xn,"-nav-add"),style:Or,"aria-label":(mn==null?void 0:mn.addAriaLabel)||"Add tab",onClick:function(Ni){cr.onEdit("add",{event:Ni})}},cr.addIcon||"+")}var Ft=x.forwardRef(lt),qt=x.forwardRef(function(ut,on){var xn=ut.position,cr=ut.prefixCls,mn=ut.extra;if(!mn)return null;var Or,ei={};return(0,re.Z)(mn)==="object"&&!x.isValidElement(mn)?ei=mn:ei.right=mn,xn==="right"&&(Or=ei.right),xn==="left"&&(Or=ei.left),Or?x.createElement("div",{className:"".concat(cr,"-extra-content"),ref:on},Or):null}),Nn=qt,kn=l(81263),An={adjustX:1,adjustY:1},Kn=[0,0],ee={topLeft:{points:["bl","tl"],overflow:An,offset:[0,-4],targetOffset:Kn},topCenter:{points:["bc","tc"],overflow:An,offset:[0,-4],targetOffset:Kn},topRight:{points:["br","tr"],overflow:An,offset:[0,-4],targetOffset:Kn},bottomLeft:{points:["tl","bl"],overflow:An,offset:[0,4],targetOffset:Kn},bottomCenter:{points:["tc","bc"],overflow:An,offset:[0,4],targetOffset:Kn},bottomRight:{points:["tr","br"],overflow:An,offset:[0,4],targetOffset:Kn}},it=ee,Ze=l(15105),ot=l(88603),Xe=Ze.Z.ESC,et=Ze.Z.TAB;function pt(ut){var on=ut.visible,xn=ut.setTriggerVisible,cr=ut.triggerRef,mn=ut.onVisibleChange,Or=ut.autoFocus,ei=x.useRef(!1),Ni=function(){if(on&&cr.current){var Lo,Jo,Io,qo;(Lo=cr.current)===null||Lo===void 0||(Jo=Lo.triggerRef)===null||Jo===void 0||(Io=Jo.current)===null||Io===void 0||(qo=Io.focus)===null||qo===void 0||qo.call(Io),xn(!1),typeof mn=="function"&&mn(!1)}},ki=function(){var Lo,Jo,Io,qo,Vo=(0,ot.tS)((Lo=cr.current)===null||Lo===void 0||(Jo=Lo.popupRef)===null||Jo===void 0||(Io=Jo.current)===null||Io===void 0||(qo=Io.getElement)===null||qo===void 0?void 0:qo.call(Io)),jo=Vo[0];return jo!=null&&jo.focus?(jo.focus(),ei.current=!0,!0):!1},yo=function(Lo){switch(Lo.keyCode){case Xe:Ni();break;case et:{var Jo=!1;ei.current||(Jo=ki()),Jo?Lo.preventDefault():Ni();break}}};x.useEffect(function(){return on?(window.addEventListener("keydown",yo),Or&&(0,en.Z)(ki,3),function(){window.removeEventListener("keydown",yo),ei.current=!1}):function(){ei.current=!1}},[on])}var He=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function Et(ut,on){var xn=ut.arrow,cr=xn===void 0?!1:xn,mn=ut.prefixCls,Or=mn===void 0?"rc-dropdown":mn,ei=ut.transitionName,Ni=ut.animation,ki=ut.align,yo=ut.placement,Ro=yo===void 0?"bottomLeft":yo,Lo=ut.placements,Jo=Lo===void 0?it:Lo,Io=ut.getPopupContainer,qo=ut.showAction,Vo=ut.hideAction,jo=ut.overlayClassName,so=ut.overlayStyle,Si=ut.visible,pa=ut.trigger,xo=pa===void 0?["hover"]:pa,Pa=ut.autoFocus,Fo=(0,fe.Z)(ut,He),Sa=x.useState(),Bo=(0,Y.Z)(Sa,2),se=Bo[0],Ye=Bo[1],ft="visible"in ut?Si:se,Ct=x.useRef(null);x.useImperativeHandle(on,function(){return Ct.current}),pt({visible:ft,setTriggerVisible:Ye,triggerRef:Ct,onVisibleChange:ut.onVisibleChange,autoFocus:Pa});var nn=function(){var Ar=ut.overlay,mi;return typeof Ar=="function"?mi=Ar():mi=Ar,mi},yn=function(Ar){var mi=ut.onOverlayClick;Ye(!1),mi&&mi(Ar)},Vn=function(Ar){var mi=ut.onVisibleChange;Ye(Ar),typeof mi=="function"&&mi(Ar)},wr=function(){var Ar=nn();return x.createElement(x.Fragment,null,cr&&x.createElement("div",{className:"".concat(Or,"-arrow")}),Ar)},Nr=function(){var Ar=ut.overlay;return typeof Ar=="function"?wr:wr()},jr=function(){var Ar=ut.minOverlayWidthMatchTrigger,mi=ut.alignPoint;return"minOverlayWidthMatchTrigger"in ut?Ar:!mi},bi=function(){var Ar=ut.openClassName;return Ar!==void 0?Ar:"".concat(Or,"-open")},Hr=function(){var Ar=ut.children,mi=Ar.props?Ar.props:{},oi=K()(mi.className,bi());return ft&&Ar?x.cloneElement(Ar,{className:oi}):Ar},_r=Vo;return!_r&&xo.indexOf("contextMenu")!==-1&&(_r=["click"]),x.createElement(kn.Z,(0,g.Z)((0,g.Z)({builtinPlacements:Jo},Fo),{},{prefixCls:Or,ref:Ct,popupClassName:K()(jo,(0,v.Z)({},"".concat(Or,"-show-arrow"),cr)),popupStyle:so,action:xo,showAction:qo,hideAction:_r||[],popupPlacement:Ro,popupAlign:ki,popupTransitionName:ei,popupAnimation:Ni,popupVisible:ft,stretch:jr()?"minWidth":"",popup:Nr(),onPopupVisibleChange:Vn,onPopupClick:yn,getPopupContainer:Io}),Hr())}var Vt=x.forwardRef(Et),On=Vt,Wn=l(39983),pr=l(80334),Cr=l(73935),Sn=l(91881),Cn=x.createContext(null);function Fn(ut,on){return ut===void 0?null:"".concat(ut,"-").concat(on)}function Hn(ut){var on=x.useContext(Cn);return Fn(on,ut)}var sr=l(56982),ti=["children","locked"],Ir=x.createContext(null);function kr(ut,on){var xn=(0,g.Z)({},ut);return Object.keys(on).forEach(function(cr){var mn=on[cr];mn!==void 0&&(xn[cr]=mn)}),xn}function di(ut){var on=ut.children,xn=ut.locked,cr=(0,fe.Z)(ut,ti),mn=x.useContext(Ir),Or=(0,sr.Z)(function(){return kr(mn,cr)},[mn,cr],function(ei,Ni){return!xn&&(ei[0]!==Ni[0]||!(0,Sn.Z)(ei[1],Ni[1],!0))});return x.createElement(Ir.Provider,{value:Or},on)}var Yn=[],Bt=x.createContext(null);function kt(){return x.useContext(Bt)}var dn=x.createContext(Yn);function Ot(ut){var on=x.useContext(dn);return x.useMemo(function(){return ut!==void 0?[].concat((0,je.Z)(on),[ut]):on},[on,ut])}var ur=x.createContext(null),Mn=x.createContext({}),zr=Mn,jt=Ze.Z.LEFT,gn=Ze.Z.RIGHT,Ln=Ze.Z.UP,vt=Ze.Z.DOWN,Zt=Ze.Z.ENTER,or=Ze.Z.ESC,ir=Ze.Z.HOME,lr=Ze.Z.END,Pr=[Ln,vt,jt,gn];function $r(ut,on,xn,cr){var mn,Or,ei,Ni,ki="prev",yo="next",Ro="children",Lo="parent";if(ut==="inline"&&cr===Zt)return{inlineTrigger:!0};var Jo=(mn={},(0,v.Z)(mn,Ln,ki),(0,v.Z)(mn,vt,yo),mn),Io=(Or={},(0,v.Z)(Or,jt,xn?yo:ki),(0,v.Z)(Or,gn,xn?ki:yo),(0,v.Z)(Or,vt,Ro),(0,v.Z)(Or,Zt,Ro),Or),qo=(ei={},(0,v.Z)(ei,Ln,ki),(0,v.Z)(ei,vt,yo),(0,v.Z)(ei,Zt,Ro),(0,v.Z)(ei,or,Lo),(0,v.Z)(ei,jt,xn?Ro:Lo),(0,v.Z)(ei,gn,xn?Lo:Ro),ei),Vo={inline:Jo,horizontal:Io,vertical:qo,inlineSub:Jo,horizontalSub:qo,verticalSub:qo},jo=(Ni=Vo["".concat(ut).concat(on?"":"Sub")])===null||Ni===void 0?void 0:Ni[cr];switch(jo){case ki:return{offset:-1,sibling:!0};case yo:return{offset:1,sibling:!0};case Lo:return{offset:-1,sibling:!1};case Ro:return{offset:1,sibling:!1};default:return null}}function dr(ut){for(var on=ut;on;){if(on.getAttribute("data-menu-list"))return on;on=on.parentElement}return null}function ni(ut,on){for(var xn=ut||document.activeElement;xn;){if(on.has(xn))return xn;xn=xn.parentElement}return null}function un(ut,on){var xn=(0,ot.tS)(ut,!0);return xn.filter(function(cr){return on.has(cr)})}function ue(ut,on,xn){var cr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!ut)return null;var mn=un(ut,on),Or=mn.length,ei=mn.findIndex(function(Ni){return xn===Ni});return cr<0?ei===-1?ei=Or-1:ei-=1:cr>0&&(ei+=1),ei=(ei+Or)%Or,mn[ei]}function De(ut,on,xn,cr,mn,Or,ei,Ni,ki,yo){var Ro=x.useRef(),Lo=x.useRef();Lo.current=on;var Jo=function(){en.Z.cancel(Ro.current)};return x.useEffect(function(){return function(){Jo()}},[]),function(Io){var qo=Io.which;if([].concat(Pr,[Zt,or,ir,lr]).includes(qo)){var Vo,jo,so,Si=function(){Vo=new Set,jo=new Map,so=new Map;var Vn=Or();return Vn.forEach(function(wr){var Nr=document.querySelector("[data-menu-id='".concat(Fn(cr,wr),"']"));Nr&&(Vo.add(Nr),so.set(Nr,wr),jo.set(wr,Nr))}),Vo};Si();var pa=jo.get(on),xo=ni(pa,Vo),Pa=so.get(xo),Fo=$r(ut,ei(Pa,!0).length===1,xn,qo);if(!Fo&&qo!==ir&&qo!==lr)return;(Pr.includes(qo)||[ir,lr].includes(qo))&&Io.preventDefault();var Sa=function(Vn){if(Vn){var wr=Vn,Nr=Vn.querySelector("a");Nr!=null&&Nr.getAttribute("href")&&(wr=Nr);var jr=so.get(Vn);Ni(jr),Jo(),Ro.current=(0,en.Z)(function(){Lo.current===jr&&wr.focus()})}};if([ir,lr].includes(qo)||Fo.sibling||!xo){var Bo;!xo||ut==="inline"?Bo=mn.current:Bo=dr(xo);var se,Ye=un(Bo,Vo);qo===ir?se=Ye[0]:qo===lr?se=Ye[Ye.length-1]:se=ue(Bo,Vo,xo,Fo.offset),Sa(se)}else if(Fo.inlineTrigger)ki(Pa);else if(Fo.offset>0)ki(Pa,!0),Jo(),Ro.current=(0,en.Z)(function(){Si();var yn=xo.getAttribute("aria-controls"),Vn=document.getElementById(yn),wr=ue(Vn,Vo);Sa(wr)},5);else if(Fo.offset<0){var ft=ei(Pa,!0),Ct=ft[ft.length-2],nn=jo.get(Ct);ki(Ct,!1),Sa(nn)}}yo==null||yo(Io)}}function oe(ut){Promise.resolve().then(ut)}var R="__RC_UTIL_PATH_SPLIT__",N=function(on){return on.join(R)},G=function(on){return on.split(R)},ye="rc-menu-more";function Ie(){var ut=x.useState({}),on=(0,Y.Z)(ut,2),xn=on[1],cr=(0,x.useRef)(new Map),mn=(0,x.useRef)(new Map),Or=x.useState([]),ei=(0,Y.Z)(Or,2),Ni=ei[0],ki=ei[1],yo=(0,x.useRef)(0),Ro=(0,x.useRef)(!1),Lo=function(){Ro.current||xn({})},Jo=(0,x.useCallback)(function(pa,xo){var Pa=N(xo);mn.current.set(Pa,pa),cr.current.set(pa,Pa),yo.current+=1;var Fo=yo.current;oe(function(){Fo===yo.current&&Lo()})},[]),Io=(0,x.useCallback)(function(pa,xo){var Pa=N(xo);mn.current.delete(Pa),cr.current.delete(pa)},[]),qo=(0,x.useCallback)(function(pa){ki(pa)},[]),Vo=(0,x.useCallback)(function(pa,xo){var Pa=cr.current.get(pa)||"",Fo=G(Pa);return xo&&Ni.includes(Fo[0])&&Fo.unshift(ye),Fo},[Ni]),jo=(0,x.useCallback)(function(pa,xo){return pa.some(function(Pa){var Fo=Vo(Pa,!0);return Fo.includes(xo)})},[Vo]),so=function(){var xo=(0,je.Z)(cr.current.keys());return Ni.length&&xo.push(ye),xo},Si=(0,x.useCallback)(function(pa){var xo="".concat(cr.current.get(pa)).concat(R),Pa=new Set;return(0,je.Z)(mn.current.keys()).forEach(function(Fo){Fo.startsWith(xo)&&Pa.add(mn.current.get(Fo))}),Pa},[]);return x.useEffect(function(){return function(){Ro.current=!0}},[]),{registerPath:Jo,unregisterPath:Io,refreshOverflowKeys:qo,isSubPathKey:jo,getKeyPath:Vo,getKeys:so,getSubPathKeys:Si}}function ze(ut){var on=x.useRef(ut);on.current=ut;var xn=x.useCallback(function(){for(var cr,mn=arguments.length,Or=new Array(mn),ei=0;ei<mn;ei++)Or[ei]=arguments[ei];return(cr=on.current)===null||cr===void 0?void 0:cr.call.apply(cr,[on].concat(Or))},[]);return ut?xn:void 0}var Ce=Math.random().toFixed(5).toString().slice(2),ke=0;function rt(ut){var on=(0,ie.Z)(ut,{value:ut}),xn=(0,Y.Z)(on,2),cr=xn[0],mn=xn[1];return x.useEffect(function(){ke+=1;var Or="".concat(Ce,"-").concat(ke);mn("rc-menu-uuid-".concat(Or))},[]),cr}var Tt=l(15671),En=l(43144),Rn=l(32531),$n=l(29388),Xn=l(98423);function $t(ut,on,xn,cr){var mn=x.useContext(Ir),Or=mn.activeKey,ei=mn.onActive,Ni=mn.onInactive,ki={active:Or===ut};return on||(ki.onMouseEnter=function(yo){xn==null||xn({key:ut,domEvent:yo}),ei(ut)},ki.onMouseLeave=function(yo){cr==null||cr({key:ut,domEvent:yo}),Ni(ut)}),ki}function hn(ut){var on=x.useContext(Ir),xn=on.mode,cr=on.rtl,mn=on.inlineIndent;if(xn!=="inline")return null;var Or=ut;return cr?{paddingRight:Or*mn}:{paddingLeft:Or*mn}}function bn(ut){var on=ut.icon,xn=ut.props,cr=ut.children,mn;return typeof on=="function"?mn=x.createElement(on,(0,g.Z)({},xn)):mn=on,mn||cr||null}var br=["item"];function qn(ut){var on=ut.item,xn=(0,fe.Z)(ut,br);return Object.defineProperty(xn,"item",{get:function(){return(0,pr.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),on}}),xn}var Li=["title","attribute","elementRef"],$i=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Bi=["active"],co=function(ut){(0,Rn.Z)(xn,ut);var on=(0,$n.Z)(xn);function xn(){return(0,Tt.Z)(this,xn),on.apply(this,arguments)}return(0,En.Z)(xn,[{key:"render",value:function(){var mn=this.props,Or=mn.title,ei=mn.attribute,Ni=mn.elementRef,ki=(0,fe.Z)(mn,Li),yo=(0,Xn.Z)(ki,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,pr.ZP)(!ei,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),x.createElement(Wn.Z.Item,(0,d.Z)({},ei,{title:typeof Or=="string"?Or:void 0},yo,{ref:Ni}))}}]),xn}(x.Component),Do=x.forwardRef(function(ut,on){var xn,cr=ut.style,mn=ut.className,Or=ut.eventKey,ei=ut.warnKey,Ni=ut.disabled,ki=ut.itemIcon,yo=ut.children,Ro=ut.role,Lo=ut.onMouseEnter,Jo=ut.onMouseLeave,Io=ut.onClick,qo=ut.onKeyDown,Vo=ut.onFocus,jo=(0,fe.Z)(ut,$i),so=Hn(Or),Si=x.useContext(Ir),pa=Si.prefixCls,xo=Si.onItemClick,Pa=Si.disabled,Fo=Si.overflowDisabled,Sa=Si.itemIcon,Bo=Si.selectedKeys,se=Si.onActive,Ye=x.useContext(zr),ft=Ye._internalRenderMenuItem,Ct="".concat(pa,"-item"),nn=x.useRef(),yn=x.useRef(),Vn=Pa||Ni,wr=(0,vn.x1)(on,yn),Nr=Ot(Or),jr=function(an){return{key:Or,keyPath:(0,je.Z)(Nr).reverse(),item:nn.current,domEvent:an}},bi=ki||Sa,Hr=$t(Or,Vn,Lo,Jo),_r=Hr.active,Lr=(0,fe.Z)(Hr,Bi),Ar=Bo.includes(Or),mi=hn(Nr.length),oi=function(an){if(!Vn){var yr=jr(an);Io==null||Io(qn(yr)),xo(yr)}},Pt=function(an){if(qo==null||qo(an),an.which===Ze.Z.ENTER){var yr=jr(an);Io==null||Io(qn(yr)),xo(yr)}},cn=function(an){se(Or),Vo==null||Vo(an)},Qn={};ut.role==="option"&&(Qn["aria-selected"]=Ar);var _t=x.createElement(co,(0,d.Z)({ref:nn,elementRef:wr,role:Ro===null?"none":Ro||"menuitem",tabIndex:Ni?null:-1,"data-menu-id":Fo&&so?null:so},jo,Lr,Qn,{component:"li","aria-disabled":Ni,style:(0,g.Z)((0,g.Z)({},mi),cr),className:K()(Ct,(xn={},(0,v.Z)(xn,"".concat(Ct,"-active"),_r),(0,v.Z)(xn,"".concat(Ct,"-selected"),Ar),(0,v.Z)(xn,"".concat(Ct,"-disabled"),Vn),xn),mn),onClick:oi,onKeyDown:Pt,onFocus:cn}),yo,x.createElement(bn,{props:(0,g.Z)((0,g.Z)({},ut),{},{isSelected:Ar}),icon:bi}));return ft&&(_t=ft(_t,ut,{selected:Ar})),_t});function Wo(ut,on){var xn=ut.eventKey,cr=kt(),mn=Ot(xn);return x.useEffect(function(){if(cr)return cr.registerPath(xn,mn),function(){cr.unregisterPath(xn,mn)}},[mn]),cr?null:x.createElement(Do,(0,d.Z)({},ut,{ref:on}))}var hi=x.forwardRef(Wo),ua=["className","children"],ya=function(on,xn){var cr=on.className,mn=on.children,Or=(0,fe.Z)(on,ua),ei=x.useContext(Ir),Ni=ei.prefixCls,ki=ei.mode,yo=ei.rtl;return x.createElement("ul",(0,d.Z)({className:K()(Ni,yo&&"".concat(Ni,"-rtl"),"".concat(Ni,"-sub"),"".concat(Ni,"-").concat(ki==="inline"?"inline":"vertical"),cr),role:"menu"},Or,{"data-menu-list":!0,ref:xn}),mn)},fi=x.forwardRef(ya);fi.displayName="SubMenuList";var Pi=fi,Qi=l(50344),Zi=["label","children","key","type"];function Ta(ut,on){return(0,Qi.Z)(ut).map(function(xn,cr){if(x.isValidElement(xn)){var mn,Or,ei=xn.key,Ni=(mn=(Or=xn.props)===null||Or===void 0?void 0:Or.eventKey)!==null&&mn!==void 0?mn:ei,ki=Ni==null;ki&&(Ni="tmp_key-".concat([].concat((0,je.Z)(on),[cr]).join("-")));var yo={key:Ni,eventKey:Ni};return x.cloneElement(xn,yo)}return xn})}function uo(ut){return(ut||[]).map(function(on,xn){if(on&&(0,re.Z)(on)==="object"){var cr=on,mn=cr.label,Or=cr.children,ei=cr.key,Ni=cr.type,ki=(0,fe.Z)(cr,Zi),yo=ei!=null?ei:"tmp-".concat(xn);return Or||Ni==="group"?Ni==="group"?x.createElement(Fi,(0,d.Z)({key:yo},ki,{title:mn}),uo(Or)):x.createElement(zt,(0,d.Z)({key:yo},ki,{title:mn}),uo(Or)):Ni==="divider"?x.createElement(ha,(0,d.Z)({key:yo},ki)):x.createElement(hi,(0,d.Z)({key:yo},ki),mn)}return null}).filter(function(on){return on})}function xa(ut,on,xn){var cr=ut;return on&&(cr=uo(on)),Ta(cr,xn)}var Qo={adjustX:1,adjustY:1},ra={topLeft:{points:["bl","tl"],overflow:Qo,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Qo,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Qo,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Qo,offset:[4,0]}},To={topLeft:{points:["bl","tl"],overflow:Qo,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Qo,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Qo,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Qo,offset:[4,0]}},fa=null;function Ba(ut,on,xn){if(on)return on;if(xn)return xn[ut]||xn.other}var xt={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function sn(ut){var on=ut.prefixCls,xn=ut.visible,cr=ut.children,mn=ut.popup,Or=ut.popupClassName,ei=ut.popupOffset,Ni=ut.disabled,ki=ut.mode,yo=ut.onVisibleChange,Ro=x.useContext(Ir),Lo=Ro.getPopupContainer,Jo=Ro.rtl,Io=Ro.subMenuOpenDelay,qo=Ro.subMenuCloseDelay,Vo=Ro.builtinPlacements,jo=Ro.triggerSubMenuAction,so=Ro.forceSubMenuRender,Si=Ro.rootClassName,pa=Ro.motion,xo=Ro.defaultMotions,Pa=x.useState(!1),Fo=(0,Y.Z)(Pa,2),Sa=Fo[0],Bo=Fo[1],se=Jo?(0,g.Z)((0,g.Z)({},To),Vo):(0,g.Z)((0,g.Z)({},ra),Vo),Ye=xt[ki],ft=Ba(ki,pa,xo),Ct=x.useRef(ft);ki!=="inline"&&(Ct.current=ft);var nn=(0,g.Z)((0,g.Z)({},Ct.current),{},{leavedClassName:"".concat(on,"-hidden"),removeOnLeave:!1,motionAppear:!0}),yn=x.useRef();return x.useEffect(function(){return yn.current=(0,en.Z)(function(){Bo(xn)}),function(){en.Z.cancel(yn.current)}},[xn]),x.createElement(kn.Z,{prefixCls:on,popupClassName:K()("".concat(on,"-popup"),(0,v.Z)({},"".concat(on,"-rtl"),Jo),Or,Si),stretch:ki==="horizontal"?"minWidth":null,getPopupContainer:Lo,builtinPlacements:se,popupPlacement:Ye,popupVisible:Sa,popup:mn,popupAlign:ei&&{offset:ei},action:Ni?[]:[jo],mouseEnterDelay:Io,mouseLeaveDelay:qo,onPopupVisibleChange:yo,forceRender:so,popupMotion:nn},cr)}function Ht(ut){var on=ut.id,xn=ut.open,cr=ut.keyPath,mn=ut.children,Or="inline",ei=x.useContext(Ir),Ni=ei.prefixCls,ki=ei.forceSubMenuRender,yo=ei.motion,Ro=ei.defaultMotions,Lo=ei.mode,Jo=x.useRef(!1);Jo.current=Lo===Or;var Io=x.useState(!Jo.current),qo=(0,Y.Z)(Io,2),Vo=qo[0],jo=qo[1],so=Jo.current?xn:!1;x.useEffect(function(){Jo.current&&jo(!1)},[Lo]);var Si=(0,g.Z)({},Ba(Or,yo,Ro));cr.length>1&&(Si.motionAppear=!1);var pa=Si.onVisibleChanged;return Si.onVisibleChanged=function(xo){return!Jo.current&&!xo&&jo(!0),pa==null?void 0:pa(xo)},Vo?null:x.createElement(di,{mode:Or,locked:!Jo.current},x.createElement(ve.ZP,(0,d.Z)({visible:so},Si,{forceRender:ki,removeOnLeave:!1,leavedClassName:"".concat(Ni,"-hidden")}),function(xo){var Pa=xo.className,Fo=xo.style;return x.createElement(Pi,{id:on,className:Pa,style:Fo},mn)}))}var jn=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],xr=["active"],nr=function(on){var xn,cr=on.style,mn=on.className,Or=on.title,ei=on.eventKey,Ni=on.warnKey,ki=on.disabled,yo=on.internalPopupClose,Ro=on.children,Lo=on.itemIcon,Jo=on.expandIcon,Io=on.popupClassName,qo=on.popupOffset,Vo=on.onClick,jo=on.onMouseEnter,so=on.onMouseLeave,Si=on.onTitleClick,pa=on.onTitleMouseEnter,xo=on.onTitleMouseLeave,Pa=(0,fe.Z)(on,jn),Fo=Hn(ei),Sa=x.useContext(Ir),Bo=Sa.prefixCls,se=Sa.mode,Ye=Sa.openKeys,ft=Sa.disabled,Ct=Sa.overflowDisabled,nn=Sa.activeKey,yn=Sa.selectedKeys,Vn=Sa.itemIcon,wr=Sa.expandIcon,Nr=Sa.onItemClick,jr=Sa.onOpenChange,bi=Sa.onActive,Hr=x.useContext(zr),_r=Hr._internalRenderSubMenuItem,Lr=x.useContext(ur),Ar=Lr.isSubPathKey,mi=Ot(),oi="".concat(Bo,"-submenu"),Pt=ft||ki,cn=x.useRef(),Qn=x.useRef(),_t=Lo||Vn,Xt=Jo||wr,an=Ye.includes(ei),yr=!Ct&&an,Ur=Ar(yn,ei),ci=$t(ei,Pt,pa,xo),Yi=ci.active,ui=(0,fe.Z)(ci,xr),go=x.useState(!1),wo=(0,Y.Z)(go,2),ji=wo[0],ko=wo[1],os=function(zs){Pt||ko(zs)},La=function(zs){os(!0),jo==null||jo({key:ei,domEvent:zs})},Ua=function(zs){os(!1),so==null||so({key:ei,domEvent:zs})},cs=x.useMemo(function(){return Yi||(se!=="inline"?ji||Ar([nn],ei):!1)},[se,Yi,nn,ji,ei,Ar]),sa=hn(mi.length),Ka=function(zs){Pt||(Si==null||Si({key:ei,domEvent:zs}),se==="inline"&&jr(ei,!an))},Ks=ze(function(Va){Vo==null||Vo(qn(Va)),Nr(Va)}),qs=function(zs){se!=="inline"&&jr(ei,zs)},yl=function(){bi(ei)},Ds=Fo&&"".concat(Fo,"-popup"),tc=x.createElement("div",(0,d.Z)({role:"menuitem",style:sa,className:"".concat(oi,"-title"),tabIndex:Pt?null:-1,ref:cn,title:typeof Or=="string"?Or:null,"data-menu-id":Ct&&Fo?null:Fo,"aria-expanded":yr,"aria-haspopup":!0,"aria-controls":Ds,"aria-disabled":Pt,onClick:Ka,onFocus:yl},ui),Or,x.createElement(bn,{icon:se!=="horizontal"?Xt:null,props:(0,g.Z)((0,g.Z)({},on),{},{isOpen:yr,isSubMenu:!0})},x.createElement("i",{className:"".concat(oi,"-arrow")}))),Rl=x.useRef(se);if(se!=="inline"&&mi.length>1?Rl.current="vertical":Rl.current=se,!Ct){var Ca=Rl.current;tc=x.createElement(sn,{mode:Ca,prefixCls:oi,visible:!yo&&yr&&se!=="inline",popupClassName:Io,popupOffset:qo,popup:x.createElement(di,{mode:Ca==="horizontal"?"vertical":Ca},x.createElement(Pi,{id:Ds,ref:Qn},Ro)),disabled:Pt,onVisibleChange:qs},tc)}var us=x.createElement(Wn.Z.Item,(0,d.Z)({role:"none"},Pa,{component:"li",style:cr,className:K()(oi,"".concat(oi,"-").concat(se),mn,(xn={},(0,v.Z)(xn,"".concat(oi,"-open"),yr),(0,v.Z)(xn,"".concat(oi,"-active"),cs),(0,v.Z)(xn,"".concat(oi,"-selected"),Ur),(0,v.Z)(xn,"".concat(oi,"-disabled"),Pt),xn)),onMouseEnter:La,onMouseLeave:Ua}),tc,!Ct&&x.createElement(Ht,{id:Ds,open:yr,keyPath:mi},Ro));return _r&&(us=_r(us,on,{selected:Ur,active:cs,open:yr,disabled:Pt})),x.createElement(di,{onItemClick:Ks,mode:se==="horizontal"?"vertical":se,itemIcon:_t,expandIcon:Xt},us)};function zt(ut){var on=ut.eventKey,xn=ut.children,cr=Ot(on),mn=Ta(xn,cr),Or=kt();x.useEffect(function(){if(Or)return Or.registerPath(on,cr),function(){Or.unregisterPath(on,cr)}},[cr]);var ei;return Or?ei=mn:ei=x.createElement(nr,ut,mn),x.createElement(dn.Provider,{value:cr},ei)}var Qr=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],hr=[],gi=x.forwardRef(function(ut,on){var xn,cr,mn=ut,Or=mn.prefixCls,ei=Or===void 0?"rc-menu":Or,Ni=mn.rootClassName,ki=mn.style,yo=mn.className,Ro=mn.tabIndex,Lo=Ro===void 0?0:Ro,Jo=mn.items,Io=mn.children,qo=mn.direction,Vo=mn.id,jo=mn.mode,so=jo===void 0?"vertical":jo,Si=mn.inlineCollapsed,pa=mn.disabled,xo=mn.disabledOverflow,Pa=mn.subMenuOpenDelay,Fo=Pa===void 0?.1:Pa,Sa=mn.subMenuCloseDelay,Bo=Sa===void 0?.1:Sa,se=mn.forceSubMenuRender,Ye=mn.defaultOpenKeys,ft=mn.openKeys,Ct=mn.activeKey,nn=mn.defaultActiveFirst,yn=mn.selectable,Vn=yn===void 0?!0:yn,wr=mn.multiple,Nr=wr===void 0?!1:wr,jr=mn.defaultSelectedKeys,bi=mn.selectedKeys,Hr=mn.onSelect,_r=mn.onDeselect,Lr=mn.inlineIndent,Ar=Lr===void 0?24:Lr,mi=mn.motion,oi=mn.defaultMotions,Pt=mn.triggerSubMenuAction,cn=Pt===void 0?"hover":Pt,Qn=mn.builtinPlacements,_t=mn.itemIcon,Xt=mn.expandIcon,an=mn.overflowedIndicator,yr=an===void 0?"...":an,Ur=mn.overflowedIndicatorPopupClassName,ci=mn.getPopupContainer,Yi=mn.onClick,ui=mn.onOpenChange,go=mn.onKeyDown,wo=mn.openAnimation,ji=mn.openTransitionName,ko=mn._internalRenderMenuItem,os=mn._internalRenderSubMenuItem,La=(0,fe.Z)(mn,Qr),Ua=x.useMemo(function(){return xa(Io,Jo,hr)},[Io,Jo]),cs=x.useState(!1),sa=(0,Y.Z)(cs,2),Ka=sa[0],Ks=sa[1],qs=x.useRef(),yl=rt(Vo),Ds=qo==="rtl",tc=(0,ie.Z)(Ye,{value:ft,postState:function(Ws){return Ws||hr}}),Rl=(0,Y.Z)(tc,2),Ca=Rl[0],us=Rl[1],Va=function(Ws){var Ya=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Vl(){us(Ws),ui==null||ui(Ws)}Ya?(0,Cr.flushSync)(Vl):Vl()},zs=x.useState(Ca),Fa=(0,Y.Z)(zs,2),Ys=Fa[0],Us=Fa[1],_s=x.useRef(!1),Tl=x.useMemo(function(){return(so==="inline"||so==="vertical")&&Si?["vertical",Si]:[so,!1]},[so,Si]),Bl=(0,Y.Z)(Tl,2),Zl=Bl[0],Pc=Bl[1],zl=Zl==="inline",uc=x.useState(Zl),Uc=(0,Y.Z)(uc,2),nl=Uc[0],bc=Uc[1],kc=x.useState(Pc),ll=(0,Y.Z)(kc,2),fc=ll[0],bl=ll[1];x.useEffect(function(){bc(Zl),bl(Pc),_s.current&&(zl?us(Ys):Va(hr))},[Zl,Pc]);var Ha=x.useState(0),Ts=(0,Y.Z)(Ha,2),Yl=Ts[0],nc=Ts[1],Ol=Yl>=Ua.length-1||nl!=="horizontal"||xo;x.useEffect(function(){zl&&Us(Ca)},[Ca]),x.useEffect(function(){return _s.current=!0,function(){_s.current=!1}},[]);var Wl=Ie(),sc=Wl.registerPath,Cl=Wl.unregisterPath,cl=Wl.refreshOverflowKeys,bs=Wl.isSubPathKey,Ia=Wl.getKeyPath,ta=Wl.getKeys,Bs=Wl.getSubPathKeys,ts=x.useMemo(function(){return{registerPath:sc,unregisterPath:Cl}},[sc,Cl]),Cs=x.useMemo(function(){return{isSubPathKey:bs}},[bs]);x.useEffect(function(){cl(Ol?hr:Ua.slice(Yl+1).map(function(il){return il.key}))},[Yl,Ol]);var Ul=(0,ie.Z)(Ct||nn&&((xn=Ua[0])===null||xn===void 0?void 0:xn.key),{value:Ct}),Lc=(0,Y.Z)(Ul,2),rl=Lc[0],Du=Lc[1],Vc=ze(function(il){Du(il)}),dc=ze(function(){Du(void 0)});(0,x.useImperativeHandle)(on,function(){return{list:qs.current,focus:function(Ws){var Ya,Vl=rl!=null?rl:(Ya=Ua.find(function(yu){return!yu.props.disabled}))===null||Ya===void 0?void 0:Ya.key;if(Vl){var ds,Za,xl;(ds=qs.current)===null||ds===void 0||(Za=ds.querySelector("li[data-menu-id='".concat(Fn(yl,Vl),"']")))===null||Za===void 0||(xl=Za.focus)===null||xl===void 0||xl.call(Za,Ws)}}}});var ul=(0,ie.Z)(jr||[],{value:bi,postState:function(Ws){return Array.isArray(Ws)?Ws:Ws==null?hr:[Ws]}}),yt=(0,Y.Z)(ul,2),Ga=yt[0],fl=yt[1],ps=function(Ws){if(Vn){var Ya=Ws.key,Vl=Ga.includes(Ya),ds;Nr?Vl?ds=Ga.filter(function(xl){return xl!==Ya}):ds=[].concat((0,je.Z)(Ga),[Ya]):ds=[Ya],fl(ds);var Za=(0,g.Z)((0,g.Z)({},Ws),{},{selectedKeys:ds});Vl?_r==null||_r(Za):Hr==null||Hr(Za)}!Nr&&Ca.length&&nl!=="inline"&&Va(hr)},fs=ze(function(il){Yi==null||Yi(qn(il)),ps(il)}),Nu=ze(function(il,Ws){var Ya=Ca.filter(function(ds){return ds!==il});if(Ws)Ya.push(il);else if(nl!=="inline"){var Vl=Bs(il);Ya=Ya.filter(function(ds){return!Vl.has(ds)})}(0,Sn.Z)(Ca,Ya,!0)||Va(Ya,!0)}),qu=ze(ci),jc=function(Ws,Ya){var Vl=Ya!=null?Ya:!Ca.includes(Ws);Nu(Ws,Vl)},lc=De(nl,rl,Ds,yl,qs,ta,Ia,Du,jc,go);x.useEffect(function(){Ks(!0)},[]);var af=x.useMemo(function(){return{_internalRenderMenuItem:ko,_internalRenderSubMenuItem:os}},[ko,os]),Af=nl!=="horizontal"||xo?Ua:Ua.map(function(il,Ws){return x.createElement(di,{key:il.key,overflowDisabled:Ws>Yl},il)}),ju=x.createElement(Wn.Z,(0,d.Z)({id:Vo,ref:qs,prefixCls:"".concat(ei,"-overflow"),component:"ul",itemComponent:hi,className:K()(ei,"".concat(ei,"-root"),"".concat(ei,"-").concat(nl),yo,(cr={},(0,v.Z)(cr,"".concat(ei,"-inline-collapsed"),fc),(0,v.Z)(cr,"".concat(ei,"-rtl"),Ds),cr),Ni),dir:qo,style:ki,role:"menu",tabIndex:Lo,data:Af,renderRawItem:function(Ws){return Ws},renderRawRest:function(Ws){var Ya=Ws.length,Vl=Ya?Ua.slice(-Ya):null;return x.createElement(zt,{eventKey:ye,title:yr,disabled:Ol,internalPopupClose:Ya===0,popupClassName:Ur},Vl)},maxCount:nl!=="horizontal"||xo?Wn.Z.INVALIDATE:Wn.Z.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Ws){nc(Ws)},onKeyDown:lc},La));return x.createElement(zr.Provider,{value:af},x.createElement(Cn.Provider,{value:yl},x.createElement(di,{prefixCls:ei,rootClassName:Ni,mode:nl,openKeys:Ca,rtl:Ds,disabled:pa,motion:Ka?mi:null,defaultMotions:Ka?oi:null,activeKey:rl,onActive:Vc,onInactive:dc,selectedKeys:Ga,inlineIndent:Ar,subMenuOpenDelay:Fo,subMenuCloseDelay:Bo,forceSubMenuRender:se,builtinPlacements:Qn,triggerSubMenuAction:cn,getPopupContainer:qu,itemIcon:_t,expandIcon:Xt,onItemClick:fs,onOpenChange:Nu},x.createElement(ur.Provider,{value:Cs},ju),x.createElement("div",{style:{display:"none"},"aria-hidden":!0},x.createElement(Bt.Provider,{value:ts},Ua)))))}),mo=gi,No=["className","title","eventKey","children"],io=["children"],Ti=function(on){var xn=on.className,cr=on.title,mn=on.eventKey,Or=on.children,ei=(0,fe.Z)(on,No),Ni=x.useContext(Ir),ki=Ni.prefixCls,yo="".concat(ki,"-item-group");return x.createElement("li",(0,d.Z)({role:"presentation"},ei,{onClick:function(Lo){return Lo.stopPropagation()},className:K()(yo,xn)}),x.createElement("div",{role:"presentation",className:"".concat(yo,"-title"),title:typeof cr=="string"?cr:void 0},cr),x.createElement("ul",{role:"group",className:"".concat(yo,"-list")},Or))};function Fi(ut){var on=ut.children,xn=(0,fe.Z)(ut,io),cr=Ot(xn.eventKey),mn=Ta(on,cr),Or=kt();return Or?mn:x.createElement(Ti,(0,Xn.Z)(xn,["warnKey"]),mn)}function ha(ut){var on=ut.className,xn=ut.style,cr=x.useContext(Ir),mn=cr.prefixCls,Or=kt();return Or?null:x.createElement("li",{className:K()("".concat(mn,"-item-divider"),on),style:xn})}var Ea=mo;Ea.Item=hi,Ea.SubMenu=zt,Ea.ItemGroup=Fi,Ea.Divider=ha;var ea=Ea;function Ja(ut,on){var xn=ut.prefixCls,cr=ut.id,mn=ut.tabs,Or=ut.locale,ei=ut.mobile,Ni=ut.moreIcon,ki=Ni===void 0?"More":Ni,yo=ut.moreTransitionName,Ro=ut.style,Lo=ut.className,Jo=ut.editable,Io=ut.tabBarGutter,qo=ut.rtl,Vo=ut.removeAriaLabel,jo=ut.onTabClick,so=ut.getPopupContainer,Si=ut.popupClassName,pa=(0,x.useState)(!1),xo=(0,Y.Z)(pa,2),Pa=xo[0],Fo=xo[1],Sa=(0,x.useState)(null),Bo=(0,Y.Z)(Sa,2),se=Bo[0],Ye=Bo[1],ft="".concat(cr,"-more-popup"),Ct="".concat(xn,"-dropdown"),nn=se!==null?"".concat(ft,"-").concat(se):null,yn=Or==null?void 0:Or.dropdownAriaLabel;function Vn(Lr,Ar){Lr.preventDefault(),Lr.stopPropagation(),Jo.onEdit("remove",{key:Ar,event:Lr})}var wr=x.createElement(ea,{onClick:function(Ar){var mi=Ar.key,oi=Ar.domEvent;jo(mi,oi),Fo(!1)},prefixCls:"".concat(Ct,"-menu"),id:ft,tabIndex:-1,role:"listbox","aria-activedescendant":nn,selectedKeys:[se],"aria-label":yn!==void 0?yn:"expanded dropdown"},mn.map(function(Lr){var Ar=Jo&&Lr.closable!==!1&&!Lr.disabled;return x.createElement(hi,{key:Lr.key,id:"".concat(ft,"-").concat(Lr.key),role:"option","aria-controls":cr&&"".concat(cr,"-panel-").concat(Lr.key),disabled:Lr.disabled},x.createElement("span",null,Lr.label),Ar&&x.createElement("button",{type:"button","aria-label":Vo||"remove",tabIndex:0,className:"".concat(Ct,"-menu-item-remove"),onClick:function(oi){oi.stopPropagation(),Vn(oi,Lr.key)}},Lr.closeIcon||Jo.removeIcon||"\xD7"))}));function Nr(Lr){for(var Ar=mn.filter(function(Qn){return!Qn.disabled}),mi=Ar.findIndex(function(Qn){return Qn.key===se})||0,oi=Ar.length,Pt=0;Pt<oi;Pt+=1){mi=(mi+Lr+oi)%oi;var cn=Ar[mi];if(!cn.disabled){Ye(cn.key);return}}}function jr(Lr){var Ar=Lr.which;if(!Pa){[Ze.Z.DOWN,Ze.Z.SPACE,Ze.Z.ENTER].includes(Ar)&&(Fo(!0),Lr.preventDefault());return}switch(Ar){case Ze.Z.UP:Nr(-1),Lr.preventDefault();break;case Ze.Z.DOWN:Nr(1),Lr.preventDefault();break;case Ze.Z.ESC:Fo(!1);break;case Ze.Z.SPACE:case Ze.Z.ENTER:se!==null&&jo(se,Lr);break}}(0,x.useEffect)(function(){var Lr=document.getElementById(nn);Lr&&Lr.scrollIntoView&&Lr.scrollIntoView(!1)},[se]),(0,x.useEffect)(function(){Pa||Ye(null)},[Pa]);var bi=(0,v.Z)({},qo?"marginRight":"marginLeft",Io);mn.length||(bi.visibility="hidden",bi.order=1);var Hr=K()((0,v.Z)({},"".concat(Ct,"-rtl"),qo)),_r=ei?null:x.createElement(On,{prefixCls:Ct,overlay:wr,trigger:["hover"],visible:mn.length?Pa:!1,transitionName:yo,onVisibleChange:Fo,overlayClassName:K()(Hr,Si),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:so},x.createElement("button",{type:"button",className:"".concat(xn,"-nav-more"),style:bi,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":ft,id:"".concat(cr,"-more"),"aria-expanded":Pa,onKeyDown:jr},ki));return x.createElement("div",{className:K()("".concat(xn,"-nav-operations"),Lo),style:Ro,ref:on},_r,x.createElement(Ft,{prefixCls:xn,locale:Or,editable:Jo}))}var hs=x.memo(x.forwardRef(Ja),function(ut,on){return on.tabMoving});function Gs(ut){var on,xn=ut.prefixCls,cr=ut.id,mn=ut.active,Or=ut.tab,ei=Or.key,Ni=Or.label,ki=Or.disabled,yo=Or.closeIcon,Ro=ut.closable,Lo=ut.renderWrapper,Jo=ut.removeAriaLabel,Io=ut.editable,qo=ut.onClick,Vo=ut.onFocus,jo=ut.style,so="".concat(xn,"-tab"),Si=Io&&Ro!==!1&&!ki;function pa(Fo){ki||qo(Fo)}function xo(Fo){Fo.preventDefault(),Fo.stopPropagation(),Io.onEdit("remove",{key:ei,event:Fo})}var Pa=x.createElement("div",{key:ei,"data-node-key":Dt(ei),className:K()(so,(on={},(0,v.Z)(on,"".concat(so,"-with-remove"),Si),(0,v.Z)(on,"".concat(so,"-active"),mn),(0,v.Z)(on,"".concat(so,"-disabled"),ki),on)),style:jo,onClick:pa},x.createElement("div",{role:"tab","aria-selected":mn,id:cr&&"".concat(cr,"-tab-").concat(ei),className:"".concat(so,"-btn"),"aria-controls":cr&&"".concat(cr,"-panel-").concat(ei),"aria-disabled":ki,tabIndex:ki?null:0,onClick:function(Sa){Sa.stopPropagation(),pa(Sa)},onKeyDown:function(Sa){[Ze.Z.SPACE,Ze.Z.ENTER].includes(Sa.which)&&(Sa.preventDefault(),pa(Sa))},onFocus:Vo},Ni),Si&&x.createElement("button",{type:"button","aria-label":Jo||"remove",tabIndex:0,className:"".concat(so,"-remove"),onClick:function(Sa){Sa.stopPropagation(),xo(Sa)}},yo||Io.removeIcon||"\xD7"));return Lo?Lo(Pa):Pa}var Ki=Gs,Oa=function(on){var xn=on.current||{},cr=xn.offsetWidth,mn=cr===void 0?0:cr,Or=xn.offsetHeight,ei=Or===void 0?0:Or;return[mn,ei]},qa=function(on,xn){return on[xn?0:1]};function da(ut,on){var xn,cr=x.useContext(Oe),mn=cr.prefixCls,Or=cr.tabs,ei=ut.className,Ni=ut.style,ki=ut.id,yo=ut.animated,Ro=ut.activeKey,Lo=ut.rtl,Jo=ut.extra,Io=ut.editable,qo=ut.locale,Vo=ut.tabPosition,jo=ut.tabBarGutter,so=ut.children,Si=ut.onTabClick,pa=ut.onTabScroll,xo=(0,x.useRef)(),Pa=(0,x.useRef)(),Fo=(0,x.useRef)(),Sa=(0,x.useRef)(),Bo=(0,x.useRef)(),se=(0,x.useRef)(),Ye=(0,x.useRef)(),ft=Vo==="top"||Vo==="bottom",Ct=Ve(0,function(bs,Ia){ft&&pa&&pa({direction:bs>Ia?"left":"right"})}),nn=(0,Y.Z)(Ct,2),yn=nn[0],Vn=nn[1],wr=Ve(0,function(bs,Ia){!ft&&pa&&pa({direction:bs>Ia?"top":"bottom"})}),Nr=(0,Y.Z)(wr,2),jr=Nr[0],bi=Nr[1],Hr=(0,x.useState)([0,0]),_r=(0,Y.Z)(Hr,2),Lr=_r[0],Ar=_r[1],mi=(0,x.useState)([0,0]),oi=(0,Y.Z)(mi,2),Pt=oi[0],cn=oi[1],Qn=(0,x.useState)([0,0]),_t=(0,Y.Z)(Qn,2),Xt=_t[0],an=_t[1],yr=(0,x.useState)([0,0]),Ur=(0,Y.Z)(yr,2),ci=Ur[0],Yi=Ur[1],ui=Re(new Map),go=(0,Y.Z)(ui,2),wo=go[0],ji=go[1],ko=It(Or,wo,Pt[0]),os=qa(Lr,ft),La=qa(Pt,ft),Ua=qa(Xt,ft),cs=qa(ci,ft),sa=os<La+Ua,Ka=sa?os-cs:os-Ua,Ks="".concat(mn,"-nav-operations-hidden"),qs=0,yl=0;ft&&Lo?(qs=0,yl=Math.max(0,La-Ka)):(qs=Math.min(0,Ka-La),yl=0);function Ds(bs){return bs<qs?qs:bs>yl?yl:bs}var tc=(0,x.useRef)(),Rl=(0,x.useState)(),Ca=(0,Y.Z)(Rl,2),us=Ca[0],Va=Ca[1];function zs(){Va(Date.now())}function Fa(){window.clearTimeout(tc.current)}Ae(Sa,function(bs,Ia){function ta(Bs,ts){Bs(function(Cs){var Ul=Ds(Cs+ts);return Ul})}return sa?(ft?ta(Vn,bs):ta(bi,Ia),Fa(),zs(),!0):!1}),(0,x.useEffect)(function(){return Fa(),us&&(tc.current=window.setTimeout(function(){Va(0)},100)),Fa},[us]);var Ys=Wt(ko,Ka,ft?yn:jr,La,Ua,cs,(0,g.Z)((0,g.Z)({},ut),{},{tabs:Or})),Us=(0,Y.Z)(Ys,2),_s=Us[0],Tl=Us[1],Bl=(0,st.Z)(function(){var bs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ro,Ia=ko.get(bs)||{width:0,height:0,left:0,right:0,top:0};if(ft){var ta=yn;Lo?Ia.right<yn?ta=Ia.right:Ia.right+Ia.width>yn+Ka&&(ta=Ia.right+Ia.width-Ka):Ia.left<-yn?ta=-Ia.left:Ia.left+Ia.width>-yn+Ka&&(ta=-(Ia.left+Ia.width-Ka)),bi(0),Vn(Ds(ta))}else{var Bs=jr;Ia.top<-jr?Bs=-Ia.top:Ia.top+Ia.height>-jr+Ka&&(Bs=-(Ia.top+Ia.height-Ka)),Vn(0),bi(Ds(Bs))}}),Zl={};Vo==="top"||Vo==="bottom"?Zl[Lo?"marginRight":"marginLeft"]=jo:Zl.marginTop=jo;var Pc=Or.map(function(bs,Ia){var ta=bs.key;return x.createElement(Ki,{id:ki,prefixCls:mn,key:ta,tab:bs,style:Ia===0?void 0:Zl,closable:bs.closable,editable:Io,active:ta===Ro,renderWrapper:so,removeAriaLabel:qo==null?void 0:qo.removeAriaLabel,onClick:function(ts){Si(ta,ts)},onFocus:function(){Bl(ta),zs(),Sa.current&&(Lo||(Sa.current.scrollLeft=0),Sa.current.scrollTop=0)}})}),zl=function(){return ji(function(){var Ia=new Map;return Or.forEach(function(ta){var Bs,ts=ta.key,Cs=(Bs=Bo.current)===null||Bs===void 0?void 0:Bs.querySelector('[data-node-key="'.concat(Dt(ts),'"]'));Cs&&Ia.set(ts,{width:Cs.offsetWidth,height:Cs.offsetHeight,left:Cs.offsetLeft,top:Cs.offsetTop})}),Ia})};(0,x.useEffect)(function(){zl()},[Or.map(function(bs){return bs.key}).join("_")]);var uc=Ne(function(){var bs=Oa(xo),Ia=Oa(Pa),ta=Oa(Fo);Ar([bs[0]-Ia[0]-ta[0],bs[1]-Ia[1]-ta[1]]);var Bs=Oa(Ye);an(Bs);var ts=Oa(se);Yi(ts);var Cs=Oa(Bo);cn([Cs[0]-Bs[0],Cs[1]-Bs[1]]),zl()}),Uc=Or.slice(0,_s),nl=Or.slice(Tl+1),bc=[].concat((0,je.Z)(Uc),(0,je.Z)(nl)),kc=(0,x.useState)(),ll=(0,Y.Z)(kc,2),fc=ll[0],bl=ll[1],Ha=ko.get(Ro),Ts=(0,x.useRef)();function Yl(){en.Z.cancel(Ts.current)}(0,x.useEffect)(function(){var bs={};return Ha&&(ft?(Lo?bs.right=Ha.right:bs.left=Ha.left,bs.width=Ha.width):(bs.top=Ha.top,bs.height=Ha.height)),Yl(),Ts.current=(0,en.Z)(function(){bl(bs)}),Yl},[Ha,ft,Lo]),(0,x.useEffect)(function(){Bl()},[Ro,qs,yl,Yt(Ha),Yt(ko),ft]),(0,x.useEffect)(function(){uc()},[Lo]);var nc=!!bc.length,Ol="".concat(mn,"-nav-wrap"),Wl,sc,Cl,cl;return ft?Lo?(sc=yn>0,Wl=yn!==yl):(Wl=yn<0,sc=yn!==qs):(Cl=jr<0,cl=jr!==qs),x.createElement(he.Z,{onResize:uc},x.createElement("div",{ref:(0,vn.x1)(on,xo),role:"tablist",className:K()("".concat(mn,"-nav"),ei),style:Ni,onKeyDown:function(){zs()}},x.createElement(Nn,{ref:Pa,position:"left",extra:Jo,prefixCls:mn}),x.createElement("div",{className:K()(Ol,(xn={},(0,v.Z)(xn,"".concat(Ol,"-ping-left"),Wl),(0,v.Z)(xn,"".concat(Ol,"-ping-right"),sc),(0,v.Z)(xn,"".concat(Ol,"-ping-top"),Cl),(0,v.Z)(xn,"".concat(Ol,"-ping-bottom"),cl),xn)),ref:Sa},x.createElement(he.Z,{onResize:uc},x.createElement("div",{ref:Bo,className:"".concat(mn,"-nav-list"),style:{transform:"translate(".concat(yn,"px, ").concat(jr,"px)"),transition:us?"none":void 0}},Pc,x.createElement(Ft,{ref:Ye,prefixCls:mn,locale:qo,editable:Io,style:(0,g.Z)((0,g.Z)({},Pc.length===0?void 0:Zl),{},{visibility:nc?"hidden":null})}),x.createElement("div",{className:K()("".concat(mn,"-ink-bar"),(0,v.Z)({},"".concat(mn,"-ink-bar-animated"),yo.inkBar)),style:fc})))),x.createElement(hs,(0,d.Z)({},ut,{removeAriaLabel:qo==null?void 0:qo.removeAriaLabel,ref:se,prefixCls:mn,tabs:bc,className:!nc&&Ks,tabMoving:!!us})),x.createElement(Nn,{ref:Fo,position:"right",extra:Jo,prefixCls:mn})))}var Aa=x.forwardRef(da),Ps=["renderTabBar"],wa=["label","key"];function is(ut){var on=ut.renderTabBar,xn=(0,fe.Z)(ut,Ps),cr=x.useContext(Oe),mn=cr.tabs;if(on){var Or=(0,g.Z)((0,g.Z)({},xn),{},{panes:mn.map(function(ei){var Ni=ei.label,ki=ei.key,yo=(0,fe.Z)(ei,wa);return x.createElement(Pe,(0,d.Z)({tab:Ni,key:ki,tabKey:ki},yo))})});return on(Or,Aa)}return x.createElement(Aa,xn)}function Pl(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},on;return ut===!1?on={inkBar:!1,tabPane:!1}:ut===!0?on={inkBar:!0,tabPane:!1}:on=(0,g.Z)({inkBar:!0},(0,re.Z)(ut)==="object"?ut:{}),on.tabPaneMotion&&on.tabPane===void 0&&(on.tabPane=!0),!on.tabPaneMotion&&on.tabPane&&(on.tabPane=!1),on}var F=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],X=0;function ge(ut,on){var xn,cr=ut.id,mn=ut.prefixCls,Or=mn===void 0?"rc-tabs":mn,ei=ut.className,Ni=ut.items,ki=ut.direction,yo=ut.activeKey,Ro=ut.defaultActiveKey,Lo=ut.editable,Jo=ut.animated,Io=ut.tabPosition,qo=Io===void 0?"top":Io,Vo=ut.tabBarGutter,jo=ut.tabBarStyle,so=ut.tabBarExtraContent,Si=ut.locale,pa=ut.moreIcon,xo=ut.moreTransitionName,Pa=ut.destroyInactiveTabPane,Fo=ut.renderTabBar,Sa=ut.onChange,Bo=ut.onTabClick,se=ut.onTabScroll,Ye=ut.getPopupContainer,ft=ut.popupClassName,Ct=(0,fe.Z)(ut,F),nn=x.useMemo(function(){return(Ni||[]).filter(function(ui){return ui&&(0,re.Z)(ui)==="object"&&"key"in ui})},[Ni]),yn=ki==="rtl",Vn=Pl(Jo),wr=(0,x.useState)(!1),Nr=(0,Y.Z)(wr,2),jr=Nr[0],bi=Nr[1];(0,x.useEffect)(function(){bi((0,le.Z)())},[]);var Hr=(0,ie.Z)(function(){var ui;return(ui=nn[0])===null||ui===void 0?void 0:ui.key},{value:yo,defaultValue:Ro}),_r=(0,Y.Z)(Hr,2),Lr=_r[0],Ar=_r[1],mi=(0,x.useState)(function(){return nn.findIndex(function(ui){return ui.key===Lr})}),oi=(0,Y.Z)(mi,2),Pt=oi[0],cn=oi[1];(0,x.useEffect)(function(){var ui=nn.findIndex(function(wo){return wo.key===Lr});if(ui===-1){var go;ui=Math.max(0,Math.min(Pt,nn.length-1)),Ar((go=nn[ui])===null||go===void 0?void 0:go.key)}cn(ui)},[nn.map(function(ui){return ui.key}).join("_"),Lr,Pt]);var Qn=(0,ie.Z)(null,{value:cr}),_t=(0,Y.Z)(Qn,2),Xt=_t[0],an=_t[1];(0,x.useEffect)(function(){cr||(an("rc-tabs-".concat(X)),X+=1)},[]);function yr(ui,go){Bo==null||Bo(ui,go);var wo=ui!==Lr;Ar(ui),wo&&(Sa==null||Sa(ui))}var Ur={id:Xt,activeKey:Lr,animated:Vn,tabPosition:qo,rtl:yn,mobile:jr},ci,Yi=(0,g.Z)((0,g.Z)({},Ur),{},{editable:Lo,locale:Si,moreIcon:pa,moreTransitionName:xo,tabBarGutter:Vo,onTabClick:yr,onTabScroll:se,extra:so,style:jo,panes:null,getPopupContainer:Ye,popupClassName:ft});return x.createElement(Oe.Provider,{value:{tabs:nn,prefixCls:Or}},x.createElement("div",(0,d.Z)({ref:on,id:cr,className:K()(Or,"".concat(Or,"-").concat(qo),(xn={},(0,v.Z)(xn,"".concat(Or,"-mobile"),jr),(0,v.Z)(xn,"".concat(Or,"-editable"),Lo),(0,v.Z)(xn,"".concat(Or,"-rtl"),yn),xn),ei)},Ct),ci,x.createElement(is,(0,d.Z)({},Yi,{renderTabBar:Fo})),x.createElement(Be,(0,d.Z)({destroyInactiveTabPane:Pa},Ur,{animated:Vn}))))}var _e=x.forwardRef(ge),Je=_e,tt=Je,gt=l(53124),_n=l(97647),Dn=l(33603),Un={motionAppear:!1,motionEnter:!0,motionLeave:!0};function Mr(ut){var on=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},xn;return on===!1?xn={inkBar:!1,tabPane:!1}:on===!0?xn={inkBar:!0,tabPane:!0}:xn=(0,d.Z)({inkBar:!0},(0,re.Z)(on)==="object"?on:{}),xn.tabPane&&(xn.tabPaneMotion=(0,d.Z)((0,d.Z)({},Un),{motionName:(0,Dn.mL)(ut,"switch")})),xn}var Dr=function(ut,on){var xn={};for(var cr in ut)Object.prototype.hasOwnProperty.call(ut,cr)&&on.indexOf(cr)<0&&(xn[cr]=ut[cr]);if(ut!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mn=0,cr=Object.getOwnPropertySymbols(ut);mn<cr.length;mn++)on.indexOf(cr[mn])<0&&Object.prototype.propertyIsEnumerable.call(ut,cr[mn])&&(xn[cr[mn]]=ut[cr[mn]]);return xn};function fr(ut){return ut.filter(function(on){return on})}function Er(ut,on){if(ut)return ut;var xn=(0,Qi.Z)(on).map(function(cr){if(x.isValidElement(cr)){var mn=cr.key,Or=cr.props,ei=Or||{},Ni=ei.tab,ki=Dr(ei,["tab"]),yo=(0,d.Z)((0,d.Z)({key:String(mn)},ki),{label:Ni});return yo}return null});return fr(xn)}var ao=function(){return null},oo=ao,ba=function(ut,on){var xn={};for(var cr in ut)Object.prototype.hasOwnProperty.call(ut,cr)&&on.indexOf(cr)<0&&(xn[cr]=ut[cr]);if(ut!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mn=0,cr=Object.getOwnPropertySymbols(ut);mn<cr.length;mn++)on.indexOf(cr[mn])<0&&Object.prototype.propertyIsEnumerable.call(ut,cr[mn])&&(xn[cr[mn]]=ut[cr[mn]]);return xn};function es(ut){var on=ut.type,xn=ut.className,cr=ut.size,mn=ut.onEdit,Or=ut.hideAdd,ei=ut.centered,Ni=ut.addIcon,ki=ut.children,yo=ut.items,Ro=ut.animated,Lo=ba(ut,["type","className","size","onEdit","hideAdd","centered","addIcon","children","items","animated"]),Jo=Lo.prefixCls,Io=Lo.moreIcon,qo=Io===void 0?x.createElement(Z,null):Io,Vo=x.useContext(gt.E_),jo=Vo.getPrefixCls,so=Vo.direction,Si=Vo.getPopupContainer,pa=jo("tabs",Jo),xo;on==="editable-card"&&(xo={onEdit:function(se,Ye){var ft=Ye.key,Ct=Ye.event;mn==null||mn(se==="add"?Ct:ft,se)},removeIcon:x.createElement(m.Z,null),addIcon:Ni||x.createElement(Q,null),showAdd:Or!==!0});var Pa=jo(),Fo=Er(yo,ki),Sa=Mr(pa,Ro);return x.createElement(_n.Z.Consumer,null,function(Bo){var se=cr!==void 0?cr:Bo;return x.createElement(tt,(0,d.Z)({direction:so,getPopupContainer:Si,moreTransitionName:"".concat(Pa,"-slide-up")},Lo,{items:Fo,className:K()((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)({},"".concat(pa,"-").concat(se),se),"".concat(pa,"-card"),["card","editable-card"].includes(on)),"".concat(pa,"-editable-card"),on==="editable-card"),"".concat(pa,"-centered"),ei),xn),editable:xo,moreIcon:qo,prefixCls:pa,animated:Sa}))})}es.TabPane=oo;var Da=es},99558:function(j,M,l){"use strict";var v=l(43146)},42115:function(j,M){"use strict";var l={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};M.Z=l},87381:function(j,M,l){"use strict";l.d(M,{Z:function(){return It}});var v=l(4942),d=l(97685),m=l(87462),g=l(93967),x=l.n(g),A=l(71002),E=l(1413),w=l(91),k=l(67294),Z=l(81263),U={adjustX:1,adjustY:1},$=[0,0],te={left:{points:["cr","cl"],overflow:U,offset:[-4,0],targetOffset:$},right:{points:["cl","cr"],overflow:U,offset:[4,0],targetOffset:$},top:{points:["bc","tc"],overflow:U,offset:[0,-4],targetOffset:$},bottom:{points:["tc","bc"],overflow:U,offset:[0,4],targetOffset:$},topLeft:{points:["bl","tl"],overflow:U,offset:[0,-4],targetOffset:$},leftTop:{points:["tr","tl"],overflow:U,offset:[-4,0],targetOffset:$},topRight:{points:["br","tr"],overflow:U,offset:[0,-4],targetOffset:$},rightTop:{points:["tl","tr"],overflow:U,offset:[4,0],targetOffset:$},bottomRight:{points:["tr","br"],overflow:U,offset:[0,4],targetOffset:$},rightBottom:{points:["bl","br"],overflow:U,offset:[4,0],targetOffset:$},bottomLeft:{points:["tl","bl"],overflow:U,offset:[0,4],targetOffset:$},leftBottom:{points:["br","bl"],overflow:U,offset:[-4,0],targetOffset:$}},Q=null;function J(Ve){var Me=Ve.showArrow,Qe=Ve.arrowContent,bt=Ve.children,Ge=Ve.prefixCls,Ae=Ve.id,be=Ve.overlayInnerStyle,Ne=Ve.className,Re=Ve.style;return k.createElement("div",{className:x()("".concat(Ge,"-content"),Ne),style:Re},Me!==!1&&k.createElement("div",{className:"".concat(Ge,"-arrow"),key:"arrow"},Qe),k.createElement("div",{className:"".concat(Ge,"-inner"),id:Ae,role:"tooltip",style:be},typeof bt=="function"?bt():bt))}var K=function(Me,Qe){var bt=Me.overlayClassName,Ge=Me.trigger,Ae=Ge===void 0?["hover"]:Ge,be=Me.mouseEnterDelay,Ne=be===void 0?0:be,Re=Me.mouseLeaveDelay,ht=Re===void 0?.1:Re,Wt=Me.overlayStyle,Yt=Me.prefixCls,Lt=Yt===void 0?"rc-tooltip":Yt,Dt=Me.children,lt=Me.onVisibleChange,Ft=Me.afterVisibleChange,qt=Me.transitionName,Nn=Me.animation,kn=Me.motion,An=Me.placement,Kn=An===void 0?"right":An,ee=Me.align,it=ee===void 0?{}:ee,Ze=Me.destroyTooltipOnHide,ot=Ze===void 0?!1:Ze,Xe=Me.defaultVisible,et=Me.getTooltipContainer,pt=Me.overlayInnerStyle,He=Me.arrowContent,Et=Me.overlay,Vt=Me.id,On=Me.showArrow,Wn=(0,w.Z)(Me,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),pr=(0,k.useRef)(null);(0,k.useImperativeHandle)(Qe,function(){return pr.current});var Cr=(0,E.Z)({},Wn);"visible"in Me&&(Cr.popupVisible=Me.visible);var Sn=function(){return k.createElement(J,{showArrow:On,arrowContent:He,key:"content",prefixCls:Lt,id:Vt,overlayInnerStyle:pt},Et)},Cn=!1,Fn=!1;if(typeof ot=="boolean")Cn=ot;else if(ot&&(0,A.Z)(ot)==="object"){var Hn=ot.keepParent;Cn=Hn===!0,Fn=Hn===!1}return k.createElement(Z.Z,(0,m.Z)({popupClassName:bt,prefixCls:Lt,popup:Sn,action:Ae,builtinPlacements:te,popupPlacement:Kn,ref:pr,popupAlign:it,getPopupContainer:et,onPopupVisibleChange:lt,afterPopupVisibleChange:Ft,popupTransitionName:qt,popupAnimation:Nn,popupMotion:kn,defaultPopupVisible:Xe,destroyPopupOnHide:Cn,autoDestroy:Fn,mouseLeaveDelay:ht,popupStyle:Wt,mouseEnterDelay:Ne},Cr),Dt)},Y=(0,k.forwardRef)(K),re=Y,fe=l(21770),le=l(53124),ie=l(98787),ve=l(33603),Oe={adjustX:1,adjustY:1},L={adjustX:0,adjustY:0},Pe=[0,0];function pe(Ve){return typeof Ve=="boolean"?Ve?Oe:L:(0,m.Z)((0,m.Z)({},L),Ve)}function Be(Ve){var Me=Ve.arrowWidth,Qe=Me===void 0?4:Me,bt=Ve.horizontalArrowShift,Ge=bt===void 0?16:bt,Ae=Ve.verticalArrowShift,be=Ae===void 0?8:Ae,Ne=Ve.autoAdjustOverflow,Re=Ve.arrowPointAtCenter,ht={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(Ge+Qe),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(be+Qe)]},topRight:{points:["br","tc"],offset:[Ge+Qe,-4]},rightTop:{points:["tl","cr"],offset:[4,-(be+Qe)]},bottomRight:{points:["tr","bc"],offset:[Ge+Qe,4]},rightBottom:{points:["bl","cr"],offset:[4,be+Qe]},bottomLeft:{points:["tl","bc"],offset:[-(Ge+Qe),4]},leftBottom:{points:["br","cl"],offset:[-4,be+Qe]}};return Object.keys(ht).forEach(function(Wt){ht[Wt]=Re?(0,m.Z)((0,m.Z)({},ht[Wt]),{overflow:pe(Ne),targetOffset:Pe}):(0,m.Z)((0,m.Z)({},te[Wt]),{overflow:pe(Ne)}),ht[Wt].ignoreShake=!0}),ht}var je=l(96159),he=function(Ve,Me){var Qe={};for(var bt in Ve)Object.prototype.hasOwnProperty.call(Ve,bt)&&Me.indexOf(bt)<0&&(Qe[bt]=Ve[bt]);if(Ve!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ge=0,bt=Object.getOwnPropertySymbols(Ve);Ge<bt.length;Ge++)Me.indexOf(bt[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Ve,bt[Ge])&&(Qe[bt[Ge]]=Ve[bt[Ge]]);return Qe},st=function(Me,Qe){var bt={},Ge=(0,m.Z)({},Me);return Qe.forEach(function(Ae){Me&&Ae in Me&&(bt[Ae]=Me[Ae],delete Ge[Ae])}),{picked:bt,omitted:Ge}},en=new RegExp("^(".concat(ie.Y.join("|"),")(-inverse)?$"));function vn(Ve,Me){var Qe=Ve.type;if((Qe.__ANT_BUTTON===!0||Ve.type==="button")&&Ve.props.disabled||Qe.__ANT_SWITCH===!0&&(Ve.props.disabled||Ve.props.loading)||Qe.__ANT_RADIO===!0&&Ve.props.disabled){var bt=st(Ve.props.style,["position","left","right","top","bottom","float","display","zIndex"]),Ge=bt.picked,Ae=bt.omitted,be=(0,m.Z)((0,m.Z)({display:"inline-block"},Ge),{cursor:"not-allowed",width:Ve.props.block?"100%":void 0}),Ne=(0,m.Z)((0,m.Z)({},Ae),{pointerEvents:"none"}),Re=(0,je.Tm)(Ve,{style:Ne,className:null});return k.createElement("span",{style:be,className:x()(Ve.props.className,"".concat(Me,"-disabled-compatible-wrapper"))},Re)}return Ve}var Mt=k.forwardRef(function(Ve,Me){var Qe=k.useContext(le.E_),bt=Qe.getPopupContainer,Ge=Qe.getPrefixCls,Ae=Qe.direction,be=(0,fe.Z)(!1,{value:Ve.open!==void 0?Ve.open:Ve.visible,defaultValue:Ve.defaultOpen!==void 0?Ve.defaultOpen:Ve.defaultVisible}),Ne=(0,d.Z)(be,2),Re=Ne[0],ht=Ne[1],Wt=function(){var ti=Ve.title,Ir=Ve.overlay;return!ti&&!Ir&&ti!==0},Yt=function(ti){var Ir,kr;ht(Wt()?!1:ti),Wt()||((Ir=Ve.onOpenChange)===null||Ir===void 0||Ir.call(Ve,ti),(kr=Ve.onVisibleChange)===null||kr===void 0||kr.call(Ve,ti))},Lt=function(){var ti=Ve.builtinPlacements,Ir=Ve.arrowPointAtCenter,kr=Ir===void 0?!1:Ir,di=Ve.autoAdjustOverflow,Yn=di===void 0?!0:di;return ti||Be({arrowPointAtCenter:kr,autoAdjustOverflow:Yn})},Dt=function(ti,Ir){var kr=Lt(),di=Object.keys(kr).find(function(kt){var dn,Ot;return kr[kt].points[0]===((dn=Ir.points)===null||dn===void 0?void 0:dn[0])&&kr[kt].points[1]===((Ot=Ir.points)===null||Ot===void 0?void 0:Ot[1])});if(di){var Yn=ti.getBoundingClientRect(),Bt={top:"50%",left:"50%"};/top|Bottom/.test(di)?Bt.top="".concat(Yn.height-Ir.offset[1],"px"):/Top|bottom/.test(di)&&(Bt.top="".concat(-Ir.offset[1],"px")),/left|Right/.test(di)?Bt.left="".concat(Yn.width-Ir.offset[0],"px"):/right|Left/.test(di)&&(Bt.left="".concat(-Ir.offset[0],"px")),ti.style.transformOrigin="".concat(Bt.left," ").concat(Bt.top)}},lt=function(){var ti=Ve.title,Ir=Ve.overlay;return ti===0?ti:Ir||ti||""},Ft=Ve.getPopupContainer,qt=Ve.placement,Nn=qt===void 0?"top":qt,kn=Ve.mouseEnterDelay,An=kn===void 0?.1:kn,Kn=Ve.mouseLeaveDelay,ee=Kn===void 0?.1:Kn,it=he(Ve,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay"]),Ze=Ve.prefixCls,ot=Ve.openClassName,Xe=Ve.getTooltipContainer,et=Ve.overlayClassName,pt=Ve.color,He=Ve.overlayInnerStyle,Et=Ve.children,Vt=Ge("tooltip",Ze),On=Ge(),Wn=Re;!("open"in Ve)&&!("visible"in Ve)&&Wt()&&(Wn=!1);var pr=vn((0,je.l$)(Et)&&!(0,je.M2)(Et)?Et:k.createElement("span",null,Et),Vt),Cr=pr.props,Sn=!Cr.className||typeof Cr.className=="string"?x()(Cr.className,(0,v.Z)({},ot||"".concat(Vt,"-open"),!0)):Cr.className,Cn=x()(et,(0,v.Z)((0,v.Z)({},"".concat(Vt,"-rtl"),Ae==="rtl"),"".concat(Vt,"-").concat(pt),pt&&en.test(pt))),Fn=He,Hn={};return pt&&!en.test(pt)&&(Fn=(0,m.Z)((0,m.Z)({},He),{background:pt}),Hn={"--antd-arrow-background-color":pt}),k.createElement(re,(0,m.Z)({},it,{placement:Nn,mouseEnterDelay:An,mouseLeaveDelay:ee,prefixCls:Vt,overlayClassName:Cn,getTooltipContainer:Ft||Xe||bt,ref:Me,builtinPlacements:Lt(),overlay:lt(),visible:Wn,onVisibleChange:Yt,onPopupAlign:Dt,overlayInnerStyle:Fn,arrowContent:k.createElement("span",{className:"".concat(Vt,"-arrow-content"),style:Hn}),motion:{motionName:(0,ve.mL)(On,"zoom-big-fast",Ve.transitionName),motionDeadline:1e3}}),Wn?(0,je.Tm)(pr,{className:Sn}):pr)}),It=Mt},38390:function(j,M,l){"use strict";var v=l(43146)},59657:function(j,M,l){"use strict";l.d(M,{Z:function(){return ve}});var v=l(71002),d=l(1413),m=l(67294),g=l(41464),x=l(93771),A=function(L,Pe){return m.createElement(x.Z,(0,d.Z)((0,d.Z)({},L),{},{ref:Pe,icon:g.Z}))},E=m.forwardRef(A),w=E,k=l(41018),Z=l(19267),U=l(70478),$=function(L,Pe){return m.createElement(x.Z,(0,d.Z)((0,d.Z)({},L),{},{ref:Pe,icon:U.Z}))},te=m.forwardRef($),Q=te,J=l(43114),K=function(L,Pe){return m.createElement(x.Z,(0,d.Z)((0,d.Z)({},L),{},{ref:Pe,icon:J.Z}))},Y=m.forwardRef(K),re=Y,fe=l(93967),le=l.n(fe),ie=l(96159);function ve(Oe,L,Pe,pe){var Be=pe.isLeaf,je=pe.expanded,he=pe.loading;if(he)return m.createElement(Z.Z,{className:"".concat(Oe,"-switcher-loading-icon")});var st;if(Pe&&(0,v.Z)(Pe)==="object"&&(st=Pe.showLeafIcon),Be){if(!Pe)return null;if(typeof st!="boolean"&&st){var en=typeof st=="function"?st(pe):st,vn="".concat(Oe,"-switcher-line-custom-icon");return(0,ie.l$)(en)?(0,ie.Tm)(en,{className:le()(en.props.className||"",vn)}):en}return st?m.createElement(k.Z,{className:"".concat(Oe,"-switcher-line-icon")}):m.createElement("span",{className:"".concat(Oe,"-switcher-leaf-line")})}var Mt="".concat(Oe,"-switcher-icon"),It=typeof L=="function"?L(pe):L;return(0,ie.l$)(It)?(0,ie.Tm)(It,{className:le()(It.props.className||"",Mt)}):It||(Pe?je?m.createElement(Q,{className:"".concat(Oe,"-switcher-line-icon")}):m.createElement(re,{className:"".concat(Oe,"-switcher-line-icon")}):m.createElement(w,{className:Mt}))}},39814:function(j,M,l){"use strict";l.d(M,{Z:function(){return zr}});var v=l(87462),d=l(67294),m=l(4942),g=l(71002),x=l(97685),A=l(64894),E=l(1413),w=l(48820),k=l(93771),Z=function(gn,Ln){return d.createElement(k.Z,(0,E.Z)((0,E.Z)({},gn),{},{ref:Ln,icon:w.Z}))},U=d.forwardRef(Z),$=U,te=l(27363),Q=function(gn,Ln){return d.createElement(k.Z,(0,E.Z)((0,E.Z)({},gn),{},{ref:Ln,icon:te.Z}))},J=d.forwardRef(Q),K=J,Y=l(93967),re=l.n(Y),fe=l(20640),le=l.n(fe),ie=l(48555),ve=l(50344),Oe=l(8410),L=l(21770),Pe=l(98423),pe=l(42550),Be=l(53124),je=l(23715),he=l(15105),st=function(jt,gn){var Ln={};for(var vt in jt)Object.prototype.hasOwnProperty.call(jt,vt)&&gn.indexOf(vt)<0&&(Ln[vt]=jt[vt]);if(jt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zt=0,vt=Object.getOwnPropertySymbols(jt);Zt<vt.length;Zt++)gn.indexOf(vt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(jt,vt[Zt])&&(Ln[vt[Zt]]=jt[vt[Zt]]);return Ln},en={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},vn=d.forwardRef(function(jt,gn){var Ln=function(dr){var ni=dr.keyCode;ni===he.Z.ENTER&&dr.preventDefault()},vt=function(dr){var ni=dr.keyCode,un=jt.onClick;ni===he.Z.ENTER&&un&&un()},Zt=jt.style,or=jt.noStyle,ir=jt.disabled,lr=st(jt,["style","noStyle","disabled"]),Pr={};return or||(Pr=(0,v.Z)({},en)),ir&&(Pr.pointerEvents="none"),Pr=(0,v.Z)((0,v.Z)({},Pr),Zt),d.createElement("div",(0,v.Z)({role:"button",tabIndex:0,ref:gn},lr,{onKeyDown:Ln,onKeyUp:vt,style:Pr}))}),Mt=vn,It=l(98924),Ve=function(gn){if((0,It.Z)()&&window.document.documentElement){var Ln=Array.isArray(gn)?gn:[gn],vt=window.document.documentElement;return Ln.some(function(Zt){return Zt in vt.style})}return!1},Me=function(gn,Ln){if(!Ve(gn))return!1;var vt=document.createElement("div"),Zt=vt.style[gn];return vt.style[gn]=Ln,vt.style[gn]!==Zt};function Qe(jt,gn){return!Array.isArray(jt)&&gn!==void 0?Me(jt,gn):Ve(jt)}var bt=l(87381),Ge=l(63404),Ae=function(gn,Ln){return d.createElement(k.Z,(0,E.Z)((0,E.Z)({},gn),{},{ref:Ln,icon:Ge.Z}))},be=d.forwardRef(Ae),Ne=be,Re=l(56994),ht=l(96159),Wt=function(gn){var Ln=gn.prefixCls,vt=gn["aria-label"],Zt=gn.className,or=gn.style,ir=gn.direction,lr=gn.maxLength,Pr=gn.autoSize,$r=Pr===void 0?!0:Pr,dr=gn.value,ni=gn.onSave,un=gn.onCancel,ue=gn.onEnd,De=gn.component,oe=gn.enterIcon,R=oe===void 0?d.createElement(Ne,null):oe,N=d.useRef(null),G=d.useRef(!1),ye=d.useRef(),Ie=d.useState(dr),ze=(0,x.Z)(Ie,2),Ce=ze[0],ke=ze[1];d.useEffect(function(){ke(dr)},[dr]),d.useEffect(function(){if(N.current&&N.current.resizableTextArea){var br=N.current.resizableTextArea.textArea;br.focus();var qn=br.value.length;br.setSelectionRange(qn,qn)}},[]);var rt=function(qn){var Li=qn.target;ke(Li.value.replace(/[\n\r]/g,""))},Tt=function(){G.current=!0},En=function(){G.current=!1},Rn=function(qn){var Li=qn.keyCode;G.current||(ye.current=Li)},$n=function(){ni(Ce.trim())},Xn=function(qn){var Li=qn.keyCode,$i=qn.ctrlKey,Bi=qn.altKey,co=qn.metaKey,Do=qn.shiftKey;ye.current===Li&&!G.current&&!$i&&!Bi&&!co&&!Do&&(Li===he.Z.ENTER?($n(),ue==null||ue()):Li===he.Z.ESC&&un())},$t=function(){$n()},hn=De?"".concat(Ln,"-").concat(De):"",bn=re()(Ln,"".concat(Ln,"-edit-content"),(0,m.Z)({},"".concat(Ln,"-rtl"),ir==="rtl"),Zt,hn);return d.createElement("div",{className:bn,style:or},d.createElement(Re.Z,{ref:N,maxLength:lr,value:Ce,onChange:rt,onKeyDown:Rn,onKeyUp:Xn,onCompositionStart:Tt,onCompositionEnd:En,onBlur:$t,"aria-label":vt,rows:1,autoSize:$r}),R!==null?(0,ht.Tm)(R,{className:"".concat(Ln,"-edit-content-confirm")}):null)},Yt=Wt;function Lt(jt,gn){return d.useMemo(function(){var Ln=!!jt;return[Ln,(0,v.Z)((0,v.Z)({},gn),Ln&&(0,g.Z)(jt)==="object"?jt:null)]},[jt])}var Dt=function(gn,Ln){var vt=d.useRef(!1);d.useEffect(function(){vt.current?gn():vt.current=!0},Ln)},lt=Dt,Ft=function(jt,gn){var Ln={};for(var vt in jt)Object.prototype.hasOwnProperty.call(jt,vt)&&gn.indexOf(vt)<0&&(Ln[vt]=jt[vt]);if(jt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zt=0,vt=Object.getOwnPropertySymbols(jt);Zt<vt.length;Zt++)gn.indexOf(vt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(jt,vt[Zt])&&(Ln[vt[Zt]]=jt[vt[Zt]]);return Ln},qt=d.forwardRef(function(jt,gn){var Ln=jt.prefixCls,vt=jt.component,Zt=vt===void 0?"article":vt,or=jt.className,ir=jt.setContentRef,lr=jt.children,Pr=jt.direction,$r=Ft(jt,["prefixCls","component","className","setContentRef","children","direction"]),dr=d.useContext(Be.E_),ni=dr.getPrefixCls,un=dr.direction,ue=Pr!=null?Pr:un,De=gn;ir&&(De=(0,pe.sQ)(gn,ir));var oe=ni("typography",Ln),R=re()(oe,(0,m.Z)({},"".concat(oe,"-rtl"),ue==="rtl"),or);return d.createElement(Zt,(0,v.Z)({className:R,ref:De},$r),lr)}),Nn=qt;function kn(jt){var gn=(0,g.Z)(jt);return gn==="string"||gn==="number"}function An(jt){var gn=0;return jt.forEach(function(Ln){kn(Ln)?gn+=String(Ln).length:gn+=1}),gn}function Kn(jt,gn){for(var Ln=0,vt=[],Zt=0;Zt<jt.length;Zt+=1){if(Ln===gn)return vt;var or=jt[Zt],ir=kn(or),lr=ir?String(or).length:1,Pr=Ln+lr;if(Pr>gn){var $r=gn-Ln;return vt.push(String(or).slice(0,$r)),vt}vt.push(or),Ln=Pr}return jt}var ee=0,it=1,Ze=2,ot=3,Xe=4,et=function(gn){var Ln=gn.enabledMeasure,vt=gn.children,Zt=gn.text,or=gn.width,ir=gn.fontSize,lr=gn.rows,Pr=gn.onEllipsis,$r=d.useState([0,0,0]),dr=(0,x.Z)($r,2),ni=(0,x.Z)(dr[0],3),un=ni[0],ue=ni[1],De=ni[2],oe=dr[1],R=d.useState(ee),N=(0,x.Z)(R,2),G=N[0],ye=N[1],Ie=d.useState(0),ze=(0,x.Z)(Ie,2),Ce=ze[0],ke=ze[1],rt=d.useRef(null),Tt=d.useRef(null),En=d.useMemo(function(){return(0,ve.Z)(Zt)},[Zt]),Rn=d.useMemo(function(){return An(En)},[En]),$n=d.useMemo(function(){return!Ln||G!==ot?vt(En,!1):vt(Kn(En,ue),ue<Rn)},[Ln,G,vt,En,ue,Rn]);(0,Oe.Z)(function(){Ln&&or&&ir&&Rn&&(ye(it),oe([0,Math.ceil(Rn/2),Rn]))},[Ln,or,ir,Zt,Rn,lr]),(0,Oe.Z)(function(){var bn;G===it&&ke(((bn=rt.current)===null||bn===void 0?void 0:bn.offsetHeight)||0)},[G]),(0,Oe.Z)(function(){var bn,br;if(Ce){if(G===it){var qn=((bn=Tt.current)===null||bn===void 0?void 0:bn.offsetHeight)||0,Li=lr*Ce;qn<=Li?(ye(Xe),Pr(!1)):ye(Ze)}else if(G===Ze)if(un!==De){var $i=((br=Tt.current)===null||br===void 0?void 0:br.offsetHeight)||0,Bi=lr*Ce,co=un,Do=De;un===De-1?Do=un:$i<=Bi?co=ue:Do=ue;var Wo=Math.ceil((co+Do)/2);oe([co,Wo,Do])}else ye(ot),Pr(!0)}},[G,un,De,lr,Ce]);var Xn={width:or,whiteSpace:"normal",margin:0,padding:0},$t=function(br,qn,Li){return d.createElement("span",{"aria-hidden":!0,ref:qn,style:(0,v.Z)({position:"fixed",display:"block",left:0,top:0,zIndex:-9999,visibility:"hidden",pointerEvents:"none",fontSize:Math.floor(ir/2)*2},Li)},br)},hn=function(br,qn){var Li=Kn(En,br);return $t(vt(Li,!0),qn,Xn)};return d.createElement(d.Fragment,null,$n,Ln&&G!==ot&&G!==Xe&&d.createElement(d.Fragment,null,$t("lg",rt,{wordBreak:"keep-all",whiteSpace:"nowrap"}),G===it?$t(vt(En,!1),Tt,Xn):hn(ue,Tt)))},pt=et,He=function(gn){var Ln=gn.enabledEllipsis,vt=gn.isEllipsis,Zt=gn.children,or=gn.tooltipProps;return!(or!=null&&or.title)||!Ln?Zt:d.createElement(bt.Z,(0,v.Z)({open:vt?void 0:!1},or),Zt)},Et=He,Vt=function(jt,gn){var Ln={};for(var vt in jt)Object.prototype.hasOwnProperty.call(jt,vt)&&gn.indexOf(vt)<0&&(Ln[vt]=jt[vt]);if(jt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zt=0,vt=Object.getOwnPropertySymbols(jt);Zt<vt.length;Zt++)gn.indexOf(vt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(jt,vt[Zt])&&(Ln[vt[Zt]]=jt[vt[Zt]]);return Ln};function On(jt,gn){var Ln=jt.mark,vt=jt.code,Zt=jt.underline,or=jt.delete,ir=jt.strong,lr=jt.keyboard,Pr=jt.italic,$r=gn;function dr(ni,un){ni&&($r=d.createElement(un,{},$r))}return dr(ir,"strong"),dr(Zt,"u"),dr(or,"del"),dr(vt,"code"),dr(Ln,"mark"),dr(lr,"kbd"),dr(Pr,"i"),$r}function Wn(jt,gn,Ln){return jt===!0||jt===void 0?gn:jt||Ln&&gn}function pr(jt){return jt===!1?[!1,!1]:Array.isArray(jt)?jt:[jt]}var Cr="...",Sn=d.forwardRef(function(jt,gn){var Ln,vt,Zt,or=jt.prefixCls,ir=jt.className,lr=jt.style,Pr=jt.type,$r=jt.disabled,dr=jt.children,ni=jt.ellipsis,un=jt.editable,ue=jt.copyable,De=jt.component,oe=jt.title,R=Vt(jt,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),N=d.useContext(Be.E_),G=N.getPrefixCls,ye=N.direction,Ie=(0,je.E)("Text")[0],ze=d.useRef(null),Ce=d.useRef(null),ke=G("typography",or),rt=(0,Pe.Z)(R,["mark","code","delete","underline","strong","keyboard","italic"]),Tt=Lt(un),En=(0,x.Z)(Tt,2),Rn=En[0],$n=En[1],Xn=(0,L.Z)(!1,{value:$n.editing}),$t=(0,x.Z)(Xn,2),hn=$t[0],bn=$t[1],br=$n.triggerType,qn=br===void 0?["icon"]:br,Li=function(on){var xn;on&&((xn=$n.onStart)===null||xn===void 0||xn.call($n)),bn(on)};lt(function(){var ut;hn||(ut=Ce.current)===null||ut===void 0||ut.focus()},[hn]);var $i=function(on){on==null||on.preventDefault(),Li(!0)},Bi=function(on){var xn;(xn=$n.onChange)===null||xn===void 0||xn.call($n,on),Li(!1)},co=function(){var on;(on=$n.onCancel)===null||on===void 0||on.call($n),Li(!1)},Do=Lt(ue),Wo=(0,x.Z)(Do,2),hi=Wo[0],ua=Wo[1],ya=d.useState(!1),fi=(0,x.Z)(ya,2),Pi=fi[0],Qi=fi[1],Zi=d.useRef(),Ta={};ua.format&&(Ta.format=ua.format);var uo=function(){window.clearTimeout(Zi.current)},xa=function(on){var xn;on==null||on.preventDefault(),on==null||on.stopPropagation(),le()(ua.text||String(dr)||"",Ta),Qi(!0),uo(),Zi.current=window.setTimeout(function(){Qi(!1)},3e3),(xn=ua.onCopy)===null||xn===void 0||xn.call(ua,on)};d.useEffect(function(){return uo},[]);var Qo=d.useState(!1),ra=(0,x.Z)(Qo,2),To=ra[0],fa=ra[1],Ba=d.useState(!1),xt=(0,x.Z)(Ba,2),sn=xt[0],Ht=xt[1],jn=d.useState(!1),xr=(0,x.Z)(jn,2),nr=xr[0],zt=xr[1],Qr=d.useState(!1),hr=(0,x.Z)(Qr,2),gi=hr[0],mo=hr[1],No=d.useState(!1),io=(0,x.Z)(No,2),Ti=io[0],Fi=io[1],ha=d.useState(!0),Ea=(0,x.Z)(ha,2),ea=Ea[0],Ja=Ea[1],hs=Lt(ni,{expandable:!1}),Gs=(0,x.Z)(hs,2),Ki=Gs[0],Oa=Gs[1],qa=Ki&&!nr,da=Oa.rows,Aa=da===void 0?1:da,Ps=d.useMemo(function(){return!qa||Oa.suffix!==void 0||Oa.onEllipsis||Oa.expandable||Rn||hi},[qa,Oa,Rn,hi]);(0,Oe.Z)(function(){Ki&&!Ps&&(fa(Qe("webkitLineClamp")),Ht(Qe("textOverflow")))},[Ps,Ki]);var wa=d.useMemo(function(){return Ps?!1:Aa===1?sn:To},[Ps,sn,To]),is=qa&&(wa?Ti:gi),Pl=qa&&Aa===1&&wa,F=qa&&Aa>1&&wa,X=function(on){var xn;zt(!0),(xn=Oa.onExpand)===null||xn===void 0||xn.call(Oa,on)},ge=d.useState(0),_e=(0,x.Z)(ge,2),Je=_e[0],tt=_e[1],gt=d.useState(0),_n=(0,x.Z)(gt,2),Dn=_n[0],Un=_n[1],Mr=function(on,xn){var cr=on.offsetWidth,mn;tt(cr),Un(parseInt((mn=window.getComputedStyle)===null||mn===void 0?void 0:mn.call(window,xn).fontSize,10)||0)},Dr=function(on){var xn;mo(on),gi!==on&&((xn=Oa.onEllipsis)===null||xn===void 0||xn.call(Oa,on))};d.useEffect(function(){var ut=ze.current;if(Ki&&wa&&ut){var on=F?ut.offsetHeight<ut.scrollHeight:ut.offsetWidth<ut.scrollWidth;Ti!==on&&Fi(on)}},[Ki,wa,dr,F,ea]),d.useEffect(function(){var ut=ze.current;if(!(typeof IntersectionObserver=="undefined"||!ut||!wa||!qa)){var on=new IntersectionObserver(function(){Ja(!!ut.offsetParent)});return on.observe(ut),function(){on.disconnect()}}},[wa,qa]);var fr={};Oa.tooltip===!0?fr={title:(Ln=$n.text)!==null&&Ln!==void 0?Ln:dr}:d.isValidElement(Oa.tooltip)?fr={title:Oa.tooltip}:(0,g.Z)(Oa.tooltip)==="object"?fr=(0,v.Z)({title:(vt=$n.text)!==null&&vt!==void 0?vt:dr},Oa.tooltip):fr={title:Oa.tooltip};var Er=d.useMemo(function(){var ut=function(xn){return["string","number"].includes((0,g.Z)(xn))};if(!(!Ki||wa)){if(ut($n.text))return $n.text;if(ut(dr))return dr;if(ut(oe))return oe;if(ut(fr.title))return fr.title}},[Ki,wa,oe,fr.title,is]);if(hn)return d.createElement(Yt,{value:(Zt=$n.text)!==null&&Zt!==void 0?Zt:typeof dr=="string"?dr:"",onSave:Bi,onCancel:co,onEnd:$n.onEnd,prefixCls:ke,className:ir,style:lr,direction:ye,component:De,maxLength:$n.maxLength,autoSize:$n.autoSize,enterIcon:$n.enterIcon});var ao=function(){var on=Oa.expandable,xn=Oa.symbol;if(!on)return null;var cr;return xn?cr=xn:cr=Ie.expand,d.createElement("a",{key:"expand",className:"".concat(ke,"-expand"),onClick:X,"aria-label":Ie.expand},cr)},oo=function(){if(Rn){var on=$n.icon,xn=$n.tooltip,cr=(0,ve.Z)(xn)[0]||Ie.edit,mn=typeof cr=="string"?cr:"";return qn.includes("icon")?d.createElement(bt.Z,{key:"edit",title:xn===!1?"":cr},d.createElement(Mt,{ref:Ce,className:"".concat(ke,"-edit"),onClick:$i,"aria-label":mn},on||d.createElement(K,{role:"button"}))):null}},ba=function(){if(hi){var on=ua.tooltips,xn=ua.icon,cr=pr(on),mn=pr(xn),Or=Pi?Wn(cr[1],Ie.copied):Wn(cr[0],Ie.copy),ei=Pi?Ie.copied:Ie.copy,Ni=typeof Or=="string"?Or:ei;return d.createElement(bt.Z,{key:"copy",title:Or},d.createElement(Mt,{className:re()("".concat(ke,"-copy"),Pi&&"".concat(ke,"-copy-success")),onClick:xa,"aria-label":Ni},Pi?Wn(mn[1],d.createElement(A.Z,null),!0):Wn(mn[0],d.createElement($,null),!0)))}},es=function(on){return[on&&ao(),oo(),ba()]},Da=function(on){return[on&&d.createElement("span",{"aria-hidden":!0,key:"ellipsis"},Cr),Oa.suffix,es(on)]};return d.createElement(ie.Z,{onResize:Mr,disabled:!qa||wa},function(ut){return d.createElement(Et,{tooltipProps:fr,enabledEllipsis:qa,isEllipsis:is},d.createElement(Nn,(0,v.Z)({className:re()((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)({},"".concat(ke,"-").concat(Pr),Pr),"".concat(ke,"-disabled"),$r),"".concat(ke,"-ellipsis"),Ki),"".concat(ke,"-single-line"),qa&&Aa===1),"".concat(ke,"-ellipsis-single-line"),Pl),"".concat(ke,"-ellipsis-multiple-line"),F),ir),prefixCls:or,style:(0,v.Z)((0,v.Z)({},lr),{WebkitLineClamp:F?Aa:void 0}),component:De,ref:(0,pe.sQ)(ut,ze,gn),direction:ye,onClick:qn.includes("text")?$i:void 0,"aria-label":Er==null?void 0:Er.toString(),title:oe},rt),d.createElement(pt,{enabledMeasure:qa&&!wa,text:dr,rows:Aa,width:Je,fontSize:Dn,onEllipsis:Dr},function(on,xn){var cr=on;on.length&&xn&&Er&&(cr=d.createElement("span",{key:"show-content","aria-hidden":!0},cr));var mn=On(jt,d.createElement(d.Fragment,null,cr,Da(xn)));return mn})))})}),Cn=Sn,Fn=function(jt,gn){var Ln={};for(var vt in jt)Object.prototype.hasOwnProperty.call(jt,vt)&&gn.indexOf(vt)<0&&(Ln[vt]=jt[vt]);if(jt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zt=0,vt=Object.getOwnPropertySymbols(jt);Zt<vt.length;Zt++)gn.indexOf(vt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(jt,vt[Zt])&&(Ln[vt[Zt]]=jt[vt[Zt]]);return Ln},Hn=d.forwardRef(function(jt,gn){var Ln=jt.ellipsis,vt=jt.rel,Zt=Fn(jt,["ellipsis","rel"]),or=(0,v.Z)((0,v.Z)({},Zt),{rel:vt===void 0&&Zt.target==="_blank"?"noopener noreferrer":vt});return delete or.navigate,d.createElement(Cn,(0,v.Z)({},or,{ref:gn,ellipsis:!!Ln,component:"a"}))}),sr=Hn,ti=d.forwardRef(function(jt,gn){return d.createElement(Cn,(0,v.Z)({ref:gn},jt,{component:"div"}))}),Ir=ti,kr=function(jt,gn){var Ln={};for(var vt in jt)Object.prototype.hasOwnProperty.call(jt,vt)&&gn.indexOf(vt)<0&&(Ln[vt]=jt[vt]);if(jt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zt=0,vt=Object.getOwnPropertySymbols(jt);Zt<vt.length;Zt++)gn.indexOf(vt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(jt,vt[Zt])&&(Ln[vt[Zt]]=jt[vt[Zt]]);return Ln},di=function(gn,Ln){var vt=gn.ellipsis,Zt=kr(gn,["ellipsis"]),or=d.useMemo(function(){return vt&&(0,g.Z)(vt)==="object"?(0,Pe.Z)(vt,["expandable","rows"]):vt},[vt]);return d.createElement(Cn,(0,v.Z)({ref:Ln},Zt,{ellipsis:or,component:"span"}))},Yn=d.forwardRef(di),Bt=l(93355),kt=function(jt,gn){var Ln={};for(var vt in jt)Object.prototype.hasOwnProperty.call(jt,vt)&&gn.indexOf(vt)<0&&(Ln[vt]=jt[vt]);if(jt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zt=0,vt=Object.getOwnPropertySymbols(jt);Zt<vt.length;Zt++)gn.indexOf(vt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(jt,vt[Zt])&&(Ln[vt[Zt]]=jt[vt[Zt]]);return Ln},dn=(0,Bt.a)(1,2,3,4,5),Ot=d.forwardRef(function(jt,gn){var Ln=jt.level,vt=Ln===void 0?1:Ln,Zt=kt(jt,["level"]),or;return dn.includes(vt)?or="h".concat(vt):or="h1",d.createElement(Cn,(0,v.Z)({ref:gn},Zt,{component:or}))}),ur=Ot,Mn=Nn;Mn.Text=Yn,Mn.Link=sr,Mn.Title=ur,Mn.Paragraph=Ir;var zr=Mn},59988:function(j,M,l){"use strict";var v=l(43146),d=l(69463),m=l(38390)},93771:function(j,M,l){"use strict";l.d(M,{Z:function(){return It}});var v=l(1413),d=l(97685),m=l(4942),g=l(91),x=l(67294),A=l(93967),E=l.n(A),w=l(54775),k=l(71002),Z=l(92138),U=l(80334),$=l(44958),te=l(68929),Q=l.n(te);function J(Ve,Me){(0,U.ZP)(Ve,"[@ant-design/icons] ".concat(Me))}function K(Ve){return(0,k.Z)(Ve)==="object"&&typeof Ve.name=="string"&&typeof Ve.theme=="string"&&((0,k.Z)(Ve.icon)==="object"||typeof Ve.icon=="function")}function Y(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(Ve).reduce(function(Me,Qe){var bt=Ve[Qe];switch(Qe){case"class":Me.className=bt,delete Me.class;break;default:delete Me[Qe],Me[Q()(Qe)]=bt}return Me},{})}function re(Ve,Me,Qe){return Qe?x.createElement(Ve.tag,(0,v.Z)((0,v.Z)({key:Me},Y(Ve.attrs)),Qe),(Ve.children||[]).map(function(bt,Ge){return re(bt,"".concat(Me,"-").concat(Ve.tag,"-").concat(Ge))})):x.createElement(Ve.tag,(0,v.Z)({key:Me},Y(Ve.attrs)),(Ve.children||[]).map(function(bt,Ge){return re(bt,"".concat(Me,"-").concat(Ve.tag,"-").concat(Ge))}))}function fe(Ve){return(0,Z.R_)(Ve)[0]}function le(Ve){return Ve?Array.isArray(Ve)?Ve:[Ve]:[]}var ie={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},ve=`
.anticon {
  display: inline-flex;
  alignItems: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Oe=function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ve,Qe=(0,x.useContext)(w.Z),bt=Qe.csp;(0,x.useEffect)(function(){(0,$.hq)(Me,"@ant-design-icons",{prepend:!0,csp:bt})},[])},L=["icon","className","onClick","style","primaryColor","secondaryColor"],Pe={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function pe(Ve){var Me=Ve.primaryColor,Qe=Ve.secondaryColor;Pe.primaryColor=Me,Pe.secondaryColor=Qe||fe(Me),Pe.calculated=!!Qe}function Be(){return(0,v.Z)({},Pe)}var je=function(Me){var Qe=Me.icon,bt=Me.className,Ge=Me.onClick,Ae=Me.style,be=Me.primaryColor,Ne=Me.secondaryColor,Re=(0,g.Z)(Me,L),ht=Pe;if(be&&(ht={primaryColor:be,secondaryColor:Ne||fe(be)}),Oe(),J(K(Qe),"icon should be icon definiton, but got ".concat(Qe)),!K(Qe))return null;var Wt=Qe;return Wt&&typeof Wt.icon=="function"&&(Wt=(0,v.Z)((0,v.Z)({},Wt),{},{icon:Wt.icon(ht.primaryColor,ht.secondaryColor)})),re(Wt.icon,"svg-".concat(Wt.name),(0,v.Z)({className:bt,onClick:Ge,style:Ae,"data-icon":Wt.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},Re))};je.displayName="IconReact",je.getTwoToneColors=Be,je.setTwoToneColors=pe;var he=je;function st(Ve){var Me=le(Ve),Qe=(0,d.Z)(Me,2),bt=Qe[0],Ge=Qe[1];return he.setTwoToneColors({primaryColor:bt,secondaryColor:Ge})}function en(){var Ve=he.getTwoToneColors();return Ve.calculated?[Ve.primaryColor,Ve.secondaryColor]:Ve.primaryColor}var vn=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];st("#1890ff");var Mt=x.forwardRef(function(Ve,Me){var Qe=Ve.className,bt=Ve.icon,Ge=Ve.spin,Ae=Ve.rotate,be=Ve.tabIndex,Ne=Ve.onClick,Re=Ve.twoToneColor,ht=(0,g.Z)(Ve,vn),Wt=x.useContext(w.Z),Yt=Wt.prefixCls,Lt=Yt===void 0?"anticon":Yt,Dt=Wt.rootClassName,lt=E()(Dt,Lt,(0,m.Z)((0,m.Z)({},"".concat(Lt,"-").concat(bt.name),!!bt.name),"".concat(Lt,"-spin"),!!Ge||bt.name==="loading"),Qe),Ft=be;Ft===void 0&&Ne&&(Ft=-1);var qt=Ae?{msTransform:"rotate(".concat(Ae,"deg)"),transform:"rotate(".concat(Ae,"deg)")}:void 0,Nn=le(Re),kn=(0,d.Z)(Nn,2),An=kn[0],Kn=kn[1];return x.createElement("span",(0,v.Z)((0,v.Z)({role:"img","aria-label":bt.name},ht),{},{ref:Me,tabIndex:Ft,onClick:Ne,className:lt}),x.createElement(he,{icon:bt,primaryColor:An,secondaryColor:Kn,style:qt}))});Mt.displayName="AntdIcon",Mt.getTwoToneColor=en,Mt.setTwoToneColor=st;var It=Mt},54775:function(j,M,l){"use strict";var v=l(67294),d=(0,v.createContext)({});M.Z=d},19735:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(72961),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},53922:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(47612),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},64894:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(32857),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},17012:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(1085),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},41439:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(51213),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},62208:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(89503),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},13622:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(66023),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},29950:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(83707),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},31581:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(61144),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},1208:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(5717),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},41018:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(75573),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},17260:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(93696),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},19267:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(15294),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},62994:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(50756),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},25783:function(j,M,l){"use strict";var v=l(1413),d=l(67294),m=l(509),g=l(93771),x=function(w,k){return d.createElement(g.Z,(0,v.Z)((0,v.Z)({},w),{},{ref:k,icon:m.Z}))},A=d.forwardRef(x);M.Z=A},78511:function(j,M,l){"use strict";l.d(M,{gN:function(){return kn},zb:function(){return le},RV:function(){return Wn},aV:function(){return Kn},ZM:function(){return ve},ZP:function(){return di},cI:function(){return Vt},qo:function(){return ti}});var v=l(67294),d=l(87462),m=l(91),g=l(74165),x=l(15861),A=l(1413),E=l(74902),w=l(15671),k=l(43144),Z=l(97326),U=l(32531),$=l(29388),te=l(4942),Q=l(50344),J=l(91881),K=l(80334),Y="RC_FORM_INTERNAL_HOOKS",re=function(){(0,K.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},fe=v.createContext({getFieldValue:re,getFieldsValue:re,getFieldError:re,getFieldWarning:re,getFieldsError:re,isFieldsTouched:re,isFieldTouched:re,isFieldValidating:re,isFieldsValidating:re,resetFields:re,setFields:re,setFieldValue:re,setFieldsValue:re,validateFields:re,submit:re,getInternalHooks:function(){return re(),{dispatch:re,initEntityValue:re,registerField:re,useSubscribe:re,setInitialValues:re,destroyForm:re,setCallbacks:re,registerWatch:re,getFields:re,setValidateMessages:re,setPreserve:re,getInitialValue:re}}}),le=fe,ie=v.createContext(null),ve=ie;function Oe(Yn){return Yn==null?[]:Array.isArray(Yn)?Yn:[Yn]}function L(Yn){return Yn&&!!Yn._init}var Pe=l(25715),pe="'${name}' is not a valid ${type}",Be={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:pe,method:pe,array:pe,object:pe,number:pe,date:pe,boolean:pe,integer:pe,float:pe,regexp:pe,email:pe,url:pe,hex:pe},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},je=l(8880),he=Pe.Z;function st(Yn,Bt){return Yn.replace(/\$\{\w+\}/g,function(kt){var dn=kt.slice(2,-1);return Bt[dn]})}var en="CODE_LOGIC_ERROR";function vn(Yn,Bt,kt,dn,Ot){return Mt.apply(this,arguments)}function Mt(){return Mt=(0,x.Z)((0,g.Z)().mark(function Yn(Bt,kt,dn,Ot,ur){var Mn,zr,jt,gn,Ln,vt,Zt,or,ir;return(0,g.Z)().wrap(function(Pr){for(;;)switch(Pr.prev=Pr.next){case 0:return Mn=(0,A.Z)({},dn),delete Mn.ruleIndex,he.warning=function(){},Mn.validator&&(zr=Mn.validator,Mn.validator=function(){try{return zr.apply(void 0,arguments)}catch($r){return console.error($r),Promise.reject(en)}}),jt=null,Mn&&Mn.type==="array"&&Mn.defaultField&&(jt=Mn.defaultField,delete Mn.defaultField),gn=new he((0,te.Z)({},Bt,[Mn])),Ln=(0,je.T)(Be,Ot.validateMessages),gn.messages(Ln),vt=[],Pr.prev=10,Pr.next=13,Promise.resolve(gn.validate((0,te.Z)({},Bt,kt),(0,A.Z)({},Ot)));case 13:Pr.next=18;break;case 15:Pr.prev=15,Pr.t0=Pr.catch(10),Pr.t0.errors&&(vt=Pr.t0.errors.map(function($r,dr){var ni=$r.message,un=ni===en?Ln.default:ni;return v.isValidElement(un)?v.cloneElement(un,{key:"error_".concat(dr)}):un}));case 18:if(!(!vt.length&&jt)){Pr.next=23;break}return Pr.next=21,Promise.all(kt.map(function($r,dr){return vn("".concat(Bt,".").concat(dr),$r,jt,Ot,ur)}));case 21:return Zt=Pr.sent,Pr.abrupt("return",Zt.reduce(function($r,dr){return[].concat((0,E.Z)($r),(0,E.Z)(dr))},[]));case 23:return or=(0,A.Z)((0,A.Z)({},dn),{},{name:Bt,enum:(dn.enum||[]).join(", ")},ur),ir=vt.map(function($r){return typeof $r=="string"?st($r,or):$r}),Pr.abrupt("return",ir);case 26:case"end":return Pr.stop()}},Yn,null,[[10,15]])})),Mt.apply(this,arguments)}function It(Yn,Bt,kt,dn,Ot,ur){var Mn=Yn.join("."),zr=kt.map(function(Ln,vt){var Zt=Ln.validator,or=(0,A.Z)((0,A.Z)({},Ln),{},{ruleIndex:vt});return Zt&&(or.validator=function(ir,lr,Pr){var $r=!1,dr=function(){for(var ue=arguments.length,De=new Array(ue),oe=0;oe<ue;oe++)De[oe]=arguments[oe];Promise.resolve().then(function(){(0,K.ZP)(!$r,"Your validator function has already return a promise. `callback` will be ignored."),$r||Pr.apply(void 0,De)})},ni=Zt(ir,lr,dr);$r=ni&&typeof ni.then=="function"&&typeof ni.catch=="function",(0,K.ZP)($r,"`callback` is deprecated. Please return a promise instead."),$r&&ni.then(function(){Pr()}).catch(function(un){Pr(un||" ")})}),or}).sort(function(Ln,vt){var Zt=Ln.warningOnly,or=Ln.ruleIndex,ir=vt.warningOnly,lr=vt.ruleIndex;return!!Zt==!!ir?or-lr:Zt?1:-1}),jt;if(Ot===!0)jt=new Promise(function(){var Ln=(0,x.Z)((0,g.Z)().mark(function vt(Zt,or){var ir,lr,Pr;return(0,g.Z)().wrap(function(dr){for(;;)switch(dr.prev=dr.next){case 0:ir=0;case 1:if(!(ir<zr.length)){dr.next=12;break}return lr=zr[ir],dr.next=5,vn(Mn,Bt,lr,dn,ur);case 5:if(Pr=dr.sent,!Pr.length){dr.next=9;break}return or([{errors:Pr,rule:lr}]),dr.abrupt("return");case 9:ir+=1,dr.next=1;break;case 12:Zt([]);case 13:case"end":return dr.stop()}},vt)}));return function(vt,Zt){return Ln.apply(this,arguments)}}());else{var gn=zr.map(function(Ln){return vn(Mn,Bt,Ln,dn,ur).then(function(vt){return{errors:vt,rule:Ln}})});jt=(Ot?Qe(gn):Ve(gn)).then(function(Ln){return Promise.reject(Ln)})}return jt.catch(function(Ln){return Ln}),jt}function Ve(Yn){return Me.apply(this,arguments)}function Me(){return Me=(0,x.Z)((0,g.Z)().mark(function Yn(Bt){return(0,g.Z)().wrap(function(dn){for(;;)switch(dn.prev=dn.next){case 0:return dn.abrupt("return",Promise.all(Bt).then(function(Ot){var ur,Mn=(ur=[]).concat.apply(ur,(0,E.Z)(Ot));return Mn}));case 1:case"end":return dn.stop()}},Yn)})),Me.apply(this,arguments)}function Qe(Yn){return bt.apply(this,arguments)}function bt(){return bt=(0,x.Z)((0,g.Z)().mark(function Yn(Bt){var kt;return(0,g.Z)().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:return kt=0,Ot.abrupt("return",new Promise(function(ur){Bt.forEach(function(Mn){Mn.then(function(zr){zr.errors.length&&ur([zr]),kt+=1,kt===Bt.length&&ur([])})})}));case 2:case"end":return Ot.stop()}},Yn)})),bt.apply(this,arguments)}var Ge=l(71002),Ae=l(88306);function be(Yn){return Oe(Yn)}function Ne(Yn,Bt){var kt={};return Bt.forEach(function(dn){var Ot=(0,Ae.Z)(Yn,dn);kt=(0,je.Z)(kt,dn,Ot)}),kt}function Re(Yn,Bt){var kt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Yn&&Yn.some(function(dn){return ht(Bt,dn,kt)})}function ht(Yn,Bt){var kt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!Yn||!Bt||!kt&&Yn.length!==Bt.length?!1:Bt.every(function(dn,Ot){return Yn[Ot]===dn})}function Wt(Yn,Bt){if(Yn===Bt)return!0;if(!Yn&&Bt||Yn&&!Bt||!Yn||!Bt||(0,Ge.Z)(Yn)!=="object"||(0,Ge.Z)(Bt)!=="object")return!1;var kt=Object.keys(Yn),dn=Object.keys(Bt),Ot=new Set([].concat(kt,dn));return(0,E.Z)(Ot).every(function(ur){var Mn=Yn[ur],zr=Bt[ur];return typeof Mn=="function"&&typeof zr=="function"?!0:Mn===zr})}function Yt(Yn){var Bt=arguments.length<=1?void 0:arguments[1];return Bt&&Bt.target&&(0,Ge.Z)(Bt.target)==="object"&&Yn in Bt.target?Bt.target[Yn]:Bt}function Lt(Yn,Bt,kt){var dn=Yn.length;if(Bt<0||Bt>=dn||kt<0||kt>=dn)return Yn;var Ot=Yn[Bt],ur=Bt-kt;return ur>0?[].concat((0,E.Z)(Yn.slice(0,kt)),[Ot],(0,E.Z)(Yn.slice(kt,Bt)),(0,E.Z)(Yn.slice(Bt+1,dn))):ur<0?[].concat((0,E.Z)(Yn.slice(0,Bt)),(0,E.Z)(Yn.slice(Bt+1,kt+1)),[Ot],(0,E.Z)(Yn.slice(kt+1,dn))):Yn}var Dt=["name"],lt=[];function Ft(Yn,Bt,kt,dn,Ot,ur){return typeof Yn=="function"?Yn(Bt,kt,"source"in ur?{source:ur.source}:{}):dn!==Ot}var qt=function(Yn){(0,U.Z)(kt,Yn);var Bt=(0,$.Z)(kt);function kt(dn){var Ot;if((0,w.Z)(this,kt),Ot=Bt.call(this,dn),(0,te.Z)((0,Z.Z)(Ot),"state",{resetCount:0}),(0,te.Z)((0,Z.Z)(Ot),"cancelRegisterFunc",null),(0,te.Z)((0,Z.Z)(Ot),"mounted",!1),(0,te.Z)((0,Z.Z)(Ot),"touched",!1),(0,te.Z)((0,Z.Z)(Ot),"dirty",!1),(0,te.Z)((0,Z.Z)(Ot),"validatePromise",void 0),(0,te.Z)((0,Z.Z)(Ot),"prevValidating",void 0),(0,te.Z)((0,Z.Z)(Ot),"errors",lt),(0,te.Z)((0,Z.Z)(Ot),"warnings",lt),(0,te.Z)((0,Z.Z)(Ot),"cancelRegister",function(){var jt=Ot.props,gn=jt.preserve,Ln=jt.isListField,vt=jt.name;Ot.cancelRegisterFunc&&Ot.cancelRegisterFunc(Ln,gn,be(vt)),Ot.cancelRegisterFunc=null}),(0,te.Z)((0,Z.Z)(Ot),"getNamePath",function(){var jt=Ot.props,gn=jt.name,Ln=jt.fieldContext,vt=Ln.prefixName,Zt=vt===void 0?[]:vt;return gn!==void 0?[].concat((0,E.Z)(Zt),(0,E.Z)(gn)):[]}),(0,te.Z)((0,Z.Z)(Ot),"getRules",function(){var jt=Ot.props,gn=jt.rules,Ln=gn===void 0?[]:gn,vt=jt.fieldContext;return Ln.map(function(Zt){return typeof Zt=="function"?Zt(vt):Zt})}),(0,te.Z)((0,Z.Z)(Ot),"refresh",function(){Ot.mounted&&Ot.setState(function(jt){var gn=jt.resetCount;return{resetCount:gn+1}})}),(0,te.Z)((0,Z.Z)(Ot),"metaCache",null),(0,te.Z)((0,Z.Z)(Ot),"triggerMetaEvent",function(jt){var gn=Ot.props.onMetaChange;if(gn){var Ln=(0,A.Z)((0,A.Z)({},Ot.getMeta()),{},{destroy:jt});(0,J.Z)(Ot.metaCache,Ln)||gn(Ln),Ot.metaCache=Ln}else Ot.metaCache=null}),(0,te.Z)((0,Z.Z)(Ot),"onStoreChange",function(jt,gn,Ln){var vt=Ot.props,Zt=vt.shouldUpdate,or=vt.dependencies,ir=or===void 0?[]:or,lr=vt.onReset,Pr=Ln.store,$r=Ot.getNamePath(),dr=Ot.getValue(jt),ni=Ot.getValue(Pr),un=gn&&Re(gn,$r);switch(Ln.type==="valueUpdate"&&Ln.source==="external"&&dr!==ni&&(Ot.touched=!0,Ot.dirty=!0,Ot.validatePromise=null,Ot.errors=lt,Ot.warnings=lt,Ot.triggerMetaEvent()),Ln.type){case"reset":if(!gn||un){Ot.touched=!1,Ot.dirty=!1,Ot.validatePromise=void 0,Ot.errors=lt,Ot.warnings=lt,Ot.triggerMetaEvent(),lr==null||lr(),Ot.refresh();return}break;case"remove":{if(Zt){Ot.reRender();return}break}case"setField":{var ue=Ln.data;if(un){"touched"in ue&&(Ot.touched=ue.touched),"validating"in ue&&!("originRCField"in ue)&&(Ot.validatePromise=ue.validating?Promise.resolve([]):null),"errors"in ue&&(Ot.errors=ue.errors||lt),"warnings"in ue&&(Ot.warnings=ue.warnings||lt),Ot.dirty=!0,Ot.triggerMetaEvent(),Ot.reRender();return}else if("value"in ue&&Re(gn,$r,!0)){Ot.reRender();return}if(Zt&&!$r.length&&Ft(Zt,jt,Pr,dr,ni,Ln)){Ot.reRender();return}break}case"dependenciesUpdate":{var De=ir.map(be);if(De.some(function(oe){return Re(Ln.relatedFields,oe)})){Ot.reRender();return}break}default:if(un||(!ir.length||$r.length||Zt)&&Ft(Zt,jt,Pr,dr,ni,Ln)){Ot.reRender();return}break}Zt===!0&&Ot.reRender()}),(0,te.Z)((0,Z.Z)(Ot),"validateRules",function(jt){var gn=Ot.getNamePath(),Ln=Ot.getValue(),vt=jt||{},Zt=vt.triggerName,or=vt.validateOnly,ir=or===void 0?!1:or,lr=Promise.resolve().then((0,x.Z)((0,g.Z)().mark(function Pr(){var $r,dr,ni,un,ue,De,oe;return(0,g.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(Ot.mounted){N.next=2;break}return N.abrupt("return",[]);case 2:if($r=Ot.props,dr=$r.validateFirst,ni=dr===void 0?!1:dr,un=$r.messageVariables,ue=$r.validateDebounce,De=Ot.getRules(),Zt&&(De=De.filter(function(G){return G}).filter(function(G){var ye=G.validateTrigger;if(!ye)return!0;var Ie=Oe(ye);return Ie.includes(Zt)})),!(ue&&Zt)){N.next=10;break}return N.next=8,new Promise(function(G){setTimeout(G,ue)});case 8:if(Ot.validatePromise===lr){N.next=10;break}return N.abrupt("return",[]);case 10:return oe=It(gn,Ln,De,jt,ni,un),oe.catch(function(G){return G}).then(function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lt;if(Ot.validatePromise===lr){var ye;Ot.validatePromise=null;var Ie=[],ze=[];(ye=G.forEach)===null||ye===void 0||ye.call(G,function(Ce){var ke=Ce.rule.warningOnly,rt=Ce.errors,Tt=rt===void 0?lt:rt;ke?ze.push.apply(ze,(0,E.Z)(Tt)):Ie.push.apply(Ie,(0,E.Z)(Tt))}),Ot.errors=Ie,Ot.warnings=ze,Ot.triggerMetaEvent(),Ot.reRender()}}),N.abrupt("return",oe);case 13:case"end":return N.stop()}},Pr)})));return ir||(Ot.validatePromise=lr,Ot.dirty=!0,Ot.errors=lt,Ot.warnings=lt,Ot.triggerMetaEvent(),Ot.reRender()),lr}),(0,te.Z)((0,Z.Z)(Ot),"isFieldValidating",function(){return!!Ot.validatePromise}),(0,te.Z)((0,Z.Z)(Ot),"isFieldTouched",function(){return Ot.touched}),(0,te.Z)((0,Z.Z)(Ot),"isFieldDirty",function(){if(Ot.dirty||Ot.props.initialValue!==void 0)return!0;var jt=Ot.props.fieldContext,gn=jt.getInternalHooks(Y),Ln=gn.getInitialValue;return Ln(Ot.getNamePath())!==void 0}),(0,te.Z)((0,Z.Z)(Ot),"getErrors",function(){return Ot.errors}),(0,te.Z)((0,Z.Z)(Ot),"getWarnings",function(){return Ot.warnings}),(0,te.Z)((0,Z.Z)(Ot),"isListField",function(){return Ot.props.isListField}),(0,te.Z)((0,Z.Z)(Ot),"isList",function(){return Ot.props.isList}),(0,te.Z)((0,Z.Z)(Ot),"isPreserve",function(){return Ot.props.preserve}),(0,te.Z)((0,Z.Z)(Ot),"getMeta",function(){Ot.prevValidating=Ot.isFieldValidating();var jt={touched:Ot.isFieldTouched(),validating:Ot.prevValidating,errors:Ot.errors,warnings:Ot.warnings,name:Ot.getNamePath(),validated:Ot.validatePromise===null};return jt}),(0,te.Z)((0,Z.Z)(Ot),"getOnlyChild",function(jt){if(typeof jt=="function"){var gn=Ot.getMeta();return(0,A.Z)((0,A.Z)({},Ot.getOnlyChild(jt(Ot.getControlled(),gn,Ot.props.fieldContext))),{},{isFunction:!0})}var Ln=(0,Q.Z)(jt);return Ln.length!==1||!v.isValidElement(Ln[0])?{child:Ln,isFunction:!1}:{child:Ln[0],isFunction:!1}}),(0,te.Z)((0,Z.Z)(Ot),"getValue",function(jt){var gn=Ot.props.fieldContext.getFieldsValue,Ln=Ot.getNamePath();return(0,Ae.Z)(jt||gn(!0),Ln)}),(0,te.Z)((0,Z.Z)(Ot),"getControlled",function(){var jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},gn=Ot.props,Ln=gn.trigger,vt=gn.validateTrigger,Zt=gn.getValueFromEvent,or=gn.normalize,ir=gn.valuePropName,lr=gn.getValueProps,Pr=gn.fieldContext,$r=vt!==void 0?vt:Pr.validateTrigger,dr=Ot.getNamePath(),ni=Pr.getInternalHooks,un=Pr.getFieldsValue,ue=ni(Y),De=ue.dispatch,oe=Ot.getValue(),R=lr||function(Ie){return(0,te.Z)({},ir,Ie)},N=jt[Ln],G=(0,A.Z)((0,A.Z)({},jt),R(oe));G[Ln]=function(){Ot.touched=!0,Ot.dirty=!0,Ot.triggerMetaEvent();for(var Ie,ze=arguments.length,Ce=new Array(ze),ke=0;ke<ze;ke++)Ce[ke]=arguments[ke];Zt?Ie=Zt.apply(void 0,Ce):Ie=Yt.apply(void 0,[ir].concat(Ce)),or&&(Ie=or(Ie,oe,un(!0))),De({type:"updateValue",namePath:dr,value:Ie}),N&&N.apply(void 0,Ce)};var ye=Oe($r||[]);return ye.forEach(function(Ie){var ze=G[Ie];G[Ie]=function(){ze&&ze.apply(void 0,arguments);var Ce=Ot.props.rules;Ce&&Ce.length&&De({type:"validateField",namePath:dr,triggerName:Ie})}}),G}),dn.fieldContext){var ur=dn.fieldContext.getInternalHooks,Mn=ur(Y),zr=Mn.initEntityValue;zr((0,Z.Z)(Ot))}return Ot}return(0,k.Z)(kt,[{key:"componentDidMount",value:function(){var Ot=this.props,ur=Ot.shouldUpdate,Mn=Ot.fieldContext;if(this.mounted=!0,Mn){var zr=Mn.getInternalHooks,jt=zr(Y),gn=jt.registerField;this.cancelRegisterFunc=gn(this)}ur===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var Ot=this.state.resetCount,ur=this.props.children,Mn=this.getOnlyChild(ur),zr=Mn.child,jt=Mn.isFunction,gn;return jt?gn=zr:v.isValidElement(zr)?gn=v.cloneElement(zr,this.getControlled(zr.props)):((0,K.ZP)(!zr,"`children` of Field is not validate ReactElement."),gn=zr),v.createElement(v.Fragment,{key:Ot},gn)}}]),kt}(v.Component);(0,te.Z)(qt,"contextType",le),(0,te.Z)(qt,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Nn(Yn){var Bt=Yn.name,kt=(0,m.Z)(Yn,Dt),dn=v.useContext(le),Ot=v.useContext(ve),ur=Bt!==void 0?be(Bt):void 0,Mn="keep";return kt.isListField||(Mn="_".concat((ur||[]).join("_"))),v.createElement(qt,(0,d.Z)({key:Mn,name:ur,isListField:!!Ot},kt,{fieldContext:dn}))}var kn=Nn;function An(Yn){var Bt=Yn.name,kt=Yn.initialValue,dn=Yn.children,Ot=Yn.rules,ur=Yn.validateTrigger,Mn=Yn.isListField,zr=v.useContext(le),jt=v.useContext(ve),gn=v.useRef({keys:[],id:0}),Ln=gn.current,vt=v.useMemo(function(){var lr=be(zr.prefixName)||[];return[].concat((0,E.Z)(lr),(0,E.Z)(be(Bt)))},[zr.prefixName,Bt]),Zt=v.useMemo(function(){return(0,A.Z)((0,A.Z)({},zr),{},{prefixName:vt})},[zr,vt]),or=v.useMemo(function(){return{getKey:function(Pr){var $r=vt.length,dr=Pr[$r];return[Ln.keys[dr],Pr.slice($r+1)]}}},[vt]);if(typeof dn!="function")return(0,K.ZP)(!1,"Form.List only accepts function as children."),null;var ir=function(Pr,$r,dr){var ni=dr.source;return ni==="internal"?!1:Pr!==$r};return v.createElement(ve.Provider,{value:or},v.createElement(le.Provider,{value:Zt},v.createElement(kn,{name:[],shouldUpdate:ir,rules:Ot,validateTrigger:ur,initialValue:kt,isList:!0,isListField:Mn!=null?Mn:!!jt},function(lr,Pr){var $r=lr.value,dr=$r===void 0?[]:$r,ni=lr.onChange,un=zr.getFieldValue,ue=function(){var N=un(vt||[]);return N||[]},De={add:function(N,G){var ye=ue();G>=0&&G<=ye.length?(Ln.keys=[].concat((0,E.Z)(Ln.keys.slice(0,G)),[Ln.id],(0,E.Z)(Ln.keys.slice(G))),ni([].concat((0,E.Z)(ye.slice(0,G)),[N],(0,E.Z)(ye.slice(G))))):(Ln.keys=[].concat((0,E.Z)(Ln.keys),[Ln.id]),ni([].concat((0,E.Z)(ye),[N]))),Ln.id+=1},remove:function(N){var G=ue(),ye=new Set(Array.isArray(N)?N:[N]);ye.size<=0||(Ln.keys=Ln.keys.filter(function(Ie,ze){return!ye.has(ze)}),ni(G.filter(function(Ie,ze){return!ye.has(ze)})))},move:function(N,G){if(N!==G){var ye=ue();N<0||N>=ye.length||G<0||G>=ye.length||(Ln.keys=Lt(Ln.keys,N,G),ni(Lt(ye,N,G)))}}},oe=dr||[];return Array.isArray(oe)||(oe=[]),dn(oe.map(function(R,N){var G=Ln.keys[N];return G===void 0&&(Ln.keys[N]=Ln.id,G=Ln.keys[N],Ln.id+=1),{name:N,key:G,isListField:!0}}),De,Pr)})))}var Kn=An,ee=l(97685);function it(Yn){var Bt=!1,kt=Yn.length,dn=[];return Yn.length?new Promise(function(Ot,ur){Yn.forEach(function(Mn,zr){Mn.catch(function(jt){return Bt=!0,jt}).then(function(jt){kt-=1,dn[zr]=jt,!(kt>0)&&(Bt&&ur(dn),Ot(dn))})})}):Promise.resolve([])}var Ze="__@field_split__";function ot(Yn){return Yn.map(function(Bt){return"".concat((0,Ge.Z)(Bt),":").concat(Bt)}).join(Ze)}var Xe=function(){function Yn(){(0,w.Z)(this,Yn),(0,te.Z)(this,"kvs",new Map)}return(0,k.Z)(Yn,[{key:"set",value:function(kt,dn){this.kvs.set(ot(kt),dn)}},{key:"get",value:function(kt){return this.kvs.get(ot(kt))}},{key:"update",value:function(kt,dn){var Ot=this.get(kt),ur=dn(Ot);ur?this.set(kt,ur):this.delete(kt)}},{key:"delete",value:function(kt){this.kvs.delete(ot(kt))}},{key:"map",value:function(kt){return(0,E.Z)(this.kvs.entries()).map(function(dn){var Ot=(0,ee.Z)(dn,2),ur=Ot[0],Mn=Ot[1],zr=ur.split(Ze);return kt({key:zr.map(function(jt){var gn=jt.match(/^([^:]*):(.*)$/),Ln=(0,ee.Z)(gn,3),vt=Ln[1],Zt=Ln[2];return vt==="number"?Number(Zt):Zt}),value:Mn})})}},{key:"toJSON",value:function(){var kt={};return this.map(function(dn){var Ot=dn.key,ur=dn.value;return kt[Ot.join(".")]=ur,null}),kt}}]),Yn}(),et=Xe,pt=["name"],He=(0,k.Z)(function Yn(Bt){var kt=this;(0,w.Z)(this,Yn),(0,te.Z)(this,"formHooked",!1),(0,te.Z)(this,"forceRootUpdate",void 0),(0,te.Z)(this,"subscribable",!0),(0,te.Z)(this,"store",{}),(0,te.Z)(this,"fieldEntities",[]),(0,te.Z)(this,"initialValues",{}),(0,te.Z)(this,"callbacks",{}),(0,te.Z)(this,"validateMessages",null),(0,te.Z)(this,"preserve",null),(0,te.Z)(this,"lastValidatePromise",null),(0,te.Z)(this,"getForm",function(){return{getFieldValue:kt.getFieldValue,getFieldsValue:kt.getFieldsValue,getFieldError:kt.getFieldError,getFieldWarning:kt.getFieldWarning,getFieldsError:kt.getFieldsError,isFieldsTouched:kt.isFieldsTouched,isFieldTouched:kt.isFieldTouched,isFieldValidating:kt.isFieldValidating,isFieldsValidating:kt.isFieldsValidating,resetFields:kt.resetFields,setFields:kt.setFields,setFieldValue:kt.setFieldValue,setFieldsValue:kt.setFieldsValue,validateFields:kt.validateFields,submit:kt.submit,_init:!0,getInternalHooks:kt.getInternalHooks}}),(0,te.Z)(this,"getInternalHooks",function(dn){return dn===Y?(kt.formHooked=!0,{dispatch:kt.dispatch,initEntityValue:kt.initEntityValue,registerField:kt.registerField,useSubscribe:kt.useSubscribe,setInitialValues:kt.setInitialValues,destroyForm:kt.destroyForm,setCallbacks:kt.setCallbacks,setValidateMessages:kt.setValidateMessages,getFields:kt.getFields,setPreserve:kt.setPreserve,getInitialValue:kt.getInitialValue,registerWatch:kt.registerWatch}):((0,K.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,te.Z)(this,"useSubscribe",function(dn){kt.subscribable=dn}),(0,te.Z)(this,"prevWithoutPreserves",null),(0,te.Z)(this,"setInitialValues",function(dn,Ot){if(kt.initialValues=dn||{},Ot){var ur,Mn=(0,je.T)(dn,kt.store);(ur=kt.prevWithoutPreserves)===null||ur===void 0||ur.map(function(zr){var jt=zr.key;Mn=(0,je.Z)(Mn,jt,(0,Ae.Z)(dn,jt))}),kt.prevWithoutPreserves=null,kt.updateStore(Mn)}}),(0,te.Z)(this,"destroyForm",function(){var dn=new et;kt.getFieldEntities(!0).forEach(function(Ot){kt.isMergedPreserve(Ot.isPreserve())||dn.set(Ot.getNamePath(),!0)}),kt.prevWithoutPreserves=dn}),(0,te.Z)(this,"getInitialValue",function(dn){var Ot=(0,Ae.Z)(kt.initialValues,dn);return dn.length?(0,je.T)(Ot):Ot}),(0,te.Z)(this,"setCallbacks",function(dn){kt.callbacks=dn}),(0,te.Z)(this,"setValidateMessages",function(dn){kt.validateMessages=dn}),(0,te.Z)(this,"setPreserve",function(dn){kt.preserve=dn}),(0,te.Z)(this,"watchList",[]),(0,te.Z)(this,"registerWatch",function(dn){return kt.watchList.push(dn),function(){kt.watchList=kt.watchList.filter(function(Ot){return Ot!==dn})}}),(0,te.Z)(this,"notifyWatch",function(){var dn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(kt.watchList.length){var Ot=kt.getFieldsValue(),ur=kt.getFieldsValue(!0);kt.watchList.forEach(function(Mn){Mn(Ot,ur,dn)})}}),(0,te.Z)(this,"timeoutId",null),(0,te.Z)(this,"warningUnhooked",function(){}),(0,te.Z)(this,"updateStore",function(dn){kt.store=dn}),(0,te.Z)(this,"getFieldEntities",function(){var dn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return dn?kt.fieldEntities.filter(function(Ot){return Ot.getNamePath().length}):kt.fieldEntities}),(0,te.Z)(this,"getFieldsMap",function(){var dn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ot=new et;return kt.getFieldEntities(dn).forEach(function(ur){var Mn=ur.getNamePath();Ot.set(Mn,ur)}),Ot}),(0,te.Z)(this,"getFieldEntitiesForNamePathList",function(dn){if(!dn)return kt.getFieldEntities(!0);var Ot=kt.getFieldsMap(!0);return dn.map(function(ur){var Mn=be(ur);return Ot.get(Mn)||{INVALIDATE_NAME_PATH:be(ur)}})}),(0,te.Z)(this,"getFieldsValue",function(dn,Ot){kt.warningUnhooked();var ur,Mn,zr;if(dn===!0||Array.isArray(dn)?(ur=dn,Mn=Ot):dn&&(0,Ge.Z)(dn)==="object"&&(zr=dn.strict,Mn=dn.filter),ur===!0&&!Mn)return kt.store;var jt=kt.getFieldEntitiesForNamePathList(Array.isArray(ur)?ur:null),gn=[];return jt.forEach(function(Ln){var vt,Zt,or="INVALIDATE_NAME_PATH"in Ln?Ln.INVALIDATE_NAME_PATH:Ln.getNamePath();if(zr){var ir,lr;if((ir=(lr=Ln).isList)!==null&&ir!==void 0&&ir.call(lr))return}else if(!ur&&(vt=(Zt=Ln).isListField)!==null&&vt!==void 0&&vt.call(Zt))return;if(!Mn)gn.push(or);else{var Pr="getMeta"in Ln?Ln.getMeta():null;Mn(Pr)&&gn.push(or)}}),Ne(kt.store,gn.map(be))}),(0,te.Z)(this,"getFieldValue",function(dn){kt.warningUnhooked();var Ot=be(dn);return(0,Ae.Z)(kt.store,Ot)}),(0,te.Z)(this,"getFieldsError",function(dn){kt.warningUnhooked();var Ot=kt.getFieldEntitiesForNamePathList(dn);return Ot.map(function(ur,Mn){return ur&&!("INVALIDATE_NAME_PATH"in ur)?{name:ur.getNamePath(),errors:ur.getErrors(),warnings:ur.getWarnings()}:{name:be(dn[Mn]),errors:[],warnings:[]}})}),(0,te.Z)(this,"getFieldError",function(dn){kt.warningUnhooked();var Ot=be(dn),ur=kt.getFieldsError([Ot])[0];return ur.errors}),(0,te.Z)(this,"getFieldWarning",function(dn){kt.warningUnhooked();var Ot=be(dn),ur=kt.getFieldsError([Ot])[0];return ur.warnings}),(0,te.Z)(this,"isFieldsTouched",function(){kt.warningUnhooked();for(var dn=arguments.length,Ot=new Array(dn),ur=0;ur<dn;ur++)Ot[ur]=arguments[ur];var Mn=Ot[0],zr=Ot[1],jt,gn=!1;Ot.length===0?jt=null:Ot.length===1?Array.isArray(Mn)?(jt=Mn.map(be),gn=!1):(jt=null,gn=Mn):(jt=Mn.map(be),gn=zr);var Ln=kt.getFieldEntities(!0),vt=function(Pr){return Pr.isFieldTouched()};if(!jt)return gn?Ln.every(vt):Ln.some(vt);var Zt=new et;jt.forEach(function(lr){Zt.set(lr,[])}),Ln.forEach(function(lr){var Pr=lr.getNamePath();jt.forEach(function($r){$r.every(function(dr,ni){return Pr[ni]===dr})&&Zt.update($r,function(dr){return[].concat((0,E.Z)(dr),[lr])})})});var or=function(Pr){return Pr.some(vt)},ir=Zt.map(function(lr){var Pr=lr.value;return Pr});return gn?ir.every(or):ir.some(or)}),(0,te.Z)(this,"isFieldTouched",function(dn){return kt.warningUnhooked(),kt.isFieldsTouched([dn])}),(0,te.Z)(this,"isFieldsValidating",function(dn){kt.warningUnhooked();var Ot=kt.getFieldEntities();if(!dn)return Ot.some(function(Mn){return Mn.isFieldValidating()});var ur=dn.map(be);return Ot.some(function(Mn){var zr=Mn.getNamePath();return Re(ur,zr)&&Mn.isFieldValidating()})}),(0,te.Z)(this,"isFieldValidating",function(dn){return kt.warningUnhooked(),kt.isFieldsValidating([dn])}),(0,te.Z)(this,"resetWithFieldInitialValue",function(){var dn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ot=new et,ur=kt.getFieldEntities(!0);ur.forEach(function(jt){var gn=jt.props.initialValue,Ln=jt.getNamePath();if(gn!==void 0){var vt=Ot.get(Ln)||new Set;vt.add({entity:jt,value:gn}),Ot.set(Ln,vt)}});var Mn=function(gn){gn.forEach(function(Ln){var vt=Ln.props.initialValue;if(vt!==void 0){var Zt=Ln.getNamePath(),or=kt.getInitialValue(Zt);if(or!==void 0)(0,K.ZP)(!1,"Form already set 'initialValues' with path '".concat(Zt.join("."),"'. Field can not overwrite it."));else{var ir=Ot.get(Zt);if(ir&&ir.size>1)(0,K.ZP)(!1,"Multiple Field with path '".concat(Zt.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(ir){var lr=kt.getFieldValue(Zt);(!dn.skipExist||lr===void 0)&&kt.updateStore((0,je.Z)(kt.store,Zt,(0,E.Z)(ir)[0].value))}}}})},zr;dn.entities?zr=dn.entities:dn.namePathList?(zr=[],dn.namePathList.forEach(function(jt){var gn=Ot.get(jt);if(gn){var Ln;(Ln=zr).push.apply(Ln,(0,E.Z)((0,E.Z)(gn).map(function(vt){return vt.entity})))}})):zr=ur,Mn(zr)}),(0,te.Z)(this,"resetFields",function(dn){kt.warningUnhooked();var Ot=kt.store;if(!dn){kt.updateStore((0,je.T)(kt.initialValues)),kt.resetWithFieldInitialValue(),kt.notifyObservers(Ot,null,{type:"reset"}),kt.notifyWatch();return}var ur=dn.map(be);ur.forEach(function(Mn){var zr=kt.getInitialValue(Mn);kt.updateStore((0,je.Z)(kt.store,Mn,zr))}),kt.resetWithFieldInitialValue({namePathList:ur}),kt.notifyObservers(Ot,ur,{type:"reset"}),kt.notifyWatch(ur)}),(0,te.Z)(this,"setFields",function(dn){kt.warningUnhooked();var Ot=kt.store,ur=[];dn.forEach(function(Mn){var zr=Mn.name,jt=(0,m.Z)(Mn,pt),gn=be(zr);ur.push(gn),"value"in jt&&kt.updateStore((0,je.Z)(kt.store,gn,jt.value)),kt.notifyObservers(Ot,[gn],{type:"setField",data:Mn})}),kt.notifyWatch(ur)}),(0,te.Z)(this,"getFields",function(){var dn=kt.getFieldEntities(!0),Ot=dn.map(function(ur){var Mn=ur.getNamePath(),zr=ur.getMeta(),jt=(0,A.Z)((0,A.Z)({},zr),{},{name:Mn,value:kt.getFieldValue(Mn)});return Object.defineProperty(jt,"originRCField",{value:!0}),jt});return Ot}),(0,te.Z)(this,"initEntityValue",function(dn){var Ot=dn.props.initialValue;if(Ot!==void 0){var ur=dn.getNamePath(),Mn=(0,Ae.Z)(kt.store,ur);Mn===void 0&&kt.updateStore((0,je.Z)(kt.store,ur,Ot))}}),(0,te.Z)(this,"isMergedPreserve",function(dn){var Ot=dn!==void 0?dn:kt.preserve;return Ot!=null?Ot:!0}),(0,te.Z)(this,"registerField",function(dn){kt.fieldEntities.push(dn);var Ot=dn.getNamePath();if(kt.notifyWatch([Ot]),dn.props.initialValue!==void 0){var ur=kt.store;kt.resetWithFieldInitialValue({entities:[dn],skipExist:!0}),kt.notifyObservers(ur,[dn.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(Mn,zr){var jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(kt.fieldEntities=kt.fieldEntities.filter(function(vt){return vt!==dn}),!kt.isMergedPreserve(zr)&&(!Mn||jt.length>1)){var gn=Mn?void 0:kt.getInitialValue(Ot);if(Ot.length&&kt.getFieldValue(Ot)!==gn&&kt.fieldEntities.every(function(vt){return!ht(vt.getNamePath(),Ot)})){var Ln=kt.store;kt.updateStore((0,je.Z)(Ln,Ot,gn,!0)),kt.notifyObservers(Ln,[Ot],{type:"remove"}),kt.triggerDependenciesUpdate(Ln,Ot)}}kt.notifyWatch([Ot])}}),(0,te.Z)(this,"dispatch",function(dn){switch(dn.type){case"updateValue":{var Ot=dn.namePath,ur=dn.value;kt.updateValue(Ot,ur);break}case"validateField":{var Mn=dn.namePath,zr=dn.triggerName;kt.validateFields([Mn],{triggerName:zr});break}default:}}),(0,te.Z)(this,"notifyObservers",function(dn,Ot,ur){if(kt.subscribable){var Mn=(0,A.Z)((0,A.Z)({},ur),{},{store:kt.getFieldsValue(!0)});kt.getFieldEntities().forEach(function(zr){var jt=zr.onStoreChange;jt(dn,Ot,Mn)})}else kt.forceRootUpdate()}),(0,te.Z)(this,"triggerDependenciesUpdate",function(dn,Ot){var ur=kt.getDependencyChildrenFields(Ot);return ur.length&&kt.validateFields(ur),kt.notifyObservers(dn,ur,{type:"dependenciesUpdate",relatedFields:[Ot].concat((0,E.Z)(ur))}),ur}),(0,te.Z)(this,"updateValue",function(dn,Ot){var ur=be(dn),Mn=kt.store;kt.updateStore((0,je.Z)(kt.store,ur,Ot)),kt.notifyObservers(Mn,[ur],{type:"valueUpdate",source:"internal"}),kt.notifyWatch([ur]);var zr=kt.triggerDependenciesUpdate(Mn,ur),jt=kt.callbacks.onValuesChange;if(jt){var gn=Ne(kt.store,[ur]);jt(gn,kt.getFieldsValue())}kt.triggerOnFieldsChange([ur].concat((0,E.Z)(zr)))}),(0,te.Z)(this,"setFieldsValue",function(dn){kt.warningUnhooked();var Ot=kt.store;if(dn){var ur=(0,je.T)(kt.store,dn);kt.updateStore(ur)}kt.notifyObservers(Ot,null,{type:"valueUpdate",source:"external"}),kt.notifyWatch()}),(0,te.Z)(this,"setFieldValue",function(dn,Ot){kt.setFields([{name:dn,value:Ot}])}),(0,te.Z)(this,"getDependencyChildrenFields",function(dn){var Ot=new Set,ur=[],Mn=new et;kt.getFieldEntities().forEach(function(jt){var gn=jt.props.dependencies;(gn||[]).forEach(function(Ln){var vt=be(Ln);Mn.update(vt,function(){var Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return Zt.add(jt),Zt})})});var zr=function jt(gn){var Ln=Mn.get(gn)||new Set;Ln.forEach(function(vt){if(!Ot.has(vt)){Ot.add(vt);var Zt=vt.getNamePath();vt.isFieldDirty()&&Zt.length&&(ur.push(Zt),jt(Zt))}})};return zr(dn),ur}),(0,te.Z)(this,"triggerOnFieldsChange",function(dn,Ot){var ur=kt.callbacks.onFieldsChange;if(ur){var Mn=kt.getFields();if(Ot){var zr=new et;Ot.forEach(function(gn){var Ln=gn.name,vt=gn.errors;zr.set(Ln,vt)}),Mn.forEach(function(gn){gn.errors=zr.get(gn.name)||gn.errors})}var jt=Mn.filter(function(gn){var Ln=gn.name;return Re(dn,Ln)});jt.length&&ur(jt,Mn)}}),(0,te.Z)(this,"validateFields",function(dn,Ot){var ur;kt.warningUnhooked();var Mn,zr;Array.isArray(dn)||typeof dn=="string"||typeof Ot=="string"?(Mn=dn,zr=Ot):zr=dn;var jt=!!Mn,gn=jt?Mn.map(be):[],Ln=[],vt=String(Date.now()),Zt=new Set,or=(ur=zr)===null||ur===void 0?void 0:ur.recursive;kt.getFieldEntities(!0).forEach(function($r){if(jt||gn.push($r.getNamePath()),!(!$r.props.rules||!$r.props.rules.length)){var dr=$r.getNamePath();if(Zt.add(dr.join(vt)),!jt||Re(gn,dr,or)){var ni=$r.validateRules((0,A.Z)({validateMessages:(0,A.Z)((0,A.Z)({},Be),kt.validateMessages)},zr));Ln.push(ni.then(function(){return{name:dr,errors:[],warnings:[]}}).catch(function(un){var ue,De=[],oe=[];return(ue=un.forEach)===null||ue===void 0||ue.call(un,function(R){var N=R.rule.warningOnly,G=R.errors;N?oe.push.apply(oe,(0,E.Z)(G)):De.push.apply(De,(0,E.Z)(G))}),De.length?Promise.reject({name:dr,errors:De,warnings:oe}):{name:dr,errors:De,warnings:oe}}))}}});var ir=it(Ln);kt.lastValidatePromise=ir,ir.catch(function($r){return $r}).then(function($r){var dr=$r.map(function(ni){var un=ni.name;return un});kt.notifyObservers(kt.store,dr,{type:"validateFinish"}),kt.triggerOnFieldsChange(dr,$r)});var lr=ir.then(function(){return kt.lastValidatePromise===ir?Promise.resolve(kt.getFieldsValue(gn)):Promise.reject([])}).catch(function($r){var dr=$r.filter(function(ni){return ni&&ni.errors.length});return Promise.reject({values:kt.getFieldsValue(gn),errorFields:dr,outOfDate:kt.lastValidatePromise!==ir})});lr.catch(function($r){return $r});var Pr=gn.filter(function($r){return Zt.has($r.join(vt))});return kt.triggerOnFieldsChange(Pr),lr}),(0,te.Z)(this,"submit",function(){kt.warningUnhooked(),kt.validateFields().then(function(dn){var Ot=kt.callbacks.onFinish;if(Ot)try{Ot(dn)}catch(ur){console.error(ur)}}).catch(function(dn){var Ot=kt.callbacks.onFinishFailed;Ot&&Ot(dn)})}),this.forceRootUpdate=Bt});function Et(Yn){var Bt=v.useRef(),kt=v.useState({}),dn=(0,ee.Z)(kt,2),Ot=dn[1];if(!Bt.current)if(Yn)Bt.current=Yn;else{var ur=function(){Ot({})},Mn=new He(ur);Bt.current=Mn.getForm()}return[Bt.current]}var Vt=Et,On=v.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Wn=function(Bt){var kt=Bt.validateMessages,dn=Bt.onFormChange,Ot=Bt.onFormFinish,ur=Bt.children,Mn=v.useContext(On),zr=v.useRef({});return v.createElement(On.Provider,{value:(0,A.Z)((0,A.Z)({},Mn),{},{validateMessages:(0,A.Z)((0,A.Z)({},Mn.validateMessages),kt),triggerFormChange:function(gn,Ln){dn&&dn(gn,{changedFields:Ln,forms:zr.current}),Mn.triggerFormChange(gn,Ln)},triggerFormFinish:function(gn,Ln){Ot&&Ot(gn,{values:Ln,forms:zr.current}),Mn.triggerFormFinish(gn,Ln)},registerForm:function(gn,Ln){gn&&(zr.current=(0,A.Z)((0,A.Z)({},zr.current),{},(0,te.Z)({},gn,Ln))),Mn.registerForm(gn,Ln)},unregisterForm:function(gn){var Ln=(0,A.Z)({},zr.current);delete Ln[gn],zr.current=Ln,Mn.unregisterForm(gn)}})},ur)},pr=On,Cr=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Sn=function(Bt,kt){var dn=Bt.name,Ot=Bt.initialValues,ur=Bt.fields,Mn=Bt.form,zr=Bt.preserve,jt=Bt.children,gn=Bt.component,Ln=gn===void 0?"form":gn,vt=Bt.validateMessages,Zt=Bt.validateTrigger,or=Zt===void 0?"onChange":Zt,ir=Bt.onValuesChange,lr=Bt.onFieldsChange,Pr=Bt.onFinish,$r=Bt.onFinishFailed,dr=(0,m.Z)(Bt,Cr),ni=v.useContext(pr),un=Vt(Mn),ue=(0,ee.Z)(un,1),De=ue[0],oe=De.getInternalHooks(Y),R=oe.useSubscribe,N=oe.setInitialValues,G=oe.setCallbacks,ye=oe.setValidateMessages,Ie=oe.setPreserve,ze=oe.destroyForm;v.useImperativeHandle(kt,function(){return De}),v.useEffect(function(){return ni.registerForm(dn,De),function(){ni.unregisterForm(dn)}},[ni,De,dn]),ye((0,A.Z)((0,A.Z)({},ni.validateMessages),vt)),G({onValuesChange:ir,onFieldsChange:function($t){if(ni.triggerFormChange(dn,$t),lr){for(var hn=arguments.length,bn=new Array(hn>1?hn-1:0),br=1;br<hn;br++)bn[br-1]=arguments[br];lr.apply(void 0,[$t].concat(bn))}},onFinish:function($t){ni.triggerFormFinish(dn,$t),Pr&&Pr($t)},onFinishFailed:$r}),Ie(zr);var Ce=v.useRef(null);N(Ot,!Ce.current),Ce.current||(Ce.current=!0),v.useEffect(function(){return ze},[]);var ke,rt=typeof jt=="function";if(rt){var Tt=De.getFieldsValue(!0);ke=jt(Tt,De)}else ke=jt;R(!rt);var En=v.useRef();v.useEffect(function(){Wt(En.current||[],ur||[])||De.setFields(ur||[]),En.current=ur},[ur,De]);var Rn=v.useMemo(function(){return(0,A.Z)((0,A.Z)({},De),{},{validateTrigger:or})},[De,or]),$n=v.createElement(ve.Provider,{value:null},v.createElement(le.Provider,{value:Rn},ke));return Ln===!1?$n:v.createElement(Ln,(0,d.Z)({},dr,{onSubmit:function($t){$t.preventDefault(),$t.stopPropagation(),De.submit()},onReset:function($t){var hn;$t.preventDefault(),De.resetFields(),(hn=dr.onReset)===null||hn===void 0||hn.call(dr,$t)}}),$n)},Cn=Sn;function Fn(Yn){try{return JSON.stringify(Yn)}catch(Bt){return Math.random()}}var Hn=function(){};function sr(){for(var Yn=arguments.length,Bt=new Array(Yn),kt=0;kt<Yn;kt++)Bt[kt]=arguments[kt];var dn=Bt[0],Ot=dn===void 0?[]:dn,ur=Bt[1],Mn=ur===void 0?{}:ur,zr=L(Mn)?{form:Mn}:Mn,jt=zr.form,gn=(0,v.useState)(),Ln=(0,ee.Z)(gn,2),vt=Ln[0],Zt=Ln[1],or=(0,v.useMemo)(function(){return Fn(vt)},[vt]),ir=(0,v.useRef)(or);ir.current=or;var lr=(0,v.useContext)(le),Pr=jt||lr,$r=Pr&&Pr._init,dr=be(Ot),ni=(0,v.useRef)(dr);return ni.current=dr,Hn(dr),(0,v.useEffect)(function(){if($r){var un=Pr.getFieldsValue,ue=Pr.getInternalHooks,De=ue(Y),oe=De.registerWatch,R=oe(function(G,ye){var Ie=(0,Ae.Z)(zr.preserve?ye:G,ni.current),ze=Fn(Ie);ir.current!==ze&&(ir.current=ze,Zt(Ie))}),N=(0,Ae.Z)(zr.preserve?un(!0):un(),ni.current);return vt!==N&&Zt(N),R}},[$r]),vt}var ti=sr,Ir=v.forwardRef(Cn),kr=Ir;kr.FormProvider=Wn,kr.Field=kn,kr.List=Kn,kr.useForm=Vt,kr.useWatch=ti;var di=kr},25715:function(j,M,l){"use strict";l.d(M,{Z:function(){return ee}});var v=l(34155);function d(){return d=Object.assign?Object.assign.bind():function(it){for(var Ze=1;Ze<arguments.length;Ze++){var ot=arguments[Ze];for(var Xe in ot)Object.prototype.hasOwnProperty.call(ot,Xe)&&(it[Xe]=ot[Xe])}return it},d.apply(this,arguments)}function m(it,Ze){it.prototype=Object.create(Ze.prototype),it.prototype.constructor=it,x(it,Ze)}function g(it){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ot){return ot.__proto__||Object.getPrototypeOf(ot)},g(it)}function x(it,Ze){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Xe,et){return Xe.__proto__=et,Xe},x(it,Ze)}function A(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(it){return!1}}function E(it,Ze,ot){return A()?E=Reflect.construct.bind():E=function(et,pt,He){var Et=[null];Et.push.apply(Et,pt);var Vt=Function.bind.apply(et,Et),On=new Vt;return He&&x(On,He.prototype),On},E.apply(null,arguments)}function w(it){return Function.toString.call(it).indexOf("[native code]")!==-1}function k(it){var Ze=typeof Map=="function"?new Map:void 0;return k=function(Xe){if(Xe===null||!w(Xe))return Xe;if(typeof Xe!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Ze!="undefined"){if(Ze.has(Xe))return Ze.get(Xe);Ze.set(Xe,et)}function et(){return E(Xe,arguments,g(this).constructor)}return et.prototype=Object.create(Xe.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),x(et,Xe)},k(it)}var Z=/%[sdj%]/g,U=function(){};function $(it){if(!it||!it.length)return null;var Ze={};return it.forEach(function(ot){var Xe=ot.field;Ze[Xe]=Ze[Xe]||[],Ze[Xe].push(ot)}),Ze}function te(it){for(var Ze=arguments.length,ot=new Array(Ze>1?Ze-1:0),Xe=1;Xe<Ze;Xe++)ot[Xe-1]=arguments[Xe];var et=0,pt=ot.length;if(typeof it=="function")return it.apply(null,ot);if(typeof it=="string"){var He=it.replace(Z,function(Et){if(Et==="%%")return"%";if(et>=pt)return Et;switch(Et){case"%s":return String(ot[et++]);case"%d":return Number(ot[et++]);case"%j":try{return JSON.stringify(ot[et++])}catch(Vt){return"[Circular]"}break;default:return Et}});return He}return it}function Q(it){return it==="string"||it==="url"||it==="hex"||it==="email"||it==="date"||it==="pattern"}function J(it,Ze){return!!(it==null||Ze==="array"&&Array.isArray(it)&&!it.length||Q(Ze)&&typeof it=="string"&&!it)}function K(it,Ze,ot){var Xe=[],et=0,pt=it.length;function He(Et){Xe.push.apply(Xe,Et||[]),et++,et===pt&&ot(Xe)}it.forEach(function(Et){Ze(Et,He)})}function Y(it,Ze,ot){var Xe=0,et=it.length;function pt(He){if(He&&He.length){ot(He);return}var Et=Xe;Xe=Xe+1,Et<et?Ze(it[Et],pt):ot([])}pt([])}function re(it){var Ze=[];return Object.keys(it).forEach(function(ot){Ze.push.apply(Ze,it[ot]||[])}),Ze}var fe=function(it){m(Ze,it);function Ze(ot,Xe){var et;return et=it.call(this,"Async Validation Error")||this,et.errors=ot,et.fields=Xe,et}return Ze}(k(Error));function le(it,Ze,ot,Xe,et){if(Ze.first){var pt=new Promise(function(Cr,Sn){var Cn=function(sr){return Xe(sr),sr.length?Sn(new fe(sr,$(sr))):Cr(et)},Fn=re(it);Y(Fn,ot,Cn)});return pt.catch(function(Cr){return Cr}),pt}var He=Ze.firstFields===!0?Object.keys(it):Ze.firstFields||[],Et=Object.keys(it),Vt=Et.length,On=0,Wn=[],pr=new Promise(function(Cr,Sn){var Cn=function(Hn){if(Wn.push.apply(Wn,Hn),On++,On===Vt)return Xe(Wn),Wn.length?Sn(new fe(Wn,$(Wn))):Cr(et)};Et.length||(Xe(Wn),Cr(et)),Et.forEach(function(Fn){var Hn=it[Fn];He.indexOf(Fn)!==-1?Y(Hn,ot,Cn):K(Hn,ot,Cn)})});return pr.catch(function(Cr){return Cr}),pr}function ie(it){return!!(it&&it.message!==void 0)}function ve(it,Ze){for(var ot=it,Xe=0;Xe<Ze.length;Xe++){if(ot==null)return ot;ot=ot[Ze[Xe]]}return ot}function Oe(it,Ze){return function(ot){var Xe;return it.fullFields?Xe=ve(Ze,it.fullFields):Xe=Ze[ot.field||it.fullField],ie(ot)?(ot.field=ot.field||it.fullField,ot.fieldValue=Xe,ot):{message:typeof ot=="function"?ot():ot,fieldValue:Xe,field:ot.field||it.fullField}}}function L(it,Ze){if(Ze){for(var ot in Ze)if(Ze.hasOwnProperty(ot)){var Xe=Ze[ot];typeof Xe=="object"&&typeof it[ot]=="object"?it[ot]=d({},it[ot],Xe):it[ot]=Xe}}return it}var Pe=function(Ze,ot,Xe,et,pt,He){Ze.required&&(!Xe.hasOwnProperty(Ze.field)||J(ot,He||Ze.type))&&et.push(te(pt.messages.required,Ze.fullField))},pe=function(Ze,ot,Xe,et,pt){(/^\s+$/.test(ot)||ot==="")&&et.push(te(pt.messages.whitespace,Ze.fullField))},Be,je=function(){if(Be)return Be;var it="[a-fA-F\\d:]",Ze=function(kr){return kr&&kr.includeBoundaries?"(?:(?<=\\s|^)(?="+it+")|(?<="+it+")(?=\\s|$))":""},ot="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Xe="[a-fA-F\\d]{1,4}",et=(`
(?:
(?:`+Xe+":){7}(?:"+Xe+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+Xe+":){6}(?:"+ot+"|:"+Xe+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+Xe+":){5}(?::"+ot+"|(?::"+Xe+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+Xe+":){4}(?:(?::"+Xe+"){0,1}:"+ot+"|(?::"+Xe+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+Xe+":){3}(?:(?::"+Xe+"){0,2}:"+ot+"|(?::"+Xe+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+Xe+":){2}(?:(?::"+Xe+"){0,3}:"+ot+"|(?::"+Xe+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+Xe+":){1}(?:(?::"+Xe+"){0,4}:"+ot+"|(?::"+Xe+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+Xe+"){0,5}:"+ot+"|(?::"+Xe+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),pt=new RegExp("(?:^"+ot+"$)|(?:^"+et+"$)"),He=new RegExp("^"+ot+"$"),Et=new RegExp("^"+et+"$"),Vt=function(kr){return kr&&kr.exact?pt:new RegExp("(?:"+Ze(kr)+ot+Ze(kr)+")|(?:"+Ze(kr)+et+Ze(kr)+")","g")};Vt.v4=function(Ir){return Ir&&Ir.exact?He:new RegExp(""+Ze(Ir)+ot+Ze(Ir),"g")},Vt.v6=function(Ir){return Ir&&Ir.exact?Et:new RegExp(""+Ze(Ir)+et+Ze(Ir),"g")};var On="(?:(?:[a-z]+:)?//)",Wn="(?:\\S+(?::\\S*)?@)?",pr=Vt.v4().source,Cr=Vt.v6().source,Sn="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",Cn="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",Fn="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",Hn="(?::\\d{2,5})?",sr='(?:[/?#][^\\s"]*)?',ti="(?:"+On+"|www\\.)"+Wn+"(?:localhost|"+pr+"|"+Cr+"|"+Sn+Cn+Fn+")"+Hn+sr;return Be=new RegExp("(?:^"+ti+"$)","i"),Be},he={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},st={integer:function(Ze){return st.number(Ze)&&parseInt(Ze,10)===Ze},float:function(Ze){return st.number(Ze)&&!st.integer(Ze)},array:function(Ze){return Array.isArray(Ze)},regexp:function(Ze){if(Ze instanceof RegExp)return!0;try{return!!new RegExp(Ze)}catch(ot){return!1}},date:function(Ze){return typeof Ze.getTime=="function"&&typeof Ze.getMonth=="function"&&typeof Ze.getYear=="function"&&!isNaN(Ze.getTime())},number:function(Ze){return isNaN(Ze)?!1:typeof Ze=="number"},object:function(Ze){return typeof Ze=="object"&&!st.array(Ze)},method:function(Ze){return typeof Ze=="function"},email:function(Ze){return typeof Ze=="string"&&Ze.length<=320&&!!Ze.match(he.email)},url:function(Ze){return typeof Ze=="string"&&Ze.length<=2048&&!!Ze.match(je())},hex:function(Ze){return typeof Ze=="string"&&!!Ze.match(he.hex)}},en=function(Ze,ot,Xe,et,pt){if(Ze.required&&ot===void 0){Pe(Ze,ot,Xe,et,pt);return}var He=["integer","float","array","regexp","object","method","email","number","date","url","hex"],Et=Ze.type;He.indexOf(Et)>-1?st[Et](ot)||et.push(te(pt.messages.types[Et],Ze.fullField,Ze.type)):Et&&typeof ot!==Ze.type&&et.push(te(pt.messages.types[Et],Ze.fullField,Ze.type))},vn=function(Ze,ot,Xe,et,pt){var He=typeof Ze.len=="number",Et=typeof Ze.min=="number",Vt=typeof Ze.max=="number",On=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wn=ot,pr=null,Cr=typeof ot=="number",Sn=typeof ot=="string",Cn=Array.isArray(ot);if(Cr?pr="number":Sn?pr="string":Cn&&(pr="array"),!pr)return!1;Cn&&(Wn=ot.length),Sn&&(Wn=ot.replace(On,"_").length),He?Wn!==Ze.len&&et.push(te(pt.messages[pr].len,Ze.fullField,Ze.len)):Et&&!Vt&&Wn<Ze.min?et.push(te(pt.messages[pr].min,Ze.fullField,Ze.min)):Vt&&!Et&&Wn>Ze.max?et.push(te(pt.messages[pr].max,Ze.fullField,Ze.max)):Et&&Vt&&(Wn<Ze.min||Wn>Ze.max)&&et.push(te(pt.messages[pr].range,Ze.fullField,Ze.min,Ze.max))},Mt="enum",It=function(Ze,ot,Xe,et,pt){Ze[Mt]=Array.isArray(Ze[Mt])?Ze[Mt]:[],Ze[Mt].indexOf(ot)===-1&&et.push(te(pt.messages[Mt],Ze.fullField,Ze[Mt].join(", ")))},Ve=function(Ze,ot,Xe,et,pt){if(Ze.pattern){if(Ze.pattern instanceof RegExp)Ze.pattern.lastIndex=0,Ze.pattern.test(ot)||et.push(te(pt.messages.pattern.mismatch,Ze.fullField,ot,Ze.pattern));else if(typeof Ze.pattern=="string"){var He=new RegExp(Ze.pattern);He.test(ot)||et.push(te(pt.messages.pattern.mismatch,Ze.fullField,ot,Ze.pattern))}}},Me={required:Pe,whitespace:pe,type:en,range:vn,enum:It,pattern:Ve},Qe=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(J(ot,"string")&&!Ze.required)return Xe();Me.required(Ze,ot,et,He,pt,"string"),J(ot,"string")||(Me.type(Ze,ot,et,He,pt),Me.range(Ze,ot,et,He,pt),Me.pattern(Ze,ot,et,He,pt),Ze.whitespace===!0&&Me.whitespace(Ze,ot,et,He,pt))}Xe(He)},bt=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(J(ot)&&!Ze.required)return Xe();Me.required(Ze,ot,et,He,pt),ot!==void 0&&Me.type(Ze,ot,et,He,pt)}Xe(He)},Ge=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(ot===""&&(ot=void 0),J(ot)&&!Ze.required)return Xe();Me.required(Ze,ot,et,He,pt),ot!==void 0&&(Me.type(Ze,ot,et,He,pt),Me.range(Ze,ot,et,He,pt))}Xe(He)},Ae=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(J(ot)&&!Ze.required)return Xe();Me.required(Ze,ot,et,He,pt),ot!==void 0&&Me.type(Ze,ot,et,He,pt)}Xe(He)},be=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(J(ot)&&!Ze.required)return Xe();Me.required(Ze,ot,et,He,pt),J(ot)||Me.type(Ze,ot,et,He,pt)}Xe(He)},Ne=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(J(ot)&&!Ze.required)return Xe();Me.required(Ze,ot,et,He,pt),ot!==void 0&&(Me.type(Ze,ot,et,He,pt),Me.range(Ze,ot,et,He,pt))}Xe(He)},Re=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(J(ot)&&!Ze.required)return Xe();Me.required(Ze,ot,et,He,pt),ot!==void 0&&(Me.type(Ze,ot,et,He,pt),Me.range(Ze,ot,et,He,pt))}Xe(He)},ht=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(ot==null&&!Ze.required)return Xe();Me.required(Ze,ot,et,He,pt,"array"),ot!=null&&(Me.type(Ze,ot,et,He,pt),Me.range(Ze,ot,et,He,pt))}Xe(He)},Wt=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(J(ot)&&!Ze.required)return Xe();Me.required(Ze,ot,et,He,pt),ot!==void 0&&Me.type(Ze,ot,et,He,pt)}Xe(He)},Yt="enum",Lt=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(J(ot)&&!Ze.required)return Xe();Me.required(Ze,ot,et,He,pt),ot!==void 0&&Me[Yt](Ze,ot,et,He,pt)}Xe(He)},Dt=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(J(ot,"string")&&!Ze.required)return Xe();Me.required(Ze,ot,et,He,pt),J(ot,"string")||Me.pattern(Ze,ot,et,He,pt)}Xe(He)},lt=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(J(ot,"date")&&!Ze.required)return Xe();if(Me.required(Ze,ot,et,He,pt),!J(ot,"date")){var Vt;ot instanceof Date?Vt=ot:Vt=new Date(ot),Me.type(Ze,Vt,et,He,pt),Vt&&Me.range(Ze,Vt.getTime(),et,He,pt)}}Xe(He)},Ft=function(Ze,ot,Xe,et,pt){var He=[],Et=Array.isArray(ot)?"array":typeof ot;Me.required(Ze,ot,et,He,pt,Et),Xe(He)},qt=function(Ze,ot,Xe,et,pt){var He=Ze.type,Et=[],Vt=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Vt){if(J(ot,He)&&!Ze.required)return Xe();Me.required(Ze,ot,et,Et,pt,He),J(ot,He)||Me.type(Ze,ot,et,Et,pt)}Xe(Et)},Nn=function(Ze,ot,Xe,et,pt){var He=[],Et=Ze.required||!Ze.required&&et.hasOwnProperty(Ze.field);if(Et){if(J(ot)&&!Ze.required)return Xe();Me.required(Ze,ot,et,He,pt)}Xe(He)},kn={string:Qe,method:bt,number:Ge,boolean:Ae,regexp:be,integer:Ne,float:Re,array:ht,object:Wt,enum:Lt,pattern:Dt,date:lt,url:qt,hex:qt,email:qt,required:Ft,any:Nn};function An(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var Ze=JSON.parse(JSON.stringify(this));return Ze.clone=this.clone,Ze}}}var Kn=An(),ee=function(){function it(ot){this.rules=null,this._messages=Kn,this.define(ot)}var Ze=it.prototype;return Ze.define=function(Xe){var et=this;if(!Xe)throw new Error("Cannot configure a schema with no rules");if(typeof Xe!="object"||Array.isArray(Xe))throw new Error("Rules must be an object");this.rules={},Object.keys(Xe).forEach(function(pt){var He=Xe[pt];et.rules[pt]=Array.isArray(He)?He:[He]})},Ze.messages=function(Xe){return Xe&&(this._messages=L(An(),Xe)),this._messages},Ze.validate=function(Xe,et,pt){var He=this;et===void 0&&(et={}),pt===void 0&&(pt=function(){});var Et=Xe,Vt=et,On=pt;if(typeof Vt=="function"&&(On=Vt,Vt={}),!this.rules||Object.keys(this.rules).length===0)return On&&On(null,Et),Promise.resolve(Et);function Wn(Fn){var Hn=[],sr={};function ti(kr){if(Array.isArray(kr)){var di;Hn=(di=Hn).concat.apply(di,kr)}else Hn.push(kr)}for(var Ir=0;Ir<Fn.length;Ir++)ti(Fn[Ir]);Hn.length?(sr=$(Hn),On(Hn,sr)):On(null,Et)}if(Vt.messages){var pr=this.messages();pr===Kn&&(pr=An()),L(pr,Vt.messages),Vt.messages=pr}else Vt.messages=this.messages();var Cr={},Sn=Vt.keys||Object.keys(this.rules);Sn.forEach(function(Fn){var Hn=He.rules[Fn],sr=Et[Fn];Hn.forEach(function(ti){var Ir=ti;typeof Ir.transform=="function"&&(Et===Xe&&(Et=d({},Et)),sr=Et[Fn]=Ir.transform(sr)),typeof Ir=="function"?Ir={validator:Ir}:Ir=d({},Ir),Ir.validator=He.getValidationMethod(Ir),Ir.validator&&(Ir.field=Fn,Ir.fullField=Ir.fullField||Fn,Ir.type=He.getType(Ir),Cr[Fn]=Cr[Fn]||[],Cr[Fn].push({rule:Ir,value:sr,source:Et,field:Fn}))})});var Cn={};return le(Cr,Vt,function(Fn,Hn){var sr=Fn.rule,ti=(sr.type==="object"||sr.type==="array")&&(typeof sr.fields=="object"||typeof sr.defaultField=="object");ti=ti&&(sr.required||!sr.required&&Fn.value),sr.field=Fn.field;function Ir(Yn,Bt){return d({},Bt,{fullField:sr.fullField+"."+Yn,fullFields:sr.fullFields?[].concat(sr.fullFields,[Yn]):[Yn]})}function kr(Yn){Yn===void 0&&(Yn=[]);var Bt=Array.isArray(Yn)?Yn:[Yn];!Vt.suppressWarning&&Bt.length&&it.warning("async-validator:",Bt),Bt.length&&sr.message!==void 0&&(Bt=[].concat(sr.message));var kt=Bt.map(Oe(sr,Et));if(Vt.first&&kt.length)return Cn[sr.field]=1,Hn(kt);if(!ti)Hn(kt);else{if(sr.required&&!Fn.value)return sr.message!==void 0?kt=[].concat(sr.message).map(Oe(sr,Et)):Vt.error&&(kt=[Vt.error(sr,te(Vt.messages.required,sr.field))]),Hn(kt);var dn={};sr.defaultField&&Object.keys(Fn.value).map(function(Mn){dn[Mn]=sr.defaultField}),dn=d({},dn,Fn.rule.fields);var Ot={};Object.keys(dn).forEach(function(Mn){var zr=dn[Mn],jt=Array.isArray(zr)?zr:[zr];Ot[Mn]=jt.map(Ir.bind(null,Mn))});var ur=new it(Ot);ur.messages(Vt.messages),Fn.rule.options&&(Fn.rule.options.messages=Vt.messages,Fn.rule.options.error=Vt.error),ur.validate(Fn.value,Fn.rule.options||Vt,function(Mn){var zr=[];kt&&kt.length&&zr.push.apply(zr,kt),Mn&&Mn.length&&zr.push.apply(zr,Mn),Hn(zr.length?zr:null)})}}var di;if(sr.asyncValidator)di=sr.asyncValidator(sr,Fn.value,kr,Fn.source,Vt);else if(sr.validator){try{di=sr.validator(sr,Fn.value,kr,Fn.source,Vt)}catch(Yn){console.error==null||console.error(Yn),Vt.suppressValidatorError||setTimeout(function(){throw Yn},0),kr(Yn.message)}di===!0?kr():di===!1?kr(typeof sr.message=="function"?sr.message(sr.fullField||sr.field):sr.message||(sr.fullField||sr.field)+" fails"):di instanceof Array?kr(di):di instanceof Error&&kr(di.message)}di&&di.then&&di.then(function(){return kr()},function(Yn){return kr(Yn)})},function(Fn){Wn(Fn)},Et)},Ze.getType=function(Xe){if(Xe.type===void 0&&Xe.pattern instanceof RegExp&&(Xe.type="pattern"),typeof Xe.validator!="function"&&Xe.type&&!kn.hasOwnProperty(Xe.type))throw new Error(te("Unknown rule type %s",Xe.type));return Xe.type||"string"},Ze.getValidationMethod=function(Xe){if(typeof Xe.validator=="function")return Xe.validator;var et=Object.keys(Xe),pt=et.indexOf("message");return pt!==-1&&et.splice(pt,1),et.length===1&&et[0]==="required"?kn.required:kn[this.getType(Xe)]||void 0},it}();ee.register=function(Ze,ot){if(typeof ot!="function")throw new Error("Cannot register a validator by type, validator is not a function");kn[Ze]=ot},ee.warning=U,ee.messages=Kn,ee.validators=kn},89550:function(j){j.exports=M;function M(l,v,d){return l[0]=v[0]+d[0],l[1]=v[1]+d[1],l}},62189:function(j){j.exports=M;function M(l,v){return l[0]=Math.ceil(v[0]),l[1]=Math.ceil(v[1]),l}},76057:function(j){j.exports=M;function M(l){var v=new Float32Array(2);return v[0]=l[0],v[1]=l[1],v}},3492:function(j){j.exports=M;function M(l,v){return l[0]=v[0],l[1]=v[1],l}},61589:function(j){j.exports=M;function M(){var l=new Float32Array(2);return l[0]=0,l[1]=0,l}},77741:function(j){j.exports=M;function M(l,v,d){var m=v[0]*d[1]-v[1]*d[0];return l[0]=l[1]=0,l[2]=m,l}},80278:function(j,M,l){j.exports=l(27953)},27953:function(j){j.exports=M;function M(l,v){var d=v[0]-l[0],m=v[1]-l[1];return Math.sqrt(d*d+m*m)}},49973:function(j,M,l){j.exports=l(6773)},6773:function(j){j.exports=M;function M(l,v,d){return l[0]=v[0]/d[0],l[1]=v[1]/d[1],l}},56601:function(j){j.exports=M;function M(l,v){return l[0]*v[0]+l[1]*v[1]}},89936:function(j){j.exports=1e-6},51232:function(j,M,l){j.exports=d;var v=l(89936);function d(m,g){var x=m[0],A=m[1],E=g[0],w=g[1];return Math.abs(x-E)<=v*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(A-w)<=v*Math.max(1,Math.abs(A),Math.abs(w))}},39546:function(j){j.exports=M;function M(l,v){return l[0]===v[0]&&l[1]===v[1]}},67744:function(j){j.exports=M;function M(l,v){return l[0]=Math.floor(v[0]),l[1]=Math.floor(v[1]),l}},49002:function(j,M,l){j.exports=d;var v=l(61589)();function d(m,g,x,A,E,w){var k,Z;for(g||(g=2),x||(x=0),A?Z=Math.min(A*g+x,m.length):Z=m.length,k=x;k<Z;k+=g)v[0]=m[k],v[1]=m[k+1],E(v,v,w),m[k]=v[0],m[k+1]=v[1];return m}},31649:function(j){j.exports=M;function M(l,v){var d=new Float32Array(2);return d[0]=l,d[1]=v,d}},32644:function(j,M,l){j.exports={EPSILON:l(89936),create:l(61589),clone:l(76057),fromValues:l(31649),copy:l(3492),set:l(68854),equals:l(51232),exactEquals:l(39546),add:l(89550),subtract:l(43650),sub:l(45222),multiply:l(79920),mul:l(23113),divide:l(6773),div:l(49973),inverse:l(83793),min:l(20676),max:l(97899),rotate:l(48677),floor:l(67744),ceil:l(62189),round:l(57074),scale:l(47838),scaleAndAdd:l(21066),distance:l(27953),dist:l(80278),squaredDistance:l(14290),sqrDist:l(79569),length:l(37781),len:l(8123),squaredLength:l(26791),sqrLen:l(1791),negate:l(90549),normalize:l(36820),dot:l(56601),cross:l(77741),lerp:l(20577),random:l(85773),transformMat2:l(904),transformMat2d:l(60736),transformMat3:l(60221),transformMat4:l(37674),forEach:l(49002),limit:l(82418)}},83793:function(j){j.exports=M;function M(l,v){return l[0]=1/v[0],l[1]=1/v[1],l}},8123:function(j,M,l){j.exports=l(37781)},37781:function(j){j.exports=M;function M(l){var v=l[0],d=l[1];return Math.sqrt(v*v+d*d)}},20577:function(j){j.exports=M;function M(l,v,d,m){var g=v[0],x=v[1];return l[0]=g+m*(d[0]-g),l[1]=x+m*(d[1]-x),l}},82418:function(j){j.exports=M;function M(l,v,d){var m=v[0]*v[0]+v[1]*v[1];if(m>d*d){var g=Math.sqrt(m);l[0]=v[0]/g*d,l[1]=v[1]/g*d}else l[0]=v[0],l[1]=v[1];return l}},97899:function(j){j.exports=M;function M(l,v,d){return l[0]=Math.max(v[0],d[0]),l[1]=Math.max(v[1],d[1]),l}},20676:function(j){j.exports=M;function M(l,v,d){return l[0]=Math.min(v[0],d[0]),l[1]=Math.min(v[1],d[1]),l}},23113:function(j,M,l){j.exports=l(79920)},79920:function(j){j.exports=M;function M(l,v,d){return l[0]=v[0]*d[0],l[1]=v[1]*d[1],l}},90549:function(j){j.exports=M;function M(l,v){return l[0]=-v[0],l[1]=-v[1],l}},36820:function(j){j.exports=M;function M(l,v){var d=v[0],m=v[1],g=d*d+m*m;return g>0&&(g=1/Math.sqrt(g),l[0]=v[0]*g,l[1]=v[1]*g),l}},85773:function(j){j.exports=M;function M(l,v){v=v||1;var d=Math.random()*2*Math.PI;return l[0]=Math.cos(d)*v,l[1]=Math.sin(d)*v,l}},48677:function(j){j.exports=M;function M(l,v,d){var m=Math.cos(d),g=Math.sin(d),x=v[0],A=v[1];return l[0]=x*m-A*g,l[1]=x*g+A*m,l}},57074:function(j){j.exports=M;function M(l,v){return l[0]=Math.round(v[0]),l[1]=Math.round(v[1]),l}},47838:function(j){j.exports=M;function M(l,v,d){return l[0]=v[0]*d,l[1]=v[1]*d,l}},21066:function(j){j.exports=M;function M(l,v,d,m){return l[0]=v[0]+d[0]*m,l[1]=v[1]+d[1]*m,l}},68854:function(j){j.exports=M;function M(l,v,d){return l[0]=v,l[1]=d,l}},79569:function(j,M,l){j.exports=l(14290)},1791:function(j,M,l){j.exports=l(26791)},14290:function(j){j.exports=M;function M(l,v){var d=v[0]-l[0],m=v[1]-l[1];return d*d+m*m}},26791:function(j){j.exports=M;function M(l){var v=l[0],d=l[1];return v*v+d*d}},45222:function(j,M,l){j.exports=l(43650)},43650:function(j){j.exports=M;function M(l,v,d){return l[0]=v[0]-d[0],l[1]=v[1]-d[1],l}},904:function(j){j.exports=M;function M(l,v,d){var m=v[0],g=v[1];return l[0]=d[0]*m+d[2]*g,l[1]=d[1]*m+d[3]*g,l}},60736:function(j){j.exports=M;function M(l,v,d){var m=v[0],g=v[1];return l[0]=d[0]*m+d[2]*g+d[4],l[1]=d[1]*m+d[3]*g+d[5],l}},60221:function(j){j.exports=M;function M(l,v,d){var m=v[0],g=v[1];return l[0]=d[0]*m+d[3]*g+d[6],l[1]=d[1]*m+d[4]*g+d[7],l}},37674:function(j){j.exports=M;function M(l,v,d){var m=v[0],g=v[1];return l[0]=d[0]*m+d[4]*g+d[12],l[1]=d[1]*m+d[5]*g+d[13],l}},7375:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var l=Symbol.for("INJECTION");function v(A,E,w,k){function Z(){return k&&!Reflect.hasMetadata(l,this,E)&&Reflect.defineMetadata(l,w(),this,E),Reflect.hasMetadata(l,this,E)?Reflect.getMetadata(l,this,E):w()}function U($){Reflect.defineMetadata(l,$,this,E)}Object.defineProperty(A,E,{configurable:!0,enumerable:!0,get:Z,set:U})}function d(A,E){return function(w){return function(k,Z){var U=function(){return A.get(w)};v(k,Z,U,E)}}}M.makePropertyInjectDecorator=d;function m(A,E){return function(w,k){return function(Z,U){var $=function(){return A.getNamed(w,k)};v(Z,U,$,E)}}}M.makePropertyInjectNamedDecorator=m;function g(A,E){return function(w,k,Z){return function(U,$){var te=function(){return A.getTagged(w,k,Z)};v(U,$,te,E)}}}M.makePropertyInjectTaggedDecorator=g;function x(A,E){return function(w){return function(k,Z){var U=function(){return A.getAll(w)};v(k,Z,U,E)}}}M.makePropertyMultiInjectDecorator=x},84879:function(j,M,l){"use strict";var v;v={value:!0};var d=l(7375);function m(g,x){x===void 0&&(x=!0);var A=d.makePropertyInjectDecorator(g,x),E=d.makePropertyInjectNamedDecorator(g,x),w=d.makePropertyInjectTaggedDecorator(g,x),k=d.makePropertyMultiInjectDecorator(g,x);return{lazyInject:A,lazyInjectNamed:E,lazyInjectTagged:w,lazyMultiInject:k}}M.Z=m},99934:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.tagProperty=M.tagParameter=M.decorate=void 0;var v=l(16674),d=l(6867);function m(k,Z,U,$){var te=d.TAGGED;x(te,k,Z,$,U)}M.tagParameter=m;function g(k,Z,U){var $=d.TAGGED_PROP;x($,k.constructor,Z,U)}M.tagProperty=g;function x(k,Z,U,$,te){var Q={},J=typeof te=="number",K=te!==void 0&&J?te.toString():U;if(J&&U!==void 0)throw new Error(v.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(k,Z)&&(Q=Reflect.getMetadata(k,Z));var Y=Q[K];if(!Array.isArray(Y))Y=[];else for(var re=0,fe=Y;re<fe.length;re++){var le=fe[re];if(le.key===$.key)throw new Error(v.DUPLICATED_METADATA+" "+le.key.toString())}Y.push($),Q[K]=Y,Reflect.defineMetadata(k,Q,Z)}function A(k,Z){Reflect.decorate(k,Z)}function E(k,Z){return function(U,$){Z(U,$,k)}}function w(k,Z,U){typeof U=="number"?A([E(U,k)],Z):typeof U=="string"?Reflect.decorate([k],Z,U):A([k],Z)}M.decorate=w},5744:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.inject=M.LazyServiceIdentifer=void 0;var v=l(16674),d=l(6867),m=l(47738),g=l(99934),x=function(){function E(w){this._cb=w}return E.prototype.unwrap=function(){return this._cb()},E}();M.LazyServiceIdentifer=x;function A(E){return function(w,k,Z){if(E===void 0)throw new Error(v.UNDEFINED_INJECT_ANNOTATION(w.name));var U=new m.Metadata(d.INJECT_TAG,E);typeof Z=="number"?g.tagParameter(w,k,Z,U):g.tagProperty(w,k,U)}}M.inject=A},64315:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.injectable=void 0;var v=l(16674),d=l(6867);function m(){return function(g){if(Reflect.hasOwnMetadata(d.PARAM_TYPES,g))throw new Error(v.DUPLICATED_INJECTABLE_DECORATOR);var x=Reflect.getMetadata(d.DESIGN_PARAM_TYPES,g)||[];return Reflect.defineMetadata(d.PARAM_TYPES,x,g),g}}M.injectable=m},71693:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.multiInject=void 0;var v=l(6867),d=l(47738),m=l(99934);function g(x){return function(A,E,w){var k=new d.Metadata(v.MULTI_INJECT_TAG,x);typeof w=="number"?m.tagParameter(A,E,w,k):m.tagProperty(A,E,k)}}M.multiInject=g},38085:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.named=void 0;var v=l(6867),d=l(47738),m=l(99934);function g(x){return function(A,E,w){var k=new d.Metadata(v.NAMED_TAG,x);typeof w=="number"?m.tagParameter(A,E,w,k):m.tagProperty(A,E,k)}}M.named=g},6515:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.optional=void 0;var v=l(6867),d=l(47738),m=l(99934);function g(){return function(x,A,E){var w=new d.Metadata(v.OPTIONAL_TAG,!0);typeof E=="number"?m.tagParameter(x,A,E,w):m.tagProperty(x,A,w)}}M.optional=g},7014:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.postConstruct=void 0;var v=l(16674),d=l(6867),m=l(47738);function g(){return function(x,A,E){var w=new m.Metadata(d.POST_CONSTRUCT,A);if(Reflect.hasOwnMetadata(d.POST_CONSTRUCT,x.constructor))throw new Error(v.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(d.POST_CONSTRUCT,w,x.constructor)}}M.postConstruct=g},32052:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.tagged=void 0;var v=l(47738),d=l(99934);function m(g,x){return function(A,E,w){var k=new v.Metadata(g,x);typeof w=="number"?d.tagParameter(A,E,w,k):d.tagProperty(A,E,k)}}M.tagged=m},55638:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.targetName=void 0;var v=l(6867),d=l(47738),m=l(99934);function g(x){return function(A,E,w){var k=new d.Metadata(v.NAME_TAG,x);m.tagParameter(A,E,w,k)}}M.targetName=g},86757:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.unmanaged=void 0;var v=l(6867),d=l(47738),m=l(99934);function g(){return function(x,A,E){var w=new d.Metadata(v.UNMANAGED_TAG,!0);m.tagParameter(x,A,E,w)}}M.unmanaged=g},44290:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Binding=void 0;var v=l(28421),d=l(37791),m=function(){function g(x,A){this.id=d.id(),this.activated=!1,this.serviceIdentifier=x,this.scope=A,this.type=v.BindingTypeEnum.Invalid,this.constraint=function(E){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return g.prototype.clone=function(){var x=new g(this.serviceIdentifier,this.scope);return x.activated=x.scope===v.BindingScopeEnum.Singleton?this.activated:!1,x.implementationType=this.implementationType,x.dynamicValue=this.dynamicValue,x.scope=this.scope,x.type=this.type,x.factory=this.factory,x.provider=this.provider,x.constraint=this.constraint,x.onActivation=this.onActivation,x.cache=this.cache,x},g}();M.Binding=m},23184:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingCount=void 0;var l={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};M.BindingCount=l},16674:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.STACK_OVERFLOW=M.CIRCULAR_DEPENDENCY_IN_FACTORY=M.POST_CONSTRUCT_ERROR=M.MULTIPLE_POST_CONSTRUCT_METHODS=M.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=M.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=M.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=M.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=M.ARGUMENTS_LENGTH_MISMATCH=M.INVALID_DECORATOR_OPERATION=M.INVALID_TO_SELF_VALUE=M.INVALID_FUNCTION_BINDING=M.INVALID_MIDDLEWARE_RETURN=M.NO_MORE_SNAPSHOTS_AVAILABLE=M.INVALID_BINDING_TYPE=M.NOT_IMPLEMENTED=M.CIRCULAR_DEPENDENCY=M.UNDEFINED_INJECT_ANNOTATION=M.MISSING_INJECT_ANNOTATION=M.MISSING_INJECTABLE_ANNOTATION=M.NOT_REGISTERED=M.CANNOT_UNBIND=M.AMBIGUOUS_MATCH=M.KEY_NOT_FOUND=M.NULL_ARGUMENT=M.DUPLICATED_METADATA=M.DUPLICATED_INJECTABLE_DECORATOR=void 0,M.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",M.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",M.NULL_ARGUMENT="NULL argument",M.KEY_NOT_FOUND="Key Not Found",M.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",M.CANNOT_UNBIND="Could not unbind serviceIdentifier:",M.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",M.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",M.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var l=function(g){return"@inject called with undefined this could mean that the class "+g+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};M.UNDEFINED_INJECT_ANNOTATION=l,M.CIRCULAR_DEPENDENCY="Circular dependency found:",M.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",M.INVALID_BINDING_TYPE="Invalid binding type:",M.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",M.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",M.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",M.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",M.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var v=function(){for(var g=[],x=0;x<arguments.length;x++)g[x]=arguments[x];return"The number of constructor arguments in the derived class "+(g[0]+" must be >= than the number of constructor arguments of its base class.")};M.ARGUMENTS_LENGTH_MISMATCH=v,M.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",M.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",M.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",M.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",M.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var d=function(){for(var g=[],x=0;x<arguments.length;x++)g[x]=arguments[x];return"@postConstruct error in class "+g[0]+": "+g[1]};M.POST_CONSTRUCT_ERROR=d;var m=function(){for(var g=[],x=0;x<arguments.length;x++)g[x]=arguments[x];return"It looks like there is a circular dependency "+("in one of the '"+g[0]+"' bindings. Please investigate bindings with")+("service identifier '"+g[1]+"'.")};M.CIRCULAR_DEPENDENCY_IN_FACTORY=m,M.STACK_OVERFLOW="Maximum call stack size exceeded"},28421:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.TargetTypeEnum=M.BindingTypeEnum=M.BindingScopeEnum=void 0;var l={Request:"Request",Singleton:"Singleton",Transient:"Transient"};M.BindingScopeEnum=l;var v={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};M.BindingTypeEnum=v;var d={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};M.TargetTypeEnum=d},6867:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.NON_CUSTOM_TAG_KEYS=M.POST_CONSTRUCT=M.DESIGN_PARAM_TYPES=M.PARAM_TYPES=M.TAGGED_PROP=M.TAGGED=M.MULTI_INJECT_TAG=M.INJECT_TAG=M.OPTIONAL_TAG=M.UNMANAGED_TAG=M.NAME_TAG=M.NAMED_TAG=void 0,M.NAMED_TAG="named",M.NAME_TAG="name",M.UNMANAGED_TAG="unmanaged",M.OPTIONAL_TAG="optional",M.INJECT_TAG="inject",M.MULTI_INJECT_TAG="multi_inject",M.TAGGED="inversify:tagged",M.TAGGED_PROP="inversify:tagged_props",M.PARAM_TYPES="inversify:paramtypes",M.DESIGN_PARAM_TYPES="design:paramtypes",M.POST_CONSTRUCT="post_construct";function l(){return[M.INJECT_TAG,M.MULTI_INJECT_TAG,M.NAME_TAG,M.UNMANAGED_TAG,M.NAMED_TAG,M.OPTIONAL_TAG]}M.NON_CUSTOM_TAG_KEYS=l()},51389:function(j,M,l){"use strict";var v=this&&this.__awaiter||function(Y,re,fe,le){function ie(ve){return ve instanceof fe?ve:new fe(function(Oe){Oe(ve)})}return new(fe||(fe=Promise))(function(ve,Oe){function L(Be){try{pe(le.next(Be))}catch(je){Oe(je)}}function Pe(Be){try{pe(le.throw(Be))}catch(je){Oe(je)}}function pe(Be){Be.done?ve(Be.value):ie(Be.value).then(L,Pe)}pe((le=le.apply(Y,re||[])).next())})},d=this&&this.__generator||function(Y,re){var fe={label:0,sent:function(){if(ve[0]&1)throw ve[1];return ve[1]},trys:[],ops:[]},le,ie,ve,Oe;return Oe={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(Oe[Symbol.iterator]=function(){return this}),Oe;function L(pe){return function(Be){return Pe([pe,Be])}}function Pe(pe){if(le)throw new TypeError("Generator is already executing.");for(;fe;)try{if(le=1,ie&&(ve=pe[0]&2?ie.return:pe[0]?ie.throw||((ve=ie.return)&&ve.call(ie),0):ie.next)&&!(ve=ve.call(ie,pe[1])).done)return ve;switch(ie=0,ve&&(pe=[pe[0]&2,ve.value]),pe[0]){case 0:case 1:ve=pe;break;case 4:return fe.label++,{value:pe[1],done:!1};case 5:fe.label++,ie=pe[1],pe=[0];continue;case 7:pe=fe.ops.pop(),fe.trys.pop();continue;default:if(ve=fe.trys,!(ve=ve.length>0&&ve[ve.length-1])&&(pe[0]===6||pe[0]===2)){fe=0;continue}if(pe[0]===3&&(!ve||pe[1]>ve[0]&&pe[1]<ve[3])){fe.label=pe[1];break}if(pe[0]===6&&fe.label<ve[1]){fe.label=ve[1],ve=pe;break}if(ve&&fe.label<ve[2]){fe.label=ve[2],fe.ops.push(pe);break}ve[2]&&fe.ops.pop(),fe.trys.pop();continue}pe=re.call(Y,fe)}catch(Be){pe=[6,Be],ie=0}finally{le=ve=0}if(pe[0]&5)throw pe[1];return{value:pe[0]?pe[1]:void 0,done:!0}}},m=this&&this.__spreadArray||function(Y,re){for(var fe=0,le=re.length,ie=Y.length;fe<le;fe++,ie++)Y[ie]=re[fe];return Y};Object.defineProperty(M,"__esModule",{value:!0}),M.Container=void 0;var g=l(44290),x=l(16674),A=l(28421),E=l(6867),w=l(51377),k=l(86311),Z=l(7478),U=l(51860),$=l(37791),te=l(55800),Q=l(85700),J=l(80175),K=function(){function Y(re){this._appliedMiddleware=[];var fe=re||{};if(typeof fe!="object")throw new Error(""+x.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(fe.defaultScope===void 0)fe.defaultScope=A.BindingScopeEnum.Transient;else if(fe.defaultScope!==A.BindingScopeEnum.Singleton&&fe.defaultScope!==A.BindingScopeEnum.Transient&&fe.defaultScope!==A.BindingScopeEnum.Request)throw new Error(""+x.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(fe.autoBindInjectable===void 0)fe.autoBindInjectable=!1;else if(typeof fe.autoBindInjectable!="boolean")throw new Error(""+x.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(fe.skipBaseClassChecks===void 0)fe.skipBaseClassChecks=!1;else if(typeof fe.skipBaseClassChecks!="boolean")throw new Error(""+x.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:fe.autoBindInjectable,defaultScope:fe.defaultScope,skipBaseClassChecks:fe.skipBaseClassChecks},this.id=$.id(),this._bindingDictionary=new J.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new w.MetadataReader}return Y.merge=function(re,fe){for(var le=[],ie=2;ie<arguments.length;ie++)le[ie-2]=arguments[ie];var ve=new Y,Oe=m([re,fe],le).map(function(pe){return k.getBindingDictionary(pe)}),L=k.getBindingDictionary(ve);function Pe(pe,Be){pe.traverse(function(je,he){he.forEach(function(st){Be.add(st.serviceIdentifier,st.clone())})})}return Oe.forEach(function(pe){Pe(pe,L)}),ve},Y.prototype.load=function(){for(var re=[],fe=0;fe<arguments.length;fe++)re[fe]=arguments[fe];for(var le=this._getContainerModuleHelpersFactory(),ie=0,ve=re;ie<ve.length;ie++){var Oe=ve[ie],L=le(Oe.id);Oe.registry(L.bindFunction,L.unbindFunction,L.isboundFunction,L.rebindFunction)}},Y.prototype.loadAsync=function(){for(var re=[],fe=0;fe<arguments.length;fe++)re[fe]=arguments[fe];return v(this,void 0,void 0,function(){var le,ie,ve,Oe,L;return d(this,function(Pe){switch(Pe.label){case 0:le=this._getContainerModuleHelpersFactory(),ie=0,ve=re,Pe.label=1;case 1:return ie<ve.length?(Oe=ve[ie],L=le(Oe.id),[4,Oe.registry(L.bindFunction,L.unbindFunction,L.isboundFunction,L.rebindFunction)]):[3,4];case 2:Pe.sent(),Pe.label=3;case 3:return ie++,[3,1];case 4:return[2]}})})},Y.prototype.unload=function(){for(var re=this,fe=[],le=0;le<arguments.length;le++)fe[le]=arguments[le];var ie=function(ve){return function(Oe){return Oe.moduleId===ve}};fe.forEach(function(ve){var Oe=ie(ve.id);re._bindingDictionary.removeByCondition(Oe)})},Y.prototype.bind=function(re){var fe=this.options.defaultScope||A.BindingScopeEnum.Transient,le=new g.Binding(re,fe);return this._bindingDictionary.add(re,le),new U.BindingToSyntax(le)},Y.prototype.rebind=function(re){return this.unbind(re),this.bind(re)},Y.prototype.unbind=function(re){try{this._bindingDictionary.remove(re)}catch(fe){throw new Error(x.CANNOT_UNBIND+" "+te.getServiceIdentifierAsString(re))}},Y.prototype.unbindAll=function(){this._bindingDictionary=new J.Lookup},Y.prototype.isBound=function(re){var fe=this._bindingDictionary.hasKey(re);return!fe&&this.parent&&(fe=this.parent.isBound(re)),fe},Y.prototype.isBoundNamed=function(re,fe){return this.isBoundTagged(re,E.NAMED_TAG,fe)},Y.prototype.isBoundTagged=function(re,fe,le){var ie=!1;if(this._bindingDictionary.hasKey(re)){var ve=this._bindingDictionary.get(re),Oe=k.createMockRequest(this,re,fe,le);ie=ve.some(function(L){return L.constraint(Oe)})}return!ie&&this.parent&&(ie=this.parent.isBoundTagged(re,fe,le)),ie},Y.prototype.snapshot=function(){this._snapshots.push(Q.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},Y.prototype.restore=function(){var re=this._snapshots.pop();if(re===void 0)throw new Error(x.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=re.bindings,this._middleware=re.middleware},Y.prototype.createChild=function(re){var fe=new Y(re||this.options);return fe.parent=this,fe},Y.prototype.applyMiddleware=function(){for(var re=[],fe=0;fe<arguments.length;fe++)re[fe]=arguments[fe];this._appliedMiddleware=this._appliedMiddleware.concat(re);var le=this._middleware?this._middleware:this._planAndResolve();this._middleware=re.reduce(function(ie,ve){return ve(ie)},le)},Y.prototype.applyCustomMetadataReader=function(re){this._metadataReader=re},Y.prototype.get=function(re){return this._get(!1,!1,A.TargetTypeEnum.Variable,re)},Y.prototype.getTagged=function(re,fe,le){return this._get(!1,!1,A.TargetTypeEnum.Variable,re,fe,le)},Y.prototype.getNamed=function(re,fe){return this.getTagged(re,E.NAMED_TAG,fe)},Y.prototype.getAll=function(re){return this._get(!0,!0,A.TargetTypeEnum.Variable,re)},Y.prototype.getAllTagged=function(re,fe,le){return this._get(!1,!0,A.TargetTypeEnum.Variable,re,fe,le)},Y.prototype.getAllNamed=function(re,fe){return this.getAllTagged(re,E.NAMED_TAG,fe)},Y.prototype.resolve=function(re){var fe=this.createChild();return fe.bind(re).toSelf(),this._appliedMiddleware.forEach(function(le){fe.applyMiddleware(le)}),fe.get(re)},Y.prototype._getContainerModuleHelpersFactory=function(){var re=this,fe=function(L,Pe){L._binding.moduleId=Pe},le=function(L){return function(Pe){var pe=re.bind.bind(re),Be=pe(Pe);return fe(Be,L),Be}},ie=function(L){return function(Pe){var pe=re.unbind.bind(re);pe(Pe)}},ve=function(L){return function(Pe){var pe=re.isBound.bind(re);return pe(Pe)}},Oe=function(L){return function(Pe){var pe=re.rebind.bind(re),Be=pe(Pe);return fe(Be,L),Be}};return function(L){return{bindFunction:le(L),isboundFunction:ve(L),rebindFunction:Oe(L),unbindFunction:ie(L)}}},Y.prototype._get=function(re,fe,le,ie,ve,Oe){var L=null,Pe={avoidConstraints:re,contextInterceptor:function(pe){return pe},isMultiInject:fe,key:ve,serviceIdentifier:ie,targetType:le,value:Oe};if(this._middleware){if(L=this._middleware(Pe),L==null)throw new Error(x.INVALID_MIDDLEWARE_RETURN)}else L=this._planAndResolve()(Pe);return L},Y.prototype._planAndResolve=function(){var re=this;return function(fe){var le=k.plan(re._metadataReader,re,fe.isMultiInject,fe.targetType,fe.serviceIdentifier,fe.key,fe.value,fe.avoidConstraints);le=fe.contextInterceptor(le);var ie=Z.resolve(le);return ie}},Y}();M.Container=K},33244:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.AsyncContainerModule=M.ContainerModule=void 0;var v=l(37791),d=function(){function g(x){this.id=v.id(),this.registry=x}return g}();M.ContainerModule=d;var m=function(){function g(x){this.id=v.id(),this.registry=x}return g}();M.AsyncContainerModule=m},85700:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ContainerSnapshot=void 0;var l=function(){function v(){}return v.of=function(d,m){var g=new v;return g.bindings=d,g.middleware=m,g},v}();M.ContainerSnapshot=l},80175:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Lookup=void 0;var v=l(16674),d=function(){function m(){this._map=new Map}return m.prototype.getMap=function(){return this._map},m.prototype.add=function(g,x){if(g==null)throw new Error(v.NULL_ARGUMENT);if(x==null)throw new Error(v.NULL_ARGUMENT);var A=this._map.get(g);A!==void 0?(A.push(x),this._map.set(g,A)):this._map.set(g,[x])},m.prototype.get=function(g){if(g==null)throw new Error(v.NULL_ARGUMENT);var x=this._map.get(g);if(x!==void 0)return x;throw new Error(v.KEY_NOT_FOUND)},m.prototype.remove=function(g){if(g==null)throw new Error(v.NULL_ARGUMENT);if(!this._map.delete(g))throw new Error(v.KEY_NOT_FOUND)},m.prototype.removeByCondition=function(g){var x=this;this._map.forEach(function(A,E){var w=A.filter(function(k){return!g(k)});w.length>0?x._map.set(E,w):x._map.delete(E)})},m.prototype.hasKey=function(g){if(g==null)throw new Error(v.NULL_ARGUMENT);return this._map.has(g)},m.prototype.clone=function(){var g=new m;return this._map.forEach(function(x,A){x.forEach(function(E){return g.add(A,E.clone())})}),g},m.prototype.traverse=function(g){this._map.forEach(function(x,A){g(A,x)})},m}();M.Lookup=d},86700:function(j,M,l){"use strict";var v;v={value:!0},v=v=v=v=v=v=M.GW=v=v=M.zY=v=v=M.NT=M.jt=v=M.f3=M.t6=v=M.b2=v=v=v=v=v=M.W2=v=void 0;var d=l(6867);v=d;var m=l(51389);Object.defineProperty(M,"W2",{enumerable:!0,get:function(){return m.Container}});var g=l(28421);v={enumerable:!0,get:function(){return g.BindingScopeEnum}},v={enumerable:!0,get:function(){return g.BindingTypeEnum}},v={enumerable:!0,get:function(){return g.TargetTypeEnum}};var x=l(33244);v={enumerable:!0,get:function(){return x.AsyncContainerModule}},v={enumerable:!0,get:function(){return x.ContainerModule}};var A=l(64315);Object.defineProperty(M,"b2",{enumerable:!0,get:function(){return A.injectable}});var E=l(32052);v={enumerable:!0,get:function(){return E.tagged}};var w=l(38085);Object.defineProperty(M,"t6",{enumerable:!0,get:function(){return w.named}});var k=l(5744);Object.defineProperty(M,"f3",{enumerable:!0,get:function(){return k.inject}}),v={enumerable:!0,get:function(){return k.LazyServiceIdentifer}};var Z=l(6515);Object.defineProperty(M,"jt",{enumerable:!0,get:function(){return Z.optional}});var U=l(86757);Object.defineProperty(M,"NT",{enumerable:!0,get:function(){return U.unmanaged}});var $=l(71693);v={enumerable:!0,get:function(){return $.multiInject}};var te=l(55638);v={enumerable:!0,get:function(){return te.targetName}};var Q=l(7014);Object.defineProperty(M,"zY",{enumerable:!0,get:function(){return Q.postConstruct}});var J=l(51377);v={enumerable:!0,get:function(){return J.MetadataReader}};var K=l(37791);v={enumerable:!0,get:function(){return K.id}};var Y=l(99934);Object.defineProperty(M,"GW",{enumerable:!0,get:function(){return Y.decorate}});var re=l(80758);v={enumerable:!0,get:function(){return re.traverseAncerstors}},v={enumerable:!0,get:function(){return re.taggedConstraint}},v={enumerable:!0,get:function(){return re.namedConstraint}},v={enumerable:!0,get:function(){return re.typeConstraint}};var fe=l(55800);v={enumerable:!0,get:function(){return fe.getServiceIdentifierAsString}};var le=l(70600);v={enumerable:!0,get:function(){return le.multiBindToService}}},95228:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Context=void 0;var v=l(37791),d=function(){function m(g){this.id=v.id(),this.container=g}return m.prototype.addPlan=function(g){this.plan=g},m.prototype.setCurrentRequest=function(g){this.currentRequest=g},m}();M.Context=d},47738:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Metadata=void 0;var v=l(6867),d=function(){function m(g,x){this.key=g,this.value=x}return m.prototype.toString=function(){return this.key===v.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},m}();M.Metadata=d},51377:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MetadataReader=void 0;var v=l(6867),d=function(){function m(){}return m.prototype.getConstructorMetadata=function(g){var x=Reflect.getMetadata(v.PARAM_TYPES,g),A=Reflect.getMetadata(v.TAGGED,g);return{compilerGeneratedMetadata:x,userGeneratedMetadata:A||{}}},m.prototype.getPropertiesMetadata=function(g){var x=Reflect.getMetadata(v.TAGGED_PROP,g)||[];return x},m}();M.MetadataReader=d},55314:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Plan=void 0;var l=function(){function v(d,m){this.parentContext=d,this.rootRequest=m}return v}();M.Plan=l},86311:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.getBindingDictionary=M.createMockRequest=M.plan=void 0;var v=l(23184),d=l(16674),m=l(28421),g=l(6867),x=l(85265),A=l(55800),E=l(95228),w=l(47738),k=l(55314),Z=l(6e3),U=l(6748),$=l(18924);function te(ie){return ie._bindingDictionary}M.getBindingDictionary=te;function Q(ie,ve,Oe,L,Pe,pe){var Be=ie?g.MULTI_INJECT_TAG:g.INJECT_TAG,je=new w.Metadata(Be,Oe),he=new $.Target(ve,L,Oe,je);if(Pe!==void 0){var st=new w.Metadata(Pe,pe);he.metadata.push(st)}return he}function J(ie,ve,Oe,L,Pe){var pe=re(Oe.container,Pe.serviceIdentifier),Be=[];return pe.length===v.BindingCount.NoBindingsAvailable&&Oe.container.options.autoBindInjectable&&typeof Pe.serviceIdentifier=="function"&&ie.getConstructorMetadata(Pe.serviceIdentifier).compilerGeneratedMetadata&&(Oe.container.bind(Pe.serviceIdentifier).toSelf(),pe=re(Oe.container,Pe.serviceIdentifier)),ve?Be=pe:Be=pe.filter(function(je){var he=new U.Request(je.serviceIdentifier,Oe,L,je,Pe);return je.constraint(he)}),K(Pe.serviceIdentifier,Be,Pe,Oe.container),Be}function K(ie,ve,Oe,L){switch(ve.length){case v.BindingCount.NoBindingsAvailable:if(Oe.isOptional())return ve;var Pe=A.getServiceIdentifierAsString(ie),pe=d.NOT_REGISTERED;throw pe+=A.listMetadataForTarget(Pe,Oe),pe+=A.listRegisteredBindingsForServiceIdentifier(L,Pe,re),new Error(pe);case v.BindingCount.OnlyOneBindingAvailable:if(!Oe.isArray())return ve;case v.BindingCount.MultipleBindingsAvailable:default:if(Oe.isArray())return ve;var Pe=A.getServiceIdentifierAsString(ie),pe=d.AMBIGUOUS_MATCH+" "+Pe;throw pe+=A.listRegisteredBindingsForServiceIdentifier(L,Pe,re),new Error(pe)}}function Y(ie,ve,Oe,L,Pe,pe){var Be,je;if(Pe===null){Be=J(ie,ve,L,null,pe),je=new U.Request(Oe,L,null,Be,pe);var he=new k.Plan(L,je);L.addPlan(he)}else Be=J(ie,ve,L,Pe,pe),je=Pe.addChildRequest(pe.serviceIdentifier,Be,pe);Be.forEach(function(st){var en=null;if(pe.isArray())en=je.addChildRequest(st.serviceIdentifier,st,pe);else{if(st.cache)return;en=je}if(st.type===m.BindingTypeEnum.Instance&&st.implementationType!==null){var vn=Z.getDependencies(ie,st.implementationType);if(!L.container.options.skipBaseClassChecks){var Mt=Z.getBaseClassDependencyCount(ie,st.implementationType);if(vn.length<Mt){var It=d.ARGUMENTS_LENGTH_MISMATCH(Z.getFunctionName(st.implementationType));throw new Error(It)}}vn.forEach(function(Ve){Y(ie,!1,Ve.serviceIdentifier,L,en,Ve)})}})}function re(ie,ve){var Oe=[],L=te(ie);return L.hasKey(ve)?Oe=L.get(ve):ie.parent!==null&&(Oe=re(ie.parent,ve)),Oe}function fe(ie,ve,Oe,L,Pe,pe,Be,je){je===void 0&&(je=!1);var he=new E.Context(ve),st=Q(Oe,L,Pe,"",pe,Be);try{return Y(ie,je,Pe,he,null,st),he}catch(en){throw x.isStackOverflowExeption(en)&&he.plan&&A.circularDependencyToException(he.plan.rootRequest),en}}M.plan=fe;function le(ie,ve,Oe,L){var Pe=new $.Target(m.TargetTypeEnum.Variable,"",ve,new w.Metadata(Oe,L)),pe=new E.Context(ie),Be=new U.Request(ve,pe,null,[],Pe);return Be}M.createMockRequest=le},88460:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.QueryableString=void 0;var l=function(){function v(d){this.str=d}return v.prototype.startsWith=function(d){return this.str.indexOf(d)===0},v.prototype.endsWith=function(d){var m="",g=d.split("").reverse().join("");return m=this.str.split("").reverse().join(""),this.startsWith.call({str:m},g)},v.prototype.contains=function(d){return this.str.indexOf(d)!==-1},v.prototype.equals=function(d){return this.str===d},v.prototype.value=function(){return this.str},v}();M.QueryableString=l},6e3:function(j,M,l){"use strict";var v=this&&this.__spreadArray||function(J,K){for(var Y=0,re=K.length,fe=J.length;Y<re;Y++,fe++)J[fe]=K[Y];return J};Object.defineProperty(M,"__esModule",{value:!0}),M.getFunctionName=M.getBaseClassDependencyCount=M.getDependencies=void 0;var d=l(5744),m=l(16674),g=l(28421),x=l(6867),A=l(55800);Object.defineProperty(M,"getFunctionName",{enumerable:!0,get:function(){return A.getFunctionName}});var E=l(18924);function w(J,K){var Y=A.getFunctionName(K),re=k(J,Y,K,!1);return re}M.getDependencies=w;function k(J,K,Y,re){var fe=J.getConstructorMetadata(Y),le=fe.compilerGeneratedMetadata;if(le===void 0){var ie=m.MISSING_INJECTABLE_ANNOTATION+" "+K+".";throw new Error(ie)}var ve=fe.userGeneratedMetadata,Oe=Object.keys(ve),L=Y.length===0&&Oe.length>0,Pe=Oe.length>Y.length,pe=L||Pe?Oe.length:Y.length,Be=U(re,K,le,ve,pe),je=$(J,Y),he=v(v([],Be),je);return he}function Z(J,K,Y,re,fe){var le=fe[J.toString()]||[],ie=Q(le),ve=ie.unmanaged!==!0,Oe=re[J],L=ie.inject||ie.multiInject;if(Oe=L||Oe,Oe instanceof d.LazyServiceIdentifer&&(Oe=Oe.unwrap()),ve){var Pe=Oe===Object,pe=Oe===Function,Be=Oe===void 0,je=Pe||pe||Be;if(!K&&je){var he=m.MISSING_INJECT_ANNOTATION+" argument "+J+" in class "+Y+".";throw new Error(he)}var st=new E.Target(g.TargetTypeEnum.ConstructorArgument,ie.targetName,Oe);return st.metadata=le,st}return null}function U(J,K,Y,re,fe){for(var le=[],ie=0;ie<fe;ie++){var ve=ie,Oe=Z(ve,J,K,Y,re);Oe!==null&&le.push(Oe)}return le}function $(J,K){for(var Y=J.getPropertiesMetadata(K),re=[],fe=Object.keys(Y),le=0,ie=fe;le<ie.length;le++){var ve=ie[le],Oe=Y[ve],L=Q(Y[ve]),Pe=L.targetName||ve,pe=L.inject||L.multiInject,Be=new E.Target(g.TargetTypeEnum.ClassProperty,Pe,pe);Be.metadata=Oe,re.push(Be)}var je=Object.getPrototypeOf(K.prototype).constructor;if(je!==Object){var he=$(J,je);re=v(v([],re),he)}return re}function te(J,K){var Y=Object.getPrototypeOf(K.prototype).constructor;if(Y!==Object){var re=A.getFunctionName(Y),fe=k(J,re,Y,!0),le=fe.map(function(Oe){return Oe.metadata.filter(function(L){return L.key===x.UNMANAGED_TAG})}),ie=[].concat.apply([],le).length,ve=fe.length-ie;return ve>0?ve:te(J,Y)}else return 0}M.getBaseClassDependencyCount=te;function Q(J){var K={};return J.forEach(function(Y){K[Y.key.toString()]=Y.value}),{inject:K[x.INJECT_TAG],multiInject:K[x.MULTI_INJECT_TAG],targetName:K[x.NAME_TAG],unmanaged:K[x.UNMANAGED_TAG]}}},6748:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Request=void 0;var v=l(37791),d=function(){function m(g,x,A,E,w){this.id=v.id(),this.serviceIdentifier=g,this.parentContext=x,this.parentRequest=A,this.target=w,this.childRequests=[],this.bindings=Array.isArray(E)?E:[E],this.requestScope=A===null?new Map:null}return m.prototype.addChildRequest=function(g,x,A){var E=new m(g,this.parentContext,this,x,A);return this.childRequests.push(E),E},m}();M.Request=d},18924:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Target=void 0;var v=l(6867),d=l(37791),m=l(47738),g=l(88460),x=function(){function A(E,w,k,Z){this.id=d.id(),this.type=E,this.serviceIdentifier=k,this.name=new g.QueryableString(w||""),this.metadata=new Array;var U=null;typeof Z=="string"?U=new m.Metadata(v.NAMED_TAG,Z):Z instanceof m.Metadata&&(U=Z),U!==null&&this.metadata.push(U)}return A.prototype.hasTag=function(E){for(var w=0,k=this.metadata;w<k.length;w++){var Z=k[w];if(Z.key===E)return!0}return!1},A.prototype.isArray=function(){return this.hasTag(v.MULTI_INJECT_TAG)},A.prototype.matchesArray=function(E){return this.matchesTag(v.MULTI_INJECT_TAG)(E)},A.prototype.isNamed=function(){return this.hasTag(v.NAMED_TAG)},A.prototype.isTagged=function(){return this.metadata.some(function(E){return v.NON_CUSTOM_TAG_KEYS.every(function(w){return E.key!==w})})},A.prototype.isOptional=function(){return this.matchesTag(v.OPTIONAL_TAG)(!0)},A.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(E){return E.key===v.NAMED_TAG})[0]:null},A.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(E){return v.NON_CUSTOM_TAG_KEYS.every(function(w){return E.key!==w})}):null},A.prototype.matchesNamedTag=function(E){return this.matchesTag(v.NAMED_TAG)(E)},A.prototype.matchesTag=function(E){var w=this;return function(k){for(var Z=0,U=w.metadata;Z<U.length;Z++){var $=U[Z];if($.key===E&&$.value===k)return!0}return!1}},A}();M.Target=x},52279:function(j,M,l){"use strict";var v=this&&this.__spreadArray||function(k,Z){for(var U=0,$=Z.length,te=k.length;U<$;U++,te++)k[te]=Z[U];return k};Object.defineProperty(M,"__esModule",{value:!0}),M.resolveInstance=void 0;var d=l(16674),m=l(28421),g=l(6867);function x(k,Z,U){var $=Z.filter(function(Q){return Q.target!==null&&Q.target.type===m.TargetTypeEnum.ClassProperty}),te=$.map(U);return $.forEach(function(Q,J){var K="";K=Q.target.name.value();var Y=te[J];k[K]=Y}),k}function A(k,Z){return new(k.bind.apply(k,v([void 0],Z)))}function E(k,Z){if(Reflect.hasMetadata(g.POST_CONSTRUCT,k)){var U=Reflect.getMetadata(g.POST_CONSTRUCT,k);try{Z[U.value]()}catch($){throw new Error(d.POST_CONSTRUCT_ERROR(k.name,$.message))}}}function w(k,Z,U){var $=null;if(Z.length>0){var te=Z.filter(function(J){return J.target!==null&&J.target.type===m.TargetTypeEnum.ConstructorArgument}),Q=te.map(U);$=A(k,Q),$=x($,Z,U)}else $=new k;return E(k,$),$}M.resolveInstance=w},7478:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.resolve=void 0;var v=l(16674),d=l(28421),m=l(85265),g=l(55800),x=l(52279),A=function(k,Z,U){try{return U()}catch($){throw m.isStackOverflowExeption($)?new Error(v.CIRCULAR_DEPENDENCY_IN_FACTORY(k,Z.toString())):$}},E=function(k){return function(Z){Z.parentContext.setCurrentRequest(Z);var U=Z.bindings,$=Z.childRequests,te=Z.target&&Z.target.isArray(),Q=!Z.parentRequest||!Z.parentRequest.target||!Z.target||!Z.parentRequest.target.matchesArray(Z.target.serviceIdentifier);if(te&&Q)return $.map(function(le){var ie=E(k);return ie(le)});var J=null;if(Z.target.isOptional()&&U.length===0)return;var K=U[0],Y=K.scope===d.BindingScopeEnum.Singleton,re=K.scope===d.BindingScopeEnum.Request;if(Y&&K.activated)return K.cache;if(re&&k!==null&&k.has(K.id))return k.get(K.id);if(K.type===d.BindingTypeEnum.ConstantValue)J=K.cache,K.activated=!0;else if(K.type===d.BindingTypeEnum.Function)J=K.cache,K.activated=!0;else if(K.type===d.BindingTypeEnum.Constructor)J=K.implementationType;else if(K.type===d.BindingTypeEnum.DynamicValue&&K.dynamicValue!==null)J=A("toDynamicValue",K.serviceIdentifier,function(){return K.dynamicValue(Z.parentContext)});else if(K.type===d.BindingTypeEnum.Factory&&K.factory!==null)J=A("toFactory",K.serviceIdentifier,function(){return K.factory(Z.parentContext)});else if(K.type===d.BindingTypeEnum.Provider&&K.provider!==null)J=A("toProvider",K.serviceIdentifier,function(){return K.provider(Z.parentContext)});else if(K.type===d.BindingTypeEnum.Instance&&K.implementationType!==null)J=x.resolveInstance(K.implementationType,$,E(k));else{var fe=g.getServiceIdentifierAsString(Z.serviceIdentifier);throw new Error(v.INVALID_BINDING_TYPE+" "+fe)}return typeof K.onActivation=="function"&&(J=K.onActivation(Z.parentContext,J)),Y&&(K.cache=J,K.activated=!0),re&&k!==null&&!k.has(K.id)&&k.set(K.id,J),J}};function w(k){var Z=E(k.plan.rootRequest.requestScope);return Z(k.plan.rootRequest)}M.resolve=w},83366:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingInSyntax=void 0;var v=l(28421),d=l(71325),m=function(){function g(x){this._binding=x}return g.prototype.inRequestScope=function(){return this._binding.scope=v.BindingScopeEnum.Request,new d.BindingWhenOnSyntax(this._binding)},g.prototype.inSingletonScope=function(){return this._binding.scope=v.BindingScopeEnum.Singleton,new d.BindingWhenOnSyntax(this._binding)},g.prototype.inTransientScope=function(){return this._binding.scope=v.BindingScopeEnum.Transient,new d.BindingWhenOnSyntax(this._binding)},g}();M.BindingInSyntax=m},99812:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingInWhenOnSyntax=void 0;var v=l(83366),d=l(51811),m=l(98370),g=function(){function x(A){this._binding=A,this._bindingWhenSyntax=new m.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new d.BindingOnSyntax(this._binding),this._bindingInSyntax=new v.BindingInSyntax(A)}return x.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},x.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},x.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},x.prototype.when=function(A){return this._bindingWhenSyntax.when(A)},x.prototype.whenTargetNamed=function(A){return this._bindingWhenSyntax.whenTargetNamed(A)},x.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},x.prototype.whenTargetTagged=function(A,E){return this._bindingWhenSyntax.whenTargetTagged(A,E)},x.prototype.whenInjectedInto=function(A){return this._bindingWhenSyntax.whenInjectedInto(A)},x.prototype.whenParentNamed=function(A){return this._bindingWhenSyntax.whenParentNamed(A)},x.prototype.whenParentTagged=function(A,E){return this._bindingWhenSyntax.whenParentTagged(A,E)},x.prototype.whenAnyAncestorIs=function(A){return this._bindingWhenSyntax.whenAnyAncestorIs(A)},x.prototype.whenNoAncestorIs=function(A){return this._bindingWhenSyntax.whenNoAncestorIs(A)},x.prototype.whenAnyAncestorNamed=function(A){return this._bindingWhenSyntax.whenAnyAncestorNamed(A)},x.prototype.whenAnyAncestorTagged=function(A,E){return this._bindingWhenSyntax.whenAnyAncestorTagged(A,E)},x.prototype.whenNoAncestorNamed=function(A){return this._bindingWhenSyntax.whenNoAncestorNamed(A)},x.prototype.whenNoAncestorTagged=function(A,E){return this._bindingWhenSyntax.whenNoAncestorTagged(A,E)},x.prototype.whenAnyAncestorMatches=function(A){return this._bindingWhenSyntax.whenAnyAncestorMatches(A)},x.prototype.whenNoAncestorMatches=function(A){return this._bindingWhenSyntax.whenNoAncestorMatches(A)},x.prototype.onActivation=function(A){return this._bindingOnSyntax.onActivation(A)},x}();M.BindingInWhenOnSyntax=g},51811:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingOnSyntax=void 0;var v=l(98370),d=function(){function m(g){this._binding=g}return m.prototype.onActivation=function(g){return this._binding.onActivation=g,new v.BindingWhenSyntax(this._binding)},m}();M.BindingOnSyntax=d},51860:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingToSyntax=void 0;var v=l(16674),d=l(28421),m=l(99812),g=l(71325),x=function(){function A(E){this._binding=E}return A.prototype.to=function(E){return this._binding.type=d.BindingTypeEnum.Instance,this._binding.implementationType=E,new m.BindingInWhenOnSyntax(this._binding)},A.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+v.INVALID_TO_SELF_VALUE);var E=this._binding.serviceIdentifier;return this.to(E)},A.prototype.toConstantValue=function(E){return this._binding.type=d.BindingTypeEnum.ConstantValue,this._binding.cache=E,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=d.BindingScopeEnum.Singleton,new g.BindingWhenOnSyntax(this._binding)},A.prototype.toDynamicValue=function(E){return this._binding.type=d.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=E,this._binding.implementationType=null,new m.BindingInWhenOnSyntax(this._binding)},A.prototype.toConstructor=function(E){return this._binding.type=d.BindingTypeEnum.Constructor,this._binding.implementationType=E,this._binding.scope=d.BindingScopeEnum.Singleton,new g.BindingWhenOnSyntax(this._binding)},A.prototype.toFactory=function(E){return this._binding.type=d.BindingTypeEnum.Factory,this._binding.factory=E,this._binding.scope=d.BindingScopeEnum.Singleton,new g.BindingWhenOnSyntax(this._binding)},A.prototype.toFunction=function(E){if(typeof E!="function")throw new Error(v.INVALID_FUNCTION_BINDING);var w=this.toConstantValue(E);return this._binding.type=d.BindingTypeEnum.Function,this._binding.scope=d.BindingScopeEnum.Singleton,w},A.prototype.toAutoFactory=function(E){return this._binding.type=d.BindingTypeEnum.Factory,this._binding.factory=function(w){var k=function(){return w.container.get(E)};return k},this._binding.scope=d.BindingScopeEnum.Singleton,new g.BindingWhenOnSyntax(this._binding)},A.prototype.toProvider=function(E){return this._binding.type=d.BindingTypeEnum.Provider,this._binding.provider=E,this._binding.scope=d.BindingScopeEnum.Singleton,new g.BindingWhenOnSyntax(this._binding)},A.prototype.toService=function(E){this.toDynamicValue(function(w){return w.container.get(E)})},A}();M.BindingToSyntax=x},71325:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingWhenOnSyntax=void 0;var v=l(51811),d=l(98370),m=function(){function g(x){this._binding=x,this._bindingWhenSyntax=new d.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new v.BindingOnSyntax(this._binding)}return g.prototype.when=function(x){return this._bindingWhenSyntax.when(x)},g.prototype.whenTargetNamed=function(x){return this._bindingWhenSyntax.whenTargetNamed(x)},g.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},g.prototype.whenTargetTagged=function(x,A){return this._bindingWhenSyntax.whenTargetTagged(x,A)},g.prototype.whenInjectedInto=function(x){return this._bindingWhenSyntax.whenInjectedInto(x)},g.prototype.whenParentNamed=function(x){return this._bindingWhenSyntax.whenParentNamed(x)},g.prototype.whenParentTagged=function(x,A){return this._bindingWhenSyntax.whenParentTagged(x,A)},g.prototype.whenAnyAncestorIs=function(x){return this._bindingWhenSyntax.whenAnyAncestorIs(x)},g.prototype.whenNoAncestorIs=function(x){return this._bindingWhenSyntax.whenNoAncestorIs(x)},g.prototype.whenAnyAncestorNamed=function(x){return this._bindingWhenSyntax.whenAnyAncestorNamed(x)},g.prototype.whenAnyAncestorTagged=function(x,A){return this._bindingWhenSyntax.whenAnyAncestorTagged(x,A)},g.prototype.whenNoAncestorNamed=function(x){return this._bindingWhenSyntax.whenNoAncestorNamed(x)},g.prototype.whenNoAncestorTagged=function(x,A){return this._bindingWhenSyntax.whenNoAncestorTagged(x,A)},g.prototype.whenAnyAncestorMatches=function(x){return this._bindingWhenSyntax.whenAnyAncestorMatches(x)},g.prototype.whenNoAncestorMatches=function(x){return this._bindingWhenSyntax.whenNoAncestorMatches(x)},g.prototype.onActivation=function(x){return this._bindingOnSyntax.onActivation(x)},g}();M.BindingWhenOnSyntax=m},98370:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingWhenSyntax=void 0;var v=l(51811),d=l(80758),m=function(){function g(x){this._binding=x}return g.prototype.when=function(x){return this._binding.constraint=x,new v.BindingOnSyntax(this._binding)},g.prototype.whenTargetNamed=function(x){return this._binding.constraint=d.namedConstraint(x),new v.BindingOnSyntax(this._binding)},g.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(x){var A=x.target!==null&&!x.target.isNamed()&&!x.target.isTagged();return A},new v.BindingOnSyntax(this._binding)},g.prototype.whenTargetTagged=function(x,A){return this._binding.constraint=d.taggedConstraint(x)(A),new v.BindingOnSyntax(this._binding)},g.prototype.whenInjectedInto=function(x){return this._binding.constraint=function(A){return d.typeConstraint(x)(A.parentRequest)},new v.BindingOnSyntax(this._binding)},g.prototype.whenParentNamed=function(x){return this._binding.constraint=function(A){return d.namedConstraint(x)(A.parentRequest)},new v.BindingOnSyntax(this._binding)},g.prototype.whenParentTagged=function(x,A){return this._binding.constraint=function(E){return d.taggedConstraint(x)(A)(E.parentRequest)},new v.BindingOnSyntax(this._binding)},g.prototype.whenAnyAncestorIs=function(x){return this._binding.constraint=function(A){return d.traverseAncerstors(A,d.typeConstraint(x))},new v.BindingOnSyntax(this._binding)},g.prototype.whenNoAncestorIs=function(x){return this._binding.constraint=function(A){return!d.traverseAncerstors(A,d.typeConstraint(x))},new v.BindingOnSyntax(this._binding)},g.prototype.whenAnyAncestorNamed=function(x){return this._binding.constraint=function(A){return d.traverseAncerstors(A,d.namedConstraint(x))},new v.BindingOnSyntax(this._binding)},g.prototype.whenNoAncestorNamed=function(x){return this._binding.constraint=function(A){return!d.traverseAncerstors(A,d.namedConstraint(x))},new v.BindingOnSyntax(this._binding)},g.prototype.whenAnyAncestorTagged=function(x,A){return this._binding.constraint=function(E){return d.traverseAncerstors(E,d.taggedConstraint(x)(A))},new v.BindingOnSyntax(this._binding)},g.prototype.whenNoAncestorTagged=function(x,A){return this._binding.constraint=function(E){return!d.traverseAncerstors(E,d.taggedConstraint(x)(A))},new v.BindingOnSyntax(this._binding)},g.prototype.whenAnyAncestorMatches=function(x){return this._binding.constraint=function(A){return d.traverseAncerstors(A,x)},new v.BindingOnSyntax(this._binding)},g.prototype.whenNoAncestorMatches=function(x){return this._binding.constraint=function(A){return!d.traverseAncerstors(A,x)},new v.BindingOnSyntax(this._binding)},g}();M.BindingWhenSyntax=m},80758:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.typeConstraint=M.namedConstraint=M.taggedConstraint=M.traverseAncerstors=void 0;var v=l(6867),d=l(47738),m=function(E,w){var k=E.parentRequest;return k!==null?w(k)?!0:m(k,w):!1};M.traverseAncerstors=m;var g=function(E){return function(w){var k=function(Z){return Z!==null&&Z.target!==null&&Z.target.matchesTag(E)(w)};return k.metaData=new d.Metadata(E,w),k}};M.taggedConstraint=g;var x=g(v.NAMED_TAG);M.namedConstraint=x;var A=function(E){return function(w){var k=null;if(w!==null)if(k=w.bindings[0],typeof E=="string"){var Z=k.serviceIdentifier;return Z===E}else{var U=w.bindings[0].implementationType;return E===U}return!1}};M.typeConstraint=A},70600:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.multiBindToService=void 0;var l=function(v){return function(d){return function(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];return m.forEach(function(x){return v.bind(x).toService(d)})}}};M.multiBindToService=l},85265:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.isStackOverflowExeption=void 0;var v=l(16674);function d(m){return m instanceof RangeError||m.message===v.STACK_OVERFLOW}M.isStackOverflowExeption=d},37791:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.id=void 0;var l=0;function v(){return l++}M.id=v},55800:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.circularDependencyToException=M.listMetadataForTarget=M.listRegisteredBindingsForServiceIdentifier=M.getServiceIdentifierAsString=M.getFunctionName=void 0;var v=l(16674);function d(k){if(typeof k=="function"){var Z=k;return Z.name}else{if(typeof k=="symbol")return k.toString();var Z=k;return Z}}M.getServiceIdentifierAsString=d;function m(k,Z,U){var $="",te=U(k,Z);return te.length!==0&&($=`
Registered bindings:`,te.forEach(function(Q){var J="Object";Q.implementationType!==null&&(J=w(Q.implementationType)),$=$+`
 `+J,Q.constraint.metaData&&($=$+" - "+Q.constraint.metaData)})),$}M.listRegisteredBindingsForServiceIdentifier=m;function g(k,Z){return k.parentRequest===null?!1:k.parentRequest.serviceIdentifier===Z?!0:g(k.parentRequest,Z)}function x(k){function Z($,te){te===void 0&&(te=[]);var Q=d($.serviceIdentifier);return te.push(Q),$.parentRequest!==null?Z($.parentRequest,te):te}var U=Z(k);return U.reverse().join(" --> ")}function A(k){k.childRequests.forEach(function(Z){if(g(Z,Z.serviceIdentifier)){var U=x(Z);throw new Error(v.CIRCULAR_DEPENDENCY+" "+U)}else A(Z)})}M.circularDependencyToException=A;function E(k,Z){if(Z.isTagged()||Z.isNamed()){var U="",$=Z.getNamedTag(),te=Z.getCustomTags();return $!==null&&(U+=$.toString()+`
`),te!==null&&te.forEach(function(Q){U+=Q.toString()+`
`})," "+k+`
 `+k+" - "+U}else return" "+k}M.listMetadataForTarget=E;function w(k){if(k.name)return k.name;var Z=k.toString(),U=Z.match(/^function\s*([^\s(]+)/);return U?U[1]:"Anonymous function: "+Z}M.getFunctionName=w},44091:function(j,M,l){"use strict";l.r(M),l.d(M,{isAnyArray:function(){return d}});const v=Object.prototype.toString;function d(m){const g=v.call(m);return g.endsWith("Array]")&&!g.includes("Big")}},50450:function(j,M,l){var v,d,m;(function(g){d=[l(19755)],v=g,m=typeof v=="function"?v.apply(M,d):v,m!==void 0&&(j.exports=m)})(function(g){var x=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],A="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],E=Array.prototype.slice,w,k;if(g.event.fixHooks)for(var Z=x.length;Z;)g.event.fixHooks[x[--Z]]=g.event.mouseHooks;var U=g.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var J=A.length;J;)this.addEventListener(A[--J],$,!1);else this.onmousewheel=$;g.data(this,"mousewheel-line-height",U.getLineHeight(this)),g.data(this,"mousewheel-page-height",U.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var J=A.length;J;)this.removeEventListener(A[--J],$,!1);else this.onmousewheel=null;g.removeData(this,"mousewheel-line-height"),g.removeData(this,"mousewheel-page-height")},getLineHeight:function(J){var K=g(J),Y=K["offsetParent"in g.fn?"offsetParent":"parent"]();return Y.length||(Y=g("body")),parseInt(Y.css("fontSize"),10)||parseInt(K.css("fontSize"),10)||16},getPageHeight:function(J){return g(J).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};g.fn.extend({mousewheel:function(J){return J?this.bind("mousewheel",J):this.trigger("mousewheel")},unmousewheel:function(J){return this.unbind("mousewheel",J)}});function $(J){var K=J||window.event,Y=E.call(arguments,1),re=0,fe=0,le=0,ie=0,ve=0,Oe=0;if(J=g.event.fix(K),J.type="mousewheel","detail"in K&&(le=K.detail*-1),"wheelDelta"in K&&(le=K.wheelDelta),"wheelDeltaY"in K&&(le=K.wheelDeltaY),"wheelDeltaX"in K&&(fe=K.wheelDeltaX*-1),"axis"in K&&K.axis===K.HORIZONTAL_AXIS&&(fe=le*-1,le=0),re=le===0?fe:le,"deltaY"in K&&(le=K.deltaY*-1,re=le),"deltaX"in K&&(fe=K.deltaX,le===0&&(re=fe*-1)),!(le===0&&fe===0)){if(K.deltaMode===1){var L=g.data(this,"mousewheel-line-height");re*=L,le*=L,fe*=L}else if(K.deltaMode===2){var Pe=g.data(this,"mousewheel-page-height");re*=Pe,le*=Pe,fe*=Pe}if(ie=Math.max(Math.abs(le),Math.abs(fe)),(!k||ie<k)&&(k=ie,Q(K,ie)&&(k/=40)),Q(K,ie)&&(re/=40,fe/=40,le/=40),re=Math[re>=1?"floor":"ceil"](re/k),fe=Math[fe>=1?"floor":"ceil"](fe/k),le=Math[le>=1?"floor":"ceil"](le/k),U.settings.normalizeOffset&&this.getBoundingClientRect){var pe=this.getBoundingClientRect();ve=J.clientX-pe.left,Oe=J.clientY-pe.top}return J.deltaX=fe,J.deltaY=le,J.deltaFactor=k,J.offsetX=ve,J.offsetY=Oe,J.deltaMode=0,Y.unshift(J,re,fe,le),w&&clearTimeout(w),w=setTimeout(te,200),(g.event.dispatch||g.event.handle).apply(this,Y)}}function te(){k=null}function Q(J,K){return U.settings.adjustOldDeltas&&J.type==="mousewheel"&&K%120===0}})},19755:function(j,M){var l,v;(function(d,m){"use strict";typeof j.exports=="object"?j.exports=d.document?m(d,!0):function(g){if(!g.document)throw new Error("jQuery requires a window with a document");return m(g)}:m(d)})(typeof window!="undefined"?window:this,function(d,m){"use strict";var g=[],x=Object.getPrototypeOf,A=g.slice,E=g.flat?function(F){return g.flat.call(F)}:function(F){return g.concat.apply([],F)},w=g.push,k=g.indexOf,Z={},U=Z.toString,$=Z.hasOwnProperty,te=$.toString,Q=te.call(Object),J={},K=function(X){return typeof X=="function"&&typeof X.nodeType!="number"&&typeof X.item!="function"},Y=function(X){return X!=null&&X===X.window},re=d.document,fe={type:!0,src:!0,nonce:!0,noModule:!0};function le(F,X,ge){ge=ge||re;var _e,Je,tt=ge.createElement("script");if(tt.text=F,X)for(_e in fe)Je=X[_e]||X.getAttribute&&X.getAttribute(_e),Je&&tt.setAttribute(_e,Je);ge.head.appendChild(tt).parentNode.removeChild(tt)}function ie(F){return F==null?F+"":typeof F=="object"||typeof F=="function"?Z[U.call(F)]||"object":typeof F}var ve="3.7.1",Oe=/HTML$/i,L=function(F,X){return new L.fn.init(F,X)};L.fn=L.prototype={jquery:ve,constructor:L,length:0,toArray:function(){return A.call(this)},get:function(F){return F==null?A.call(this):F<0?this[F+this.length]:this[F]},pushStack:function(F){var X=L.merge(this.constructor(),F);return X.prevObject=this,X},each:function(F){return L.each(this,F)},map:function(F){return this.pushStack(L.map(this,function(X,ge){return F.call(X,ge,X)}))},slice:function(){return this.pushStack(A.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(L.grep(this,function(F,X){return(X+1)%2}))},odd:function(){return this.pushStack(L.grep(this,function(F,X){return X%2}))},eq:function(F){var X=this.length,ge=+F+(F<0?X:0);return this.pushStack(ge>=0&&ge<X?[this[ge]]:[])},end:function(){return this.prevObject||this.constructor()},push:w,sort:g.sort,splice:g.splice},L.extend=L.fn.extend=function(){var F,X,ge,_e,Je,tt,gt=arguments[0]||{},_n=1,Dn=arguments.length,Un=!1;for(typeof gt=="boolean"&&(Un=gt,gt=arguments[_n]||{},_n++),typeof gt!="object"&&!K(gt)&&(gt={}),_n===Dn&&(gt=this,_n--);_n<Dn;_n++)if((F=arguments[_n])!=null)for(X in F)_e=F[X],!(X==="__proto__"||gt===_e)&&(Un&&_e&&(L.isPlainObject(_e)||(Je=Array.isArray(_e)))?(ge=gt[X],Je&&!Array.isArray(ge)?tt=[]:!Je&&!L.isPlainObject(ge)?tt={}:tt=ge,Je=!1,gt[X]=L.extend(Un,tt,_e)):_e!==void 0&&(gt[X]=_e));return gt},L.extend({expando:"jQuery"+(ve+Math.random()).replace(/\D/g,""),isReady:!0,error:function(F){throw new Error(F)},noop:function(){},isPlainObject:function(F){var X,ge;return!F||U.call(F)!=="[object Object]"?!1:(X=x(F),X?(ge=$.call(X,"constructor")&&X.constructor,typeof ge=="function"&&te.call(ge)===Q):!0)},isEmptyObject:function(F){var X;for(X in F)return!1;return!0},globalEval:function(F,X,ge){le(F,{nonce:X&&X.nonce},ge)},each:function(F,X){var ge,_e=0;if(Pe(F))for(ge=F.length;_e<ge&&X.call(F[_e],_e,F[_e])!==!1;_e++);else for(_e in F)if(X.call(F[_e],_e,F[_e])===!1)break;return F},text:function(F){var X,ge="",_e=0,Je=F.nodeType;if(!Je)for(;X=F[_e++];)ge+=L.text(X);return Je===1||Je===11?F.textContent:Je===9?F.documentElement.textContent:Je===3||Je===4?F.nodeValue:ge},makeArray:function(F,X){var ge=X||[];return F!=null&&(Pe(Object(F))?L.merge(ge,typeof F=="string"?[F]:F):w.call(ge,F)),ge},inArray:function(F,X,ge){return X==null?-1:k.call(X,F,ge)},isXMLDoc:function(F){var X=F&&F.namespaceURI,ge=F&&(F.ownerDocument||F).documentElement;return!Oe.test(X||ge&&ge.nodeName||"HTML")},merge:function(F,X){for(var ge=+X.length,_e=0,Je=F.length;_e<ge;_e++)F[Je++]=X[_e];return F.length=Je,F},grep:function(F,X,ge){for(var _e,Je=[],tt=0,gt=F.length,_n=!ge;tt<gt;tt++)_e=!X(F[tt],tt),_e!==_n&&Je.push(F[tt]);return Je},map:function(F,X,ge){var _e,Je,tt=0,gt=[];if(Pe(F))for(_e=F.length;tt<_e;tt++)Je=X(F[tt],tt,ge),Je!=null&&gt.push(Je);else for(tt in F)Je=X(F[tt],tt,ge),Je!=null&&gt.push(Je);return E(gt)},guid:1,support:J}),typeof Symbol=="function"&&(L.fn[Symbol.iterator]=g[Symbol.iterator]),L.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(F,X){Z["[object "+X+"]"]=X.toLowerCase()});function Pe(F){var X=!!F&&"length"in F&&F.length,ge=ie(F);return K(F)||Y(F)?!1:ge==="array"||X===0||typeof X=="number"&&X>0&&X-1 in F}function pe(F,X){return F.nodeName&&F.nodeName.toLowerCase()===X.toLowerCase()}var Be=g.pop,je=g.sort,he=g.splice,st="[\\x20\\t\\r\\n\\f]",en=new RegExp("^"+st+"+|((?:^|[^\\\\])(?:\\\\.)*)"+st+"+$","g");L.contains=function(F,X){var ge=X&&X.parentNode;return F===ge||!!(ge&&ge.nodeType===1&&(F.contains?F.contains(ge):F.compareDocumentPosition&&F.compareDocumentPosition(ge)&16))};var vn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Mt(F,X){return X?F==="\0"?"\uFFFD":F.slice(0,-1)+"\\"+F.charCodeAt(F.length-1).toString(16)+" ":"\\"+F}L.escapeSelector=function(F){return(F+"").replace(vn,Mt)};var It=re,Ve=w;(function(){var F,X,ge,_e,Je,tt=Ve,gt,_n,Dn,Un,Mr,Dr=L.expando,fr=0,Er=0,ao=Pa(),oo=Pa(),ba=Pa(),es=Pa(),Da=function(Pt,cn){return Pt===cn&&(Je=!0),0},ut="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",on="(?:\\\\[\\da-fA-F]{1,6}"+st+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",xn="\\["+st+"*("+on+")(?:"+st+"*([*^$|!~]?=)"+st+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+on+"))|)"+st+"*\\]",cr=":("+on+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+xn+")*)|.*)\\)|)",mn=new RegExp(st+"+","g"),Or=new RegExp("^"+st+"*,"+st+"*"),ei=new RegExp("^"+st+"*([>+~]|"+st+")"+st+"*"),Ni=new RegExp(st+"|>"),ki=new RegExp(cr),yo=new RegExp("^"+on+"$"),Ro={ID:new RegExp("^#("+on+")"),CLASS:new RegExp("^\\.("+on+")"),TAG:new RegExp("^("+on+"|[*])"),ATTR:new RegExp("^"+xn),PSEUDO:new RegExp("^"+cr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+st+"*(even|odd|(([+-]|)(\\d*)n|)"+st+"*(?:([+-]|)"+st+"*(\\d+)|))"+st+"*\\)|)","i"),bool:new RegExp("^(?:"+ut+")$","i"),needsContext:new RegExp("^"+st+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+st+"*((?:-\\d)?\\d*)"+st+"*\\)|)(?=[^-]|$)","i")},Lo=/^(?:input|select|textarea|button)$/i,Jo=/^h\d$/i,Io=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qo=/[+~]/,Vo=new RegExp("\\\\[\\da-fA-F]{1,6}"+st+"?|\\\\([^\\r\\n\\f])","g"),jo=function(Pt,cn){var Qn="0x"+Pt.slice(1)-65536;return cn||(Qn<0?String.fromCharCode(Qn+65536):String.fromCharCode(Qn>>10|55296,Qn&1023|56320))},so=function(){nn()},Si=Nr(function(Pt){return Pt.disabled===!0&&pe(Pt,"fieldset")},{dir:"parentNode",next:"legend"});function pa(){try{return gt.activeElement}catch(Pt){}}try{tt.apply(g=A.call(It.childNodes),It.childNodes),g[It.childNodes.length].nodeType}catch(Pt){tt={apply:function(cn,Qn){Ve.apply(cn,A.call(Qn))},call:function(cn){Ve.apply(cn,A.call(arguments,1))}}}function xo(Pt,cn,Qn,_t){var Xt,an,yr,Ur,ci,Yi,ui,go=cn&&cn.ownerDocument,wo=cn?cn.nodeType:9;if(Qn=Qn||[],typeof Pt!="string"||!Pt||wo!==1&&wo!==9&&wo!==11)return Qn;if(!_t&&(nn(cn),cn=cn||gt,Dn)){if(wo!==11&&(ci=Io.exec(Pt)))if(Xt=ci[1]){if(wo===9)if(yr=cn.getElementById(Xt)){if(yr.id===Xt)return tt.call(Qn,yr),Qn}else return Qn;else if(go&&(yr=go.getElementById(Xt))&&xo.contains(cn,yr)&&yr.id===Xt)return tt.call(Qn,yr),Qn}else{if(ci[2])return tt.apply(Qn,cn.getElementsByTagName(Pt)),Qn;if((Xt=ci[3])&&cn.getElementsByClassName)return tt.apply(Qn,cn.getElementsByClassName(Xt)),Qn}if(!es[Pt+" "]&&(!Un||!Un.test(Pt))){if(ui=Pt,go=cn,wo===1&&(Ni.test(Pt)||ei.test(Pt))){for(go=qo.test(Pt)&&Ct(cn.parentNode)||cn,(go!=cn||!J.scope)&&((Ur=cn.getAttribute("id"))?Ur=L.escapeSelector(Ur):cn.setAttribute("id",Ur=Dr)),Yi=Vn(Pt),an=Yi.length;an--;)Yi[an]=(Ur?"#"+Ur:":scope")+" "+wr(Yi[an]);ui=Yi.join(",")}try{return tt.apply(Qn,go.querySelectorAll(ui)),Qn}catch(ji){es(Pt,!0)}finally{Ur===Dr&&cn.removeAttribute("id")}}}return oi(Pt.replace(en,"$1"),cn,Qn,_t)}function Pa(){var Pt=[];function cn(Qn,_t){return Pt.push(Qn+" ")>X.cacheLength&&delete cn[Pt.shift()],cn[Qn+" "]=_t}return cn}function Fo(Pt){return Pt[Dr]=!0,Pt}function Sa(Pt){var cn=gt.createElement("fieldset");try{return!!Pt(cn)}catch(Qn){return!1}finally{cn.parentNode&&cn.parentNode.removeChild(cn),cn=null}}function Bo(Pt){return function(cn){return pe(cn,"input")&&cn.type===Pt}}function se(Pt){return function(cn){return(pe(cn,"input")||pe(cn,"button"))&&cn.type===Pt}}function Ye(Pt){return function(cn){return"form"in cn?cn.parentNode&&cn.disabled===!1?"label"in cn?"label"in cn.parentNode?cn.parentNode.disabled===Pt:cn.disabled===Pt:cn.isDisabled===Pt||cn.isDisabled!==!Pt&&Si(cn)===Pt:cn.disabled===Pt:"label"in cn?cn.disabled===Pt:!1}}function ft(Pt){return Fo(function(cn){return cn=+cn,Fo(function(Qn,_t){for(var Xt,an=Pt([],Qn.length,cn),yr=an.length;yr--;)Qn[Xt=an[yr]]&&(Qn[Xt]=!(_t[Xt]=Qn[Xt]))})})}function Ct(Pt){return Pt&&typeof Pt.getElementsByTagName!="undefined"&&Pt}function nn(Pt){var cn,Qn=Pt?Pt.ownerDocument||Pt:It;return Qn==gt||Qn.nodeType!==9||!Qn.documentElement||(gt=Qn,_n=gt.documentElement,Dn=!L.isXMLDoc(gt),Mr=_n.matches||_n.webkitMatchesSelector||_n.msMatchesSelector,_n.msMatchesSelector&&It!=gt&&(cn=gt.defaultView)&&cn.top!==cn&&cn.addEventListener("unload",so),J.getById=Sa(function(_t){return _n.appendChild(_t).id=L.expando,!gt.getElementsByName||!gt.getElementsByName(L.expando).length}),J.disconnectedMatch=Sa(function(_t){return Mr.call(_t,"*")}),J.scope=Sa(function(){return gt.querySelectorAll(":scope")}),J.cssHas=Sa(function(){try{return gt.querySelector(":has(*,:jqfake)"),!1}catch(_t){return!0}}),J.getById?(X.filter.ID=function(_t){var Xt=_t.replace(Vo,jo);return function(an){return an.getAttribute("id")===Xt}},X.find.ID=function(_t,Xt){if(typeof Xt.getElementById!="undefined"&&Dn){var an=Xt.getElementById(_t);return an?[an]:[]}}):(X.filter.ID=function(_t){var Xt=_t.replace(Vo,jo);return function(an){var yr=typeof an.getAttributeNode!="undefined"&&an.getAttributeNode("id");return yr&&yr.value===Xt}},X.find.ID=function(_t,Xt){if(typeof Xt.getElementById!="undefined"&&Dn){var an,yr,Ur,ci=Xt.getElementById(_t);if(ci){if(an=ci.getAttributeNode("id"),an&&an.value===_t)return[ci];for(Ur=Xt.getElementsByName(_t),yr=0;ci=Ur[yr++];)if(an=ci.getAttributeNode("id"),an&&an.value===_t)return[ci]}return[]}}),X.find.TAG=function(_t,Xt){return typeof Xt.getElementsByTagName!="undefined"?Xt.getElementsByTagName(_t):Xt.querySelectorAll(_t)},X.find.CLASS=function(_t,Xt){if(typeof Xt.getElementsByClassName!="undefined"&&Dn)return Xt.getElementsByClassName(_t)},Un=[],Sa(function(_t){var Xt;_n.appendChild(_t).innerHTML="<a id='"+Dr+"' href='' disabled='disabled'></a><select id='"+Dr+"-\r\\' disabled='disabled'><option selected=''></option></select>",_t.querySelectorAll("[selected]").length||Un.push("\\["+st+"*(?:value|"+ut+")"),_t.querySelectorAll("[id~="+Dr+"-]").length||Un.push("~="),_t.querySelectorAll("a#"+Dr+"+*").length||Un.push(".#.+[+~]"),_t.querySelectorAll(":checked").length||Un.push(":checked"),Xt=gt.createElement("input"),Xt.setAttribute("type","hidden"),_t.appendChild(Xt).setAttribute("name","D"),_n.appendChild(_t).disabled=!0,_t.querySelectorAll(":disabled").length!==2&&Un.push(":enabled",":disabled"),Xt=gt.createElement("input"),Xt.setAttribute("name",""),_t.appendChild(Xt),_t.querySelectorAll("[name='']").length||Un.push("\\["+st+"*name"+st+"*="+st+`*(?:''|"")`)}),J.cssHas||Un.push(":has"),Un=Un.length&&new RegExp(Un.join("|")),Da=function(_t,Xt){if(_t===Xt)return Je=!0,0;var an=!_t.compareDocumentPosition-!Xt.compareDocumentPosition;return an||(an=(_t.ownerDocument||_t)==(Xt.ownerDocument||Xt)?_t.compareDocumentPosition(Xt):1,an&1||!J.sortDetached&&Xt.compareDocumentPosition(_t)===an?_t===gt||_t.ownerDocument==It&&xo.contains(It,_t)?-1:Xt===gt||Xt.ownerDocument==It&&xo.contains(It,Xt)?1:_e?k.call(_e,_t)-k.call(_e,Xt):0:an&4?-1:1)}),gt}xo.matches=function(Pt,cn){return xo(Pt,null,null,cn)},xo.matchesSelector=function(Pt,cn){if(nn(Pt),Dn&&!es[cn+" "]&&(!Un||!Un.test(cn)))try{var Qn=Mr.call(Pt,cn);if(Qn||J.disconnectedMatch||Pt.document&&Pt.document.nodeType!==11)return Qn}catch(_t){es(cn,!0)}return xo(cn,gt,null,[Pt]).length>0},xo.contains=function(Pt,cn){return(Pt.ownerDocument||Pt)!=gt&&nn(Pt),L.contains(Pt,cn)},xo.attr=function(Pt,cn){(Pt.ownerDocument||Pt)!=gt&&nn(Pt);var Qn=X.attrHandle[cn.toLowerCase()],_t=Qn&&$.call(X.attrHandle,cn.toLowerCase())?Qn(Pt,cn,!Dn):void 0;return _t!==void 0?_t:Pt.getAttribute(cn)},xo.error=function(Pt){throw new Error("Syntax error, unrecognized expression: "+Pt)},L.uniqueSort=function(Pt){var cn,Qn=[],_t=0,Xt=0;if(Je=!J.sortStable,_e=!J.sortStable&&A.call(Pt,0),je.call(Pt,Da),Je){for(;cn=Pt[Xt++];)cn===Pt[Xt]&&(_t=Qn.push(Xt));for(;_t--;)he.call(Pt,Qn[_t],1)}return _e=null,Pt},L.fn.uniqueSort=function(){return this.pushStack(L.uniqueSort(A.apply(this)))},X=L.expr={cacheLength:50,createPseudo:Fo,match:Ro,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Pt){return Pt[1]=Pt[1].replace(Vo,jo),Pt[3]=(Pt[3]||Pt[4]||Pt[5]||"").replace(Vo,jo),Pt[2]==="~="&&(Pt[3]=" "+Pt[3]+" "),Pt.slice(0,4)},CHILD:function(Pt){return Pt[1]=Pt[1].toLowerCase(),Pt[1].slice(0,3)==="nth"?(Pt[3]||xo.error(Pt[0]),Pt[4]=+(Pt[4]?Pt[5]+(Pt[6]||1):2*(Pt[3]==="even"||Pt[3]==="odd")),Pt[5]=+(Pt[7]+Pt[8]||Pt[3]==="odd")):Pt[3]&&xo.error(Pt[0]),Pt},PSEUDO:function(Pt){var cn,Qn=!Pt[6]&&Pt[2];return Ro.CHILD.test(Pt[0])?null:(Pt[3]?Pt[2]=Pt[4]||Pt[5]||"":Qn&&ki.test(Qn)&&(cn=Vn(Qn,!0))&&(cn=Qn.indexOf(")",Qn.length-cn)-Qn.length)&&(Pt[0]=Pt[0].slice(0,cn),Pt[2]=Qn.slice(0,cn)),Pt.slice(0,3))}},filter:{TAG:function(Pt){var cn=Pt.replace(Vo,jo).toLowerCase();return Pt==="*"?function(){return!0}:function(Qn){return pe(Qn,cn)}},CLASS:function(Pt){var cn=ao[Pt+" "];return cn||(cn=new RegExp("(^|"+st+")"+Pt+"("+st+"|$)"))&&ao(Pt,function(Qn){return cn.test(typeof Qn.className=="string"&&Qn.className||typeof Qn.getAttribute!="undefined"&&Qn.getAttribute("class")||"")})},ATTR:function(Pt,cn,Qn){return function(_t){var Xt=xo.attr(_t,Pt);return Xt==null?cn==="!=":cn?(Xt+="",cn==="="?Xt===Qn:cn==="!="?Xt!==Qn:cn==="^="?Qn&&Xt.indexOf(Qn)===0:cn==="*="?Qn&&Xt.indexOf(Qn)>-1:cn==="$="?Qn&&Xt.slice(-Qn.length)===Qn:cn==="~="?(" "+Xt.replace(mn," ")+" ").indexOf(Qn)>-1:cn==="|="?Xt===Qn||Xt.slice(0,Qn.length+1)===Qn+"-":!1):!0}},CHILD:function(Pt,cn,Qn,_t,Xt){var an=Pt.slice(0,3)!=="nth",yr=Pt.slice(-4)!=="last",Ur=cn==="of-type";return _t===1&&Xt===0?function(ci){return!!ci.parentNode}:function(ci,Yi,ui){var go,wo,ji,ko,os,La=an!==yr?"nextSibling":"previousSibling",Ua=ci.parentNode,cs=Ur&&ci.nodeName.toLowerCase(),sa=!ui&&!Ur,Ka=!1;if(Ua){if(an){for(;La;){for(ji=ci;ji=ji[La];)if(Ur?pe(ji,cs):ji.nodeType===1)return!1;os=La=Pt==="only"&&!os&&"nextSibling"}return!0}if(os=[yr?Ua.firstChild:Ua.lastChild],yr&&sa){for(wo=Ua[Dr]||(Ua[Dr]={}),go=wo[Pt]||[],ko=go[0]===fr&&go[1],Ka=ko&&go[2],ji=ko&&Ua.childNodes[ko];ji=++ko&&ji&&ji[La]||(Ka=ko=0)||os.pop();)if(ji.nodeType===1&&++Ka&&ji===ci){wo[Pt]=[fr,ko,Ka];break}}else if(sa&&(wo=ci[Dr]||(ci[Dr]={}),go=wo[Pt]||[],ko=go[0]===fr&&go[1],Ka=ko),Ka===!1)for(;(ji=++ko&&ji&&ji[La]||(Ka=ko=0)||os.pop())&&!((Ur?pe(ji,cs):ji.nodeType===1)&&++Ka&&(sa&&(wo=ji[Dr]||(ji[Dr]={}),wo[Pt]=[fr,Ka]),ji===ci)););return Ka-=Xt,Ka===_t||Ka%_t===0&&Ka/_t>=0}}},PSEUDO:function(Pt,cn){var Qn,_t=X.pseudos[Pt]||X.setFilters[Pt.toLowerCase()]||xo.error("unsupported pseudo: "+Pt);return _t[Dr]?_t(cn):_t.length>1?(Qn=[Pt,Pt,"",cn],X.setFilters.hasOwnProperty(Pt.toLowerCase())?Fo(function(Xt,an){for(var yr,Ur=_t(Xt,cn),ci=Ur.length;ci--;)yr=k.call(Xt,Ur[ci]),Xt[yr]=!(an[yr]=Ur[ci])}):function(Xt){return _t(Xt,0,Qn)}):_t}},pseudos:{not:Fo(function(Pt){var cn=[],Qn=[],_t=mi(Pt.replace(en,"$1"));return _t[Dr]?Fo(function(Xt,an,yr,Ur){for(var ci,Yi=_t(Xt,null,Ur,[]),ui=Xt.length;ui--;)(ci=Yi[ui])&&(Xt[ui]=!(an[ui]=ci))}):function(Xt,an,yr){return cn[0]=Xt,_t(cn,null,yr,Qn),cn[0]=null,!Qn.pop()}}),has:Fo(function(Pt){return function(cn){return xo(Pt,cn).length>0}}),contains:Fo(function(Pt){return Pt=Pt.replace(Vo,jo),function(cn){return(cn.textContent||L.text(cn)).indexOf(Pt)>-1}}),lang:Fo(function(Pt){return yo.test(Pt||"")||xo.error("unsupported lang: "+Pt),Pt=Pt.replace(Vo,jo).toLowerCase(),function(cn){var Qn;do if(Qn=Dn?cn.lang:cn.getAttribute("xml:lang")||cn.getAttribute("lang"))return Qn=Qn.toLowerCase(),Qn===Pt||Qn.indexOf(Pt+"-")===0;while((cn=cn.parentNode)&&cn.nodeType===1);return!1}}),target:function(Pt){var cn=d.location&&d.location.hash;return cn&&cn.slice(1)===Pt.id},root:function(Pt){return Pt===_n},focus:function(Pt){return Pt===pa()&&gt.hasFocus()&&!!(Pt.type||Pt.href||~Pt.tabIndex)},enabled:Ye(!1),disabled:Ye(!0),checked:function(Pt){return pe(Pt,"input")&&!!Pt.checked||pe(Pt,"option")&&!!Pt.selected},selected:function(Pt){return Pt.parentNode&&Pt.parentNode.selectedIndex,Pt.selected===!0},empty:function(Pt){for(Pt=Pt.firstChild;Pt;Pt=Pt.nextSibling)if(Pt.nodeType<6)return!1;return!0},parent:function(Pt){return!X.pseudos.empty(Pt)},header:function(Pt){return Jo.test(Pt.nodeName)},input:function(Pt){return Lo.test(Pt.nodeName)},button:function(Pt){return pe(Pt,"input")&&Pt.type==="button"||pe(Pt,"button")},text:function(Pt){var cn;return pe(Pt,"input")&&Pt.type==="text"&&((cn=Pt.getAttribute("type"))==null||cn.toLowerCase()==="text")},first:ft(function(){return[0]}),last:ft(function(Pt,cn){return[cn-1]}),eq:ft(function(Pt,cn,Qn){return[Qn<0?Qn+cn:Qn]}),even:ft(function(Pt,cn){for(var Qn=0;Qn<cn;Qn+=2)Pt.push(Qn);return Pt}),odd:ft(function(Pt,cn){for(var Qn=1;Qn<cn;Qn+=2)Pt.push(Qn);return Pt}),lt:ft(function(Pt,cn,Qn){var _t;for(Qn<0?_t=Qn+cn:Qn>cn?_t=cn:_t=Qn;--_t>=0;)Pt.push(_t);return Pt}),gt:ft(function(Pt,cn,Qn){for(var _t=Qn<0?Qn+cn:Qn;++_t<cn;)Pt.push(_t);return Pt})}},X.pseudos.nth=X.pseudos.eq;for(F in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})X.pseudos[F]=Bo(F);for(F in{submit:!0,reset:!0})X.pseudos[F]=se(F);function yn(){}yn.prototype=X.filters=X.pseudos,X.setFilters=new yn;function Vn(Pt,cn){var Qn,_t,Xt,an,yr,Ur,ci,Yi=oo[Pt+" "];if(Yi)return cn?0:Yi.slice(0);for(yr=Pt,Ur=[],ci=X.preFilter;yr;){(!Qn||(_t=Or.exec(yr)))&&(_t&&(yr=yr.slice(_t[0].length)||yr),Ur.push(Xt=[])),Qn=!1,(_t=ei.exec(yr))&&(Qn=_t.shift(),Xt.push({value:Qn,type:_t[0].replace(en," ")}),yr=yr.slice(Qn.length));for(an in X.filter)(_t=Ro[an].exec(yr))&&(!ci[an]||(_t=ci[an](_t)))&&(Qn=_t.shift(),Xt.push({value:Qn,type:an,matches:_t}),yr=yr.slice(Qn.length));if(!Qn)break}return cn?yr.length:yr?xo.error(Pt):oo(Pt,Ur).slice(0)}function wr(Pt){for(var cn=0,Qn=Pt.length,_t="";cn<Qn;cn++)_t+=Pt[cn].value;return _t}function Nr(Pt,cn,Qn){var _t=cn.dir,Xt=cn.next,an=Xt||_t,yr=Qn&&an==="parentNode",Ur=Er++;return cn.first?function(ci,Yi,ui){for(;ci=ci[_t];)if(ci.nodeType===1||yr)return Pt(ci,Yi,ui);return!1}:function(ci,Yi,ui){var go,wo,ji=[fr,Ur];if(ui){for(;ci=ci[_t];)if((ci.nodeType===1||yr)&&Pt(ci,Yi,ui))return!0}else for(;ci=ci[_t];)if(ci.nodeType===1||yr)if(wo=ci[Dr]||(ci[Dr]={}),Xt&&pe(ci,Xt))ci=ci[_t]||ci;else{if((go=wo[an])&&go[0]===fr&&go[1]===Ur)return ji[2]=go[2];if(wo[an]=ji,ji[2]=Pt(ci,Yi,ui))return!0}return!1}}function jr(Pt){return Pt.length>1?function(cn,Qn,_t){for(var Xt=Pt.length;Xt--;)if(!Pt[Xt](cn,Qn,_t))return!1;return!0}:Pt[0]}function bi(Pt,cn,Qn){for(var _t=0,Xt=cn.length;_t<Xt;_t++)xo(Pt,cn[_t],Qn);return Qn}function Hr(Pt,cn,Qn,_t,Xt){for(var an,yr=[],Ur=0,ci=Pt.length,Yi=cn!=null;Ur<ci;Ur++)(an=Pt[Ur])&&(!Qn||Qn(an,_t,Xt))&&(yr.push(an),Yi&&cn.push(Ur));return yr}function _r(Pt,cn,Qn,_t,Xt,an){return _t&&!_t[Dr]&&(_t=_r(_t)),Xt&&!Xt[Dr]&&(Xt=_r(Xt,an)),Fo(function(yr,Ur,ci,Yi){var ui,go,wo,ji,ko=[],os=[],La=Ur.length,Ua=yr||bi(cn||"*",ci.nodeType?[ci]:ci,[]),cs=Pt&&(yr||!cn)?Hr(Ua,ko,Pt,ci,Yi):Ua;if(Qn?(ji=Xt||(yr?Pt:La||_t)?[]:Ur,Qn(cs,ji,ci,Yi)):ji=cs,_t)for(ui=Hr(ji,os),_t(ui,[],ci,Yi),go=ui.length;go--;)(wo=ui[go])&&(ji[os[go]]=!(cs[os[go]]=wo));if(yr){if(Xt||Pt){if(Xt){for(ui=[],go=ji.length;go--;)(wo=ji[go])&&ui.push(cs[go]=wo);Xt(null,ji=[],ui,Yi)}for(go=ji.length;go--;)(wo=ji[go])&&(ui=Xt?k.call(yr,wo):ko[go])>-1&&(yr[ui]=!(Ur[ui]=wo))}}else ji=Hr(ji===Ur?ji.splice(La,ji.length):ji),Xt?Xt(null,Ur,ji,Yi):tt.apply(Ur,ji)})}function Lr(Pt){for(var cn,Qn,_t,Xt=Pt.length,an=X.relative[Pt[0].type],yr=an||X.relative[" "],Ur=an?1:0,ci=Nr(function(go){return go===cn},yr,!0),Yi=Nr(function(go){return k.call(cn,go)>-1},yr,!0),ui=[function(go,wo,ji){var ko=!an&&(ji||wo!=ge)||((cn=wo).nodeType?ci(go,wo,ji):Yi(go,wo,ji));return cn=null,ko}];Ur<Xt;Ur++)if(Qn=X.relative[Pt[Ur].type])ui=[Nr(jr(ui),Qn)];else{if(Qn=X.filter[Pt[Ur].type].apply(null,Pt[Ur].matches),Qn[Dr]){for(_t=++Ur;_t<Xt&&!X.relative[Pt[_t].type];_t++);return _r(Ur>1&&jr(ui),Ur>1&&wr(Pt.slice(0,Ur-1).concat({value:Pt[Ur-2].type===" "?"*":""})).replace(en,"$1"),Qn,Ur<_t&&Lr(Pt.slice(Ur,_t)),_t<Xt&&Lr(Pt=Pt.slice(_t)),_t<Xt&&wr(Pt))}ui.push(Qn)}return jr(ui)}function Ar(Pt,cn){var Qn=cn.length>0,_t=Pt.length>0,Xt=function(an,yr,Ur,ci,Yi){var ui,go,wo,ji=0,ko="0",os=an&&[],La=[],Ua=ge,cs=an||_t&&X.find.TAG("*",Yi),sa=fr+=Ua==null?1:Math.random()||.1,Ka=cs.length;for(Yi&&(ge=yr==gt||yr||Yi);ko!==Ka&&(ui=cs[ko])!=null;ko++){if(_t&&ui){for(go=0,!yr&&ui.ownerDocument!=gt&&(nn(ui),Ur=!Dn);wo=Pt[go++];)if(wo(ui,yr||gt,Ur)){tt.call(ci,ui);break}Yi&&(fr=sa)}Qn&&((ui=!wo&&ui)&&ji--,an&&os.push(ui))}if(ji+=ko,Qn&&ko!==ji){for(go=0;wo=cn[go++];)wo(os,La,yr,Ur);if(an){if(ji>0)for(;ko--;)os[ko]||La[ko]||(La[ko]=Be.call(ci));La=Hr(La)}tt.apply(ci,La),Yi&&!an&&La.length>0&&ji+cn.length>1&&L.uniqueSort(ci)}return Yi&&(fr=sa,ge=Ua),os};return Qn?Fo(Xt):Xt}function mi(Pt,cn){var Qn,_t=[],Xt=[],an=ba[Pt+" "];if(!an){for(cn||(cn=Vn(Pt)),Qn=cn.length;Qn--;)an=Lr(cn[Qn]),an[Dr]?_t.push(an):Xt.push(an);an=ba(Pt,Ar(Xt,_t)),an.selector=Pt}return an}function oi(Pt,cn,Qn,_t){var Xt,an,yr,Ur,ci,Yi=typeof Pt=="function"&&Pt,ui=!_t&&Vn(Pt=Yi.selector||Pt);if(Qn=Qn||[],ui.length===1){if(an=ui[0]=ui[0].slice(0),an.length>2&&(yr=an[0]).type==="ID"&&cn.nodeType===9&&Dn&&X.relative[an[1].type]){if(cn=(X.find.ID(yr.matches[0].replace(Vo,jo),cn)||[])[0],cn)Yi&&(cn=cn.parentNode);else return Qn;Pt=Pt.slice(an.shift().value.length)}for(Xt=Ro.needsContext.test(Pt)?0:an.length;Xt--&&(yr=an[Xt],!X.relative[Ur=yr.type]);)if((ci=X.find[Ur])&&(_t=ci(yr.matches[0].replace(Vo,jo),qo.test(an[0].type)&&Ct(cn.parentNode)||cn))){if(an.splice(Xt,1),Pt=_t.length&&wr(an),!Pt)return tt.apply(Qn,_t),Qn;break}}return(Yi||mi(Pt,ui))(_t,cn,!Dn,Qn,!cn||qo.test(Pt)&&Ct(cn.parentNode)||cn),Qn}J.sortStable=Dr.split("").sort(Da).join("")===Dr,nn(),J.sortDetached=Sa(function(Pt){return Pt.compareDocumentPosition(gt.createElement("fieldset"))&1}),L.find=xo,L.expr[":"]=L.expr.pseudos,L.unique=L.uniqueSort,xo.compile=mi,xo.select=oi,xo.setDocument=nn,xo.tokenize=Vn,xo.escape=L.escapeSelector,xo.getText=L.text,xo.isXML=L.isXMLDoc,xo.selectors=L.expr,xo.support=L.support,xo.uniqueSort=L.uniqueSort})();var Me=function(F,X,ge){for(var _e=[],Je=ge!==void 0;(F=F[X])&&F.nodeType!==9;)if(F.nodeType===1){if(Je&&L(F).is(ge))break;_e.push(F)}return _e},Qe=function(F,X){for(var ge=[];F;F=F.nextSibling)F.nodeType===1&&F!==X&&ge.push(F);return ge},bt=L.expr.match.needsContext,Ge=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ae(F,X,ge){return K(X)?L.grep(F,function(_e,Je){return!!X.call(_e,Je,_e)!==ge}):X.nodeType?L.grep(F,function(_e){return _e===X!==ge}):typeof X!="string"?L.grep(F,function(_e){return k.call(X,_e)>-1!==ge}):L.filter(X,F,ge)}L.filter=function(F,X,ge){var _e=X[0];return ge&&(F=":not("+F+")"),X.length===1&&_e.nodeType===1?L.find.matchesSelector(_e,F)?[_e]:[]:L.find.matches(F,L.grep(X,function(Je){return Je.nodeType===1}))},L.fn.extend({find:function(F){var X,ge,_e=this.length,Je=this;if(typeof F!="string")return this.pushStack(L(F).filter(function(){for(X=0;X<_e;X++)if(L.contains(Je[X],this))return!0}));for(ge=this.pushStack([]),X=0;X<_e;X++)L.find(F,Je[X],ge);return _e>1?L.uniqueSort(ge):ge},filter:function(F){return this.pushStack(Ae(this,F||[],!1))},not:function(F){return this.pushStack(Ae(this,F||[],!0))},is:function(F){return!!Ae(this,typeof F=="string"&&bt.test(F)?L(F):F||[],!1).length}});var be,Ne=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Re=L.fn.init=function(F,X,ge){var _e,Je;if(!F)return this;if(ge=ge||be,typeof F=="string")if(F[0]==="<"&&F[F.length-1]===">"&&F.length>=3?_e=[null,F,null]:_e=Ne.exec(F),_e&&(_e[1]||!X))if(_e[1]){if(X=X instanceof L?X[0]:X,L.merge(this,L.parseHTML(_e[1],X&&X.nodeType?X.ownerDocument||X:re,!0)),Ge.test(_e[1])&&L.isPlainObject(X))for(_e in X)K(this[_e])?this[_e](X[_e]):this.attr(_e,X[_e]);return this}else return Je=re.getElementById(_e[2]),Je&&(this[0]=Je,this.length=1),this;else return!X||X.jquery?(X||ge).find(F):this.constructor(X).find(F);else{if(F.nodeType)return this[0]=F,this.length=1,this;if(K(F))return ge.ready!==void 0?ge.ready(F):F(L)}return L.makeArray(F,this)};Re.prototype=L.fn,be=L(re);var ht=/^(?:parents|prev(?:Until|All))/,Wt={children:!0,contents:!0,next:!0,prev:!0};L.fn.extend({has:function(F){var X=L(F,this),ge=X.length;return this.filter(function(){for(var _e=0;_e<ge;_e++)if(L.contains(this,X[_e]))return!0})},closest:function(F,X){var ge,_e=0,Je=this.length,tt=[],gt=typeof F!="string"&&L(F);if(!bt.test(F)){for(;_e<Je;_e++)for(ge=this[_e];ge&&ge!==X;ge=ge.parentNode)if(ge.nodeType<11&&(gt?gt.index(ge)>-1:ge.nodeType===1&&L.find.matchesSelector(ge,F))){tt.push(ge);break}}return this.pushStack(tt.length>1?L.uniqueSort(tt):tt)},index:function(F){return F?typeof F=="string"?k.call(L(F),this[0]):k.call(this,F.jquery?F[0]:F):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(F,X){return this.pushStack(L.uniqueSort(L.merge(this.get(),L(F,X))))},addBack:function(F){return this.add(F==null?this.prevObject:this.prevObject.filter(F))}});function Yt(F,X){for(;(F=F[X])&&F.nodeType!==1;);return F}L.each({parent:function(F){var X=F.parentNode;return X&&X.nodeType!==11?X:null},parents:function(F){return Me(F,"parentNode")},parentsUntil:function(F,X,ge){return Me(F,"parentNode",ge)},next:function(F){return Yt(F,"nextSibling")},prev:function(F){return Yt(F,"previousSibling")},nextAll:function(F){return Me(F,"nextSibling")},prevAll:function(F){return Me(F,"previousSibling")},nextUntil:function(F,X,ge){return Me(F,"nextSibling",ge)},prevUntil:function(F,X,ge){return Me(F,"previousSibling",ge)},siblings:function(F){return Qe((F.parentNode||{}).firstChild,F)},children:function(F){return Qe(F.firstChild)},contents:function(F){return F.contentDocument!=null&&x(F.contentDocument)?F.contentDocument:(pe(F,"template")&&(F=F.content||F),L.merge([],F.childNodes))}},function(F,X){L.fn[F]=function(ge,_e){var Je=L.map(this,X,ge);return F.slice(-5)!=="Until"&&(_e=ge),_e&&typeof _e=="string"&&(Je=L.filter(_e,Je)),this.length>1&&(Wt[F]||L.uniqueSort(Je),ht.test(F)&&Je.reverse()),this.pushStack(Je)}});var Lt=/[^\x20\t\r\n\f]+/g;function Dt(F){var X={};return L.each(F.match(Lt)||[],function(ge,_e){X[_e]=!0}),X}L.Callbacks=function(F){F=typeof F=="string"?Dt(F):L.extend({},F);var X,ge,_e,Je,tt=[],gt=[],_n=-1,Dn=function(){for(Je=Je||F.once,_e=X=!0;gt.length;_n=-1)for(ge=gt.shift();++_n<tt.length;)tt[_n].apply(ge[0],ge[1])===!1&&F.stopOnFalse&&(_n=tt.length,ge=!1);F.memory||(ge=!1),X=!1,Je&&(ge?tt=[]:tt="")},Un={add:function(){return tt&&(ge&&!X&&(_n=tt.length-1,gt.push(ge)),function Mr(Dr){L.each(Dr,function(fr,Er){K(Er)?(!F.unique||!Un.has(Er))&&tt.push(Er):Er&&Er.length&&ie(Er)!=="string"&&Mr(Er)})}(arguments),ge&&!X&&Dn()),this},remove:function(){return L.each(arguments,function(Mr,Dr){for(var fr;(fr=L.inArray(Dr,tt,fr))>-1;)tt.splice(fr,1),fr<=_n&&_n--}),this},has:function(Mr){return Mr?L.inArray(Mr,tt)>-1:tt.length>0},empty:function(){return tt&&(tt=[]),this},disable:function(){return Je=gt=[],tt=ge="",this},disabled:function(){return!tt},lock:function(){return Je=gt=[],!ge&&!X&&(tt=ge=""),this},locked:function(){return!!Je},fireWith:function(Mr,Dr){return Je||(Dr=Dr||[],Dr=[Mr,Dr.slice?Dr.slice():Dr],gt.push(Dr),X||Dn()),this},fire:function(){return Un.fireWith(this,arguments),this},fired:function(){return!!_e}};return Un};function lt(F){return F}function Ft(F){throw F}function qt(F,X,ge,_e){var Je;try{F&&K(Je=F.promise)?Je.call(F).done(X).fail(ge):F&&K(Je=F.then)?Je.call(F,X,ge):X.apply(void 0,[F].slice(_e))}catch(tt){ge.apply(void 0,[tt])}}L.extend({Deferred:function(F){var X=[["notify","progress",L.Callbacks("memory"),L.Callbacks("memory"),2],["resolve","done",L.Callbacks("once memory"),L.Callbacks("once memory"),0,"resolved"],["reject","fail",L.Callbacks("once memory"),L.Callbacks("once memory"),1,"rejected"]],ge="pending",_e={state:function(){return ge},always:function(){return Je.done(arguments).fail(arguments),this},catch:function(tt){return _e.then(null,tt)},pipe:function(){var tt=arguments;return L.Deferred(function(gt){L.each(X,function(_n,Dn){var Un=K(tt[Dn[4]])&&tt[Dn[4]];Je[Dn[1]](function(){var Mr=Un&&Un.apply(this,arguments);Mr&&K(Mr.promise)?Mr.promise().progress(gt.notify).done(gt.resolve).fail(gt.reject):gt[Dn[0]+"With"](this,Un?[Mr]:arguments)})}),tt=null}).promise()},then:function(tt,gt,_n){var Dn=0;function Un(Mr,Dr,fr,Er){return function(){var ao=this,oo=arguments,ba=function(){var Da,ut;if(!(Mr<Dn)){if(Da=fr.apply(ao,oo),Da===Dr.promise())throw new TypeError("Thenable self-resolution");ut=Da&&(typeof Da=="object"||typeof Da=="function")&&Da.then,K(ut)?Er?ut.call(Da,Un(Dn,Dr,lt,Er),Un(Dn,Dr,Ft,Er)):(Dn++,ut.call(Da,Un(Dn,Dr,lt,Er),Un(Dn,Dr,Ft,Er),Un(Dn,Dr,lt,Dr.notifyWith))):(fr!==lt&&(ao=void 0,oo=[Da]),(Er||Dr.resolveWith)(ao,oo))}},es=Er?ba:function(){try{ba()}catch(Da){L.Deferred.exceptionHook&&L.Deferred.exceptionHook(Da,es.error),Mr+1>=Dn&&(fr!==Ft&&(ao=void 0,oo=[Da]),Dr.rejectWith(ao,oo))}};Mr?es():(L.Deferred.getErrorHook?es.error=L.Deferred.getErrorHook():L.Deferred.getStackHook&&(es.error=L.Deferred.getStackHook()),d.setTimeout(es))}}return L.Deferred(function(Mr){X[0][3].add(Un(0,Mr,K(_n)?_n:lt,Mr.notifyWith)),X[1][3].add(Un(0,Mr,K(tt)?tt:lt)),X[2][3].add(Un(0,Mr,K(gt)?gt:Ft))}).promise()},promise:function(tt){return tt!=null?L.extend(tt,_e):_e}},Je={};return L.each(X,function(tt,gt){var _n=gt[2],Dn=gt[5];_e[gt[1]]=_n.add,Dn&&_n.add(function(){ge=Dn},X[3-tt][2].disable,X[3-tt][3].disable,X[0][2].lock,X[0][3].lock),_n.add(gt[3].fire),Je[gt[0]]=function(){return Je[gt[0]+"With"](this===Je?void 0:this,arguments),this},Je[gt[0]+"With"]=_n.fireWith}),_e.promise(Je),F&&F.call(Je,Je),Je},when:function(F){var X=arguments.length,ge=X,_e=Array(ge),Je=A.call(arguments),tt=L.Deferred(),gt=function(_n){return function(Dn){_e[_n]=this,Je[_n]=arguments.length>1?A.call(arguments):Dn,--X||tt.resolveWith(_e,Je)}};if(X<=1&&(qt(F,tt.done(gt(ge)).resolve,tt.reject,!X),tt.state()==="pending"||K(Je[ge]&&Je[ge].then)))return tt.then();for(;ge--;)qt(Je[ge],gt(ge),tt.reject);return tt.promise()}});var Nn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;L.Deferred.exceptionHook=function(F,X){d.console&&d.console.warn&&F&&Nn.test(F.name)&&d.console.warn("jQuery.Deferred exception: "+F.message,F.stack,X)},L.readyException=function(F){d.setTimeout(function(){throw F})};var kn=L.Deferred();L.fn.ready=function(F){return kn.then(F).catch(function(X){L.readyException(X)}),this},L.extend({isReady:!1,readyWait:1,ready:function(F){(F===!0?--L.readyWait:L.isReady)||(L.isReady=!0,!(F!==!0&&--L.readyWait>0)&&kn.resolveWith(re,[L]))}}),L.ready.then=kn.then;function An(){re.removeEventListener("DOMContentLoaded",An),d.removeEventListener("load",An),L.ready()}re.readyState==="complete"||re.readyState!=="loading"&&!re.documentElement.doScroll?d.setTimeout(L.ready):(re.addEventListener("DOMContentLoaded",An),d.addEventListener("load",An));var Kn=function(F,X,ge,_e,Je,tt,gt){var _n=0,Dn=F.length,Un=ge==null;if(ie(ge)==="object"){Je=!0;for(_n in ge)Kn(F,X,_n,ge[_n],!0,tt,gt)}else if(_e!==void 0&&(Je=!0,K(_e)||(gt=!0),Un&&(gt?(X.call(F,_e),X=null):(Un=X,X=function(Mr,Dr,fr){return Un.call(L(Mr),fr)})),X))for(;_n<Dn;_n++)X(F[_n],ge,gt?_e:_e.call(F[_n],_n,X(F[_n],ge)));return Je?F:Un?X.call(F):Dn?X(F[0],ge):tt},ee=/^-ms-/,it=/-([a-z])/g;function Ze(F,X){return X.toUpperCase()}function ot(F){return F.replace(ee,"ms-").replace(it,Ze)}var Xe=function(F){return F.nodeType===1||F.nodeType===9||!+F.nodeType};function et(){this.expando=L.expando+et.uid++}et.uid=1,et.prototype={cache:function(F){var X=F[this.expando];return X||(X={},Xe(F)&&(F.nodeType?F[this.expando]=X:Object.defineProperty(F,this.expando,{value:X,configurable:!0}))),X},set:function(F,X,ge){var _e,Je=this.cache(F);if(typeof X=="string")Je[ot(X)]=ge;else for(_e in X)Je[ot(_e)]=X[_e];return Je},get:function(F,X){return X===void 0?this.cache(F):F[this.expando]&&F[this.expando][ot(X)]},access:function(F,X,ge){return X===void 0||X&&typeof X=="string"&&ge===void 0?this.get(F,X):(this.set(F,X,ge),ge!==void 0?ge:X)},remove:function(F,X){var ge,_e=F[this.expando];if(_e!==void 0){if(X!==void 0)for(Array.isArray(X)?X=X.map(ot):(X=ot(X),X=X in _e?[X]:X.match(Lt)||[]),ge=X.length;ge--;)delete _e[X[ge]];(X===void 0||L.isEmptyObject(_e))&&(F.nodeType?F[this.expando]=void 0:delete F[this.expando])}},hasData:function(F){var X=F[this.expando];return X!==void 0&&!L.isEmptyObject(X)}};var pt=new et,He=new et,Et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Vt=/[A-Z]/g;function On(F){return F==="true"?!0:F==="false"?!1:F==="null"?null:F===+F+""?+F:Et.test(F)?JSON.parse(F):F}function Wn(F,X,ge){var _e;if(ge===void 0&&F.nodeType===1)if(_e="data-"+X.replace(Vt,"-$&").toLowerCase(),ge=F.getAttribute(_e),typeof ge=="string"){try{ge=On(ge)}catch(Je){}He.set(F,X,ge)}else ge=void 0;return ge}L.extend({hasData:function(F){return He.hasData(F)||pt.hasData(F)},data:function(F,X,ge){return He.access(F,X,ge)},removeData:function(F,X){He.remove(F,X)},_data:function(F,X,ge){return pt.access(F,X,ge)},_removeData:function(F,X){pt.remove(F,X)}}),L.fn.extend({data:function(F,X){var ge,_e,Je,tt=this[0],gt=tt&&tt.attributes;if(F===void 0){if(this.length&&(Je=He.get(tt),tt.nodeType===1&&!pt.get(tt,"hasDataAttrs"))){for(ge=gt.length;ge--;)gt[ge]&&(_e=gt[ge].name,_e.indexOf("data-")===0&&(_e=ot(_e.slice(5)),Wn(tt,_e,Je[_e])));pt.set(tt,"hasDataAttrs",!0)}return Je}return typeof F=="object"?this.each(function(){He.set(this,F)}):Kn(this,function(_n){var Dn;if(tt&&_n===void 0)return Dn=He.get(tt,F),Dn!==void 0||(Dn=Wn(tt,F),Dn!==void 0)?Dn:void 0;this.each(function(){He.set(this,F,_n)})},null,X,arguments.length>1,null,!0)},removeData:function(F){return this.each(function(){He.remove(this,F)})}}),L.extend({queue:function(F,X,ge){var _e;if(F)return X=(X||"fx")+"queue",_e=pt.get(F,X),ge&&(!_e||Array.isArray(ge)?_e=pt.access(F,X,L.makeArray(ge)):_e.push(ge)),_e||[]},dequeue:function(F,X){X=X||"fx";var ge=L.queue(F,X),_e=ge.length,Je=ge.shift(),tt=L._queueHooks(F,X),gt=function(){L.dequeue(F,X)};Je==="inprogress"&&(Je=ge.shift(),_e--),Je&&(X==="fx"&&ge.unshift("inprogress"),delete tt.stop,Je.call(F,gt,tt)),!_e&&tt&&tt.empty.fire()},_queueHooks:function(F,X){var ge=X+"queueHooks";return pt.get(F,ge)||pt.access(F,ge,{empty:L.Callbacks("once memory").add(function(){pt.remove(F,[X+"queue",ge])})})}}),L.fn.extend({queue:function(F,X){var ge=2;return typeof F!="string"&&(X=F,F="fx",ge--),arguments.length<ge?L.queue(this[0],F):X===void 0?this:this.each(function(){var _e=L.queue(this,F,X);L._queueHooks(this,F),F==="fx"&&_e[0]!=="inprogress"&&L.dequeue(this,F)})},dequeue:function(F){return this.each(function(){L.dequeue(this,F)})},clearQueue:function(F){return this.queue(F||"fx",[])},promise:function(F,X){var ge,_e=1,Je=L.Deferred(),tt=this,gt=this.length,_n=function(){--_e||Je.resolveWith(tt,[tt])};for(typeof F!="string"&&(X=F,F=void 0),F=F||"fx";gt--;)ge=pt.get(tt[gt],F+"queueHooks"),ge&&ge.empty&&(_e++,ge.empty.add(_n));return _n(),Je.promise(X)}});var pr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Cr=new RegExp("^(?:([+-])=|)("+pr+")([a-z%]*)$","i"),Sn=["Top","Right","Bottom","Left"],Cn=re.documentElement,Fn=function(F){return L.contains(F.ownerDocument,F)},Hn={composed:!0};Cn.getRootNode&&(Fn=function(F){return L.contains(F.ownerDocument,F)||F.getRootNode(Hn)===F.ownerDocument});var sr=function(F,X){return F=X||F,F.style.display==="none"||F.style.display===""&&Fn(F)&&L.css(F,"display")==="none"};function ti(F,X,ge,_e){var Je,tt,gt=20,_n=_e?function(){return _e.cur()}:function(){return L.css(F,X,"")},Dn=_n(),Un=ge&&ge[3]||(L.cssNumber[X]?"":"px"),Mr=F.nodeType&&(L.cssNumber[X]||Un!=="px"&&+Dn)&&Cr.exec(L.css(F,X));if(Mr&&Mr[3]!==Un){for(Dn=Dn/2,Un=Un||Mr[3],Mr=+Dn||1;gt--;)L.style(F,X,Mr+Un),(1-tt)*(1-(tt=_n()/Dn||.5))<=0&&(gt=0),Mr=Mr/tt;Mr=Mr*2,L.style(F,X,Mr+Un),ge=ge||[]}return ge&&(Mr=+Mr||+Dn||0,Je=ge[1]?Mr+(ge[1]+1)*ge[2]:+ge[2],_e&&(_e.unit=Un,_e.start=Mr,_e.end=Je)),Je}var Ir={};function kr(F){var X,ge=F.ownerDocument,_e=F.nodeName,Je=Ir[_e];return Je||(X=ge.body.appendChild(ge.createElement(_e)),Je=L.css(X,"display"),X.parentNode.removeChild(X),Je==="none"&&(Je="block"),Ir[_e]=Je,Je)}function di(F,X){for(var ge,_e,Je=[],tt=0,gt=F.length;tt<gt;tt++)_e=F[tt],_e.style&&(ge=_e.style.display,X?(ge==="none"&&(Je[tt]=pt.get(_e,"display")||null,Je[tt]||(_e.style.display="")),_e.style.display===""&&sr(_e)&&(Je[tt]=kr(_e))):ge!=="none"&&(Je[tt]="none",pt.set(_e,"display",ge)));for(tt=0;tt<gt;tt++)Je[tt]!=null&&(F[tt].style.display=Je[tt]);return F}L.fn.extend({show:function(){return di(this,!0)},hide:function(){return di(this)},toggle:function(F){return typeof F=="boolean"?F?this.show():this.hide():this.each(function(){sr(this)?L(this).show():L(this).hide()})}});var Yn=/^(?:checkbox|radio)$/i,Bt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,kt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var F=re.createDocumentFragment(),X=F.appendChild(re.createElement("div")),ge=re.createElement("input");ge.setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),X.appendChild(ge),J.checkClone=X.cloneNode(!0).cloneNode(!0).lastChild.checked,X.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!X.cloneNode(!0).lastChild.defaultValue,X.innerHTML="<option></option>",J.option=!!X.lastChild})();var dn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};dn.tbody=dn.tfoot=dn.colgroup=dn.caption=dn.thead,dn.th=dn.td,J.option||(dn.optgroup=dn.option=[1,"<select multiple='multiple'>","</select>"]);function Ot(F,X){var ge;return typeof F.getElementsByTagName!="undefined"?ge=F.getElementsByTagName(X||"*"):typeof F.querySelectorAll!="undefined"?ge=F.querySelectorAll(X||"*"):ge=[],X===void 0||X&&pe(F,X)?L.merge([F],ge):ge}function ur(F,X){for(var ge=0,_e=F.length;ge<_e;ge++)pt.set(F[ge],"globalEval",!X||pt.get(X[ge],"globalEval"))}var Mn=/<|&#?\w+;/;function zr(F,X,ge,_e,Je){for(var tt,gt,_n,Dn,Un,Mr,Dr=X.createDocumentFragment(),fr=[],Er=0,ao=F.length;Er<ao;Er++)if(tt=F[Er],tt||tt===0)if(ie(tt)==="object")L.merge(fr,tt.nodeType?[tt]:tt);else if(!Mn.test(tt))fr.push(X.createTextNode(tt));else{for(gt=gt||Dr.appendChild(X.createElement("div")),_n=(Bt.exec(tt)||["",""])[1].toLowerCase(),Dn=dn[_n]||dn._default,gt.innerHTML=Dn[1]+L.htmlPrefilter(tt)+Dn[2],Mr=Dn[0];Mr--;)gt=gt.lastChild;L.merge(fr,gt.childNodes),gt=Dr.firstChild,gt.textContent=""}for(Dr.textContent="",Er=0;tt=fr[Er++];){if(_e&&L.inArray(tt,_e)>-1){Je&&Je.push(tt);continue}if(Un=Fn(tt),gt=Ot(Dr.appendChild(tt),"script"),Un&&ur(gt),ge)for(Mr=0;tt=gt[Mr++];)kt.test(tt.type||"")&&ge.push(tt)}return Dr}var jt=/^([^.]*)(?:\.(.+)|)/;function gn(){return!0}function Ln(){return!1}function vt(F,X,ge,_e,Je,tt){var gt,_n;if(typeof X=="object"){typeof ge!="string"&&(_e=_e||ge,ge=void 0);for(_n in X)vt(F,_n,ge,_e,X[_n],tt);return F}if(_e==null&&Je==null?(Je=ge,_e=ge=void 0):Je==null&&(typeof ge=="string"?(Je=_e,_e=void 0):(Je=_e,_e=ge,ge=void 0)),Je===!1)Je=Ln;else if(!Je)return F;return tt===1&&(gt=Je,Je=function(Dn){return L().off(Dn),gt.apply(this,arguments)},Je.guid=gt.guid||(gt.guid=L.guid++)),F.each(function(){L.event.add(this,X,Je,_e,ge)})}L.event={global:{},add:function(F,X,ge,_e,Je){var tt,gt,_n,Dn,Un,Mr,Dr,fr,Er,ao,oo,ba=pt.get(F);if(Xe(F))for(ge.handler&&(tt=ge,ge=tt.handler,Je=tt.selector),Je&&L.find.matchesSelector(Cn,Je),ge.guid||(ge.guid=L.guid++),(Dn=ba.events)||(Dn=ba.events=Object.create(null)),(gt=ba.handle)||(gt=ba.handle=function(es){return typeof L!="undefined"&&L.event.triggered!==es.type?L.event.dispatch.apply(F,arguments):void 0}),X=(X||"").match(Lt)||[""],Un=X.length;Un--;)_n=jt.exec(X[Un])||[],Er=oo=_n[1],ao=(_n[2]||"").split(".").sort(),Er&&(Dr=L.event.special[Er]||{},Er=(Je?Dr.delegateType:Dr.bindType)||Er,Dr=L.event.special[Er]||{},Mr=L.extend({type:Er,origType:oo,data:_e,handler:ge,guid:ge.guid,selector:Je,needsContext:Je&&L.expr.match.needsContext.test(Je),namespace:ao.join(".")},tt),(fr=Dn[Er])||(fr=Dn[Er]=[],fr.delegateCount=0,(!Dr.setup||Dr.setup.call(F,_e,ao,gt)===!1)&&F.addEventListener&&F.addEventListener(Er,gt)),Dr.add&&(Dr.add.call(F,Mr),Mr.handler.guid||(Mr.handler.guid=ge.guid)),Je?fr.splice(fr.delegateCount++,0,Mr):fr.push(Mr),L.event.global[Er]=!0)},remove:function(F,X,ge,_e,Je){var tt,gt,_n,Dn,Un,Mr,Dr,fr,Er,ao,oo,ba=pt.hasData(F)&&pt.get(F);if(!(!ba||!(Dn=ba.events))){for(X=(X||"").match(Lt)||[""],Un=X.length;Un--;){if(_n=jt.exec(X[Un])||[],Er=oo=_n[1],ao=(_n[2]||"").split(".").sort(),!Er){for(Er in Dn)L.event.remove(F,Er+X[Un],ge,_e,!0);continue}for(Dr=L.event.special[Er]||{},Er=(_e?Dr.delegateType:Dr.bindType)||Er,fr=Dn[Er]||[],_n=_n[2]&&new RegExp("(^|\\.)"+ao.join("\\.(?:.*\\.|)")+"(\\.|$)"),gt=tt=fr.length;tt--;)Mr=fr[tt],(Je||oo===Mr.origType)&&(!ge||ge.guid===Mr.guid)&&(!_n||_n.test(Mr.namespace))&&(!_e||_e===Mr.selector||_e==="**"&&Mr.selector)&&(fr.splice(tt,1),Mr.selector&&fr.delegateCount--,Dr.remove&&Dr.remove.call(F,Mr));gt&&!fr.length&&((!Dr.teardown||Dr.teardown.call(F,ao,ba.handle)===!1)&&L.removeEvent(F,Er,ba.handle),delete Dn[Er])}L.isEmptyObject(Dn)&&pt.remove(F,"handle events")}},dispatch:function(F){var X,ge,_e,Je,tt,gt,_n=new Array(arguments.length),Dn=L.event.fix(F),Un=(pt.get(this,"events")||Object.create(null))[Dn.type]||[],Mr=L.event.special[Dn.type]||{};for(_n[0]=Dn,X=1;X<arguments.length;X++)_n[X]=arguments[X];if(Dn.delegateTarget=this,!(Mr.preDispatch&&Mr.preDispatch.call(this,Dn)===!1)){for(gt=L.event.handlers.call(this,Dn,Un),X=0;(Je=gt[X++])&&!Dn.isPropagationStopped();)for(Dn.currentTarget=Je.elem,ge=0;(tt=Je.handlers[ge++])&&!Dn.isImmediatePropagationStopped();)(!Dn.rnamespace||tt.namespace===!1||Dn.rnamespace.test(tt.namespace))&&(Dn.handleObj=tt,Dn.data=tt.data,_e=((L.event.special[tt.origType]||{}).handle||tt.handler).apply(Je.elem,_n),_e!==void 0&&(Dn.result=_e)===!1&&(Dn.preventDefault(),Dn.stopPropagation()));return Mr.postDispatch&&Mr.postDispatch.call(this,Dn),Dn.result}},handlers:function(F,X){var ge,_e,Je,tt,gt,_n=[],Dn=X.delegateCount,Un=F.target;if(Dn&&Un.nodeType&&!(F.type==="click"&&F.button>=1)){for(;Un!==this;Un=Un.parentNode||this)if(Un.nodeType===1&&!(F.type==="click"&&Un.disabled===!0)){for(tt=[],gt={},ge=0;ge<Dn;ge++)_e=X[ge],Je=_e.selector+" ",gt[Je]===void 0&&(gt[Je]=_e.needsContext?L(Je,this).index(Un)>-1:L.find(Je,this,null,[Un]).length),gt[Je]&&tt.push(_e);tt.length&&_n.push({elem:Un,handlers:tt})}}return Un=this,Dn<X.length&&_n.push({elem:Un,handlers:X.slice(Dn)}),_n},addProp:function(F,X){Object.defineProperty(L.Event.prototype,F,{enumerable:!0,configurable:!0,get:K(X)?function(){if(this.originalEvent)return X(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[F]},set:function(ge){Object.defineProperty(this,F,{enumerable:!0,configurable:!0,writable:!0,value:ge})}})},fix:function(F){return F[L.expando]?F:new L.Event(F)},special:{load:{noBubble:!0},click:{setup:function(F){var X=this||F;return Yn.test(X.type)&&X.click&&pe(X,"input")&&Zt(X,"click",!0),!1},trigger:function(F){var X=this||F;return Yn.test(X.type)&&X.click&&pe(X,"input")&&Zt(X,"click"),!0},_default:function(F){var X=F.target;return Yn.test(X.type)&&X.click&&pe(X,"input")&&pt.get(X,"click")||pe(X,"a")}},beforeunload:{postDispatch:function(F){F.result!==void 0&&F.originalEvent&&(F.originalEvent.returnValue=F.result)}}}};function Zt(F,X,ge){if(!ge){pt.get(F,X)===void 0&&L.event.add(F,X,gn);return}pt.set(F,X,!1),L.event.add(F,X,{namespace:!1,handler:function(_e){var Je,tt=pt.get(this,X);if(_e.isTrigger&1&&this[X]){if(tt)(L.event.special[X]||{}).delegateType&&_e.stopPropagation();else if(tt=A.call(arguments),pt.set(this,X,tt),this[X](),Je=pt.get(this,X),pt.set(this,X,!1),tt!==Je)return _e.stopImmediatePropagation(),_e.preventDefault(),Je}else tt&&(pt.set(this,X,L.event.trigger(tt[0],tt.slice(1),this)),_e.stopPropagation(),_e.isImmediatePropagationStopped=gn)}})}L.removeEvent=function(F,X,ge){F.removeEventListener&&F.removeEventListener(X,ge)},L.Event=function(F,X){if(!(this instanceof L.Event))return new L.Event(F,X);F&&F.type?(this.originalEvent=F,this.type=F.type,this.isDefaultPrevented=F.defaultPrevented||F.defaultPrevented===void 0&&F.returnValue===!1?gn:Ln,this.target=F.target&&F.target.nodeType===3?F.target.parentNode:F.target,this.currentTarget=F.currentTarget,this.relatedTarget=F.relatedTarget):this.type=F,X&&L.extend(this,X),this.timeStamp=F&&F.timeStamp||Date.now(),this[L.expando]=!0},L.Event.prototype={constructor:L.Event,isDefaultPrevented:Ln,isPropagationStopped:Ln,isImmediatePropagationStopped:Ln,isSimulated:!1,preventDefault:function(){var F=this.originalEvent;this.isDefaultPrevented=gn,F&&!this.isSimulated&&F.preventDefault()},stopPropagation:function(){var F=this.originalEvent;this.isPropagationStopped=gn,F&&!this.isSimulated&&F.stopPropagation()},stopImmediatePropagation:function(){var F=this.originalEvent;this.isImmediatePropagationStopped=gn,F&&!this.isSimulated&&F.stopImmediatePropagation(),this.stopPropagation()}},L.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},L.event.addProp),L.each({focus:"focusin",blur:"focusout"},function(F,X){function ge(_e){if(re.documentMode){var Je=pt.get(this,"handle"),tt=L.event.fix(_e);tt.type=_e.type==="focusin"?"focus":"blur",tt.isSimulated=!0,Je(_e),tt.target===tt.currentTarget&&Je(tt)}else L.event.simulate(X,_e.target,L.event.fix(_e))}L.event.special[F]={setup:function(){var _e;if(Zt(this,F,!0),re.documentMode)_e=pt.get(this,X),_e||this.addEventListener(X,ge),pt.set(this,X,(_e||0)+1);else return!1},trigger:function(){return Zt(this,F),!0},teardown:function(){var _e;if(re.documentMode)_e=pt.get(this,X)-1,_e?pt.set(this,X,_e):(this.removeEventListener(X,ge),pt.remove(this,X));else return!1},_default:function(_e){return pt.get(_e.target,F)},delegateType:X},L.event.special[X]={setup:function(){var _e=this.ownerDocument||this.document||this,Je=re.documentMode?this:_e,tt=pt.get(Je,X);tt||(re.documentMode?this.addEventListener(X,ge):_e.addEventListener(F,ge,!0)),pt.set(Je,X,(tt||0)+1)},teardown:function(){var _e=this.ownerDocument||this.document||this,Je=re.documentMode?this:_e,tt=pt.get(Je,X)-1;tt?pt.set(Je,X,tt):(re.documentMode?this.removeEventListener(X,ge):_e.removeEventListener(F,ge,!0),pt.remove(Je,X))}}}),L.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(F,X){L.event.special[F]={delegateType:X,bindType:X,handle:function(ge){var _e,Je=this,tt=ge.relatedTarget,gt=ge.handleObj;return(!tt||tt!==Je&&!L.contains(Je,tt))&&(ge.type=gt.origType,_e=gt.handler.apply(this,arguments),ge.type=X),_e}}}),L.fn.extend({on:function(F,X,ge,_e){return vt(this,F,X,ge,_e)},one:function(F,X,ge,_e){return vt(this,F,X,ge,_e,1)},off:function(F,X,ge){var _e,Je;if(F&&F.preventDefault&&F.handleObj)return _e=F.handleObj,L(F.delegateTarget).off(_e.namespace?_e.origType+"."+_e.namespace:_e.origType,_e.selector,_e.handler),this;if(typeof F=="object"){for(Je in F)this.off(Je,X,F[Je]);return this}return(X===!1||typeof X=="function")&&(ge=X,X=void 0),ge===!1&&(ge=Ln),this.each(function(){L.event.remove(this,F,ge,X)})}});var or=/<script|<style|<link/i,ir=/checked\s*(?:[^=]|=\s*.checked.)/i,lr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Pr(F,X){return pe(F,"table")&&pe(X.nodeType!==11?X:X.firstChild,"tr")&&L(F).children("tbody")[0]||F}function $r(F){return F.type=(F.getAttribute("type")!==null)+"/"+F.type,F}function dr(F){return(F.type||"").slice(0,5)==="true/"?F.type=F.type.slice(5):F.removeAttribute("type"),F}function ni(F,X){var ge,_e,Je,tt,gt,_n,Dn;if(X.nodeType===1){if(pt.hasData(F)&&(tt=pt.get(F),Dn=tt.events,Dn)){pt.remove(X,"handle events");for(Je in Dn)for(ge=0,_e=Dn[Je].length;ge<_e;ge++)L.event.add(X,Je,Dn[Je][ge])}He.hasData(F)&&(gt=He.access(F),_n=L.extend({},gt),He.set(X,_n))}}function un(F,X){var ge=X.nodeName.toLowerCase();ge==="input"&&Yn.test(F.type)?X.checked=F.checked:(ge==="input"||ge==="textarea")&&(X.defaultValue=F.defaultValue)}function ue(F,X,ge,_e){X=E(X);var Je,tt,gt,_n,Dn,Un,Mr=0,Dr=F.length,fr=Dr-1,Er=X[0],ao=K(Er);if(ao||Dr>1&&typeof Er=="string"&&!J.checkClone&&ir.test(Er))return F.each(function(oo){var ba=F.eq(oo);ao&&(X[0]=Er.call(this,oo,ba.html())),ue(ba,X,ge,_e)});if(Dr&&(Je=zr(X,F[0].ownerDocument,!1,F,_e),tt=Je.firstChild,Je.childNodes.length===1&&(Je=tt),tt||_e)){for(gt=L.map(Ot(Je,"script"),$r),_n=gt.length;Mr<Dr;Mr++)Dn=Je,Mr!==fr&&(Dn=L.clone(Dn,!0,!0),_n&&L.merge(gt,Ot(Dn,"script"))),ge.call(F[Mr],Dn,Mr);if(_n)for(Un=gt[gt.length-1].ownerDocument,L.map(gt,dr),Mr=0;Mr<_n;Mr++)Dn=gt[Mr],kt.test(Dn.type||"")&&!pt.access(Dn,"globalEval")&&L.contains(Un,Dn)&&(Dn.src&&(Dn.type||"").toLowerCase()!=="module"?L._evalUrl&&!Dn.noModule&&L._evalUrl(Dn.src,{nonce:Dn.nonce||Dn.getAttribute("nonce")},Un):le(Dn.textContent.replace(lr,""),Dn,Un))}return F}function De(F,X,ge){for(var _e,Je=X?L.filter(X,F):F,tt=0;(_e=Je[tt])!=null;tt++)!ge&&_e.nodeType===1&&L.cleanData(Ot(_e)),_e.parentNode&&(ge&&Fn(_e)&&ur(Ot(_e,"script")),_e.parentNode.removeChild(_e));return F}L.extend({htmlPrefilter:function(F){return F},clone:function(F,X,ge){var _e,Je,tt,gt,_n=F.cloneNode(!0),Dn=Fn(F);if(!J.noCloneChecked&&(F.nodeType===1||F.nodeType===11)&&!L.isXMLDoc(F))for(gt=Ot(_n),tt=Ot(F),_e=0,Je=tt.length;_e<Je;_e++)un(tt[_e],gt[_e]);if(X)if(ge)for(tt=tt||Ot(F),gt=gt||Ot(_n),_e=0,Je=tt.length;_e<Je;_e++)ni(tt[_e],gt[_e]);else ni(F,_n);return gt=Ot(_n,"script"),gt.length>0&&ur(gt,!Dn&&Ot(F,"script")),_n},cleanData:function(F){for(var X,ge,_e,Je=L.event.special,tt=0;(ge=F[tt])!==void 0;tt++)if(Xe(ge)){if(X=ge[pt.expando]){if(X.events)for(_e in X.events)Je[_e]?L.event.remove(ge,_e):L.removeEvent(ge,_e,X.handle);ge[pt.expando]=void 0}ge[He.expando]&&(ge[He.expando]=void 0)}}}),L.fn.extend({detach:function(F){return De(this,F,!0)},remove:function(F){return De(this,F)},text:function(F){return Kn(this,function(X){return X===void 0?L.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=X)})},null,F,arguments.length)},append:function(){return ue(this,arguments,function(F){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var X=Pr(this,F);X.appendChild(F)}})},prepend:function(){return ue(this,arguments,function(F){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var X=Pr(this,F);X.insertBefore(F,X.firstChild)}})},before:function(){return ue(this,arguments,function(F){this.parentNode&&this.parentNode.insertBefore(F,this)})},after:function(){return ue(this,arguments,function(F){this.parentNode&&this.parentNode.insertBefore(F,this.nextSibling)})},empty:function(){for(var F,X=0;(F=this[X])!=null;X++)F.nodeType===1&&(L.cleanData(Ot(F,!1)),F.textContent="");return this},clone:function(F,X){return F=F==null?!1:F,X=X==null?F:X,this.map(function(){return L.clone(this,F,X)})},html:function(F){return Kn(this,function(X){var ge=this[0]||{},_e=0,Je=this.length;if(X===void 0&&ge.nodeType===1)return ge.innerHTML;if(typeof X=="string"&&!or.test(X)&&!dn[(Bt.exec(X)||["",""])[1].toLowerCase()]){X=L.htmlPrefilter(X);try{for(;_e<Je;_e++)ge=this[_e]||{},ge.nodeType===1&&(L.cleanData(Ot(ge,!1)),ge.innerHTML=X);ge=0}catch(tt){}}ge&&this.empty().append(X)},null,F,arguments.length)},replaceWith:function(){var F=[];return ue(this,arguments,function(X){var ge=this.parentNode;L.inArray(this,F)<0&&(L.cleanData(Ot(this)),ge&&ge.replaceChild(X,this))},F)}}),L.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(F,X){L.fn[F]=function(ge){for(var _e,Je=[],tt=L(ge),gt=tt.length-1,_n=0;_n<=gt;_n++)_e=_n===gt?this:this.clone(!0),L(tt[_n])[X](_e),w.apply(Je,_e.get());return this.pushStack(Je)}});var oe=new RegExp("^("+pr+")(?!px)[a-z%]+$","i"),R=/^--/,N=function(F){var X=F.ownerDocument.defaultView;return(!X||!X.opener)&&(X=d),X.getComputedStyle(F)},G=function(F,X,ge){var _e,Je,tt={};for(Je in X)tt[Je]=F.style[Je],F.style[Je]=X[Je];_e=ge.call(F);for(Je in X)F.style[Je]=tt[Je];return _e},ye=new RegExp(Sn.join("|"),"i");(function(){function F(){if(Un){Dn.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Un.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Cn.appendChild(Dn).appendChild(Un);var Mr=d.getComputedStyle(Un);ge=Mr.top!=="1%",_n=X(Mr.marginLeft)===12,Un.style.right="60%",tt=X(Mr.right)===36,_e=X(Mr.width)===36,Un.style.position="absolute",Je=X(Un.offsetWidth/3)===12,Cn.removeChild(Dn),Un=null}}function X(Mr){return Math.round(parseFloat(Mr))}var ge,_e,Je,tt,gt,_n,Dn=re.createElement("div"),Un=re.createElement("div");Un.style&&(Un.style.backgroundClip="content-box",Un.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle=Un.style.backgroundClip==="content-box",L.extend(J,{boxSizingReliable:function(){return F(),_e},pixelBoxStyles:function(){return F(),tt},pixelPosition:function(){return F(),ge},reliableMarginLeft:function(){return F(),_n},scrollboxSize:function(){return F(),Je},reliableTrDimensions:function(){var Mr,Dr,fr,Er;return gt==null&&(Mr=re.createElement("table"),Dr=re.createElement("tr"),fr=re.createElement("div"),Mr.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Dr.style.cssText="box-sizing:content-box;border:1px solid",Dr.style.height="1px",fr.style.height="9px",fr.style.display="block",Cn.appendChild(Mr).appendChild(Dr).appendChild(fr),Er=d.getComputedStyle(Dr),gt=parseInt(Er.height,10)+parseInt(Er.borderTopWidth,10)+parseInt(Er.borderBottomWidth,10)===Dr.offsetHeight,Cn.removeChild(Mr)),gt}}))})();function Ie(F,X,ge){var _e,Je,tt,gt,_n=R.test(X),Dn=F.style;return ge=ge||N(F),ge&&(gt=ge.getPropertyValue(X)||ge[X],_n&&gt&&(gt=gt.replace(en,"$1")||void 0),gt===""&&!Fn(F)&&(gt=L.style(F,X)),!J.pixelBoxStyles()&&oe.test(gt)&&ye.test(X)&&(_e=Dn.width,Je=Dn.minWidth,tt=Dn.maxWidth,Dn.minWidth=Dn.maxWidth=Dn.width=gt,gt=ge.width,Dn.width=_e,Dn.minWidth=Je,Dn.maxWidth=tt)),gt!==void 0?gt+"":gt}function ze(F,X){return{get:function(){if(F()){delete this.get;return}return(this.get=X).apply(this,arguments)}}}var Ce=["Webkit","Moz","ms"],ke=re.createElement("div").style,rt={};function Tt(F){for(var X=F[0].toUpperCase()+F.slice(1),ge=Ce.length;ge--;)if(F=Ce[ge]+X,F in ke)return F}function En(F){var X=L.cssProps[F]||rt[F];return X||(F in ke?F:rt[F]=Tt(F)||F)}var Rn=/^(none|table(?!-c[ea]).+)/,$n={position:"absolute",visibility:"hidden",display:"block"},Xn={letterSpacing:"0",fontWeight:"400"};function $t(F,X,ge){var _e=Cr.exec(X);return _e?Math.max(0,_e[2]-(ge||0))+(_e[3]||"px"):X}function hn(F,X,ge,_e,Je,tt){var gt=X==="width"?1:0,_n=0,Dn=0,Un=0;if(ge===(_e?"border":"content"))return 0;for(;gt<4;gt+=2)ge==="margin"&&(Un+=L.css(F,ge+Sn[gt],!0,Je)),_e?(ge==="content"&&(Dn-=L.css(F,"padding"+Sn[gt],!0,Je)),ge!=="margin"&&(Dn-=L.css(F,"border"+Sn[gt]+"Width",!0,Je))):(Dn+=L.css(F,"padding"+Sn[gt],!0,Je),ge!=="padding"?Dn+=L.css(F,"border"+Sn[gt]+"Width",!0,Je):_n+=L.css(F,"border"+Sn[gt]+"Width",!0,Je));return!_e&&tt>=0&&(Dn+=Math.max(0,Math.ceil(F["offset"+X[0].toUpperCase()+X.slice(1)]-tt-Dn-_n-.5))||0),Dn+Un}function bn(F,X,ge){var _e=N(F),Je=!J.boxSizingReliable()||ge,tt=Je&&L.css(F,"boxSizing",!1,_e)==="border-box",gt=tt,_n=Ie(F,X,_e),Dn="offset"+X[0].toUpperCase()+X.slice(1);if(oe.test(_n)){if(!ge)return _n;_n="auto"}return(!J.boxSizingReliable()&&tt||!J.reliableTrDimensions()&&pe(F,"tr")||_n==="auto"||!parseFloat(_n)&&L.css(F,"display",!1,_e)==="inline")&&F.getClientRects().length&&(tt=L.css(F,"boxSizing",!1,_e)==="border-box",gt=Dn in F,gt&&(_n=F[Dn])),_n=parseFloat(_n)||0,_n+hn(F,X,ge||(tt?"border":"content"),gt,_e,_n)+"px"}L.extend({cssHooks:{opacity:{get:function(F,X){if(X){var ge=Ie(F,"opacity");return ge===""?"1":ge}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(F,X,ge,_e){if(!(!F||F.nodeType===3||F.nodeType===8||!F.style)){var Je,tt,gt,_n=ot(X),Dn=R.test(X),Un=F.style;if(Dn||(X=En(_n)),gt=L.cssHooks[X]||L.cssHooks[_n],ge!==void 0){if(tt=typeof ge,tt==="string"&&(Je=Cr.exec(ge))&&Je[1]&&(ge=ti(F,X,Je),tt="number"),ge==null||ge!==ge)return;tt==="number"&&!Dn&&(ge+=Je&&Je[3]||(L.cssNumber[_n]?"":"px")),!J.clearCloneStyle&&ge===""&&X.indexOf("background")===0&&(Un[X]="inherit"),(!gt||!("set"in gt)||(ge=gt.set(F,ge,_e))!==void 0)&&(Dn?Un.setProperty(X,ge):Un[X]=ge)}else return gt&&"get"in gt&&(Je=gt.get(F,!1,_e))!==void 0?Je:Un[X]}},css:function(F,X,ge,_e){var Je,tt,gt,_n=ot(X),Dn=R.test(X);return Dn||(X=En(_n)),gt=L.cssHooks[X]||L.cssHooks[_n],gt&&"get"in gt&&(Je=gt.get(F,!0,ge)),Je===void 0&&(Je=Ie(F,X,_e)),Je==="normal"&&X in Xn&&(Je=Xn[X]),ge===""||ge?(tt=parseFloat(Je),ge===!0||isFinite(tt)?tt||0:Je):Je}}),L.each(["height","width"],function(F,X){L.cssHooks[X]={get:function(ge,_e,Je){if(_e)return Rn.test(L.css(ge,"display"))&&(!ge.getClientRects().length||!ge.getBoundingClientRect().width)?G(ge,$n,function(){return bn(ge,X,Je)}):bn(ge,X,Je)},set:function(ge,_e,Je){var tt,gt=N(ge),_n=!J.scrollboxSize()&&gt.position==="absolute",Dn=_n||Je,Un=Dn&&L.css(ge,"boxSizing",!1,gt)==="border-box",Mr=Je?hn(ge,X,Je,Un,gt):0;return Un&&_n&&(Mr-=Math.ceil(ge["offset"+X[0].toUpperCase()+X.slice(1)]-parseFloat(gt[X])-hn(ge,X,"border",!1,gt)-.5)),Mr&&(tt=Cr.exec(_e))&&(tt[3]||"px")!=="px"&&(ge.style[X]=_e,_e=L.css(ge,X)),$t(ge,_e,Mr)}}}),L.cssHooks.marginLeft=ze(J.reliableMarginLeft,function(F,X){if(X)return(parseFloat(Ie(F,"marginLeft"))||F.getBoundingClientRect().left-G(F,{marginLeft:0},function(){return F.getBoundingClientRect().left}))+"px"}),L.each({margin:"",padding:"",border:"Width"},function(F,X){L.cssHooks[F+X]={expand:function(ge){for(var _e=0,Je={},tt=typeof ge=="string"?ge.split(" "):[ge];_e<4;_e++)Je[F+Sn[_e]+X]=tt[_e]||tt[_e-2]||tt[0];return Je}},F!=="margin"&&(L.cssHooks[F+X].set=$t)}),L.fn.extend({css:function(F,X){return Kn(this,function(ge,_e,Je){var tt,gt,_n={},Dn=0;if(Array.isArray(_e)){for(tt=N(ge),gt=_e.length;Dn<gt;Dn++)_n[_e[Dn]]=L.css(ge,_e[Dn],!1,tt);return _n}return Je!==void 0?L.style(ge,_e,Je):L.css(ge,_e)},F,X,arguments.length>1)}});function br(F,X,ge,_e,Je){return new br.prototype.init(F,X,ge,_e,Je)}L.Tween=br,br.prototype={constructor:br,init:function(F,X,ge,_e,Je,tt){this.elem=F,this.prop=ge,this.easing=Je||L.easing._default,this.options=X,this.start=this.now=this.cur(),this.end=_e,this.unit=tt||(L.cssNumber[ge]?"":"px")},cur:function(){var F=br.propHooks[this.prop];return F&&F.get?F.get(this):br.propHooks._default.get(this)},run:function(F){var X,ge=br.propHooks[this.prop];return this.options.duration?this.pos=X=L.easing[this.easing](F,this.options.duration*F,0,1,this.options.duration):this.pos=X=F,this.now=(this.end-this.start)*X+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),ge&&ge.set?ge.set(this):br.propHooks._default.set(this),this}},br.prototype.init.prototype=br.prototype,br.propHooks={_default:{get:function(F){var X;return F.elem.nodeType!==1||F.elem[F.prop]!=null&&F.elem.style[F.prop]==null?F.elem[F.prop]:(X=L.css(F.elem,F.prop,""),!X||X==="auto"?0:X)},set:function(F){L.fx.step[F.prop]?L.fx.step[F.prop](F):F.elem.nodeType===1&&(L.cssHooks[F.prop]||F.elem.style[En(F.prop)]!=null)?L.style(F.elem,F.prop,F.now+F.unit):F.elem[F.prop]=F.now}}},br.propHooks.scrollTop=br.propHooks.scrollLeft={set:function(F){F.elem.nodeType&&F.elem.parentNode&&(F.elem[F.prop]=F.now)}},L.easing={linear:function(F){return F},swing:function(F){return .5-Math.cos(F*Math.PI)/2},_default:"swing"},L.fx=br.prototype.init,L.fx.step={};var qn,Li,$i=/^(?:toggle|show|hide)$/,Bi=/queueHooks$/;function co(){Li&&(re.hidden===!1&&d.requestAnimationFrame?d.requestAnimationFrame(co):d.setTimeout(co,L.fx.interval),L.fx.tick())}function Do(){return d.setTimeout(function(){qn=void 0}),qn=Date.now()}function Wo(F,X){var ge,_e=0,Je={height:F};for(X=X?1:0;_e<4;_e+=2-X)ge=Sn[_e],Je["margin"+ge]=Je["padding"+ge]=F;return X&&(Je.opacity=Je.width=F),Je}function hi(F,X,ge){for(var _e,Je=(fi.tweeners[X]||[]).concat(fi.tweeners["*"]),tt=0,gt=Je.length;tt<gt;tt++)if(_e=Je[tt].call(ge,X,F))return _e}function ua(F,X,ge){var _e,Je,tt,gt,_n,Dn,Un,Mr,Dr="width"in X||"height"in X,fr=this,Er={},ao=F.style,oo=F.nodeType&&sr(F),ba=pt.get(F,"fxshow");ge.queue||(gt=L._queueHooks(F,"fx"),gt.unqueued==null&&(gt.unqueued=0,_n=gt.empty.fire,gt.empty.fire=function(){gt.unqueued||_n()}),gt.unqueued++,fr.always(function(){fr.always(function(){gt.unqueued--,L.queue(F,"fx").length||gt.empty.fire()})}));for(_e in X)if(Je=X[_e],$i.test(Je)){if(delete X[_e],tt=tt||Je==="toggle",Je===(oo?"hide":"show"))if(Je==="show"&&ba&&ba[_e]!==void 0)oo=!0;else continue;Er[_e]=ba&&ba[_e]||L.style(F,_e)}if(Dn=!L.isEmptyObject(X),!(!Dn&&L.isEmptyObject(Er))){Dr&&F.nodeType===1&&(ge.overflow=[ao.overflow,ao.overflowX,ao.overflowY],Un=ba&&ba.display,Un==null&&(Un=pt.get(F,"display")),Mr=L.css(F,"display"),Mr==="none"&&(Un?Mr=Un:(di([F],!0),Un=F.style.display||Un,Mr=L.css(F,"display"),di([F]))),(Mr==="inline"||Mr==="inline-block"&&Un!=null)&&L.css(F,"float")==="none"&&(Dn||(fr.done(function(){ao.display=Un}),Un==null&&(Mr=ao.display,Un=Mr==="none"?"":Mr)),ao.display="inline-block")),ge.overflow&&(ao.overflow="hidden",fr.always(function(){ao.overflow=ge.overflow[0],ao.overflowX=ge.overflow[1],ao.overflowY=ge.overflow[2]})),Dn=!1;for(_e in Er)Dn||(ba?"hidden"in ba&&(oo=ba.hidden):ba=pt.access(F,"fxshow",{display:Un}),tt&&(ba.hidden=!oo),oo&&di([F],!0),fr.done(function(){oo||di([F]),pt.remove(F,"fxshow");for(_e in Er)L.style(F,_e,Er[_e])})),Dn=hi(oo?ba[_e]:0,_e,fr),_e in ba||(ba[_e]=Dn.start,oo&&(Dn.end=Dn.start,Dn.start=0))}}function ya(F,X){var ge,_e,Je,tt,gt;for(ge in F)if(_e=ot(ge),Je=X[_e],tt=F[ge],Array.isArray(tt)&&(Je=tt[1],tt=F[ge]=tt[0]),ge!==_e&&(F[_e]=tt,delete F[ge]),gt=L.cssHooks[_e],gt&&"expand"in gt){tt=gt.expand(tt),delete F[_e];for(ge in tt)ge in F||(F[ge]=tt[ge],X[ge]=Je)}else X[_e]=Je}function fi(F,X,ge){var _e,Je,tt=0,gt=fi.prefilters.length,_n=L.Deferred().always(function(){delete Dn.elem}),Dn=function(){if(Je)return!1;for(var Dr=qn||Do(),fr=Math.max(0,Un.startTime+Un.duration-Dr),Er=fr/Un.duration||0,ao=1-Er,oo=0,ba=Un.tweens.length;oo<ba;oo++)Un.tweens[oo].run(ao);return _n.notifyWith(F,[Un,ao,fr]),ao<1&&ba?fr:(ba||_n.notifyWith(F,[Un,1,0]),_n.resolveWith(F,[Un]),!1)},Un=_n.promise({elem:F,props:L.extend({},X),opts:L.extend(!0,{specialEasing:{},easing:L.easing._default},ge),originalProperties:X,originalOptions:ge,startTime:qn||Do(),duration:ge.duration,tweens:[],createTween:function(Dr,fr){var Er=L.Tween(F,Un.opts,Dr,fr,Un.opts.specialEasing[Dr]||Un.opts.easing);return Un.tweens.push(Er),Er},stop:function(Dr){var fr=0,Er=Dr?Un.tweens.length:0;if(Je)return this;for(Je=!0;fr<Er;fr++)Un.tweens[fr].run(1);return Dr?(_n.notifyWith(F,[Un,1,0]),_n.resolveWith(F,[Un,Dr])):_n.rejectWith(F,[Un,Dr]),this}}),Mr=Un.props;for(ya(Mr,Un.opts.specialEasing);tt<gt;tt++)if(_e=fi.prefilters[tt].call(Un,F,Mr,Un.opts),_e)return K(_e.stop)&&(L._queueHooks(Un.elem,Un.opts.queue).stop=_e.stop.bind(_e)),_e;return L.map(Mr,hi,Un),K(Un.opts.start)&&Un.opts.start.call(F,Un),Un.progress(Un.opts.progress).done(Un.opts.done,Un.opts.complete).fail(Un.opts.fail).always(Un.opts.always),L.fx.timer(L.extend(Dn,{elem:F,anim:Un,queue:Un.opts.queue})),Un}L.Animation=L.extend(fi,{tweeners:{"*":[function(F,X){var ge=this.createTween(F,X);return ti(ge.elem,F,Cr.exec(X),ge),ge}]},tweener:function(F,X){K(F)?(X=F,F=["*"]):F=F.match(Lt);for(var ge,_e=0,Je=F.length;_e<Je;_e++)ge=F[_e],fi.tweeners[ge]=fi.tweeners[ge]||[],fi.tweeners[ge].unshift(X)},prefilters:[ua],prefilter:function(F,X){X?fi.prefilters.unshift(F):fi.prefilters.push(F)}}),L.speed=function(F,X,ge){var _e=F&&typeof F=="object"?L.extend({},F):{complete:ge||!ge&&X||K(F)&&F,duration:F,easing:ge&&X||X&&!K(X)&&X};return L.fx.off?_e.duration=0:typeof _e.duration!="number"&&(_e.duration in L.fx.speeds?_e.duration=L.fx.speeds[_e.duration]:_e.duration=L.fx.speeds._default),(_e.queue==null||_e.queue===!0)&&(_e.queue="fx"),_e.old=_e.complete,_e.complete=function(){K(_e.old)&&_e.old.call(this),_e.queue&&L.dequeue(this,_e.queue)},_e},L.fn.extend({fadeTo:function(F,X,ge,_e){return this.filter(sr).css("opacity",0).show().end().animate({opacity:X},F,ge,_e)},animate:function(F,X,ge,_e){var Je=L.isEmptyObject(F),tt=L.speed(X,ge,_e),gt=function(){var _n=fi(this,L.extend({},F),tt);(Je||pt.get(this,"finish"))&&_n.stop(!0)};return gt.finish=gt,Je||tt.queue===!1?this.each(gt):this.queue(tt.queue,gt)},stop:function(F,X,ge){var _e=function(Je){var tt=Je.stop;delete Je.stop,tt(ge)};return typeof F!="string"&&(ge=X,X=F,F=void 0),X&&this.queue(F||"fx",[]),this.each(function(){var Je=!0,tt=F!=null&&F+"queueHooks",gt=L.timers,_n=pt.get(this);if(tt)_n[tt]&&_n[tt].stop&&_e(_n[tt]);else for(tt in _n)_n[tt]&&_n[tt].stop&&Bi.test(tt)&&_e(_n[tt]);for(tt=gt.length;tt--;)gt[tt].elem===this&&(F==null||gt[tt].queue===F)&&(gt[tt].anim.stop(ge),Je=!1,gt.splice(tt,1));(Je||!ge)&&L.dequeue(this,F)})},finish:function(F){return F!==!1&&(F=F||"fx"),this.each(function(){var X,ge=pt.get(this),_e=ge[F+"queue"],Je=ge[F+"queueHooks"],tt=L.timers,gt=_e?_e.length:0;for(ge.finish=!0,L.queue(this,F,[]),Je&&Je.stop&&Je.stop.call(this,!0),X=tt.length;X--;)tt[X].elem===this&&tt[X].queue===F&&(tt[X].anim.stop(!0),tt.splice(X,1));for(X=0;X<gt;X++)_e[X]&&_e[X].finish&&_e[X].finish.call(this);delete ge.finish})}}),L.each(["toggle","show","hide"],function(F,X){var ge=L.fn[X];L.fn[X]=function(_e,Je,tt){return _e==null||typeof _e=="boolean"?ge.apply(this,arguments):this.animate(Wo(X,!0),_e,Je,tt)}}),L.each({slideDown:Wo("show"),slideUp:Wo("hide"),slideToggle:Wo("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(F,X){L.fn[F]=function(ge,_e,Je){return this.animate(X,ge,_e,Je)}}),L.timers=[],L.fx.tick=function(){var F,X=0,ge=L.timers;for(qn=Date.now();X<ge.length;X++)F=ge[X],!F()&&ge[X]===F&&ge.splice(X--,1);ge.length||L.fx.stop(),qn=void 0},L.fx.timer=function(F){L.timers.push(F),L.fx.start()},L.fx.interval=13,L.fx.start=function(){Li||(Li=!0,co())},L.fx.stop=function(){Li=null},L.fx.speeds={slow:600,fast:200,_default:400},L.fn.delay=function(F,X){return F=L.fx&&L.fx.speeds[F]||F,X=X||"fx",this.queue(X,function(ge,_e){var Je=d.setTimeout(ge,F);_e.stop=function(){d.clearTimeout(Je)}})},function(){var F=re.createElement("input"),X=re.createElement("select"),ge=X.appendChild(re.createElement("option"));F.type="checkbox",J.checkOn=F.value!=="",J.optSelected=ge.selected,F=re.createElement("input"),F.value="t",F.type="radio",J.radioValue=F.value==="t"}();var Pi,Qi=L.expr.attrHandle;L.fn.extend({attr:function(F,X){return Kn(this,L.attr,F,X,arguments.length>1)},removeAttr:function(F){return this.each(function(){L.removeAttr(this,F)})}}),L.extend({attr:function(F,X,ge){var _e,Je,tt=F.nodeType;if(!(tt===3||tt===8||tt===2)){if(typeof F.getAttribute=="undefined")return L.prop(F,X,ge);if((tt!==1||!L.isXMLDoc(F))&&(Je=L.attrHooks[X.toLowerCase()]||(L.expr.match.bool.test(X)?Pi:void 0)),ge!==void 0){if(ge===null){L.removeAttr(F,X);return}return Je&&"set"in Je&&(_e=Je.set(F,ge,X))!==void 0?_e:(F.setAttribute(X,ge+""),ge)}return Je&&"get"in Je&&(_e=Je.get(F,X))!==null?_e:(_e=L.find.attr(F,X),_e==null?void 0:_e)}},attrHooks:{type:{set:function(F,X){if(!J.radioValue&&X==="radio"&&pe(F,"input")){var ge=F.value;return F.setAttribute("type",X),ge&&(F.value=ge),X}}}},removeAttr:function(F,X){var ge,_e=0,Je=X&&X.match(Lt);if(Je&&F.nodeType===1)for(;ge=Je[_e++];)F.removeAttribute(ge)}}),Pi={set:function(F,X,ge){return X===!1?L.removeAttr(F,ge):F.setAttribute(ge,ge),ge}},L.each(L.expr.match.bool.source.match(/\w+/g),function(F,X){var ge=Qi[X]||L.find.attr;Qi[X]=function(_e,Je,tt){var gt,_n,Dn=Je.toLowerCase();return tt||(_n=Qi[Dn],Qi[Dn]=gt,gt=ge(_e,Je,tt)!=null?Dn:null,Qi[Dn]=_n),gt}});var Zi=/^(?:input|select|textarea|button)$/i,Ta=/^(?:a|area)$/i;L.fn.extend({prop:function(F,X){return Kn(this,L.prop,F,X,arguments.length>1)},removeProp:function(F){return this.each(function(){delete this[L.propFix[F]||F]})}}),L.extend({prop:function(F,X,ge){var _e,Je,tt=F.nodeType;if(!(tt===3||tt===8||tt===2))return(tt!==1||!L.isXMLDoc(F))&&(X=L.propFix[X]||X,Je=L.propHooks[X]),ge!==void 0?Je&&"set"in Je&&(_e=Je.set(F,ge,X))!==void 0?_e:F[X]=ge:Je&&"get"in Je&&(_e=Je.get(F,X))!==null?_e:F[X]},propHooks:{tabIndex:{get:function(F){var X=L.find.attr(F,"tabindex");return X?parseInt(X,10):Zi.test(F.nodeName)||Ta.test(F.nodeName)&&F.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),J.optSelected||(L.propHooks.selected={get:function(F){var X=F.parentNode;return X&&X.parentNode&&X.parentNode.selectedIndex,null},set:function(F){var X=F.parentNode;X&&(X.selectedIndex,X.parentNode&&X.parentNode.selectedIndex)}}),L.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){L.propFix[this.toLowerCase()]=this});function uo(F){var X=F.match(Lt)||[];return X.join(" ")}function xa(F){return F.getAttribute&&F.getAttribute("class")||""}function Qo(F){return Array.isArray(F)?F:typeof F=="string"?F.match(Lt)||[]:[]}L.fn.extend({addClass:function(F){var X,ge,_e,Je,tt,gt;return K(F)?this.each(function(_n){L(this).addClass(F.call(this,_n,xa(this)))}):(X=Qo(F),X.length?this.each(function(){if(_e=xa(this),ge=this.nodeType===1&&" "+uo(_e)+" ",ge){for(tt=0;tt<X.length;tt++)Je=X[tt],ge.indexOf(" "+Je+" ")<0&&(ge+=Je+" ");gt=uo(ge),_e!==gt&&this.setAttribute("class",gt)}}):this)},removeClass:function(F){var X,ge,_e,Je,tt,gt;return K(F)?this.each(function(_n){L(this).removeClass(F.call(this,_n,xa(this)))}):arguments.length?(X=Qo(F),X.length?this.each(function(){if(_e=xa(this),ge=this.nodeType===1&&" "+uo(_e)+" ",ge){for(tt=0;tt<X.length;tt++)for(Je=X[tt];ge.indexOf(" "+Je+" ")>-1;)ge=ge.replace(" "+Je+" "," ");gt=uo(ge),_e!==gt&&this.setAttribute("class",gt)}}):this):this.attr("class","")},toggleClass:function(F,X){var ge,_e,Je,tt,gt=typeof F,_n=gt==="string"||Array.isArray(F);return K(F)?this.each(function(Dn){L(this).toggleClass(F.call(this,Dn,xa(this),X),X)}):typeof X=="boolean"&&_n?X?this.addClass(F):this.removeClass(F):(ge=Qo(F),this.each(function(){if(_n)for(tt=L(this),Je=0;Je<ge.length;Je++)_e=ge[Je],tt.hasClass(_e)?tt.removeClass(_e):tt.addClass(_e);else(F===void 0||gt==="boolean")&&(_e=xa(this),_e&&pt.set(this,"__className__",_e),this.setAttribute&&this.setAttribute("class",_e||F===!1?"":pt.get(this,"__className__")||""))}))},hasClass:function(F){var X,ge,_e=0;for(X=" "+F+" ";ge=this[_e++];)if(ge.nodeType===1&&(" "+uo(xa(ge))+" ").indexOf(X)>-1)return!0;return!1}});var ra=/\r/g;L.fn.extend({val:function(F){var X,ge,_e,Je=this[0];return arguments.length?(_e=K(F),this.each(function(tt){var gt;this.nodeType===1&&(_e?gt=F.call(this,tt,L(this).val()):gt=F,gt==null?gt="":typeof gt=="number"?gt+="":Array.isArray(gt)&&(gt=L.map(gt,function(_n){return _n==null?"":_n+""})),X=L.valHooks[this.type]||L.valHooks[this.nodeName.toLowerCase()],(!X||!("set"in X)||X.set(this,gt,"value")===void 0)&&(this.value=gt))})):Je?(X=L.valHooks[Je.type]||L.valHooks[Je.nodeName.toLowerCase()],X&&"get"in X&&(ge=X.get(Je,"value"))!==void 0?ge:(ge=Je.value,typeof ge=="string"?ge.replace(ra,""):ge==null?"":ge)):void 0}}),L.extend({valHooks:{option:{get:function(F){var X=L.find.attr(F,"value");return X!=null?X:uo(L.text(F))}},select:{get:function(F){var X,ge,_e,Je=F.options,tt=F.selectedIndex,gt=F.type==="select-one",_n=gt?null:[],Dn=gt?tt+1:Je.length;for(tt<0?_e=Dn:_e=gt?tt:0;_e<Dn;_e++)if(ge=Je[_e],(ge.selected||_e===tt)&&!ge.disabled&&(!ge.parentNode.disabled||!pe(ge.parentNode,"optgroup"))){if(X=L(ge).val(),gt)return X;_n.push(X)}return _n},set:function(F,X){for(var ge,_e,Je=F.options,tt=L.makeArray(X),gt=Je.length;gt--;)_e=Je[gt],(_e.selected=L.inArray(L.valHooks.option.get(_e),tt)>-1)&&(ge=!0);return ge||(F.selectedIndex=-1),tt}}}}),L.each(["radio","checkbox"],function(){L.valHooks[this]={set:function(F,X){if(Array.isArray(X))return F.checked=L.inArray(L(F).val(),X)>-1}},J.checkOn||(L.valHooks[this].get=function(F){return F.getAttribute("value")===null?"on":F.value})});var To=d.location,fa={guid:Date.now()},Ba=/\?/;L.parseXML=function(F){var X,ge;if(!F||typeof F!="string")return null;try{X=new d.DOMParser().parseFromString(F,"text/xml")}catch(_e){}return ge=X&&X.getElementsByTagName("parsererror")[0],(!X||ge)&&L.error("Invalid XML: "+(ge?L.map(ge.childNodes,function(_e){return _e.textContent}).join(`
`):F)),X};var xt=/^(?:focusinfocus|focusoutblur)$/,sn=function(F){F.stopPropagation()};L.extend(L.event,{trigger:function(F,X,ge,_e){var Je,tt,gt,_n,Dn,Un,Mr,Dr,fr=[ge||re],Er=$.call(F,"type")?F.type:F,ao=$.call(F,"namespace")?F.namespace.split("."):[];if(tt=Dr=gt=ge=ge||re,!(ge.nodeType===3||ge.nodeType===8)&&!xt.test(Er+L.event.triggered)&&(Er.indexOf(".")>-1&&(ao=Er.split("."),Er=ao.shift(),ao.sort()),Dn=Er.indexOf(":")<0&&"on"+Er,F=F[L.expando]?F:new L.Event(Er,typeof F=="object"&&F),F.isTrigger=_e?2:3,F.namespace=ao.join("."),F.rnamespace=F.namespace?new RegExp("(^|\\.)"+ao.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,F.result=void 0,F.target||(F.target=ge),X=X==null?[F]:L.makeArray(X,[F]),Mr=L.event.special[Er]||{},!(!_e&&Mr.trigger&&Mr.trigger.apply(ge,X)===!1))){if(!_e&&!Mr.noBubble&&!Y(ge)){for(_n=Mr.delegateType||Er,xt.test(_n+Er)||(tt=tt.parentNode);tt;tt=tt.parentNode)fr.push(tt),gt=tt;gt===(ge.ownerDocument||re)&&fr.push(gt.defaultView||gt.parentWindow||d)}for(Je=0;(tt=fr[Je++])&&!F.isPropagationStopped();)Dr=tt,F.type=Je>1?_n:Mr.bindType||Er,Un=(pt.get(tt,"events")||Object.create(null))[F.type]&&pt.get(tt,"handle"),Un&&Un.apply(tt,X),Un=Dn&&tt[Dn],Un&&Un.apply&&Xe(tt)&&(F.result=Un.apply(tt,X),F.result===!1&&F.preventDefault());return F.type=Er,!_e&&!F.isDefaultPrevented()&&(!Mr._default||Mr._default.apply(fr.pop(),X)===!1)&&Xe(ge)&&Dn&&K(ge[Er])&&!Y(ge)&&(gt=ge[Dn],gt&&(ge[Dn]=null),L.event.triggered=Er,F.isPropagationStopped()&&Dr.addEventListener(Er,sn),ge[Er](),F.isPropagationStopped()&&Dr.removeEventListener(Er,sn),L.event.triggered=void 0,gt&&(ge[Dn]=gt)),F.result}},simulate:function(F,X,ge){var _e=L.extend(new L.Event,ge,{type:F,isSimulated:!0});L.event.trigger(_e,null,X)}}),L.fn.extend({trigger:function(F,X){return this.each(function(){L.event.trigger(F,X,this)})},triggerHandler:function(F,X){var ge=this[0];if(ge)return L.event.trigger(F,X,ge,!0)}});var Ht=/\[\]$/,jn=/\r?\n/g,xr=/^(?:submit|button|image|reset|file)$/i,nr=/^(?:input|select|textarea|keygen)/i;function zt(F,X,ge,_e){var Je;if(Array.isArray(X))L.each(X,function(tt,gt){ge||Ht.test(F)?_e(F,gt):zt(F+"["+(typeof gt=="object"&&gt!=null?tt:"")+"]",gt,ge,_e)});else if(!ge&&ie(X)==="object")for(Je in X)zt(F+"["+Je+"]",X[Je],ge,_e);else _e(F,X)}L.param=function(F,X){var ge,_e=[],Je=function(tt,gt){var _n=K(gt)?gt():gt;_e[_e.length]=encodeURIComponent(tt)+"="+encodeURIComponent(_n==null?"":_n)};if(F==null)return"";if(Array.isArray(F)||F.jquery&&!L.isPlainObject(F))L.each(F,function(){Je(this.name,this.value)});else for(ge in F)zt(ge,F[ge],X,Je);return _e.join("&")},L.fn.extend({serialize:function(){return L.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var F=L.prop(this,"elements");return F?L.makeArray(F):this}).filter(function(){var F=this.type;return this.name&&!L(this).is(":disabled")&&nr.test(this.nodeName)&&!xr.test(F)&&(this.checked||!Yn.test(F))}).map(function(F,X){var ge=L(this).val();return ge==null?null:Array.isArray(ge)?L.map(ge,function(_e){return{name:X.name,value:_e.replace(jn,`\r
`)}}):{name:X.name,value:ge.replace(jn,`\r
`)}}).get()}});var Qr=/%20/g,hr=/#.*$/,gi=/([?&])_=[^&]*/,mo=/^(.*?):[ \t]*([^\r\n]*)$/mg,No=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,io=/^(?:GET|HEAD)$/,Ti=/^\/\//,Fi={},ha={},Ea="*/".concat("*"),ea=re.createElement("a");ea.href=To.href;function Ja(F){return function(X,ge){typeof X!="string"&&(ge=X,X="*");var _e,Je=0,tt=X.toLowerCase().match(Lt)||[];if(K(ge))for(;_e=tt[Je++];)_e[0]==="+"?(_e=_e.slice(1)||"*",(F[_e]=F[_e]||[]).unshift(ge)):(F[_e]=F[_e]||[]).push(ge)}}function hs(F,X,ge,_e){var Je={},tt=F===ha;function gt(_n){var Dn;return Je[_n]=!0,L.each(F[_n]||[],function(Un,Mr){var Dr=Mr(X,ge,_e);if(typeof Dr=="string"&&!tt&&!Je[Dr])return X.dataTypes.unshift(Dr),gt(Dr),!1;if(tt)return!(Dn=Dr)}),Dn}return gt(X.dataTypes[0])||!Je["*"]&&gt("*")}function Gs(F,X){var ge,_e,Je=L.ajaxSettings.flatOptions||{};for(ge in X)X[ge]!==void 0&&((Je[ge]?F:_e||(_e={}))[ge]=X[ge]);return _e&&L.extend(!0,F,_e),F}function Ki(F,X,ge){for(var _e,Je,tt,gt,_n=F.contents,Dn=F.dataTypes;Dn[0]==="*";)Dn.shift(),_e===void 0&&(_e=F.mimeType||X.getResponseHeader("Content-Type"));if(_e){for(Je in _n)if(_n[Je]&&_n[Je].test(_e)){Dn.unshift(Je);break}}if(Dn[0]in ge)tt=Dn[0];else{for(Je in ge){if(!Dn[0]||F.converters[Je+" "+Dn[0]]){tt=Je;break}gt||(gt=Je)}tt=tt||gt}if(tt)return tt!==Dn[0]&&Dn.unshift(tt),ge[tt]}function Oa(F,X,ge,_e){var Je,tt,gt,_n,Dn,Un={},Mr=F.dataTypes.slice();if(Mr[1])for(gt in F.converters)Un[gt.toLowerCase()]=F.converters[gt];for(tt=Mr.shift();tt;)if(F.responseFields[tt]&&(ge[F.responseFields[tt]]=X),!Dn&&_e&&F.dataFilter&&(X=F.dataFilter(X,F.dataType)),Dn=tt,tt=Mr.shift(),tt){if(tt==="*")tt=Dn;else if(Dn!=="*"&&Dn!==tt){if(gt=Un[Dn+" "+tt]||Un["* "+tt],!gt){for(Je in Un)if(_n=Je.split(" "),_n[1]===tt&&(gt=Un[Dn+" "+_n[0]]||Un["* "+_n[0]],gt)){gt===!0?gt=Un[Je]:Un[Je]!==!0&&(tt=_n[0],Mr.unshift(_n[1]));break}}if(gt!==!0)if(gt&&F.throws)X=gt(X);else try{X=gt(X)}catch(Dr){return{state:"parsererror",error:gt?Dr:"No conversion from "+Dn+" to "+tt}}}}return{state:"success",data:X}}L.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:To.href,type:"GET",isLocal:No.test(To.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ea,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":L.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(F,X){return X?Gs(Gs(F,L.ajaxSettings),X):Gs(L.ajaxSettings,F)},ajaxPrefilter:Ja(Fi),ajaxTransport:Ja(ha),ajax:function(F,X){typeof F=="object"&&(X=F,F=void 0),X=X||{};var ge,_e,Je,tt,gt,_n,Dn,Un,Mr,Dr,fr=L.ajaxSetup({},X),Er=fr.context||fr,ao=fr.context&&(Er.nodeType||Er.jquery)?L(Er):L.event,oo=L.Deferred(),ba=L.Callbacks("once memory"),es=fr.statusCode||{},Da={},ut={},on="canceled",xn={readyState:0,getResponseHeader:function(mn){var Or;if(Dn){if(!tt)for(tt={};Or=mo.exec(Je);)tt[Or[1].toLowerCase()+" "]=(tt[Or[1].toLowerCase()+" "]||[]).concat(Or[2]);Or=tt[mn.toLowerCase()+" "]}return Or==null?null:Or.join(", ")},getAllResponseHeaders:function(){return Dn?Je:null},setRequestHeader:function(mn,Or){return Dn==null&&(mn=ut[mn.toLowerCase()]=ut[mn.toLowerCase()]||mn,Da[mn]=Or),this},overrideMimeType:function(mn){return Dn==null&&(fr.mimeType=mn),this},statusCode:function(mn){var Or;if(mn)if(Dn)xn.always(mn[xn.status]);else for(Or in mn)es[Or]=[es[Or],mn[Or]];return this},abort:function(mn){var Or=mn||on;return ge&&ge.abort(Or),cr(0,Or),this}};if(oo.promise(xn),fr.url=((F||fr.url||To.href)+"").replace(Ti,To.protocol+"//"),fr.type=X.method||X.type||fr.method||fr.type,fr.dataTypes=(fr.dataType||"*").toLowerCase().match(Lt)||[""],fr.crossDomain==null){_n=re.createElement("a");try{_n.href=fr.url,_n.href=_n.href,fr.crossDomain=ea.protocol+"//"+ea.host!=_n.protocol+"//"+_n.host}catch(mn){fr.crossDomain=!0}}if(fr.data&&fr.processData&&typeof fr.data!="string"&&(fr.data=L.param(fr.data,fr.traditional)),hs(Fi,fr,X,xn),Dn)return xn;Un=L.event&&fr.global,Un&&L.active++===0&&L.event.trigger("ajaxStart"),fr.type=fr.type.toUpperCase(),fr.hasContent=!io.test(fr.type),_e=fr.url.replace(hr,""),fr.hasContent?fr.data&&fr.processData&&(fr.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(fr.data=fr.data.replace(Qr,"+")):(Dr=fr.url.slice(_e.length),fr.data&&(fr.processData||typeof fr.data=="string")&&(_e+=(Ba.test(_e)?"&":"?")+fr.data,delete fr.data),fr.cache===!1&&(_e=_e.replace(gi,"$1"),Dr=(Ba.test(_e)?"&":"?")+"_="+fa.guid+++Dr),fr.url=_e+Dr),fr.ifModified&&(L.lastModified[_e]&&xn.setRequestHeader("If-Modified-Since",L.lastModified[_e]),L.etag[_e]&&xn.setRequestHeader("If-None-Match",L.etag[_e])),(fr.data&&fr.hasContent&&fr.contentType!==!1||X.contentType)&&xn.setRequestHeader("Content-Type",fr.contentType),xn.setRequestHeader("Accept",fr.dataTypes[0]&&fr.accepts[fr.dataTypes[0]]?fr.accepts[fr.dataTypes[0]]+(fr.dataTypes[0]!=="*"?", "+Ea+"; q=0.01":""):fr.accepts["*"]);for(Mr in fr.headers)xn.setRequestHeader(Mr,fr.headers[Mr]);if(fr.beforeSend&&(fr.beforeSend.call(Er,xn,fr)===!1||Dn))return xn.abort();if(on="abort",ba.add(fr.complete),xn.done(fr.success),xn.fail(fr.error),ge=hs(ha,fr,X,xn),!ge)cr(-1,"No Transport");else{if(xn.readyState=1,Un&&ao.trigger("ajaxSend",[xn,fr]),Dn)return xn;fr.async&&fr.timeout>0&&(gt=d.setTimeout(function(){xn.abort("timeout")},fr.timeout));try{Dn=!1,ge.send(Da,cr)}catch(mn){if(Dn)throw mn;cr(-1,mn)}}function cr(mn,Or,ei,Ni){var ki,yo,Ro,Lo,Jo,Io=Or;Dn||(Dn=!0,gt&&d.clearTimeout(gt),ge=void 0,Je=Ni||"",xn.readyState=mn>0?4:0,ki=mn>=200&&mn<300||mn===304,ei&&(Lo=Ki(fr,xn,ei)),!ki&&L.inArray("script",fr.dataTypes)>-1&&L.inArray("json",fr.dataTypes)<0&&(fr.converters["text script"]=function(){}),Lo=Oa(fr,Lo,xn,ki),ki?(fr.ifModified&&(Jo=xn.getResponseHeader("Last-Modified"),Jo&&(L.lastModified[_e]=Jo),Jo=xn.getResponseHeader("etag"),Jo&&(L.etag[_e]=Jo)),mn===204||fr.type==="HEAD"?Io="nocontent":mn===304?Io="notmodified":(Io=Lo.state,yo=Lo.data,Ro=Lo.error,ki=!Ro)):(Ro=Io,(mn||!Io)&&(Io="error",mn<0&&(mn=0))),xn.status=mn,xn.statusText=(Or||Io)+"",ki?oo.resolveWith(Er,[yo,Io,xn]):oo.rejectWith(Er,[xn,Io,Ro]),xn.statusCode(es),es=void 0,Un&&ao.trigger(ki?"ajaxSuccess":"ajaxError",[xn,fr,ki?yo:Ro]),ba.fireWith(Er,[xn,Io]),Un&&(ao.trigger("ajaxComplete",[xn,fr]),--L.active||L.event.trigger("ajaxStop")))}return xn},getJSON:function(F,X,ge){return L.get(F,X,ge,"json")},getScript:function(F,X){return L.get(F,void 0,X,"script")}}),L.each(["get","post"],function(F,X){L[X]=function(ge,_e,Je,tt){return K(_e)&&(tt=tt||Je,Je=_e,_e=void 0),L.ajax(L.extend({url:ge,type:X,dataType:tt,data:_e,success:Je},L.isPlainObject(ge)&&ge))}}),L.ajaxPrefilter(function(F){var X;for(X in F.headers)X.toLowerCase()==="content-type"&&(F.contentType=F.headers[X]||"")}),L._evalUrl=function(F,X,ge){return L.ajax({url:F,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(_e){L.globalEval(_e,X,ge)}})},L.fn.extend({wrapAll:function(F){var X;return this[0]&&(K(F)&&(F=F.call(this[0])),X=L(F,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&X.insertBefore(this[0]),X.map(function(){for(var ge=this;ge.firstElementChild;)ge=ge.firstElementChild;return ge}).append(this)),this},wrapInner:function(F){return K(F)?this.each(function(X){L(this).wrapInner(F.call(this,X))}):this.each(function(){var X=L(this),ge=X.contents();ge.length?ge.wrapAll(F):X.append(F)})},wrap:function(F){var X=K(F);return this.each(function(ge){L(this).wrapAll(X?F.call(this,ge):F)})},unwrap:function(F){return this.parent(F).not("body").each(function(){L(this).replaceWith(this.childNodes)}),this}}),L.expr.pseudos.hidden=function(F){return!L.expr.pseudos.visible(F)},L.expr.pseudos.visible=function(F){return!!(F.offsetWidth||F.offsetHeight||F.getClientRects().length)},L.ajaxSettings.xhr=function(){try{return new d.XMLHttpRequest}catch(F){}};var qa={0:200,1223:204},da=L.ajaxSettings.xhr();J.cors=!!da&&"withCredentials"in da,J.ajax=da=!!da,L.ajaxTransport(function(F){var X,ge;if(J.cors||da&&!F.crossDomain)return{send:function(_e,Je){var tt,gt=F.xhr();if(gt.open(F.type,F.url,F.async,F.username,F.password),F.xhrFields)for(tt in F.xhrFields)gt[tt]=F.xhrFields[tt];F.mimeType&&gt.overrideMimeType&&gt.overrideMimeType(F.mimeType),!F.crossDomain&&!_e["X-Requested-With"]&&(_e["X-Requested-With"]="XMLHttpRequest");for(tt in _e)gt.setRequestHeader(tt,_e[tt]);X=function(_n){return function(){X&&(X=ge=gt.onload=gt.onerror=gt.onabort=gt.ontimeout=gt.onreadystatechange=null,_n==="abort"?gt.abort():_n==="error"?typeof gt.status!="number"?Je(0,"error"):Je(gt.status,gt.statusText):Je(qa[gt.status]||gt.status,gt.statusText,(gt.responseType||"text")!=="text"||typeof gt.responseText!="string"?{binary:gt.response}:{text:gt.responseText},gt.getAllResponseHeaders()))}},gt.onload=X(),ge=gt.onerror=gt.ontimeout=X("error"),gt.onabort!==void 0?gt.onabort=ge:gt.onreadystatechange=function(){gt.readyState===4&&d.setTimeout(function(){X&&ge()})},X=X("abort");try{gt.send(F.hasContent&&F.data||null)}catch(_n){if(X)throw _n}},abort:function(){X&&X()}}}),L.ajaxPrefilter(function(F){F.crossDomain&&(F.contents.script=!1)}),L.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(F){return L.globalEval(F),F}}}),L.ajaxPrefilter("script",function(F){F.cache===void 0&&(F.cache=!1),F.crossDomain&&(F.type="GET")}),L.ajaxTransport("script",function(F){if(F.crossDomain||F.scriptAttrs){var X,ge;return{send:function(_e,Je){X=L("<script>").attr(F.scriptAttrs||{}).prop({charset:F.scriptCharset,src:F.url}).on("load error",ge=function(tt){X.remove(),ge=null,tt&&Je(tt.type==="error"?404:200,tt.type)}),re.head.appendChild(X[0])},abort:function(){ge&&ge()}}}});var Aa=[],Ps=/(=)\?(?=&|$)|\?\?/;L.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var F=Aa.pop()||L.expando+"_"+fa.guid++;return this[F]=!0,F}}),L.ajaxPrefilter("json jsonp",function(F,X,ge){var _e,Je,tt,gt=F.jsonp!==!1&&(Ps.test(F.url)?"url":typeof F.data=="string"&&(F.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ps.test(F.data)&&"data");if(gt||F.dataTypes[0]==="jsonp")return _e=F.jsonpCallback=K(F.jsonpCallback)?F.jsonpCallback():F.jsonpCallback,gt?F[gt]=F[gt].replace(Ps,"$1"+_e):F.jsonp!==!1&&(F.url+=(Ba.test(F.url)?"&":"?")+F.jsonp+"="+_e),F.converters["script json"]=function(){return tt||L.error(_e+" was not called"),tt[0]},F.dataTypes[0]="json",Je=d[_e],d[_e]=function(){tt=arguments},ge.always(function(){Je===void 0?L(d).removeProp(_e):d[_e]=Je,F[_e]&&(F.jsonpCallback=X.jsonpCallback,Aa.push(_e)),tt&&K(Je)&&Je(tt[0]),tt=Je=void 0}),"script"}),J.createHTMLDocument=function(){var F=re.implementation.createHTMLDocument("").body;return F.innerHTML="<form></form><form></form>",F.childNodes.length===2}(),L.parseHTML=function(F,X,ge){if(typeof F!="string")return[];typeof X=="boolean"&&(ge=X,X=!1);var _e,Je,tt;return X||(J.createHTMLDocument?(X=re.implementation.createHTMLDocument(""),_e=X.createElement("base"),_e.href=re.location.href,X.head.appendChild(_e)):X=re),Je=Ge.exec(F),tt=!ge&&[],Je?[X.createElement(Je[1])]:(Je=zr([F],X,tt),tt&&tt.length&&L(tt).remove(),L.merge([],Je.childNodes))},L.fn.load=function(F,X,ge){var _e,Je,tt,gt=this,_n=F.indexOf(" ");return _n>-1&&(_e=uo(F.slice(_n)),F=F.slice(0,_n)),K(X)?(ge=X,X=void 0):X&&typeof X=="object"&&(Je="POST"),gt.length>0&&L.ajax({url:F,type:Je||"GET",dataType:"html",data:X}).done(function(Dn){tt=arguments,gt.html(_e?L("<div>").append(L.parseHTML(Dn)).find(_e):Dn)}).always(ge&&function(Dn,Un){gt.each(function(){ge.apply(this,tt||[Dn.responseText,Un,Dn])})}),this},L.expr.pseudos.animated=function(F){return L.grep(L.timers,function(X){return F===X.elem}).length},L.offset={setOffset:function(F,X,ge){var _e,Je,tt,gt,_n,Dn,Un,Mr=L.css(F,"position"),Dr=L(F),fr={};Mr==="static"&&(F.style.position="relative"),_n=Dr.offset(),tt=L.css(F,"top"),Dn=L.css(F,"left"),Un=(Mr==="absolute"||Mr==="fixed")&&(tt+Dn).indexOf("auto")>-1,Un?(_e=Dr.position(),gt=_e.top,Je=_e.left):(gt=parseFloat(tt)||0,Je=parseFloat(Dn)||0),K(X)&&(X=X.call(F,ge,L.extend({},_n))),X.top!=null&&(fr.top=X.top-_n.top+gt),X.left!=null&&(fr.left=X.left-_n.left+Je),"using"in X?X.using.call(F,fr):Dr.css(fr)}},L.fn.extend({offset:function(F){if(arguments.length)return F===void 0?this:this.each(function(Je){L.offset.setOffset(this,F,Je)});var X,ge,_e=this[0];if(_e)return _e.getClientRects().length?(X=_e.getBoundingClientRect(),ge=_e.ownerDocument.defaultView,{top:X.top+ge.pageYOffset,left:X.left+ge.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var F,X,ge,_e=this[0],Je={top:0,left:0};if(L.css(_e,"position")==="fixed")X=_e.getBoundingClientRect();else{for(X=this.offset(),ge=_e.ownerDocument,F=_e.offsetParent||ge.documentElement;F&&(F===ge.body||F===ge.documentElement)&&L.css(F,"position")==="static";)F=F.parentNode;F&&F!==_e&&F.nodeType===1&&(Je=L(F).offset(),Je.top+=L.css(F,"borderTopWidth",!0),Je.left+=L.css(F,"borderLeftWidth",!0))}return{top:X.top-Je.top-L.css(_e,"marginTop",!0),left:X.left-Je.left-L.css(_e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var F=this.offsetParent;F&&L.css(F,"position")==="static";)F=F.offsetParent;return F||Cn})}}),L.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(F,X){var ge=X==="pageYOffset";L.fn[F]=function(_e){return Kn(this,function(Je,tt,gt){var _n;if(Y(Je)?_n=Je:Je.nodeType===9&&(_n=Je.defaultView),gt===void 0)return _n?_n[X]:Je[tt];_n?_n.scrollTo(ge?_n.pageXOffset:gt,ge?gt:_n.pageYOffset):Je[tt]=gt},F,_e,arguments.length)}}),L.each(["top","left"],function(F,X){L.cssHooks[X]=ze(J.pixelPosition,function(ge,_e){if(_e)return _e=Ie(ge,X),oe.test(_e)?L(ge).position()[X]+"px":_e})}),L.each({Height:"height",Width:"width"},function(F,X){L.each({padding:"inner"+F,content:X,"":"outer"+F},function(ge,_e){L.fn[_e]=function(Je,tt){var gt=arguments.length&&(ge||typeof Je!="boolean"),_n=ge||(Je===!0||tt===!0?"margin":"border");return Kn(this,function(Dn,Un,Mr){var Dr;return Y(Dn)?_e.indexOf("outer")===0?Dn["inner"+F]:Dn.document.documentElement["client"+F]:Dn.nodeType===9?(Dr=Dn.documentElement,Math.max(Dn.body["scroll"+F],Dr["scroll"+F],Dn.body["offset"+F],Dr["offset"+F],Dr["client"+F])):Mr===void 0?L.css(Dn,Un,_n):L.style(Dn,Un,Mr,_n)},X,gt?Je:void 0,gt)}})}),L.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(F,X){L.fn[X]=function(ge){return this.on(X,ge)}}),L.fn.extend({bind:function(F,X,ge){return this.on(F,null,X,ge)},unbind:function(F,X){return this.off(F,null,X)},delegate:function(F,X,ge,_e){return this.on(X,F,ge,_e)},undelegate:function(F,X,ge){return arguments.length===1?this.off(F,"**"):this.off(X,F||"**",ge)},hover:function(F,X){return this.on("mouseenter",F).on("mouseleave",X||F)}}),L.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(F,X){L.fn[X]=function(ge,_e){return arguments.length>0?this.on(X,null,ge,_e):this.trigger(X)}});var wa=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;L.proxy=function(F,X){var ge,_e,Je;if(typeof X=="string"&&(ge=F[X],X=F,F=ge),!!K(F))return _e=A.call(arguments,2),Je=function(){return F.apply(X||this,_e.concat(A.call(arguments)))},Je.guid=F.guid=F.guid||L.guid++,Je},L.holdReady=function(F){F?L.readyWait++:L.ready(!0)},L.isArray=Array.isArray,L.parseJSON=JSON.parse,L.nodeName=pe,L.isFunction=K,L.isWindow=Y,L.camelCase=ot,L.type=ie,L.now=Date.now,L.isNumeric=function(F){var X=L.type(F);return(X==="number"||X==="string")&&!isNaN(F-parseFloat(F))},L.trim=function(F){return F==null?"":(F+"").replace(wa,"$1")},l=[],v=function(){return L}.apply(M,l),v!==void 0&&(j.exports=v);var is=d.jQuery,Pl=d.$;return L.noConflict=function(F){return d.$===L&&(d.$=Pl),F&&d.jQuery===L&&(d.jQuery=is),L},typeof m=="undefined"&&(d.jQuery=d.$=L),L})},18552:function(j,M,l){var v=l(10852),d=l(55639),m=v(d,"DataView");j.exports=m},1989:function(j,M,l){var v=l(51789),d=l(80401),m=l(57667),g=l(21327),x=l(81866);function A(E){var w=-1,k=E==null?0:E.length;for(this.clear();++w<k;){var Z=E[w];this.set(Z[0],Z[1])}}A.prototype.clear=v,A.prototype.delete=d,A.prototype.get=m,A.prototype.has=g,A.prototype.set=x,j.exports=A},38407:function(j,M,l){var v=l(27040),d=l(14125),m=l(82117),g=l(67518),x=l(54705);function A(E){var w=-1,k=E==null?0:E.length;for(this.clear();++w<k;){var Z=E[w];this.set(Z[0],Z[1])}}A.prototype.clear=v,A.prototype.delete=d,A.prototype.get=m,A.prototype.has=g,A.prototype.set=x,j.exports=A},57071:function(j,M,l){var v=l(10852),d=l(55639),m=v(d,"Map");j.exports=m},83369:function(j,M,l){var v=l(24785),d=l(11285),m=l(96e3),g=l(49916),x=l(95265);function A(E){var w=-1,k=E==null?0:E.length;for(this.clear();++w<k;){var Z=E[w];this.set(Z[0],Z[1])}}A.prototype.clear=v,A.prototype.delete=d,A.prototype.get=m,A.prototype.has=g,A.prototype.set=x,j.exports=A},53818:function(j,M,l){var v=l(10852),d=l(55639),m=v(d,"Promise");j.exports=m},58525:function(j,M,l){var v=l(10852),d=l(55639),m=v(d,"Set");j.exports=m},88668:function(j,M,l){var v=l(83369),d=l(90619),m=l(72385);function g(x){var A=-1,E=x==null?0:x.length;for(this.__data__=new v;++A<E;)this.add(x[A])}g.prototype.add=g.prototype.push=d,g.prototype.has=m,j.exports=g},46384:function(j,M,l){var v=l(38407),d=l(37465),m=l(63779),g=l(67599),x=l(44758),A=l(34309);function E(w){var k=this.__data__=new v(w);this.size=k.size}E.prototype.clear=d,E.prototype.delete=m,E.prototype.get=g,E.prototype.has=x,E.prototype.set=A,j.exports=E},11149:function(j,M,l){var v=l(55639),d=v.Uint8Array;j.exports=d},70577:function(j,M,l){var v=l(10852),d=l(55639),m=v(d,"WeakMap");j.exports=m},96874:function(j){function M(l,v,d){switch(d.length){case 0:return l.call(v);case 1:return l.call(v,d[0]);case 2:return l.call(v,d[0],d[1]);case 3:return l.call(v,d[0],d[1],d[2])}return l.apply(v,d)}j.exports=M},77412:function(j){function M(l,v){for(var d=-1,m=l==null?0:l.length;++d<m&&v(l[d],d,l)!==!1;);return l}j.exports=M},34963:function(j){function M(l,v){for(var d=-1,m=l==null?0:l.length,g=0,x=[];++d<m;){var A=l[d];v(A,d,l)&&(x[g++]=A)}return x}j.exports=M},47443:function(j,M,l){var v=l(42118);function d(m,g){var x=m==null?0:m.length;return!!x&&v(m,g,0)>-1}j.exports=d},1196:function(j){function M(l,v,d){for(var m=-1,g=l==null?0:l.length;++m<g;)if(d(v,l[m]))return!0;return!1}j.exports=M},14636:function(j,M,l){var v=l(22545),d=l(35694),m=l(1469),g=l(44144),x=l(65776),A=l(36719),E=Object.prototype,w=E.hasOwnProperty;function k(Z,U){var $=m(Z),te=!$&&d(Z),Q=!$&&!te&&g(Z),J=!$&&!te&&!Q&&A(Z),K=$||te||Q||J,Y=K?v(Z.length,String):[],re=Y.length;for(var fe in Z)(U||w.call(Z,fe))&&!(K&&(fe=="length"||Q&&(fe=="offset"||fe=="parent")||J&&(fe=="buffer"||fe=="byteLength"||fe=="byteOffset")||x(fe,re)))&&Y.push(fe);return Y}j.exports=k},29932:function(j){function M(l,v){for(var d=-1,m=l==null?0:l.length,g=Array(m);++d<m;)g[d]=v(l[d],d,l);return g}j.exports=M},62488:function(j){function M(l,v){for(var d=-1,m=v.length,g=l.length;++d<m;)l[g+d]=v[d];return l}j.exports=M},62663:function(j){function M(l,v,d,m){var g=-1,x=l==null?0:l.length;for(m&&x&&(d=l[++g]);++g<x;)d=v(d,l[g],g,l);return d}j.exports=M},82908:function(j){function M(l,v){for(var d=-1,m=l==null?0:l.length;++d<m;)if(v(l[d],d,l))return!0;return!1}j.exports=M},44286:function(j){function M(l){return l.split("")}j.exports=M},49029:function(j){var M=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function l(v){return v.match(M)||[]}j.exports=l},86556:function(j,M,l){var v=l(89465),d=l(77813);function m(g,x,A){(A!==void 0&&!d(g[x],A)||A===void 0&&!(x in g))&&v(g,x,A)}j.exports=m},34865:function(j,M,l){var v=l(89465),d=l(77813),m=Object.prototype,g=m.hasOwnProperty;function x(A,E,w){var k=A[E];(!(g.call(A,E)&&d(k,w))||w===void 0&&!(E in A))&&v(A,E,w)}j.exports=x},18470:function(j,M,l){var v=l(77813);function d(m,g){for(var x=m.length;x--;)if(v(m[x][0],g))return x;return-1}j.exports=d},44037:function(j,M,l){var v=l(98363),d=l(3674);function m(g,x){return g&&v(x,d(x),g)}j.exports=m},63886:function(j,M,l){var v=l(98363),d=l(81704);function m(g,x){return g&&v(x,d(x),g)}j.exports=m},89465:function(j,M,l){var v=l(38777);function d(m,g,x){g=="__proto__"&&v?v(m,g,{configurable:!0,enumerable:!0,value:x,writable:!0}):m[g]=x}j.exports=d},85990:function(j,M,l){var v=l(46384),d=l(77412),m=l(34865),g=l(44037),x=l(63886),A=l(64626),E=l(6450),w=l(18805),k=l(1911),Z=l(58234),U=l(46904),$=l(64160),te=l(43824),Q=l(29148),J=l(38517),K=l(1469),Y=l(44144),re=l(56688),fe=l(13218),le=l(72928),ie=l(3674),ve=l(81704),Oe=1,L=2,Pe=4,pe="[object Arguments]",Be="[object Array]",je="[object Boolean]",he="[object Date]",st="[object Error]",en="[object Function]",vn="[object GeneratorFunction]",Mt="[object Map]",It="[object Number]",Ve="[object Object]",Me="[object RegExp]",Qe="[object Set]",bt="[object String]",Ge="[object Symbol]",Ae="[object WeakMap]",be="[object ArrayBuffer]",Ne="[object DataView]",Re="[object Float32Array]",ht="[object Float64Array]",Wt="[object Int8Array]",Yt="[object Int16Array]",Lt="[object Int32Array]",Dt="[object Uint8Array]",lt="[object Uint8ClampedArray]",Ft="[object Uint16Array]",qt="[object Uint32Array]",Nn={};Nn[pe]=Nn[Be]=Nn[be]=Nn[Ne]=Nn[je]=Nn[he]=Nn[Re]=Nn[ht]=Nn[Wt]=Nn[Yt]=Nn[Lt]=Nn[Mt]=Nn[It]=Nn[Ve]=Nn[Me]=Nn[Qe]=Nn[bt]=Nn[Ge]=Nn[Dt]=Nn[lt]=Nn[Ft]=Nn[qt]=!0,Nn[st]=Nn[en]=Nn[Ae]=!1;function kn(An,Kn,ee,it,Ze,ot){var Xe,et=Kn&Oe,pt=Kn&L,He=Kn&Pe;if(ee&&(Xe=Ze?ee(An,it,Ze,ot):ee(An)),Xe!==void 0)return Xe;if(!fe(An))return An;var Et=K(An);if(Et){if(Xe=te(An),!et)return E(An,Xe)}else{var Vt=$(An),On=Vt==en||Vt==vn;if(Y(An))return A(An,et);if(Vt==Ve||Vt==pe||On&&!Ze){if(Xe=pt||On?{}:J(An),!et)return pt?k(An,x(Xe,An)):w(An,g(Xe,An))}else{if(!Nn[Vt])return Ze?An:{};Xe=Q(An,Vt,et)}}ot||(ot=new v);var Wn=ot.get(An);if(Wn)return Wn;ot.set(An,Xe),le(An)?An.forEach(function(Sn){Xe.add(kn(Sn,Kn,ee,Sn,An,ot))}):re(An)&&An.forEach(function(Sn,Cn){Xe.set(Cn,kn(Sn,Kn,ee,Cn,An,ot))});var pr=He?pt?U:Z:pt?ve:ie,Cr=Et?void 0:pr(An);return d(Cr||An,function(Sn,Cn){Cr&&(Cn=Sn,Sn=An[Cn]),m(Xe,Cn,kn(Sn,Kn,ee,Cn,An,ot))}),Xe}j.exports=kn},3118:function(j,M,l){var v=l(13218),d=Object.create,m=function(){function g(){}return function(x){if(!v(x))return{};if(d)return d(x);g.prototype=x;var A=new g;return g.prototype=void 0,A}}();j.exports=m},89881:function(j,M,l){var v=l(47816),d=l(99291),m=d(v);j.exports=m},41848:function(j){function M(l,v,d,m){for(var g=l.length,x=d+(m?1:-1);m?x--:++x<g;)if(v(l[x],x,l))return x;return-1}j.exports=M},28483:function(j,M,l){var v=l(25063),d=v();j.exports=d},47816:function(j,M,l){var v=l(28483),d=l(3674);function m(g,x){return g&&v(g,x,d)}j.exports=m},97786:function(j,M,l){var v=l(71811),d=l(40327);function m(g,x){x=v(x,g);for(var A=0,E=x.length;g!=null&&A<E;)g=g[d(x[A++])];return A&&A==E?g:void 0}j.exports=m},68866:function(j,M,l){var v=l(62488),d=l(1469);function m(g,x,A){var E=x(g);return d(g)?E:v(E,A(g))}j.exports=m},13:function(j){function M(l,v){return l!=null&&v in Object(l)}j.exports=M},42118:function(j,M,l){var v=l(41848),d=l(62722),m=l(39375);function g(x,A,E){return A===A?m(x,A,E):v(x,d,E)}j.exports=g},9454:function(j,M,l){var v=l(44239),d=l(37005),m="[object Arguments]";function g(x){return d(x)&&v(x)==m}j.exports=g},90939:function(j,M,l){var v=l(2492),d=l(37005);function m(g,x,A,E,w){return g===x?!0:g==null||x==null||!d(g)&&!d(x)?g!==g&&x!==x:v(g,x,A,E,m,w)}j.exports=m},2492:function(j,M,l){var v=l(46384),d=l(67114),m=l(18351),g=l(16096),x=l(64160),A=l(1469),E=l(44144),w=l(36719),k=1,Z="[object Arguments]",U="[object Array]",$="[object Object]",te=Object.prototype,Q=te.hasOwnProperty;function J(K,Y,re,fe,le,ie){var ve=A(K),Oe=A(Y),L=ve?U:x(K),Pe=Oe?U:x(Y);L=L==Z?$:L,Pe=Pe==Z?$:Pe;var pe=L==$,Be=Pe==$,je=L==Pe;if(je&&E(K)){if(!E(Y))return!1;ve=!0,pe=!1}if(je&&!pe)return ie||(ie=new v),ve||w(K)?d(K,Y,re,fe,le,ie):m(K,Y,L,re,fe,le,ie);if(!(re&k)){var he=pe&&Q.call(K,"__wrapped__"),st=Be&&Q.call(Y,"__wrapped__");if(he||st){var en=he?K.value():K,vn=st?Y.value():Y;return ie||(ie=new v),le(en,vn,re,fe,ie)}}return je?(ie||(ie=new v),g(K,Y,re,fe,le,ie)):!1}j.exports=J},25588:function(j,M,l){var v=l(64160),d=l(37005),m="[object Map]";function g(x){return d(x)&&v(x)==m}j.exports=g},2958:function(j,M,l){var v=l(46384),d=l(90939),m=1,g=2;function x(A,E,w,k){var Z=w.length,U=Z,$=!k;if(A==null)return!U;for(A=Object(A);Z--;){var te=w[Z];if($&&te[2]?te[1]!==A[te[0]]:!(te[0]in A))return!1}for(;++Z<U;){te=w[Z];var Q=te[0],J=A[Q],K=te[1];if($&&te[2]){if(J===void 0&&!(Q in A))return!1}else{var Y=new v;if(k)var re=k(J,K,Q,A,E,Y);if(!(re===void 0?d(K,J,m|g,k,Y):re))return!1}}return!0}j.exports=x},62722:function(j){function M(l){return l!==l}j.exports=M},79190:function(j,M,l){var v=l(23560),d=l(15346),m=l(13218),g=l(80346),x=/[\\^$.*+?()[\]{}|]/g,A=/^\[object .+?Constructor\]$/,E=Function.prototype,w=Object.prototype,k=E.toString,Z=w.hasOwnProperty,U=RegExp("^"+k.call(Z).replace(x,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $(te){if(!m(te)||d(te))return!1;var Q=v(te)?U:A;return Q.test(g(te))}j.exports=$},29221:function(j,M,l){var v=l(64160),d=l(37005),m="[object Set]";function g(x){return d(x)&&v(x)==m}j.exports=g},38749:function(j,M,l){var v=l(44239),d=l(41780),m=l(37005),g="[object Arguments]",x="[object Array]",A="[object Boolean]",E="[object Date]",w="[object Error]",k="[object Function]",Z="[object Map]",U="[object Number]",$="[object Object]",te="[object RegExp]",Q="[object Set]",J="[object String]",K="[object WeakMap]",Y="[object ArrayBuffer]",re="[object DataView]",fe="[object Float32Array]",le="[object Float64Array]",ie="[object Int8Array]",ve="[object Int16Array]",Oe="[object Int32Array]",L="[object Uint8Array]",Pe="[object Uint8ClampedArray]",pe="[object Uint16Array]",Be="[object Uint32Array]",je={};je[fe]=je[le]=je[ie]=je[ve]=je[Oe]=je[L]=je[Pe]=je[pe]=je[Be]=!0,je[g]=je[x]=je[Y]=je[A]=je[re]=je[E]=je[w]=je[k]=je[Z]=je[U]=je[$]=je[te]=je[Q]=je[J]=je[K]=!1;function he(st){return m(st)&&d(st.length)&&!!je[v(st)]}j.exports=he},67206:function(j,M,l){var v=l(91573),d=l(16432),m=l(6557),g=l(1469),x=l(39601);function A(E){return typeof E=="function"?E:E==null?m:typeof E=="object"?g(E)?d(E[0],E[1]):v(E):x(E)}j.exports=A},280:function(j,M,l){var v=l(25726),d=l(86916),m=Object.prototype,g=m.hasOwnProperty;function x(A){if(!v(A))return d(A);var E=[];for(var w in Object(A))g.call(A,w)&&w!="constructor"&&E.push(w);return E}j.exports=x},10313:function(j,M,l){var v=l(13218),d=l(25726),m=l(33498),g=Object.prototype,x=g.hasOwnProperty;function A(E){if(!v(E))return m(E);var w=d(E),k=[];for(var Z in E)Z=="constructor"&&(w||!x.call(E,Z))||k.push(Z);return k}j.exports=A},69199:function(j,M,l){var v=l(89881),d=l(98612);function m(g,x){var A=-1,E=d(g)?Array(g.length):[];return v(g,function(w,k,Z){E[++A]=x(w,k,Z)}),E}j.exports=m},91573:function(j,M,l){var v=l(2958),d=l(1499),m=l(42634);function g(x){var A=d(x);return A.length==1&&A[0][2]?m(A[0][0],A[0][1]):function(E){return E===x||v(E,x,A)}}j.exports=g},16432:function(j,M,l){var v=l(90939),d=l(27361),m=l(79095),g=l(15403),x=l(89162),A=l(42634),E=l(40327),w=1,k=2;function Z(U,$){return g(U)&&x($)?A(E(U),$):function(te){var Q=d(te,U);return Q===void 0&&Q===$?m(te,U):v($,Q,w|k)}}j.exports=Z},42980:function(j,M,l){var v=l(46384),d=l(86556),m=l(28483),g=l(59783),x=l(13218),A=l(81704),E=l(36390);function w(k,Z,U,$,te){k!==Z&&m(Z,function(Q,J){if(te||(te=new v),x(Q))g(k,Z,J,U,w,$,te);else{var K=$?$(E(k,J),Q,J+"",k,Z,te):void 0;K===void 0&&(K=Q),d(k,J,K)}},A)}j.exports=w},59783:function(j,M,l){var v=l(86556),d=l(64626),m=l(77133),g=l(6450),x=l(38517),A=l(35694),E=l(1469),w=l(29246),k=l(44144),Z=l(23560),U=l(13218),$=l(68630),te=l(36719),Q=l(36390),J=l(59881);function K(Y,re,fe,le,ie,ve,Oe){var L=Q(Y,fe),Pe=Q(re,fe),pe=Oe.get(Pe);if(pe){v(Y,fe,pe);return}var Be=ve?ve(L,Pe,fe+"",Y,re,Oe):void 0,je=Be===void 0;if(je){var he=E(Pe),st=!he&&k(Pe),en=!he&&!st&&te(Pe);Be=Pe,he||st||en?E(L)?Be=L:w(L)?Be=g(L):st?(je=!1,Be=d(Pe,!0)):en?(je=!1,Be=m(Pe,!0)):Be=[]:$(Pe)||A(Pe)?(Be=L,A(L)?Be=J(L):(!U(L)||Z(L))&&(Be=x(Pe))):je=!1}je&&(Oe.set(Pe,Be),ie(Be,Pe,le,ve,Oe),Oe.delete(Pe)),v(Y,fe,Be)}j.exports=K},40371:function(j){function M(l){return function(v){return v==null?void 0:v[l]}}j.exports=M},79152:function(j,M,l){var v=l(97786);function d(m){return function(g){return v(g,m)}}j.exports=d},18674:function(j){function M(l){return function(v){return l==null?void 0:l[v]}}j.exports=M},5976:function(j,M,l){var v=l(6557),d=l(45357),m=l(30061);function g(x,A){return m(d(x,A,v),x+"")}j.exports=g},56560:function(j,M,l){var v=l(75703),d=l(38777),m=l(6557),g=d?function(x,A){return d(x,"toString",{configurable:!0,enumerable:!1,value:v(A),writable:!0})}:m;j.exports=g},14259:function(j){function M(l,v,d){var m=-1,g=l.length;v<0&&(v=-v>g?0:g+v),d=d>g?g:d,d<0&&(d+=g),g=v>d?0:d-v>>>0,v>>>=0;for(var x=Array(g);++m<g;)x[m]=l[m+v];return x}j.exports=M},22545:function(j){function M(l,v){for(var d=-1,m=Array(l);++d<l;)m[d]=v(d);return m}j.exports=M},80531:function(j,M,l){var v=l(62705),d=l(29932),m=l(1469),g=l(33448),x=1/0,A=v?v.prototype:void 0,E=A?A.toString:void 0;function w(k){if(typeof k=="string")return k;if(m(k))return d(k,w)+"";if(g(k))return E?E.call(k):"";var Z=k+"";return Z=="0"&&1/k==-x?"-0":Z}j.exports=w},51717:function(j){function M(l){return function(v){return l(v)}}j.exports=M},45652:function(j,M,l){var v=l(88668),d=l(47443),m=l(1196),g=l(74757),x=l(23593),A=l(21814),E=200;function w(k,Z,U){var $=-1,te=d,Q=k.length,J=!0,K=[],Y=K;if(U)J=!1,te=m;else if(Q>=E){var re=Z?null:x(k);if(re)return A(re);J=!1,te=g,Y=new v}else Y=Z?[]:K;e:for(;++$<Q;){var fe=k[$],le=Z?Z(fe):fe;if(fe=U||fe!==0?fe:0,J&&le===le){for(var ie=Y.length;ie--;)if(Y[ie]===le)continue e;Z&&Y.push(le),K.push(fe)}else te(Y,le,U)||(Y!==K&&Y.push(le),K.push(fe))}return K}j.exports=w},74757:function(j){function M(l,v){return l.has(v)}j.exports=M},54290:function(j,M,l){var v=l(6557);function d(m){return typeof m=="function"?m:v}j.exports=d},71811:function(j,M,l){var v=l(1469),d=l(15403),m=l(55514),g=l(79833);function x(A,E){return v(A)?A:d(A,E)?[A]:m(g(A))}j.exports=x},40180:function(j,M,l){var v=l(14259);function d(m,g,x){var A=m.length;return x=x===void 0?A:x,!g&&x>=A?m:v(m,g,x)}j.exports=d},74318:function(j,M,l){var v=l(11149);function d(m){var g=new m.constructor(m.byteLength);return new v(g).set(new v(m)),g}j.exports=d},64626:function(j,M,l){j=l.nmd(j);var v=l(55639),d=M&&!M.nodeType&&M,m=d&&!0&&j&&!j.nodeType&&j,g=m&&m.exports===d,x=g?v.Buffer:void 0,A=x?x.allocUnsafe:void 0;function E(w,k){if(k)return w.slice();var Z=w.length,U=A?A(Z):new w.constructor(Z);return w.copy(U),U}j.exports=E},57157:function(j,M,l){var v=l(74318);function d(m,g){var x=g?v(m.buffer):m.buffer;return new m.constructor(x,m.byteOffset,m.byteLength)}j.exports=d},93147:function(j){var M=/\w*$/;function l(v){var d=new v.constructor(v.source,M.exec(v));return d.lastIndex=v.lastIndex,d}j.exports=l},40419:function(j,M,l){var v=l(62705),d=v?v.prototype:void 0,m=d?d.valueOf:void 0;function g(x){return m?Object(m.call(x)):{}}j.exports=g},77133:function(j,M,l){var v=l(74318);function d(m,g){var x=g?v(m.buffer):m.buffer;return new m.constructor(x,m.byteOffset,m.length)}j.exports=d},6450:function(j){function M(l,v){var d=-1,m=l.length;for(v||(v=Array(m));++d<m;)v[d]=l[d];return v}j.exports=M},98363:function(j,M,l){var v=l(34865),d=l(89465);function m(g,x,A,E){var w=!A;A||(A={});for(var k=-1,Z=x.length;++k<Z;){var U=x[k],$=E?E(A[U],g[U],U,A,g):void 0;$===void 0&&($=g[U]),w?d(A,U,$):v(A,U,$)}return A}j.exports=m},18805:function(j,M,l){var v=l(98363),d=l(99551);function m(g,x){return v(g,d(g),x)}j.exports=m},1911:function(j,M,l){var v=l(98363),d=l(51442);function m(g,x){return v(g,d(g),x)}j.exports=m},14429:function(j,M,l){var v=l(55639),d=v["__core-js_shared__"];j.exports=d},21463:function(j,M,l){var v=l(5976),d=l(16612);function m(g){return v(function(x,A){var E=-1,w=A.length,k=w>1?A[w-1]:void 0,Z=w>2?A[2]:void 0;for(k=g.length>3&&typeof k=="function"?(w--,k):void 0,Z&&d(A[0],A[1],Z)&&(k=w<3?void 0:k,w=1),x=Object(x);++E<w;){var U=A[E];U&&g(x,U,E,k)}return x})}j.exports=m},99291:function(j,M,l){var v=l(98612);function d(m,g){return function(x,A){if(x==null)return x;if(!v(x))return m(x,A);for(var E=x.length,w=g?E:-1,k=Object(x);(g?w--:++w<E)&&A(k[w],w,k)!==!1;);return x}}j.exports=d},25063:function(j){function M(l){return function(v,d,m){for(var g=-1,x=Object(v),A=m(v),E=A.length;E--;){var w=A[l?E:++g];if(d(x[w],w,x)===!1)break}return v}}j.exports=M},98805:function(j,M,l){var v=l(40180),d=l(62689),m=l(83140),g=l(79833);function x(A){return function(E){E=g(E);var w=d(E)?m(E):void 0,k=w?w[0]:E.charAt(0),Z=w?v(w,1).join(""):E.slice(1);return k[A]()+Z}}j.exports=x},35393:function(j,M,l){var v=l(62663),d=l(53816),m=l(4348),g="['\u2019]",x=RegExp(g,"g");function A(E){return function(w){return v(m(d(w).replace(x,"")),E,"")}}j.exports=A},23593:function(j,M,l){var v=l(58525),d=l(28117),m=l(21814),g=1/0,x=v&&1/m(new v([,-0]))[1]==g?function(A){return new v(A)}:d;j.exports=x},69389:function(j,M,l){var v=l(18674),d={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},m=v(d);j.exports=m},38777:function(j,M,l){var v=l(10852),d=function(){try{var m=v(Object,"defineProperty");return m({},"",{}),m}catch(g){}}();j.exports=d},67114:function(j,M,l){var v=l(88668),d=l(82908),m=l(74757),g=1,x=2;function A(E,w,k,Z,U,$){var te=k&g,Q=E.length,J=w.length;if(Q!=J&&!(te&&J>Q))return!1;var K=$.get(E),Y=$.get(w);if(K&&Y)return K==w&&Y==E;var re=-1,fe=!0,le=k&x?new v:void 0;for($.set(E,w),$.set(w,E);++re<Q;){var ie=E[re],ve=w[re];if(Z)var Oe=te?Z(ve,ie,re,w,E,$):Z(ie,ve,re,E,w,$);if(Oe!==void 0){if(Oe)continue;fe=!1;break}if(le){if(!d(w,function(L,Pe){if(!m(le,Pe)&&(ie===L||U(ie,L,k,Z,$)))return le.push(Pe)})){fe=!1;break}}else if(!(ie===ve||U(ie,ve,k,Z,$))){fe=!1;break}}return $.delete(E),$.delete(w),fe}j.exports=A},18351:function(j,M,l){var v=l(62705),d=l(11149),m=l(77813),g=l(67114),x=l(68776),A=l(21814),E=1,w=2,k="[object Boolean]",Z="[object Date]",U="[object Error]",$="[object Map]",te="[object Number]",Q="[object RegExp]",J="[object Set]",K="[object String]",Y="[object Symbol]",re="[object ArrayBuffer]",fe="[object DataView]",le=v?v.prototype:void 0,ie=le?le.valueOf:void 0;function ve(Oe,L,Pe,pe,Be,je,he){switch(Pe){case fe:if(Oe.byteLength!=L.byteLength||Oe.byteOffset!=L.byteOffset)return!1;Oe=Oe.buffer,L=L.buffer;case re:return!(Oe.byteLength!=L.byteLength||!je(new d(Oe),new d(L)));case k:case Z:case te:return m(+Oe,+L);case U:return Oe.name==L.name&&Oe.message==L.message;case Q:case K:return Oe==L+"";case $:var st=x;case J:var en=pe&E;if(st||(st=A),Oe.size!=L.size&&!en)return!1;var vn=he.get(Oe);if(vn)return vn==L;pe|=w,he.set(Oe,L);var Mt=g(st(Oe),st(L),pe,Be,je,he);return he.delete(Oe),Mt;case Y:if(ie)return ie.call(Oe)==ie.call(L)}return!1}j.exports=ve},16096:function(j,M,l){var v=l(58234),d=1,m=Object.prototype,g=m.hasOwnProperty;function x(A,E,w,k,Z,U){var $=w&d,te=v(A),Q=te.length,J=v(E),K=J.length;if(Q!=K&&!$)return!1;for(var Y=Q;Y--;){var re=te[Y];if(!($?re in E:g.call(E,re)))return!1}var fe=U.get(A),le=U.get(E);if(fe&&le)return fe==E&&le==A;var ie=!0;U.set(A,E),U.set(E,A);for(var ve=$;++Y<Q;){re=te[Y];var Oe=A[re],L=E[re];if(k)var Pe=$?k(L,Oe,re,E,A,U):k(Oe,L,re,A,E,U);if(!(Pe===void 0?Oe===L||Z(Oe,L,w,k,U):Pe)){ie=!1;break}ve||(ve=re=="constructor")}if(ie&&!ve){var pe=A.constructor,Be=E.constructor;pe!=Be&&"constructor"in A&&"constructor"in E&&!(typeof pe=="function"&&pe instanceof pe&&typeof Be=="function"&&Be instanceof Be)&&(ie=!1)}return U.delete(A),U.delete(E),ie}j.exports=x},58234:function(j,M,l){var v=l(68866),d=l(99551),m=l(3674);function g(x){return v(x,m,d)}j.exports=g},46904:function(j,M,l){var v=l(68866),d=l(51442),m=l(81704);function g(x){return v(x,m,d)}j.exports=g},45050:function(j,M,l){var v=l(37019);function d(m,g){var x=m.__data__;return v(g)?x[typeof g=="string"?"string":"hash"]:x.map}j.exports=d},1499:function(j,M,l){var v=l(89162),d=l(3674);function m(g){for(var x=d(g),A=x.length;A--;){var E=x[A],w=g[E];x[A]=[E,w,v(w)]}return x}j.exports=m},10852:function(j,M,l){var v=l(79190),d=l(47801);function m(g,x){var A=d(g,x);return v(A)?A:void 0}j.exports=m},85924:function(j,M,l){var v=l(5569),d=v(Object.getPrototypeOf,Object);j.exports=d},99551:function(j,M,l){var v=l(34963),d=l(70479),m=Object.prototype,g=m.propertyIsEnumerable,x=Object.getOwnPropertySymbols,A=x?function(E){return E==null?[]:(E=Object(E),v(x(E),function(w){return g.call(E,w)}))}:d;j.exports=A},51442:function(j,M,l){var v=l(62488),d=l(85924),m=l(99551),g=l(70479),x=Object.getOwnPropertySymbols,A=x?function(E){for(var w=[];E;)v(w,m(E)),E=d(E);return w}:g;j.exports=A},64160:function(j,M,l){var v=l(18552),d=l(57071),m=l(53818),g=l(58525),x=l(70577),A=l(44239),E=l(80346),w="[object Map]",k="[object Object]",Z="[object Promise]",U="[object Set]",$="[object WeakMap]",te="[object DataView]",Q=E(v),J=E(d),K=E(m),Y=E(g),re=E(x),fe=A;(v&&fe(new v(new ArrayBuffer(1)))!=te||d&&fe(new d)!=w||m&&fe(m.resolve())!=Z||g&&fe(new g)!=U||x&&fe(new x)!=$)&&(fe=function(le){var ie=A(le),ve=ie==k?le.constructor:void 0,Oe=ve?E(ve):"";if(Oe)switch(Oe){case Q:return te;case J:return w;case K:return Z;case Y:return U;case re:return $}return ie}),j.exports=fe},47801:function(j){function M(l,v){return l==null?void 0:l[v]}j.exports=M},222:function(j,M,l){var v=l(71811),d=l(35694),m=l(1469),g=l(65776),x=l(41780),A=l(40327);function E(w,k,Z){k=v(k,w);for(var U=-1,$=k.length,te=!1;++U<$;){var Q=A(k[U]);if(!(te=w!=null&&Z(w,Q)))break;w=w[Q]}return te||++U!=$?te:($=w==null?0:w.length,!!$&&x($)&&g(Q,$)&&(m(w)||d(w)))}j.exports=E},62689:function(j){var M="\\ud800-\\udfff",l="\\u0300-\\u036f",v="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff",m=l+v+d,g="\\ufe0e\\ufe0f",x="\\u200d",A=RegExp("["+x+M+m+g+"]");function E(w){return A.test(w)}j.exports=E},93157:function(j){var M=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function l(v){return M.test(v)}j.exports=l},51789:function(j,M,l){var v=l(94536);function d(){this.__data__=v?v(null):{},this.size=0}j.exports=d},80401:function(j){function M(l){var v=this.has(l)&&delete this.__data__[l];return this.size-=v?1:0,v}j.exports=M},57667:function(j,M,l){var v=l(94536),d="__lodash_hash_undefined__",m=Object.prototype,g=m.hasOwnProperty;function x(A){var E=this.__data__;if(v){var w=E[A];return w===d?void 0:w}return g.call(E,A)?E[A]:void 0}j.exports=x},21327:function(j,M,l){var v=l(94536),d=Object.prototype,m=d.hasOwnProperty;function g(x){var A=this.__data__;return v?A[x]!==void 0:m.call(A,x)}j.exports=g},81866:function(j,M,l){var v=l(94536),d="__lodash_hash_undefined__";function m(g,x){var A=this.__data__;return this.size+=this.has(g)?0:1,A[g]=v&&x===void 0?d:x,this}j.exports=m},43824:function(j){var M=Object.prototype,l=M.hasOwnProperty;function v(d){var m=d.length,g=new d.constructor(m);return m&&typeof d[0]=="string"&&l.call(d,"index")&&(g.index=d.index,g.input=d.input),g}j.exports=v},29148:function(j,M,l){var v=l(74318),d=l(57157),m=l(93147),g=l(40419),x=l(77133),A="[object Boolean]",E="[object Date]",w="[object Map]",k="[object Number]",Z="[object RegExp]",U="[object Set]",$="[object String]",te="[object Symbol]",Q="[object ArrayBuffer]",J="[object DataView]",K="[object Float32Array]",Y="[object Float64Array]",re="[object Int8Array]",fe="[object Int16Array]",le="[object Int32Array]",ie="[object Uint8Array]",ve="[object Uint8ClampedArray]",Oe="[object Uint16Array]",L="[object Uint32Array]";function Pe(pe,Be,je){var he=pe.constructor;switch(Be){case Q:return v(pe);case A:case E:return new he(+pe);case J:return d(pe,je);case K:case Y:case re:case fe:case le:case ie:case ve:case Oe:case L:return x(pe,je);case w:return new he;case k:case $:return new he(pe);case Z:return m(pe);case U:return new he;case te:return g(pe)}}j.exports=Pe},38517:function(j,M,l){var v=l(3118),d=l(85924),m=l(25726);function g(x){return typeof x.constructor=="function"&&!m(x)?v(d(x)):{}}j.exports=g},65776:function(j){var M=9007199254740991,l=/^(?:0|[1-9]\d*)$/;function v(d,m){var g=typeof d;return m=m==null?M:m,!!m&&(g=="number"||g!="symbol"&&l.test(d))&&d>-1&&d%1==0&&d<m}j.exports=v},16612:function(j,M,l){var v=l(77813),d=l(98612),m=l(65776),g=l(13218);function x(A,E,w){if(!g(w))return!1;var k=typeof E;return(k=="number"?d(w)&&m(E,w.length):k=="string"&&E in w)?v(w[E],A):!1}j.exports=x},15403:function(j,M,l){var v=l(1469),d=l(33448),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;function x(A,E){if(v(A))return!1;var w=typeof A;return w=="number"||w=="symbol"||w=="boolean"||A==null||d(A)?!0:g.test(A)||!m.test(A)||E!=null&&A in Object(E)}j.exports=x},37019:function(j){function M(l){var v=typeof l;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?l!=="__proto__":l===null}j.exports=M},15346:function(j,M,l){var v=l(14429),d=function(){var g=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}();function m(g){return!!d&&d in g}j.exports=m},25726:function(j){var M=Object.prototype;function l(v){var d=v&&v.constructor,m=typeof d=="function"&&d.prototype||M;return v===m}j.exports=l},89162:function(j,M,l){var v=l(13218);function d(m){return m===m&&!v(m)}j.exports=d},27040:function(j){function M(){this.__data__=[],this.size=0}j.exports=M},14125:function(j,M,l){var v=l(18470),d=Array.prototype,m=d.splice;function g(x){var A=this.__data__,E=v(A,x);if(E<0)return!1;var w=A.length-1;return E==w?A.pop():m.call(A,E,1),--this.size,!0}j.exports=g},82117:function(j,M,l){var v=l(18470);function d(m){var g=this.__data__,x=v(g,m);return x<0?void 0:g[x][1]}j.exports=d},67518:function(j,M,l){var v=l(18470);function d(m){return v(this.__data__,m)>-1}j.exports=d},54705:function(j,M,l){var v=l(18470);function d(m,g){var x=this.__data__,A=v(x,m);return A<0?(++this.size,x.push([m,g])):x[A][1]=g,this}j.exports=d},24785:function(j,M,l){var v=l(1989),d=l(38407),m=l(57071);function g(){this.size=0,this.__data__={hash:new v,map:new(m||d),string:new v}}j.exports=g},11285:function(j,M,l){var v=l(45050);function d(m){var g=v(this,m).delete(m);return this.size-=g?1:0,g}j.exports=d},96e3:function(j,M,l){var v=l(45050);function d(m){return v(this,m).get(m)}j.exports=d},49916:function(j,M,l){var v=l(45050);function d(m){return v(this,m).has(m)}j.exports=d},95265:function(j,M,l){var v=l(45050);function d(m,g){var x=v(this,m),A=x.size;return x.set(m,g),this.size+=x.size==A?0:1,this}j.exports=d},68776:function(j){function M(l){var v=-1,d=Array(l.size);return l.forEach(function(m,g){d[++v]=[g,m]}),d}j.exports=M},42634:function(j){function M(l,v){return function(d){return d==null?!1:d[l]===v&&(v!==void 0||l in Object(d))}}j.exports=M},24523:function(j,M,l){var v=l(15644),d=500;function m(g){var x=v(g,function(E){return A.size===d&&A.clear(),E}),A=x.cache;return x}j.exports=m},94536:function(j,M,l){var v=l(10852),d=v(Object,"create");j.exports=d},86916:function(j,M,l){var v=l(5569),d=v(Object.keys,Object);j.exports=d},33498:function(j){function M(l){var v=[];if(l!=null)for(var d in Object(l))v.push(d);return v}j.exports=M},31167:function(j,M,l){j=l.nmd(j);var v=l(31957),d=M&&!M.nodeType&&M,m=d&&!0&&j&&!j.nodeType&&j,g=m&&m.exports===d,x=g&&v.process,A=function(){try{var E=m&&m.require&&m.require("util").types;return E||x&&x.binding&&x.binding("util")}catch(w){}}();j.exports=A},5569:function(j){function M(l,v){return function(d){return l(v(d))}}j.exports=M},45357:function(j,M,l){var v=l(96874),d=Math.max;function m(g,x,A){return x=d(x===void 0?g.length-1:x,0),function(){for(var E=arguments,w=-1,k=d(E.length-x,0),Z=Array(k);++w<k;)Z[w]=E[x+w];w=-1;for(var U=Array(x+1);++w<x;)U[w]=E[w];return U[x]=A(Z),v(g,this,U)}}j.exports=m},36390:function(j){function M(l,v){if(!(v==="constructor"&&typeof l[v]=="function")&&v!="__proto__")return l[v]}j.exports=M},90619:function(j){var M="__lodash_hash_undefined__";function l(v){return this.__data__.set(v,M),this}j.exports=l},72385:function(j){function M(l){return this.__data__.has(l)}j.exports=M},21814:function(j){function M(l){var v=-1,d=Array(l.size);return l.forEach(function(m){d[++v]=m}),d}j.exports=M},30061:function(j,M,l){var v=l(56560),d=l(21275),m=d(v);j.exports=m},21275:function(j){var M=800,l=16,v=Date.now;function d(m){var g=0,x=0;return function(){var A=v(),E=l-(A-x);if(x=A,E>0){if(++g>=M)return arguments[0]}else g=0;return m.apply(void 0,arguments)}}j.exports=d},37465:function(j,M,l){var v=l(38407);function d(){this.__data__=new v,this.size=0}j.exports=d},63779:function(j){function M(l){var v=this.__data__,d=v.delete(l);return this.size=v.size,d}j.exports=M},67599:function(j){function M(l){return this.__data__.get(l)}j.exports=M},44758:function(j){function M(l){return this.__data__.has(l)}j.exports=M},34309:function(j,M,l){var v=l(38407),d=l(57071),m=l(83369),g=200;function x(A,E){var w=this.__data__;if(w instanceof v){var k=w.__data__;if(!d||k.length<g-1)return k.push([A,E]),this.size=++w.size,this;w=this.__data__=new m(k)}return w.set(A,E),this.size=w.size,this}j.exports=x},39375:function(j){function M(l,v,d){for(var m=d-1,g=l.length;++m<g;)if(l[m]===v)return m;return-1}j.exports=M},83140:function(j,M,l){var v=l(44286),d=l(62689),m=l(676);function g(x){return d(x)?m(x):v(x)}j.exports=g},55514:function(j,M,l){var v=l(24523),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,g=v(function(x){var A=[];return x.charCodeAt(0)===46&&A.push(""),x.replace(d,function(E,w,k,Z){A.push(k?Z.replace(m,"$1"):w||E)}),A});j.exports=g},40327:function(j,M,l){var v=l(33448),d=1/0;function m(g){if(typeof g=="string"||v(g))return g;var x=g+"";return x=="0"&&1/g==-d?"-0":x}j.exports=m},80346:function(j){var M=Function.prototype,l=M.toString;function v(d){if(d!=null){try{return l.call(d)}catch(m){}try{return d+""}catch(m){}}return""}j.exports=v},676:function(j){var M="\\ud800-\\udfff",l="\\u0300-\\u036f",v="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff",m=l+v+d,g="\\ufe0e\\ufe0f",x="["+M+"]",A="["+m+"]",E="\\ud83c[\\udffb-\\udfff]",w="(?:"+A+"|"+E+")",k="[^"+M+"]",Z="(?:\\ud83c[\\udde6-\\uddff]){2}",U="[\\ud800-\\udbff][\\udc00-\\udfff]",$="\\u200d",te=w+"?",Q="["+g+"]?",J="(?:"+$+"(?:"+[k,Z,U].join("|")+")"+Q+te+")*",K=Q+te+J,Y="(?:"+[k+A+"?",A,Z,U,x].join("|")+")",re=RegExp(E+"(?="+E+")|"+Y+K,"g");function fe(le){return le.match(re)||[]}j.exports=fe},2757:function(j){var M="\\ud800-\\udfff",l="\\u0300-\\u036f",v="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff",m=l+v+d,g="\\u2700-\\u27bf",x="a-z\\xdf-\\xf6\\xf8-\\xff",A="\\xac\\xb1\\xd7\\xf7",E="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",w="\\u2000-\\u206f",k=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Z="A-Z\\xc0-\\xd6\\xd8-\\xde",U="\\ufe0e\\ufe0f",$=A+E+w+k,te="['\u2019]",Q="["+$+"]",J="["+m+"]",K="\\d+",Y="["+g+"]",re="["+x+"]",fe="[^"+M+$+K+g+x+Z+"]",le="\\ud83c[\\udffb-\\udfff]",ie="(?:"+J+"|"+le+")",ve="[^"+M+"]",Oe="(?:\\ud83c[\\udde6-\\uddff]){2}",L="[\\ud800-\\udbff][\\udc00-\\udfff]",Pe="["+Z+"]",pe="\\u200d",Be="(?:"+re+"|"+fe+")",je="(?:"+Pe+"|"+fe+")",he="(?:"+te+"(?:d|ll|m|re|s|t|ve))?",st="(?:"+te+"(?:D|LL|M|RE|S|T|VE))?",en=ie+"?",vn="["+U+"]?",Mt="(?:"+pe+"(?:"+[ve,Oe,L].join("|")+")"+vn+en+")*",It="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ve="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Me=vn+en+Mt,Qe="(?:"+[Y,Oe,L].join("|")+")"+Me,bt=RegExp([Pe+"?"+re+"+"+he+"(?="+[Q,Pe,"$"].join("|")+")",je+"+"+st+"(?="+[Q,Pe+Be,"$"].join("|")+")",Pe+"?"+Be+"+"+he,Pe+"+"+st,Ve,It,K,Qe].join("|"),"g");function Ge(Ae){return Ae.match(bt)||[]}j.exports=Ge},68929:function(j,M,l){var v=l(48403),d=l(35393),m=d(function(g,x,A){return x=x.toLowerCase(),g+(A?v(x):x)});j.exports=m},48403:function(j,M,l){var v=l(79833),d=l(11700);function m(g){return d(v(g).toLowerCase())}j.exports=m},50361:function(j,M,l){var v=l(85990),d=1,m=4;function g(x){return v(x,d|m)}j.exports=g},75703:function(j){function M(l){return function(){return l}}j.exports=M},53816:function(j,M,l){var v=l(69389),d=l(79833),m=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,g="\\u0300-\\u036f",x="\\ufe20-\\ufe2f",A="\\u20d0-\\u20ff",E=g+x+A,w="["+E+"]",k=RegExp(w,"g");function Z(U){return U=d(U),U&&U.replace(m,v).replace(k,"")}j.exports=Z},66073:function(j,M,l){j.exports=l(84486)},77813:function(j){function M(l,v){return l===v||l!==l&&v!==v}j.exports=M},84486:function(j,M,l){var v=l(77412),d=l(89881),m=l(54290),g=l(1469);function x(A,E){var w=g(A)?v:d;return w(A,m(E))}j.exports=x},2525:function(j,M,l){var v=l(47816),d=l(54290);function m(g,x){return g&&v(g,d(x))}j.exports=m},27361:function(j,M,l){var v=l(97786);function d(m,g,x){var A=m==null?void 0:v(m,g);return A===void 0?x:A}j.exports=d},79095:function(j,M,l){var v=l(13),d=l(222);function m(g,x){return g!=null&&d(g,x,v)}j.exports=m},6557:function(j){function M(l){return l}j.exports=M},35694:function(j,M,l){var v=l(9454),d=l(37005),m=Object.prototype,g=m.hasOwnProperty,x=m.propertyIsEnumerable,A=v(function(){return arguments}())?v:function(E){return d(E)&&g.call(E,"callee")&&!x.call(E,"callee")};j.exports=A},1469:function(j){var M=Array.isArray;j.exports=M},98612:function(j,M,l){var v=l(23560),d=l(41780);function m(g){return g!=null&&d(g.length)&&!v(g)}j.exports=m},29246:function(j,M,l){var v=l(98612),d=l(37005);function m(g){return d(g)&&v(g)}j.exports=m},51584:function(j,M,l){var v=l(44239),d=l(37005),m="[object Boolean]";function g(x){return x===!0||x===!1||d(x)&&v(x)==m}j.exports=g},44144:function(j,M,l){j=l.nmd(j);var v=l(55639),d=l(95062),m=M&&!M.nodeType&&M,g=m&&!0&&j&&!j.nodeType&&j,x=g&&g.exports===m,A=x?v.Buffer:void 0,E=A?A.isBuffer:void 0,w=E||d;j.exports=w},23560:function(j,M,l){var v=l(44239),d=l(13218),m="[object AsyncFunction]",g="[object Function]",x="[object GeneratorFunction]",A="[object Proxy]";function E(w){if(!d(w))return!1;var k=v(w);return k==g||k==x||k==m||k==A}j.exports=E},41780:function(j){var M=9007199254740991;function l(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=M}j.exports=l},56688:function(j,M,l){var v=l(25588),d=l(51717),m=l(31167),g=m&&m.isMap,x=g?d(g):v;j.exports=x},68630:function(j,M,l){var v=l(44239),d=l(85924),m=l(37005),g="[object Object]",x=Function.prototype,A=Object.prototype,E=x.toString,w=A.hasOwnProperty,k=E.call(Object);function Z(U){if(!m(U)||v(U)!=g)return!1;var $=d(U);if($===null)return!0;var te=w.call($,"constructor")&&$.constructor;return typeof te=="function"&&te instanceof te&&E.call(te)==k}j.exports=Z},72928:function(j,M,l){var v=l(29221),d=l(51717),m=l(31167),g=m&&m.isSet,x=g?d(g):v;j.exports=x},47037:function(j,M,l){var v=l(44239),d=l(1469),m=l(37005),g="[object String]";function x(A){return typeof A=="string"||!d(A)&&m(A)&&v(A)==g}j.exports=x},36719:function(j,M,l){var v=l(38749),d=l(51717),m=l(31167),g=m&&m.isTypedArray,x=g?d(g):v;j.exports=x},3674:function(j,M,l){var v=l(14636),d=l(280),m=l(98612);function g(x){return m(x)?v(x):d(x)}j.exports=g},81704:function(j,M,l){var v=l(14636),d=l(10313),m=l(98612);function g(x){return m(x)?v(x,!0):d(x)}j.exports=g},96486:function(j,M,l){j=l.nmd(j);var v;(function(){var d,m="4.17.21",g=200,x="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",A="Expected a function",E="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",k=500,Z="__lodash_placeholder__",U=1,$=2,te=4,Q=1,J=2,K=1,Y=2,re=4,fe=8,le=16,ie=32,ve=64,Oe=128,L=256,Pe=512,pe=30,Be="...",je=800,he=16,st=1,en=2,vn=3,Mt=1/0,It=9007199254740991,Ve=17976931348623157e292,Me=NaN,Qe=4294967295,bt=Qe-1,Ge=Qe>>>1,Ae=[["ary",Oe],["bind",K],["bindKey",Y],["curry",fe],["curryRight",le],["flip",Pe],["partial",ie],["partialRight",ve],["rearg",L]],be="[object Arguments]",Ne="[object Array]",Re="[object AsyncFunction]",ht="[object Boolean]",Wt="[object Date]",Yt="[object DOMException]",Lt="[object Error]",Dt="[object Function]",lt="[object GeneratorFunction]",Ft="[object Map]",qt="[object Number]",Nn="[object Null]",kn="[object Object]",An="[object Promise]",Kn="[object Proxy]",ee="[object RegExp]",it="[object Set]",Ze="[object String]",ot="[object Symbol]",Xe="[object Undefined]",et="[object WeakMap]",pt="[object WeakSet]",He="[object ArrayBuffer]",Et="[object DataView]",Vt="[object Float32Array]",On="[object Float64Array]",Wn="[object Int8Array]",pr="[object Int16Array]",Cr="[object Int32Array]",Sn="[object Uint8Array]",Cn="[object Uint8ClampedArray]",Fn="[object Uint16Array]",Hn="[object Uint32Array]",sr=/\b__p \+= '';/g,ti=/\b(__p \+=) '' \+/g,Ir=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kr=/&(?:amp|lt|gt|quot|#39);/g,di=/[&<>"']/g,Yn=RegExp(kr.source),Bt=RegExp(di.source),kt=/<%-([\s\S]+?)%>/g,dn=/<%([\s\S]+?)%>/g,Ot=/<%=([\s\S]+?)%>/g,ur=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mn=/^\w*$/,zr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jt=/[\\^$.*+?()[\]{}|]/g,gn=RegExp(jt.source),Ln=/^\s+/,vt=/\s/,Zt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,or=/\{\n\/\* \[wrapped with (.+)\] \*/,ir=/,? & /,lr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pr=/[()=,{}\[\]\/\s]/,$r=/\\(\\)?/g,dr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ni=/\w*$/,un=/^[-+]0x[0-9a-f]+$/i,ue=/^0b[01]+$/i,De=/^\[object .+?Constructor\]$/,oe=/^0o[0-7]+$/i,R=/^(?:0|[1-9]\d*)$/,N=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,G=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,Ie="\\ud800-\\udfff",ze="\\u0300-\\u036f",Ce="\\ufe20-\\ufe2f",ke="\\u20d0-\\u20ff",rt=ze+Ce+ke,Tt="\\u2700-\\u27bf",En="a-z\\xdf-\\xf6\\xf8-\\xff",Rn="\\xac\\xb1\\xd7\\xf7",$n="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xn="\\u2000-\\u206f",$t=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hn="A-Z\\xc0-\\xd6\\xd8-\\xde",bn="\\ufe0e\\ufe0f",br=Rn+$n+Xn+$t,qn="['\u2019]",Li="["+Ie+"]",$i="["+br+"]",Bi="["+rt+"]",co="\\d+",Do="["+Tt+"]",Wo="["+En+"]",hi="[^"+Ie+br+co+Tt+En+hn+"]",ua="\\ud83c[\\udffb-\\udfff]",ya="(?:"+Bi+"|"+ua+")",fi="[^"+Ie+"]",Pi="(?:\\ud83c[\\udde6-\\uddff]){2}",Qi="[\\ud800-\\udbff][\\udc00-\\udfff]",Zi="["+hn+"]",Ta="\\u200d",uo="(?:"+Wo+"|"+hi+")",xa="(?:"+Zi+"|"+hi+")",Qo="(?:"+qn+"(?:d|ll|m|re|s|t|ve))?",ra="(?:"+qn+"(?:D|LL|M|RE|S|T|VE))?",To=ya+"?",fa="["+bn+"]?",Ba="(?:"+Ta+"(?:"+[fi,Pi,Qi].join("|")+")"+fa+To+")*",xt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ht=fa+To+Ba,jn="(?:"+[Do,Pi,Qi].join("|")+")"+Ht,xr="(?:"+[fi+Bi+"?",Bi,Pi,Qi,Li].join("|")+")",nr=RegExp(qn,"g"),zt=RegExp(Bi,"g"),Qr=RegExp(ua+"(?="+ua+")|"+xr+Ht,"g"),hr=RegExp([Zi+"?"+Wo+"+"+Qo+"(?="+[$i,Zi,"$"].join("|")+")",xa+"+"+ra+"(?="+[$i,Zi+uo,"$"].join("|")+")",Zi+"?"+uo+"+"+Qo,Zi+"+"+ra,sn,xt,co,jn].join("|"),"g"),gi=RegExp("["+Ta+Ie+rt+bn+"]"),mo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,No=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],io=-1,Ti={};Ti[Vt]=Ti[On]=Ti[Wn]=Ti[pr]=Ti[Cr]=Ti[Sn]=Ti[Cn]=Ti[Fn]=Ti[Hn]=!0,Ti[be]=Ti[Ne]=Ti[He]=Ti[ht]=Ti[Et]=Ti[Wt]=Ti[Lt]=Ti[Dt]=Ti[Ft]=Ti[qt]=Ti[kn]=Ti[ee]=Ti[it]=Ti[Ze]=Ti[et]=!1;var Fi={};Fi[be]=Fi[Ne]=Fi[He]=Fi[Et]=Fi[ht]=Fi[Wt]=Fi[Vt]=Fi[On]=Fi[Wn]=Fi[pr]=Fi[Cr]=Fi[Ft]=Fi[qt]=Fi[kn]=Fi[ee]=Fi[it]=Fi[Ze]=Fi[ot]=Fi[Sn]=Fi[Cn]=Fi[Fn]=Fi[Hn]=!0,Fi[Lt]=Fi[Dt]=Fi[et]=!1;var ha={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ea={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ea={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ja={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},hs=parseFloat,Gs=parseInt,Ki=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,Oa=typeof self=="object"&&self&&self.Object===Object&&self,qa=Ki||Oa||Function("return this")(),da=M&&!M.nodeType&&M,Aa=da&&!0&&j&&!j.nodeType&&j,Ps=Aa&&Aa.exports===da,wa=Ps&&Ki.process,is=function(){try{var _t=Aa&&Aa.require&&Aa.require("util").types;return _t||wa&&wa.binding&&wa.binding("util")}catch(Xt){}}(),Pl=is&&is.isArrayBuffer,F=is&&is.isDate,X=is&&is.isMap,ge=is&&is.isRegExp,_e=is&&is.isSet,Je=is&&is.isTypedArray;function tt(_t,Xt,an){switch(an.length){case 0:return _t.call(Xt);case 1:return _t.call(Xt,an[0]);case 2:return _t.call(Xt,an[0],an[1]);case 3:return _t.call(Xt,an[0],an[1],an[2])}return _t.apply(Xt,an)}function gt(_t,Xt,an,yr){for(var Ur=-1,ci=_t==null?0:_t.length;++Ur<ci;){var Yi=_t[Ur];Xt(yr,Yi,an(Yi),_t)}return yr}function _n(_t,Xt){for(var an=-1,yr=_t==null?0:_t.length;++an<yr&&Xt(_t[an],an,_t)!==!1;);return _t}function Dn(_t,Xt){for(var an=_t==null?0:_t.length;an--&&Xt(_t[an],an,_t)!==!1;);return _t}function Un(_t,Xt){for(var an=-1,yr=_t==null?0:_t.length;++an<yr;)if(!Xt(_t[an],an,_t))return!1;return!0}function Mr(_t,Xt){for(var an=-1,yr=_t==null?0:_t.length,Ur=0,ci=[];++an<yr;){var Yi=_t[an];Xt(Yi,an,_t)&&(ci[Ur++]=Yi)}return ci}function Dr(_t,Xt){var an=_t==null?0:_t.length;return!!an&&mn(_t,Xt,0)>-1}function fr(_t,Xt,an){for(var yr=-1,Ur=_t==null?0:_t.length;++yr<Ur;)if(an(Xt,_t[yr]))return!0;return!1}function Er(_t,Xt){for(var an=-1,yr=_t==null?0:_t.length,Ur=Array(yr);++an<yr;)Ur[an]=Xt(_t[an],an,_t);return Ur}function ao(_t,Xt){for(var an=-1,yr=Xt.length,Ur=_t.length;++an<yr;)_t[Ur+an]=Xt[an];return _t}function oo(_t,Xt,an,yr){var Ur=-1,ci=_t==null?0:_t.length;for(yr&&ci&&(an=_t[++Ur]);++Ur<ci;)an=Xt(an,_t[Ur],Ur,_t);return an}function ba(_t,Xt,an,yr){var Ur=_t==null?0:_t.length;for(yr&&Ur&&(an=_t[--Ur]);Ur--;)an=Xt(an,_t[Ur],Ur,_t);return an}function es(_t,Xt){for(var an=-1,yr=_t==null?0:_t.length;++an<yr;)if(Xt(_t[an],an,_t))return!0;return!1}var Da=ki("length");function ut(_t){return _t.split("")}function on(_t){return _t.match(lr)||[]}function xn(_t,Xt,an){var yr;return an(_t,function(Ur,ci,Yi){if(Xt(Ur,ci,Yi))return yr=ci,!1}),yr}function cr(_t,Xt,an,yr){for(var Ur=_t.length,ci=an+(yr?1:-1);yr?ci--:++ci<Ur;)if(Xt(_t[ci],ci,_t))return ci;return-1}function mn(_t,Xt,an){return Xt===Xt?jr(_t,Xt,an):cr(_t,ei,an)}function Or(_t,Xt,an,yr){for(var Ur=an-1,ci=_t.length;++Ur<ci;)if(yr(_t[Ur],Xt))return Ur;return-1}function ei(_t){return _t!==_t}function Ni(_t,Xt){var an=_t==null?0:_t.length;return an?Jo(_t,Xt)/an:Me}function ki(_t){return function(Xt){return Xt==null?d:Xt[_t]}}function yo(_t){return function(Xt){return _t==null?d:_t[Xt]}}function Ro(_t,Xt,an,yr,Ur){return Ur(_t,function(ci,Yi,ui){an=yr?(yr=!1,ci):Xt(an,ci,Yi,ui)}),an}function Lo(_t,Xt){var an=_t.length;for(_t.sort(Xt);an--;)_t[an]=_t[an].value;return _t}function Jo(_t,Xt){for(var an,yr=-1,Ur=_t.length;++yr<Ur;){var ci=Xt(_t[yr]);ci!==d&&(an=an===d?ci:an+ci)}return an}function Io(_t,Xt){for(var an=-1,yr=Array(_t);++an<_t;)yr[an]=Xt(an);return yr}function qo(_t,Xt){return Er(Xt,function(an){return[an,_t[an]]})}function Vo(_t){return _t&&_t.slice(0,Lr(_t)+1).replace(Ln,"")}function jo(_t){return function(Xt){return _t(Xt)}}function so(_t,Xt){return Er(Xt,function(an){return _t[an]})}function Si(_t,Xt){return _t.has(Xt)}function pa(_t,Xt){for(var an=-1,yr=_t.length;++an<yr&&mn(Xt,_t[an],0)>-1;);return an}function xo(_t,Xt){for(var an=_t.length;an--&&mn(Xt,_t[an],0)>-1;);return an}function Pa(_t,Xt){for(var an=_t.length,yr=0;an--;)_t[an]===Xt&&++yr;return yr}var Fo=yo(ha),Sa=yo(Ea);function Bo(_t){return"\\"+Ja[_t]}function se(_t,Xt){return _t==null?d:_t[Xt]}function Ye(_t){return gi.test(_t)}function ft(_t){return mo.test(_t)}function Ct(_t){for(var Xt,an=[];!(Xt=_t.next()).done;)an.push(Xt.value);return an}function nn(_t){var Xt=-1,an=Array(_t.size);return _t.forEach(function(yr,Ur){an[++Xt]=[Ur,yr]}),an}function yn(_t,Xt){return function(an){return _t(Xt(an))}}function Vn(_t,Xt){for(var an=-1,yr=_t.length,Ur=0,ci=[];++an<yr;){var Yi=_t[an];(Yi===Xt||Yi===Z)&&(_t[an]=Z,ci[Ur++]=an)}return ci}function wr(_t){var Xt=-1,an=Array(_t.size);return _t.forEach(function(yr){an[++Xt]=yr}),an}function Nr(_t){var Xt=-1,an=Array(_t.size);return _t.forEach(function(yr){an[++Xt]=[yr,yr]}),an}function jr(_t,Xt,an){for(var yr=an-1,Ur=_t.length;++yr<Ur;)if(_t[yr]===Xt)return yr;return-1}function bi(_t,Xt,an){for(var yr=an+1;yr--;)if(_t[yr]===Xt)return yr;return yr}function Hr(_t){return Ye(_t)?mi(_t):Da(_t)}function _r(_t){return Ye(_t)?oi(_t):ut(_t)}function Lr(_t){for(var Xt=_t.length;Xt--&&vt.test(_t.charAt(Xt)););return Xt}var Ar=yo(ea);function mi(_t){for(var Xt=Qr.lastIndex=0;Qr.test(_t);)++Xt;return Xt}function oi(_t){return _t.match(Qr)||[]}function Pt(_t){return _t.match(hr)||[]}var cn=function _t(Xt){Xt=Xt==null?qa:Qn.defaults(qa.Object(),Xt,Qn.pick(qa,No));var an=Xt.Array,yr=Xt.Date,Ur=Xt.Error,ci=Xt.Function,Yi=Xt.Math,ui=Xt.Object,go=Xt.RegExp,wo=Xt.String,ji=Xt.TypeError,ko=an.prototype,os=ci.prototype,La=ui.prototype,Ua=Xt["__core-js_shared__"],cs=os.toString,sa=La.hasOwnProperty,Ka=0,Ks=function(){var y=/[^.]+$/.exec(Ua&&Ua.keys&&Ua.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),qs=La.toString,yl=cs.call(ui),Ds=qa._,tc=go("^"+cs.call(sa).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rl=Ps?Xt.Buffer:d,Ca=Xt.Symbol,us=Xt.Uint8Array,Va=Rl?Rl.allocUnsafe:d,zs=yn(ui.getPrototypeOf,ui),Fa=ui.create,Ys=La.propertyIsEnumerable,Us=ko.splice,_s=Ca?Ca.isConcatSpreadable:d,Tl=Ca?Ca.iterator:d,Bl=Ca?Ca.toStringTag:d,Zl=function(){try{var y=Ii(ui,"defineProperty");return y({},"",{}),y}catch(_){}}(),Pc=Xt.clearTimeout!==qa.clearTimeout&&Xt.clearTimeout,zl=yr&&yr.now!==qa.Date.now&&yr.now,uc=Xt.setTimeout!==qa.setTimeout&&Xt.setTimeout,Uc=Yi.ceil,nl=Yi.floor,bc=ui.getOwnPropertySymbols,kc=Rl?Rl.isBuffer:d,ll=Xt.isFinite,fc=ko.join,bl=yn(ui.keys,ui),Ha=Yi.max,Ts=Yi.min,Yl=yr.now,nc=Xt.parseInt,Ol=Yi.random,Wl=ko.reverse,sc=Ii(Xt,"DataView"),Cl=Ii(Xt,"Map"),cl=Ii(Xt,"Promise"),bs=Ii(Xt,"Set"),Ia=Ii(Xt,"WeakMap"),ta=Ii(ui,"create"),Bs=Ia&&new Ia,ts={},Cs=Ic(sc),Ul=Ic(Cl),Lc=Ic(cl),rl=Ic(bs),Du=Ic(Ia),Vc=Ca?Ca.prototype:d,dc=Vc?Vc.valueOf:d,ul=Vc?Vc.toString:d;function yt(y){if(Xc(y)&&!Ss(y)&&!(y instanceof fs)){if(y instanceof ps)return y;if(sa.call(y,"__wrapped__"))return ws(y)}return new ps(y)}var Ga=function(){function y(){}return function(_){if(!Yc(_))return{};if(Fa)return Fa(_);y.prototype=_;var q=new y;return y.prototype=d,q}}();function fl(){}function ps(y,_){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=d}yt.templateSettings={escape:kt,evaluate:dn,interpolate:Ot,variable:"",imports:{_:yt}},yt.prototype=fl.prototype,yt.prototype.constructor=yt,ps.prototype=Ga(fl.prototype),ps.prototype.constructor=ps;function fs(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qe,this.__views__=[]}function Nu(){var y=new fs(this.__wrapped__);return y.__actions__=Bu(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=Bu(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=Bu(this.__views__),y}function qu(){if(this.__filtered__){var y=new fs(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function jc(){var y=this.__wrapped__.value(),_=this.__dir__,q=Ss(y),Fe=_<0,wt=q?y.length:0,rn=_o(0,wt,this.__views__),rr=rn.start,Sr=rn.end,qr=Sr-rr,qi=Fe?Sr:rr-1,to=this.__iteratees__,Mo=to.length,Ma=0,ia=Ts(qr,this.__takeCount__);if(!q||!Fe&&wt==qr&&ia==qr)return th(y,this.__actions__);var Ls=[];e:for(;qr--&&Ma<ia;){qi+=_;for(var ml=-1,Is=y[qi];++ml<Mo;){var Ll=to[ml],wl=Ll.iteratee,Ou=Ll.type,df=wl(Is);if(Ou==en)Is=df;else if(!df){if(Ou==st)continue e;break e}}Ls[Ma++]=Is}return Ls}fs.prototype=Ga(fl.prototype),fs.prototype.constructor=fs;function lc(y){var _=-1,q=y==null?0:y.length;for(this.clear();++_<q;){var Fe=y[_];this.set(Fe[0],Fe[1])}}function af(){this.__data__=ta?ta(null):{},this.size=0}function Af(y){var _=this.has(y)&&delete this.__data__[y];return this.size-=_?1:0,_}function ju(y){var _=this.__data__;if(ta){var q=_[y];return q===w?d:q}return sa.call(_,y)?_[y]:d}function il(y){var _=this.__data__;return ta?_[y]!==d:sa.call(_,y)}function Ws(y,_){var q=this.__data__;return this.size+=this.has(y)?0:1,q[y]=ta&&_===d?w:_,this}lc.prototype.clear=af,lc.prototype.delete=Af,lc.prototype.get=ju,lc.prototype.has=il,lc.prototype.set=Ws;function Ya(y){var _=-1,q=y==null?0:y.length;for(this.clear();++_<q;){var Fe=y[_];this.set(Fe[0],Fe[1])}}function Vl(){this.__data__=[],this.size=0}function ds(y){var _=this.__data__,q=ou(_,y);if(q<0)return!1;var Fe=_.length-1;return q==Fe?_.pop():Us.call(_,q,1),--this.size,!0}function Za(y){var _=this.__data__,q=ou(_,y);return q<0?d:_[q][1]}function xl(y){return ou(this.__data__,y)>-1}function yu(y,_){var q=this.__data__,Fe=ou(q,y);return Fe<0?(++this.size,q.push([y,_])):q[Fe][1]=_,this}Ya.prototype.clear=Vl,Ya.prototype.delete=ds,Ya.prototype.get=Za,Ya.prototype.has=xl,Ya.prototype.set=yu;function ef(y){var _=-1,q=y==null?0:y.length;for(this.clear();++_<q;){var Fe=y[_];this.set(Fe[0],Fe[1])}}function iu(){this.size=0,this.__data__={hash:new lc,map:new(Cl||Ya),string:new lc}}function Xl(y){var _=Yr(this,y).delete(y);return this.size-=_?1:0,_}function Xo(y){return Yr(this,y).get(y)}function $u(y){return Yr(this,y).has(y)}function Uf(y,_){var q=Yr(this,y),Fe=q.size;return q.set(y,_),this.size+=q.size==Fe?0:1,this}ef.prototype.clear=iu,ef.prototype.delete=Xl,ef.prototype.get=Xo,ef.prototype.has=$u,ef.prototype.set=Uf;function Tc(y){var _=-1,q=y==null?0:y.length;for(this.__data__=new ef;++_<q;)this.add(y[_])}function fo(y){return this.__data__.set(y,w),this}function Hs(y){return this.__data__.has(y)}Tc.prototype.add=Tc.prototype.push=fo,Tc.prototype.has=Hs;function tu(y){var _=this.__data__=new Ya(y);this.size=_.size}function sf(){this.__data__=new Ya,this.size=0}function Xs(y){var _=this.__data__,q=_.delete(y);return this.size=_.size,q}function mf(y){return this.__data__.get(y)}function Df(y){return this.__data__.has(y)}function yf(y,_){var q=this.__data__;if(q instanceof Ya){var Fe=q.__data__;if(!Cl||Fe.length<g-1)return Fe.push([y,_]),this.size=++q.size,this;q=this.__data__=new ef(Fe)}return q.set(y,_),this.size=q.size,this}tu.prototype.clear=sf,tu.prototype.delete=Xs,tu.prototype.get=mf,tu.prototype.has=Df,tu.prototype.set=yf;function Mu(y,_){var q=Ss(y),Fe=!q&&ch(y),wt=!q&&!Fe&&Ai(y),rn=!q&&!Fe&&!wt&&Nh(y),rr=q||Fe||wt||rn,Sr=rr?Io(y.length,wo):[],qr=Sr.length;for(var qi in y)(_||sa.call(y,qi))&&!(rr&&(qi=="length"||wt&&(qi=="offset"||qi=="parent")||rn&&(qi=="buffer"||qi=="byteLength"||qi=="byteOffset")||Go(qi,qr)))&&Sr.push(qi);return Sr}function nu(y){var _=y.length;return _?y[Oc(0,_-1)]:d}function eh(y,_){return xc(Bu(y),ku(_,0,y.length))}function Vf(y){return xc(Bu(y))}function bd(y,_,q){(q!==d&&!aa(y[_],q)||q===d&&!(_ in y))&&hc(y,_,q)}function ol(y,_,q){var Fe=y[_];(!(sa.call(y,_)&&aa(Fe,q))||q===d&&!(_ in y))&&hc(y,_,q)}function ou(y,_){for(var q=y.length;q--;)if(aa(y[q][0],_))return q;return-1}function Jl(y,_,q,Fe){return $c(y,function(wt,rn,rr){_(Fe,wt,q(wt),rr)}),Fe}function Ru(y,_){return y&&kf(_,Yu(_),y)}function ad(y,_){return y&&kf(_,Wf(_),y)}function hc(y,_,q){_=="__proto__"&&Zl?Zl(y,_,{configurable:!0,enumerable:!0,value:q,writable:!0}):y[_]=q}function Iu(y,_){for(var q=-1,Fe=_.length,wt=an(Fe),rn=y==null;++q<Fe;)wt[q]=rn?d:Pv(y,_[q]);return wt}function ku(y,_,q){return y===y&&(q!==d&&(y=y<=q?y:q),_!==d&&(y=y>=_?y:_)),y}function Fc(y,_,q,Fe,wt,rn){var rr,Sr=_&U,qr=_&$,qi=_&te;if(q&&(rr=wt?q(y,Fe,wt,rn):q(y)),rr!==d)return rr;if(!Yc(y))return y;var to=Ss(y);if(to){if(rr=Gr(y),!Sr)return Bu(y,rr)}else{var Mo=Ui(y),Ma=Mo==Dt||Mo==lt;if(Ai(y))return oh(y,Sr);if(Mo==kn||Mo==be||Ma&&!wt){if(rr=qr||Ma?{}:li(y),!Sr)return qr?hg(y,ad(rr,y)):Ap(y,Ru(rr,y))}else{if(!Fi[Mo])return wt?y:{};rr=Ji(y,Mo,Sr)}}rn||(rn=new tu);var ia=rn.get(y);if(ia)return ia;rn.set(y,rr),Od(y)?y.forEach(function(Is){rr.add(Fc(Is,_,q,Is,y,rn))}):Mg(y)&&y.forEach(function(Is,Ll){rr.set(Ll,Fc(Is,_,q,Ll,y,rn))});var Ls=qi?qr?$e:Rp:qr?Wf:Yu,ml=to?d:Ls(y);return _n(ml||y,function(Is,Ll){ml&&(Ll=Is,Is=y[Ll]),ol(rr,Ll,Fc(Is,_,q,Ll,y,rn))}),rr}function Cd(y){var _=Yu(y);return function(q){return _l(q,y,_)}}function _l(y,_,q){var Fe=q.length;if(y==null)return!Fe;for(y=ui(y);Fe--;){var wt=q[Fe],rn=_[wt],rr=y[wt];if(rr===d&&!(wt in y)||!rn(rr))return!1}return!0}function Nf(y,_,q){if(typeof y!="function")throw new ji(A);return Ns(function(){y.apply(d,q)},_)}function lf(y,_,q,Fe){var wt=-1,rn=Dr,rr=!0,Sr=y.length,qr=[],qi=_.length;if(!Sr)return qr;q&&(_=Er(_,jo(q))),Fe?(rn=fr,rr=!1):_.length>=g&&(rn=Si,rr=!1,_=new Tc(_));e:for(;++wt<Sr;){var to=y[wt],Mo=q==null?to:q(to);if(to=Fe||to!==0?to:0,rr&&Mo===Mo){for(var Ma=qi;Ma--;)if(_[Ma]===Mo)continue e;qr.push(to)}else rn(_,Mo,Fe)||qr.push(to)}return qr}var $c=jf(au),sd=jf(su,!0);function Lu(y,_){var q=!0;return $c(y,function(Fe,wt,rn){return q=!!_(Fe,wt,rn),q}),q}function tf(y,_,q){for(var Fe=-1,wt=y.length;++Fe<wt;){var rn=y[Fe],rr=_(rn);if(rr!=null&&(Sr===d?rr===rr&&!$f(rr):q(rr,Sr)))var Sr=rr,qr=rn}return qr}function ld(y,_,q,Fe){var wt=y.length;for(q=$s(q),q<0&&(q=-q>wt?0:wt+q),Fe=Fe===d||Fe>wt?wt:$s(Fe),Fe<0&&(Fe+=wt),Fe=q>Fe?0:Og(Fe);q<Fe;)y[q++]=_;return y}function cf(y,_){var q=[];return $c(y,function(Fe,wt,rn){_(Fe,wt,rn)&&q.push(Fe)}),q}function Gc(y,_,q,Fe,wt){var rn=-1,rr=y.length;for(q||(q=Di),wt||(wt=[]);++rn<rr;){var Sr=y[rn];_>0&&q(Sr)?_>1?Gc(Sr,_-1,q,Fe,wt):ao(wt,Sr):Fe||(wt[wt.length]=Sr)}return wt}var bf=Dp(),qf=Dp(!0);function au(y,_){return y&&bf(y,_,Yu)}function su(y,_){return y&&qf(y,_,Yu)}function Cf(y,_){return Mr(_,function(q){return Gf(y[q])})}function rc(y,_){_=wf(_,y);for(var q=0,Fe=_.length;y!=null&&q<Fe;)y=y[vc(_[q++])];return q&&q==Fe?y:d}function pc(y,_,q){var Fe=_(y);return Ss(y)?Fe:ao(Fe,q(y))}function Ql(y){return y==null?y===d?Xe:Nn:Bl&&Bl in ui(y)?Wi(y):Zs(y)}function ed(y,_){return y>_}function Rf(y,_){return y!=null&&sa.call(y,_)}function xf(y,_){return y!=null&&_ in ui(y)}function xd(y,_,q){return y>=Ts(_,q)&&y<Ha(_,q)}function lu(y,_,q){for(var Fe=q?fr:Dr,wt=y[0].length,rn=y.length,rr=rn,Sr=an(rn),qr=1/0,qi=[];rr--;){var to=y[rr];rr&&_&&(to=Er(to,jo(_))),qr=Ts(to.length,qr),Sr[rr]=!q&&(_||wt>=120&&to.length>=120)?new Tc(rr&&to):d}to=y[0];var Mo=-1,Ma=Sr[0];e:for(;++Mo<wt&&qi.length<qr;){var ia=to[Mo],Ls=_?_(ia):ia;if(ia=q||ia!==0?ia:0,!(Ma?Si(Ma,Ls):Fe(qi,Ls,q))){for(rr=rn;--rr;){var ml=Sr[rr];if(!(ml?Si(ml,Ls):Fe(y[rr],Ls,q)))continue e}Ma&&Ma.push(Ls),qi.push(ia)}}return qi}function Wu(y,_,q,Fe){return au(y,function(wt,rn,rr){_(Fe,q(wt),rn,rr)}),Fe}function Ef(y,_,q){_=wf(_,y),y=Os(y,_);var Fe=y==null?y:y[vc(mr(_))];return Fe==null?d:tt(Fe,y,q)}function Ee(y){return Xc(y)&&Ql(y)==be}function Le(y){return Xc(y)&&Ql(y)==He}function at(y){return Xc(y)&&Ql(y)==Wt}function ct(y,_,q,Fe,wt){return y===_?!0:y==null||_==null||!Xc(y)&&!Xc(_)?y!==y&&_!==_:dt(y,_,q,Fe,ct,wt)}function dt(y,_,q,Fe,wt,rn){var rr=Ss(y),Sr=Ss(_),qr=rr?Ne:Ui(y),qi=Sr?Ne:Ui(_);qr=qr==be?kn:qr,qi=qi==be?kn:qi;var to=qr==kn,Mo=qi==kn,Ma=qr==qi;if(Ma&&Ai(y)){if(!Ai(_))return!1;rr=!0,to=!1}if(Ma&&!to)return rn||(rn=new tu),rr||Nh(y)?hd(y,_,q,Fe,wt,rn):Jh(y,_,qr,q,Fe,wt,rn);if(!(q&Q)){var ia=to&&sa.call(y,"__wrapped__"),Ls=Mo&&sa.call(_,"__wrapped__");if(ia||Ls){var ml=ia?y.value():y,Is=Ls?_.value():_;return rn||(rn=new tu),wt(ml,Is,q,Fe,rn)}}return Ma?(rn||(rn=new tu),Ph(y,_,q,Fe,wt,rn)):!1}function mt(y){return Xc(y)&&Ui(y)==Ft}function St(y,_,q,Fe){var wt=q.length,rn=wt,rr=!Fe;if(y==null)return!rn;for(y=ui(y);wt--;){var Sr=q[wt];if(rr&&Sr[2]?Sr[1]!==y[Sr[0]]:!(Sr[0]in y))return!1}for(;++wt<rn;){Sr=q[wt];var qr=Sr[0],qi=y[qr],to=Sr[1];if(rr&&Sr[2]){if(qi===d&&!(qr in y))return!1}else{var Mo=new tu;if(Fe)var Ma=Fe(qi,to,qr,y,_,Mo);if(!(Ma===d?ct(to,qi,Q|J,Fe,Mo):Ma))return!1}}return!0}function Nt(y){if(!Yc(y)||Na(y))return!1;var _=Gf(y)?tc:De;return _.test(Ic(y))}function O(y){return Xc(y)&&Ql(y)==ee}function V(y){return Xc(y)&&Ui(y)==it}function ae(y){return Xc(y)&&Vd(y.length)&&!!Ti[Ql(y)]}function we(y){return typeof y=="function"?y:y==null?Tf:typeof y=="object"?Ss(y)?So(y[0],y[1]):_i(y):Zm(y)}function qe(y){if(!Eo(y))return bl(y);var _=[];for(var q in ui(y))sa.call(y,q)&&q!="constructor"&&_.push(q);return _}function Rt(y){if(!Yc(y))return la(y);var _=Eo(y),q=[];for(var Fe in y)Fe=="constructor"&&(_||!sa.call(y,Fe))||q.push(Fe);return q}function In(y,_){return y<_}function Wr(y,_){var q=-1,Fe=pu(y)?an(y.length):[];return $c(y,function(wt,rn,rr){Fe[++q]=_(wt,rn,rr)}),Fe}function _i(y){var _=ri(y);return _.length==1&&_[0][2]?Oi(_[0][0],_[0][1]):function(q){return q===y||St(q,y,_)}}function So(y,_){return bo(y)&&no(_)?Oi(vc(y),_):function(q){var Fe=Pv(q,y);return Fe===d&&Fe===_?m0(q,y):ct(_,Fe,Q|J)}}function Ho(y,_,q,Fe,wt){y!==_&&bf(_,function(rn,rr){if(wt||(wt=new tu),Yc(rn))ga(y,_,rr,q,Ho,Fe,wt);else{var Sr=Fe?Fe(Wc(y,rr),rn,rr+"",y,_,wt):d;Sr===d&&(Sr=rn),bd(y,rr,Sr)}},Wf)}function ga(y,_,q,Fe,wt,rn,rr){var Sr=Wc(y,q),qr=Wc(_,q),qi=rr.get(qr);if(qi){bd(y,q,qi);return}var to=rn?rn(Sr,qr,q+"",y,_,rr):d,Mo=to===d;if(Mo){var Ma=Ss(qr),ia=!Ma&&Ai(qr),Ls=!Ma&&!ia&&Nh(qr);to=qr,Ma||ia||Ls?Ss(Sr)?to=Sr:Zc(Sr)?to=Bu(Sr):ia?(Mo=!1,to=oh(qr,!0)):Ls?(Mo=!1,to=zd(qr,!0)):to=[]:ap(qr)||ch(qr)?(to=Sr,ch(Sr)?to=jd(Sr):(!Yc(Sr)||Gf(Sr))&&(to=li(qr))):Mo=!1}Mo&&(rr.set(qr,to),wt(to,qr,Fe,rn,rr),rr.delete(qr)),bd(y,q,to)}function ns(y,_){var q=y.length;if(q)return _+=_<0?q:0,Go(_,q)?y[_]:d}function xs(y,_,q){_.length?_=Er(_,function(rn){return Ss(rn)?function(rr){return rc(rr,rn.length===1?rn[0]:rn)}:rn}):_=[Tf];var Fe=-1;_=Er(_,jo(Br()));var wt=Wr(y,function(rn,rr,Sr){var qr=Er(_,function(qi){return qi(rn)});return{criteria:qr,index:++Fe,value:rn}});return Lo(wt,function(rn,rr){return dg(rn,rr,q)})}function el(y,_){return ja(y,_,function(q,Fe){return m0(y,Fe)})}function ja(y,_,q){for(var Fe=-1,wt=_.length,rn={};++Fe<wt;){var rr=_[Fe],Sr=rc(y,rr);q(Sr,rr)&&_c(rn,wf(rr,y),Sr)}return rn}function Vs(y){return function(_){return rc(_,y)}}function dl(y,_,q,Fe){var wt=Fe?Or:mn,rn=-1,rr=_.length,Sr=y;for(y===_&&(_=Bu(_)),q&&(Sr=Er(y,jo(q)));++rn<rr;)for(var qr=0,qi=_[rn],to=q?q(qi):qi;(qr=wt(Sr,to,qr,Fe))>-1;)Sr!==y&&Us.call(Sr,qr,1),Us.call(y,qr,1);return y}function al(y,_){for(var q=y?_.length:0,Fe=q-1;q--;){var wt=_[q];if(q==Fe||wt!==rn){var rn=wt;Go(wt)?Us.call(y,wt,1):Gu(y,wt)}}return y}function Oc(y,_){return y+nl(Ol()*(_-y+1))}function $a(y,_,q,Fe){for(var wt=-1,rn=Ha(Uc((_-y)/(q||1)),0),rr=an(rn);rn--;)rr[Fe?rn:++wt]=y,y+=q;return rr}function Ao(y,_){var q="";if(!y||_<1||_>It)return q;do _%2&&(q+=y),_=nl(_/2),_&&(y+=y);while(_);return q}function eo(y,_){return Rc(vs(y,_,Tf),y+"")}function As(y){return nu(Up(y))}function ic(y,_){var q=Up(y);return xc(q,ku(_,0,q.length))}function _c(y,_,q,Fe){if(!Yc(y))return y;_=wf(_,y);for(var wt=-1,rn=_.length,rr=rn-1,Sr=y;Sr!=null&&++wt<rn;){var qr=vc(_[wt]),qi=q;if(qr==="__proto__"||qr==="constructor"||qr==="prototype")return y;if(wt!=rr){var to=Sr[qr];qi=Fe?Fe(to,qr,Sr):d,qi===d&&(qi=Yc(to)?to:Go(_[wt+1])?[]:{})}ol(Sr,qr,qi),Sr=Sr[qr]}return y}var Ac=Bs?function(y,_){return Bs.set(y,_),y}:Tf,cc=Zl?function(y,_){return Zl(y,"toString",{configurable:!0,enumerable:!1,value:jp(_),writable:!0})}:Tf;function Pu(y){return xc(Up(y))}function gc(y,_,q){var Fe=-1,wt=y.length;_<0&&(_=-_>wt?0:wt+_),q=q>wt?wt:q,q<0&&(q+=wt),wt=_>q?0:q-_>>>0,_>>>=0;for(var rn=an(wt);++Fe<wt;)rn[Fe]=y[Fe+_];return rn}function fu(y,_){var q;return $c(y,function(Fe,wt,rn){return q=_(Fe,wt,rn),!q}),!!q}function Cc(y,_,q){var Fe=0,wt=y==null?Fe:y.length;if(typeof _=="number"&&_===_&&wt<=Ge){for(;Fe<wt;){var rn=Fe+wt>>>1,rr=y[rn];rr!==null&&!$f(rr)&&(q?rr<=_:rr<_)?Fe=rn+1:wt=rn}return wt}return bu(y,_,Tf,q)}function bu(y,_,q,Fe){var wt=0,rn=y==null?0:y.length;if(rn===0)return 0;_=q(_);for(var rr=_!==_,Sr=_===null,qr=$f(_),qi=_===d;wt<rn;){var to=nl((wt+rn)/2),Mo=q(y[to]),Ma=Mo!==d,ia=Mo===null,Ls=Mo===Mo,ml=$f(Mo);if(rr)var Is=Fe||Ls;else qi?Is=Ls&&(Fe||Ma):Sr?Is=Ls&&Ma&&(Fe||!ia):qr?Is=Ls&&Ma&&!ia&&(Fe||!ml):ia||ml?Is=!1:Is=Fe?Mo<=_:Mo<_;Is?wt=to+1:rn=to}return Ts(rn,bt)}function vl(y,_){for(var q=-1,Fe=y.length,wt=0,rn=[];++q<Fe;){var rr=y[q],Sr=_?_(rr):rr;if(!q||!aa(Sr,qr)){var qr=Sr;rn[wt++]=rr===0?0:rr}}return rn}function oc(y){return typeof y=="number"?y:$f(y)?Me:+y}function Dc(y){if(typeof y=="string")return y;if(Ss(y))return Er(y,Dc)+"";if($f(y))return ul?ul.call(y):"";var _=y+"";return _=="0"&&1/y==-Mt?"-0":_}function Fu(y,_,q){var Fe=-1,wt=Dr,rn=y.length,rr=!0,Sr=[],qr=Sr;if(q)rr=!1,wt=fr;else if(rn>=g){var qi=_?null:dd(y);if(qi)return wr(qi);rr=!1,wt=Si,qr=new Tc}else qr=_?[]:Sr;e:for(;++Fe<rn;){var to=y[Fe],Mo=_?_(to):to;if(to=q||to!==0?to:0,rr&&Mo===Mo){for(var Ma=qr.length;Ma--;)if(qr[Ma]===Mo)continue e;_&&qr.push(Mo),Sr.push(to)}else wt(qr,Mo,q)||(qr!==Sr&&qr.push(Mo),Sr.push(to))}return Sr}function Gu(y,_){return _=wf(_,y),y=Os(y,_),y==null||delete y[vc(mr(_))]}function Ch(y,_,q,Fe){return _c(y,_,q(rc(y,_)),Fe)}function Ed(y,_,q,Fe){for(var wt=y.length,rn=Fe?wt:-1;(Fe?rn--:++rn<wt)&&_(y[rn],rn,y););return q?gc(y,Fe?0:rn,Fe?rn+1:wt):gc(y,Fe?rn+1:0,Fe?wt:rn)}function th(y,_){var q=y;return q instanceof fs&&(q=q.value()),oo(_,function(Fe,wt){return wt.func.apply(wt.thisArg,ao([Fe],wt.args))},q)}function nh(y,_,q){var Fe=y.length;if(Fe<2)return Fe?Fu(y[0]):[];for(var wt=-1,rn=an(Fe);++wt<Fe;)for(var rr=y[wt],Sr=-1;++Sr<Fe;)Sr!=wt&&(rn[wt]=lf(rn[wt]||rr,y[Sr],_,q));return Fu(Gc(rn,1),_,q)}function Bd(y,_,q){for(var Fe=-1,wt=y.length,rn=_.length,rr={};++Fe<wt;){var Sr=Fe<rn?_[Fe]:d;q(rr,y[Fe],Sr)}return rr}function nf(y){return Zc(y)?y:[]}function Zd(y){return typeof y=="function"?y:Tf}function wf(y,_){return Ss(y)?y:bo(y,_)?[y]:Al(ac(y))}var rh=eo;function If(y,_,q){var Fe=y.length;return q=q===d?Fe:q,!_&&q>=Fe?y:gc(y,_,q)}var ih=Pc||function(y){return qa.clearTimeout(y)};function oh(y,_){if(_)return y.slice();var q=y.length,Fe=Va?Va(q):new y.constructor(q);return y.copy(Fe),Fe}function xh(y){var _=new y.constructor(y.byteLength);return new us(_).set(new us(y)),_}function ah(y,_){var q=_?xh(y.buffer):y.buffer;return new y.constructor(q,y.byteOffset,y.byteLength)}function uf(y){var _=new y.constructor(y.source,ni.exec(y));return _.lastIndex=y.lastIndex,_}function ug(y){return dc?ui(dc.call(y)):{}}function zd(y,_){var q=_?xh(y.buffer):y.buffer;return new y.constructor(q,y.byteOffset,y.length)}function fg(y,_){if(y!==_){var q=y!==d,Fe=y===null,wt=y===y,rn=$f(y),rr=_!==d,Sr=_===null,qr=_===_,qi=$f(_);if(!Sr&&!qi&&!rn&&y>_||rn&&rr&&qr&&!Sr&&!qi||Fe&&rr&&qr||!q&&qr||!wt)return 1;if(!Fe&&!rn&&!qi&&y<_||qi&&q&&wt&&!Fe&&!rn||Sr&&q&&wt||!rr&&wt||!qr)return-1}return 0}function dg(y,_,q){for(var Fe=-1,wt=y.criteria,rn=_.criteria,rr=wt.length,Sr=q.length;++Fe<rr;){var qr=fg(wt[Fe],rn[Fe]);if(qr){if(Fe>=Sr)return qr;var qi=q[Fe];return qr*(qi=="desc"?-1:1)}}return y.index-_.index}function _p(y,_,q,Fe){for(var wt=-1,rn=y.length,rr=q.length,Sr=-1,qr=_.length,qi=Ha(rn-rr,0),to=an(qr+qi),Mo=!Fe;++Sr<qr;)to[Sr]=_[Sr];for(;++wt<rr;)(Mo||wt<rn)&&(to[q[wt]]=y[wt]);for(;qi--;)to[Sr++]=y[wt++];return to}function cd(y,_,q,Fe){for(var wt=-1,rn=y.length,rr=-1,Sr=q.length,qr=-1,qi=_.length,to=Ha(rn-Sr,0),Mo=an(to+qi),Ma=!Fe;++wt<to;)Mo[wt]=y[wt];for(var ia=wt;++qr<qi;)Mo[ia+qr]=_[qr];for(;++rr<Sr;)(Ma||wt<rn)&&(Mo[ia+q[rr]]=y[wt++]);return Mo}function Bu(y,_){var q=-1,Fe=y.length;for(_||(_=an(Fe));++q<Fe;)_[q]=y[q];return _}function kf(y,_,q,Fe){var wt=!q;q||(q={});for(var rn=-1,rr=_.length;++rn<rr;){var Sr=_[rn],qr=Fe?Fe(q[Sr],y[Sr],Sr,q,y):d;qr===d&&(qr=y[Sr]),wt?hc(q,Sr,qr):ol(q,Sr,qr)}return q}function Ap(y,_){return kf(y,Xi(y),_)}function hg(y,_){return kf(y,zi(y),_)}function Eh(y,_){return function(q,Fe){var wt=Ss(q)?gt:Jl,rn=_?_():{};return wt(q,y,Br(Fe,2),rn)}}function ud(y){return eo(function(_,q){var Fe=-1,wt=q.length,rn=wt>1?q[wt-1]:d,rr=wt>2?q[2]:d;for(rn=y.length>3&&typeof rn=="function"?(wt--,rn):d,rr&&Mi(q[0],q[1],rr)&&(rn=wt<3?d:rn,wt=1),_=ui(_);++Fe<wt;){var Sr=q[Fe];Sr&&y(_,Sr,Fe,rn)}return _})}function jf(y,_){return function(q,Fe){if(q==null)return q;if(!pu(q))return y(q,Fe);for(var wt=q.length,rn=_?wt:-1,rr=ui(q);(_?rn--:++rn<wt)&&Fe(rr[rn],rn,rr)!==!1;);return q}}function Dp(y){return function(_,q,Fe){for(var wt=-1,rn=ui(_),rr=Fe(_),Sr=rr.length;Sr--;){var qr=rr[y?Sr:++wt];if(q(rn[qr],qr,rn)===!1)break}return _}}function sh(y,_,q){var Fe=_&K,wt=Sd(y);function rn(){var rr=this&&this!==qa&&this instanceof rn?wt:y;return rr.apply(Fe?q:this,arguments)}return rn}function fd(y){return function(_){_=ac(_);var q=Ye(_)?_r(_):d,Fe=q?q[0]:_.charAt(0),wt=q?If(q,1).join(""):_.slice(1);return Fe[y]()+wt}}function wd(y){return function(_){return oo(Gm(Nm(_).replace(nr,"")),y,"")}}function Sd(y){return function(){var _=arguments;switch(_.length){case 0:return new y;case 1:return new y(_[0]);case 2:return new y(_[0],_[1]);case 3:return new y(_[0],_[1],_[2]);case 4:return new y(_[0],_[1],_[2],_[3]);case 5:return new y(_[0],_[1],_[2],_[3],_[4]);case 6:return new y(_[0],_[1],_[2],_[3],_[4],_[5]);case 7:return new y(_[0],_[1],_[2],_[3],_[4],_[5],_[6])}var q=Ga(y.prototype),Fe=y.apply(q,_);return Yc(Fe)?Fe:q}}function Kh(y,_,q){var Fe=Sd(y);function wt(){for(var rn=arguments.length,rr=an(rn),Sr=rn,qr=Kr(wt);Sr--;)rr[Sr]=arguments[Sr];var qi=rn<3&&rr[0]!==qr&&rr[rn-1]!==qr?[]:Vn(rr,qr);if(rn-=qi.length,rn<q)return Sh(y,_,Lf,wt.placeholder,d,rr,qi,d,d,q-rn);var to=this&&this!==qa&&this instanceof wt?Fe:y;return tt(to,this,rr)}return wt}function Yh(y){return function(_,q,Fe){var wt=ui(_);if(!pu(_)){var rn=Br(q,3);_=Yu(_),q=function(Sr){return rn(wt[Sr],Sr,wt)}}var rr=y(_,q,Fe);return rr>-1?wt[rn?_[rr]:rr]:d}}function Cu(y){return pd(function(_){var q=_.length,Fe=q,wt=ps.prototype.thru;for(y&&_.reverse();Fe--;){var rn=_[Fe];if(typeof rn!="function")throw new ji(A);if(wt&&!rr&&Gn(rn)=="wrapper")var rr=new ps([],!0)}for(Fe=rr?Fe:q;++Fe<q;){rn=_[Fe];var Sr=Gn(rn),qr=Sr=="wrapper"?Jt(rn):d;qr&&Co(qr[0])&&qr[1]==(Oe|fe|ie|L)&&!qr[4].length&&qr[9]==1?rr=rr[Gn(qr[0])].apply(rr,qr[3]):rr=rn.length==1&&Co(rn)?rr[Sr]():rr.thru(rn)}return function(){var qi=arguments,to=qi[0];if(rr&&qi.length==1&&Ss(to))return rr.plant(to).value();for(var Mo=0,Ma=q?_[Mo].apply(this,qi):to;++Mo<q;)Ma=_[Mo].call(this,Ma);return Ma}})}function Lf(y,_,q,Fe,wt,rn,rr,Sr,qr,qi){var to=_&Oe,Mo=_&K,Ma=_&Y,ia=_&(fe|le),Ls=_&Pe,ml=Ma?d:Sd(y);function Is(){for(var Ll=arguments.length,wl=an(Ll),Ou=Ll;Ou--;)wl[Ou]=arguments[Ou];if(ia)var df=Kr(Is),Eu=Pa(wl,df);if(Fe&&(wl=_p(wl,Fe,wt,ia)),rn&&(wl=cd(wl,rn,rr,ia)),Ll-=Eu,ia&&Ll<qi){var mu=Vn(wl,df);return Sh(y,_,Lf,Is.placeholder,q,wl,mu,Sr,qr,qi-Ll)}var vd=Mo?q:this,Hd=Ma?vd[y]:y;return Ll=wl.length,Sr?wl=hl(wl,Sr):Ls&&Ll>1&&wl.reverse(),to&&qr<Ll&&(wl.length=qr),this&&this!==qa&&this instanceof Is&&(Hd=ml||Sd(Hd)),Hd.apply(vd,wl)}return Is}function Nc(y,_){return function(q,Fe){return Wu(q,y,_(Fe),{})}}function xu(y,_){return function(q,Fe){var wt;if(q===d&&Fe===d)return _;if(q!==d&&(wt=q),Fe!==d){if(wt===d)return Fe;typeof q=="string"||typeof Fe=="string"?(q=Dc(q),Fe=Dc(Fe)):(q=oc(q),Fe=oc(Fe)),wt=y(q,Fe)}return wt}}function ql(y){return pd(function(_){return _=Er(_,jo(Br())),eo(function(q){var Fe=this;return y(_,function(wt){return tt(wt,Fe,q)})})})}function Xh(y,_){_=_===d?" ":Dc(_);var q=_.length;if(q<2)return q?Ao(_,y):_;var Fe=Ao(_,Uc(y/Hr(_)));return Ye(_)?If(_r(Fe),0,y).join(""):Fe.slice(0,y)}function pg(y,_,q,Fe){var wt=_&K,rn=Sd(y);function rr(){for(var Sr=-1,qr=arguments.length,qi=-1,to=Fe.length,Mo=an(to+qr),Ma=this&&this!==qa&&this instanceof rr?rn:y;++qi<to;)Mo[qi]=Fe[qi];for(;qr--;)Mo[qi++]=arguments[++Sr];return tt(Ma,wt?q:this,Mo)}return rr}function iv(y){return function(_,q,Fe){return Fe&&typeof Fe!="number"&&Mi(_,q,Fe)&&(q=Fe=d),_=_d(_),q===d?(q=_,_=0):q=_d(q),Fe=Fe===d?_<q?1:-1:_d(Fe),$a(_,q,Fe,y)}}function wh(y){return function(_,q){return typeof _=="string"&&typeof q=="string"||(_=Bf(_),q=Bf(q)),y(_,q)}}function Sh(y,_,q,Fe,wt,rn,rr,Sr,qr,qi){var to=_&fe,Mo=to?rr:d,Ma=to?d:rr,ia=to?rn:d,Ls=to?d:rn;_|=to?ie:ve,_&=~(to?ve:ie),_&re||(_&=~(K|Y));var ml=[y,_,wt,ia,Mo,Ls,Ma,Sr,qr,qi],Is=q.apply(d,ml);return Co(y)&&Bc(Is,ml),Is.placeholder=Fe,sl(Is,y,_)}function Md(y){var _=Yi[y];return function(q,Fe){if(q=Bf(q),Fe=Fe==null?0:Ts($s(Fe),292),Fe&&ll(q)){var wt=(ac(q)+"e").split("e"),rn=_(wt[0]+"e"+(+wt[1]+Fe));return wt=(ac(rn)+"e").split("e"),+(wt[0]+"e"+(+wt[1]-Fe))}return _(q)}}var dd=bs&&1/wr(new bs([,-0]))[1]==Mt?function(y){return new bs(y)}:$p;function ov(y){return function(_){var q=Ui(_);return q==Ft?nn(_):q==it?Nr(_):qo(_,y(_))}}function td(y,_,q,Fe,wt,rn,rr,Sr){var qr=_&Y;if(!qr&&typeof y!="function")throw new ji(A);var qi=Fe?Fe.length:0;if(qi||(_&=~(ie|ve),Fe=wt=d),rr=rr===d?rr:Ha($s(rr),0),Sr=Sr===d?Sr:$s(Sr),qi-=wt?wt.length:0,_&ve){var to=Fe,Mo=wt;Fe=wt=d}var Ma=qr?d:Jt(y),ia=[y,_,q,Fe,wt,to,Mo,rn,rr,Sr];if(Ma&&Es(ia,Ma),y=ia[0],_=ia[1],q=ia[2],Fe=ia[3],wt=ia[4],Sr=ia[9]=ia[9]===d?qr?0:y.length:Ha(ia[9]-qi,0),!Sr&&_&(fe|le)&&(_&=~(fe|le)),!_||_==K)var Ls=sh(y,_,q);else _==fe||_==le?Ls=Kh(y,_,Sr):(_==ie||_==(K|ie))&&!wt.length?Ls=pg(y,_,q,Fe):Ls=Lf.apply(d,ia);var ml=Ma?Ac:Bc;return sl(ml(Ls,ia),y,_)}function Mh(y,_,q,Fe){return y===d||aa(y,La[q])&&!sa.call(Fe,q)?_:y}function Np(y,_,q,Fe,wt,rn){return Yc(y)&&Yc(_)&&(rn.set(_,y),Ho(y,_,d,Np,rn),rn.delete(_)),y}function Qh(y){return ap(y)?d:y}function hd(y,_,q,Fe,wt,rn){var rr=q&Q,Sr=y.length,qr=_.length;if(Sr!=qr&&!(rr&&qr>Sr))return!1;var qi=rn.get(y),to=rn.get(_);if(qi&&to)return qi==_&&to==y;var Mo=-1,Ma=!0,ia=q&J?new Tc:d;for(rn.set(y,_),rn.set(_,y);++Mo<Sr;){var Ls=y[Mo],ml=_[Mo];if(Fe)var Is=rr?Fe(ml,Ls,Mo,_,y,rn):Fe(Ls,ml,Mo,y,_,rn);if(Is!==d){if(Is)continue;Ma=!1;break}if(ia){if(!es(_,function(Ll,wl){if(!Si(ia,wl)&&(Ls===Ll||wt(Ls,Ll,q,Fe,rn)))return ia.push(wl)})){Ma=!1;break}}else if(!(Ls===ml||wt(Ls,ml,q,Fe,rn))){Ma=!1;break}}return rn.delete(y),rn.delete(_),Ma}function Jh(y,_,q,Fe,wt,rn,rr){switch(q){case Et:if(y.byteLength!=_.byteLength||y.byteOffset!=_.byteOffset)return!1;y=y.buffer,_=_.buffer;case He:return!(y.byteLength!=_.byteLength||!rn(new us(y),new us(_)));case ht:case Wt:case qt:return aa(+y,+_);case Lt:return y.name==_.name&&y.message==_.message;case ee:case Ze:return y==_+"";case Ft:var Sr=nn;case it:var qr=Fe&Q;if(Sr||(Sr=wr),y.size!=_.size&&!qr)return!1;var qi=rr.get(y);if(qi)return qi==_;Fe|=J,rr.set(y,_);var to=hd(Sr(y),Sr(_),Fe,wt,rn,rr);return rr.delete(y),to;case ot:if(dc)return dc.call(y)==dc.call(_)}return!1}function Ph(y,_,q,Fe,wt,rn){var rr=q&Q,Sr=Rp(y),qr=Sr.length,qi=Rp(_),to=qi.length;if(qr!=to&&!rr)return!1;for(var Mo=qr;Mo--;){var Ma=Sr[Mo];if(!(rr?Ma in _:sa.call(_,Ma)))return!1}var ia=rn.get(y),Ls=rn.get(_);if(ia&&Ls)return ia==_&&Ls==y;var ml=!0;rn.set(y,_),rn.set(_,y);for(var Is=rr;++Mo<qr;){Ma=Sr[Mo];var Ll=y[Ma],wl=_[Ma];if(Fe)var Ou=rr?Fe(wl,Ll,Ma,_,y,rn):Fe(Ll,wl,Ma,y,_,rn);if(!(Ou===d?Ll===wl||wt(Ll,wl,q,Fe,rn):Ou)){ml=!1;break}Is||(Is=Ma=="constructor")}if(ml&&!Is){var df=y.constructor,Eu=_.constructor;df!=Eu&&"constructor"in y&&"constructor"in _&&!(typeof df=="function"&&df instanceof df&&typeof Eu=="function"&&Eu instanceof Eu)&&(ml=!1)}return rn.delete(y),rn.delete(_),ml}function pd(y){return Rc(vs(y,d,fn),y+"")}function Rp(y){return pc(y,Yu,Xi)}function $e(y){return pc(y,Wf,zi)}var Jt=Bs?function(y){return Bs.get(y)}:$p;function Gn(y){for(var _=y.name+"",q=ts[_],Fe=sa.call(ts,_)?q.length:0;Fe--;){var wt=q[Fe],rn=wt.func;if(rn==null||rn==y)return wt.name}return _}function Kr(y){var _=sa.call(yt,"placeholder")?yt:y;return _.placeholder}function Br(){var y=yt.iteratee||Ih;return y=y===Ih?we:y,arguments.length?y(arguments[0],arguments[1]):y}function Yr(y,_){var q=y.__data__;return Ci(_)?q[typeof _=="string"?"string":"hash"]:q.map}function ri(y){for(var _=Yu(y),q=_.length;q--;){var Fe=_[q],wt=y[Fe];_[q]=[Fe,wt,no(wt)]}return _}function Ii(y,_){var q=se(y,_);return Nt(q)?q:d}function Wi(y){var _=sa.call(y,Bl),q=y[Bl];try{y[Bl]=d;var Fe=!0}catch(rn){}var wt=qs.call(y);return Fe&&(_?y[Bl]=q:delete y[Bl]),wt}var Xi=bc?function(y){return y==null?[]:(y=ui(y),Mr(bc(y),function(_){return Ys.call(y,_)}))}:Rg,zi=bc?function(y){for(var _=[];y;)ao(_,Xi(y)),y=zs(y);return _}:Rg,Ui=Ql;(sc&&Ui(new sc(new ArrayBuffer(1)))!=Et||Cl&&Ui(new Cl)!=Ft||cl&&Ui(cl.resolve())!=An||bs&&Ui(new bs)!=it||Ia&&Ui(new Ia)!=et)&&(Ui=function(y){var _=Ql(y),q=_==kn?y.constructor:d,Fe=q?Ic(q):"";if(Fe)switch(Fe){case Cs:return Et;case Ul:return Ft;case Lc:return An;case rl:return it;case Du:return et}return _});function _o(y,_,q){for(var Fe=-1,wt=q.length;++Fe<wt;){var rn=q[Fe],rr=rn.size;switch(rn.type){case"drop":y+=rr;break;case"dropRight":_-=rr;break;case"take":_=Ts(_,y+rr);break;case"takeRight":y=Ha(y,_-rr);break}}return{start:y,end:_}}function Vi(y){var _=y.match(or);return _?_[1].split(ir):[]}function vo(y,_,q){_=wf(_,y);for(var Fe=-1,wt=_.length,rn=!1;++Fe<wt;){var rr=vc(_[Fe]);if(!(rn=y!=null&&q(y,rr)))break;y=y[rr]}return rn||++Fe!=wt?rn:(wt=y==null?0:y.length,!!wt&&Vd(wt)&&Go(rr,wt)&&(Ss(y)||ch(y)))}function Gr(y){var _=y.length,q=new y.constructor(_);return _&&typeof y[0]=="string"&&sa.call(y,"index")&&(q.index=y.index,q.input=y.input),q}function li(y){return typeof y.constructor=="function"&&!Eo(y)?Ga(zs(y)):{}}function Ji(y,_,q){var Fe=y.constructor;switch(_){case He:return xh(y);case ht:case Wt:return new Fe(+y);case Et:return ah(y,q);case Vt:case On:case Wn:case pr:case Cr:case Sn:case Cn:case Fn:case Hn:return zd(y,q);case Ft:return new Fe;case qt:case Ze:return new Fe(y);case ee:return uf(y);case it:return new Fe;case ot:return ug(y)}}function Zo(y,_){var q=_.length;if(!q)return y;var Fe=q-1;return _[Fe]=(q>1?"& ":"")+_[Fe],_=_.join(q>2?", ":" "),y.replace(Zt,`{
/* [wrapped with `+_+`] */
`)}function Di(y){return Ss(y)||ch(y)||!!(_s&&y&&y[_s])}function Go(y,_){var q=typeof y;return _=_==null?It:_,!!_&&(q=="number"||q!="symbol"&&R.test(y))&&y>-1&&y%1==0&&y<_}function Mi(y,_,q){if(!Yc(q))return!1;var Fe=typeof _;return(Fe=="number"?pu(q)&&Go(_,q.length):Fe=="string"&&_ in q)?aa(q[_],y):!1}function bo(y,_){if(Ss(y))return!1;var q=typeof y;return q=="number"||q=="symbol"||q=="boolean"||y==null||$f(y)?!0:Mn.test(y)||!ur.test(y)||_!=null&&y in ui(_)}function Ci(y){var _=typeof y;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?y!=="__proto__":y===null}function Co(y){var _=Gn(y),q=yt[_];if(typeof q!="function"||!(_ in fs.prototype))return!1;if(y===q)return!0;var Fe=Jt(q);return!!Fe&&y===Fe[0]}function Na(y){return!!Ks&&Ks in y}var gs=Ua?Gf:Zu;function Eo(y){var _=y&&y.constructor,q=typeof _=="function"&&_.prototype||La;return y===q}function no(y){return y===y&&!Yc(y)}function Oi(y,_){return function(q){return q==null?!1:q[y]===_&&(_!==d||y in ui(q))}}function Xa(y){var _=wg(y,function(Fe){return q.size===k&&q.clear(),Fe}),q=_.cache;return _}function Es(y,_){var q=y[1],Fe=_[1],wt=q|Fe,rn=wt<(K|Y|Oe),rr=Fe==Oe&&q==fe||Fe==Oe&&q==L&&y[7].length<=_[8]||Fe==(Oe|L)&&_[7].length<=_[8]&&q==fe;if(!(rn||rr))return y;Fe&K&&(y[2]=_[2],wt|=q&K?0:re);var Sr=_[3];if(Sr){var qr=y[3];y[3]=qr?_p(qr,Sr,_[4]):Sr,y[4]=qr?Vn(y[3],Z):_[4]}return Sr=_[5],Sr&&(qr=y[5],y[5]=qr?cd(qr,Sr,_[6]):Sr,y[6]=qr?Vn(y[5],Z):_[6]),Sr=_[7],Sr&&(y[7]=Sr),Fe&Oe&&(y[8]=y[8]==null?_[8]:Ts(y[8],_[8])),y[9]==null&&(y[9]=_[9]),y[0]=_[0],y[1]=wt,y}function la(y){var _=[];if(y!=null)for(var q in ui(y))_.push(q);return _}function Zs(y){return qs.call(y)}function vs(y,_,q){return _=Ha(_===d?y.length-1:_,0),function(){for(var Fe=arguments,wt=-1,rn=Ha(Fe.length-_,0),rr=an(rn);++wt<rn;)rr[wt]=Fe[_+wt];wt=-1;for(var Sr=an(_+1);++wt<_;)Sr[wt]=Fe[wt];return Sr[_]=q(rr),tt(y,this,Sr)}}function Os(y,_){return _.length<2?y:rc(y,gc(_,0,-1))}function hl(y,_){for(var q=y.length,Fe=Ts(_.length,q),wt=Bu(y);Fe--;){var rn=_[Fe];y[Fe]=Go(rn,q)?wt[rn]:d}return y}function Wc(y,_){if(!(_==="constructor"&&typeof y[_]=="function")&&_!="__proto__")return y[_]}var Bc=jl(Ac),Ns=uc||function(y,_){return qa.setTimeout(y,_)},Rc=jl(cc);function sl(y,_,q){var Fe=_+"";return Rc(y,Zo(Fe,Hc(Vi(Fe),q)))}function jl(y){var _=0,q=0;return function(){var Fe=Yl(),wt=he-(Fe-q);if(q=Fe,wt>0){if(++_>=je)return arguments[0]}else _=0;return y.apply(d,arguments)}}function xc(y,_){var q=-1,Fe=y.length,wt=Fe-1;for(_=_===d?Fe:_;++q<_;){var rn=Oc(q,wt),rr=y[rn];y[rn]=y[q],y[q]=rr}return y.length=_,y}var Al=Xa(function(y){var _=[];return y.charCodeAt(0)===46&&_.push(""),y.replace(zr,function(q,Fe,wt,rn){_.push(wt?rn.replace($r,"$1"):Fe||q)}),_});function vc(y){if(typeof y=="string"||$f(y))return y;var _=y+"";return _=="0"&&1/y==-Mt?"-0":_}function Ic(y){if(y!=null){try{return cs.call(y)}catch(_){}try{return y+""}catch(_){}}return""}function Hc(y,_){return _n(Ae,function(q){var Fe="_."+q[0];_&q[1]&&!Dr(y,Fe)&&y.push(Fe)}),y.sort()}function ws(y){if(y instanceof fs)return y.clone();var _=new ps(y.__wrapped__,y.__chain__);return _.__actions__=Bu(y.__actions__),_.__index__=y.__index__,_.__values__=y.__values__,_}function Tu(y,_,q){(q?Mi(y,_,q):_===d)?_=1:_=Ha($s(_),0);var Fe=y==null?0:y.length;if(!Fe||_<1)return[];for(var wt=0,rn=0,rr=an(Uc(Fe/_));wt<Fe;)rr[rn++]=gc(y,wt,wt+=_);return rr}function Dl(y){for(var _=-1,q=y==null?0:y.length,Fe=0,wt=[];++_<q;){var rn=y[_];rn&&(wt[Fe++]=rn)}return wt}function za(){var y=arguments.length;if(!y)return[];for(var _=an(y-1),q=arguments[0],Fe=y;Fe--;)_[Fe-1]=arguments[Fe];return ao(Ss(q)?Bu(q):[q],Gc(_,1))}var js=eo(function(y,_){return Zc(y)?lf(y,Gc(_,1,Zc,!0)):[]}),pl=eo(function(y,_){var q=mr(_);return Zc(q)&&(q=d),Zc(y)?lf(y,Gc(_,1,Zc,!0),Br(q,2)):[]}),Kc=eo(function(y,_){var q=mr(_);return Zc(q)&&(q=d),Zc(y)?lf(y,Gc(_,1,Zc,!0),d,q):[]});function nd(y,_,q){var Fe=y==null?0:y.length;return Fe?(_=q||_===d?1:$s(_),gc(y,_<0?0:_,Fe)):[]}function Pd(y,_,q){var Fe=y==null?0:y.length;return Fe?(_=q||_===d?1:$s(_),_=Fe-_,gc(y,0,_<0?0:_)):[]}function Tn(y,_){return y&&y.length?Ed(y,Br(_,3),!0,!0):[]}function er(y,_){return y&&y.length?Ed(y,Br(_,3),!0):[]}function Xr(y,_,q,Fe){var wt=y==null?0:y.length;return wt?(q&&typeof q!="number"&&Mi(y,_,q)&&(q=0,Fe=wt),ld(y,_,q,Fe)):[]}function na(y,_,q){var Fe=y==null?0:y.length;if(!Fe)return-1;var wt=q==null?0:$s(q);return wt<0&&(wt=Ha(Fe+wt,0)),cr(y,Br(_,3),wt)}function Rs(y,_,q){var Fe=y==null?0:y.length;if(!Fe)return-1;var wt=Fe-1;return q!==d&&(wt=$s(q),wt=q<0?Ha(Fe+wt,0):Ts(wt,Fe-1)),cr(y,Br(_,3),wt,!0)}function fn(y){var _=y==null?0:y.length;return _?Gc(y,1):[]}function Ut(y){var _=y==null?0:y.length;return _?Gc(y,Mt):[]}function tr(y,_){var q=y==null?0:y.length;return q?(_=_===d?1:$s(_),Gc(y,_)):[]}function Rr(y){for(var _=-1,q=y==null?0:y.length,Fe={};++_<q;){var wt=y[_];Fe[wt[0]]=wt[1]}return Fe}function Fr(y){return y&&y.length?y[0]:d}function ar(y,_,q){var Fe=y==null?0:y.length;if(!Fe)return-1;var wt=q==null?0:$s(q);return wt<0&&(wt=Ha(Fe+wt,0)),mn(y,_,wt)}function Jn(y){var _=y==null?0:y.length;return _?gc(y,0,-1):[]}var vr=eo(function(y){var _=Er(y,nf);return _.length&&_[0]===y[0]?lu(_):[]}),Qt=eo(function(y){var _=mr(y),q=Er(y,nf);return _===mr(q)?_=d:q.pop(),q.length&&q[0]===y[0]?lu(q,Br(_,2)):[]}),Zn=eo(function(y){var _=mr(y),q=Er(y,nf);return _=typeof _=="function"?_:d,_&&q.pop(),q.length&&q[0]===y[0]?lu(q,d,_):[]});function ln(y,_){return y==null?"":fc.call(y,_)}function mr(y){var _=y==null?0:y.length;return _?y[_-1]:d}function Zr(y,_,q){var Fe=y==null?0:y.length;if(!Fe)return-1;var wt=Fe;return q!==d&&(wt=$s(q),wt=wt<0?Ha(Fe+wt,0):Ts(wt,Fe-1)),_===_?bi(y,_,wt):cr(y,ei,wt,!0)}function pi(y,_){return y&&y.length?ns(y,$s(_)):d}var vi=eo(Jr);function Jr(y,_){return y&&y.length&&_&&_.length?dl(y,_):y}function Hi(y,_,q){return y&&y.length&&_&&_.length?dl(y,_,Br(q,2)):y}function va(y,_,q){return y&&y.length&&_&&_.length?dl(y,_,d,q):y}var ms=pd(function(y,_){var q=y==null?0:y.length,Fe=Iu(y,_);return al(y,Er(_,function(wt){return Go(wt,q)?+wt:wt}).sort(fg)),Fe});function $o(y,_){var q=[];if(!(y&&y.length))return q;var Fe=-1,wt=[],rn=y.length;for(_=Br(_,3);++Fe<rn;){var rr=y[Fe];_(rr,Fe,y)&&(q.push(rr),wt.push(Fe))}return al(y,wt),q}function _a(y){return y==null?y:Wl.call(y)}function as(y,_,q){var Fe=y==null?0:y.length;return Fe?(q&&typeof q!="number"&&Mi(y,_,q)?(_=0,q=Fe):(_=_==null?0:$s(_),q=q===d?Fe:$s(q)),gc(y,_,q)):[]}function Qs(y,_){return Cc(y,_)}function mc(y,_,q){return bu(y,_,Br(q,2))}function Hu(y,_){var q=y==null?0:y.length;if(q){var Fe=Cc(y,_);if(Fe<q&&aa(y[Fe],_))return Fe}return-1}function lh(y,_){return Cc(y,_,!0)}function Sf(y,_,q){return bu(y,_,Br(q,2),!0)}function Th(y,_){var q=y==null?0:y.length;if(q){var Fe=Cc(y,_,!0)-1;if(aa(y[Fe],_))return Fe}return-1}function cu(y){return y&&y.length?vl(y):[]}function qh(y,_){return y&&y.length?vl(y,Br(_,2)):[]}function ep(y){var _=y==null?0:y.length;return _?gc(y,1,_):[]}function em(y,_,q){return y&&y.length?(_=q||_===d?1:$s(_),gc(y,0,_<0?0:_)):[]}function gg(y,_,q){var Fe=y==null?0:y.length;return Fe?(_=q||_===d?1:$s(_),_=Fe-_,gc(y,_<0?0:_,Fe)):[]}function r0(y,_){return y&&y.length?Ed(y,Br(_,3),!1,!0):[]}function Ip(y,_){return y&&y.length?Ed(y,Br(_,3)):[]}var vg=eo(function(y){return Fu(Gc(y,1,Zc,!0))}),av=eo(function(y){var _=mr(y);return Zc(_)&&(_=d),Fu(Gc(y,1,Zc,!0),Br(_,2))}),sv=eo(function(y){var _=mr(y);return _=typeof _=="function"?_:d,Fu(Gc(y,1,Zc,!0),d,_)});function i0(y){return y&&y.length?Fu(y):[]}function lv(y,_){return y&&y.length?Fu(y,Br(_,2)):[]}function tp(y,_){return _=typeof _=="function"?_:d,y&&y.length?Fu(y,d,_):[]}function kp(y){if(!(y&&y.length))return[];var _=0;return y=Mr(y,function(q){if(Zc(q))return _=Ha(q.length,_),!0}),Io(_,function(q){return Er(y,ki(q))})}function Il(y,_){if(!(y&&y.length))return[];var q=kp(y);return _==null?q:Er(q,function(Fe){return tt(_,d,Fe)})}var cv=eo(function(y,_){return Zc(y)?lf(y,_):[]}),np=eo(function(y){return nh(Mr(y,Zc))}),Oh=eo(function(y){var _=mr(y);return Zc(_)&&(_=d),nh(Mr(y,Zc),Br(_,2))}),mg=eo(function(y){var _=mr(y);return _=typeof _=="function"?_:d,nh(Mr(y,Zc),d,_)}),tm=eo(kp);function ub(y,_){return Bd(y||[],_||[],ol)}function fb(y,_){return Bd(y||[],_||[],_c)}var db=eo(function(y){var _=y.length,q=_>1?y[_-1]:d;return q=typeof q=="function"?(y.pop(),q):d,Il(y,q)});function o0(y){var _=yt(y);return _.__chain__=!0,_}function a0(y,_){return _(y),y}function rp(y,_){return _(y)}var _h=pd(function(y){var _=y.length,q=_?y[0]:0,Fe=this.__wrapped__,wt=function(rn){return Iu(rn,y)};return _>1||this.__actions__.length||!(Fe instanceof fs)||!Go(q)?this.thru(wt):(Fe=Fe.slice(q,+q+(_?1:0)),Fe.__actions__.push({func:rp,args:[wt],thisArg:d}),new ps(Fe,this.__chain__).thru(function(rn){return _&&!rn.length&&rn.push(d),rn}))});function nm(){return o0(this)}function uv(){return new ps(this.value(),this.__chain__)}function yg(){this.__values__===d&&(this.__values__=Tg(this.value()));var y=this.__index__>=this.__values__.length,_=y?d:this.__values__[this.__index__++];return{done:y,value:_}}function bg(){return this}function fv(y){for(var _,q=this;q instanceof fl;){var Fe=ws(q);Fe.__index__=0,Fe.__values__=d,_?wt.__wrapped__=Fe:_=Fe;var wt=Fe;q=q.__wrapped__}return wt.__wrapped__=y,_}function dv(){var y=this.__wrapped__;if(y instanceof fs){var _=y;return this.__actions__.length&&(_=new fs(this)),_=_.reverse(),_.__actions__.push({func:rp,args:[_a],thisArg:d}),new ps(_,this.__chain__)}return this.thru(_a)}function hv(){return th(this.__wrapped__,this.__actions__)}var Cg=Eh(function(y,_,q){sa.call(y,q)?++y[q]:hc(y,q,1)});function pv(y,_,q){var Fe=Ss(y)?Un:Lu;return q&&Mi(y,_,q)&&(_=d),Fe(y,Br(_,3))}function xg(y,_){var q=Ss(y)?Mr:cf;return q(y,Br(_,3))}var El=Yh(na),hb=Yh(Rs);function gv(y,_){return Gc(Eg(y,_),1)}function pb(y,_){return Gc(Eg(y,_),Mt)}function gb(y,_,q){return q=q===d?1:$s(q),Gc(Eg(y,_),q)}function gl(y,_){var q=Ss(y)?_n:$c;return q(y,Br(_,3))}function Ah(y,_){var q=Ss(y)?Dn:sd;return q(y,Br(_,3))}var rm=Eh(function(y,_,q){sa.call(y,q)?y[q].push(_):hc(y,q,[_])});function Lp(y,_,q,Fe){y=pu(y)?y:Up(y),q=q&&!Fe?$s(q):0;var wt=y.length;return q<0&&(q=Ha(wt+q,0)),Ec(y)?q<=wt&&y.indexOf(_,q)>-1:!!wt&&mn(y,_,q)>-1}var Td=eo(function(y,_,q){var Fe=-1,wt=typeof _=="function",rn=pu(y)?an(y.length):[];return $c(y,function(rr){rn[++Fe]=wt?tt(_,rr,q):Ef(rr,_,q)}),rn}),im=Eh(function(y,_,q){hc(y,q,_)});function Eg(y,_){var q=Ss(y)?Er:Wr;return q(y,Br(_,3))}function Dh(y,_,q,Fe){return y==null?[]:(Ss(_)||(_=_==null?[]:[_]),q=Fe?d:q,Ss(q)||(q=q==null?[]:[q]),xs(y,_,q))}var Bn=Eh(function(y,_,q){y[q?0:1].push(_)},function(){return[[],[]]});function Oo(y,_,q){var Fe=Ss(y)?oo:Ro,wt=arguments.length<3;return Fe(y,Br(_,4),q,wt,$c)}function Ra(y,_,q){var Fe=Ss(y)?ba:Ro,wt=arguments.length<3;return Fe(y,Br(_,4),q,wt,sd)}function gd(y,_){var q=Ss(y)?Mr:cf;return q(y,ip(Br(_,3)))}function du(y){var _=Ss(y)?nu:As;return _(y)}function hu(y,_,q){(q?Mi(y,_,q):_===d)?_=1:_=$s(_);var Fe=Ss(y)?eh:ic;return Fe(y,_)}function vv(y){var _=Ss(y)?Vf:Pu;return _(y)}function Mf(y){if(y==null)return 0;if(pu(y))return Ec(y)?Hr(y):y.length;var _=Ui(y);return _==Ft||_==it?y.size:qe(y).length}function Fp(y,_,q){var Fe=Ss(y)?es:fu;return q&&Mi(y,_,q)&&(_=d),Fe(y,Br(_,3))}var Gp=eo(function(y,_){if(y==null)return[];var q=_.length;return q>1&&Mi(y,_[0],_[1])?_=[]:q>2&&Mi(_[0],_[1],_[2])&&(_=[_[0]]),xs(y,Gc(_,1),[])}),Ff=zl||function(){return qa.Date.now()};function Bp(y,_){if(typeof _!="function")throw new ji(A);return y=$s(y),function(){if(--y<1)return _.apply(this,arguments)}}function s0(y,_,q){return _=q?d:_,_=y&&_==null?y.length:_,td(y,Oe,d,d,d,d,_)}function l0(y,_){var q;if(typeof _!="function")throw new ji(A);return y=$s(y),function(){return--y>0&&(q=_.apply(this,arguments)),y<=1&&(_=d),q}}var c0=eo(function(y,_,q){var Fe=K;if(q.length){var wt=Vn(q,Kr(c0));Fe|=ie}return td(y,Fe,_,q,wt)}),om=eo(function(y,_,q){var Fe=K|Y;if(q.length){var wt=Vn(q,Kr(om));Fe|=ie}return td(_,Fe,y,q,wt)});function am(y,_,q){_=q?d:_;var Fe=td(y,fe,d,d,d,d,d,_);return Fe.placeholder=am.placeholder,Fe}function sm(y,_,q){_=q?d:_;var Fe=td(y,le,d,d,d,d,d,_);return Fe.placeholder=sm.placeholder,Fe}function lm(y,_,q){var Fe,wt,rn,rr,Sr,qr,qi=0,to=!1,Mo=!1,Ma=!0;if(typeof y!="function")throw new ji(A);_=Bf(_)||0,Yc(q)&&(to=!!q.leading,Mo="maxWait"in q,rn=Mo?Ha(Bf(q.maxWait)||0,_):rn,Ma="trailing"in q?!!q.trailing:Ma);function ia(mu){var vd=Fe,Hd=wt;return Fe=wt=d,qi=mu,rr=y.apply(Hd,vd),rr}function Ls(mu){return qi=mu,Sr=Ns(Ll,_),to?ia(mu):rr}function ml(mu){var vd=mu-qr,Hd=mu-qi,S0=_-vd;return Mo?Ts(S0,rn-Hd):S0}function Is(mu){var vd=mu-qr,Hd=mu-qi;return qr===d||vd>=_||vd<0||Mo&&Hd>=rn}function Ll(){var mu=Ff();if(Is(mu))return wl(mu);Sr=Ns(Ll,ml(mu))}function wl(mu){return Sr=d,Ma&&Fe?ia(mu):(Fe=wt=d,rr)}function Ou(){Sr!==d&&ih(Sr),qi=0,Fe=qr=wt=Sr=d}function df(){return Sr===d?rr:wl(Ff())}function Eu(){var mu=Ff(),vd=Is(mu);if(Fe=arguments,wt=this,qr=mu,vd){if(Sr===d)return Ls(qr);if(Mo)return ih(Sr),Sr=Ns(Ll,_),ia(qr)}return Sr===d&&(Sr=Ns(Ll,_)),rr}return Eu.cancel=Ou,Eu.flush=df,Eu}var vb=eo(function(y,_){return Nf(y,1,_)}),u0=eo(function(y,_,q){return Nf(y,Bf(_)||0,q)});function mb(y){return td(y,Pe)}function wg(y,_){if(typeof y!="function"||_!=null&&typeof _!="function")throw new ji(A);var q=function(){var Fe=arguments,wt=_?_.apply(this,Fe):Fe[0],rn=q.cache;if(rn.has(wt))return rn.get(wt);var rr=y.apply(this,Fe);return q.cache=rn.set(wt,rr)||rn,rr};return q.cache=new(wg.Cache||ef),q}wg.Cache=ef;function ip(y){if(typeof y!="function")throw new ji(A);return function(){var _=arguments;switch(_.length){case 0:return!y.call(this);case 1:return!y.call(this,_[0]);case 2:return!y.call(this,_[0],_[1]);case 3:return!y.call(this,_[0],_[1],_[2])}return!y.apply(this,_)}}function cm(y){return l0(2,y)}var rs=rh(function(y,_){_=_.length==1&&Ss(_[0])?Er(_[0],jo(Br())):Er(Gc(_,1),jo(Br()));var q=_.length;return eo(function(Fe){for(var wt=-1,rn=Ts(Fe.length,q);++wt<rn;)Fe[wt]=_[wt].call(this,Fe[wt]);return tt(y,this,Fe)})}),ma=eo(function(y,_){var q=Vn(_,Kr(ma));return td(y,ie,d,_,q)}),f0=eo(function(y,_){var q=Vn(_,Kr(f0));return td(y,ve,d,_,q)}),um=pd(function(y,_){return td(y,L,d,d,d,_)});function mv(y,_){if(typeof y!="function")throw new ji(A);return _=_===d?_:$s(_),eo(y,_)}function Sg(y,_){if(typeof y!="function")throw new ji(A);return _=_==null?0:Ha($s(_),0),eo(function(q){var Fe=q[_],wt=If(q,0,_);return Fe&&ao(wt,Fe),tt(y,this,wt)})}function fm(y,_,q){var Fe=!0,wt=!0;if(typeof y!="function")throw new ji(A);return Yc(q)&&(Fe="leading"in q?!!q.leading:Fe,wt="trailing"in q?!!q.trailing:wt),lm(y,_,{leading:Fe,maxWait:_,trailing:wt})}function yv(y){return s0(y,1)}function dm(y,_){return ma(Zd(_),y)}function bv(){if(!arguments.length)return[];var y=arguments[0];return Ss(y)?y:[y]}function Wa(y){return Fc(y,te)}function oa(y,_){return _=typeof _=="function"?_:d,Fc(y,te,_)}function ss(y){return Fc(y,U|te)}function Qa(y,_){return _=typeof _=="function"?_:d,Fc(y,U|te,_)}function d0(y,_){return _==null||_l(y,_,Yu(_))}function aa(y,_){return y===_||y!==y&&_!==_}var kl=wh(ed),Zp=wh(function(y,_){return y>=_}),ch=Ee(function(){return arguments}())?Ee:function(y){return Xc(y)&&sa.call(y,"callee")&&!Ys.call(y,"callee")},Ss=an.isArray,uh=Pl?jo(Pl):Le;function pu(y){return y!=null&&Vd(y.length)&&!Gf(y)}function Zc(y){return Xc(y)&&pu(y)}function ho(y){return y===!0||y===!1||Xc(y)&&Ql(y)==ht}var Ai=kc||Zu,zp=F?jo(F):at;function hm(y){return Xc(y)&&y.nodeType===1&&!ap(y)}function h0(y){if(y==null)return!0;if(pu(y)&&(Ss(y)||typeof y=="string"||typeof y.splice=="function"||Ai(y)||Nh(y)||ch(y)))return!y.length;var _=Ui(y);if(_==Ft||_==it)return!y.size;if(Eo(y))return!qe(y).length;for(var q in y)if(sa.call(y,q))return!1;return!0}function ff(y,_){return ct(y,_)}function Ku(y,_,q){q=typeof q=="function"?q:d;var Fe=q?q(y,_):d;return Fe===d?ct(y,_,d,q):!!Fe}function Ms(y){if(!Xc(y))return!1;var _=Ql(y);return _==Lt||_==Yt||typeof y.message=="string"&&typeof y.name=="string"&&!ap(y)}function op(y){return typeof y=="number"&&ll(y)}function Gf(y){if(!Yc(y))return!1;var _=Ql(y);return _==Dt||_==lt||_==Re||_==Kn}function Ud(y){return typeof y=="number"&&y==$s(y)}function Vd(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=It}function Yc(y){var _=typeof y;return y!=null&&(_=="object"||_=="function")}function Xc(y){return y!=null&&typeof y=="object"}var Mg=X?jo(X):mt;function Cv(y,_){return y===_||St(y,_,ri(_))}function Pg(y,_,q){return q=typeof q=="function"?q:d,St(y,_,ri(_),q)}function rd(y){return Ev(y)&&y!=+y}function xv(y){if(gs(y))throw new Ur(x);return Nt(y)}function id(y){return y===null}function Pf(y){return y==null}function Ev(y){return typeof y=="number"||Xc(y)&&Ql(y)==qt}function ap(y){if(!Xc(y)||Ql(y)!=kn)return!1;var _=zs(y);if(_===null)return!0;var q=sa.call(_,"constructor")&&_.constructor;return typeof q=="function"&&q instanceof q&&cs.call(q)==yl}var ai=ge?jo(ge):O;function gu(y){return Ud(y)&&y>=-It&&y<=It}var Od=_e?jo(_e):V;function Ec(y){return typeof y=="string"||!Ss(y)&&Xc(y)&&Ql(y)==Ze}function $f(y){return typeof y=="symbol"||Xc(y)&&Ql(y)==ot}var Nh=Je?jo(Je):ae;function pm(y){return y===d}function gm(y){return Xc(y)&&Ui(y)==et}function vm(y){return Xc(y)&&Ql(y)==pt}var sp=wh(In),p0=wh(function(y,_){return y<=_});function Tg(y){if(!y)return[];if(pu(y))return Ec(y)?_r(y):Bu(y);if(Tl&&y[Tl])return Ct(y[Tl]());var _=Ui(y),q=_==Ft?nn:_==it?wr:Up;return q(y)}function _d(y){if(!y)return y===0?y:0;if(y=Bf(y),y===Mt||y===-Mt){var _=y<0?-1:1;return _*Ve}return y===y?y:0}function $s(y){var _=_d(y),q=_%1;return _===_?q?_-q:_:0}function Og(y){return y?ku($s(y),0,Qe):0}function Bf(y){if(typeof y=="number")return y;if($f(y))return Me;if(Yc(y)){var _=typeof y.valueOf=="function"?y.valueOf():y;y=Yc(_)?_+"":_}if(typeof y!="string")return y===0?y:+y;y=Vo(y);var q=ue.test(y);return q||oe.test(y)?Gs(y.slice(2),q?2:8):un.test(y)?Me:+y}function jd(y){return kf(y,Wf(y))}function wv(y){return y?ku($s(y),-It,It):y===0?y:0}function ac(y){return y==null?"":Dc(y)}var yb=ud(function(y,_){if(Eo(_)||pu(_)){kf(_,Yu(_),y);return}for(var q in _)sa.call(_,q)&&ol(y,q,_[q])}),mm=ud(function(y,_){kf(_,Wf(_),y)}),Sv=ud(function(y,_,q,Fe){kf(_,Wf(_),y,Fe)}),ym=ud(function(y,_,q,Fe){kf(_,Yu(_),y,Fe)}),bm=pd(Iu);function bb(y,_){var q=Ga(y);return _==null?q:Ru(q,_)}var Cb=eo(function(y,_){y=ui(y);var q=-1,Fe=_.length,wt=Fe>2?_[2]:d;for(wt&&Mi(_[0],_[1],wt)&&(Fe=1);++q<Fe;)for(var rn=_[q],rr=Wf(rn),Sr=-1,qr=rr.length;++Sr<qr;){var qi=rr[Sr],to=y[qi];(to===d||aa(to,La[qi])&&!sa.call(y,qi))&&(y[qi]=rn[qi])}return y}),Mv=eo(function(y){return y.push(d,Np),tt(Mm,d,y)});function _g(y,_){return xn(y,Br(_,3),au)}function ru(y,_){return xn(y,Br(_,3),su)}function xb(y,_){return y==null?y:bf(y,Br(_,3),Wf)}function Eb(y,_){return y==null?y:qf(y,Br(_,3),Wf)}function g0(y,_){return y&&au(y,Br(_,3))}function v0(y,_){return y&&su(y,Br(_,3))}function wb(y){return y==null?[]:Cf(y,Yu(y))}function Cm(y){return y==null?[]:Cf(y,Wf(y))}function Pv(y,_,q){var Fe=y==null?d:rc(y,_);return Fe===d?q:Fe}function lp(y,_){return y!=null&&vo(y,_,Rf)}function m0(y,_){return y!=null&&vo(y,_,xf)}var Sb=Nc(function(y,_,q){_!=null&&typeof _.toString!="function"&&(_=qs.call(_)),y[_]=q},jp(Tf)),xm=Nc(function(y,_,q){_!=null&&typeof _.toString!="function"&&(_=qs.call(_)),sa.call(y,_)?y[_].push(q):y[_]=[q]},Br),Em=eo(Ef);function Yu(y){return pu(y)?Mu(y):qe(y)}function Wf(y){return pu(y)?Mu(y,!0):Rt(y)}function wm(y,_){var q={};return _=Br(_,3),au(y,function(Fe,wt,rn){hc(q,_(Fe,wt,rn),Fe)}),q}function Mb(y,_){var q={};return _=Br(_,3),au(y,function(Fe,wt,rn){hc(q,wt,_(Fe,wt,rn))}),q}var Sm=ud(function(y,_,q){Ho(y,_,q)}),Mm=ud(function(y,_,q,Fe){Ho(y,_,q,Fe)}),Pb=pd(function(y,_){var q={};if(y==null)return q;var Fe=!1;_=Er(_,function(rn){return rn=wf(rn,y),Fe||(Fe=rn.length>1),rn}),kf(y,$e(y),q),Fe&&(q=Fc(q,U|$|te,Qh));for(var wt=_.length;wt--;)Gu(q,_[wt]);return q});function Tb(y,_){return cp(y,ip(Br(_)))}var Ob=pd(function(y,_){return y==null?{}:el(y,_)});function cp(y,_){if(y==null)return{};var q=Er($e(y),function(Fe){return[Fe]});return _=Br(_),ja(y,q,function(Fe,wt){return _(Fe,wt[0])})}function Pm(y,_,q){_=wf(_,y);var Fe=-1,wt=_.length;for(wt||(wt=1,y=d);++Fe<wt;){var rn=y==null?d:y[vc(_[Fe])];rn===d&&(Fe=wt,rn=q),y=Gf(rn)?rn.call(y):rn}return y}function _b(y,_,q){return y==null?y:_c(y,_,q)}function Ab(y,_,q,Fe){return Fe=typeof Fe=="function"?Fe:d,y==null?y:_c(y,_,q,Fe)}var Ag=ov(Yu),fh=ov(Wf);function Tm(y,_,q){var Fe=Ss(y),wt=Fe||Ai(y)||Nh(y);if(_=Br(_,4),q==null){var rn=y&&y.constructor;wt?q=Fe?new rn:[]:Yc(y)?q=Gf(rn)?Ga(zs(y)):{}:q={}}return(wt?_n:au)(y,function(rr,Sr,qr){return _(q,rr,Sr,qr)}),q}function Om(y,_){return y==null?!0:Gu(y,_)}function _m(y,_,q){return y==null?y:Ch(y,_,Zd(q))}function Db(y,_,q,Fe){return Fe=typeof Fe=="function"?Fe:d,y==null?y:Ch(y,_,Zd(q),Fe)}function Up(y){return y==null?[]:so(y,Yu(y))}function Am(y){return y==null?[]:so(y,Wf(y))}function Nb(y,_,q){return q===d&&(q=_,_=d),q!==d&&(q=Bf(q),q=q===q?q:0),_!==d&&(_=Bf(_),_=_===_?_:0),ku(Bf(y),_,q)}function Vp(y,_,q){return _=_d(_),q===d?(q=_,_=0):q=_d(q),y=Bf(y),xd(y,_,q)}function Rb(y,_,q){if(q&&typeof q!="boolean"&&Mi(y,_,q)&&(_=q=d),q===d&&(typeof _=="boolean"?(q=_,_=d):typeof y=="boolean"&&(q=y,y=d)),y===d&&_===d?(y=0,_=1):(y=_d(y),_===d?(_=y,y=0):_=_d(_)),y>_){var Fe=y;y=_,_=Fe}if(q||y%1||_%1){var wt=Ol();return Ts(y+wt*(_-y+hs("1e-"+((wt+"").length-1))),_)}return Oc(y,_)}var Ib=wd(function(y,_,q){return _=_.toLowerCase(),y+(q?Dm(_):_)});function Dm(y){return Ov(ac(y).toLowerCase())}function Nm(y){return y=ac(y),y&&y.replace(N,Fo).replace(zt,"")}function kb(y,_,q){y=ac(y),_=Dc(_);var Fe=y.length;q=q===d?Fe:ku($s(q),0,Fe);var wt=q;return q-=_.length,q>=0&&y.slice(q,wt)==_}function Lb(y){return y=ac(y),y&&Bt.test(y)?y.replace(di,Sa):y}function Rm(y){return y=ac(y),y&&gn.test(y)?y.replace(jt,"\\$&"):y}var Fb=wd(function(y,_,q){return y+(q?"-":"")+_.toLowerCase()}),Gb=wd(function(y,_,q){return y+(q?" ":"")+_.toLowerCase()}),Bb=fd("toLowerCase");function Im(y,_,q){y=ac(y),_=$s(_);var Fe=_?Hr(y):0;if(!_||Fe>=_)return y;var wt=(_-Fe)/2;return Xh(nl(wt),q)+y+Xh(Uc(wt),q)}function Zb(y,_,q){y=ac(y),_=$s(_);var Fe=_?Hr(y):0;return _&&Fe<_?y+Xh(_-Fe,q):y}function zb(y,_,q){y=ac(y),_=$s(_);var Fe=_?Hr(y):0;return _&&Fe<_?Xh(_-Fe,q)+y:y}function Ub(y,_,q){return q||_==null?_=0:_&&(_=+_),nc(ac(y).replace(Ln,""),_||0)}function Vb(y,_,q){return(q?Mi(y,_,q):_===d)?_=1:_=$s(_),Ao(ac(y),_)}function Rh(){var y=arguments,_=ac(y[0]);return y.length<3?_:_.replace(y[1],y[2])}var km=wd(function(y,_,q){return y+(q?"_":"")+_.toLowerCase()});function jb(y,_,q){return q&&typeof q!="number"&&Mi(y,_,q)&&(_=q=d),q=q===d?Qe:q>>>0,q?(y=ac(y),y&&(typeof _=="string"||_!=null&&!ai(_))&&(_=Dc(_),!_&&Ye(y))?If(_r(y),0,q):y.split(_,q)):[]}var ec=wd(function(y,_,q){return y+(q?" ":"")+Ov(_)});function Ad(y,_,q){return y=ac(y),q=q==null?0:ku($s(q),0,y.length),_=Dc(_),y.slice(q,q+_.length)==_}function Dg(y,_,q){var Fe=yt.templateSettings;q&&Mi(y,_,q)&&(_=d),y=ac(y),_=Sv({},_,Fe,Mh);var wt=Sv({},_.imports,Fe.imports,Mh),rn=Yu(wt),rr=so(wt,rn),Sr,qr,qi=0,to=_.interpolate||G,Mo="__p += '",Ma=go((_.escape||G).source+"|"+to.source+"|"+(to===Ot?dr:G).source+"|"+(_.evaluate||G).source+"|$","g"),ia="//# sourceURL="+(sa.call(_,"sourceURL")?(_.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++io+"]")+`
`;y.replace(Ma,function(Is,Ll,wl,Ou,df,Eu){return wl||(wl=Ou),Mo+=y.slice(qi,Eu).replace(ye,Bo),Ll&&(Sr=!0,Mo+=`' +
__e(`+Ll+`) +
'`),df&&(qr=!0,Mo+=`';
`+df+`;
__p += '`),wl&&(Mo+=`' +
((__t = (`+wl+`)) == null ? '' : __t) +
'`),qi=Eu+Is.length,Is}),Mo+=`';
`;var Ls=sa.call(_,"variable")&&_.variable;if(!Ls)Mo=`with (obj) {
`+Mo+`
}
`;else if(Pr.test(Ls))throw new Ur(E);Mo=(qr?Mo.replace(sr,""):Mo).replace(ti,"$1").replace(Ir,"$1;"),Mo="function("+(Ls||"obj")+`) {
`+(Ls?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Sr?", __e = _.escape":"")+(qr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Mo+`return __p
}`;var ml=Bm(function(){return ci(rn,ia+"return "+Mo).apply(d,rr)});if(ml.source=Mo,Ms(ml))throw ml;return ml}function Js(y){return ac(y).toLowerCase()}function rf(y){return ac(y).toUpperCase()}function up(y,_,q){if(y=ac(y),y&&(q||_===d))return Vo(y);if(!y||!(_=Dc(_)))return y;var Fe=_r(y),wt=_r(_),rn=pa(Fe,wt),rr=xo(Fe,wt)+1;return If(Fe,rn,rr).join("")}function $d(y,_,q){if(y=ac(y),y&&(q||_===d))return y.slice(0,Lr(y)+1);if(!y||!(_=Dc(_)))return y;var Fe=_r(y),wt=xo(Fe,_r(_))+1;return If(Fe,0,wt).join("")}function Tv(y,_,q){if(y=ac(y),y&&(q||_===d))return y.replace(Ln,"");if(!y||!(_=Dc(_)))return y;var Fe=_r(y),wt=pa(Fe,_r(_));return If(Fe,wt).join("")}function Lm(y,_){var q=pe,Fe=Be;if(Yc(_)){var wt="separator"in _?_.separator:wt;q="length"in _?$s(_.length):q,Fe="omission"in _?Dc(_.omission):Fe}y=ac(y);var rn=y.length;if(Ye(y)){var rr=_r(y);rn=rr.length}if(q>=rn)return y;var Sr=q-Hr(Fe);if(Sr<1)return Fe;var qr=rr?If(rr,0,Sr).join(""):y.slice(0,Sr);if(wt===d)return qr+Fe;if(rr&&(Sr+=qr.length-Sr),ai(wt)){if(y.slice(Sr).search(wt)){var qi,to=qr;for(wt.global||(wt=go(wt.source,ac(ni.exec(wt))+"g")),wt.lastIndex=0;qi=wt.exec(to);)var Mo=qi.index;qr=qr.slice(0,Mo===d?Sr:Mo)}}else if(y.indexOf(Dc(wt),Sr)!=Sr){var Ma=qr.lastIndexOf(wt);Ma>-1&&(qr=qr.slice(0,Ma))}return qr+Fe}function $b(y){return y=ac(y),y&&Yn.test(y)?y.replace(kr,Ar):y}var Fm=wd(function(y,_,q){return y+(q?" ":"")+_.toUpperCase()}),Ov=fd("toUpperCase");function Gm(y,_,q){return y=ac(y),_=q?d:_,_===d?ft(y)?Pt(y):on(y):y.match(_)||[]}var Bm=eo(function(y,_){try{return tt(y,d,_)}catch(q){return Ms(q)?q:new Ur(q)}}),Wb=pd(function(y,_){return _n(_,function(q){q=vc(q),hc(y,q,c0(y[q],y))}),y});function Hf(y){var _=y==null?0:y.length,q=Br();return y=_?Er(y,function(Fe){if(typeof Fe[1]!="function")throw new ji(A);return[q(Fe[0]),Fe[1]]}):[],eo(function(Fe){for(var wt=-1;++wt<_;){var rn=y[wt];if(tt(rn[0],this,Fe))return tt(rn[1],this,Fe)}})}function Hb(y){return Cd(Fc(y,U))}function jp(y){return function(){return y}}function Kb(y,_){return y==null||y!==y?_:y}var Yb=Cu(),Xb=Cu(!0);function Tf(y){return y}function Ih(y){return we(typeof y=="function"?y:Fc(y,U))}function Wd(y){return _i(Fc(y,U))}function _v(y,_){return So(y,Fc(_,U))}var dh=eo(function(y,_){return function(q){return Ef(q,y,_)}}),Qb=eo(function(y,_){return function(q){return Ef(y,q,_)}});function Av(y,_,q){var Fe=Yu(_),wt=Cf(_,Fe);q==null&&!(Yc(_)&&(wt.length||!Fe.length))&&(q=_,_=y,y=this,wt=Cf(_,Yu(_)));var rn=!(Yc(q)&&"chain"in q)||!!q.chain,rr=Gf(y);return _n(wt,function(Sr){var qr=_[Sr];y[Sr]=qr,rr&&(y.prototype[Sr]=function(){var qi=this.__chain__;if(rn||qi){var to=y(this.__wrapped__),Mo=to.__actions__=Bu(this.__actions__);return Mo.push({func:qr,args:arguments,thisArg:y}),to.__chain__=qi,to}return qr.apply(y,ao([this.value()],arguments))})}),y}function Jb(){return qa._===this&&(qa._=Ds),this}function $p(){}function Dv(y){return y=$s(y),eo(function(_){return ns(_,y)})}var Ng=ql(Er),Dd=ql(Un),qb=ql(es);function Zm(y){return bo(y)?ki(vc(y)):Vs(y)}function e1(y){return function(_){return y==null?d:rc(y,_)}}var t1=iv(),hh=iv(!0);function Rg(){return[]}function Zu(){return!1}function Nv(){return{}}function n1(){return""}function r1(){return!0}function y0(y,_){if(y=$s(y),y<1||y>It)return[];var q=Qe,Fe=Ts(y,Qe);_=Br(_),y-=Qe;for(var wt=Io(Fe,_);++q<y;)_(q);return wt}function i1(y){return Ss(y)?Er(y,vc):$f(y)?[y]:Bu(Al(ac(y)))}function b0(y){var _=++Ka;return ac(y)+_}var o1=xu(function(y,_){return y+_},0),a1=Md("ceil"),fp=xu(function(y,_){return y/_},1),zm=Md("floor");function Um(y){return y&&y.length?tf(y,Tf,ed):d}function kh(y,_){return y&&y.length?tf(y,Br(_,2),ed):d}function C0(y){return Ni(y,Tf)}function x0(y,_){return Ni(y,Br(_,2))}function E0(y){return y&&y.length?tf(y,Tf,In):d}function Vm(y,_){return y&&y.length?tf(y,Br(_,2),In):d}var dp=xu(function(y,_){return y*_},1),Kf=Md("round"),vu=xu(function(y,_){return y-_},0);function w0(y){return y&&y.length?Jo(y,Tf):0}function jm(y,_){return y&&y.length?Jo(y,Br(_,2)):0}return yt.after=Bp,yt.ary=s0,yt.assign=yb,yt.assignIn=mm,yt.assignInWith=Sv,yt.assignWith=ym,yt.at=bm,yt.before=l0,yt.bind=c0,yt.bindAll=Wb,yt.bindKey=om,yt.castArray=bv,yt.chain=o0,yt.chunk=Tu,yt.compact=Dl,yt.concat=za,yt.cond=Hf,yt.conforms=Hb,yt.constant=jp,yt.countBy=Cg,yt.create=bb,yt.curry=am,yt.curryRight=sm,yt.debounce=lm,yt.defaults=Cb,yt.defaultsDeep=Mv,yt.defer=vb,yt.delay=u0,yt.difference=js,yt.differenceBy=pl,yt.differenceWith=Kc,yt.drop=nd,yt.dropRight=Pd,yt.dropRightWhile=Tn,yt.dropWhile=er,yt.fill=Xr,yt.filter=xg,yt.flatMap=gv,yt.flatMapDeep=pb,yt.flatMapDepth=gb,yt.flatten=fn,yt.flattenDeep=Ut,yt.flattenDepth=tr,yt.flip=mb,yt.flow=Yb,yt.flowRight=Xb,yt.fromPairs=Rr,yt.functions=wb,yt.functionsIn=Cm,yt.groupBy=rm,yt.initial=Jn,yt.intersection=vr,yt.intersectionBy=Qt,yt.intersectionWith=Zn,yt.invert=Sb,yt.invertBy=xm,yt.invokeMap=Td,yt.iteratee=Ih,yt.keyBy=im,yt.keys=Yu,yt.keysIn=Wf,yt.map=Eg,yt.mapKeys=wm,yt.mapValues=Mb,yt.matches=Wd,yt.matchesProperty=_v,yt.memoize=wg,yt.merge=Sm,yt.mergeWith=Mm,yt.method=dh,yt.methodOf=Qb,yt.mixin=Av,yt.negate=ip,yt.nthArg=Dv,yt.omit=Pb,yt.omitBy=Tb,yt.once=cm,yt.orderBy=Dh,yt.over=Ng,yt.overArgs=rs,yt.overEvery=Dd,yt.overSome=qb,yt.partial=ma,yt.partialRight=f0,yt.partition=Bn,yt.pick=Ob,yt.pickBy=cp,yt.property=Zm,yt.propertyOf=e1,yt.pull=vi,yt.pullAll=Jr,yt.pullAllBy=Hi,yt.pullAllWith=va,yt.pullAt=ms,yt.range=t1,yt.rangeRight=hh,yt.rearg=um,yt.reject=gd,yt.remove=$o,yt.rest=mv,yt.reverse=_a,yt.sampleSize=hu,yt.set=_b,yt.setWith=Ab,yt.shuffle=vv,yt.slice=as,yt.sortBy=Gp,yt.sortedUniq=cu,yt.sortedUniqBy=qh,yt.split=jb,yt.spread=Sg,yt.tail=ep,yt.take=em,yt.takeRight=gg,yt.takeRightWhile=r0,yt.takeWhile=Ip,yt.tap=a0,yt.throttle=fm,yt.thru=rp,yt.toArray=Tg,yt.toPairs=Ag,yt.toPairsIn=fh,yt.toPath=i1,yt.toPlainObject=jd,yt.transform=Tm,yt.unary=yv,yt.union=vg,yt.unionBy=av,yt.unionWith=sv,yt.uniq=i0,yt.uniqBy=lv,yt.uniqWith=tp,yt.unset=Om,yt.unzip=kp,yt.unzipWith=Il,yt.update=_m,yt.updateWith=Db,yt.values=Up,yt.valuesIn=Am,yt.without=cv,yt.words=Gm,yt.wrap=dm,yt.xor=np,yt.xorBy=Oh,yt.xorWith=mg,yt.zip=tm,yt.zipObject=ub,yt.zipObjectDeep=fb,yt.zipWith=db,yt.entries=Ag,yt.entriesIn=fh,yt.extend=mm,yt.extendWith=Sv,Av(yt,yt),yt.add=o1,yt.attempt=Bm,yt.camelCase=Ib,yt.capitalize=Dm,yt.ceil=a1,yt.clamp=Nb,yt.clone=Wa,yt.cloneDeep=ss,yt.cloneDeepWith=Qa,yt.cloneWith=oa,yt.conformsTo=d0,yt.deburr=Nm,yt.defaultTo=Kb,yt.divide=fp,yt.endsWith=kb,yt.eq=aa,yt.escape=Lb,yt.escapeRegExp=Rm,yt.every=pv,yt.find=El,yt.findIndex=na,yt.findKey=_g,yt.findLast=hb,yt.findLastIndex=Rs,yt.findLastKey=ru,yt.floor=zm,yt.forEach=gl,yt.forEachRight=Ah,yt.forIn=xb,yt.forInRight=Eb,yt.forOwn=g0,yt.forOwnRight=v0,yt.get=Pv,yt.gt=kl,yt.gte=Zp,yt.has=lp,yt.hasIn=m0,yt.head=Fr,yt.identity=Tf,yt.includes=Lp,yt.indexOf=ar,yt.inRange=Vp,yt.invoke=Em,yt.isArguments=ch,yt.isArray=Ss,yt.isArrayBuffer=uh,yt.isArrayLike=pu,yt.isArrayLikeObject=Zc,yt.isBoolean=ho,yt.isBuffer=Ai,yt.isDate=zp,yt.isElement=hm,yt.isEmpty=h0,yt.isEqual=ff,yt.isEqualWith=Ku,yt.isError=Ms,yt.isFinite=op,yt.isFunction=Gf,yt.isInteger=Ud,yt.isLength=Vd,yt.isMap=Mg,yt.isMatch=Cv,yt.isMatchWith=Pg,yt.isNaN=rd,yt.isNative=xv,yt.isNil=Pf,yt.isNull=id,yt.isNumber=Ev,yt.isObject=Yc,yt.isObjectLike=Xc,yt.isPlainObject=ap,yt.isRegExp=ai,yt.isSafeInteger=gu,yt.isSet=Od,yt.isString=Ec,yt.isSymbol=$f,yt.isTypedArray=Nh,yt.isUndefined=pm,yt.isWeakMap=gm,yt.isWeakSet=vm,yt.join=ln,yt.kebabCase=Fb,yt.last=mr,yt.lastIndexOf=Zr,yt.lowerCase=Gb,yt.lowerFirst=Bb,yt.lt=sp,yt.lte=p0,yt.max=Um,yt.maxBy=kh,yt.mean=C0,yt.meanBy=x0,yt.min=E0,yt.minBy=Vm,yt.stubArray=Rg,yt.stubFalse=Zu,yt.stubObject=Nv,yt.stubString=n1,yt.stubTrue=r1,yt.multiply=dp,yt.nth=pi,yt.noConflict=Jb,yt.noop=$p,yt.now=Ff,yt.pad=Im,yt.padEnd=Zb,yt.padStart=zb,yt.parseInt=Ub,yt.random=Rb,yt.reduce=Oo,yt.reduceRight=Ra,yt.repeat=Vb,yt.replace=Rh,yt.result=Pm,yt.round=Kf,yt.runInContext=_t,yt.sample=du,yt.size=Mf,yt.snakeCase=km,yt.some=Fp,yt.sortedIndex=Qs,yt.sortedIndexBy=mc,yt.sortedIndexOf=Hu,yt.sortedLastIndex=lh,yt.sortedLastIndexBy=Sf,yt.sortedLastIndexOf=Th,yt.startCase=ec,yt.startsWith=Ad,yt.subtract=vu,yt.sum=w0,yt.sumBy=jm,yt.template=Dg,yt.times=y0,yt.toFinite=_d,yt.toInteger=$s,yt.toLength=Og,yt.toLower=Js,yt.toNumber=Bf,yt.toSafeInteger=wv,yt.toString=ac,yt.toUpper=rf,yt.trim=up,yt.trimEnd=$d,yt.trimStart=Tv,yt.truncate=Lm,yt.unescape=$b,yt.uniqueId=b0,yt.upperCase=Fm,yt.upperFirst=Ov,yt.each=gl,yt.eachRight=Ah,yt.first=Fr,Av(yt,function(){var y={};return au(yt,function(_,q){sa.call(yt.prototype,q)||(y[q]=_)}),y}(),{chain:!1}),yt.VERSION=m,_n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){yt[y].placeholder=yt}),_n(["drop","take"],function(y,_){fs.prototype[y]=function(q){q=q===d?1:Ha($s(q),0);var Fe=this.__filtered__&&!_?new fs(this):this.clone();return Fe.__filtered__?Fe.__takeCount__=Ts(q,Fe.__takeCount__):Fe.__views__.push({size:Ts(q,Qe),type:y+(Fe.__dir__<0?"Right":"")}),Fe},fs.prototype[y+"Right"]=function(q){return this.reverse()[y](q).reverse()}}),_n(["filter","map","takeWhile"],function(y,_){var q=_+1,Fe=q==st||q==vn;fs.prototype[y]=function(wt){var rn=this.clone();return rn.__iteratees__.push({iteratee:Br(wt,3),type:q}),rn.__filtered__=rn.__filtered__||Fe,rn}}),_n(["head","last"],function(y,_){var q="take"+(_?"Right":"");fs.prototype[y]=function(){return this[q](1).value()[0]}}),_n(["initial","tail"],function(y,_){var q="drop"+(_?"":"Right");fs.prototype[y]=function(){return this.__filtered__?new fs(this):this[q](1)}}),fs.prototype.compact=function(){return this.filter(Tf)},fs.prototype.find=function(y){return this.filter(y).head()},fs.prototype.findLast=function(y){return this.reverse().find(y)},fs.prototype.invokeMap=eo(function(y,_){return typeof y=="function"?new fs(this):this.map(function(q){return Ef(q,y,_)})}),fs.prototype.reject=function(y){return this.filter(ip(Br(y)))},fs.prototype.slice=function(y,_){y=$s(y);var q=this;return q.__filtered__&&(y>0||_<0)?new fs(q):(y<0?q=q.takeRight(-y):y&&(q=q.drop(y)),_!==d&&(_=$s(_),q=_<0?q.dropRight(-_):q.take(_-y)),q)},fs.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},fs.prototype.toArray=function(){return this.take(Qe)},au(fs.prototype,function(y,_){var q=/^(?:filter|find|map|reject)|While$/.test(_),Fe=/^(?:head|last)$/.test(_),wt=yt[Fe?"take"+(_=="last"?"Right":""):_],rn=Fe||/^find/.test(_);wt&&(yt.prototype[_]=function(){var rr=this.__wrapped__,Sr=Fe?[1]:arguments,qr=rr instanceof fs,qi=Sr[0],to=qr||Ss(rr),Mo=function(Ll){var wl=wt.apply(yt,ao([Ll],Sr));return Fe&&Ma?wl[0]:wl};to&&q&&typeof qi=="function"&&qi.length!=1&&(qr=to=!1);var Ma=this.__chain__,ia=!!this.__actions__.length,Ls=rn&&!Ma,ml=qr&&!ia;if(!rn&&to){rr=ml?rr:new fs(this);var Is=y.apply(rr,Sr);return Is.__actions__.push({func:rp,args:[Mo],thisArg:d}),new ps(Is,Ma)}return Ls&&ml?y.apply(this,Sr):(Is=this.thru(Mo),Ls?Fe?Is.value()[0]:Is.value():Is)})}),_n(["pop","push","shift","sort","splice","unshift"],function(y){var _=ko[y],q=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",Fe=/^(?:pop|shift)$/.test(y);yt.prototype[y]=function(){var wt=arguments;if(Fe&&!this.__chain__){var rn=this.value();return _.apply(Ss(rn)?rn:[],wt)}return this[q](function(rr){return _.apply(Ss(rr)?rr:[],wt)})}}),au(fs.prototype,function(y,_){var q=yt[_];if(q){var Fe=q.name+"";sa.call(ts,Fe)||(ts[Fe]=[]),ts[Fe].push({name:_,func:q})}}),ts[Lf(d,Y).name]=[{name:"wrapper",func:d}],fs.prototype.clone=Nu,fs.prototype.reverse=qu,fs.prototype.value=jc,yt.prototype.at=_h,yt.prototype.chain=nm,yt.prototype.commit=uv,yt.prototype.next=yg,yt.prototype.plant=fv,yt.prototype.reverse=dv,yt.prototype.toJSON=yt.prototype.valueOf=yt.prototype.value=hv,yt.prototype.first=yt.prototype.head,Tl&&(yt.prototype[Tl]=bg),yt},Qn=cn();qa._=Qn,v=function(){return Qn}.call(M,l,M,j),v!==d&&(j.exports=v)}).call(this)},35161:function(j,M,l){var v=l(29932),d=l(67206),m=l(69199),g=l(1469);function x(A,E){var w=g(A)?v:m;return w(A,d(E,3))}j.exports=x},15644:function(j,M,l){var v=l(83369),d="Expected a function";function m(g,x){if(typeof g!="function"||x!=null&&typeof x!="function")throw new TypeError(d);var A=function(){var E=arguments,w=x?x.apply(this,E):E[0],k=A.cache;if(k.has(w))return k.get(w);var Z=g.apply(this,E);return A.cache=k.set(w,Z)||k,Z};return A.cache=new(m.Cache||v),A}m.Cache=v,j.exports=m},82492:function(j,M,l){var v=l(42980),d=l(21463),m=d(function(g,x,A){v(g,x,A)});j.exports=m},28117:function(j){function M(){}j.exports=M},39601:function(j,M,l){var v=l(40371),d=l(79152),m=l(15403),g=l(40327);function x(A){return m(A)?v(g(A)):d(A)}j.exports=x},70479:function(j){function M(){return[]}j.exports=M},95062:function(j){function M(){return!1}j.exports=M},23493:function(j,M,l){var v=l(23279),d=l(13218),m="Expected a function";function g(x,A,E){var w=!0,k=!0;if(typeof x!="function")throw new TypeError(m);return d(E)&&(w="leading"in E?!!E.leading:w,k="trailing"in E?!!E.trailing:k),v(x,A,{leading:w,maxWait:A,trailing:k})}j.exports=g},59881:function(j,M,l){var v=l(98363),d=l(81704);function m(g){return v(g,d(g))}j.exports=m},79833:function(j,M,l){var v=l(80531);function d(m){return m==null?"":v(m)}j.exports=d},45578:function(j,M,l){var v=l(67206),d=l(45652);function m(g,x){return g&&g.length?d(g,v(x,2)):[]}j.exports=m},11700:function(j,M,l){var v=l(98805),d=v("toUpperCase");j.exports=d},4348:function(j,M,l){var v=l(49029),d=l(93157),m=l(79833),g=l(2757);function x(A,E,w){return A=m(A),E=w?void 0:E,E===void 0?d(A)?g(A):v(A):A.match(E)||[]}j.exports=x},13071:function(j,M,l){"use strict";l.r(M),l.d(M,{Container:function(){return bt},Contribution:function(){return Dt},DefaultContributionProvider:function(){return Ne},GlobalContainer:function(){return Ge},Module:function(){return Yt},OptionSymbol:function(){return It},Provider:function(){return be},Syringe:function(){return Y},SyringeModule:function(){return Wt},Utils:function(){return re},contrib:function(){return Lt},decorate:function(){return v.GW},inject:function(){return vn},injectable:function(){return he},named:function(){return Mt},optional:function(){return v.jt},postConstruct:function(){return v.zY},register:function(){return Ae},registerSideOption:function(){return Ve},singleton:function(){return st},transient:function(){return en},unmanaged:function(){return v.NT}});var v=l(86700),d=l(34155);function m(lt,Ft){var qt=Object.keys(lt);if(Object.getOwnPropertySymbols){var Nn=Object.getOwnPropertySymbols(lt);Ft&&(Nn=Nn.filter(function(kn){return Object.getOwnPropertyDescriptor(lt,kn).enumerable})),qt.push.apply(qt,Nn)}return qt}function g(lt){for(var Ft=1;Ft<arguments.length;Ft++){var qt=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?m(Object(qt),!0).forEach(function(Nn){k(lt,Nn,qt[Nn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(qt)):m(Object(qt)).forEach(function(Nn){Object.defineProperty(lt,Nn,Object.getOwnPropertyDescriptor(qt,Nn))})}return lt}function x(lt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(Ft){return typeof Ft}:x=function(Ft){return Ft&&typeof Symbol=="function"&&Ft.constructor===Symbol&&Ft!==Symbol.prototype?"symbol":typeof Ft},x(lt)}function A(lt,Ft){if(!(lt instanceof Ft))throw new TypeError("Cannot call a class as a function")}function E(lt,Ft){for(var qt=0;qt<Ft.length;qt++){var Nn=Ft[qt];Nn.enumerable=Nn.enumerable||!1,Nn.configurable=!0,"value"in Nn&&(Nn.writable=!0),Object.defineProperty(lt,Nn.key,Nn)}}function w(lt,Ft,qt){return Ft&&E(lt.prototype,Ft),qt&&E(lt,qt),lt}function k(lt,Ft,qt){return Ft in lt?Object.defineProperty(lt,Ft,{value:qt,enumerable:!0,configurable:!0,writable:!0}):lt[Ft]=qt,lt}function Z(lt){return U(lt)||$(lt)||te(lt)||J()}function U(lt){if(Array.isArray(lt))return Q(lt)}function $(lt){if(typeof Symbol!="undefined"&&lt[Symbol.iterator]!=null||lt["@@iterator"]!=null)return Array.from(lt)}function te(lt,Ft){if(lt){if(typeof lt=="string")return Q(lt,Ft);var qt=Object.prototype.toString.call(lt).slice(8,-1);if(qt==="Object"&&lt.constructor&&(qt=lt.constructor.name),qt==="Map"||qt==="Set")return Array.from(lt);if(qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qt))return Q(lt,Ft)}}function Q(lt,Ft){(Ft==null||Ft>lt.length)&&(Ft=lt.length);for(var qt=0,Nn=new Array(Ft);qt<Ft;qt++)Nn[qt]=lt[qt];return Nn}function J(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var K;(function(lt){(function(Ft){var qt=typeof l.g=="object"?l.g:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),Nn=kn(lt);typeof qt.Reflect=="undefined"?qt.Reflect=lt:Nn=kn(qt.Reflect,Nn),Ft(Nn);function kn(An,Kn){return function(ee,it){typeof An[ee]!="function"&&Object.defineProperty(An,ee,{configurable:!0,writable:!0,value:it}),Kn&&Kn(ee,it)}}})(function(Ft){var qt=Object.prototype.hasOwnProperty,Nn=typeof Symbol=="function",kn=Nn&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",An=Nn&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",Kn=typeof Object.create=="function",ee={__proto__:[]}instanceof Array,it=!Kn&&!ee,Ze={create:Kn?function(){return ze(Object.create(null))}:ee?function(){return ze({__proto__:null})}:function(){return ze({})},has:it?function(Ce,ke){return qt.call(Ce,ke)}:function(Ce,ke){return ke in Ce},get:it?function(Ce,ke){return qt.call(Ce,ke)?Ce[ke]:void 0}:function(Ce,ke){return Ce[ke]}},ot=Object.getPrototypeOf(Function),Xe=typeof d=="object"&&{NODE_ENV:"production",PUBLIC_PATH:"/rosmap/"}&&{NODE_ENV:"production",PUBLIC_PATH:"/rosmap/"}.REFLECT_METADATA_USE_MAP_POLYFILL==="true",et=!Xe&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:G(),pt=!Xe&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ye(),He=!Xe&&typeof WeakMap=="function"?WeakMap:Ie(),Et=new He;function Vt(Ce,ke,rt,Tt){if(zr(rt)){if(!Pr(Ce))throw new TypeError;if(!dr(ke))throw new TypeError;return ti(Ce,ke)}else{if(!Pr(Ce))throw new TypeError;if(!Ln(ke))throw new TypeError;if(!Ln(Tt)&&!zr(Tt)&&!jt(Tt))throw new TypeError;return jt(Tt)&&(Tt=void 0),rt=lr(rt),Ir(Ce,ke,rt,Tt)}}Ft("decorate",Vt);function On(Ce,ke){function rt(Tt,En){if(!Ln(Tt))throw new TypeError;if(!zr(En)&&!ni(En))throw new TypeError;dn(Ce,ke,Tt,En)}return rt}Ft("metadata",On);function Wn(Ce,ke,rt,Tt){if(!Ln(rt))throw new TypeError;return zr(Tt)||(Tt=lr(Tt)),dn(Ce,ke,rt,Tt)}Ft("defineMetadata",Wn);function pr(Ce,ke,rt){if(!Ln(ke))throw new TypeError;return zr(rt)||(rt=lr(rt)),di(Ce,ke,rt)}Ft("hasMetadata",pr);function Cr(Ce,ke,rt){if(!Ln(ke))throw new TypeError;return zr(rt)||(rt=lr(rt)),Yn(Ce,ke,rt)}Ft("hasOwnMetadata",Cr);function Sn(Ce,ke,rt){if(!Ln(ke))throw new TypeError;return zr(rt)||(rt=lr(rt)),Bt(Ce,ke,rt)}Ft("getMetadata",Sn);function Cn(Ce,ke,rt){if(!Ln(ke))throw new TypeError;return zr(rt)||(rt=lr(rt)),kt(Ce,ke,rt)}Ft("getOwnMetadata",Cn);function Fn(Ce,ke){if(!Ln(Ce))throw new TypeError;return zr(ke)||(ke=lr(ke)),Ot(Ce,ke)}Ft("getMetadataKeys",Fn);function Hn(Ce,ke){if(!Ln(Ce))throw new TypeError;return zr(ke)||(ke=lr(ke)),ur(Ce,ke)}Ft("getOwnMetadataKeys",Hn);function sr(Ce,ke,rt){if(!Ln(ke))throw new TypeError;zr(rt)||(rt=lr(rt));var Tt=kr(ke,rt,!1);if(zr(Tt)||!Tt.delete(Ce))return!1;if(Tt.size>0)return!0;var En=Et.get(ke);return En.delete(rt),En.size>0||Et.delete(ke),!0}Ft("deleteMetadata",sr);function ti(Ce,ke){for(var rt=Ce.length-1;rt>=0;--rt){var Tt=Ce[rt],En=Tt(ke);if(!zr(En)&&!jt(En)){if(!dr(En))throw new TypeError;ke=En}}return ke}function Ir(Ce,ke,rt,Tt){for(var En=Ce.length-1;En>=0;--En){var Rn=Ce[En],$n=Rn(ke,rt,Tt);if(!zr($n)&&!jt($n)){if(!Ln($n))throw new TypeError;Tt=$n}}return Tt}function kr(Ce,ke,rt){var Tt=Et.get(Ce);if(zr(Tt)){if(!rt)return;Tt=new et,Et.set(Ce,Tt)}var En=Tt.get(ke);if(zr(En)){if(!rt)return;En=new et,Tt.set(ke,En)}return En}function di(Ce,ke,rt){var Tt=Yn(Ce,ke,rt);if(Tt)return!0;var En=N(ke);return jt(En)?!1:di(Ce,En,rt)}function Yn(Ce,ke,rt){var Tt=kr(ke,rt,!1);return zr(Tt)?!1:or(Tt.has(Ce))}function Bt(Ce,ke,rt){var Tt=Yn(Ce,ke,rt);if(Tt)return kt(Ce,ke,rt);var En=N(ke);if(!jt(En))return Bt(Ce,En,rt)}function kt(Ce,ke,rt){var Tt=kr(ke,rt,!1);if(!zr(Tt))return Tt.get(Ce)}function dn(Ce,ke,rt,Tt){var En=kr(rt,Tt,!0);En.set(Ce,ke)}function Ot(Ce,ke){var rt=ur(Ce,ke),Tt=N(Ce);if(Tt===null)return rt;var En=Ot(Tt,ke);if(En.length<=0)return rt;if(rt.length<=0)return En;for(var Rn=new pt,$n=[],Xn=0,$t=rt;Xn<$t.length;Xn++){var hn=$t[Xn],bn=Rn.has(hn);bn||(Rn.add(hn),$n.push(hn))}for(var br=0,qn=En;br<qn.length;br++){var hn=qn[br],bn=Rn.has(hn);bn||(Rn.add(hn),$n.push(hn))}return $n}function ur(Ce,ke){var rt=[],Tt=kr(Ce,ke,!1);if(zr(Tt))return rt;for(var En=Tt.keys(),Rn=ue(En),$n=0;;){var Xn=oe(Rn);if(!Xn)return rt.length=$n,rt;var $t=De(Xn);try{rt[$n]=$t}catch(hn){try{R(Rn)}finally{throw hn}}$n++}}function Mn(Ce){if(Ce===null)return 1;switch(typeof Ce){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return Ce===null?1:6;default:return 6}}function zr(Ce){return Ce===void 0}function jt(Ce){return Ce===null}function gn(Ce){return typeof Ce=="symbol"}function Ln(Ce){return typeof Ce=="object"?Ce!==null:typeof Ce=="function"}function vt(Ce,ke){switch(Mn(Ce)){case 0:return Ce;case 1:return Ce;case 2:return Ce;case 3:return Ce;case 4:return Ce;case 5:return Ce}var rt=ke===3?"string":ke===5?"number":"default",Tt=un(Ce,kn);if(Tt!==void 0){var En=Tt.call(Ce,rt);if(Ln(En))throw new TypeError;return En}return Zt(Ce,rt==="default"?"number":rt)}function Zt(Ce,ke){if(ke==="string"){var rt=Ce.toString;if($r(rt)){var Tt=rt.call(Ce);if(!Ln(Tt))return Tt}var En=Ce.valueOf;if($r(En)){var Tt=En.call(Ce);if(!Ln(Tt))return Tt}}else{var En=Ce.valueOf;if($r(En)){var Tt=En.call(Ce);if(!Ln(Tt))return Tt}var Rn=Ce.toString;if($r(Rn)){var Tt=Rn.call(Ce);if(!Ln(Tt))return Tt}}throw new TypeError}function or(Ce){return!!Ce}function ir(Ce){return""+Ce}function lr(Ce){var ke=vt(Ce,3);return gn(ke)?ke:ir(ke)}function Pr(Ce){return Array.isArray?Array.isArray(Ce):Ce instanceof Object?Ce instanceof Array:Object.prototype.toString.call(Ce)==="[object Array]"}function $r(Ce){return typeof Ce=="function"}function dr(Ce){return typeof Ce=="function"}function ni(Ce){switch(Mn(Ce)){case 3:return!0;case 4:return!0;default:return!1}}function un(Ce,ke){var rt=Ce[ke];if(rt!=null){if(!$r(rt))throw new TypeError;return rt}}function ue(Ce){var ke=un(Ce,An);if(!$r(ke))throw new TypeError;var rt=ke.call(Ce);if(!Ln(rt))throw new TypeError;return rt}function De(Ce){return Ce.value}function oe(Ce){var ke=Ce.next();return ke.done?!1:ke}function R(Ce){var ke=Ce.return;ke&&ke.call(Ce)}function N(Ce){var ke=Object.getPrototypeOf(Ce);if(typeof Ce!="function"||Ce===ot||ke!==ot)return ke;var rt=Ce.prototype,Tt=rt&&Object.getPrototypeOf(rt);if(Tt==null||Tt===Object.prototype)return ke;var En=Tt.constructor;return typeof En!="function"||En===Ce?ke:En}function G(){var Ce={},ke=[],rt=function(){function $n(Xn,$t,hn){this._index=0,this._keys=Xn,this._values=$t,this._selector=hn}return $n.prototype["@@iterator"]=function(){return this},$n.prototype[An]=function(){return this},$n.prototype.next=function(){var Xn=this._index;if(Xn>=0&&Xn<this._keys.length){var $t=this._selector(this._keys[Xn],this._values[Xn]);return Xn+1>=this._keys.length?(this._index=-1,this._keys=ke,this._values=ke):this._index++,{value:$t,done:!1}}return{value:void 0,done:!0}},$n.prototype.throw=function(Xn){throw this._index>=0&&(this._index=-1,this._keys=ke,this._values=ke),Xn},$n.prototype.return=function(Xn){return this._index>=0&&(this._index=-1,this._keys=ke,this._values=ke),{value:Xn,done:!0}},$n}();return function(){function $n(){this._keys=[],this._values=[],this._cacheKey=Ce,this._cacheIndex=-2}return Object.defineProperty($n.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),$n.prototype.has=function(Xn){return this._find(Xn,!1)>=0},$n.prototype.get=function(Xn){var $t=this._find(Xn,!1);return $t>=0?this._values[$t]:void 0},$n.prototype.set=function(Xn,$t){var hn=this._find(Xn,!0);return this._values[hn]=$t,this},$n.prototype.delete=function(Xn){var $t=this._find(Xn,!1);if($t>=0){for(var hn=this._keys.length,bn=$t+1;bn<hn;bn++)this._keys[bn-1]=this._keys[bn],this._values[bn-1]=this._values[bn];return this._keys.length--,this._values.length--,Xn===this._cacheKey&&(this._cacheKey=Ce,this._cacheIndex=-2),!0}return!1},$n.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Ce,this._cacheIndex=-2},$n.prototype.keys=function(){return new rt(this._keys,this._values,Tt)},$n.prototype.values=function(){return new rt(this._keys,this._values,En)},$n.prototype.entries=function(){return new rt(this._keys,this._values,Rn)},$n.prototype["@@iterator"]=function(){return this.entries()},$n.prototype[An]=function(){return this.entries()},$n.prototype._find=function(Xn,$t){return this._cacheKey!==Xn&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Xn)),this._cacheIndex<0&&$t&&(this._cacheIndex=this._keys.length,this._keys.push(Xn),this._values.push(void 0)),this._cacheIndex},$n}();function Tt($n,Xn){return $n}function En($n,Xn){return Xn}function Rn($n,Xn){return[$n,Xn]}}function ye(){return function(){function Ce(){this._map=new et}return Object.defineProperty(Ce.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Ce.prototype.has=function(ke){return this._map.has(ke)},Ce.prototype.add=function(ke){return this._map.set(ke,ke),this},Ce.prototype.delete=function(ke){return this._map.delete(ke)},Ce.prototype.clear=function(){this._map.clear()},Ce.prototype.keys=function(){return this._map.keys()},Ce.prototype.values=function(){return this._map.values()},Ce.prototype.entries=function(){return this._map.entries()},Ce.prototype["@@iterator"]=function(){return this.keys()},Ce.prototype[An]=function(){return this.keys()},Ce}()}function Ie(){var Ce=16,ke=Ze.create(),rt=Tt();return function(){function $t(){this._key=Tt()}return $t.prototype.has=function(hn){var bn=En(hn,!1);return bn!==void 0?Ze.has(bn,this._key):!1},$t.prototype.get=function(hn){var bn=En(hn,!1);return bn!==void 0?Ze.get(bn,this._key):void 0},$t.prototype.set=function(hn,bn){var br=En(hn,!0);return br[this._key]=bn,this},$t.prototype.delete=function(hn){var bn=En(hn,!1);return bn!==void 0?delete bn[this._key]:!1},$t.prototype.clear=function(){this._key=Tt()},$t}();function Tt(){var $t;do $t="@@WeakMap@@"+Xn();while(Ze.has(ke,$t));return ke[$t]=!0,$t}function En($t,hn){if(!qt.call($t,rt)){if(!hn)return;Object.defineProperty($t,rt,{value:Ze.create()})}return $t[rt]}function Rn($t,hn){for(var bn=0;bn<hn;++bn)$t[bn]=Math.random()*255|0;return $t}function $n($t){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array($t)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array($t)):Rn(new Uint8Array($t),$t):Rn(new Array($t),$t)}function Xn(){var $t=$n(Ce);$t[6]=$t[6]&79|64,$t[8]=$t[8]&191|128;for(var hn="",bn=0;bn<Ce;++bn){var br=$t[bn];(bn===4||bn===6||bn===8)&&(hn+="-"),br<16&&(hn+="0"),hn+=br.toString(16).toLowerCase()}return hn}}function ze(Ce){return Ce.__=void 0,delete Ce.__,Ce}})})(K||(K={}));var Y;(function(lt){lt.defineToken=function(kn){var An=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{multiple:!0};return new lt.DefinedToken(kn,An)};var Ft=function kn(An){var Kn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};A(this,kn),this.prototype={},this.name=void 0,this.multiple=void 0,this.symbol=void 0;var ee=Kn.multiple,it=ee===void 0?!1:ee;this.name=An,this.symbol=Symbol(this.name),this.multiple=it};lt.DefinedToken=Ft;function qt(kn){return!!kn&&x(kn)==="object"&&"id"in kn&&"registry"in kn}lt.isModule=qt;var Nn;(function(kn){kn.singleton="singleton",kn.transient="transient"})(Nn=lt.Lifecycle||(lt.Lifecycle={})),lt.ClassOptionSymbol=Symbol("SyringeClassOptionSymbol"),lt.DefaultOption={lifecycle:Nn.transient}})(Y||(Y={}));var re;(function(lt){function Ft(ee){return ee instanceof Array?ee:ee!==void 0?[ee]:[]}lt.maybeArrayToArray=Ft;function qt(ee){return!!(ee&&typeof ee=="function"&&"prototype"in ee)}lt.isClass=qt;function Nn(ee){return!!(ee&&x(ee)==="object"&&"symbol"in ee&&"multiple"in ee)}lt.isDefinedToken=Nn;function kn(ee){return!!(ee&&x(ee)==="object"&&"token"in ee)}lt.isInjectOption=kn;function An(ee){return!!(ee&&x(ee)==="object"&&"token"in ee&&"named"in ee)}lt.isNamedToken=An;function Kn(ee){return lt.isDefinedToken(ee)&&ee.multiple}lt.isMultipleEnabled=Kn})(re||(re={}));function fe(lt){return lt.inSingletonScope()}function le(lt){return lt.inTransientScope()}function ie(lt,Ft){return Ft.lifecycle===Y.Lifecycle.singleton?fe(lt):le(lt)}function ve(lt,Ft){lt.whenTargetNamed(pe(Ft))}function Oe(lt,Ft){return Ft.container.bind(Be(lt))}function L(lt,Ft){var qt=Ft.container.parent,Nn=qt&&qt.isBound(Be(lt));return Ft.container.isBound(Be(lt))&&!Nn?Ft.container.rebind(Be(lt)):Ft.container.bind(Be(lt))}function Pe(lt){return lt&&x(lt)==="object"&&"container"in lt&&"inversify"in lt}function pe(lt){return re.isDefinedToken(lt)?lt.symbol:lt}function Be(lt){return re.isDefinedToken(lt)?lt.symbol:lt}var je=new v.W2;function he(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ft=(0,v.b2)();return function(qt){Reflect.defineMetadata(Y.ClassOptionSymbol,g(g({},lt),{},{target:qt}),qt),Ft(qt)}}function st(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return he(g(g({},lt),{},{lifecycle:Y.Lifecycle.singleton}))}function en(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return he(g(g({},lt),{},{lifecycle:Y.Lifecycle.transient}))}function vn(lt){return(0,v.f3)(Be(lt))}function Mt(lt){return(0,v.t6)(pe(lt))}var It=Symbol("SyringeOptionSymbol"),Ve=function(Ft,qt){Reflect.defineMetadata(It,Ft,qt)};function Me(lt){var Ft=re.maybeArrayToArray(lt.token),qt=re.maybeArrayToArray(lt.useClass),Nn=re.maybeArrayToArray(lt.useDynamic),kn=re.maybeArrayToArray(lt.useFactory),An=re.maybeArrayToArray(lt.contrib),Kn=lt.lifecycle||Y.Lifecycle.transient,ee={token:Ft,useClass:qt,lifecycle:An.length>0?Y.Lifecycle.singleton:Kn,contrib:An,useDynamic:Nn,useFactory:kn};return"useValue"in lt&&(ee.useValue=lt.useValue),ee}var Qe=function(){function lt(Ft,qt,Nn){A(this,lt),this.token=void 0,this.rawToken=void 0,this.named=void 0,this.generalToken=void 0,this.option=void 0,this.context=void 0,this.mutiple=void 0,this.context=Ft,this.token=qt,this.option=Nn,this.rawToken=re.isNamedToken(qt)?qt.token:qt,this.named=re.isNamedToken(qt)?qt.named:void 0,this.mutiple=!!this.named||re.isMultipleEnabled(this.rawToken),this.generalToken=this.rawToken}return w(lt,[{key:"resolve",value:function(){var qt=this,Nn=this.context;Pe(Nn)&&(this.mutiple?this.resolveMutilple(Nn):(this.resolveMono(Nn),!this.named&&this.option.contrib.length>0&&this.option.contrib.forEach(function(kn){re.isMultipleEnabled(kn)?Oe(kn,Nn).toService(qt.generalToken):L(kn,Nn).toService(qt.generalToken)})))}},{key:"resolveMono",value:function(qt){var Nn=this;if("useValue"in this.option)return L(this.generalToken,qt).toConstantValue(this.option.useValue);if(this.option.useDynamic.length>0){var kn=this.option.useDynamic[this.option.useDynamic.length-1];return ie(L(this.generalToken,qt).toDynamicValue(function(){return kn({container:Nn.context})}),this.option)}if(this.option.useFactory.length>0){var An=this.option.useFactory[this.option.useFactory.length-1];return L(this.generalToken,qt).toFactory(function(){return An({container:Nn.context})})}if(this.option.useClass.length>0){var Kn=this.option.useClass[this.option.useClass.length-1];return ie(L(this.generalToken,qt).to(Kn),this.option)}}},{key:"resolveMutilple",value:function(qt){var Nn=this,kn=this.option.useClass.map(function(it){return ie(Oe(Nn.generalToken,qt).to(it),Nn.option)}),An=this.option.useDynamic.map(function(it){return ie(Oe(Nn.generalToken,qt).toDynamicValue(function(){return it({container:Nn.context})}),Nn.option)}),Kn=this.option.useFactory.map(function(it){return Oe(Nn.generalToken,qt).toFactory(function(){return it({container:Nn.context})})}),ee="useValue"in this.option?Oe(this.generalToken,qt).toConstantValue(this.option.useValue):void 0;this.named&&(kn.forEach(function(it){return Nn.named&&ve(it,Nn.named)}),An.forEach(function(it){return Nn.named&&ve(it,Nn.named)}),Kn.forEach(function(it){return Nn.named&&ve(it,Nn.named)}),ee&&ve(ee,this.named))}}],[{key:"resolveTarget",value:function(qt,Nn){var kn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{try{var An=Reflect.getMetadata(It,Nn);An&&lt.resolveOption(qt,An)}catch(Ze){}if(re.isClass(Nn))if(!kn.useClass)kn.useClass=[Nn];else{var Kn=re.maybeArrayToArray(kn.useClass);Kn.unshift(Nn),kn.useClass=Kn}var ee;try{ee=Reflect.getMetadata(Y.ClassOptionSymbol,Nn)}catch(Ze){}if(ee=g(g({},ee||{}),kn),!ee.token)ee.token=[Nn];else{var it=re.maybeArrayToArray(ee.token);it.unshift(Nn),ee.token=it}lt.resolveOption(qt,ee)}catch(Ze){}}},{key:"resolveOption",value:function(qt,Nn){var kn=Me(g(g({},lt.globalConfig),Nn));kn.useClass.length===0&&kn.useDynamic.length===0&&kn.useFactory.length===0&&!("useValue"in kn)||kn.token.forEach(function(An){var Kn=new lt(qt,An,g({},kn));Kn.resolve()})}}]),lt}();Qe.globalConfig=Y.DefaultOption;var bt=function(){function lt(Ft){A(this,lt),this.loadedModules=[],this.container=void 0,this.inversify=!0,this.parent=void 0,Ft?this.container=Ft:this.container=new v.W2}return w(lt,[{key:"load",value:function(qt,Nn){(Nn||!this.loadedModules.includes(qt.id))&&(qt.registry(this.register.bind(this),this.resolveContext()),this.loadedModules.push(qt.id))}},{key:"remove",value:function(qt){return this.container.unbind(Be(qt))}},{key:"get",value:function(qt){return this.container.get(Be(qt))}},{key:"getNamed",value:function(qt,Nn){return this.container.getNamed(Be(qt),pe(Nn))}},{key:"getAll",value:function(qt){return this.container.getAll(Be(qt))}},{key:"getAllNamed",value:function(qt,Nn){return this.container.getAllNamed(Be(qt),pe(Nn))}},{key:"isBound",value:function(qt){return this.container.isBound(Be(qt))}},{key:"isBoundNamed",value:function(qt,Nn){return this.container.isBoundNamed(Be(qt),pe(Nn))}},{key:"createChild",value:function(){var qt=this.container.createChild(),Nn=new lt(qt);return Nn.parent=this,Nn}},{key:"register",value:function(qt){var Nn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};re.isInjectOption(qt)?Qe.resolveOption(this,qt):Qe.resolveTarget(this,qt,Nn)}},{key:"resolveContext",value:function(){return{container:this}}}],[{key:"config",value:function(qt){Qe.globalConfig=qt}}]),lt}(),Ge=new bt(je),Ae=Ge.register.bind(Ge),be=Y.defineToken("ContributionProvider"),Ne=function(){function lt(Ft,qt,Nn){A(this,lt),this.option={recursive:!1,cache:!0},this.services=void 0,this.serviceIdentifier=void 0,this.container=void 0,this.container=qt,this.serviceIdentifier=Ft,Nn&&(this.option=g(g({},this.option),Nn))}return w(lt,[{key:"setServices",value:function(qt){for(var Nn=[],kn=this.container;kn;){if(kn.isBound(this.serviceIdentifier)){var An=kn.getAll(this.serviceIdentifier);Nn.push.apply(Nn,Z(An))}kn=qt?kn.parent:void 0}return Nn}},{key:"getContributions",value:function(){var qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Nn=g(g({},this.option),qt),kn=Nn.cache,An=Nn.recursive;return(!kn||this.services===void 0)&&(this.services=this.setServices(!!An)),this.services}}]),lt}();function Re(lt,Ft){return{token:{token:be,named:lt},useDynamic:function(Nn){return new Ne(lt,Nn.container,Ft)},lifecycle:Y.Lifecycle.singleton}}function ht(lt,Ft,qt){lt({token:{token:be,named:Ft},useDynamic:function(kn){return new Ne(Ft,kn.container,qt)},lifecycle:Y.Lifecycle.singleton})}var Wt=function(){function lt(Ft){A(this,lt),this.id=void 0,this.baseRegistry=void 0,this.optionCollection=void 0,lt.moduleId+=1,this.id=lt.moduleId,this.baseRegistry=Ft}return w(lt,[{key:"registry",get:function(){var qt=this;return function(Nn,kn){qt.baseRegistry&&qt.baseRegistry(Nn,kn),qt.optionCollection&&qt.optionCollection.forEach(function(An){return Nn(An)})}}},{key:"options",get:function(){return this.optionCollection||(this.optionCollection=[]),this.optionCollection}},{key:"register",value:function(){for(var qt=this,Nn=arguments.length,kn=new Array(Nn),An=0;An<Nn;An++)kn[An]=arguments[An];return kn.forEach(function(Kn){return qt.options.push(Kn)}),this}},{key:"contribution",value:function(){for(var qt=this,Nn=arguments.length,kn=new Array(Nn),An=0;An<Nn;An++)kn[An]=arguments[An];return kn.forEach(function(Kn){return qt.options.push(Re(Kn))}),this}}]),lt}();Wt.moduleId=0;function Yt(lt){return new Wt(lt)}var Lt=function(Ft){return function(qt,Nn,kn){Mt(Ft)(qt,Nn,kn),vn(be)(qt,Nn,kn)}},Dt;(function(lt){lt.Provider=be,lt.register=ht})(Dt||(Dt={}))},53893:function(j,M,l){"use strict";l.r(M),l.d(M,{amber:function(){return Q},black:function(){return Pe},blue:function(){return A},blueGrey:function(){return fe},brown:function(){return Y},cyan:function(){return w},darkIcons:function(){return ve},darkText:function(){return le},deepOrange:function(){return K},deepPurple:function(){return g},green:function(){return Z},grey:function(){return re},indigo:function(){return x},lightBlue:function(){return E},lightGreen:function(){return U},lightIcons:function(){return Oe},lightText:function(){return ie},lime:function(){return $},orange:function(){return J},pink:function(){return d},purple:function(){return m},red:function(){return v},teal:function(){return k},white:function(){return L},yellow:function(){return te}});var v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},d={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},m={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},g={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},x={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},A={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},E={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},w={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},k={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Z={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},U={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},$={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},te={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Q={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},J={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},K={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Y={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},re={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},fe={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},le={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},ie={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},ve={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},Oe={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},L="#ffffff",Pe="#000000";M.default={red:v,pink:d,purple:m,deepPurple:g,indigo:x,blue:A,lightBlue:E,cyan:w,teal:k,green:Z,lightGreen:U,lime:$,yellow:te,amber:Q,orange:J,deepOrange:K,brown:Y,grey:re,blueGrey:fe,darkText:le,lightText:ie,darkIcons:ve,lightIcons:Oe,white:L,black:Pe}},75823:function(j,M,l){"use strict";l.r(M),l.d(M,{default:function(){return g}});var v=l(44091);function d(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,v.isAnyArray)(x))throw new TypeError("input must be an array");if(x.length===0)throw new TypeError("input must not be empty");var E=A.fromIndex,w=E===void 0?0:E,k=A.toIndex,Z=k===void 0?x.length:k;if(w<0||w>=x.length||!Number.isInteger(w))throw new Error("fromIndex must be a positive integer smaller than length");if(Z<=w||Z>x.length||!Number.isInteger(Z))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var U=x[w],$=w+1;$<Z;$++)x[$]>U&&(U=x[$]);return U}function m(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,v.isAnyArray)(x))throw new TypeError("input must be an array");if(x.length===0)throw new TypeError("input must not be empty");var E=A.fromIndex,w=E===void 0?0:E,k=A.toIndex,Z=k===void 0?x.length:k;if(w<0||w>=x.length||!Number.isInteger(w))throw new Error("fromIndex must be a positive integer smaller than length");if(Z<=w||Z>x.length||!Number.isInteger(Z))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var U=x[w],$=w+1;$<Z;$++)x[$]<U&&(U=x[$]);return U}function g(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,v.isAnyArray)(x)){if(x.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var E;if(A.output!==void 0){if(!(0,v.isAnyArray)(A.output))throw new TypeError("output option must be an array if specified");E=A.output}else E=new Array(x.length);var w=m(x),k=d(x);if(w===k)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var Z=A.min,U=Z===void 0?A.autoMinMax?w:0:Z,$=A.max,te=$===void 0?A.autoMinMax?k:1:$;if(U>=te)throw new RangeError("min option must be smaller than max option");for(var Q=(te-U)/(k-w),J=0;J<x.length;J++)E[J]=(x[J]-w)*Q+U;return E}},30381:function(j,M,l){j=l.nmd(j);(function(v,d){j.exports=d()})(this,function(){"use strict";var v;function d(){return v.apply(null,arguments)}function m(O){v=O}function g(O){return O instanceof Array||Object.prototype.toString.call(O)==="[object Array]"}function x(O){return O!=null&&Object.prototype.toString.call(O)==="[object Object]"}function A(O,V){return Object.prototype.hasOwnProperty.call(O,V)}function E(O){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(O).length===0;var V;for(V in O)if(A(O,V))return!1;return!0}function w(O){return O===void 0}function k(O){return typeof O=="number"||Object.prototype.toString.call(O)==="[object Number]"}function Z(O){return O instanceof Date||Object.prototype.toString.call(O)==="[object Date]"}function U(O,V){var ae=[],we,qe=O.length;for(we=0;we<qe;++we)ae.push(V(O[we],we));return ae}function $(O,V){for(var ae in V)A(V,ae)&&(O[ae]=V[ae]);return A(V,"toString")&&(O.toString=V.toString),A(V,"valueOf")&&(O.valueOf=V.valueOf),O}function te(O,V,ae,we){return so(O,V,ae,we,!0).utc()}function Q(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function J(O){return O._pf==null&&(O._pf=Q()),O._pf}var K;Array.prototype.some?K=Array.prototype.some:K=function(O){var V=Object(this),ae=V.length>>>0,we;for(we=0;we<ae;we++)if(we in V&&O.call(this,V[we],we,V))return!0;return!1};function Y(O){var V=null,ae=!1,we=O._d&&!isNaN(O._d.getTime());if(we&&(V=J(O),ae=K.call(V.parsedDateParts,function(qe){return qe!=null}),we=V.overflow<0&&!V.empty&&!V.invalidEra&&!V.invalidMonth&&!V.invalidWeekday&&!V.weekdayMismatch&&!V.nullInput&&!V.invalidFormat&&!V.userInvalidated&&(!V.meridiem||V.meridiem&&ae),O._strict&&(we=we&&V.charsLeftOver===0&&V.unusedTokens.length===0&&V.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(O))O._isValid=we;else return we;return O._isValid}function re(O){var V=te(NaN);return O!=null?$(J(V),O):J(V).userInvalidated=!0,V}var fe=d.momentProperties=[],le=!1;function ie(O,V){var ae,we,qe,Rt=fe.length;if(w(V._isAMomentObject)||(O._isAMomentObject=V._isAMomentObject),w(V._i)||(O._i=V._i),w(V._f)||(O._f=V._f),w(V._l)||(O._l=V._l),w(V._strict)||(O._strict=V._strict),w(V._tzm)||(O._tzm=V._tzm),w(V._isUTC)||(O._isUTC=V._isUTC),w(V._offset)||(O._offset=V._offset),w(V._pf)||(O._pf=J(V)),w(V._locale)||(O._locale=V._locale),Rt>0)for(ae=0;ae<Rt;ae++)we=fe[ae],qe=V[we],w(qe)||(O[we]=qe);return O}function ve(O){ie(this,O),this._d=new Date(O._d!=null?O._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),le===!1&&(le=!0,d.updateOffset(this),le=!1)}function Oe(O){return O instanceof ve||O!=null&&O._isAMomentObject!=null}function L(O){d.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+O)}function Pe(O,V){var ae=!0;return $(function(){if(d.deprecationHandler!=null&&d.deprecationHandler(null,O),ae){var we=[],qe,Rt,In,Wr=arguments.length;for(Rt=0;Rt<Wr;Rt++){if(qe="",typeof arguments[Rt]=="object"){qe+=`
[`+Rt+"] ";for(In in arguments[0])A(arguments[0],In)&&(qe+=In+": "+arguments[0][In]+", ");qe=qe.slice(0,-2)}else qe=arguments[Rt];we.push(qe)}L(O+`
Arguments: `+Array.prototype.slice.call(we).join("")+`
`+new Error().stack),ae=!1}return V.apply(this,arguments)},V)}var pe={};function Be(O,V){d.deprecationHandler!=null&&d.deprecationHandler(O,V),pe[O]||(L(V),pe[O]=!0)}d.suppressDeprecationWarnings=!1,d.deprecationHandler=null;function je(O){return typeof Function!="undefined"&&O instanceof Function||Object.prototype.toString.call(O)==="[object Function]"}function he(O){var V,ae;for(ae in O)A(O,ae)&&(V=O[ae],je(V)?this[ae]=V:this["_"+ae]=V);this._config=O,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function st(O,V){var ae=$({},O),we;for(we in V)A(V,we)&&(x(O[we])&&x(V[we])?(ae[we]={},$(ae[we],O[we]),$(ae[we],V[we])):V[we]!=null?ae[we]=V[we]:delete ae[we]);for(we in O)A(O,we)&&!A(V,we)&&x(O[we])&&(ae[we]=$({},ae[we]));return ae}function en(O){O!=null&&this.set(O)}var vn;Object.keys?vn=Object.keys:vn=function(O){var V,ae=[];for(V in O)A(O,V)&&ae.push(V);return ae};var Mt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function It(O,V,ae){var we=this._calendar[O]||this._calendar.sameElse;return je(we)?we.call(V,ae):we}function Ve(O,V,ae){var we=""+Math.abs(O),qe=V-we.length,Rt=O>=0;return(Rt?ae?"+":"":"-")+Math.pow(10,Math.max(0,qe)).toString().substr(1)+we}var Me=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Qe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,bt={},Ge={};function Ae(O,V,ae,we){var qe=we;typeof we=="string"&&(qe=function(){return this[we]()}),O&&(Ge[O]=qe),V&&(Ge[V[0]]=function(){return Ve(qe.apply(this,arguments),V[1],V[2])}),ae&&(Ge[ae]=function(){return this.localeData().ordinal(qe.apply(this,arguments),O)})}function be(O){return O.match(/\[[\s\S]/)?O.replace(/^\[|\]$/g,""):O.replace(/\\/g,"")}function Ne(O){var V=O.match(Me),ae,we;for(ae=0,we=V.length;ae<we;ae++)Ge[V[ae]]?V[ae]=Ge[V[ae]]:V[ae]=be(V[ae]);return function(qe){var Rt="",In;for(In=0;In<we;In++)Rt+=je(V[In])?V[In].call(qe,O):V[In];return Rt}}function Re(O,V){return O.isValid()?(V=ht(V,O.localeData()),bt[V]=bt[V]||Ne(V),bt[V](O)):O.localeData().invalidDate()}function ht(O,V){var ae=5;function we(qe){return V.longDateFormat(qe)||qe}for(Qe.lastIndex=0;ae>=0&&Qe.test(O);)O=O.replace(Qe,we),Qe.lastIndex=0,ae-=1;return O}var Wt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Yt(O){var V=this._longDateFormat[O],ae=this._longDateFormat[O.toUpperCase()];return V||!ae?V:(this._longDateFormat[O]=ae.match(Me).map(function(we){return we==="MMMM"||we==="MM"||we==="DD"||we==="dddd"?we.slice(1):we}).join(""),this._longDateFormat[O])}var Lt="Invalid date";function Dt(){return this._invalidDate}var lt="%d",Ft=/\d{1,2}/;function qt(O){return this._ordinal.replace("%d",O)}var Nn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function kn(O,V,ae,we){var qe=this._relativeTime[ae];return je(qe)?qe(O,V,ae,we):qe.replace(/%d/i,O)}function An(O,V){var ae=this._relativeTime[O>0?"future":"past"];return je(ae)?ae(V):ae.replace(/%s/i,V)}var Kn={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ee(O){return typeof O=="string"?Kn[O]||Kn[O.toLowerCase()]:void 0}function it(O){var V={},ae,we;for(we in O)A(O,we)&&(ae=ee(we),ae&&(V[ae]=O[we]));return V}var Ze={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ot(O){var V=[],ae;for(ae in O)A(O,ae)&&V.push({unit:ae,priority:Ze[ae]});return V.sort(function(we,qe){return we.priority-qe.priority}),V}var Xe=/\d/,et=/\d\d/,pt=/\d{3}/,He=/\d{4}/,Et=/[+-]?\d{6}/,Vt=/\d\d?/,On=/\d\d\d\d?/,Wn=/\d\d\d\d\d\d?/,pr=/\d{1,3}/,Cr=/\d{1,4}/,Sn=/[+-]?\d{1,6}/,Cn=/\d+/,Fn=/[+-]?\d+/,Hn=/Z|[+-]\d\d:?\d\d/gi,sr=/Z|[+-]\d\d(?::?\d\d)?/gi,ti=/[+-]?\d+(\.\d{1,3})?/,Ir=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,kr=/^[1-9]\d?/,di=/^([1-9]\d|\d)/,Yn;Yn={};function Bt(O,V,ae){Yn[O]=je(V)?V:function(we,qe){return we&&ae?ae:V}}function kt(O,V){return A(Yn,O)?Yn[O](V._strict,V._locale):new RegExp(dn(O))}function dn(O){return Ot(O.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(V,ae,we,qe,Rt){return ae||we||qe||Rt}))}function Ot(O){return O.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ur(O){return O<0?Math.ceil(O)||0:Math.floor(O)}function Mn(O){var V=+O,ae=0;return V!==0&&isFinite(V)&&(ae=ur(V)),ae}var zr={};function jt(O,V){var ae,we=V,qe;for(typeof O=="string"&&(O=[O]),k(V)&&(we=function(Rt,In){In[V]=Mn(Rt)}),qe=O.length,ae=0;ae<qe;ae++)zr[O[ae]]=we}function gn(O,V){jt(O,function(ae,we,qe,Rt){qe._w=qe._w||{},V(ae,qe._w,qe,Rt)})}function Ln(O,V,ae){V!=null&&A(zr,O)&&zr[O](V,ae._a,ae,O)}function vt(O){return O%4===0&&O%100!==0||O%400===0}var Zt=0,or=1,ir=2,lr=3,Pr=4,$r=5,dr=6,ni=7,un=8;Ae("Y",0,0,function(){var O=this.year();return O<=9999?Ve(O,4):"+"+O}),Ae(0,["YY",2],0,function(){return this.year()%100}),Ae(0,["YYYY",4],0,"year"),Ae(0,["YYYYY",5],0,"year"),Ae(0,["YYYYYY",6,!0],0,"year"),Bt("Y",Fn),Bt("YY",Vt,et),Bt("YYYY",Cr,He),Bt("YYYYY",Sn,Et),Bt("YYYYYY",Sn,Et),jt(["YYYYY","YYYYYY"],Zt),jt("YYYY",function(O,V){V[Zt]=O.length===2?d.parseTwoDigitYear(O):Mn(O)}),jt("YY",function(O,V){V[Zt]=d.parseTwoDigitYear(O)}),jt("Y",function(O,V){V[Zt]=parseInt(O,10)});function ue(O){return vt(O)?366:365}d.parseTwoDigitYear=function(O){return Mn(O)+(Mn(O)>68?1900:2e3)};var De=R("FullYear",!0);function oe(){return vt(this.year())}function R(O,V){return function(ae){return ae!=null?(G(this,O,ae),d.updateOffset(this,V),this):N(this,O)}}function N(O,V){if(!O.isValid())return NaN;var ae=O._d,we=O._isUTC;switch(V){case"Milliseconds":return we?ae.getUTCMilliseconds():ae.getMilliseconds();case"Seconds":return we?ae.getUTCSeconds():ae.getSeconds();case"Minutes":return we?ae.getUTCMinutes():ae.getMinutes();case"Hours":return we?ae.getUTCHours():ae.getHours();case"Date":return we?ae.getUTCDate():ae.getDate();case"Day":return we?ae.getUTCDay():ae.getDay();case"Month":return we?ae.getUTCMonth():ae.getMonth();case"FullYear":return we?ae.getUTCFullYear():ae.getFullYear();default:return NaN}}function G(O,V,ae){var we,qe,Rt,In,Wr;if(!(!O.isValid()||isNaN(ae))){switch(we=O._d,qe=O._isUTC,V){case"Milliseconds":return void(qe?we.setUTCMilliseconds(ae):we.setMilliseconds(ae));case"Seconds":return void(qe?we.setUTCSeconds(ae):we.setSeconds(ae));case"Minutes":return void(qe?we.setUTCMinutes(ae):we.setMinutes(ae));case"Hours":return void(qe?we.setUTCHours(ae):we.setHours(ae));case"Date":return void(qe?we.setUTCDate(ae):we.setDate(ae));case"FullYear":break;default:return}Rt=ae,In=O.month(),Wr=O.date(),Wr=Wr===29&&In===1&&!vt(Rt)?28:Wr,qe?we.setUTCFullYear(Rt,In,Wr):we.setFullYear(Rt,In,Wr)}}function ye(O){return O=ee(O),je(this[O])?this[O]():this}function Ie(O,V){if(typeof O=="object"){O=it(O);var ae=ot(O),we,qe=ae.length;for(we=0;we<qe;we++)this[ae[we].unit](O[ae[we].unit])}else if(O=ee(O),je(this[O]))return this[O](V);return this}function ze(O,V){return(O%V+V)%V}var Ce;Array.prototype.indexOf?Ce=Array.prototype.indexOf:Ce=function(O){var V;for(V=0;V<this.length;++V)if(this[V]===O)return V;return-1};function ke(O,V){if(isNaN(O)||isNaN(V))return NaN;var ae=ze(V,12);return O+=(V-ae)/12,ae===1?vt(O)?29:28:31-ae%7%2}Ae("M",["MM",2],"Mo",function(){return this.month()+1}),Ae("MMM",0,0,function(O){return this.localeData().monthsShort(this,O)}),Ae("MMMM",0,0,function(O){return this.localeData().months(this,O)}),Bt("M",Vt,kr),Bt("MM",Vt,et),Bt("MMM",function(O,V){return V.monthsShortRegex(O)}),Bt("MMMM",function(O,V){return V.monthsRegex(O)}),jt(["M","MM"],function(O,V){V[or]=Mn(O)-1}),jt(["MMM","MMMM"],function(O,V,ae,we){var qe=ae._locale.monthsParse(O,we,ae._strict);qe!=null?V[or]=qe:J(ae).invalidMonth=O});var rt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),En=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Rn=Ir,$n=Ir;function Xn(O,V){return O?g(this._months)?this._months[O.month()]:this._months[(this._months.isFormat||En).test(V)?"format":"standalone"][O.month()]:g(this._months)?this._months:this._months.standalone}function $t(O,V){return O?g(this._monthsShort)?this._monthsShort[O.month()]:this._monthsShort[En.test(V)?"format":"standalone"][O.month()]:g(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function hn(O,V,ae){var we,qe,Rt,In=O.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],we=0;we<12;++we)Rt=te([2e3,we]),this._shortMonthsParse[we]=this.monthsShort(Rt,"").toLocaleLowerCase(),this._longMonthsParse[we]=this.months(Rt,"").toLocaleLowerCase();return ae?V==="MMM"?(qe=Ce.call(this._shortMonthsParse,In),qe!==-1?qe:null):(qe=Ce.call(this._longMonthsParse,In),qe!==-1?qe:null):V==="MMM"?(qe=Ce.call(this._shortMonthsParse,In),qe!==-1?qe:(qe=Ce.call(this._longMonthsParse,In),qe!==-1?qe:null)):(qe=Ce.call(this._longMonthsParse,In),qe!==-1?qe:(qe=Ce.call(this._shortMonthsParse,In),qe!==-1?qe:null))}function bn(O,V,ae){var we,qe,Rt;if(this._monthsParseExact)return hn.call(this,O,V,ae);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),we=0;we<12;we++){if(qe=te([2e3,we]),ae&&!this._longMonthsParse[we]&&(this._longMonthsParse[we]=new RegExp("^"+this.months(qe,"").replace(".","")+"$","i"),this._shortMonthsParse[we]=new RegExp("^"+this.monthsShort(qe,"").replace(".","")+"$","i")),!ae&&!this._monthsParse[we]&&(Rt="^"+this.months(qe,"")+"|^"+this.monthsShort(qe,""),this._monthsParse[we]=new RegExp(Rt.replace(".",""),"i")),ae&&V==="MMMM"&&this._longMonthsParse[we].test(O))return we;if(ae&&V==="MMM"&&this._shortMonthsParse[we].test(O))return we;if(!ae&&this._monthsParse[we].test(O))return we}}function br(O,V){if(!O.isValid())return O;if(typeof V=="string"){if(/^\d+$/.test(V))V=Mn(V);else if(V=O.localeData().monthsParse(V),!k(V))return O}var ae=V,we=O.date();return we=we<29?we:Math.min(we,ke(O.year(),ae)),O._isUTC?O._d.setUTCMonth(ae,we):O._d.setMonth(ae,we),O}function qn(O){return O!=null?(br(this,O),d.updateOffset(this,!0),this):N(this,"Month")}function Li(){return ke(this.year(),this.month())}function $i(O){return this._monthsParseExact?(A(this,"_monthsRegex")||co.call(this),O?this._monthsShortStrictRegex:this._monthsShortRegex):(A(this,"_monthsShortRegex")||(this._monthsShortRegex=Rn),this._monthsShortStrictRegex&&O?this._monthsShortStrictRegex:this._monthsShortRegex)}function Bi(O){return this._monthsParseExact?(A(this,"_monthsRegex")||co.call(this),O?this._monthsStrictRegex:this._monthsRegex):(A(this,"_monthsRegex")||(this._monthsRegex=$n),this._monthsStrictRegex&&O?this._monthsStrictRegex:this._monthsRegex)}function co(){function O(_i,So){return So.length-_i.length}var V=[],ae=[],we=[],qe,Rt,In,Wr;for(qe=0;qe<12;qe++)Rt=te([2e3,qe]),In=Ot(this.monthsShort(Rt,"")),Wr=Ot(this.months(Rt,"")),V.push(In),ae.push(Wr),we.push(Wr),we.push(In);V.sort(O),ae.sort(O),we.sort(O),this._monthsRegex=new RegExp("^("+we.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+ae.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+V.join("|")+")","i")}function Do(O,V,ae,we,qe,Rt,In){var Wr;return O<100&&O>=0?(Wr=new Date(O+400,V,ae,we,qe,Rt,In),isFinite(Wr.getFullYear())&&Wr.setFullYear(O)):Wr=new Date(O,V,ae,we,qe,Rt,In),Wr}function Wo(O){var V,ae;return O<100&&O>=0?(ae=Array.prototype.slice.call(arguments),ae[0]=O+400,V=new Date(Date.UTC.apply(null,ae)),isFinite(V.getUTCFullYear())&&V.setUTCFullYear(O)):V=new Date(Date.UTC.apply(null,arguments)),V}function hi(O,V,ae){var we=7+V-ae,qe=(7+Wo(O,0,we).getUTCDay()-V)%7;return-qe+we-1}function ua(O,V,ae,we,qe){var Rt=(7+ae-we)%7,In=hi(O,we,qe),Wr=1+7*(V-1)+Rt+In,_i,So;return Wr<=0?(_i=O-1,So=ue(_i)+Wr):Wr>ue(O)?(_i=O+1,So=Wr-ue(O)):(_i=O,So=Wr),{year:_i,dayOfYear:So}}function ya(O,V,ae){var we=hi(O.year(),V,ae),qe=Math.floor((O.dayOfYear()-we-1)/7)+1,Rt,In;return qe<1?(In=O.year()-1,Rt=qe+fi(In,V,ae)):qe>fi(O.year(),V,ae)?(Rt=qe-fi(O.year(),V,ae),In=O.year()+1):(In=O.year(),Rt=qe),{week:Rt,year:In}}function fi(O,V,ae){var we=hi(O,V,ae),qe=hi(O+1,V,ae);return(ue(O)-we+qe)/7}Ae("w",["ww",2],"wo","week"),Ae("W",["WW",2],"Wo","isoWeek"),Bt("w",Vt,kr),Bt("ww",Vt,et),Bt("W",Vt,kr),Bt("WW",Vt,et),gn(["w","ww","W","WW"],function(O,V,ae,we){V[we.substr(0,1)]=Mn(O)});function Pi(O){return ya(O,this._week.dow,this._week.doy).week}var Qi={dow:0,doy:6};function Zi(){return this._week.dow}function Ta(){return this._week.doy}function uo(O){var V=this.localeData().week(this);return O==null?V:this.add((O-V)*7,"d")}function xa(O){var V=ya(this,1,4).week;return O==null?V:this.add((O-V)*7,"d")}Ae("d",0,"do","day"),Ae("dd",0,0,function(O){return this.localeData().weekdaysMin(this,O)}),Ae("ddd",0,0,function(O){return this.localeData().weekdaysShort(this,O)}),Ae("dddd",0,0,function(O){return this.localeData().weekdays(this,O)}),Ae("e",0,0,"weekday"),Ae("E",0,0,"isoWeekday"),Bt("d",Vt),Bt("e",Vt),Bt("E",Vt),Bt("dd",function(O,V){return V.weekdaysMinRegex(O)}),Bt("ddd",function(O,V){return V.weekdaysShortRegex(O)}),Bt("dddd",function(O,V){return V.weekdaysRegex(O)}),gn(["dd","ddd","dddd"],function(O,V,ae,we){var qe=ae._locale.weekdaysParse(O,we,ae._strict);qe!=null?V.d=qe:J(ae).invalidWeekday=O}),gn(["d","e","E"],function(O,V,ae,we){V[we]=Mn(O)});function Qo(O,V){return typeof O!="string"?O:isNaN(O)?(O=V.weekdaysParse(O),typeof O=="number"?O:null):parseInt(O,10)}function ra(O,V){return typeof O=="string"?V.weekdaysParse(O)%7||7:isNaN(O)?null:O}function To(O,V){return O.slice(V,7).concat(O.slice(0,V))}var fa="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ba="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),sn=Ir,Ht=Ir,jn=Ir;function xr(O,V){var ae=g(this._weekdays)?this._weekdays:this._weekdays[O&&O!==!0&&this._weekdays.isFormat.test(V)?"format":"standalone"];return O===!0?To(ae,this._week.dow):O?ae[O.day()]:ae}function nr(O){return O===!0?To(this._weekdaysShort,this._week.dow):O?this._weekdaysShort[O.day()]:this._weekdaysShort}function zt(O){return O===!0?To(this._weekdaysMin,this._week.dow):O?this._weekdaysMin[O.day()]:this._weekdaysMin}function Qr(O,V,ae){var we,qe,Rt,In=O.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],we=0;we<7;++we)Rt=te([2e3,1]).day(we),this._minWeekdaysParse[we]=this.weekdaysMin(Rt,"").toLocaleLowerCase(),this._shortWeekdaysParse[we]=this.weekdaysShort(Rt,"").toLocaleLowerCase(),this._weekdaysParse[we]=this.weekdays(Rt,"").toLocaleLowerCase();return ae?V==="dddd"?(qe=Ce.call(this._weekdaysParse,In),qe!==-1?qe:null):V==="ddd"?(qe=Ce.call(this._shortWeekdaysParse,In),qe!==-1?qe:null):(qe=Ce.call(this._minWeekdaysParse,In),qe!==-1?qe:null):V==="dddd"?(qe=Ce.call(this._weekdaysParse,In),qe!==-1||(qe=Ce.call(this._shortWeekdaysParse,In),qe!==-1)?qe:(qe=Ce.call(this._minWeekdaysParse,In),qe!==-1?qe:null)):V==="ddd"?(qe=Ce.call(this._shortWeekdaysParse,In),qe!==-1||(qe=Ce.call(this._weekdaysParse,In),qe!==-1)?qe:(qe=Ce.call(this._minWeekdaysParse,In),qe!==-1?qe:null)):(qe=Ce.call(this._minWeekdaysParse,In),qe!==-1||(qe=Ce.call(this._weekdaysParse,In),qe!==-1)?qe:(qe=Ce.call(this._shortWeekdaysParse,In),qe!==-1?qe:null))}function hr(O,V,ae){var we,qe,Rt;if(this._weekdaysParseExact)return Qr.call(this,O,V,ae);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),we=0;we<7;we++){if(qe=te([2e3,1]).day(we),ae&&!this._fullWeekdaysParse[we]&&(this._fullWeekdaysParse[we]=new RegExp("^"+this.weekdays(qe,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[we]=new RegExp("^"+this.weekdaysShort(qe,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[we]=new RegExp("^"+this.weekdaysMin(qe,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[we]||(Rt="^"+this.weekdays(qe,"")+"|^"+this.weekdaysShort(qe,"")+"|^"+this.weekdaysMin(qe,""),this._weekdaysParse[we]=new RegExp(Rt.replace(".",""),"i")),ae&&V==="dddd"&&this._fullWeekdaysParse[we].test(O))return we;if(ae&&V==="ddd"&&this._shortWeekdaysParse[we].test(O))return we;if(ae&&V==="dd"&&this._minWeekdaysParse[we].test(O))return we;if(!ae&&this._weekdaysParse[we].test(O))return we}}function gi(O){if(!this.isValid())return O!=null?this:NaN;var V=N(this,"Day");return O!=null?(O=Qo(O,this.localeData()),this.add(O-V,"d")):V}function mo(O){if(!this.isValid())return O!=null?this:NaN;var V=(this.day()+7-this.localeData()._week.dow)%7;return O==null?V:this.add(O-V,"d")}function No(O){if(!this.isValid())return O!=null?this:NaN;if(O!=null){var V=ra(O,this.localeData());return this.day(this.day()%7?V:V-7)}else return this.day()||7}function io(O){return this._weekdaysParseExact?(A(this,"_weekdaysRegex")||ha.call(this),O?this._weekdaysStrictRegex:this._weekdaysRegex):(A(this,"_weekdaysRegex")||(this._weekdaysRegex=sn),this._weekdaysStrictRegex&&O?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ti(O){return this._weekdaysParseExact?(A(this,"_weekdaysRegex")||ha.call(this),O?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(A(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ht),this._weekdaysShortStrictRegex&&O?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Fi(O){return this._weekdaysParseExact?(A(this,"_weekdaysRegex")||ha.call(this),O?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(A(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jn),this._weekdaysMinStrictRegex&&O?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ha(){function O(Ho,ga){return ga.length-Ho.length}var V=[],ae=[],we=[],qe=[],Rt,In,Wr,_i,So;for(Rt=0;Rt<7;Rt++)In=te([2e3,1]).day(Rt),Wr=Ot(this.weekdaysMin(In,"")),_i=Ot(this.weekdaysShort(In,"")),So=Ot(this.weekdays(In,"")),V.push(Wr),ae.push(_i),we.push(So),qe.push(Wr),qe.push(_i),qe.push(So);V.sort(O),ae.sort(O),we.sort(O),qe.sort(O),this._weekdaysRegex=new RegExp("^("+qe.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+we.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+ae.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+V.join("|")+")","i")}function Ea(){return this.hours()%12||12}function ea(){return this.hours()||24}Ae("H",["HH",2],0,"hour"),Ae("h",["hh",2],0,Ea),Ae("k",["kk",2],0,ea),Ae("hmm",0,0,function(){return""+Ea.apply(this)+Ve(this.minutes(),2)}),Ae("hmmss",0,0,function(){return""+Ea.apply(this)+Ve(this.minutes(),2)+Ve(this.seconds(),2)}),Ae("Hmm",0,0,function(){return""+this.hours()+Ve(this.minutes(),2)}),Ae("Hmmss",0,0,function(){return""+this.hours()+Ve(this.minutes(),2)+Ve(this.seconds(),2)});function Ja(O,V){Ae(O,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),V)})}Ja("a",!0),Ja("A",!1);function hs(O,V){return V._meridiemParse}Bt("a",hs),Bt("A",hs),Bt("H",Vt,di),Bt("h",Vt,kr),Bt("k",Vt,kr),Bt("HH",Vt,et),Bt("hh",Vt,et),Bt("kk",Vt,et),Bt("hmm",On),Bt("hmmss",Wn),Bt("Hmm",On),Bt("Hmmss",Wn),jt(["H","HH"],lr),jt(["k","kk"],function(O,V,ae){var we=Mn(O);V[lr]=we===24?0:we}),jt(["a","A"],function(O,V,ae){ae._isPm=ae._locale.isPM(O),ae._meridiem=O}),jt(["h","hh"],function(O,V,ae){V[lr]=Mn(O),J(ae).bigHour=!0}),jt("hmm",function(O,V,ae){var we=O.length-2;V[lr]=Mn(O.substr(0,we)),V[Pr]=Mn(O.substr(we)),J(ae).bigHour=!0}),jt("hmmss",function(O,V,ae){var we=O.length-4,qe=O.length-2;V[lr]=Mn(O.substr(0,we)),V[Pr]=Mn(O.substr(we,2)),V[$r]=Mn(O.substr(qe)),J(ae).bigHour=!0}),jt("Hmm",function(O,V,ae){var we=O.length-2;V[lr]=Mn(O.substr(0,we)),V[Pr]=Mn(O.substr(we))}),jt("Hmmss",function(O,V,ae){var we=O.length-4,qe=O.length-2;V[lr]=Mn(O.substr(0,we)),V[Pr]=Mn(O.substr(we,2)),V[$r]=Mn(O.substr(qe))});function Gs(O){return(O+"").toLowerCase().charAt(0)==="p"}var Ki=/[ap]\.?m?\.?/i,Oa=R("Hours",!0);function qa(O,V,ae){return O>11?ae?"pm":"PM":ae?"am":"AM"}var da={calendar:Mt,longDateFormat:Wt,invalidDate:Lt,ordinal:lt,dayOfMonthOrdinalParse:Ft,relativeTime:Nn,months:rt,monthsShort:Tt,week:Qi,weekdays:fa,weekdaysMin:xt,weekdaysShort:Ba,meridiemParse:Ki},Aa={},Ps={},wa;function is(O,V){var ae,we=Math.min(O.length,V.length);for(ae=0;ae<we;ae+=1)if(O[ae]!==V[ae])return ae;return we}function Pl(O){return O&&O.toLowerCase().replace("_","-")}function F(O){for(var V=0,ae,we,qe,Rt;V<O.length;){for(Rt=Pl(O[V]).split("-"),ae=Rt.length,we=Pl(O[V+1]),we=we?we.split("-"):null;ae>0;){if(qe=ge(Rt.slice(0,ae).join("-")),qe)return qe;if(we&&we.length>=ae&&is(Rt,we)>=ae-1)break;ae--}V++}return wa}function X(O){return!!(O&&O.match("^[^/\\\\]*$"))}function ge(O){var V=null,ae;if(Aa[O]===void 0&&j&&j.exports&&X(O))try{V=wa._abbr,ae=void 0,Object(function(){var qe=new Error("Cannot find module 'undefined'");throw qe.code="MODULE_NOT_FOUND",qe}()),_e(V)}catch(we){Aa[O]=null}return Aa[O]}function _e(O,V){var ae;return O&&(w(V)?ae=gt(O):ae=Je(O,V),ae?wa=ae:typeof console!="undefined"&&console.warn&&console.warn("Locale "+O+" not found. Did you forget to load it?")),wa._abbr}function Je(O,V){if(V!==null){var ae,we=da;if(V.abbr=O,Aa[O]!=null)Be("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),we=Aa[O]._config;else if(V.parentLocale!=null)if(Aa[V.parentLocale]!=null)we=Aa[V.parentLocale]._config;else if(ae=ge(V.parentLocale),ae!=null)we=ae._config;else return Ps[V.parentLocale]||(Ps[V.parentLocale]=[]),Ps[V.parentLocale].push({name:O,config:V}),null;return Aa[O]=new en(st(we,V)),Ps[O]&&Ps[O].forEach(function(qe){Je(qe.name,qe.config)}),_e(O),Aa[O]}else return delete Aa[O],null}function tt(O,V){if(V!=null){var ae,we,qe=da;Aa[O]!=null&&Aa[O].parentLocale!=null?Aa[O].set(st(Aa[O]._config,V)):(we=ge(O),we!=null&&(qe=we._config),V=st(qe,V),we==null&&(V.abbr=O),ae=new en(V),ae.parentLocale=Aa[O],Aa[O]=ae),_e(O)}else Aa[O]!=null&&(Aa[O].parentLocale!=null?(Aa[O]=Aa[O].parentLocale,O===_e()&&_e(O)):Aa[O]!=null&&delete Aa[O]);return Aa[O]}function gt(O){var V;if(O&&O._locale&&O._locale._abbr&&(O=O._locale._abbr),!O)return wa;if(!g(O)){if(V=ge(O),V)return V;O=[O]}return F(O)}function _n(){return vn(Aa)}function Dn(O){var V,ae=O._a;return ae&&J(O).overflow===-2&&(V=ae[or]<0||ae[or]>11?or:ae[ir]<1||ae[ir]>ke(ae[Zt],ae[or])?ir:ae[lr]<0||ae[lr]>24||ae[lr]===24&&(ae[Pr]!==0||ae[$r]!==0||ae[dr]!==0)?lr:ae[Pr]<0||ae[Pr]>59?Pr:ae[$r]<0||ae[$r]>59?$r:ae[dr]<0||ae[dr]>999?dr:-1,J(O)._overflowDayOfYear&&(V<Zt||V>ir)&&(V=ir),J(O)._overflowWeeks&&V===-1&&(V=ni),J(O)._overflowWeekday&&V===-1&&(V=un),J(O).overflow=V),O}var Un=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Dr=/Z|[+-]\d\d(?::?\d\d)?/,fr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Er=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ao=/^\/?Date\((-?\d+)/i,oo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ba={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function es(O){var V,ae,we=O._i,qe=Un.exec(we)||Mr.exec(we),Rt,In,Wr,_i,So=fr.length,Ho=Er.length;if(qe){for(J(O).iso=!0,V=0,ae=So;V<ae;V++)if(fr[V][1].exec(qe[1])){In=fr[V][0],Rt=fr[V][2]!==!1;break}if(In==null){O._isValid=!1;return}if(qe[3]){for(V=0,ae=Ho;V<ae;V++)if(Er[V][1].exec(qe[3])){Wr=(qe[2]||" ")+Er[V][0];break}if(Wr==null){O._isValid=!1;return}}if(!Rt&&Wr!=null){O._isValid=!1;return}if(qe[4])if(Dr.exec(qe[4]))_i="Z";else{O._isValid=!1;return}O._f=In+(Wr||"")+(_i||""),Ro(O)}else O._isValid=!1}function Da(O,V,ae,we,qe,Rt){var In=[ut(O),Tt.indexOf(V),parseInt(ae,10),parseInt(we,10),parseInt(qe,10)];return Rt&&In.push(parseInt(Rt,10)),In}function ut(O){var V=parseInt(O,10);return V<=49?2e3+V:V<=999?1900+V:V}function on(O){return O.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function xn(O,V,ae){if(O){var we=Ba.indexOf(O),qe=new Date(V[0],V[1],V[2]).getDay();if(we!==qe)return J(ae).weekdayMismatch=!0,ae._isValid=!1,!1}return!0}function cr(O,V,ae){if(O)return ba[O];if(V)return 0;var we=parseInt(ae,10),qe=we%100,Rt=(we-qe)/100;return Rt*60+qe}function mn(O){var V=oo.exec(on(O._i)),ae;if(V){if(ae=Da(V[4],V[3],V[2],V[5],V[6],V[7]),!xn(V[1],ae,O))return;O._a=ae,O._tzm=cr(V[8],V[9],V[10]),O._d=Wo.apply(null,O._a),O._d.setUTCMinutes(O._d.getUTCMinutes()-O._tzm),J(O).rfc2822=!0}else O._isValid=!1}function Or(O){var V=ao.exec(O._i);if(V!==null){O._d=new Date(+V[1]);return}if(es(O),O._isValid===!1)delete O._isValid;else return;if(mn(O),O._isValid===!1)delete O._isValid;else return;O._strict?O._isValid=!1:d.createFromInputFallback(O)}d.createFromInputFallback=Pe("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(O){O._d=new Date(O._i+(O._useUTC?" UTC":""))});function ei(O,V,ae){return O!=null?O:V!=null?V:ae}function Ni(O){var V=new Date(d.now());return O._useUTC?[V.getUTCFullYear(),V.getUTCMonth(),V.getUTCDate()]:[V.getFullYear(),V.getMonth(),V.getDate()]}function ki(O){var V,ae,we=[],qe,Rt,In;if(!O._d){for(qe=Ni(O),O._w&&O._a[ir]==null&&O._a[or]==null&&yo(O),O._dayOfYear!=null&&(In=ei(O._a[Zt],qe[Zt]),(O._dayOfYear>ue(In)||O._dayOfYear===0)&&(J(O)._overflowDayOfYear=!0),ae=Wo(In,0,O._dayOfYear),O._a[or]=ae.getUTCMonth(),O._a[ir]=ae.getUTCDate()),V=0;V<3&&O._a[V]==null;++V)O._a[V]=we[V]=qe[V];for(;V<7;V++)O._a[V]=we[V]=O._a[V]==null?V===2?1:0:O._a[V];O._a[lr]===24&&O._a[Pr]===0&&O._a[$r]===0&&O._a[dr]===0&&(O._nextDay=!0,O._a[lr]=0),O._d=(O._useUTC?Wo:Do).apply(null,we),Rt=O._useUTC?O._d.getUTCDay():O._d.getDay(),O._tzm!=null&&O._d.setUTCMinutes(O._d.getUTCMinutes()-O._tzm),O._nextDay&&(O._a[lr]=24),O._w&&typeof O._w.d!="undefined"&&O._w.d!==Rt&&(J(O).weekdayMismatch=!0)}}function yo(O){var V,ae,we,qe,Rt,In,Wr,_i,So;V=O._w,V.GG!=null||V.W!=null||V.E!=null?(Rt=1,In=4,ae=ei(V.GG,O._a[Zt],ya(Si(),1,4).year),we=ei(V.W,1),qe=ei(V.E,1),(qe<1||qe>7)&&(_i=!0)):(Rt=O._locale._week.dow,In=O._locale._week.doy,So=ya(Si(),Rt,In),ae=ei(V.gg,O._a[Zt],So.year),we=ei(V.w,So.week),V.d!=null?(qe=V.d,(qe<0||qe>6)&&(_i=!0)):V.e!=null?(qe=V.e+Rt,(V.e<0||V.e>6)&&(_i=!0)):qe=Rt),we<1||we>fi(ae,Rt,In)?J(O)._overflowWeeks=!0:_i!=null?J(O)._overflowWeekday=!0:(Wr=ua(ae,we,qe,Rt,In),O._a[Zt]=Wr.year,O._dayOfYear=Wr.dayOfYear)}d.ISO_8601=function(){},d.RFC_2822=function(){};function Ro(O){if(O._f===d.ISO_8601){es(O);return}if(O._f===d.RFC_2822){mn(O);return}O._a=[],J(O).empty=!0;var V=""+O._i,ae,we,qe,Rt,In,Wr=V.length,_i=0,So,Ho;for(qe=ht(O._f,O._locale).match(Me)||[],Ho=qe.length,ae=0;ae<Ho;ae++)Rt=qe[ae],we=(V.match(kt(Rt,O))||[])[0],we&&(In=V.substr(0,V.indexOf(we)),In.length>0&&J(O).unusedInput.push(In),V=V.slice(V.indexOf(we)+we.length),_i+=we.length),Ge[Rt]?(we?J(O).empty=!1:J(O).unusedTokens.push(Rt),Ln(Rt,we,O)):O._strict&&!we&&J(O).unusedTokens.push(Rt);J(O).charsLeftOver=Wr-_i,V.length>0&&J(O).unusedInput.push(V),O._a[lr]<=12&&J(O).bigHour===!0&&O._a[lr]>0&&(J(O).bigHour=void 0),J(O).parsedDateParts=O._a.slice(0),J(O).meridiem=O._meridiem,O._a[lr]=Lo(O._locale,O._a[lr],O._meridiem),So=J(O).era,So!==null&&(O._a[Zt]=O._locale.erasConvertYear(So,O._a[Zt])),ki(O),Dn(O)}function Lo(O,V,ae){var we;return ae==null?V:O.meridiemHour!=null?O.meridiemHour(V,ae):(O.isPM!=null&&(we=O.isPM(ae),we&&V<12&&(V+=12),!we&&V===12&&(V=0)),V)}function Jo(O){var V,ae,we,qe,Rt,In,Wr=!1,_i=O._f.length;if(_i===0){J(O).invalidFormat=!0,O._d=new Date(NaN);return}for(qe=0;qe<_i;qe++)Rt=0,In=!1,V=ie({},O),O._useUTC!=null&&(V._useUTC=O._useUTC),V._f=O._f[qe],Ro(V),Y(V)&&(In=!0),Rt+=J(V).charsLeftOver,Rt+=J(V).unusedTokens.length*10,J(V).score=Rt,Wr?Rt<we&&(we=Rt,ae=V):(we==null||Rt<we||In)&&(we=Rt,ae=V,In&&(Wr=!0));$(O,ae||V)}function Io(O){if(!O._d){var V=it(O._i),ae=V.day===void 0?V.date:V.day;O._a=U([V.year,V.month,ae,V.hour,V.minute,V.second,V.millisecond],function(we){return we&&parseInt(we,10)}),ki(O)}}function qo(O){var V=new ve(Dn(Vo(O)));return V._nextDay&&(V.add(1,"d"),V._nextDay=void 0),V}function Vo(O){var V=O._i,ae=O._f;return O._locale=O._locale||gt(O._l),V===null||ae===void 0&&V===""?re({nullInput:!0}):(typeof V=="string"&&(O._i=V=O._locale.preparse(V)),Oe(V)?new ve(Dn(V)):(Z(V)?O._d=V:g(ae)?Jo(O):ae?Ro(O):jo(O),Y(O)||(O._d=null),O))}function jo(O){var V=O._i;w(V)?O._d=new Date(d.now()):Z(V)?O._d=new Date(V.valueOf()):typeof V=="string"?Or(O):g(V)?(O._a=U(V.slice(0),function(ae){return parseInt(ae,10)}),ki(O)):x(V)?Io(O):k(V)?O._d=new Date(V):d.createFromInputFallback(O)}function so(O,V,ae,we,qe){var Rt={};return(V===!0||V===!1)&&(we=V,V=void 0),(ae===!0||ae===!1)&&(we=ae,ae=void 0),(x(O)&&E(O)||g(O)&&O.length===0)&&(O=void 0),Rt._isAMomentObject=!0,Rt._useUTC=Rt._isUTC=qe,Rt._l=ae,Rt._i=O,Rt._f=V,Rt._strict=we,qo(Rt)}function Si(O,V,ae,we){return so(O,V,ae,we,!1)}var pa=Pe("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var O=Si.apply(null,arguments);return this.isValid()&&O.isValid()?O<this?this:O:re()}),xo=Pe("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var O=Si.apply(null,arguments);return this.isValid()&&O.isValid()?O>this?this:O:re()});function Pa(O,V){var ae,we;if(V.length===1&&g(V[0])&&(V=V[0]),!V.length)return Si();for(ae=V[0],we=1;we<V.length;++we)(!V[we].isValid()||V[we][O](ae))&&(ae=V[we]);return ae}function Fo(){var O=[].slice.call(arguments,0);return Pa("isBefore",O)}function Sa(){var O=[].slice.call(arguments,0);return Pa("isAfter",O)}var Bo=function(){return Date.now?Date.now():+new Date},se=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ye(O){var V,ae=!1,we,qe=se.length;for(V in O)if(A(O,V)&&!(Ce.call(se,V)!==-1&&(O[V]==null||!isNaN(O[V]))))return!1;for(we=0;we<qe;++we)if(O[se[we]]){if(ae)return!1;parseFloat(O[se[we]])!==Mn(O[se[we]])&&(ae=!0)}return!0}function ft(){return this._isValid}function Ct(){return Yi(NaN)}function nn(O){var V=it(O),ae=V.year||0,we=V.quarter||0,qe=V.month||0,Rt=V.week||V.isoWeek||0,In=V.day||0,Wr=V.hour||0,_i=V.minute||0,So=V.second||0,Ho=V.millisecond||0;this._isValid=Ye(V),this._milliseconds=+Ho+So*1e3+_i*6e4+Wr*1e3*60*60,this._days=+In+Rt*7,this._months=+qe+we*3+ae*12,this._data={},this._locale=gt(),this._bubble()}function yn(O){return O instanceof nn}function Vn(O){return O<0?Math.round(-1*O)*-1:Math.round(O)}function wr(O,V,ae){var we=Math.min(O.length,V.length),qe=Math.abs(O.length-V.length),Rt=0,In;for(In=0;In<we;In++)(ae&&O[In]!==V[In]||!ae&&Mn(O[In])!==Mn(V[In]))&&Rt++;return Rt+qe}function Nr(O,V){Ae(O,0,0,function(){var ae=this.utcOffset(),we="+";return ae<0&&(ae=-ae,we="-"),we+Ve(~~(ae/60),2)+V+Ve(~~ae%60,2)})}Nr("Z",":"),Nr("ZZ",""),Bt("Z",sr),Bt("ZZ",sr),jt(["Z","ZZ"],function(O,V,ae){ae._useUTC=!0,ae._tzm=bi(sr,O)});var jr=/([\+\-]|\d\d)/gi;function bi(O,V){var ae=(V||"").match(O),we,qe,Rt;return ae===null?null:(we=ae[ae.length-1]||[],qe=(we+"").match(jr)||["-",0,0],Rt=+(qe[1]*60)+Mn(qe[2]),Rt===0?0:qe[0]==="+"?Rt:-Rt)}function Hr(O,V){var ae,we;return V._isUTC?(ae=V.clone(),we=(Oe(O)||Z(O)?O.valueOf():Si(O).valueOf())-ae.valueOf(),ae._d.setTime(ae._d.valueOf()+we),d.updateOffset(ae,!1),ae):Si(O).local()}function _r(O){return-Math.round(O._d.getTimezoneOffset())}d.updateOffset=function(){};function Lr(O,V,ae){var we=this._offset||0,qe;if(!this.isValid())return O!=null?this:NaN;if(O!=null){if(typeof O=="string"){if(O=bi(sr,O),O===null)return this}else Math.abs(O)<16&&!ae&&(O=O*60);return!this._isUTC&&V&&(qe=_r(this)),this._offset=O,this._isUTC=!0,qe!=null&&this.add(qe,"m"),we!==O&&(!V||this._changeInProgress?ko(this,Yi(O-we,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?we:_r(this)}function Ar(O,V){return O!=null?(typeof O!="string"&&(O=-O),this.utcOffset(O,V),this):-this.utcOffset()}function mi(O){return this.utcOffset(0,O)}function oi(O){return this._isUTC&&(this.utcOffset(0,O),this._isUTC=!1,O&&this.subtract(_r(this),"m")),this}function Pt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var O=bi(Hn,this._i);O!=null?this.utcOffset(O):this.utcOffset(0,!0)}return this}function cn(O){return this.isValid()?(O=O?Si(O).utcOffset():0,(this.utcOffset()-O)%60===0):!1}function Qn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _t(){if(!w(this._isDSTShifted))return this._isDSTShifted;var O={},V;return ie(O,this),O=Vo(O),O._a?(V=O._isUTC?te(O._a):Si(O._a),this._isDSTShifted=this.isValid()&&wr(O._a,V.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Xt(){return this.isValid()?!this._isUTC:!1}function an(){return this.isValid()?this._isUTC:!1}function yr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ur=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ci=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Yi(O,V){var ae=O,we=null,qe,Rt,In;return yn(O)?ae={ms:O._milliseconds,d:O._days,M:O._months}:k(O)||!isNaN(+O)?(ae={},V?ae[V]=+O:ae.milliseconds=+O):(we=Ur.exec(O))?(qe=we[1]==="-"?-1:1,ae={y:0,d:Mn(we[ir])*qe,h:Mn(we[lr])*qe,m:Mn(we[Pr])*qe,s:Mn(we[$r])*qe,ms:Mn(Vn(we[dr]*1e3))*qe}):(we=ci.exec(O))?(qe=we[1]==="-"?-1:1,ae={y:ui(we[2],qe),M:ui(we[3],qe),w:ui(we[4],qe),d:ui(we[5],qe),h:ui(we[6],qe),m:ui(we[7],qe),s:ui(we[8],qe)}):ae==null?ae={}:typeof ae=="object"&&("from"in ae||"to"in ae)&&(In=wo(Si(ae.from),Si(ae.to)),ae={},ae.ms=In.milliseconds,ae.M=In.months),Rt=new nn(ae),yn(O)&&A(O,"_locale")&&(Rt._locale=O._locale),yn(O)&&A(O,"_isValid")&&(Rt._isValid=O._isValid),Rt}Yi.fn=nn.prototype,Yi.invalid=Ct;function ui(O,V){var ae=O&&parseFloat(O.replace(",","."));return(isNaN(ae)?0:ae)*V}function go(O,V){var ae={};return ae.months=V.month()-O.month()+(V.year()-O.year())*12,O.clone().add(ae.months,"M").isAfter(V)&&--ae.months,ae.milliseconds=+V-+O.clone().add(ae.months,"M"),ae}function wo(O,V){var ae;return O.isValid()&&V.isValid()?(V=Hr(V,O),O.isBefore(V)?ae=go(O,V):(ae=go(V,O),ae.milliseconds=-ae.milliseconds,ae.months=-ae.months),ae):{milliseconds:0,months:0}}function ji(O,V){return function(ae,we){var qe,Rt;return we!==null&&!isNaN(+we)&&(Be(V,"moment()."+V+"(period, number) is deprecated. Please use moment()."+V+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Rt=ae,ae=we,we=Rt),qe=Yi(ae,we),ko(this,qe,O),this}}function ko(O,V,ae,we){var qe=V._milliseconds,Rt=Vn(V._days),In=Vn(V._months);O.isValid()&&(we=we==null?!0:we,In&&br(O,N(O,"Month")+In*ae),Rt&&G(O,"Date",N(O,"Date")+Rt*ae),qe&&O._d.setTime(O._d.valueOf()+qe*ae),we&&d.updateOffset(O,Rt||In))}var os=ji(1,"add"),La=ji(-1,"subtract");function Ua(O){return typeof O=="string"||O instanceof String}function cs(O){return Oe(O)||Z(O)||Ua(O)||k(O)||Ka(O)||sa(O)||O===null||O===void 0}function sa(O){var V=x(O)&&!E(O),ae=!1,we=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],qe,Rt,In=we.length;for(qe=0;qe<In;qe+=1)Rt=we[qe],ae=ae||A(O,Rt);return V&&ae}function Ka(O){var V=g(O),ae=!1;return V&&(ae=O.filter(function(we){return!k(we)&&Ua(O)}).length===0),V&&ae}function Ks(O){var V=x(O)&&!E(O),ae=!1,we=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],qe,Rt;for(qe=0;qe<we.length;qe+=1)Rt=we[qe],ae=ae||A(O,Rt);return V&&ae}function qs(O,V){var ae=O.diff(V,"days",!0);return ae<-6?"sameElse":ae<-1?"lastWeek":ae<0?"lastDay":ae<1?"sameDay":ae<2?"nextDay":ae<7?"nextWeek":"sameElse"}function yl(O,V){arguments.length===1&&(arguments[0]?cs(arguments[0])?(O=arguments[0],V=void 0):Ks(arguments[0])&&(V=arguments[0],O=void 0):(O=void 0,V=void 0));var ae=O||Si(),we=Hr(ae,this).startOf("day"),qe=d.calendarFormat(this,we)||"sameElse",Rt=V&&(je(V[qe])?V[qe].call(this,ae):V[qe]);return this.format(Rt||this.localeData().calendar(qe,this,Si(ae)))}function Ds(){return new ve(this)}function tc(O,V){var ae=Oe(O)?O:Si(O);return this.isValid()&&ae.isValid()?(V=ee(V)||"millisecond",V==="millisecond"?this.valueOf()>ae.valueOf():ae.valueOf()<this.clone().startOf(V).valueOf()):!1}function Rl(O,V){var ae=Oe(O)?O:Si(O);return this.isValid()&&ae.isValid()?(V=ee(V)||"millisecond",V==="millisecond"?this.valueOf()<ae.valueOf():this.clone().endOf(V).valueOf()<ae.valueOf()):!1}function Ca(O,V,ae,we){var qe=Oe(O)?O:Si(O),Rt=Oe(V)?V:Si(V);return this.isValid()&&qe.isValid()&&Rt.isValid()?(we=we||"()",(we[0]==="("?this.isAfter(qe,ae):!this.isBefore(qe,ae))&&(we[1]===")"?this.isBefore(Rt,ae):!this.isAfter(Rt,ae))):!1}function us(O,V){var ae=Oe(O)?O:Si(O),we;return this.isValid()&&ae.isValid()?(V=ee(V)||"millisecond",V==="millisecond"?this.valueOf()===ae.valueOf():(we=ae.valueOf(),this.clone().startOf(V).valueOf()<=we&&we<=this.clone().endOf(V).valueOf())):!1}function Va(O,V){return this.isSame(O,V)||this.isAfter(O,V)}function zs(O,V){return this.isSame(O,V)||this.isBefore(O,V)}function Fa(O,V,ae){var we,qe,Rt;if(!this.isValid())return NaN;if(we=Hr(O,this),!we.isValid())return NaN;switch(qe=(we.utcOffset()-this.utcOffset())*6e4,V=ee(V),V){case"year":Rt=Ys(this,we)/12;break;case"month":Rt=Ys(this,we);break;case"quarter":Rt=Ys(this,we)/3;break;case"second":Rt=(this-we)/1e3;break;case"minute":Rt=(this-we)/6e4;break;case"hour":Rt=(this-we)/36e5;break;case"day":Rt=(this-we-qe)/864e5;break;case"week":Rt=(this-we-qe)/6048e5;break;default:Rt=this-we}return ae?Rt:ur(Rt)}function Ys(O,V){if(O.date()<V.date())return-Ys(V,O);var ae=(V.year()-O.year())*12+(V.month()-O.month()),we=O.clone().add(ae,"months"),qe,Rt;return V-we<0?(qe=O.clone().add(ae-1,"months"),Rt=(V-we)/(we-qe)):(qe=O.clone().add(ae+1,"months"),Rt=(V-we)/(qe-we)),-(ae+Rt)||0}d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",d.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Us(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function _s(O){if(!this.isValid())return null;var V=O!==!0,ae=V?this.clone().utc():this;return ae.year()<0||ae.year()>9999?Re(ae,V?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):je(Date.prototype.toISOString)?V?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Re(ae,"Z")):Re(ae,V?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Tl(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var O="moment",V="",ae,we,qe,Rt;return this.isLocal()||(O=this.utcOffset()===0?"moment.utc":"moment.parseZone",V="Z"),ae="["+O+'("]',we=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",qe="-MM-DD[T]HH:mm:ss.SSS",Rt=V+'[")]',this.format(ae+we+qe+Rt)}function Bl(O){O||(O=this.isUtc()?d.defaultFormatUtc:d.defaultFormat);var V=Re(this,O);return this.localeData().postformat(V)}function Zl(O,V){return this.isValid()&&(Oe(O)&&O.isValid()||Si(O).isValid())?Yi({to:this,from:O}).locale(this.locale()).humanize(!V):this.localeData().invalidDate()}function Pc(O){return this.from(Si(),O)}function zl(O,V){return this.isValid()&&(Oe(O)&&O.isValid()||Si(O).isValid())?Yi({from:this,to:O}).locale(this.locale()).humanize(!V):this.localeData().invalidDate()}function uc(O){return this.to(Si(),O)}function Uc(O){var V;return O===void 0?this._locale._abbr:(V=gt(O),V!=null&&(this._locale=V),this)}var nl=Pe("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(O){return O===void 0?this.localeData():this.locale(O)});function bc(){return this._locale}var kc=1e3,ll=60*kc,fc=60*ll,bl=(365*400+97)*24*fc;function Ha(O,V){return(O%V+V)%V}function Ts(O,V,ae){return O<100&&O>=0?new Date(O+400,V,ae)-bl:new Date(O,V,ae).valueOf()}function Yl(O,V,ae){return O<100&&O>=0?Date.UTC(O+400,V,ae)-bl:Date.UTC(O,V,ae)}function nc(O){var V,ae;if(O=ee(O),O===void 0||O==="millisecond"||!this.isValid())return this;switch(ae=this._isUTC?Yl:Ts,O){case"year":V=ae(this.year(),0,1);break;case"quarter":V=ae(this.year(),this.month()-this.month()%3,1);break;case"month":V=ae(this.year(),this.month(),1);break;case"week":V=ae(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":V=ae(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":V=ae(this.year(),this.month(),this.date());break;case"hour":V=this._d.valueOf(),V-=Ha(V+(this._isUTC?0:this.utcOffset()*ll),fc);break;case"minute":V=this._d.valueOf(),V-=Ha(V,ll);break;case"second":V=this._d.valueOf(),V-=Ha(V,kc);break}return this._d.setTime(V),d.updateOffset(this,!0),this}function Ol(O){var V,ae;if(O=ee(O),O===void 0||O==="millisecond"||!this.isValid())return this;switch(ae=this._isUTC?Yl:Ts,O){case"year":V=ae(this.year()+1,0,1)-1;break;case"quarter":V=ae(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":V=ae(this.year(),this.month()+1,1)-1;break;case"week":V=ae(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":V=ae(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":V=ae(this.year(),this.month(),this.date()+1)-1;break;case"hour":V=this._d.valueOf(),V+=fc-Ha(V+(this._isUTC?0:this.utcOffset()*ll),fc)-1;break;case"minute":V=this._d.valueOf(),V+=ll-Ha(V,ll)-1;break;case"second":V=this._d.valueOf(),V+=kc-Ha(V,kc)-1;break}return this._d.setTime(V),d.updateOffset(this,!0),this}function Wl(){return this._d.valueOf()-(this._offset||0)*6e4}function sc(){return Math.floor(this.valueOf()/1e3)}function Cl(){return new Date(this.valueOf())}function cl(){var O=this;return[O.year(),O.month(),O.date(),O.hour(),O.minute(),O.second(),O.millisecond()]}function bs(){var O=this;return{years:O.year(),months:O.month(),date:O.date(),hours:O.hours(),minutes:O.minutes(),seconds:O.seconds(),milliseconds:O.milliseconds()}}function Ia(){return this.isValid()?this.toISOString():null}function ta(){return Y(this)}function Bs(){return $({},J(this))}function ts(){return J(this).overflow}function Cs(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ae("N",0,0,"eraAbbr"),Ae("NN",0,0,"eraAbbr"),Ae("NNN",0,0,"eraAbbr"),Ae("NNNN",0,0,"eraName"),Ae("NNNNN",0,0,"eraNarrow"),Ae("y",["y",1],"yo","eraYear"),Ae("y",["yy",2],0,"eraYear"),Ae("y",["yyy",3],0,"eraYear"),Ae("y",["yyyy",4],0,"eraYear"),Bt("N",ps),Bt("NN",ps),Bt("NNN",ps),Bt("NNNN",fs),Bt("NNNNN",Nu),jt(["N","NN","NNN","NNNN","NNNNN"],function(O,V,ae,we){var qe=ae._locale.erasParse(O,we,ae._strict);qe?J(ae).era=qe:J(ae).invalidEra=O}),Bt("y",Cn),Bt("yy",Cn),Bt("yyy",Cn),Bt("yyyy",Cn),Bt("yo",qu),jt(["y","yy","yyy","yyyy"],Zt),jt(["yo"],function(O,V,ae,we){var qe;ae._locale._eraYearOrdinalRegex&&(qe=O.match(ae._locale._eraYearOrdinalRegex)),ae._locale.eraYearOrdinalParse?V[Zt]=ae._locale.eraYearOrdinalParse(O,qe):V[Zt]=parseInt(O,10)});function Ul(O,V){var ae,we,qe,Rt=this._eras||gt("en")._eras;for(ae=0,we=Rt.length;ae<we;++ae){switch(typeof Rt[ae].since){case"string":qe=d(Rt[ae].since).startOf("day"),Rt[ae].since=qe.valueOf();break}switch(typeof Rt[ae].until){case"undefined":Rt[ae].until=1/0;break;case"string":qe=d(Rt[ae].until).startOf("day").valueOf(),Rt[ae].until=qe.valueOf();break}}return Rt}function Lc(O,V,ae){var we,qe,Rt=this.eras(),In,Wr,_i;for(O=O.toUpperCase(),we=0,qe=Rt.length;we<qe;++we)if(In=Rt[we].name.toUpperCase(),Wr=Rt[we].abbr.toUpperCase(),_i=Rt[we].narrow.toUpperCase(),ae)switch(V){case"N":case"NN":case"NNN":if(Wr===O)return Rt[we];break;case"NNNN":if(In===O)return Rt[we];break;case"NNNNN":if(_i===O)return Rt[we];break}else if([In,Wr,_i].indexOf(O)>=0)return Rt[we]}function rl(O,V){var ae=O.since<=O.until?1:-1;return V===void 0?d(O.since).year():d(O.since).year()+(V-O.offset)*ae}function Du(){var O,V,ae,we=this.localeData().eras();for(O=0,V=we.length;O<V;++O)if(ae=this.clone().startOf("day").valueOf(),we[O].since<=ae&&ae<=we[O].until||we[O].until<=ae&&ae<=we[O].since)return we[O].name;return""}function Vc(){var O,V,ae,we=this.localeData().eras();for(O=0,V=we.length;O<V;++O)if(ae=this.clone().startOf("day").valueOf(),we[O].since<=ae&&ae<=we[O].until||we[O].until<=ae&&ae<=we[O].since)return we[O].narrow;return""}function dc(){var O,V,ae,we=this.localeData().eras();for(O=0,V=we.length;O<V;++O)if(ae=this.clone().startOf("day").valueOf(),we[O].since<=ae&&ae<=we[O].until||we[O].until<=ae&&ae<=we[O].since)return we[O].abbr;return""}function ul(){var O,V,ae,we,qe=this.localeData().eras();for(O=0,V=qe.length;O<V;++O)if(ae=qe[O].since<=qe[O].until?1:-1,we=this.clone().startOf("day").valueOf(),qe[O].since<=we&&we<=qe[O].until||qe[O].until<=we&&we<=qe[O].since)return(this.year()-d(qe[O].since).year())*ae+qe[O].offset;return this.year()}function yt(O){return A(this,"_erasNameRegex")||jc.call(this),O?this._erasNameRegex:this._erasRegex}function Ga(O){return A(this,"_erasAbbrRegex")||jc.call(this),O?this._erasAbbrRegex:this._erasRegex}function fl(O){return A(this,"_erasNarrowRegex")||jc.call(this),O?this._erasNarrowRegex:this._erasRegex}function ps(O,V){return V.erasAbbrRegex(O)}function fs(O,V){return V.erasNameRegex(O)}function Nu(O,V){return V.erasNarrowRegex(O)}function qu(O,V){return V._eraYearOrdinalRegex||Cn}function jc(){var O=[],V=[],ae=[],we=[],qe,Rt,In,Wr,_i,So=this.eras();for(qe=0,Rt=So.length;qe<Rt;++qe)In=Ot(So[qe].name),Wr=Ot(So[qe].abbr),_i=Ot(So[qe].narrow),V.push(In),O.push(Wr),ae.push(_i),we.push(In),we.push(Wr),we.push(_i);this._erasRegex=new RegExp("^("+we.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+V.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+O.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+ae.join("|")+")","i")}Ae(0,["gg",2],0,function(){return this.weekYear()%100}),Ae(0,["GG",2],0,function(){return this.isoWeekYear()%100});function lc(O,V){Ae(0,[O,O.length],0,V)}lc("gggg","weekYear"),lc("ggggg","weekYear"),lc("GGGG","isoWeekYear"),lc("GGGGG","isoWeekYear"),Bt("G",Fn),Bt("g",Fn),Bt("GG",Vt,et),Bt("gg",Vt,et),Bt("GGGG",Cr,He),Bt("gggg",Cr,He),Bt("GGGGG",Sn,Et),Bt("ggggg",Sn,Et),gn(["gggg","ggggg","GGGG","GGGGG"],function(O,V,ae,we){V[we.substr(0,2)]=Mn(O)}),gn(["gg","GG"],function(O,V,ae,we){V[we]=d.parseTwoDigitYear(O)});function af(O){return Vl.call(this,O,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Af(O){return Vl.call(this,O,this.isoWeek(),this.isoWeekday(),1,4)}function ju(){return fi(this.year(),1,4)}function il(){return fi(this.isoWeekYear(),1,4)}function Ws(){var O=this.localeData()._week;return fi(this.year(),O.dow,O.doy)}function Ya(){var O=this.localeData()._week;return fi(this.weekYear(),O.dow,O.doy)}function Vl(O,V,ae,we,qe){var Rt;return O==null?ya(this,we,qe).year:(Rt=fi(O,we,qe),V>Rt&&(V=Rt),ds.call(this,O,V,ae,we,qe))}function ds(O,V,ae,we,qe){var Rt=ua(O,V,ae,we,qe),In=Wo(Rt.year,0,Rt.dayOfYear);return this.year(In.getUTCFullYear()),this.month(In.getUTCMonth()),this.date(In.getUTCDate()),this}Ae("Q",0,"Qo","quarter"),Bt("Q",Xe),jt("Q",function(O,V){V[or]=(Mn(O)-1)*3});function Za(O){return O==null?Math.ceil((this.month()+1)/3):this.month((O-1)*3+this.month()%3)}Ae("D",["DD",2],"Do","date"),Bt("D",Vt,kr),Bt("DD",Vt,et),Bt("Do",function(O,V){return O?V._dayOfMonthOrdinalParse||V._ordinalParse:V._dayOfMonthOrdinalParseLenient}),jt(["D","DD"],ir),jt("Do",function(O,V){V[ir]=Mn(O.match(Vt)[0])});var xl=R("Date",!0);Ae("DDD",["DDDD",3],"DDDo","dayOfYear"),Bt("DDD",pr),Bt("DDDD",pt),jt(["DDD","DDDD"],function(O,V,ae){ae._dayOfYear=Mn(O)});function yu(O){var V=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return O==null?V:this.add(O-V,"d")}Ae("m",["mm",2],0,"minute"),Bt("m",Vt,di),Bt("mm",Vt,et),jt(["m","mm"],Pr);var ef=R("Minutes",!1);Ae("s",["ss",2],0,"second"),Bt("s",Vt,di),Bt("ss",Vt,et),jt(["s","ss"],$r);var iu=R("Seconds",!1);Ae("S",0,0,function(){return~~(this.millisecond()/100)}),Ae(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ae(0,["SSS",3],0,"millisecond"),Ae(0,["SSSS",4],0,function(){return this.millisecond()*10}),Ae(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Ae(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Ae(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Ae(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Ae(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Bt("S",pr,Xe),Bt("SS",pr,et),Bt("SSS",pr,pt);var Xl,Xo;for(Xl="SSSS";Xl.length<=9;Xl+="S")Bt(Xl,Cn);function $u(O,V){V[dr]=Mn(("0."+O)*1e3)}for(Xl="S";Xl.length<=9;Xl+="S")jt(Xl,$u);Xo=R("Milliseconds",!1),Ae("z",0,0,"zoneAbbr"),Ae("zz",0,0,"zoneName");function Uf(){return this._isUTC?"UTC":""}function Tc(){return this._isUTC?"Coordinated Universal Time":""}var fo=ve.prototype;fo.add=os,fo.calendar=yl,fo.clone=Ds,fo.diff=Fa,fo.endOf=Ol,fo.format=Bl,fo.from=Zl,fo.fromNow=Pc,fo.to=zl,fo.toNow=uc,fo.get=ye,fo.invalidAt=ts,fo.isAfter=tc,fo.isBefore=Rl,fo.isBetween=Ca,fo.isSame=us,fo.isSameOrAfter=Va,fo.isSameOrBefore=zs,fo.isValid=ta,fo.lang=nl,fo.locale=Uc,fo.localeData=bc,fo.max=xo,fo.min=pa,fo.parsingFlags=Bs,fo.set=Ie,fo.startOf=nc,fo.subtract=La,fo.toArray=cl,fo.toObject=bs,fo.toDate=Cl,fo.toISOString=_s,fo.inspect=Tl,typeof Symbol!="undefined"&&Symbol.for!=null&&(fo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),fo.toJSON=Ia,fo.toString=Us,fo.unix=sc,fo.valueOf=Wl,fo.creationData=Cs,fo.eraName=Du,fo.eraNarrow=Vc,fo.eraAbbr=dc,fo.eraYear=ul,fo.year=De,fo.isLeapYear=oe,fo.weekYear=af,fo.isoWeekYear=Af,fo.quarter=fo.quarters=Za,fo.month=qn,fo.daysInMonth=Li,fo.week=fo.weeks=uo,fo.isoWeek=fo.isoWeeks=xa,fo.weeksInYear=Ws,fo.weeksInWeekYear=Ya,fo.isoWeeksInYear=ju,fo.isoWeeksInISOWeekYear=il,fo.date=xl,fo.day=fo.days=gi,fo.weekday=mo,fo.isoWeekday=No,fo.dayOfYear=yu,fo.hour=fo.hours=Oa,fo.minute=fo.minutes=ef,fo.second=fo.seconds=iu,fo.millisecond=fo.milliseconds=Xo,fo.utcOffset=Lr,fo.utc=mi,fo.local=oi,fo.parseZone=Pt,fo.hasAlignedHourOffset=cn,fo.isDST=Qn,fo.isLocal=Xt,fo.isUtcOffset=an,fo.isUtc=yr,fo.isUTC=yr,fo.zoneAbbr=Uf,fo.zoneName=Tc,fo.dates=Pe("dates accessor is deprecated. Use date instead.",xl),fo.months=Pe("months accessor is deprecated. Use month instead",qn),fo.years=Pe("years accessor is deprecated. Use year instead",De),fo.zone=Pe("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ar),fo.isDSTShifted=Pe("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_t);function Hs(O){return Si(O*1e3)}function tu(){return Si.apply(null,arguments).parseZone()}function sf(O){return O}var Xs=en.prototype;Xs.calendar=It,Xs.longDateFormat=Yt,Xs.invalidDate=Dt,Xs.ordinal=qt,Xs.preparse=sf,Xs.postformat=sf,Xs.relativeTime=kn,Xs.pastFuture=An,Xs.set=he,Xs.eras=Ul,Xs.erasParse=Lc,Xs.erasConvertYear=rl,Xs.erasAbbrRegex=Ga,Xs.erasNameRegex=yt,Xs.erasNarrowRegex=fl,Xs.months=Xn,Xs.monthsShort=$t,Xs.monthsParse=bn,Xs.monthsRegex=Bi,Xs.monthsShortRegex=$i,Xs.week=Pi,Xs.firstDayOfYear=Ta,Xs.firstDayOfWeek=Zi,Xs.weekdays=xr,Xs.weekdaysMin=zt,Xs.weekdaysShort=nr,Xs.weekdaysParse=hr,Xs.weekdaysRegex=io,Xs.weekdaysShortRegex=Ti,Xs.weekdaysMinRegex=Fi,Xs.isPM=Gs,Xs.meridiem=qa;function mf(O,V,ae,we){var qe=gt(),Rt=te().set(we,V);return qe[ae](Rt,O)}function Df(O,V,ae){if(k(O)&&(V=O,O=void 0),O=O||"",V!=null)return mf(O,V,ae,"month");var we,qe=[];for(we=0;we<12;we++)qe[we]=mf(O,we,ae,"month");return qe}function yf(O,V,ae,we){typeof O=="boolean"?(k(V)&&(ae=V,V=void 0),V=V||""):(V=O,ae=V,O=!1,k(V)&&(ae=V,V=void 0),V=V||"");var qe=gt(),Rt=O?qe._week.dow:0,In,Wr=[];if(ae!=null)return mf(V,(ae+Rt)%7,we,"day");for(In=0;In<7;In++)Wr[In]=mf(V,(In+Rt)%7,we,"day");return Wr}function Mu(O,V){return Df(O,V,"months")}function nu(O,V){return Df(O,V,"monthsShort")}function eh(O,V,ae){return yf(O,V,ae,"weekdays")}function Vf(O,V,ae){return yf(O,V,ae,"weekdaysShort")}function bd(O,V,ae){return yf(O,V,ae,"weekdaysMin")}_e("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(O){var V=O%10,ae=Mn(O%100/10)===1?"th":V===1?"st":V===2?"nd":V===3?"rd":"th";return O+ae}}),d.lang=Pe("moment.lang is deprecated. Use moment.locale instead.",_e),d.langData=Pe("moment.langData is deprecated. Use moment.localeData instead.",gt);var ol=Math.abs;function ou(){var O=this._data;return this._milliseconds=ol(this._milliseconds),this._days=ol(this._days),this._months=ol(this._months),O.milliseconds=ol(O.milliseconds),O.seconds=ol(O.seconds),O.minutes=ol(O.minutes),O.hours=ol(O.hours),O.months=ol(O.months),O.years=ol(O.years),this}function Jl(O,V,ae,we){var qe=Yi(V,ae);return O._milliseconds+=we*qe._milliseconds,O._days+=we*qe._days,O._months+=we*qe._months,O._bubble()}function Ru(O,V){return Jl(this,O,V,1)}function ad(O,V){return Jl(this,O,V,-1)}function hc(O){return O<0?Math.floor(O):Math.ceil(O)}function Iu(){var O=this._milliseconds,V=this._days,ae=this._months,we=this._data,qe,Rt,In,Wr,_i;return O>=0&&V>=0&&ae>=0||O<=0&&V<=0&&ae<=0||(O+=hc(Fc(ae)+V)*864e5,V=0,ae=0),we.milliseconds=O%1e3,qe=ur(O/1e3),we.seconds=qe%60,Rt=ur(qe/60),we.minutes=Rt%60,In=ur(Rt/60),we.hours=In%24,V+=ur(In/24),_i=ur(ku(V)),ae+=_i,V-=hc(Fc(_i)),Wr=ur(ae/12),ae%=12,we.days=V,we.months=ae,we.years=Wr,this}function ku(O){return O*4800/146097}function Fc(O){return O*146097/4800}function Cd(O){if(!this.isValid())return NaN;var V,ae,we=this._milliseconds;if(O=ee(O),O==="month"||O==="quarter"||O==="year")switch(V=this._days+we/864e5,ae=this._months+ku(V),O){case"month":return ae;case"quarter":return ae/3;case"year":return ae/12}else switch(V=this._days+Math.round(Fc(this._months)),O){case"week":return V/7+we/6048e5;case"day":return V+we/864e5;case"hour":return V*24+we/36e5;case"minute":return V*1440+we/6e4;case"second":return V*86400+we/1e3;case"millisecond":return Math.floor(V*864e5)+we;default:throw new Error("Unknown unit "+O)}}function _l(O){return function(){return this.as(O)}}var Nf=_l("ms"),lf=_l("s"),$c=_l("m"),sd=_l("h"),Lu=_l("d"),tf=_l("w"),ld=_l("M"),cf=_l("Q"),Gc=_l("y"),bf=Nf;function qf(){return Yi(this)}function au(O){return O=ee(O),this.isValid()?this[O+"s"]():NaN}function su(O){return function(){return this.isValid()?this._data[O]:NaN}}var Cf=su("milliseconds"),rc=su("seconds"),pc=su("minutes"),Ql=su("hours"),ed=su("days"),Rf=su("months"),xf=su("years");function xd(){return ur(this.days()/7)}var lu=Math.round,Wu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ef(O,V,ae,we,qe){return qe.relativeTime(V||1,!!ae,O,we)}function Ee(O,V,ae,we){var qe=Yi(O).abs(),Rt=lu(qe.as("s")),In=lu(qe.as("m")),Wr=lu(qe.as("h")),_i=lu(qe.as("d")),So=lu(qe.as("M")),Ho=lu(qe.as("w")),ga=lu(qe.as("y")),ns=Rt<=ae.ss&&["s",Rt]||Rt<ae.s&&["ss",Rt]||In<=1&&["m"]||In<ae.m&&["mm",In]||Wr<=1&&["h"]||Wr<ae.h&&["hh",Wr]||_i<=1&&["d"]||_i<ae.d&&["dd",_i];return ae.w!=null&&(ns=ns||Ho<=1&&["w"]||Ho<ae.w&&["ww",Ho]),ns=ns||So<=1&&["M"]||So<ae.M&&["MM",So]||ga<=1&&["y"]||["yy",ga],ns[2]=V,ns[3]=+O>0,ns[4]=we,Ef.apply(null,ns)}function Le(O){return O===void 0?lu:typeof O=="function"?(lu=O,!0):!1}function at(O,V){return Wu[O]===void 0?!1:V===void 0?Wu[O]:(Wu[O]=V,O==="s"&&(Wu.ss=V-1),!0)}function ct(O,V){if(!this.isValid())return this.localeData().invalidDate();var ae=!1,we=Wu,qe,Rt;return typeof O=="object"&&(V=O,O=!1),typeof O=="boolean"&&(ae=O),typeof V=="object"&&(we=Object.assign({},Wu,V),V.s!=null&&V.ss==null&&(we.ss=V.s-1)),qe=this.localeData(),Rt=Ee(this,!ae,we,qe),ae&&(Rt=qe.pastFuture(+this,Rt)),qe.postformat(Rt)}var dt=Math.abs;function mt(O){return(O>0)-(O<0)||+O}function St(){if(!this.isValid())return this.localeData().invalidDate();var O=dt(this._milliseconds)/1e3,V=dt(this._days),ae=dt(this._months),we,qe,Rt,In,Wr=this.asSeconds(),_i,So,Ho,ga;return Wr?(we=ur(O/60),qe=ur(we/60),O%=60,we%=60,Rt=ur(ae/12),ae%=12,In=O?O.toFixed(3).replace(/\.?0+$/,""):"",_i=Wr<0?"-":"",So=mt(this._months)!==mt(Wr)?"-":"",Ho=mt(this._days)!==mt(Wr)?"-":"",ga=mt(this._milliseconds)!==mt(Wr)?"-":"",_i+"P"+(Rt?So+Rt+"Y":"")+(ae?So+ae+"M":"")+(V?Ho+V+"D":"")+(qe||we||O?"T":"")+(qe?ga+qe+"H":"")+(we?ga+we+"M":"")+(O?ga+In+"S":"")):"P0D"}var Nt=nn.prototype;Nt.isValid=ft,Nt.abs=ou,Nt.add=Ru,Nt.subtract=ad,Nt.as=Cd,Nt.asMilliseconds=Nf,Nt.asSeconds=lf,Nt.asMinutes=$c,Nt.asHours=sd,Nt.asDays=Lu,Nt.asWeeks=tf,Nt.asMonths=ld,Nt.asQuarters=cf,Nt.asYears=Gc,Nt.valueOf=bf,Nt._bubble=Iu,Nt.clone=qf,Nt.get=au,Nt.milliseconds=Cf,Nt.seconds=rc,Nt.minutes=pc,Nt.hours=Ql,Nt.days=ed,Nt.weeks=xd,Nt.months=Rf,Nt.years=xf,Nt.humanize=ct,Nt.toISOString=St,Nt.toString=St,Nt.toJSON=St,Nt.locale=Uc,Nt.localeData=bc,Nt.toIsoString=Pe("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",St),Nt.lang=nl,Ae("X",0,0,"unix"),Ae("x",0,0,"valueOf"),Bt("x",Fn),Bt("X",ti),jt("X",function(O,V,ae){ae._d=new Date(parseFloat(O)*1e3)}),jt("x",function(O,V,ae){ae._d=new Date(Mn(O))});return d.version="2.30.1",m(Si),d.fn=fo,d.min=Fo,d.max=Sa,d.now=Bo,d.utc=te,d.unix=Hs,d.months=Mu,d.isDate=Z,d.locale=_e,d.invalid=re,d.duration=Yi,d.isMoment=Oe,d.weekdays=eh,d.parseZone=tu,d.localeData=gt,d.isDuration=yn,d.monthsShort=nu,d.weekdaysMin=bd,d.defineLocale=Je,d.updateLocale=tt,d.locales=_n,d.weekdaysShort=Vf,d.normalizeUnits=ee,d.relativeTimeRounding=Le,d.relativeTimeThreshold=at,d.calendarFormat=qs,d.prototype=fo,d.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},d})},42441:function(j,M,l){var v;(function(d,m,g){if(!d)return;for(var x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},A={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},E={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},w={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},k,Z=1;Z<20;++Z)x[111+Z]="f"+Z;for(Z=0;Z<=9;++Z)x[Z+96]=Z.toString();function U(L,Pe,pe){if(L.addEventListener){L.addEventListener(Pe,pe,!1);return}L.attachEvent("on"+Pe,pe)}function $(L){if(L.type=="keypress"){var Pe=String.fromCharCode(L.which);return L.shiftKey||(Pe=Pe.toLowerCase()),Pe}return x[L.which]?x[L.which]:A[L.which]?A[L.which]:String.fromCharCode(L.which).toLowerCase()}function te(L,Pe){return L.sort().join(",")===Pe.sort().join(",")}function Q(L){var Pe=[];return L.shiftKey&&Pe.push("shift"),L.altKey&&Pe.push("alt"),L.ctrlKey&&Pe.push("ctrl"),L.metaKey&&Pe.push("meta"),Pe}function J(L){if(L.preventDefault){L.preventDefault();return}L.returnValue=!1}function K(L){if(L.stopPropagation){L.stopPropagation();return}L.cancelBubble=!0}function Y(L){return L=="shift"||L=="ctrl"||L=="alt"||L=="meta"}function re(){if(!k){k={};for(var L in x)L>95&&L<112||x.hasOwnProperty(L)&&(k[x[L]]=L)}return k}function fe(L,Pe,pe){return pe||(pe=re()[L]?"keydown":"keypress"),pe=="keypress"&&Pe.length&&(pe="keydown"),pe}function le(L){return L==="+"?["+"]:(L=L.replace(/\+{2}/g,"+plus"),L.split("+"))}function ie(L,Pe){var pe,Be,je,he=[];for(pe=le(L),je=0;je<pe.length;++je)Be=pe[je],w[Be]&&(Be=w[Be]),Pe&&Pe!="keypress"&&E[Be]&&(Be=E[Be],he.push("shift")),Y(Be)&&he.push(Be);return Pe=fe(Be,he,Pe),{key:Be,modifiers:he,action:Pe}}function ve(L,Pe){return L===null||L===m?!1:L===Pe?!0:ve(L.parentNode,Pe)}function Oe(L){var Pe=this;if(L=L||m,!(Pe instanceof Oe))return new Oe(L);Pe.target=L,Pe._callbacks={},Pe._directMap={};var pe={},Be,je=!1,he=!1,st=!1;function en(bt){bt=bt||{};var Ge=!1,Ae;for(Ae in pe){if(bt[Ae]){Ge=!0;continue}pe[Ae]=0}Ge||(st=!1)}function vn(bt,Ge,Ae,be,Ne,Re){var ht,Wt,Yt=[],Lt=Ae.type;if(!Pe._callbacks[bt])return[];for(Lt=="keyup"&&Y(bt)&&(Ge=[bt]),ht=0;ht<Pe._callbacks[bt].length;++ht)if(Wt=Pe._callbacks[bt][ht],!(!be&&Wt.seq&&pe[Wt.seq]!=Wt.level)&&Lt==Wt.action&&(Lt=="keypress"&&!Ae.metaKey&&!Ae.ctrlKey||te(Ge,Wt.modifiers))){var Dt=!be&&Wt.combo==Ne,lt=be&&Wt.seq==be&&Wt.level==Re;(Dt||lt)&&Pe._callbacks[bt].splice(ht,1),Yt.push(Wt)}return Yt}function Mt(bt,Ge,Ae,be){Pe.stopCallback(Ge,Ge.target||Ge.srcElement,Ae,be)||bt(Ge,Ae)===!1&&(J(Ge),K(Ge))}Pe._handleKey=function(bt,Ge,Ae){var be=vn(bt,Ge,Ae),Ne,Re={},ht=0,Wt=!1;for(Ne=0;Ne<be.length;++Ne)be[Ne].seq&&(ht=Math.max(ht,be[Ne].level));for(Ne=0;Ne<be.length;++Ne){if(be[Ne].seq){if(be[Ne].level!=ht)continue;Wt=!0,Re[be[Ne].seq]=1,Mt(be[Ne].callback,Ae,be[Ne].combo,be[Ne].seq);continue}Wt||Mt(be[Ne].callback,Ae,be[Ne].combo)}var Yt=Ae.type=="keypress"&&he;Ae.type==st&&!Y(bt)&&!Yt&&en(Re),he=Wt&&Ae.type=="keydown"};function It(bt){typeof bt.which!="number"&&(bt.which=bt.keyCode);var Ge=$(bt);if(Ge){if(bt.type=="keyup"&&je===Ge){je=!1;return}Pe.handleKey(Ge,Q(bt),bt)}}function Ve(){clearTimeout(Be),Be=setTimeout(en,1e3)}function Me(bt,Ge,Ae,be){pe[bt]=0;function Ne(Lt){return function(){st=Lt,++pe[bt],Ve()}}function Re(Lt){Mt(Ae,Lt,bt),be!=="keyup"&&(je=$(Lt)),setTimeout(en,10)}for(var ht=0;ht<Ge.length;++ht){var Wt=ht+1===Ge.length,Yt=Wt?Re:Ne(be||ie(Ge[ht+1]).action);Qe(Ge[ht],Yt,be,bt,ht)}}function Qe(bt,Ge,Ae,be,Ne){Pe._directMap[bt+":"+Ae]=Ge,bt=bt.replace(/\s+/g," ");var Re=bt.split(" "),ht;if(Re.length>1){Me(bt,Re,Ge,Ae);return}ht=ie(bt,Ae),Pe._callbacks[ht.key]=Pe._callbacks[ht.key]||[],vn(ht.key,ht.modifiers,{type:ht.action},be,bt,Ne),Pe._callbacks[ht.key][be?"unshift":"push"]({callback:Ge,modifiers:ht.modifiers,action:ht.action,seq:be,level:Ne,combo:bt})}Pe._bindMultiple=function(bt,Ge,Ae){for(var be=0;be<bt.length;++be)Qe(bt[be],Ge,Ae)},U(L,"keypress",It),U(L,"keydown",It),U(L,"keyup",It)}Oe.prototype.bind=function(L,Pe,pe){var Be=this;return L=L instanceof Array?L:[L],Be._bindMultiple.call(Be,L,Pe,pe),Be},Oe.prototype.unbind=function(L,Pe){var pe=this;return pe.bind.call(pe,L,function(){},Pe)},Oe.prototype.trigger=function(L,Pe){var pe=this;return pe._directMap[L+":"+Pe]&&pe._directMap[L+":"+Pe]({},L),pe},Oe.prototype.reset=function(){var L=this;return L._callbacks={},L._directMap={},L},Oe.prototype.stopCallback=function(L,Pe){var pe=this;if((" "+Pe.className+" ").indexOf(" mousetrap ")>-1||ve(Pe,pe.target))return!1;if("composedPath"in L&&typeof L.composedPath=="function"){var Be=L.composedPath()[0];Be!==L.target&&(Pe=Be)}return Pe.tagName=="INPUT"||Pe.tagName=="SELECT"||Pe.tagName=="TEXTAREA"||Pe.isContentEditable},Oe.prototype.handleKey=function(){var L=this;return L._handleKey.apply(L,arguments)},Oe.addKeycodes=function(L){for(var Pe in L)L.hasOwnProperty(Pe)&&(x[Pe]=L[Pe]);k=null},Oe.init=function(){var L=Oe(m);for(var Pe in L)Pe.charAt(0)!=="_"&&(Oe[Pe]=function(pe){return function(){return L[pe].apply(L,arguments)}}(Pe))},Oe.init(),d.Mousetrap=Oe,j.exports&&(j.exports=Oe),v=function(){return Oe}.call(M,l,M,j),v!==g&&(j.exports=v)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},40582:function(j,M,l){var v=l(89550),d=l(68854),m=l(36820),g=l(43650),x=l(56601),A=[0,0];j.exports.x7=function(w,k,Z,U,$){return v(w,Z,U),m(w,w),d(k,-w[1],w[0]),d(A,-Z[1],Z[0]),$/x(k,A)},j.exports.mJ=function(w,k){return d(w,-k[1],k[0]),w},j.exports.o7=function(w,k,Z){return g(w,k,Z),m(w,w),w}},34155:function(j){var M=j.exports={},l,v;function d(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=d}catch(Q){l=d}try{typeof clearTimeout=="function"?v=clearTimeout:v=m}catch(Q){v=m}})();function g(Q){if(l===setTimeout)return setTimeout(Q,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(Q,0);try{return l(Q,0)}catch(J){try{return l.call(null,Q,0)}catch(K){return l.call(this,Q,0)}}}function x(Q){if(v===clearTimeout)return clearTimeout(Q);if((v===m||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(Q);try{return v(Q)}catch(J){try{return v.call(null,Q)}catch(K){return v.call(this,Q)}}}var A=[],E=!1,w,k=-1;function Z(){!E||!w||(E=!1,w.length?A=w.concat(A):k=-1,A.length&&U())}function U(){if(!E){var Q=g(Z);E=!0;for(var J=A.length;J;){for(w=A,A=[];++k<J;)w&&w[k].run();k=-1,J=A.length}w=null,E=!1,x(Q)}}M.nextTick=function(Q){var J=new Array(arguments.length-1);if(arguments.length>1)for(var K=1;K<arguments.length;K++)J[K-1]=arguments[K];A.push(new $(Q,J)),A.length===1&&!E&&g(U)};function $(Q,J){this.fun=Q,this.array=J}$.prototype.run=function(){this.fun.apply(null,this.array)},M.title="browser",M.browser=!0,M.env={},M.argv=[],M.version="",M.versions={};function te(){}M.on=te,M.addListener=te,M.once=te,M.off=te,M.removeListener=te,M.removeAllListeners=te,M.emit=te,M.prependListener=te,M.prependOnceListener=te,M.listeners=function(Q){return[]},M.binding=function(Q){throw new Error("process.binding is not supported")},M.cwd=function(){return"/"},M.chdir=function(Q){throw new Error("process.chdir is not supported")},M.umask=function(){return 0}},50132:function(j,M,l){"use strict";var v=l(87462),d=l(1413),m=l(4942),g=l(97685),x=l(91),A=l(93967),E=l.n(A),w=l(21770),k=l(67294),Z=["prefixCls","className","style","checked","disabled","defaultChecked","type","onChange"],U=(0,k.forwardRef)(function($,te){var Q,J=$.prefixCls,K=J===void 0?"rc-checkbox":J,Y=$.className,re=$.style,fe=$.checked,le=$.disabled,ie=$.defaultChecked,ve=ie===void 0?!1:ie,Oe=$.type,L=Oe===void 0?"checkbox":Oe,Pe=$.onChange,pe=(0,x.Z)($,Z),Be=(0,k.useRef)(null),je=(0,w.Z)(ve,{value:fe}),he=(0,g.Z)(je,2),st=he[0],en=he[1];(0,k.useImperativeHandle)(te,function(){return{focus:function(){var Ve;(Ve=Be.current)===null||Ve===void 0||Ve.focus()},blur:function(){var Ve;(Ve=Be.current)===null||Ve===void 0||Ve.blur()},input:Be.current}});var vn=E()(K,Y,(Q={},(0,m.Z)(Q,"".concat(K,"-checked"),st),(0,m.Z)(Q,"".concat(K,"-disabled"),le),Q)),Mt=function(Ve){le||("checked"in $||en(Ve.target.checked),Pe==null||Pe({target:(0,d.Z)((0,d.Z)({},$),{},{type:L,checked:Ve.target.checked}),stopPropagation:function(){Ve.stopPropagation()},preventDefault:function(){Ve.preventDefault()},nativeEvent:Ve.nativeEvent}))};return k.createElement("span",{className:vn,style:re},k.createElement("input",(0,v.Z)({},pe,{className:"".concat(K,"-input"),ref:Be,onChange:Mt,disabled:le,checked:!!st,type:L})),k.createElement("span",{className:"".concat(K,"-inner")}))});M.Z=U},51784:function(j,M,l){"use strict";l.d(M,{Z:function(){return U}});var v=l(87462),d=l(4942),m=l(15671),g=l(43144),x=l(32531),A=l(29388),E=l(67294),w=l(73935),k=l(93967),Z=l.n(k),U=function($){(0,x.Z)(Q,$);var te=(0,A.Z)(Q);function Q(){var J;(0,m.Z)(this,Q);for(var K=arguments.length,Y=new Array(K),re=0;re<K;re++)Y[re]=arguments[re];return J=te.call.apply(te,[this].concat(Y)),J.closeTimer=null,J.close=function(fe){fe&&fe.stopPropagation(),J.clearCloseTimer();var le=J.props,ie=le.onClose,ve=le.noticeKey;ie&&ie(ve)},J.startCloseTimer=function(){J.props.duration&&(J.closeTimer=window.setTimeout(function(){J.close()},J.props.duration*1e3))},J.clearCloseTimer=function(){J.closeTimer&&(clearTimeout(J.closeTimer),J.closeTimer=null)},J}return(0,g.Z)(Q,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(K){(this.props.duration!==K.duration||this.props.updateMark!==K.updateMark||this.props.visible!==K.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var K=this,Y=this.props,re=Y.prefixCls,fe=Y.className,le=Y.closable,ie=Y.closeIcon,ve=Y.style,Oe=Y.onClick,L=Y.children,Pe=Y.holder,pe="".concat(re,"-notice"),Be=Object.keys(this.props).reduce(function(he,st){return(st.substr(0,5)==="data-"||st.substr(0,5)==="aria-"||st==="role")&&(he[st]=K.props[st]),he},{}),je=E.createElement("div",(0,v.Z)({className:Z()(pe,fe,(0,d.Z)({},"".concat(pe,"-closable"),le)),style:ve,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:Oe},Be),E.createElement("div",{className:"".concat(pe,"-content")},L),le?E.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(pe,"-close")},ie||E.createElement("span",{className:"".concat(pe,"-close-x")})):null);return Pe?w.createPortal(je,Pe):je}}]),Q}(E.Component);U.defaultProps={onClose:function(){},duration:1.5}},91127:function(j,M,l){"use strict";l.d(M,{Z:function(){return ie}});var v=l(91),d=l(87462),m=l(1413),g=l(15671),x=l(43144),A=l(32531),E=l(29388),w=l(67294),k=l(38135),Z=l(93967),U=l.n(Z),$=l(29372),te=l(51784),Q=l(51550),J=["getContainer"],K=0,Y=Date.now();function re(){var ve=K;return K+=1,"rcNotification_".concat(Y,"_").concat(ve)}var fe=function(ve){(0,A.Z)(L,ve);var Oe=(0,E.Z)(L);function L(){var Pe;(0,g.Z)(this,L);for(var pe=arguments.length,Be=new Array(pe),je=0;je<pe;je++)Be[je]=arguments[je];return Pe=Oe.call.apply(Oe,[this].concat(Be)),Pe.state={notices:[]},Pe.hookRefs=new Map,Pe.add=function(he,st){var en,vn=(en=he.key)!==null&&en!==void 0?en:re(),Mt=(0,m.Z)((0,m.Z)({},he),{},{key:vn}),It=Pe.props.maxCount;Pe.setState(function(Ve){var Me=Ve.notices,Qe=Me.map(function(Ge){return Ge.notice.key}).indexOf(vn),bt=Me.concat();return Qe!==-1?bt.splice(Qe,1,{notice:Mt,holderCallback:st}):(It&&Me.length>=It&&(Mt.key=bt[0].notice.key,Mt.updateMark=re(),Mt.userPassKey=vn,bt.shift()),bt.push({notice:Mt,holderCallback:st})),{notices:bt}})},Pe.remove=function(he){Pe.setState(function(st){var en=st.notices;return{notices:en.filter(function(vn){var Mt=vn.notice,It=Mt.key,Ve=Mt.userPassKey,Me=Ve!=null?Ve:It;return Me!==he})}})},Pe.noticePropsMap={},Pe}return(0,x.Z)(L,[{key:"getTransitionName",value:function(){var pe=this.props,Be=pe.prefixCls,je=pe.animation,he=this.props.transitionName;return!he&&je&&(he="".concat(Be,"-").concat(je)),he}},{key:"render",value:function(){var pe=this,Be=this.state.notices,je=this.props,he=je.prefixCls,st=je.className,en=je.closeIcon,vn=je.style,Mt=[];return Be.forEach(function(It,Ve){var Me=It.notice,Qe=It.holderCallback,bt=Ve===Be.length-1?Me.updateMark:void 0,Ge=Me.key,Ae=Me.userPassKey,be=(0,m.Z)((0,m.Z)((0,m.Z)({prefixCls:he,closeIcon:en},Me),Me.props),{},{key:Ge,noticeKey:Ae||Ge,updateMark:bt,onClose:function(Re){var ht;pe.remove(Re),(ht=Me.onClose)===null||ht===void 0||ht.call(Me)},onClick:Me.onClick,children:Me.content});Mt.push(Ge),pe.noticePropsMap[Ge]={props:be,holderCallback:Qe}}),w.createElement("div",{className:U()(he,st),style:vn},w.createElement($.V4,{keys:Mt,motionName:this.getTransitionName(),onVisibleChanged:function(Ve,Me){var Qe=Me.key;Ve||delete pe.noticePropsMap[Qe]}},function(It){var Ve=It.key,Me=It.className,Qe=It.style,bt=It.visible,Ge=pe.noticePropsMap[Ve],Ae=Ge.props,be=Ge.holderCallback;return be?w.createElement("div",{key:Ve,className:U()(Me,"".concat(he,"-hook-holder")),style:(0,m.Z)({},Qe),ref:function(Re){typeof Ve!="undefined"&&(Re?(pe.hookRefs.set(Ve,Re),be(Re,Ae)):pe.hookRefs.delete(Ve))}}):w.createElement(te.Z,(0,d.Z)({},Ae,{className:U()(Me,Ae==null?void 0:Ae.className),style:(0,m.Z)((0,m.Z)({},Qe),Ae==null?void 0:Ae.style),visible:bt}))}))}}]),L}(w.Component);fe.newInstance=void 0,fe.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},fe.newInstance=function(Oe,L){var Pe=Oe||{},pe=Pe.getContainer,Be=(0,v.Z)(Pe,J),je=document.createElement("div");if(pe){var he=pe();he.appendChild(je)}else document.body.appendChild(je);var st=!1;function en(vn){st||(st=!0,L({notice:function(It){vn.add(It)},removeNotice:function(It){vn.remove(It)},component:vn,destroy:function(){(0,k.v)(je),je.parentNode&&je.parentNode.removeChild(je)},useNotification:function(){return(0,Q.Z)(vn)}}))}(0,k.s)(w.createElement(fe,(0,d.Z)({},Be,{ref:en})),je)};var le=fe,ie=le},51550:function(j,M,l){"use strict";l.d(M,{Z:function(){return A}});var v=l(74902),d=l(87462),m=l(97685),g=l(67294),x=l(51784);function A(E){var w=g.useRef({}),k=g.useState([]),Z=(0,m.Z)(k,2),U=Z[0],$=Z[1];function te(Q){var J=!0;E.add(Q,function(K,Y){var re=Y.key;if(K&&(!w.current[re]||J)){var fe=g.createElement(x.Z,(0,d.Z)({},Y,{holder:K}));w.current[re]=fe,$(function(le){var ie=le.findIndex(function(Oe){return Oe.key===Y.key});if(ie===-1)return[].concat((0,v.Z)(le),[fe]);var ve=(0,v.Z)(le);return ve[ie]=fe,ve})}J=!1})}return[te,g.createElement(g.Fragment,null,U)]}},62906:function(j,M){"use strict";M.Z={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"}},88708:function(j,M,l){"use strict";l.d(M,{ZP:function(){return E}});var v=l(97685),d=l(67294),m=l(98924),g=0,x=(0,m.Z)();function A(){var w;return x?(w=g,g+=1):w="TEST_OR_SSR",w}function E(w){var k=d.useState(),Z=(0,v.Z)(k,2),U=Z[0],$=Z[1];return d.useEffect(function(){$("rc_select_".concat(A()))},[]),w||U}},7752:function(j,M,l){"use strict";l.d(M,{Ac:function(){return pt},Xo:function(){return ti},Wx:function(){return kr},ZP:function(){return ni},lk:function(){return re}});var v=l(87462),d=l(74902),m=l(4942),g=l(1413),x=l(97685),A=l(91),E=l(71002),w=l(21770),k=l(80334),Z=l(67294),U=l(93967),$=l.n(U),te=l(8410),Q=l(31131),J=l(15105),K=l(42550),Y=Z.createContext(null);function re(){return Z.useContext(Y)}function fe(){var un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,ue=Z.useState(!1),De=(0,x.Z)(ue,2),oe=De[0],R=De[1],N=Z.useRef(null),G=function(){window.clearTimeout(N.current)};Z.useEffect(function(){return G},[]);var ye=function(ze,Ce){G(),N.current=window.setTimeout(function(){R(ze),Ce&&Ce()},un)};return[oe,ye,G]}function le(){var un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,ue=Z.useRef(null),De=Z.useRef(null);Z.useEffect(function(){return function(){window.clearTimeout(De.current)}},[]);function oe(R){(R||ue.current===null)&&(ue.current=R),window.clearTimeout(De.current),De.current=window.setTimeout(function(){ue.current=null},un)}return[function(){return ue.current},oe]}function ie(un,ue,De,oe){var R=Z.useRef(null);R.current={open:ue,triggerOpen:De,customizedTrigger:oe},Z.useEffect(function(){function N(G){var ye;if(!((ye=R.current)!==null&&ye!==void 0&&ye.customizedTrigger)){var Ie=G.target;Ie.shadowRoot&&G.composed&&(Ie=G.composedPath()[0]||Ie),R.current.open&&un().filter(function(ze){return ze}).every(function(ze){return!ze.contains(Ie)&&ze!==Ie})&&R.current.triggerOpen(!1)}}return window.addEventListener("mousedown",N),function(){return window.removeEventListener("mousedown",N)}},[])}var ve=l(64217),Oe=l(39983),L=function(ue){var De=ue.className,oe=ue.customizeIcon,R=ue.customizeIconProps,N=ue.onMouseDown,G=ue.onClick,ye=ue.children,Ie;return typeof oe=="function"?Ie=oe(R):Ie=oe,Z.createElement("span",{className:De,onMouseDown:function(Ce){Ce.preventDefault(),N&&N(Ce)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:G,"aria-hidden":!0},Ie!==void 0?Ie:Z.createElement("span",{className:$()(De.split(/\s+/).map(function(ze){return"".concat(ze,"-icon")}))},ye))},Pe=L,pe=function(ue,De){var oe,R,N=ue.prefixCls,G=ue.id,ye=ue.inputElement,Ie=ue.disabled,ze=ue.tabIndex,Ce=ue.autoFocus,ke=ue.autoComplete,rt=ue.editable,Tt=ue.activeDescendantId,En=ue.value,Rn=ue.maxLength,$n=ue.onKeyDown,Xn=ue.onMouseDown,$t=ue.onChange,hn=ue.onPaste,bn=ue.onCompositionStart,br=ue.onCompositionEnd,qn=ue.open,Li=ue.attrs,$i=ye||Z.createElement("input",null),Bi=$i,co=Bi.ref,Do=Bi.props,Wo=Do.onKeyDown,hi=Do.onChange,ua=Do.onMouseDown,ya=Do.onCompositionStart,fi=Do.onCompositionEnd,Pi=Do.style;return(0,k.Kp)(!("maxLength"in $i.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),$i=Z.cloneElement($i,(0,g.Z)((0,g.Z)((0,g.Z)({type:"search"},Do),{},{id:G,ref:(0,K.sQ)(De,co),disabled:Ie,tabIndex:ze,autoComplete:ke||"off",autoFocus:Ce,className:$()("".concat(N,"-selection-search-input"),(oe=$i)===null||oe===void 0||(R=oe.props)===null||R===void 0?void 0:R.className),role:"combobox","aria-expanded":qn,"aria-haspopup":"listbox","aria-owns":"".concat(G,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(G,"_list"),"aria-activedescendant":Tt},Li),{},{value:rt?En:"",maxLength:Rn,readOnly:!rt,unselectable:rt?null:"on",style:(0,g.Z)((0,g.Z)({},Pi),{},{opacity:rt?null:0}),onKeyDown:function(Zi){$n(Zi),Wo&&Wo(Zi)},onMouseDown:function(Zi){Xn(Zi),ua&&ua(Zi)},onChange:function(Zi){$t(Zi),hi&&hi(Zi)},onCompositionStart:function(Zi){bn(Zi),ya&&ya(Zi)},onCompositionEnd:function(Zi){br(Zi),fi&&fi(Zi)},onPaste:hn})),$i},Be=Z.forwardRef(pe);Be.displayName="Input";var je=Be;function he(un){return Array.isArray(un)?un:un!==void 0?[un]:[]}var st=typeof window!="undefined"&&window.document&&window.document.documentElement,en=st;function vn(un){return un!=null}function Mt(un){return["string","number"].includes((0,E.Z)(un))}function It(un){var ue=void 0;return un&&(Mt(un.title)?ue=un.title.toString():Mt(un.label)&&(ue=un.label.toString())),ue}function Ve(un,ue){en?Z.useLayoutEffect(un,ue):Z.useEffect(un,ue)}function Me(un){var ue;return(ue=un.key)!==null&&ue!==void 0?ue:un.value}var Qe=function(ue){ue.preventDefault(),ue.stopPropagation()},bt=function(ue){var De=ue.id,oe=ue.prefixCls,R=ue.values,N=ue.open,G=ue.searchValue,ye=ue.autoClearSearchValue,Ie=ue.inputRef,ze=ue.placeholder,Ce=ue.disabled,ke=ue.mode,rt=ue.showSearch,Tt=ue.autoFocus,En=ue.autoComplete,Rn=ue.activeDescendantId,$n=ue.tabIndex,Xn=ue.removeIcon,$t=ue.maxTagCount,hn=ue.maxTagTextLength,bn=ue.maxTagPlaceholder,br=bn===void 0?function(nr){return"+ ".concat(nr.length," ...")}:bn,qn=ue.tagRender,Li=ue.onToggleOpen,$i=ue.onRemove,Bi=ue.onInputChange,co=ue.onInputPaste,Do=ue.onInputKeyDown,Wo=ue.onInputMouseDown,hi=ue.onInputCompositionStart,ua=ue.onInputCompositionEnd,ya=Z.useRef(null),fi=(0,Z.useState)(0),Pi=(0,x.Z)(fi,2),Qi=Pi[0],Zi=Pi[1],Ta=(0,Z.useState)(!1),uo=(0,x.Z)(Ta,2),xa=uo[0],Qo=uo[1],ra="".concat(oe,"-selection"),To=N||ke==="multiple"&&ye===!1||ke==="tags"?G:"",fa=ke==="tags"||ke==="multiple"&&ye===!1||rt&&(N||xa);Ve(function(){Zi(ya.current.scrollWidth)},[To]);function Ba(nr,zt,Qr,hr,gi){return Z.createElement("span",{className:$()("".concat(ra,"-item"),(0,m.Z)({},"".concat(ra,"-item-disabled"),Qr)),title:It(nr)},Z.createElement("span",{className:"".concat(ra,"-item-content")},zt),hr&&Z.createElement(Pe,{className:"".concat(ra,"-item-remove"),onMouseDown:Qe,onClick:gi,customizeIcon:Xn},"\xD7"))}function xt(nr,zt,Qr,hr,gi){var mo=function(io){Qe(io),Li(!N)};return Z.createElement("span",{onMouseDown:mo},qn({label:zt,value:nr,disabled:Qr,closable:hr,onClose:gi}))}function sn(nr){var zt=nr.disabled,Qr=nr.label,hr=nr.value,gi=!Ce&&!zt,mo=Qr;if(typeof hn=="number"&&(typeof Qr=="string"||typeof Qr=="number")){var No=String(mo);No.length>hn&&(mo="".concat(No.slice(0,hn),"..."))}var io=function(Fi){Fi&&Fi.stopPropagation(),$i(nr)};return typeof qn=="function"?xt(hr,mo,zt,gi,io):Ba(nr,mo,zt,gi,io)}function Ht(nr){var zt=typeof br=="function"?br(nr):br;return Ba({title:zt},zt,!1)}var jn=Z.createElement("div",{className:"".concat(ra,"-search"),style:{width:Qi},onFocus:function(){Qo(!0)},onBlur:function(){Qo(!1)}},Z.createElement(je,{ref:Ie,open:N,prefixCls:oe,id:De,inputElement:null,disabled:Ce,autoFocus:Tt,autoComplete:En,editable:fa,activeDescendantId:Rn,value:To,onKeyDown:Do,onMouseDown:Wo,onChange:Bi,onPaste:co,onCompositionStart:hi,onCompositionEnd:ua,tabIndex:$n,attrs:(0,ve.Z)(ue,!0)}),Z.createElement("span",{ref:ya,className:"".concat(ra,"-search-mirror"),"aria-hidden":!0},To,"\xA0")),xr=Z.createElement(Oe.Z,{prefixCls:"".concat(ra,"-overflow"),data:R,renderItem:sn,renderRest:Ht,suffix:jn,itemKey:Me,maxCount:$t});return Z.createElement(Z.Fragment,null,xr,!R.length&&!To&&Z.createElement("span",{className:"".concat(ra,"-placeholder")},ze))},Ge=bt,Ae=function(ue){var De=ue.inputElement,oe=ue.prefixCls,R=ue.id,N=ue.inputRef,G=ue.disabled,ye=ue.autoFocus,Ie=ue.autoComplete,ze=ue.activeDescendantId,Ce=ue.mode,ke=ue.open,rt=ue.values,Tt=ue.placeholder,En=ue.tabIndex,Rn=ue.showSearch,$n=ue.searchValue,Xn=ue.activeValue,$t=ue.maxLength,hn=ue.onInputKeyDown,bn=ue.onInputMouseDown,br=ue.onInputChange,qn=ue.onInputPaste,Li=ue.onInputCompositionStart,$i=ue.onInputCompositionEnd,Bi=Z.useState(!1),co=(0,x.Z)(Bi,2),Do=co[0],Wo=co[1],hi=Ce==="combobox",ua=hi||Rn,ya=rt[0],fi=$n||"";hi&&Xn&&!Do&&(fi=Xn),Z.useEffect(function(){hi&&Wo(!1)},[hi,Xn]);var Pi=Ce!=="combobox"&&!ke&&!Rn?!1:!!fi,Qi=It(ya),Zi=function(){if(ya)return null;var uo=Pi?{visibility:"hidden"}:void 0;return Z.createElement("span",{className:"".concat(oe,"-selection-placeholder"),style:uo},Tt)};return Z.createElement(Z.Fragment,null,Z.createElement("span",{className:"".concat(oe,"-selection-search")},Z.createElement(je,{ref:N,prefixCls:oe,id:R,open:ke,inputElement:De,disabled:G,autoFocus:ye,autoComplete:Ie,editable:ua,activeDescendantId:ze,value:fi,onKeyDown:hn,onMouseDown:bn,onChange:function(uo){Wo(!0),br(uo)},onPaste:qn,onCompositionStart:Li,onCompositionEnd:$i,tabIndex:En,attrs:(0,ve.Z)(ue,!0),maxLength:hi?$t:void 0})),!hi&&ya?Z.createElement("span",{className:"".concat(oe,"-selection-item"),title:Qi,style:Pi?{visibility:"hidden"}:void 0},ya.label):null,Zi())},be=Ae;function Ne(un){return![J.Z.ESC,J.Z.SHIFT,J.Z.BACKSPACE,J.Z.TAB,J.Z.WIN_KEY,J.Z.ALT,J.Z.META,J.Z.WIN_KEY_RIGHT,J.Z.CTRL,J.Z.SEMICOLON,J.Z.EQUALS,J.Z.CAPS_LOCK,J.Z.CONTEXT_MENU,J.Z.F1,J.Z.F2,J.Z.F3,J.Z.F4,J.Z.F5,J.Z.F6,J.Z.F7,J.Z.F8,J.Z.F9,J.Z.F10,J.Z.F11,J.Z.F12].includes(un)}var Re=function(ue,De){var oe=(0,Z.useRef)(null),R=(0,Z.useRef)(!1),N=ue.prefixCls,G=ue.open,ye=ue.mode,Ie=ue.showSearch,ze=ue.tokenWithEnter,Ce=ue.autoClearSearchValue,ke=ue.onSearch,rt=ue.onSearchSubmit,Tt=ue.onToggleOpen,En=ue.onInputKeyDown,Rn=ue.domRef;Z.useImperativeHandle(De,function(){return{focus:function(){oe.current.focus()},blur:function(){oe.current.blur()}}});var $n=le(0),Xn=(0,x.Z)($n,2),$t=Xn[0],hn=Xn[1],bn=function(Pi){var Qi=Pi.which;(Qi===J.Z.UP||Qi===J.Z.DOWN)&&Pi.preventDefault(),En&&En(Pi),Qi===J.Z.ENTER&&ye==="tags"&&!R.current&&!G&&(rt==null||rt(Pi.target.value)),Ne(Qi)&&Tt(!0)},br=function(){hn(!0)},qn=(0,Z.useRef)(null),Li=function(Pi){ke(Pi,!0,R.current)!==!1&&Tt(!0)},$i=function(){R.current=!0},Bi=function(Pi){R.current=!1,ye!=="combobox"&&Li(Pi.target.value)},co=function(Pi){var Qi=Pi.target.value;if(ze&&qn.current&&/[\r\n]/.test(qn.current)){var Zi=qn.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Qi=Qi.replace(Zi,qn.current)}qn.current=null,Li(Qi)},Do=function(Pi){var Qi=Pi.clipboardData,Zi=Qi.getData("text");qn.current=Zi},Wo=function(Pi){var Qi=Pi.target;if(Qi!==oe.current){var Zi=document.body.style.msTouchAction!==void 0;Zi?setTimeout(function(){oe.current.focus()}):oe.current.focus()}},hi=function(Pi){var Qi=$t();Pi.target!==oe.current&&!Qi&&ye!=="combobox"&&Pi.preventDefault(),(ye!=="combobox"&&(!Ie||!Qi)||!G)&&(G&&Ce!==!1&&ke("",!0,!1),Tt())},ua={inputRef:oe,onInputKeyDown:bn,onInputMouseDown:br,onInputChange:co,onInputPaste:Do,onInputCompositionStart:$i,onInputCompositionEnd:Bi},ya=ye==="multiple"||ye==="tags"?Z.createElement(Ge,(0,v.Z)({},ue,ua)):Z.createElement(be,(0,v.Z)({},ue,ua));return Z.createElement("div",{ref:Rn,className:"".concat(N,"-selector"),onClick:Wo,onMouseDown:hi},ya)},ht=Z.forwardRef(Re);ht.displayName="Selector";var Wt=ht,Yt=l(81263),Lt=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Dt=function(ue){var De=ue===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:De,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:De,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:De,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:De,adjustY:1}}}},lt=function(ue,De){var oe=ue.prefixCls,R=ue.disabled,N=ue.visible,G=ue.children,ye=ue.popupElement,Ie=ue.containerWidth,ze=ue.animation,Ce=ue.transitionName,ke=ue.dropdownStyle,rt=ue.dropdownClassName,Tt=ue.direction,En=Tt===void 0?"ltr":Tt,Rn=ue.placement,$n=ue.dropdownMatchSelectWidth,Xn=ue.dropdownRender,$t=ue.dropdownAlign,hn=ue.getPopupContainer,bn=ue.empty,br=ue.getTriggerDOMNode,qn=ue.onPopupVisibleChange,Li=ue.onPopupMouseEnter,$i=(0,A.Z)(ue,Lt),Bi="".concat(oe,"-dropdown"),co=ye;Xn&&(co=Xn(ye));var Do=Z.useMemo(function(){return Dt($n)},[$n]),Wo=ze?"".concat(Bi,"-").concat(ze):Ce,hi=Z.useRef(null);Z.useImperativeHandle(De,function(){return{getPopupElement:function(){return hi.current}}});var ua=(0,g.Z)({minWidth:Ie},ke);return typeof $n=="number"?ua.width=$n:$n&&(ua.width=Ie),Z.createElement(Yt.Z,(0,v.Z)({},$i,{showAction:qn?["click"]:[],hideAction:qn?["click"]:[],popupPlacement:Rn||(En==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:Do,prefixCls:Bi,popupTransitionName:Wo,popup:Z.createElement("div",{ref:hi,onMouseEnter:Li},co),popupAlign:$t,popupVisible:N,getPopupContainer:hn,popupClassName:$()(rt,(0,m.Z)({},"".concat(Bi,"-empty"),bn)),popupStyle:ua,getTriggerDOMNode:br,onPopupVisibleChange:qn}),G)},Ft=Z.forwardRef(lt);Ft.displayName="SelectTrigger";var qt=Ft,Nn=l(84506);function kn(un,ue){var De=un.key,oe;return"value"in un&&(oe=un.value),De!=null?De:oe!==void 0?oe:"rc-index-key-".concat(ue)}function An(un,ue){var De=un||{},oe=De.label,R=De.value,N=De.options;return{label:oe||(ue?"children":"label"),value:R||"value",options:N||"options"}}function Kn(un){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=ue.fieldNames,oe=ue.childrenAsData,R=[],N=An(De,!1),G=N.label,ye=N.value,Ie=N.options;function ze(Ce,ke){Ce.forEach(function(rt){var Tt=rt[G];if(ke||!(Ie in rt)){var En=rt[ye];R.push({key:kn(rt,R.length),groupOption:ke,data:rt,label:Tt,value:En})}else{var Rn=Tt;Rn===void 0&&oe&&(Rn=rt.label),R.push({key:kn(rt,R.length),group:!0,data:rt,label:Rn}),ze(rt[Ie],!0)}})}return ze(un,!1),R}function ee(un){var ue=(0,g.Z)({},un);return"props"in ue||Object.defineProperty(ue,"props",{get:function(){return(0,k.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),ue}}),ue}function it(un,ue){if(!ue||!ue.length)return null;var De=!1;function oe(N,G){var ye=(0,Nn.Z)(G),Ie=ye[0],ze=ye.slice(1);if(!Ie)return[N];var Ce=N.split(Ie);return De=De||Ce.length>1,Ce.reduce(function(ke,rt){return[].concat((0,d.Z)(ke),(0,d.Z)(oe(rt,ze)))},[]).filter(function(ke){return ke})}var R=oe(un,ue);return De?R:null}var Ze=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],ot=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function Xe(un){return un==="tags"||un==="multiple"}var et=Z.forwardRef(function(un,ue){var De,oe,R=un.id,N=un.prefixCls,G=un.className,ye=un.showSearch,Ie=un.tagRender,ze=un.direction,Ce=un.omitDomProps,ke=un.displayValues,rt=un.onDisplayValuesChange,Tt=un.emptyOptions,En=un.notFoundContent,Rn=En===void 0?"Not Found":En,$n=un.onClear,Xn=un.mode,$t=un.disabled,hn=un.loading,bn=un.getInputElement,br=un.getRawInputElement,qn=un.open,Li=un.defaultOpen,$i=un.onDropdownVisibleChange,Bi=un.activeValue,co=un.onActiveValueChange,Do=un.activeDescendantId,Wo=un.searchValue,hi=un.autoClearSearchValue,ua=un.onSearch,ya=un.onSearchSplit,fi=un.tokenSeparators,Pi=un.allowClear,Qi=un.showArrow,Zi=un.inputIcon,Ta=un.clearIcon,uo=un.OptionList,xa=un.animation,Qo=un.transitionName,ra=un.dropdownStyle,To=un.dropdownClassName,fa=un.dropdownMatchSelectWidth,Ba=un.dropdownRender,xt=un.dropdownAlign,sn=un.placement,Ht=un.getPopupContainer,jn=un.showAction,xr=jn===void 0?[]:jn,nr=un.onFocus,zt=un.onBlur,Qr=un.onKeyUp,hr=un.onKeyDown,gi=un.onMouseDown,mo=(0,A.Z)(un,Ze),No=Xe(Xn),io=(ye!==void 0?ye:No)||Xn==="combobox",Ti=(0,g.Z)({},mo);ot.forEach(function(Bo){delete Ti[Bo]}),Ce==null||Ce.forEach(function(Bo){delete Ti[Bo]});var Fi=Z.useState(!1),ha=(0,x.Z)(Fi,2),Ea=ha[0],ea=ha[1];Z.useEffect(function(){ea((0,Q.Z)())},[]);var Ja=Z.useRef(null),hs=Z.useRef(null),Gs=Z.useRef(null),Ki=Z.useRef(null),Oa=Z.useRef(null),qa=fe(),da=(0,x.Z)(qa,3),Aa=da[0],Ps=da[1],wa=da[2];Z.useImperativeHandle(ue,function(){var Bo,se;return{focus:(Bo=Ki.current)===null||Bo===void 0?void 0:Bo.focus,blur:(se=Ki.current)===null||se===void 0?void 0:se.blur,scrollTo:function(ft){var Ct;return(Ct=Oa.current)===null||Ct===void 0?void 0:Ct.scrollTo(ft)}}});var is=Z.useMemo(function(){var Bo;if(Xn!=="combobox")return Wo;var se=(Bo=ke[0])===null||Bo===void 0?void 0:Bo.value;return typeof se=="string"||typeof se=="number"?String(se):""},[Wo,Xn,ke]),Pl=Xn==="combobox"&&typeof bn=="function"&&bn()||null,F=typeof br=="function"&&br(),X=(0,K.x1)(hs,F==null||(De=F.props)===null||De===void 0?void 0:De.ref),ge=(0,w.Z)(void 0,{defaultValue:Li,value:qn}),_e=(0,x.Z)(ge,2),Je=_e[0],tt=_e[1],gt=Je,_n=!Rn&&Tt;($t||_n&&gt&&Xn==="combobox")&&(gt=!1);var Dn=_n?!1:gt,Un=Z.useCallback(function(Bo){var se=Bo!==void 0?Bo:!gt;$t||(tt(se),gt!==se&&($i==null||$i(se)))},[$t,gt,tt,$i]),Mr=Z.useMemo(function(){return(fi||[]).some(function(Bo){return[`
`,`\r
`].includes(Bo)})},[fi]),Dr=function(se,Ye,ft){var Ct=!0,nn=se;co==null||co(null);var yn=ft?null:it(se,fi);return Xn!=="combobox"&&yn&&(nn="",ya==null||ya(yn),Un(!1),Ct=!1),ua&&is!==nn&&ua(nn,{source:Ye?"typing":"effect"}),Ct},fr=function(se){!se||!se.trim()||ua(se,{source:"submit"})};Z.useEffect(function(){!gt&&!No&&Xn!=="combobox"&&Dr("",!1,!1)},[gt]),Z.useEffect(function(){Je&&$t&&tt(!1),$t&&Ps(!1)},[$t]);var Er=le(),ao=(0,x.Z)(Er,2),oo=ao[0],ba=ao[1],es=function(se){var Ye=oo(),ft=se.which;if(ft===J.Z.ENTER&&(Xn!=="combobox"&&se.preventDefault(),gt||Un(!0)),ba(!!is),ft===J.Z.BACKSPACE&&!Ye&&No&&!is&&ke.length){for(var Ct=(0,d.Z)(ke),nn=null,yn=Ct.length-1;yn>=0;yn-=1){var Vn=Ct[yn];if(!Vn.disabled){Ct.splice(yn,1),nn=Vn;break}}nn&&rt(Ct,{type:"remove",values:[nn]})}for(var wr=arguments.length,Nr=new Array(wr>1?wr-1:0),jr=1;jr<wr;jr++)Nr[jr-1]=arguments[jr];if(gt&&Oa.current){var bi;(bi=Oa.current).onKeyDown.apply(bi,[se].concat(Nr))}hr==null||hr.apply(void 0,[se].concat(Nr))},Da=function(se){for(var Ye=arguments.length,ft=new Array(Ye>1?Ye-1:0),Ct=1;Ct<Ye;Ct++)ft[Ct-1]=arguments[Ct];if(gt&&Oa.current){var nn;(nn=Oa.current).onKeyUp.apply(nn,[se].concat(ft))}Qr==null||Qr.apply(void 0,[se].concat(ft))},ut=function(se){var Ye=ke.filter(function(ft){return ft!==se});rt(Ye,{type:"remove",values:[se]})},on=Z.useRef(!1),xn=function(){Ps(!0),$t||(nr&&!on.current&&nr.apply(void 0,arguments),xr.includes("focus")&&Un(!0)),on.current=!0},cr=function(){Ps(!1,function(){on.current=!1,Un(!1)}),!$t&&(is&&(Xn==="tags"?ua(is,{source:"submit"}):Xn==="multiple"&&ua("",{source:"blur"})),zt&&zt.apply(void 0,arguments))},mn=[];Z.useEffect(function(){return function(){mn.forEach(function(Bo){return clearTimeout(Bo)}),mn.splice(0,mn.length)}},[]);var Or=function(se){var Ye,ft=se.target,Ct=(Ye=Gs.current)===null||Ye===void 0?void 0:Ye.getPopupElement();if(Ct&&Ct.contains(ft)){var nn=setTimeout(function(){var Nr=mn.indexOf(nn);if(Nr!==-1&&mn.splice(Nr,1),wa(),!Ea&&!Ct.contains(document.activeElement)){var jr;(jr=Ki.current)===null||jr===void 0||jr.focus()}});mn.push(nn)}for(var yn=arguments.length,Vn=new Array(yn>1?yn-1:0),wr=1;wr<yn;wr++)Vn[wr-1]=arguments[wr];gi==null||gi.apply(void 0,[se].concat(Vn))},ei=Z.useState(null),Ni=(0,x.Z)(ei,2),ki=Ni[0],yo=Ni[1],Ro=Z.useState({}),Lo=(0,x.Z)(Ro,2),Jo=Lo[1];function Io(){Jo({})}(0,te.Z)(function(){if(Dn){var Bo,se=Math.ceil((Bo=Ja.current)===null||Bo===void 0?void 0:Bo.offsetWidth);ki!==se&&!Number.isNaN(se)&&yo(se)}},[Dn]);var qo;F&&(qo=function(se){Un(se)}),ie(function(){var Bo;return[Ja.current,(Bo=Gs.current)===null||Bo===void 0?void 0:Bo.getPopupElement()]},Dn,Un,!!F);var Vo=Z.useMemo(function(){return(0,g.Z)((0,g.Z)({},un),{},{notFoundContent:Rn,open:gt,triggerOpen:Dn,id:R,showSearch:io,multiple:No,toggleOpen:Un})},[un,Rn,Dn,gt,R,io,No,Un]),jo=Qi!==void 0?Qi:hn||!No&&Xn!=="combobox",so;jo&&(so=Z.createElement(Pe,{className:$()("".concat(N,"-arrow"),(0,m.Z)({},"".concat(N,"-arrow-loading"),hn)),customizeIcon:Zi,customizeIconProps:{loading:hn,searchValue:is,open:gt,focused:Aa,showSearch:io}}));var Si,pa=function(){var se;$n==null||$n(),(se=Ki.current)===null||se===void 0||se.focus(),rt([],{type:"clear",values:ke}),Dr("",!1,!1)};!$t&&Pi&&(ke.length||is)&&!(Xn==="combobox"&&is==="")&&(Si=Z.createElement(Pe,{className:"".concat(N,"-clear"),onMouseDown:pa,customizeIcon:Ta},"\xD7"));var xo=Z.createElement(uo,{ref:Oa}),Pa=$()(N,G,(oe={},(0,m.Z)(oe,"".concat(N,"-focused"),Aa),(0,m.Z)(oe,"".concat(N,"-multiple"),No),(0,m.Z)(oe,"".concat(N,"-single"),!No),(0,m.Z)(oe,"".concat(N,"-allow-clear"),Pi),(0,m.Z)(oe,"".concat(N,"-show-arrow"),jo),(0,m.Z)(oe,"".concat(N,"-disabled"),$t),(0,m.Z)(oe,"".concat(N,"-loading"),hn),(0,m.Z)(oe,"".concat(N,"-open"),gt),(0,m.Z)(oe,"".concat(N,"-customize-input"),Pl),(0,m.Z)(oe,"".concat(N,"-show-search"),io),oe)),Fo=Z.createElement(qt,{ref:Gs,disabled:$t,prefixCls:N,visible:Dn,popupElement:xo,containerWidth:ki,animation:xa,transitionName:Qo,dropdownStyle:ra,dropdownClassName:To,direction:ze,dropdownMatchSelectWidth:fa,dropdownRender:Ba,dropdownAlign:xt,placement:sn,getPopupContainer:Ht,empty:Tt,getTriggerDOMNode:function(){return hs.current},onPopupVisibleChange:qo,onPopupMouseEnter:Io},F?Z.cloneElement(F,{ref:X}):Z.createElement(Wt,(0,v.Z)({},un,{domRef:hs,prefixCls:N,inputElement:Pl,ref:Ki,id:R,showSearch:io,autoClearSearchValue:hi,mode:Xn,activeDescendantId:Do,tagRender:Ie,values:ke,open:gt,onToggleOpen:Un,activeValue:Bi,searchValue:is,onSearch:Dr,onSearchSubmit:fr,onRemove:ut,tokenWithEnter:Mr}))),Sa;return F?Sa=Fo:Sa=Z.createElement("div",(0,v.Z)({className:Pa},Ti,{ref:Ja,onMouseDown:Or,onKeyDown:es,onKeyUp:Da,onFocus:xn,onBlur:cr}),Aa&&!gt&&Z.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(ke.map(function(Bo){var se=Bo.label,Ye=Bo.value;return["number","string"].includes((0,E.Z)(se))?se:Ye}).join(", "))),Fo,so,Si),Z.createElement(Y.Provider,{value:Vo},Sa)}),pt=et,He=function(un,ue){var De=Z.useRef({values:new Map,options:new Map}),oe=Z.useMemo(function(){var N=De.current,G=N.values,ye=N.options,Ie=un.map(function(ke){if(ke.label===void 0){var rt;return(0,g.Z)((0,g.Z)({},ke),{},{label:(rt=G.get(ke.value))===null||rt===void 0?void 0:rt.label})}return ke}),ze=new Map,Ce=new Map;return Ie.forEach(function(ke){ze.set(ke.value,ke),Ce.set(ke.value,ue.get(ke.value)||ye.get(ke.value))}),De.current.values=ze,De.current.options=Ce,Ie},[un,ue]),R=Z.useCallback(function(N){return ue.get(N)||De.current.options.get(N)},[ue]);return[oe,R]};function Et(un,ue){return he(un).join("").toUpperCase().includes(ue)}var Vt=function(un,ue,De,oe,R){return Z.useMemo(function(){if(!De||oe===!1)return un;var N=ue.options,G=ue.label,ye=ue.value,Ie=[],ze=typeof oe=="function",Ce=De.toUpperCase(),ke=ze?oe:function(Tt,En){return R?Et(En[R],Ce):En[N]?Et(En[G!=="children"?G:"label"],Ce):Et(En[ye],Ce)},rt=ze?function(Tt){return ee(Tt)}:function(Tt){return Tt};return un.forEach(function(Tt){if(Tt[N]){var En=ke(De,rt(Tt));if(En)Ie.push(Tt);else{var Rn=Tt[N].filter(function($n){return ke(De,rt($n))});Rn.length&&Ie.push((0,g.Z)((0,g.Z)({},Tt),{},(0,m.Z)({},N,Rn)))}return}ke(De,rt(Tt))&&Ie.push(Tt)}),Ie},[un,oe,R,De,ue])},On=l(88708),Wn=l(50344),pr=["children","value"],Cr=["children"];function Sn(un){var ue=un,De=ue.key,oe=ue.props,R=oe.children,N=oe.value,G=(0,A.Z)(oe,pr);return(0,g.Z)({key:De,value:N!==void 0?N:De,children:R},G)}function Cn(un){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,Wn.Z)(un).map(function(De,oe){if(!Z.isValidElement(De)||!De.type)return null;var R=De,N=R.type.isSelectOptGroup,G=R.key,ye=R.props,Ie=ye.children,ze=(0,A.Z)(ye,Cr);return ue||!N?Sn(De):(0,g.Z)((0,g.Z)({key:"__RC_SELECT_GRP__".concat(G===null?oe:G,"__"),label:G},ze),{},{options:Cn(Ie)})}).filter(function(De){return De})}function Fn(un,ue,De,oe,R){return Z.useMemo(function(){var N=un,G=!un;G&&(N=Cn(ue));var ye=new Map,Ie=new Map,ze=function(rt,Tt,En){En&&typeof En=="string"&&rt.set(Tt[En],Tt)};function Ce(ke){for(var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Tt=0;Tt<ke.length;Tt+=1){var En=ke[Tt];!En[De.options]||rt?(ye.set(En[De.value],En),ze(Ie,En,De.label),ze(Ie,En,oe),ze(Ie,En,R)):Ce(En[De.options],!0)}}return Ce(N),{options:N,valueOptions:ye,labelOptions:Ie}},[un,ue,De,oe,R])}function Hn(un){var ue=Z.useRef();ue.current=un;var De=Z.useCallback(function(){return ue.current.apply(ue,arguments)},[]);return De}var sr=function(){return null};sr.isSelectOptGroup=!0;var ti=sr,Ir=function(){return null};Ir.isSelectOption=!0;var kr=Ir,di=l(98423),Yn=l(56982),Bt=l(85344);function kt(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var dn=Z.createContext(null),Ot=dn,ur=["disabled","title","children","style","className"];function Mn(un){return typeof un=="string"||typeof un=="number"}var zr=function(ue,De){var oe=re(),R=oe.prefixCls,N=oe.id,G=oe.open,ye=oe.multiple,Ie=oe.mode,ze=oe.searchValue,Ce=oe.toggleOpen,ke=oe.notFoundContent,rt=oe.onPopupScroll,Tt=Z.useContext(Ot),En=Tt.flattenOptions,Rn=Tt.onActiveValue,$n=Tt.defaultActiveFirstOption,Xn=Tt.onSelect,$t=Tt.menuItemSelectedIcon,hn=Tt.rawValues,bn=Tt.fieldNames,br=Tt.virtual,qn=Tt.listHeight,Li=Tt.listItemHeight,$i="".concat(R,"-item"),Bi=(0,Yn.Z)(function(){return En},[G,En],function(ra,To){return To[0]&&ra[1]!==To[1]}),co=Z.useRef(null),Do=function(To){To.preventDefault()},Wo=function(To){co.current&&co.current.scrollTo(typeof To=="number"?{index:To}:To)},hi=function(To){for(var fa=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Ba=Bi.length,xt=0;xt<Ba;xt+=1){var sn=(To+xt*fa+Ba)%Ba,Ht=Bi[sn],jn=Ht.group,xr=Ht.data;if(!jn&&!xr.disabled)return sn}return-1},ua=Z.useState(function(){return hi(0)}),ya=(0,x.Z)(ua,2),fi=ya[0],Pi=ya[1],Qi=function(To){var fa=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Pi(To);var Ba={source:fa?"keyboard":"mouse"},xt=Bi[To];if(!xt){Rn(null,-1,Ba);return}Rn(xt.value,To,Ba)};(0,Z.useEffect)(function(){Qi($n!==!1?hi(0):-1)},[Bi.length,ze]);var Zi=Z.useCallback(function(ra){return hn.has(ra)&&Ie!=="combobox"},[Ie,(0,d.Z)(hn).toString(),hn.size]);(0,Z.useEffect)(function(){var ra=setTimeout(function(){if(!ye&&G&&hn.size===1){var fa=Array.from(hn)[0],Ba=Bi.findIndex(function(xt){var sn=xt.data;return sn.value===fa});Ba!==-1&&(Qi(Ba),Wo(Ba))}});if(G){var To;(To=co.current)===null||To===void 0||To.scrollTo(void 0)}return function(){return clearTimeout(ra)}},[G,ze]);var Ta=function(To){To!==void 0&&Xn(To,{selected:!hn.has(To)}),ye||Ce(!1)};if(Z.useImperativeHandle(De,function(){return{onKeyDown:function(To){var fa=To.which,Ba=To.ctrlKey;switch(fa){case J.Z.N:case J.Z.P:case J.Z.UP:case J.Z.DOWN:{var xt=0;if(fa===J.Z.UP?xt=-1:fa===J.Z.DOWN?xt=1:kt()&&Ba&&(fa===J.Z.N?xt=1:fa===J.Z.P&&(xt=-1)),xt!==0){var sn=hi(fi+xt,xt);Wo(sn),Qi(sn,!0)}break}case J.Z.ENTER:{var Ht=Bi[fi];Ht&&!Ht.data.disabled?Ta(Ht.value):Ta(void 0),G&&To.preventDefault();break}case J.Z.ESC:Ce(!1),G&&To.stopPropagation()}},onKeyUp:function(){},scrollTo:function(To){Wo(To)}}}),Bi.length===0)return Z.createElement("div",{role:"listbox",id:"".concat(N,"_list"),className:"".concat($i,"-empty"),onMouseDown:Do},ke);var uo=Object.keys(bn).map(function(ra){return bn[ra]}),xa=function(To){return To.label},Qo=function(To){var fa=Bi[To];if(!fa)return null;var Ba=fa.data||{},xt=Ba.value,sn=fa.group,Ht=(0,ve.Z)(Ba,!0),jn=xa(fa);return fa?Z.createElement("div",(0,v.Z)({"aria-label":typeof jn=="string"&&!sn?jn:null},Ht,{key:To,role:sn?"presentation":"option",id:"".concat(N,"_list_").concat(To),"aria-selected":Zi(xt)}),xt):null};return Z.createElement(Z.Fragment,null,Z.createElement("div",{role:"listbox",id:"".concat(N,"_list"),style:{height:0,width:0,overflow:"hidden"}},Qo(fi-1),Qo(fi),Qo(fi+1)),Z.createElement(Bt.Z,{itemKey:"key",ref:co,data:Bi,height:qn,itemHeight:Li,fullHeight:!1,onMouseDown:Do,onScroll:rt,virtual:br},function(ra,To){var fa,Ba=ra.group,xt=ra.groupOption,sn=ra.data,Ht=ra.label,jn=ra.value,xr=sn.key;if(Ba){var nr,zt=(nr=sn.title)!==null&&nr!==void 0?nr:Mn(Ht)?Ht.toString():void 0;return Z.createElement("div",{className:$()($i,"".concat($i,"-group")),title:zt},Ht!==void 0?Ht:xr)}var Qr=sn.disabled,hr=sn.title,gi=sn.children,mo=sn.style,No=sn.className,io=(0,A.Z)(sn,ur),Ti=(0,di.Z)(io,uo),Fi=Zi(jn),ha="".concat($i,"-option"),Ea=$()($i,ha,No,(fa={},(0,m.Z)(fa,"".concat(ha,"-grouped"),xt),(0,m.Z)(fa,"".concat(ha,"-active"),fi===To&&!Qr),(0,m.Z)(fa,"".concat(ha,"-disabled"),Qr),(0,m.Z)(fa,"".concat(ha,"-selected"),Fi),fa)),ea=xa(ra),Ja=!$t||typeof $t=="function"||Fi,hs=typeof ea=="number"?ea:ea||jn,Gs=Mn(hs)?hs.toString():void 0;return hr!==void 0&&(Gs=hr),Z.createElement("div",(0,v.Z)({},(0,ve.Z)(Ti),{"aria-selected":Fi,className:Ea,title:Gs,onMouseMove:function(){fi===To||Qr||Qi(To)},onClick:function(){Qr||Ta(jn)},style:mo}),Z.createElement("div",{className:"".concat(ha,"-content")},hs),Z.isValidElement($t)||Fi,Ja&&Z.createElement(Pe,{className:"".concat($i,"-option-state"),customizeIcon:$t,customizeIconProps:{isSelected:Fi}},Fi?"\u2713":null))}))},jt=Z.forwardRef(zr);jt.displayName="OptionList";var gn=jt;function Ln(un){var ue=un.mode,De=un.options,oe=un.children,R=un.backfill,N=un.allowClear,G=un.placeholder,ye=un.getInputElement,Ie=un.showSearch,ze=un.onSearch,Ce=un.defaultOpen,ke=un.autoFocus,rt=un.labelInValue,Tt=un.value,En=un.inputValue,Rn=un.optionLabelProp,$n=isMultiple(ue),Xn=Ie!==void 0?Ie:$n||ue==="combobox",$t=De||convertChildrenToData(oe);if(warning(ue!=="tags"||$t.every(function(qn){return!qn.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),ue==="tags"||ue==="combobox"){var hn=$t.some(function(qn){return qn.options?qn.options.some(function(Li){return typeof("value"in Li?Li.value:Li.key)=="number"}):typeof("value"in qn?qn.value:qn.key)=="number"});warning(!hn,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(ue!=="combobox"||!Rn,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(ue==="combobox"||!R,"`backfill` only works with `combobox` mode."),warning(ue==="combobox"||!ye,"`getInputElement` only work with `combobox` mode."),noteOnce(ue!=="combobox"||!ye||!N||!G,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),ze&&!Xn&&ue!=="combobox"&&ue!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!Ce||ke,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),Tt!=null){var bn=toArray(Tt);warning(!rt||bn.every(function(qn){return _typeof(qn)==="object"&&("key"in qn||"value"in qn)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!$n||Array.isArray(Tt),"`value` should be array when `mode` is `multiple` or `tags`")}if(oe){var br=null;toNodeArray(oe).some(function(qn){if(!React.isValidElement(qn)||!qn.type)return!1;var Li=qn,$i=Li.type;if($i.isSelectOption)return!1;if($i.isSelectOptGroup){var Bi=toNodeArray(qn.props.children).every(function(co){return!React.isValidElement(co)||!qn.type||co.type.isSelectOption?!0:(br=co.type,!1)});return!Bi}return br=$i,!0}),br&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(br.displayName||br.name||br,"`.")),warning(En===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function vt(un,ue){if(un){var De=function oe(R){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=0;G<R.length;G++){var ye=R[G];if(ye[ue==null?void 0:ue.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!N&&Array.isArray(ye[ue==null?void 0:ue.options])&&oe(ye[ue==null?void 0:ue.options],!0))break}};De(un)}}var Zt=null,or=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],ir=["inputValue"];function lr(un){return!un||(0,E.Z)(un)!=="object"}var Pr=Z.forwardRef(function(un,ue){var De=un.id,oe=un.mode,R=un.prefixCls,N=R===void 0?"rc-select":R,G=un.backfill,ye=un.fieldNames,Ie=un.inputValue,ze=un.searchValue,Ce=un.onSearch,ke=un.autoClearSearchValue,rt=ke===void 0?!0:ke,Tt=un.onSelect,En=un.onDeselect,Rn=un.dropdownMatchSelectWidth,$n=Rn===void 0?!0:Rn,Xn=un.filterOption,$t=un.filterSort,hn=un.optionFilterProp,bn=un.optionLabelProp,br=un.options,qn=un.children,Li=un.defaultActiveFirstOption,$i=un.menuItemSelectedIcon,Bi=un.virtual,co=un.listHeight,Do=co===void 0?200:co,Wo=un.listItemHeight,hi=Wo===void 0?20:Wo,ua=un.value,ya=un.defaultValue,fi=un.labelInValue,Pi=un.onChange,Qi=(0,A.Z)(un,or),Zi=(0,On.ZP)(De),Ta=Xe(oe),uo=!!(!br&&qn),xa=Z.useMemo(function(){return Xn===void 0&&oe==="combobox"?!1:Xn},[Xn,oe]),Qo=Z.useMemo(function(){return An(ye,uo)},[JSON.stringify(ye),uo]),ra=(0,w.Z)("",{value:ze!==void 0?ze:Ie,postState:function(Mr){return Mr||""}}),To=(0,x.Z)(ra,2),fa=To[0],Ba=To[1],xt=Fn(br,qn,Qo,hn,bn),sn=xt.valueOptions,Ht=xt.labelOptions,jn=xt.options,xr=Z.useCallback(function(Un){var Mr=he(Un);return Mr.map(function(Dr){var fr,Er,ao,oo,ba;if(lr(Dr))fr=Dr;else{var es;ao=Dr.key,Er=Dr.label,fr=(es=Dr.value)!==null&&es!==void 0?es:ao}var Da=sn.get(fr);if(Da){var ut;if(Er===void 0&&(Er=Da==null?void 0:Da[bn||Qo.label]),ao===void 0&&(ao=(ut=Da==null?void 0:Da.key)!==null&&ut!==void 0?ut:fr),oo=Da==null?void 0:Da.disabled,ba=Da==null?void 0:Da.title,0)var on}return{label:Er,value:fr,key:ao,disabled:oo,title:ba}})},[Qo,bn,sn]),nr=(0,w.Z)(ya,{value:ua}),zt=(0,x.Z)(nr,2),Qr=zt[0],hr=zt[1],gi=Z.useMemo(function(){var Un,Mr=xr(Qr);return oe==="combobox"&&!((Un=Mr[0])!==null&&Un!==void 0&&Un.value)?[]:Mr},[Qr,xr,oe]),mo=He(gi,sn),No=(0,x.Z)(mo,2),io=No[0],Ti=No[1],Fi=Z.useMemo(function(){if(!oe&&io.length===1){var Un=io[0];if(Un.value===null&&(Un.label===null||Un.label===void 0))return[]}return io.map(function(Mr){var Dr;return(0,g.Z)((0,g.Z)({},Mr),{},{label:(Dr=Mr.label)!==null&&Dr!==void 0?Dr:Mr.value})})},[oe,io]),ha=Z.useMemo(function(){return new Set(io.map(function(Un){return Un.value}))},[io]);Z.useEffect(function(){if(oe==="combobox"){var Un,Mr=(Un=io[0])===null||Un===void 0?void 0:Un.value;Ba(vn(Mr)?String(Mr):"")}},[io]);var Ea=Hn(function(Un,Mr){var Dr,fr=Mr!=null?Mr:Un;return Dr={},(0,m.Z)(Dr,Qo.value,Un),(0,m.Z)(Dr,Qo.label,fr),Dr}),ea=Z.useMemo(function(){if(oe!=="tags")return jn;var Un=(0,d.Z)(jn),Mr=function(fr){return sn.has(fr)};return(0,d.Z)(io).sort(function(Dr,fr){return Dr.value<fr.value?-1:1}).forEach(function(Dr){var fr=Dr.value;Mr(fr)||Un.push(Ea(fr,Dr.label))}),Un},[Ea,jn,sn,io,oe]),Ja=Vt(ea,Qo,fa,xa,hn),hs=Z.useMemo(function(){return oe!=="tags"||!fa||Ja.some(function(Un){return Un[hn||"value"]===fa})?Ja:[Ea(fa)].concat((0,d.Z)(Ja))},[Ea,hn,oe,Ja,fa]),Gs=Z.useMemo(function(){return $t?(0,d.Z)(hs).sort(function(Un,Mr){return $t(Un,Mr)}):hs},[hs,$t]),Ki=Z.useMemo(function(){return Kn(Gs,{fieldNames:Qo,childrenAsData:uo})},[Gs,Qo,uo]),Oa=function(Mr){var Dr=xr(Mr);if(hr(Dr),Pi&&(Dr.length!==io.length||Dr.some(function(ao,oo){var ba;return((ba=io[oo])===null||ba===void 0?void 0:ba.value)!==(ao==null?void 0:ao.value)}))){var fr=fi?Dr:Dr.map(function(ao){return ao.value}),Er=Dr.map(function(ao){return ee(Ti(ao.value))});Pi(Ta?fr:fr[0],Ta?Er:Er[0])}},qa=Z.useState(null),da=(0,x.Z)(qa,2),Aa=da[0],Ps=da[1],wa=Z.useState(0),is=(0,x.Z)(wa,2),Pl=is[0],F=is[1],X=Li!==void 0?Li:oe!=="combobox",ge=Z.useCallback(function(Un,Mr){var Dr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},fr=Dr.source,Er=fr===void 0?"keyboard":fr;F(Mr),G&&oe==="combobox"&&Un!==null&&Er==="keyboard"&&Ps(String(Un))},[G,oe]),_e=function(Mr,Dr,fr){var Er=function(){var mn,Or=Ti(Mr);return[fi?{label:Or==null?void 0:Or[Qo.label],value:Mr,key:(mn=Or==null?void 0:Or.key)!==null&&mn!==void 0?mn:Mr}:Mr,ee(Or)]};if(Dr&&Tt){var ao=Er(),oo=(0,x.Z)(ao,2),ba=oo[0],es=oo[1];Tt(ba,es)}else if(!Dr&&En&&fr!=="clear"){var Da=Er(),ut=(0,x.Z)(Da,2),on=ut[0],xn=ut[1];En(on,xn)}},Je=Hn(function(Un,Mr){var Dr,fr=Ta?Mr.selected:!0;fr?Dr=Ta?[].concat((0,d.Z)(io),[Un]):[Un]:Dr=io.filter(function(Er){return Er.value!==Un}),Oa(Dr),_e(Un,fr),oe==="combobox"?Ps(""):(!Xe||rt)&&(Ba(""),Ps(""))}),tt=function(Mr,Dr){Oa(Mr);var fr=Dr.type,Er=Dr.values;(fr==="remove"||fr==="clear")&&Er.forEach(function(ao){_e(ao.value,!1,fr)})},gt=function(Mr,Dr){if(Ba(Mr),Ps(null),Dr.source==="submit"){var fr=(Mr||"").trim();if(fr){var Er=Array.from(new Set([].concat((0,d.Z)(ha),[fr])));Oa(Er),_e(fr,!0),Ba("")}return}Dr.source!=="blur"&&(oe==="combobox"&&Oa(Mr),Ce==null||Ce(Mr))},_n=function(Mr){var Dr=Mr;oe!=="tags"&&(Dr=Mr.map(function(Er){var ao=Ht.get(Er);return ao==null?void 0:ao.value}).filter(function(Er){return Er!==void 0}));var fr=Array.from(new Set([].concat((0,d.Z)(ha),(0,d.Z)(Dr))));Oa(fr),fr.forEach(function(Er){_e(Er,!0)})},Dn=Z.useMemo(function(){var Un=Bi!==!1&&$n!==!1;return(0,g.Z)((0,g.Z)({},xt),{},{flattenOptions:Ki,onActiveValue:ge,defaultActiveFirstOption:X,onSelect:Je,menuItemSelectedIcon:$i,rawValues:ha,fieldNames:Qo,virtual:Un,listHeight:Do,listItemHeight:hi,childrenAsData:uo})},[xt,Ki,ge,X,Je,$i,ha,Qo,Bi,$n,Do,hi,uo]);return Z.createElement(Ot.Provider,{value:Dn},Z.createElement(pt,(0,v.Z)({},Qi,{id:Zi,prefixCls:N,ref:ue,omitDomProps:ir,mode:oe,displayValues:Fi,onDisplayValuesChange:tt,searchValue:fa,onSearch:gt,autoClearSearchValue:rt,onSearchSplit:_n,dropdownMatchSelectWidth:$n,OptionList:gn,emptyOptions:!Ki.length,activeValue:Aa,activeDescendantId:"".concat(Zi,"_list_").concat(Pl)})))}),$r=Pr;$r.Option=kr,$r.OptGroup=ti;var dr=$r,ni=dr},86128:function(j,M,l){"use strict";l.d(M,{Z:function(){return Pe}});var v=l(87462),d=l(4942),m=l(91),g=l(1413),x=l(15671),A=l(43144),E=l(97326),w=l(32531),k=l(29388),Z=l(93967),U=l.n(Z),$=l(64217),te=l(67294),Q=l(27822),J=function(Be){for(var je=Be.prefixCls,he=Be.level,st=Be.isStart,en=Be.isEnd,vn="".concat(je,"-indent-unit"),Mt=[],It=0;It<he;It+=1){var Ve;Mt.push(te.createElement("span",{key:It,className:U()(vn,(Ve={},(0,d.Z)(Ve,"".concat(vn,"-start"),st[It]),(0,d.Z)(Ve,"".concat(vn,"-end"),en[It]),Ve))}))}return te.createElement("span",{"aria-hidden":"true",className:"".concat(je,"-indent")},Mt)},K=te.memo(J),Y=l(35381),re=l(1089),fe=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],le="open",ie="close",ve="---",Oe=function(pe){(0,w.Z)(je,pe);var Be=(0,k.Z)(je);function je(){var he;(0,x.Z)(this,je);for(var st=arguments.length,en=new Array(st),vn=0;vn<st;vn++)en[vn]=arguments[vn];return he=Be.call.apply(Be,[this].concat(en)),he.state={dragNodeHighlight:!1},he.selectHandle=void 0,he.cacheIndent=void 0,he.onSelectorClick=function(Mt){var It=he.props.context.onNodeClick;It(Mt,(0,re.F)(he.props)),he.isSelectable()?he.onSelect(Mt):he.onCheck(Mt)},he.onSelectorDoubleClick=function(Mt){var It=he.props.context.onNodeDoubleClick;It(Mt,(0,re.F)(he.props))},he.onSelect=function(Mt){if(!he.isDisabled()){var It=he.props.context.onNodeSelect;It(Mt,(0,re.F)(he.props))}},he.onCheck=function(Mt){if(!he.isDisabled()){var It=he.props,Ve=It.disableCheckbox,Me=It.checked,Qe=he.props.context.onNodeCheck;if(!(!he.isCheckable()||Ve)){var bt=!Me;Qe(Mt,(0,re.F)(he.props),bt)}}},he.onMouseEnter=function(Mt){var It=he.props.context.onNodeMouseEnter;It(Mt,(0,re.F)(he.props))},he.onMouseLeave=function(Mt){var It=he.props.context.onNodeMouseLeave;It(Mt,(0,re.F)(he.props))},he.onContextMenu=function(Mt){var It=he.props.context.onNodeContextMenu;It(Mt,(0,re.F)(he.props))},he.onDragStart=function(Mt){var It=he.props.context.onNodeDragStart;Mt.stopPropagation(),he.setState({dragNodeHighlight:!0}),It(Mt,(0,E.Z)(he));try{Mt.dataTransfer.setData("text/plain","")}catch(Ve){}},he.onDragEnter=function(Mt){var It=he.props.context.onNodeDragEnter;Mt.preventDefault(),Mt.stopPropagation(),It(Mt,(0,E.Z)(he))},he.onDragOver=function(Mt){var It=he.props.context.onNodeDragOver;Mt.preventDefault(),Mt.stopPropagation(),It(Mt,(0,E.Z)(he))},he.onDragLeave=function(Mt){var It=he.props.context.onNodeDragLeave;Mt.stopPropagation(),It(Mt,(0,E.Z)(he))},he.onDragEnd=function(Mt){var It=he.props.context.onNodeDragEnd;Mt.stopPropagation(),he.setState({dragNodeHighlight:!1}),It(Mt,(0,E.Z)(he))},he.onDrop=function(Mt){var It=he.props.context.onNodeDrop;Mt.preventDefault(),Mt.stopPropagation(),he.setState({dragNodeHighlight:!1}),It(Mt,(0,E.Z)(he))},he.onExpand=function(Mt){var It=he.props,Ve=It.loading,Me=It.context.onNodeExpand;Ve||Me(Mt,(0,re.F)(he.props))},he.setSelectHandle=function(Mt){he.selectHandle=Mt},he.getNodeState=function(){var Mt=he.props.expanded;return he.isLeaf()?null:Mt?le:ie},he.hasChildren=function(){var Mt=he.props.eventKey,It=he.props.context.keyEntities,Ve=(0,Y.Z)(It,Mt)||{},Me=Ve.children;return!!(Me||[]).length},he.isLeaf=function(){var Mt=he.props,It=Mt.isLeaf,Ve=Mt.loaded,Me=he.props.context.loadData,Qe=he.hasChildren();return It===!1?!1:It||!Me&&!Qe||Me&&Ve&&!Qe},he.isDisabled=function(){var Mt=he.props.disabled,It=he.props.context.disabled;return!!(It||Mt)},he.isCheckable=function(){var Mt=he.props.checkable,It=he.props.context.checkable;return!It||Mt===!1?!1:It},he.syncLoadData=function(Mt){var It=Mt.expanded,Ve=Mt.loading,Me=Mt.loaded,Qe=he.props.context,bt=Qe.loadData,Ge=Qe.onNodeLoad;Ve||bt&&It&&!he.isLeaf()&&!he.hasChildren()&&!Me&&Ge((0,re.F)(he.props))},he.isDraggable=function(){var Mt=he.props,It=Mt.data,Ve=Mt.context.draggable;return!!(Ve&&(!Ve.nodeDraggable||Ve.nodeDraggable(It)))},he.renderDragHandler=function(){var Mt=he.props.context,It=Mt.draggable,Ve=Mt.prefixCls;return It!=null&&It.icon?te.createElement("span",{className:"".concat(Ve,"-draggable-icon")},It.icon):null},he.renderSwitcherIconDom=function(Mt){var It=he.props.switcherIcon,Ve=he.props.context.switcherIcon,Me=It||Ve;return typeof Me=="function"?Me((0,g.Z)((0,g.Z)({},he.props),{},{isLeaf:Mt})):Me},he.renderSwitcher=function(){var Mt=he.props.expanded,It=he.props.context.prefixCls;if(he.isLeaf()){var Ve=he.renderSwitcherIconDom(!0);return Ve!==!1?te.createElement("span",{className:U()("".concat(It,"-switcher"),"".concat(It,"-switcher-noop"))},Ve):null}var Me=U()("".concat(It,"-switcher"),"".concat(It,"-switcher_").concat(Mt?le:ie)),Qe=he.renderSwitcherIconDom(!1);return Qe!==!1?te.createElement("span",{onClick:he.onExpand,className:Me},Qe):null},he.renderCheckbox=function(){var Mt=he.props,It=Mt.checked,Ve=Mt.halfChecked,Me=Mt.disableCheckbox,Qe=he.props.context.prefixCls,bt=he.isDisabled(),Ge=he.isCheckable();if(!Ge)return null;var Ae=typeof Ge!="boolean"?Ge:null;return te.createElement("span",{className:U()("".concat(Qe,"-checkbox"),It&&"".concat(Qe,"-checkbox-checked"),!It&&Ve&&"".concat(Qe,"-checkbox-indeterminate"),(bt||Me)&&"".concat(Qe,"-checkbox-disabled")),onClick:he.onCheck},Ae)},he.renderIcon=function(){var Mt=he.props.loading,It=he.props.context.prefixCls;return te.createElement("span",{className:U()("".concat(It,"-iconEle"),"".concat(It,"-icon__").concat(he.getNodeState()||"docu"),Mt&&"".concat(It,"-icon_loading"))})},he.renderSelector=function(){var Mt=he.state.dragNodeHighlight,It=he.props,Ve=It.title,Me=Ve===void 0?ve:Ve,Qe=It.selected,bt=It.icon,Ge=It.loading,Ae=It.data,be=he.props.context,Ne=be.prefixCls,Re=be.showIcon,ht=be.icon,Wt=be.loadData,Yt=be.titleRender,Lt=he.isDisabled(),Dt="".concat(Ne,"-node-content-wrapper"),lt;if(Re){var Ft=bt||ht;lt=Ft?te.createElement("span",{className:U()("".concat(Ne,"-iconEle"),"".concat(Ne,"-icon__customize"))},typeof Ft=="function"?Ft(he.props):Ft):he.renderIcon()}else Wt&&Ge&&(lt=he.renderIcon());var qt;typeof Me=="function"?qt=Me(Ae):Yt?qt=Yt(Ae):qt=Me;var Nn=te.createElement("span",{className:"".concat(Ne,"-title")},qt);return te.createElement("span",{ref:he.setSelectHandle,title:typeof Me=="string"?Me:"",className:U()("".concat(Dt),"".concat(Dt,"-").concat(he.getNodeState()||"normal"),!Lt&&(Qe||Mt)&&"".concat(Ne,"-node-selected")),onMouseEnter:he.onMouseEnter,onMouseLeave:he.onMouseLeave,onContextMenu:he.onContextMenu,onClick:he.onSelectorClick,onDoubleClick:he.onSelectorDoubleClick},lt,Nn,he.renderDropIndicator())},he.renderDropIndicator=function(){var Mt=he.props,It=Mt.disabled,Ve=Mt.eventKey,Me=he.props.context,Qe=Me.draggable,bt=Me.dropLevelOffset,Ge=Me.dropPosition,Ae=Me.prefixCls,be=Me.indent,Ne=Me.dropIndicatorRender,Re=Me.dragOverNodeKey,ht=Me.direction,Wt=!!Qe,Yt=!It&&Wt&&Re===Ve,Lt=be!=null?be:he.cacheIndent;return he.cacheIndent=be,Yt?Ne({dropPosition:Ge,dropLevelOffset:bt,indent:Lt,prefixCls:Ae,direction:ht}):null},he}return(0,A.Z)(je,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var st=this.props.selectable,en=this.props.context.selectable;return typeof st=="boolean"?st:en}},{key:"render",value:function(){var st,en=this.props,vn=en.eventKey,Mt=en.className,It=en.style,Ve=en.dragOver,Me=en.dragOverGapTop,Qe=en.dragOverGapBottom,bt=en.isLeaf,Ge=en.isStart,Ae=en.isEnd,be=en.expanded,Ne=en.selected,Re=en.checked,ht=en.halfChecked,Wt=en.loading,Yt=en.domRef,Lt=en.active,Dt=en.data,lt=en.onMouseMove,Ft=en.selectable,qt=(0,m.Z)(en,fe),Nn=this.props.context,kn=Nn.prefixCls,An=Nn.filterTreeNode,Kn=Nn.keyEntities,ee=Nn.dropContainerKey,it=Nn.dropTargetKey,Ze=Nn.draggingNodeKey,ot=this.isDisabled(),Xe=(0,$.Z)(qt,{aria:!0,data:!0}),et=(0,Y.Z)(Kn,vn)||{},pt=et.level,He=Ae[Ae.length-1],Et=this.isDraggable(),Vt=!ot&&Et,On=Ze===vn,Wn=Ft!==void 0?{"aria-selected":!!Ft}:void 0;return te.createElement("div",(0,v.Z)({ref:Yt,className:U()(Mt,"".concat(kn,"-treenode"),(st={},(0,d.Z)(st,"".concat(kn,"-treenode-disabled"),ot),(0,d.Z)(st,"".concat(kn,"-treenode-switcher-").concat(be?"open":"close"),!bt),(0,d.Z)(st,"".concat(kn,"-treenode-checkbox-checked"),Re),(0,d.Z)(st,"".concat(kn,"-treenode-checkbox-indeterminate"),ht),(0,d.Z)(st,"".concat(kn,"-treenode-selected"),Ne),(0,d.Z)(st,"".concat(kn,"-treenode-loading"),Wt),(0,d.Z)(st,"".concat(kn,"-treenode-active"),Lt),(0,d.Z)(st,"".concat(kn,"-treenode-leaf-last"),He),(0,d.Z)(st,"".concat(kn,"-treenode-draggable"),Et),(0,d.Z)(st,"dragging",On),(0,d.Z)(st,"drop-target",it===vn),(0,d.Z)(st,"drop-container",ee===vn),(0,d.Z)(st,"drag-over",!ot&&Ve),(0,d.Z)(st,"drag-over-gap-top",!ot&&Me),(0,d.Z)(st,"drag-over-gap-bottom",!ot&&Qe),(0,d.Z)(st,"filter-node",An&&An((0,re.F)(this.props))),st)),style:It,draggable:Vt,"aria-grabbed":On,onDragStart:Vt?this.onDragStart:void 0,onDragEnter:Et?this.onDragEnter:void 0,onDragOver:Et?this.onDragOver:void 0,onDragLeave:Et?this.onDragLeave:void 0,onDrop:Et?this.onDrop:void 0,onDragEnd:Et?this.onDragEnd:void 0,onMouseMove:lt},Wn,Xe),te.createElement(K,{prefixCls:kn,level:pt,isStart:Ge,isEnd:Ae}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),je}(te.Component),L=function(Be){return te.createElement(Q.k.Consumer,null,function(je){return te.createElement(Oe,(0,v.Z)({},Be,{context:je}))})};L.displayName="TreeNode",L.isTreeNode=1;var Pe=L},27822:function(j,M,l){"use strict";l.d(M,{k:function(){return d}});var v=l(67294),d=v.createContext(null)},99814:function(j,M,l){"use strict";l.d(M,{O:function(){return Pe.Z},Z:function(){return Nn}});var v=l(87462),d=l(4942),m=l(71002),g=l(1413),x=l(74902),A=l(15671),E=l(43144),w=l(97326),k=l(32531),Z=l(29388),U=l(93967),$=l.n(U),te=l(15105),Q=l(64217),J=l(80334),K=l(67294),Y=l(27822);function re(kn){var An=kn.dropPosition,Kn=kn.dropLevelOffset,ee=kn.indent,it={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(An){case-1:it.top=0,it.left=-Kn*ee;break;case 1:it.bottom=0,it.left=-Kn*ee;break;case 0:it.bottom=0,it.left=ee;break}return K.createElement("div",{style:it})}var fe=l(36459),le=l(97685),ie=l(91),ve=l(8410),Oe=l(85344),L=l(29372),Pe=l(86128);function pe(kn,An){var Kn=K.useState(!1),ee=(0,le.Z)(Kn,2),it=ee[0],Ze=ee[1];K.useLayoutEffect(function(){if(it)return kn(),function(){An()}},[it]),K.useLayoutEffect(function(){return Ze(!0),function(){Ze(!1)}},[])}var Be=l(1089),je=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],he=function(An,Kn){var ee=An.className,it=An.style,Ze=An.motion,ot=An.motionNodes,Xe=An.motionType,et=An.onMotionStart,pt=An.onMotionEnd,He=An.active,Et=An.treeNodeRequiredProps,Vt=(0,ie.Z)(An,je),On=K.useState(!0),Wn=(0,le.Z)(On,2),pr=Wn[0],Cr=Wn[1],Sn=K.useContext(Y.k),Cn=Sn.prefixCls,Fn=ot&&Xe!=="hide";(0,ve.Z)(function(){ot&&Fn!==pr&&Cr(Fn)},[ot]);var Hn=function(){ot&&et()},sr=K.useRef(!1),ti=function(){ot&&!sr.current&&(sr.current=!0,pt())};pe(Hn,ti);var Ir=function(di){Fn===di&&ti()};return ot?K.createElement(L.ZP,(0,v.Z)({ref:Kn,visible:pr},Ze,{motionAppear:Xe==="show",onVisibleChanged:Ir}),function(kr,di){var Yn=kr.className,Bt=kr.style;return K.createElement("div",{ref:di,className:$()("".concat(Cn,"-treenode-motion"),Yn),style:Bt},ot.map(function(kt){var dn=(0,v.Z)({},((0,fe.Z)(kt.data),kt.data)),Ot=kt.title,ur=kt.key,Mn=kt.isStart,zr=kt.isEnd;delete dn.children;var jt=(0,Be.H8)(ur,Et);return K.createElement(Pe.Z,(0,v.Z)({},dn,jt,{title:Ot,active:He,data:kt.data,key:ur,isStart:Mn,isEnd:zr}))}))}):K.createElement(Pe.Z,(0,v.Z)({domRef:Kn,className:ee,style:it},Vt,{active:He}))};he.displayName="MotionTreeNode";var st=K.forwardRef(he),en=st;function vn(){var kn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],An=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Kn=kn.length,ee=An.length;if(Math.abs(Kn-ee)!==1)return{add:!1,key:null};function it(Ze,ot){var Xe=new Map;Ze.forEach(function(pt){Xe.set(pt,!0)});var et=ot.filter(function(pt){return!Xe.has(pt)});return et.length===1?et[0]:null}return Kn<ee?{add:!0,key:it(kn,An)}:{add:!1,key:it(An,kn)}}function Mt(kn,An,Kn){var ee=kn.findIndex(function(Xe){return Xe.key===Kn}),it=kn[ee+1],Ze=An.findIndex(function(Xe){return Xe.key===Kn});if(it){var ot=An.findIndex(function(Xe){return Xe.key===it.key});return An.slice(Ze+1,ot)}return An.slice(Ze+1)}var It=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Ve={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Me=function(){},Qe="RC_TREE_MOTION_".concat(Math.random()),bt={key:Qe},Ge={key:Qe,level:0,index:0,pos:"0",node:bt,nodes:[bt]},Ae={parent:null,children:[],pos:Ge.pos,data:bt,title:null,key:Qe,isStart:[],isEnd:[]};function be(kn,An,Kn,ee){return An===!1||!Kn?kn:kn.slice(0,Math.ceil(Kn/ee)+1)}function Ne(kn){var An=kn.key,Kn=kn.pos;return(0,Be.km)(An,Kn)}function Re(kn){for(var An=String(kn.data.key),Kn=kn;Kn.parent;)Kn=Kn.parent,An="".concat(Kn.data.key," > ").concat(An);return An}var ht=K.forwardRef(function(kn,An){var Kn=kn.prefixCls,ee=kn.data,it=kn.selectable,Ze=kn.checkable,ot=kn.expandedKeys,Xe=kn.selectedKeys,et=kn.checkedKeys,pt=kn.loadedKeys,He=kn.loadingKeys,Et=kn.halfCheckedKeys,Vt=kn.keyEntities,On=kn.disabled,Wn=kn.dragging,pr=kn.dragOverNodeKey,Cr=kn.dropPosition,Sn=kn.motion,Cn=kn.height,Fn=kn.itemHeight,Hn=kn.virtual,sr=kn.focusable,ti=kn.activeItem,Ir=kn.focused,kr=kn.tabIndex,di=kn.onKeyDown,Yn=kn.onFocus,Bt=kn.onBlur,kt=kn.onActiveChange,dn=kn.onListChangeStart,Ot=kn.onListChangeEnd,ur=(0,ie.Z)(kn,It),Mn=K.useRef(null),zr=K.useRef(null);K.useImperativeHandle(An,function(){return{scrollTo:function(Tt){Mn.current.scrollTo(Tt)},getIndentWidth:function(){return zr.current.offsetWidth}}});var jt=K.useState(ot),gn=(0,le.Z)(jt,2),Ln=gn[0],vt=gn[1],Zt=K.useState(ee),or=(0,le.Z)(Zt,2),ir=or[0],lr=or[1],Pr=K.useState(ee),$r=(0,le.Z)(Pr,2),dr=$r[0],ni=$r[1],un=K.useState([]),ue=(0,le.Z)(un,2),De=ue[0],oe=ue[1],R=K.useState(null),N=(0,le.Z)(R,2),G=N[0],ye=N[1],Ie=K.useRef(ee);Ie.current=ee;function ze(){var rt=Ie.current;lr(rt),ni(rt),oe([]),ye(null),Ot()}(0,ve.Z)(function(){vt(ot);var rt=vn(Ln,ot);if(rt.key!==null)if(rt.add){var Tt=ir.findIndex(function(hn){var bn=hn.key;return bn===rt.key}),En=be(Mt(ir,ee,rt.key),Hn,Cn,Fn),Rn=ir.slice();Rn.splice(Tt+1,0,Ae),ni(Rn),oe(En),ye("show")}else{var $n=ee.findIndex(function(hn){var bn=hn.key;return bn===rt.key}),Xn=be(Mt(ee,ir,rt.key),Hn,Cn,Fn),$t=ee.slice();$t.splice($n+1,0,Ae),ni($t),oe(Xn),ye("hide")}else ir!==ee&&(lr(ee),ni(ee))},[ot,ee]),K.useEffect(function(){Wn||ze()},[Wn]);var Ce=Sn?dr:ee,ke={expandedKeys:ot,selectedKeys:Xe,loadedKeys:pt,loadingKeys:He,checkedKeys:et,halfCheckedKeys:Et,dragOverNodeKey:pr,dropPosition:Cr,keyEntities:Vt};return K.createElement(K.Fragment,null,Ir&&ti&&K.createElement("span",{style:Ve,"aria-live":"assertive"},Re(ti)),K.createElement("div",null,K.createElement("input",{style:Ve,disabled:sr===!1||On,tabIndex:sr!==!1?kr:null,onKeyDown:di,onFocus:Yn,onBlur:Bt,value:"",onChange:Me,"aria-label":"for screen reader"})),K.createElement("div",{className:"".concat(Kn,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},K.createElement("div",{className:"".concat(Kn,"-indent")},K.createElement("div",{ref:zr,className:"".concat(Kn,"-indent-unit")}))),K.createElement(Oe.Z,(0,v.Z)({},ur,{data:Ce,itemKey:Ne,height:Cn,fullHeight:!1,virtual:Hn,itemHeight:Fn,prefixCls:"".concat(Kn,"-list"),ref:Mn,onVisibleChange:function(Tt,En){var Rn=new Set(Tt),$n=En.filter(function(Xn){return!Rn.has(Xn)});$n.some(function(Xn){return Ne(Xn)===Qe})&&ze()}}),function(rt){var Tt=rt.pos,En=(0,v.Z)({},((0,fe.Z)(rt.data),rt.data)),Rn=rt.title,$n=rt.key,Xn=rt.isStart,$t=rt.isEnd,hn=(0,Be.km)($n,Tt);delete En.key,delete En.children;var bn=(0,Be.H8)(hn,ke);return K.createElement(en,(0,v.Z)({},En,bn,{title:Rn,active:!!ti&&$n===ti.key,pos:Tt,data:rt.data,isStart:Xn,isEnd:$t,motion:Sn,motionNodes:$n===Qe?De:null,motionType:G,onMotionStart:dn,onMotionEnd:ze,treeNodeRequiredProps:ke,onMouseMove:function(){kt(null)}}))}))});ht.displayName="NodeList";var Wt=ht,Yt=l(10225),Lt=l(17341),Dt=l(35381),lt=10,Ft=function(kn){(0,k.Z)(Kn,kn);var An=(0,Z.Z)(Kn);function Kn(){var ee;(0,A.Z)(this,Kn);for(var it=arguments.length,Ze=new Array(it),ot=0;ot<it;ot++)Ze[ot]=arguments[ot];return ee=An.call.apply(An,[this].concat(Ze)),ee.destroyed=!1,ee.delayedDragEnterLogic=void 0,ee.loadingRetryTimes={},ee.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,Be.w$)()},ee.dragStartMousePosition=null,ee.dragNode=void 0,ee.currentMouseOverDroppableNodeKey=null,ee.listRef=K.createRef(),ee.onNodeDragStart=function(Xe,et){var pt=ee.state,He=pt.expandedKeys,Et=pt.keyEntities,Vt=ee.props.onDragStart,On=et.props.eventKey;ee.dragNode=et,ee.dragStartMousePosition={x:Xe.clientX,y:Xe.clientY};var Wn=(0,Yt._5)(He,On);ee.setState({draggingNodeKey:On,dragChildrenKeys:(0,Yt.wA)(On,Et),indent:ee.listRef.current.getIndentWidth()}),ee.setExpandedKeys(Wn),window.addEventListener("dragend",ee.onWindowDragEnd),Vt==null||Vt({event:Xe,node:(0,Be.F)(et.props)})},ee.onNodeDragEnter=function(Xe,et){var pt=ee.state,He=pt.expandedKeys,Et=pt.keyEntities,Vt=pt.dragChildrenKeys,On=pt.flattenNodes,Wn=pt.indent,pr=ee.props,Cr=pr.onDragEnter,Sn=pr.onExpand,Cn=pr.allowDrop,Fn=pr.direction,Hn=et.props,sr=Hn.pos,ti=Hn.eventKey,Ir=(0,w.Z)(ee),kr=Ir.dragNode;if(ee.currentMouseOverDroppableNodeKey!==ti&&(ee.currentMouseOverDroppableNodeKey=ti),!kr){ee.resetDragState();return}var di=(0,Yt.OM)(Xe,kr,et,Wn,ee.dragStartMousePosition,Cn,On,Et,He,Fn),Yn=di.dropPosition,Bt=di.dropLevelOffset,kt=di.dropTargetKey,dn=di.dropContainerKey,Ot=di.dropTargetPos,ur=di.dropAllowed,Mn=di.dragOverNodeKey;if(Vt.indexOf(kt)!==-1||!ur){ee.resetDragState();return}if(ee.delayedDragEnterLogic||(ee.delayedDragEnterLogic={}),Object.keys(ee.delayedDragEnterLogic).forEach(function(zr){clearTimeout(ee.delayedDragEnterLogic[zr])}),kr.props.eventKey!==et.props.eventKey&&(Xe.persist(),ee.delayedDragEnterLogic[sr]=window.setTimeout(function(){if(ee.state.draggingNodeKey!==null){var zr=(0,x.Z)(He),jt=(0,Dt.Z)(Et,et.props.eventKey);jt&&(jt.children||[]).length&&(zr=(0,Yt.L0)(He,et.props.eventKey)),"expandedKeys"in ee.props||ee.setExpandedKeys(zr),Sn==null||Sn(zr,{node:(0,Be.F)(et.props),expanded:!0,nativeEvent:Xe.nativeEvent})}},800)),kr.props.eventKey===kt&&Bt===0){ee.resetDragState();return}ee.setState({dragOverNodeKey:Mn,dropPosition:Yn,dropLevelOffset:Bt,dropTargetKey:kt,dropContainerKey:dn,dropTargetPos:Ot,dropAllowed:ur}),Cr==null||Cr({event:Xe,node:(0,Be.F)(et.props),expandedKeys:He})},ee.onNodeDragOver=function(Xe,et){var pt=ee.state,He=pt.dragChildrenKeys,Et=pt.flattenNodes,Vt=pt.keyEntities,On=pt.expandedKeys,Wn=pt.indent,pr=ee.props,Cr=pr.onDragOver,Sn=pr.allowDrop,Cn=pr.direction,Fn=(0,w.Z)(ee),Hn=Fn.dragNode;if(Hn){var sr=(0,Yt.OM)(Xe,Hn,et,Wn,ee.dragStartMousePosition,Sn,Et,Vt,On,Cn),ti=sr.dropPosition,Ir=sr.dropLevelOffset,kr=sr.dropTargetKey,di=sr.dropContainerKey,Yn=sr.dropAllowed,Bt=sr.dropTargetPos,kt=sr.dragOverNodeKey;He.indexOf(kr)!==-1||!Yn||(Hn.props.eventKey===kr&&Ir===0?ee.state.dropPosition===null&&ee.state.dropLevelOffset===null&&ee.state.dropTargetKey===null&&ee.state.dropContainerKey===null&&ee.state.dropTargetPos===null&&ee.state.dropAllowed===!1&&ee.state.dragOverNodeKey===null||ee.resetDragState():ti===ee.state.dropPosition&&Ir===ee.state.dropLevelOffset&&kr===ee.state.dropTargetKey&&di===ee.state.dropContainerKey&&Bt===ee.state.dropTargetPos&&Yn===ee.state.dropAllowed&&kt===ee.state.dragOverNodeKey||ee.setState({dropPosition:ti,dropLevelOffset:Ir,dropTargetKey:kr,dropContainerKey:di,dropTargetPos:Bt,dropAllowed:Yn,dragOverNodeKey:kt}),Cr==null||Cr({event:Xe,node:(0,Be.F)(et.props)}))}},ee.onNodeDragLeave=function(Xe,et){ee.currentMouseOverDroppableNodeKey===et.props.eventKey&&!Xe.currentTarget.contains(Xe.relatedTarget)&&(ee.resetDragState(),ee.currentMouseOverDroppableNodeKey=null);var pt=ee.props.onDragLeave;pt==null||pt({event:Xe,node:(0,Be.F)(et.props)})},ee.onWindowDragEnd=function(Xe){ee.onNodeDragEnd(Xe,null,!0),window.removeEventListener("dragend",ee.onWindowDragEnd)},ee.onNodeDragEnd=function(Xe,et){var pt=ee.props.onDragEnd;ee.setState({dragOverNodeKey:null}),ee.cleanDragState(),pt==null||pt({event:Xe,node:(0,Be.F)(et.props)}),ee.dragNode=null,window.removeEventListener("dragend",ee.onWindowDragEnd)},ee.onNodeDrop=function(Xe,et){var pt,He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Et=ee.state,Vt=Et.dragChildrenKeys,On=Et.dropPosition,Wn=Et.dropTargetKey,pr=Et.dropTargetPos,Cr=Et.dropAllowed;if(Cr){var Sn=ee.props.onDrop;if(ee.setState({dragOverNodeKey:null}),ee.cleanDragState(),Wn!==null){var Cn=(0,g.Z)((0,g.Z)({},(0,Be.H8)(Wn,ee.getTreeNodeRequiredProps())),{},{active:((pt=ee.getActiveItem())===null||pt===void 0?void 0:pt.key)===Wn,data:(0,Dt.Z)(ee.state.keyEntities,Wn).node}),Fn=Vt.indexOf(Wn)!==-1;(0,J.ZP)(!Fn,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var Hn=(0,Yt.yx)(pr),sr={event:Xe,node:(0,Be.F)(Cn),dragNode:ee.dragNode?(0,Be.F)(ee.dragNode.props):null,dragNodesKeys:[ee.dragNode.props.eventKey].concat(Vt),dropToGap:On!==0,dropPosition:On+Number(Hn[Hn.length-1])};He||Sn==null||Sn(sr),ee.dragNode=null}}},ee.cleanDragState=function(){var Xe=ee.state.draggingNodeKey;Xe!==null&&ee.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),ee.dragStartMousePosition=null,ee.currentMouseOverDroppableNodeKey=null},ee.triggerExpandActionExpand=function(Xe,et){var pt=ee.state,He=pt.expandedKeys,Et=pt.flattenNodes,Vt=et.expanded,On=et.key,Wn=et.isLeaf;if(!(Wn||Xe.shiftKey||Xe.metaKey||Xe.ctrlKey)){var pr=Et.filter(function(Sn){return Sn.key===On})[0],Cr=(0,Be.F)((0,g.Z)((0,g.Z)({},(0,Be.H8)(On,ee.getTreeNodeRequiredProps())),{},{data:pr.data}));ee.setExpandedKeys(Vt?(0,Yt._5)(He,On):(0,Yt.L0)(He,On)),ee.onNodeExpand(Xe,Cr)}},ee.onNodeClick=function(Xe,et){var pt=ee.props,He=pt.onClick,Et=pt.expandAction;Et==="click"&&ee.triggerExpandActionExpand(Xe,et),He==null||He(Xe,et)},ee.onNodeDoubleClick=function(Xe,et){var pt=ee.props,He=pt.onDoubleClick,Et=pt.expandAction;Et==="doubleClick"&&ee.triggerExpandActionExpand(Xe,et),He==null||He(Xe,et)},ee.onNodeSelect=function(Xe,et){var pt=ee.state.selectedKeys,He=ee.state,Et=He.keyEntities,Vt=He.fieldNames,On=ee.props,Wn=On.onSelect,pr=On.multiple,Cr=et.selected,Sn=et[Vt.key],Cn=!Cr;Cn?pr?pt=(0,Yt.L0)(pt,Sn):pt=[Sn]:pt=(0,Yt._5)(pt,Sn);var Fn=pt.map(function(Hn){var sr=(0,Dt.Z)(Et,Hn);return sr?sr.node:null}).filter(function(Hn){return Hn});ee.setUncontrolledState({selectedKeys:pt}),Wn==null||Wn(pt,{event:"select",selected:Cn,node:et,selectedNodes:Fn,nativeEvent:Xe.nativeEvent})},ee.onNodeCheck=function(Xe,et,pt){var He=ee.state,Et=He.keyEntities,Vt=He.checkedKeys,On=He.halfCheckedKeys,Wn=ee.props,pr=Wn.checkStrictly,Cr=Wn.onCheck,Sn=et.key,Cn,Fn={event:"check",node:et,checked:pt,nativeEvent:Xe.nativeEvent};if(pr){var Hn=pt?(0,Yt.L0)(Vt,Sn):(0,Yt._5)(Vt,Sn),sr=(0,Yt._5)(On,Sn);Cn={checked:Hn,halfChecked:sr},Fn.checkedNodes=Hn.map(function(Bt){return(0,Dt.Z)(Et,Bt)}).filter(function(Bt){return Bt}).map(function(Bt){return Bt.node}),ee.setUncontrolledState({checkedKeys:Hn})}else{var ti=(0,Lt.S)([].concat((0,x.Z)(Vt),[Sn]),!0,Et),Ir=ti.checkedKeys,kr=ti.halfCheckedKeys;if(!pt){var di=new Set(Ir);di.delete(Sn);var Yn=(0,Lt.S)(Array.from(di),{checked:!1,halfCheckedKeys:kr},Et);Ir=Yn.checkedKeys,kr=Yn.halfCheckedKeys}Cn=Ir,Fn.checkedNodes=[],Fn.checkedNodesPositions=[],Fn.halfCheckedKeys=kr,Ir.forEach(function(Bt){var kt=(0,Dt.Z)(Et,Bt);if(kt){var dn=kt.node,Ot=kt.pos;Fn.checkedNodes.push(dn),Fn.checkedNodesPositions.push({node:dn,pos:Ot})}}),ee.setUncontrolledState({checkedKeys:Ir},!1,{halfCheckedKeys:kr})}Cr==null||Cr(Cn,Fn)},ee.onNodeLoad=function(Xe){var et=Xe.key,pt=new Promise(function(He,Et){ee.setState(function(Vt){var On=Vt.loadedKeys,Wn=On===void 0?[]:On,pr=Vt.loadingKeys,Cr=pr===void 0?[]:pr,Sn=ee.props,Cn=Sn.loadData,Fn=Sn.onLoad;if(!Cn||Wn.indexOf(et)!==-1||Cr.indexOf(et)!==-1)return null;var Hn=Cn(Xe);return Hn.then(function(){var sr=ee.state.loadedKeys,ti=(0,Yt.L0)(sr,et);Fn==null||Fn(ti,{event:"load",node:Xe}),ee.setUncontrolledState({loadedKeys:ti}),ee.setState(function(Ir){return{loadingKeys:(0,Yt._5)(Ir.loadingKeys,et)}}),He()}).catch(function(sr){if(ee.setState(function(Ir){return{loadingKeys:(0,Yt._5)(Ir.loadingKeys,et)}}),ee.loadingRetryTimes[et]=(ee.loadingRetryTimes[et]||0)+1,ee.loadingRetryTimes[et]>=lt){var ti=ee.state.loadedKeys;(0,J.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),ee.setUncontrolledState({loadedKeys:(0,Yt.L0)(ti,et)}),He()}Et(sr)}),{loadingKeys:(0,Yt.L0)(Cr,et)}})});return pt.catch(function(){}),pt},ee.onNodeMouseEnter=function(Xe,et){var pt=ee.props.onMouseEnter;pt==null||pt({event:Xe,node:et})},ee.onNodeMouseLeave=function(Xe,et){var pt=ee.props.onMouseLeave;pt==null||pt({event:Xe,node:et})},ee.onNodeContextMenu=function(Xe,et){var pt=ee.props.onRightClick;pt&&(Xe.preventDefault(),pt({event:Xe,node:et}))},ee.onFocus=function(){var Xe=ee.props.onFocus;ee.setState({focused:!0});for(var et=arguments.length,pt=new Array(et),He=0;He<et;He++)pt[He]=arguments[He];Xe==null||Xe.apply(void 0,pt)},ee.onBlur=function(){var Xe=ee.props.onBlur;ee.setState({focused:!1}),ee.onActiveChange(null);for(var et=arguments.length,pt=new Array(et),He=0;He<et;He++)pt[He]=arguments[He];Xe==null||Xe.apply(void 0,pt)},ee.getTreeNodeRequiredProps=function(){var Xe=ee.state,et=Xe.expandedKeys,pt=Xe.selectedKeys,He=Xe.loadedKeys,Et=Xe.loadingKeys,Vt=Xe.checkedKeys,On=Xe.halfCheckedKeys,Wn=Xe.dragOverNodeKey,pr=Xe.dropPosition,Cr=Xe.keyEntities;return{expandedKeys:et||[],selectedKeys:pt||[],loadedKeys:He||[],loadingKeys:Et||[],checkedKeys:Vt||[],halfCheckedKeys:On||[],dragOverNodeKey:Wn,dropPosition:pr,keyEntities:Cr}},ee.setExpandedKeys=function(Xe){var et=ee.state,pt=et.treeData,He=et.fieldNames,Et=(0,Be.oH)(pt,Xe,He);ee.setUncontrolledState({expandedKeys:Xe,flattenNodes:Et},!0)},ee.onNodeExpand=function(Xe,et){var pt=ee.state.expandedKeys,He=ee.state,Et=He.listChanging,Vt=He.fieldNames,On=ee.props,Wn=On.onExpand,pr=On.loadData,Cr=et.expanded,Sn=et[Vt.key];if(!Et){var Cn=pt.indexOf(Sn),Fn=!Cr;if((0,J.ZP)(Cr&&Cn!==-1||!Cr&&Cn===-1,"Expand state not sync with index check"),Fn?pt=(0,Yt.L0)(pt,Sn):pt=(0,Yt._5)(pt,Sn),ee.setExpandedKeys(pt),Wn==null||Wn(pt,{node:et,expanded:Fn,nativeEvent:Xe.nativeEvent}),Fn&&pr){var Hn=ee.onNodeLoad(et);Hn&&Hn.then(function(){var sr=(0,Be.oH)(ee.state.treeData,pt,Vt);ee.setUncontrolledState({flattenNodes:sr})}).catch(function(){var sr=ee.state.expandedKeys,ti=(0,Yt._5)(sr,Sn);ee.setExpandedKeys(ti)})}}},ee.onListChangeStart=function(){ee.setUncontrolledState({listChanging:!0})},ee.onListChangeEnd=function(){setTimeout(function(){ee.setUncontrolledState({listChanging:!1})})},ee.onActiveChange=function(Xe){var et=ee.state.activeKey,pt=ee.props.onActiveChange;et!==Xe&&(ee.setState({activeKey:Xe}),Xe!==null&&ee.scrollTo({key:Xe}),pt==null||pt(Xe))},ee.getActiveItem=function(){var Xe=ee.state,et=Xe.activeKey,pt=Xe.flattenNodes;return et===null?null:pt.find(function(He){var Et=He.key;return Et===et})||null},ee.offsetActiveKey=function(Xe){var et=ee.state,pt=et.flattenNodes,He=et.activeKey,Et=pt.findIndex(function(Wn){var pr=Wn.key;return pr===He});Et===-1&&Xe<0&&(Et=pt.length),Et=(Et+Xe+pt.length)%pt.length;var Vt=pt[Et];if(Vt){var On=Vt.key;ee.onActiveChange(On)}else ee.onActiveChange(null)},ee.onKeyDown=function(Xe){var et=ee.state,pt=et.activeKey,He=et.expandedKeys,Et=et.checkedKeys,Vt=et.fieldNames,On=ee.props,Wn=On.onKeyDown,pr=On.checkable,Cr=On.selectable;switch(Xe.which){case te.Z.UP:{ee.offsetActiveKey(-1),Xe.preventDefault();break}case te.Z.DOWN:{ee.offsetActiveKey(1),Xe.preventDefault();break}}var Sn=ee.getActiveItem();if(Sn&&Sn.data){var Cn=ee.getTreeNodeRequiredProps(),Fn=Sn.data.isLeaf===!1||!!(Sn.data[Vt.children]||[]).length,Hn=(0,Be.F)((0,g.Z)((0,g.Z)({},(0,Be.H8)(pt,Cn)),{},{data:Sn.data,active:!0}));switch(Xe.which){case te.Z.LEFT:{Fn&&He.includes(pt)?ee.onNodeExpand({},Hn):Sn.parent&&ee.onActiveChange(Sn.parent.key),Xe.preventDefault();break}case te.Z.RIGHT:{Fn&&!He.includes(pt)?ee.onNodeExpand({},Hn):Sn.children&&Sn.children.length&&ee.onActiveChange(Sn.children[0].key),Xe.preventDefault();break}case te.Z.ENTER:case te.Z.SPACE:{pr&&!Hn.disabled&&Hn.checkable!==!1&&!Hn.disableCheckbox?ee.onNodeCheck({},Hn,!Et.includes(pt)):!pr&&Cr&&!Hn.disabled&&Hn.selectable!==!1&&ee.onNodeSelect({},Hn);break}}}Wn==null||Wn(Xe)},ee.setUncontrolledState=function(Xe){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!ee.destroyed){var He=!1,Et=!0,Vt={};Object.keys(Xe).forEach(function(On){if(On in ee.props){Et=!1;return}He=!0,Vt[On]=Xe[On]}),He&&(!et||Et)&&ee.setState((0,g.Z)((0,g.Z)({},Vt),pt))}},ee.scrollTo=function(Xe){ee.listRef.current.scrollTo(Xe)},ee}return(0,E.Z)(Kn,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var it=this.props.activeKey;it!==void 0&&it!==this.state.activeKey&&(this.setState({activeKey:it}),it!==null&&this.scrollTo({key:it}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var it,Ze=this.state,ot=Ze.focused,Xe=Ze.flattenNodes,et=Ze.keyEntities,pt=Ze.draggingNodeKey,He=Ze.activeKey,Et=Ze.dropLevelOffset,Vt=Ze.dropContainerKey,On=Ze.dropTargetKey,Wn=Ze.dropPosition,pr=Ze.dragOverNodeKey,Cr=Ze.indent,Sn=this.props,Cn=Sn.prefixCls,Fn=Sn.className,Hn=Sn.style,sr=Sn.showLine,ti=Sn.focusable,Ir=Sn.tabIndex,kr=Ir===void 0?0:Ir,di=Sn.selectable,Yn=Sn.showIcon,Bt=Sn.icon,kt=Sn.switcherIcon,dn=Sn.draggable,Ot=Sn.checkable,ur=Sn.checkStrictly,Mn=Sn.disabled,zr=Sn.motion,jt=Sn.loadData,gn=Sn.filterTreeNode,Ln=Sn.height,vt=Sn.itemHeight,Zt=Sn.virtual,or=Sn.titleRender,ir=Sn.dropIndicatorRender,lr=Sn.onContextMenu,Pr=Sn.onScroll,$r=Sn.direction,dr=Sn.rootClassName,ni=Sn.rootStyle,un=(0,Q.Z)(this.props,{aria:!0,data:!0}),ue;return dn&&((0,m.Z)(dn)==="object"?ue=dn:typeof dn=="function"?ue={nodeDraggable:dn}:ue={}),K.createElement(Y.k.Provider,{value:{prefixCls:Cn,selectable:di,showIcon:Yn,icon:Bt,switcherIcon:kt,draggable:ue,draggingNodeKey:pt,checkable:Ot,checkStrictly:ur,disabled:Mn,keyEntities:et,dropLevelOffset:Et,dropContainerKey:Vt,dropTargetKey:On,dropPosition:Wn,dragOverNodeKey:pr,indent:Cr,direction:$r,dropIndicatorRender:ir,loadData:jt,filterTreeNode:gn,titleRender:or,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},K.createElement("div",{role:"tree",className:$()(Cn,Fn,dr,(it={},(0,d.Z)(it,"".concat(Cn,"-show-line"),sr),(0,d.Z)(it,"".concat(Cn,"-focused"),ot),(0,d.Z)(it,"".concat(Cn,"-active-focused"),He!==null),it)),style:ni},K.createElement(Wt,(0,v.Z)({ref:this.listRef,prefixCls:Cn,style:Hn,data:Xe,disabled:Mn,selectable:di,checkable:!!Ot,motion:zr,dragging:pt!==null,height:Ln,itemHeight:vt,virtual:Zt,focusable:ti,focused:ot,tabIndex:kr,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:lr,onScroll:Pr},this.getTreeNodeRequiredProps(),un))))}}],[{key:"getDerivedStateFromProps",value:function(it,Ze){var ot=Ze.prevProps,Xe={prevProps:it};function et(ti){return!ot&&ti in it||ot&&ot[ti]!==it[ti]}var pt,He=Ze.fieldNames;if(et("fieldNames")&&(He=(0,Be.w$)(it.fieldNames),Xe.fieldNames=He),et("treeData")?pt=it.treeData:et("children")&&((0,J.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),pt=(0,Be.zn)(it.children)),pt){Xe.treeData=pt;var Et=(0,Be.I8)(pt,{fieldNames:He});Xe.keyEntities=(0,g.Z)((0,d.Z)({},Qe,Ge),Et.keyEntities)}var Vt=Xe.keyEntities||Ze.keyEntities;if(et("expandedKeys")||ot&&et("autoExpandParent"))Xe.expandedKeys=it.autoExpandParent||!ot&&it.defaultExpandParent?(0,Yt.r7)(it.expandedKeys,Vt):it.expandedKeys;else if(!ot&&it.defaultExpandAll){var On=(0,g.Z)({},Vt);delete On[Qe],Xe.expandedKeys=Object.keys(On).map(function(ti){return On[ti].key})}else!ot&&it.defaultExpandedKeys&&(Xe.expandedKeys=it.autoExpandParent||it.defaultExpandParent?(0,Yt.r7)(it.defaultExpandedKeys,Vt):it.defaultExpandedKeys);if(Xe.expandedKeys||delete Xe.expandedKeys,pt||Xe.expandedKeys){var Wn=(0,Be.oH)(pt||Ze.treeData,Xe.expandedKeys||Ze.expandedKeys,He);Xe.flattenNodes=Wn}if(it.selectable&&(et("selectedKeys")?Xe.selectedKeys=(0,Yt.BT)(it.selectedKeys,it):!ot&&it.defaultSelectedKeys&&(Xe.selectedKeys=(0,Yt.BT)(it.defaultSelectedKeys,it))),it.checkable){var pr;if(et("checkedKeys")?pr=(0,Yt.E6)(it.checkedKeys)||{}:!ot&&it.defaultCheckedKeys?pr=(0,Yt.E6)(it.defaultCheckedKeys)||{}:pt&&(pr=(0,Yt.E6)(it.checkedKeys)||{checkedKeys:Ze.checkedKeys,halfCheckedKeys:Ze.halfCheckedKeys}),pr){var Cr=pr,Sn=Cr.checkedKeys,Cn=Sn===void 0?[]:Sn,Fn=Cr.halfCheckedKeys,Hn=Fn===void 0?[]:Fn;if(!it.checkStrictly){var sr=(0,Lt.S)(Cn,!0,Vt);Cn=sr.checkedKeys,Hn=sr.halfCheckedKeys}Xe.checkedKeys=Cn,Xe.halfCheckedKeys=Hn}}return et("loadedKeys")&&(Xe.loadedKeys=it.loadedKeys),Xe}}]),Kn}(K.Component);Ft.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:re,allowDrop:function(){return!0},expandAction:!1},Ft.TreeNode=Pe.Z;var qt=Ft,Nn=qt},10225:function(j,M,l){"use strict";l.d(M,{BT:function(){return K},E6:function(){return fe},L0:function(){return Z},OM:function(){return J},_5:function(){return k},r7:function(){return le},wA:function(){return $},yx:function(){return U}});var v=l(74902),d=l(71002),m=l(80334),g=l(67294),x=l(86128),A=l(35381),E=l(1089),w=null;function k(ie,ve){if(!ie)return[];var Oe=ie.slice(),L=Oe.indexOf(ve);return L>=0&&Oe.splice(L,1),Oe}function Z(ie,ve){var Oe=(ie||[]).slice();return Oe.indexOf(ve)===-1&&Oe.push(ve),Oe}function U(ie){return ie.split("-")}function $(ie,ve){var Oe=[],L=(0,A.Z)(ve,ie);function Pe(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];pe.forEach(function(Be){var je=Be.key,he=Be.children;Oe.push(je),Pe(he)})}return Pe(L.children),Oe}function te(ie){if(ie.parent){var ve=U(ie.pos);return Number(ve[ve.length-1])===ie.parent.children.length-1}return!1}function Q(ie){var ve=U(ie.pos);return Number(ve[ve.length-1])===0}function J(ie,ve,Oe,L,Pe,pe,Be,je,he,st){var en,vn=ie.clientX,Mt=ie.clientY,It=ie.target.getBoundingClientRect(),Ve=It.top,Me=It.height,Qe=(st==="rtl"?-1:1)*(((Pe==null?void 0:Pe.x)||0)-vn),bt=(Qe-12)/L,Ge=(0,A.Z)(je,Oe.props.eventKey);if(Mt<Ve+Me/2){var Ae=Be.findIndex(function(Nn){return Nn.key===Ge.key}),be=Ae<=0?0:Ae-1,Ne=Be[be].key;Ge=(0,A.Z)(je,Ne)}var Re=Ge.key,ht=Ge,Wt=Ge.key,Yt=0,Lt=0;if(!he.includes(Re))for(var Dt=0;Dt<bt&&te(Ge);Dt+=1)Ge=Ge.parent,Lt+=1;var lt=ve.props.data,Ft=Ge.node,qt=!0;return Q(Ge)&&Ge.level===0&&Mt<Ve+Me/2&&pe({dragNode:lt,dropNode:Ft,dropPosition:-1})&&Ge.key===Oe.props.eventKey?Yt=-1:(ht.children||[]).length&&he.includes(Wt)?pe({dragNode:lt,dropNode:Ft,dropPosition:0})?Yt=0:qt=!1:Lt===0?bt>-1.5?pe({dragNode:lt,dropNode:Ft,dropPosition:1})?Yt=1:qt=!1:pe({dragNode:lt,dropNode:Ft,dropPosition:0})?Yt=0:pe({dragNode:lt,dropNode:Ft,dropPosition:1})?Yt=1:qt=!1:pe({dragNode:lt,dropNode:Ft,dropPosition:1})?Yt=1:qt=!1,{dropPosition:Yt,dropLevelOffset:Lt,dropTargetKey:Ge.key,dropTargetPos:Ge.pos,dragOverNodeKey:Wt,dropContainerKey:Yt===0?null:((en=Ge.parent)===null||en===void 0?void 0:en.key)||null,dropAllowed:qt}}function K(ie,ve){if(ie){var Oe=ve.multiple;return Oe?ie.slice():ie.length?[ie[0]]:ie}}var Y=function(ve){return ve};function re(ie,ve){if(!ie)return[];var Oe=ve||{},L=Oe.processProps,Pe=L===void 0?Y:L,pe=Array.isArray(ie)?ie:[ie];return pe.map(function(Be){var je=Be.children,he=_objectWithoutProperties(Be,w),st=re(je,ve);return React.createElement(TreeNode,_extends({key:he.key},Pe(he)),st)})}function fe(ie){if(!ie)return null;var ve;if(Array.isArray(ie))ve={checkedKeys:ie,halfCheckedKeys:void 0};else if((0,d.Z)(ie)==="object")ve={checkedKeys:ie.checked||void 0,halfCheckedKeys:ie.halfChecked||void 0};else return(0,m.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return ve}function le(ie,ve){var Oe=new Set;function L(Pe){if(!Oe.has(Pe)){var pe=(0,A.Z)(ve,Pe);if(pe){Oe.add(Pe);var Be=pe.parent,je=pe.node;je.disabled||Be&&L(Be.key)}}}return(ie||[]).forEach(function(Pe){L(Pe)}),(0,v.Z)(Oe)}},17341:function(j,M,l){"use strict";l.d(M,{S:function(){return E}});var v=l(80334),d=l(35381);function m(w,k){var Z=new Set;return w.forEach(function(U){k.has(U)||Z.add(U)}),Z}function g(w){var k=w||{},Z=k.disabled,U=k.disableCheckbox,$=k.checkable;return!!(Z||U)||$===!1}function x(w,k,Z,U){for(var $=new Set(w),te=new Set,Q=0;Q<=Z;Q+=1){var J=k.get(Q)||new Set;J.forEach(function(fe){var le=fe.key,ie=fe.node,ve=fe.children,Oe=ve===void 0?[]:ve;$.has(le)&&!U(ie)&&Oe.filter(function(L){return!U(L.node)}).forEach(function(L){$.add(L.key)})})}for(var K=new Set,Y=Z;Y>=0;Y-=1){var re=k.get(Y)||new Set;re.forEach(function(fe){var le=fe.parent,ie=fe.node;if(!(U(ie)||!fe.parent||K.has(fe.parent.key))){if(U(fe.parent.node)){K.add(le.key);return}var ve=!0,Oe=!1;(le.children||[]).filter(function(L){return!U(L.node)}).forEach(function(L){var Pe=L.key,pe=$.has(Pe);ve&&!pe&&(ve=!1),!Oe&&(pe||te.has(Pe))&&(Oe=!0)}),ve&&$.add(le.key),Oe&&te.add(le.key),K.add(le.key)}})}return{checkedKeys:Array.from($),halfCheckedKeys:Array.from(m(te,$))}}function A(w,k,Z,U,$){for(var te=new Set(w),Q=new Set(k),J=0;J<=U;J+=1){var K=Z.get(J)||new Set;K.forEach(function(le){var ie=le.key,ve=le.node,Oe=le.children,L=Oe===void 0?[]:Oe;!te.has(ie)&&!Q.has(ie)&&!$(ve)&&L.filter(function(Pe){return!$(Pe.node)}).forEach(function(Pe){te.delete(Pe.key)})})}Q=new Set;for(var Y=new Set,re=U;re>=0;re-=1){var fe=Z.get(re)||new Set;fe.forEach(function(le){var ie=le.parent,ve=le.node;if(!($(ve)||!le.parent||Y.has(le.parent.key))){if($(le.parent.node)){Y.add(ie.key);return}var Oe=!0,L=!1;(ie.children||[]).filter(function(Pe){return!$(Pe.node)}).forEach(function(Pe){var pe=Pe.key,Be=te.has(pe);Oe&&!Be&&(Oe=!1),!L&&(Be||Q.has(pe))&&(L=!0)}),Oe||te.delete(ie.key),L&&Q.add(ie.key),Y.add(ie.key)}})}return{checkedKeys:Array.from(te),halfCheckedKeys:Array.from(m(Q,te))}}function E(w,k,Z,U){var $=[],te;U?te=U:te=g;var Q=new Set(w.filter(function(re){var fe=!!(0,d.Z)(Z,re);return fe||$.push(re),fe})),J=new Map,K=0;Object.keys(Z).forEach(function(re){var fe=Z[re],le=fe.level,ie=J.get(le);ie||(ie=new Set,J.set(le,ie)),ie.add(fe),K=Math.max(K,le)}),(0,v.ZP)(!$.length,"Tree missing follow keys: ".concat($.slice(0,100).map(function(re){return"'".concat(re,"'")}).join(", ")));var Y;return k===!0?Y=x(Q,J,K,te):Y=A(Q,k.halfCheckedKeys,J,K,te),Y}},35381:function(j,M,l){"use strict";l.d(M,{Z:function(){return v}});function v(d,m){return d[m]}},1089:function(j,M,l){"use strict";l.d(M,{F:function(){return le},H8:function(){return fe},I8:function(){return re},km:function(){return $},oH:function(){return K},w$:function(){return te},zn:function(){return J}});var v=l(71002),d=l(74902),m=l(1413),g=l(91),x=l(50344),A=l(98423),E=l(80334),w=l(35381),k=["children"];function Z(ie,ve){return"".concat(ie,"-").concat(ve)}function U(ie){return ie&&ie.type&&ie.type.isTreeNode}function $(ie,ve){return ie!=null?ie:ve}function te(ie){var ve=ie||{},Oe=ve.title,L=ve._title,Pe=ve.key,pe=ve.children,Be=Oe||"title";return{title:Be,_title:L||[Be],key:Pe||"key",children:pe||"children"}}function Q(ie,ve){var Oe=new Map;function L(Pe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(Pe||[]).forEach(function(Be){var je=Be[ve.key],he=Be[ve.children];warning(je!=null,"Tree node must have a certain key: [".concat(pe).concat(je,"]"));var st=String(je);warning(!Oe.has(st)||je===null||je===void 0,"Same 'key' exist in the Tree: ".concat(st)),Oe.set(st,!0),L(he,"".concat(pe).concat(st," > "))})}L(ie)}function J(ie){function ve(Oe){var L=(0,x.Z)(Oe);return L.map(function(Pe){if(!U(Pe))return(0,E.ZP)(!Pe,"Tree/TreeNode can only accept TreeNode as children."),null;var pe=Pe.key,Be=Pe.props,je=Be.children,he=(0,g.Z)(Be,k),st=(0,m.Z)({key:pe},he),en=ve(je);return en.length&&(st.children=en),st}).filter(function(Pe){return Pe})}return ve(ie)}function K(ie,ve,Oe){var L=te(Oe),Pe=L._title,pe=L.key,Be=L.children,je=new Set(ve===!0?[]:ve),he=[];function st(en){var vn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return en.map(function(Mt,It){for(var Ve=Z(vn?vn.pos:"0",It),Me=$(Mt[pe],Ve),Qe,bt=0;bt<Pe.length;bt+=1){var Ge=Pe[bt];if(Mt[Ge]!==void 0){Qe=Mt[Ge];break}}var Ae=(0,m.Z)((0,m.Z)({},(0,A.Z)(Mt,[].concat((0,d.Z)(Pe),[pe,Be]))),{},{title:Qe,key:Me,parent:vn,pos:Ve,children:null,data:Mt,isStart:[].concat((0,d.Z)(vn?vn.isStart:[]),[It===0]),isEnd:[].concat((0,d.Z)(vn?vn.isEnd:[]),[It===en.length-1])});return he.push(Ae),ve===!0||je.has(Me)?Ae.children=st(Mt[Be]||[],Ae):Ae.children=[],Ae})}return st(ie),he}function Y(ie,ve,Oe){var L={};(0,v.Z)(Oe)==="object"?L=Oe:L={externalGetKey:Oe},L=L||{};var Pe=L,pe=Pe.childrenPropName,Be=Pe.externalGetKey,je=Pe.fieldNames,he=te(je),st=he.key,en=he.children,vn=pe||en,Mt;Be?typeof Be=="string"?Mt=function(Me){return Me[Be]}:typeof Be=="function"&&(Mt=function(Me){return Be(Me)}):Mt=function(Me,Qe){return $(Me[st],Qe)};function It(Ve,Me,Qe,bt){var Ge=Ve?Ve[vn]:ie,Ae=Ve?Z(Qe.pos,Me):"0",be=Ve?[].concat((0,d.Z)(bt),[Ve]):[];if(Ve){var Ne=Mt(Ve,Ae),Re={node:Ve,index:Me,pos:Ae,key:Ne,parentPos:Qe.node?Qe.pos:null,level:Qe.level+1,nodes:be};ve(Re)}Ge&&Ge.forEach(function(ht,Wt){It(ht,Wt,{node:Ve,pos:Ae,level:Qe?Qe.level+1:-1},be)})}It(null)}function re(ie){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe=ve.initWrapper,L=ve.processEntity,Pe=ve.onProcessFinished,pe=ve.externalGetKey,Be=ve.childrenPropName,je=ve.fieldNames,he=arguments.length>2?arguments[2]:void 0,st=pe||he,en={},vn={},Mt={posEntities:en,keyEntities:vn};return Oe&&(Mt=Oe(Mt)||Mt),Y(ie,function(It){var Ve=It.node,Me=It.index,Qe=It.pos,bt=It.key,Ge=It.parentPos,Ae=It.level,be=It.nodes,Ne={node:Ve,nodes:be,index:Me,key:bt,pos:Qe,level:Ae},Re=$(bt,Qe);en[Qe]=Ne,vn[Re]=Ne,Ne.parent=en[Ge],Ne.parent&&(Ne.parent.children=Ne.parent.children||[],Ne.parent.children.push(Ne)),L&&L(Ne,Mt)},{externalGetKey:st,childrenPropName:Be,fieldNames:je}),Pe&&Pe(Mt),Mt}function fe(ie,ve){var Oe=ve.expandedKeys,L=ve.selectedKeys,Pe=ve.loadedKeys,pe=ve.loadingKeys,Be=ve.checkedKeys,je=ve.halfCheckedKeys,he=ve.dragOverNodeKey,st=ve.dropPosition,en=ve.keyEntities,vn=(0,w.Z)(en,ie),Mt={eventKey:ie,expanded:Oe.indexOf(ie)!==-1,selected:L.indexOf(ie)!==-1,loaded:Pe.indexOf(ie)!==-1,loading:pe.indexOf(ie)!==-1,checked:Be.indexOf(ie)!==-1,halfChecked:je.indexOf(ie)!==-1,pos:String(vn?vn.pos:""),dragOver:he===ie&&st===0,dragOverGapTop:he===ie&&st===-1,dragOverGapBottom:he===ie&&st===1};return Mt}function le(ie){var ve=ie.data,Oe=ie.expanded,L=ie.selected,Pe=ie.checked,pe=ie.loaded,Be=ie.loading,je=ie.halfChecked,he=ie.dragOver,st=ie.dragOverGapTop,en=ie.dragOverGapBottom,vn=ie.pos,Mt=ie.active,It=ie.eventKey,Ve=(0,m.Z)((0,m.Z)({},ve),{},{expanded:Oe,selected:L,checked:Pe,loaded:pe,loading:Be,halfChecked:je,dragOver:he,dragOverGapTop:st,dragOverGapBottom:en,pos:vn,active:Mt,key:It});return"props"in Ve||Object.defineProperty(Ve,"props",{get:function(){return(0,E.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),ie}}),Ve}},81263:function(j,M,l){"use strict";l.d(M,{Z:function(){return Ba}});var v=l(1413),d=l(87462),m=l(15671),g=l(43144),x=l(97326),A=l(32531),E=l(29388),w=l(4942),k=l(67294),Z=l(73935),U=l(75164),$=l(94999),te=l(34203),Q=l(42550),J=l(64019),K=l(98924),Y=(0,k.forwardRef)(function(xt,sn){var Ht=xt.didUpdate,jn=xt.getContainer,xr=xt.children,nr=(0,k.useRef)(),zt=(0,k.useRef)();(0,k.useImperativeHandle)(sn,function(){return{}});var Qr=(0,k.useRef)(!1);return!Qr.current&&(0,K.Z)()&&(zt.current=jn(),nr.current=zt.current.parentNode,Qr.current=!0),(0,k.useEffect)(function(){Ht==null||Ht(xt)}),(0,k.useEffect)(function(){return zt.current.parentNode===null&&nr.current!==null&&nr.current.appendChild(zt.current),function(){var hr;(hr=zt.current)===null||hr===void 0||(hr=hr.parentNode)===null||hr===void 0||hr.removeChild(zt.current)}},[]),zt.current?Z.createPortal(xr,zt.current):null}),re=Y,fe=l(93967),le=l.n(fe);function ie(xt,sn,Ht){return Ht?xt[0]===sn[0]:xt[0]===sn[0]&&xt[1]===sn[1]}function ve(xt,sn,Ht){var jn=xt[sn]||{};return(0,v.Z)((0,v.Z)({},jn),Ht)}function Oe(xt,sn,Ht,jn){for(var xr=Ht.points,nr=Object.keys(xt),zt=0;zt<nr.length;zt+=1){var Qr=nr[zt];if(ie(xt[Qr].points,xr,jn))return"".concat(sn,"-placement-").concat(Qr)}return""}var L=l(97685),Pe=l(91),pe=l(31131),Be=l(29372);function je(xt){var sn=xt.prefixCls,Ht=xt.motion,jn=xt.animation,xr=xt.transitionName;return Ht||(jn?{motionName:"".concat(sn,"-").concat(jn)}:xr?{motionName:xr}:null)}function he(xt){var sn=xt.prefixCls,Ht=xt.visible,jn=xt.zIndex,xr=xt.mask,nr=xt.maskMotion,zt=xt.maskAnimation,Qr=xt.maskTransitionName;if(!xr)return null;var hr={};return(nr||Qr||zt)&&(hr=(0,v.Z)({motionAppear:!0},je({motion:nr,prefixCls:sn,transitionName:Qr,animation:zt}))),k.createElement(Be.ZP,(0,d.Z)({},hr,{visible:Ht,removeOnLeave:!0}),function(gi){var mo=gi.className;return k.createElement("div",{style:{zIndex:jn},className:le()("".concat(sn,"-mask"),mo)})})}var st=l(71002);function en(xt,sn){var Ht=Object.keys(xt);if(Object.getOwnPropertySymbols){var jn=Object.getOwnPropertySymbols(xt);sn&&(jn=jn.filter(function(xr){return Object.getOwnPropertyDescriptor(xt,xr).enumerable})),Ht.push.apply(Ht,jn)}return Ht}function vn(xt){for(var sn=1;sn<arguments.length;sn++){var Ht=arguments[sn]!=null?arguments[sn]:{};sn%2?en(Object(Ht),!0).forEach(function(jn){It(xt,jn,Ht[jn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(Ht)):en(Object(Ht)).forEach(function(jn){Object.defineProperty(xt,jn,Object.getOwnPropertyDescriptor(Ht,jn))})}return xt}function Mt(xt){"@babel/helpers - typeof";return Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},Mt(xt)}function It(xt,sn,Ht){return sn in xt?Object.defineProperty(xt,sn,{value:Ht,enumerable:!0,configurable:!0,writable:!0}):xt[sn]=Ht,xt}var Ve,Me={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Qe(){if(Ve!==void 0)return Ve;Ve="";var xt=document.createElement("p").style,sn="Transform";for(var Ht in Me)Ht+sn in xt&&(Ve=Ht);return Ve}function bt(){return Qe()?"".concat(Qe(),"TransitionProperty"):"transitionProperty"}function Ge(){return Qe()?"".concat(Qe(),"Transform"):"transform"}function Ae(xt,sn){var Ht=bt();Ht&&(xt.style[Ht]=sn,Ht!=="transitionProperty"&&(xt.style.transitionProperty=sn))}function be(xt,sn){var Ht=Ge();Ht&&(xt.style[Ht]=sn,Ht!=="transform"&&(xt.style.transform=sn))}function Ne(xt){return xt.style.transitionProperty||xt.style[bt()]}function Re(xt){var sn=window.getComputedStyle(xt,null),Ht=sn.getPropertyValue("transform")||sn.getPropertyValue(Ge());if(Ht&&Ht!=="none"){var jn=Ht.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(jn[12]||jn[4],0),y:parseFloat(jn[13]||jn[5],0)}}return{x:0,y:0}}var ht=/matrix\((.*)\)/,Wt=/matrix3d\((.*)\)/;function Yt(xt,sn){var Ht=window.getComputedStyle(xt,null),jn=Ht.getPropertyValue("transform")||Ht.getPropertyValue(Ge());if(jn&&jn!=="none"){var xr,nr=jn.match(ht);if(nr)nr=nr[1],xr=nr.split(",").map(function(Qr){return parseFloat(Qr,10)}),xr[4]=sn.x,xr[5]=sn.y,be(xt,"matrix(".concat(xr.join(","),")"));else{var zt=jn.match(Wt)[1];xr=zt.split(",").map(function(Qr){return parseFloat(Qr,10)}),xr[12]=sn.x,xr[13]=sn.y,be(xt,"matrix3d(".concat(xr.join(","),")"))}}else be(xt,"translateX(".concat(sn.x,"px) translateY(").concat(sn.y,"px) translateZ(0)"))}var Lt=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,Dt;function lt(xt){var sn=xt.style.display;xt.style.display="none",xt.offsetHeight,xt.style.display=sn}function Ft(xt,sn,Ht){var jn=Ht;if(Mt(sn)==="object"){for(var xr in sn)sn.hasOwnProperty(xr)&&Ft(xt,xr,sn[xr]);return}if(typeof jn!="undefined"){typeof jn=="number"&&(jn="".concat(jn,"px")),xt.style[sn]=jn;return}return Dt(xt,sn)}function qt(xt){var sn,Ht,jn,xr=xt.ownerDocument,nr=xr.body,zt=xr&&xr.documentElement;return sn=xt.getBoundingClientRect(),Ht=Math.floor(sn.left),jn=Math.floor(sn.top),Ht-=zt.clientLeft||nr.clientLeft||0,jn-=zt.clientTop||nr.clientTop||0,{left:Ht,top:jn}}function Nn(xt,sn){var Ht=xt["page".concat(sn?"Y":"X","Offset")],jn="scroll".concat(sn?"Top":"Left");if(typeof Ht!="number"){var xr=xt.document;Ht=xr.documentElement[jn],typeof Ht!="number"&&(Ht=xr.body[jn])}return Ht}function kn(xt){return Nn(xt)}function An(xt){return Nn(xt,!0)}function Kn(xt){var sn=qt(xt),Ht=xt.ownerDocument,jn=Ht.defaultView||Ht.parentWindow;return sn.left+=kn(jn),sn.top+=An(jn),sn}function ee(xt){return xt!=null&&xt==xt.window}function it(xt){return ee(xt)?xt.document:xt.nodeType===9?xt:xt.ownerDocument}function Ze(xt,sn,Ht){var jn=Ht,xr="",nr=it(xt);return jn=jn||nr.defaultView.getComputedStyle(xt,null),jn&&(xr=jn.getPropertyValue(sn)||jn[sn]),xr}var ot=new RegExp("^(".concat(Lt,")(?!px)[a-z%]+$"),"i"),Xe=/^(top|right|bottom|left)$/,et="currentStyle",pt="runtimeStyle",He="left",Et="px";function Vt(xt,sn){var Ht=xt[et]&&xt[et][sn];if(ot.test(Ht)&&!Xe.test(sn)){var jn=xt.style,xr=jn[He],nr=xt[pt][He];xt[pt][He]=xt[et][He],jn[He]=sn==="fontSize"?"1em":Ht||0,Ht=jn.pixelLeft+Et,jn[He]=xr,xt[pt][He]=nr}return Ht===""?"auto":Ht}typeof window!="undefined"&&(Dt=window.getComputedStyle?Ze:Vt);function On(xt,sn){return xt==="left"?sn.useCssRight?"right":xt:sn.useCssBottom?"bottom":xt}function Wn(xt){if(xt==="left")return"right";if(xt==="right")return"left";if(xt==="top")return"bottom";if(xt==="bottom")return"top"}function pr(xt,sn,Ht){Ft(xt,"position")==="static"&&(xt.style.position="relative");var jn=-999,xr=-999,nr=On("left",Ht),zt=On("top",Ht),Qr=Wn(nr),hr=Wn(zt);nr!=="left"&&(jn=999),zt!=="top"&&(xr=999);var gi="",mo=Kn(xt);("left"in sn||"top"in sn)&&(gi=Ne(xt)||"",Ae(xt,"none")),"left"in sn&&(xt.style[Qr]="",xt.style[nr]="".concat(jn,"px")),"top"in sn&&(xt.style[hr]="",xt.style[zt]="".concat(xr,"px")),lt(xt);var No=Kn(xt),io={};for(var Ti in sn)if(sn.hasOwnProperty(Ti)){var Fi=On(Ti,Ht),ha=Ti==="left"?jn:xr,Ea=mo[Ti]-No[Ti];Fi===Ti?io[Fi]=ha+Ea:io[Fi]=ha-Ea}Ft(xt,io),lt(xt),("left"in sn||"top"in sn)&&Ae(xt,gi);var ea={};for(var Ja in sn)if(sn.hasOwnProperty(Ja)){var hs=On(Ja,Ht),Gs=sn[Ja]-mo[Ja];Ja===hs?ea[hs]=io[hs]+Gs:ea[hs]=io[hs]-Gs}Ft(xt,ea)}function Cr(xt,sn){var Ht=Kn(xt),jn=Re(xt),xr={x:jn.x,y:jn.y};"left"in sn&&(xr.x=jn.x+sn.left-Ht.left),"top"in sn&&(xr.y=jn.y+sn.top-Ht.top),Yt(xt,xr)}function Sn(xt,sn,Ht){if(Ht.ignoreShake){var jn=Kn(xt),xr=jn.left.toFixed(0),nr=jn.top.toFixed(0),zt=sn.left.toFixed(0),Qr=sn.top.toFixed(0);if(xr===zt&&nr===Qr)return}Ht.useCssRight||Ht.useCssBottom?pr(xt,sn,Ht):Ht.useCssTransform&&Ge()in document.body.style?Cr(xt,sn):pr(xt,sn,Ht)}function Cn(xt,sn){for(var Ht=0;Ht<xt.length;Ht++)sn(xt[Ht])}function Fn(xt){return Dt(xt,"boxSizing")==="border-box"}var Hn=["margin","border","padding"],sr=-1,ti=2,Ir=1,kr=0;function di(xt,sn,Ht){var jn={},xr=xt.style,nr;for(nr in sn)sn.hasOwnProperty(nr)&&(jn[nr]=xr[nr],xr[nr]=sn[nr]);Ht.call(xt);for(nr in sn)sn.hasOwnProperty(nr)&&(xr[nr]=jn[nr])}function Yn(xt,sn,Ht){var jn=0,xr,nr,zt;for(nr=0;nr<sn.length;nr++)if(xr=sn[nr],xr)for(zt=0;zt<Ht.length;zt++){var Qr=void 0;xr==="border"?Qr="".concat(xr).concat(Ht[zt],"Width"):Qr=xr+Ht[zt],jn+=parseFloat(Dt(xt,Qr))||0}return jn}var Bt={getParent:function(sn){var Ht=sn;do Ht.nodeType===11&&Ht.host?Ht=Ht.host:Ht=Ht.parentNode;while(Ht&&Ht.nodeType!==1&&Ht.nodeType!==9);return Ht}};Cn(["Width","Height"],function(xt){Bt["doc".concat(xt)]=function(sn){var Ht=sn.document;return Math.max(Ht.documentElement["scroll".concat(xt)],Ht.body["scroll".concat(xt)],Bt["viewport".concat(xt)](Ht))},Bt["viewport".concat(xt)]=function(sn){var Ht="client".concat(xt),jn=sn.document,xr=jn.body,nr=jn.documentElement,zt=nr[Ht];return jn.compatMode==="CSS1Compat"&&zt||xr&&xr[Ht]||zt}});function kt(xt,sn,Ht){var jn=Ht;if(ee(xt))return sn==="width"?Bt.viewportWidth(xt):Bt.viewportHeight(xt);if(xt.nodeType===9)return sn==="width"?Bt.docWidth(xt):Bt.docHeight(xt);var xr=sn==="width"?["Left","Right"]:["Top","Bottom"],nr=Math.floor(sn==="width"?xt.getBoundingClientRect().width:xt.getBoundingClientRect().height),zt=Fn(xt),Qr=0;(nr==null||nr<=0)&&(nr=void 0,Qr=Dt(xt,sn),(Qr==null||Number(Qr)<0)&&(Qr=xt.style[sn]||0),Qr=Math.floor(parseFloat(Qr))||0),jn===void 0&&(jn=zt?Ir:sr);var hr=nr!==void 0||zt,gi=nr||Qr;return jn===sr?hr?gi-Yn(xt,["border","padding"],xr):Qr:hr?jn===Ir?gi:gi+(jn===ti?-Yn(xt,["border"],xr):Yn(xt,["margin"],xr)):Qr+Yn(xt,Hn.slice(jn),xr)}var dn={position:"absolute",visibility:"hidden",display:"block"};function Ot(){for(var xt=arguments.length,sn=new Array(xt),Ht=0;Ht<xt;Ht++)sn[Ht]=arguments[Ht];var jn,xr=sn[0];return xr.offsetWidth!==0?jn=kt.apply(void 0,sn):di(xr,dn,function(){jn=kt.apply(void 0,sn)}),jn}Cn(["width","height"],function(xt){var sn=xt.charAt(0).toUpperCase()+xt.slice(1);Bt["outer".concat(sn)]=function(jn,xr){return jn&&Ot(jn,xt,xr?kr:Ir)};var Ht=xt==="width"?["Left","Right"]:["Top","Bottom"];Bt[xt]=function(jn,xr){var nr=xr;if(nr!==void 0){if(jn){var zt=Fn(jn);return zt&&(nr+=Yn(jn,["padding","border"],Ht)),Ft(jn,xt,nr)}return}return jn&&Ot(jn,xt,sr)}});function ur(xt,sn){for(var Ht in sn)sn.hasOwnProperty(Ht)&&(xt[Ht]=sn[Ht]);return xt}var Mn={getWindow:function(sn){if(sn&&sn.document&&sn.setTimeout)return sn;var Ht=sn.ownerDocument||sn;return Ht.defaultView||Ht.parentWindow},getDocument:it,offset:function(sn,Ht,jn){if(typeof Ht!="undefined")Sn(sn,Ht,jn||{});else return Kn(sn)},isWindow:ee,each:Cn,css:Ft,clone:function(sn){var Ht,jn={};for(Ht in sn)sn.hasOwnProperty(Ht)&&(jn[Ht]=sn[Ht]);var xr=sn.overflow;if(xr)for(Ht in sn)sn.hasOwnProperty(Ht)&&(jn.overflow[Ht]=sn.overflow[Ht]);return jn},mix:ur,getWindowScrollLeft:function(sn){return kn(sn)},getWindowScrollTop:function(sn){return An(sn)},merge:function(){for(var sn={},Ht=0;Ht<arguments.length;Ht++)Mn.mix(sn,Ht<0||arguments.length<=Ht?void 0:arguments[Ht]);return sn},viewportWidth:0,viewportHeight:0};ur(Mn,Bt);var zr=Mn.getParent;function jt(xt){if(Mn.isWindow(xt)||xt.nodeType===9)return null;var sn=Mn.getDocument(xt),Ht=sn.body,jn,xr=Mn.css(xt,"position"),nr=xr==="fixed"||xr==="absolute";if(!nr)return xt.nodeName.toLowerCase()==="html"?null:zr(xt);for(jn=zr(xt);jn&&jn!==Ht&&jn.nodeType!==9;jn=zr(jn))if(xr=Mn.css(jn,"position"),xr!=="static")return jn;return null}var gn=Mn.getParent;function Ln(xt){if(Mn.isWindow(xt)||xt.nodeType===9)return!1;var sn=Mn.getDocument(xt),Ht=sn.body,jn=null;for(jn=gn(xt);jn&&jn!==Ht&&jn!==sn;jn=gn(jn)){var xr=Mn.css(jn,"position");if(xr==="fixed")return!0}return!1}function vt(xt,sn){for(var Ht={left:0,right:1/0,top:0,bottom:1/0},jn=jt(xt),xr=Mn.getDocument(xt),nr=xr.defaultView||xr.parentWindow,zt=xr.body,Qr=xr.documentElement;jn;){if((navigator.userAgent.indexOf("MSIE")===-1||jn.clientWidth!==0)&&jn!==zt&&jn!==Qr&&Mn.css(jn,"overflow")!=="visible"){var hr=Mn.offset(jn);hr.left+=jn.clientLeft,hr.top+=jn.clientTop,Ht.top=Math.max(Ht.top,hr.top),Ht.right=Math.min(Ht.right,hr.left+jn.clientWidth),Ht.bottom=Math.min(Ht.bottom,hr.top+jn.clientHeight),Ht.left=Math.max(Ht.left,hr.left)}else if(jn===zt||jn===Qr)break;jn=jt(jn)}var gi=null;if(!Mn.isWindow(xt)&&xt.nodeType!==9){gi=xt.style.position;var mo=Mn.css(xt,"position");mo==="absolute"&&(xt.style.position="fixed")}var No=Mn.getWindowScrollLeft(nr),io=Mn.getWindowScrollTop(nr),Ti=Mn.viewportWidth(nr),Fi=Mn.viewportHeight(nr),ha=Qr.scrollWidth,Ea=Qr.scrollHeight,ea=window.getComputedStyle(zt);if(ea.overflowX==="hidden"&&(ha=nr.innerWidth),ea.overflowY==="hidden"&&(Ea=nr.innerHeight),xt.style&&(xt.style.position=gi),sn||Ln(xt))Ht.left=Math.max(Ht.left,No),Ht.top=Math.max(Ht.top,io),Ht.right=Math.min(Ht.right,No+Ti),Ht.bottom=Math.min(Ht.bottom,io+Fi);else{var Ja=Math.max(ha,No+Ti);Ht.right=Math.min(Ht.right,Ja);var hs=Math.max(Ea,io+Fi);Ht.bottom=Math.min(Ht.bottom,hs)}return Ht.top>=0&&Ht.left>=0&&Ht.bottom>Ht.top&&Ht.right>Ht.left?Ht:null}function Zt(xt,sn,Ht,jn){var xr=Mn.clone(xt),nr={width:sn.width,height:sn.height};return jn.adjustX&&xr.left<Ht.left&&(xr.left=Ht.left),jn.resizeWidth&&xr.left>=Ht.left&&xr.left+nr.width>Ht.right&&(nr.width-=xr.left+nr.width-Ht.right),jn.adjustX&&xr.left+nr.width>Ht.right&&(xr.left=Math.max(Ht.right-nr.width,Ht.left)),jn.adjustY&&xr.top<Ht.top&&(xr.top=Ht.top),jn.resizeHeight&&xr.top>=Ht.top&&xr.top+nr.height>Ht.bottom&&(nr.height-=xr.top+nr.height-Ht.bottom),jn.adjustY&&xr.top+nr.height>Ht.bottom&&(xr.top=Math.max(Ht.bottom-nr.height,Ht.top)),Mn.mix(xr,nr)}function or(xt){var sn,Ht,jn;if(!Mn.isWindow(xt)&&xt.nodeType!==9)sn=Mn.offset(xt),Ht=Mn.outerWidth(xt),jn=Mn.outerHeight(xt);else{var xr=Mn.getWindow(xt);sn={left:Mn.getWindowScrollLeft(xr),top:Mn.getWindowScrollTop(xr)},Ht=Mn.viewportWidth(xr),jn=Mn.viewportHeight(xr)}return sn.width=Ht,sn.height=jn,sn}function ir(xt,sn){var Ht=sn.charAt(0),jn=sn.charAt(1),xr=xt.width,nr=xt.height,zt=xt.left,Qr=xt.top;return Ht==="c"?Qr+=nr/2:Ht==="b"&&(Qr+=nr),jn==="c"?zt+=xr/2:jn==="r"&&(zt+=xr),{left:zt,top:Qr}}function lr(xt,sn,Ht,jn,xr){var nr=ir(sn,Ht[1]),zt=ir(xt,Ht[0]),Qr=[zt.left-nr.left,zt.top-nr.top];return{left:Math.round(xt.left-Qr[0]+jn[0]-xr[0]),top:Math.round(xt.top-Qr[1]+jn[1]-xr[1])}}function Pr(xt,sn,Ht){return xt.left<Ht.left||xt.left+sn.width>Ht.right}function $r(xt,sn,Ht){return xt.top<Ht.top||xt.top+sn.height>Ht.bottom}function dr(xt,sn,Ht){return xt.left>Ht.right||xt.left+sn.width<Ht.left}function ni(xt,sn,Ht){return xt.top>Ht.bottom||xt.top+sn.height<Ht.top}function un(xt,sn,Ht){var jn=[];return Mn.each(xt,function(xr){jn.push(xr.replace(sn,function(nr){return Ht[nr]}))}),jn}function ue(xt,sn){return xt[sn]=-xt[sn],xt}function De(xt,sn){var Ht;return/%$/.test(xt)?Ht=parseInt(xt.substring(0,xt.length-1),10)/100*sn:Ht=parseInt(xt,10),Ht||0}function oe(xt,sn){xt[0]=De(xt[0],sn.width),xt[1]=De(xt[1],sn.height)}function R(xt,sn,Ht,jn){var xr=Ht.points,nr=Ht.offset||[0,0],zt=Ht.targetOffset||[0,0],Qr=Ht.overflow,hr=Ht.source||xt;nr=[].concat(nr),zt=[].concat(zt),Qr=Qr||{};var gi={},mo=0,No=!!(Qr&&Qr.alwaysByViewport),io=vt(hr,No),Ti=or(hr);oe(nr,Ti),oe(zt,sn);var Fi=lr(Ti,sn,xr,nr,zt),ha=Mn.merge(Ti,Fi);if(io&&(Qr.adjustX||Qr.adjustY)&&jn){if(Qr.adjustX&&Pr(Fi,Ti,io)){var Ea=un(xr,/[lr]/gi,{l:"r",r:"l"}),ea=ue(nr,0),Ja=ue(zt,0),hs=lr(Ti,sn,Ea,ea,Ja);dr(hs,Ti,io)||(mo=1,xr=Ea,nr=ea,zt=Ja)}if(Qr.adjustY&&$r(Fi,Ti,io)){var Gs=un(xr,/[tb]/gi,{t:"b",b:"t"}),Ki=ue(nr,1),Oa=ue(zt,1),qa=lr(Ti,sn,Gs,Ki,Oa);ni(qa,Ti,io)||(mo=1,xr=Gs,nr=Ki,zt=Oa)}mo&&(Fi=lr(Ti,sn,xr,nr,zt),Mn.mix(ha,Fi));var da=Pr(Fi,Ti,io),Aa=$r(Fi,Ti,io);if(da||Aa){var Ps=xr;da&&(Ps=un(xr,/[lr]/gi,{l:"r",r:"l"})),Aa&&(Ps=un(xr,/[tb]/gi,{t:"b",b:"t"})),xr=Ps,nr=Ht.offset||[0,0],zt=Ht.targetOffset||[0,0]}gi.adjustX=Qr.adjustX&&da,gi.adjustY=Qr.adjustY&&Aa,(gi.adjustX||gi.adjustY)&&(ha=Zt(Fi,Ti,io,gi))}return ha.width!==Ti.width&&Mn.css(hr,"width",Mn.width(hr)+ha.width-Ti.width),ha.height!==Ti.height&&Mn.css(hr,"height",Mn.height(hr)+ha.height-Ti.height),Mn.offset(hr,{left:ha.left,top:ha.top},{useCssRight:Ht.useCssRight,useCssBottom:Ht.useCssBottom,useCssTransform:Ht.useCssTransform,ignoreShake:Ht.ignoreShake}),{points:xr,offset:nr,targetOffset:zt,overflow:gi}}function N(xt,sn){var Ht=vt(xt,sn),jn=or(xt);return!Ht||jn.left+jn.width<=Ht.left||jn.top+jn.height<=Ht.top||jn.left>=Ht.right||jn.top>=Ht.bottom}function G(xt,sn,Ht){var jn=Ht.target||sn,xr=or(jn),nr=!N(jn,Ht.overflow&&Ht.overflow.alwaysByViewport);return R(xt,xr,Ht,nr)}G.__getOffsetParent=jt,G.__getVisibleRectForElement=vt;function ye(xt,sn,Ht){var jn,xr,nr=Mn.getDocument(xt),zt=nr.defaultView||nr.parentWindow,Qr=Mn.getWindowScrollLeft(zt),hr=Mn.getWindowScrollTop(zt),gi=Mn.viewportWidth(zt),mo=Mn.viewportHeight(zt);"pageX"in sn?jn=sn.pageX:jn=Qr+sn.clientX,"pageY"in sn?xr=sn.pageY:xr=hr+sn.clientY;var No={left:jn,top:xr,width:0,height:0},io=jn>=0&&jn<=Qr+gi&&xr>=0&&xr<=hr+mo,Ti=[Ht.points[0],"cc"];return R(xt,No,vn(vn({},Ht),{},{points:Ti}),io)}var Ie=null,ze=l(91881),Ce=l(5110),ke=l(8410),rt=function(xt,sn){var Ht=k.useRef(!1),jn=k.useRef(null);function xr(){window.clearTimeout(jn.current)}function nr(zt){if(xr(),!Ht.current||zt===!0){if(xt(zt)===!1)return;Ht.current=!0,jn.current=window.setTimeout(function(){Ht.current=!1},sn)}else jn.current=window.setTimeout(function(){Ht.current=!1,nr()},sn)}return[nr,function(){Ht.current=!1,xr()}]},Tt=l(91033);function En(xt,sn){return xt===sn?!0:!xt||!sn?!1:"pageX"in sn&&"pageY"in sn?xt.pageX===sn.pageX&&xt.pageY===sn.pageY:"clientX"in sn&&"clientY"in sn?xt.clientX===sn.clientX&&xt.clientY===sn.clientY:!1}function Rn(xt,sn){xt!==document.activeElement&&(0,$.Z)(sn,xt)&&typeof xt.focus=="function"&&xt.focus()}function $n(xt,sn){var Ht=null,jn=null;function xr(zt){var Qr=(0,L.Z)(zt,1),hr=Qr[0].target;if(document.documentElement.contains(hr)){var gi=hr.getBoundingClientRect(),mo=gi.width,No=gi.height,io=Math.floor(mo),Ti=Math.floor(No);(Ht!==io||jn!==Ti)&&Promise.resolve().then(function(){sn({width:io,height:Ti})}),Ht=io,jn=Ti}}var nr=new Tt.Z(xr);return xt&&nr.observe(xt),function(){nr.disconnect()}}function Xn(xt){return typeof xt!="function"?null:xt()}function $t(xt){return(0,st.Z)(xt)!=="object"||!xt?null:xt}var hn=function(sn,Ht){var jn=sn.children,xr=sn.disabled,nr=sn.target,zt=sn.align,Qr=sn.onAlign,hr=sn.monitorWindowResize,gi=sn.monitorBufferTime,mo=gi===void 0?0:gi,No=k.useRef({}),io=k.useRef(),Ti=k.Children.only(jn),Fi=k.useRef({});Fi.current.disabled=xr,Fi.current.target=nr,Fi.current.align=zt,Fi.current.onAlign=Qr;var ha=rt(function(){var wa=Fi.current,is=wa.disabled,Pl=wa.target,F=wa.align,X=wa.onAlign,ge=io.current;if(!is&&Pl&&ge){var _e,Je=Xn(Pl),tt=$t(Pl);No.current.element=Je,No.current.point=tt,No.current.align=F;var gt=document,_n=gt.activeElement;return Je&&(0,Ce.Z)(Je)?_e=G(ge,Je,F):tt&&(_e=ye(ge,tt,F)),Rn(_n,ge),X&&_e&&X(ge,_e),!0}return!1},mo),Ea=(0,L.Z)(ha,2),ea=Ea[0],Ja=Ea[1],hs=k.useState(),Gs=(0,L.Z)(hs,2),Ki=Gs[0],Oa=Gs[1],qa=k.useState(),da=(0,L.Z)(qa,2),Aa=da[0],Ps=da[1];return(0,ke.Z)(function(){Oa(Xn(nr)),Ps($t(nr))}),k.useEffect(function(){(No.current.element!==Ki||!En(No.current.point,Aa)||!(0,ze.Z)(No.current.align,zt))&&ea()}),k.useEffect(function(){var wa=$n(io.current,ea);return wa},[io.current]),k.useEffect(function(){var wa=$n(Ki,ea);return wa},[Ki]),k.useEffect(function(){xr?Ja():ea()},[xr]),k.useEffect(function(){if(hr){var wa=(0,J.Z)(window,"resize",ea);return wa.remove}},[hr]),k.useEffect(function(){return function(){Ja()}},[]),k.useImperativeHandle(Ht,function(){return{forceAlign:function(){return ea(!0)}}}),k.isValidElement(Ti)&&(Ti=k.cloneElement(Ti,{ref:(0,Q.sQ)(Ti.ref,io)})),Ti},bn=k.forwardRef(hn);bn.displayName="Align";var br=bn,qn=br,Li=l(74165),$i=l(15861),Bi=l(30470),co=["measure","alignPre","align",null,"motion"],Do=function(xt,sn){var Ht=(0,Bi.Z)(null),jn=(0,L.Z)(Ht,2),xr=jn[0],nr=jn[1],zt=(0,k.useRef)();function Qr(mo){nr(mo,!0)}function hr(){U.Z.cancel(zt.current)}function gi(mo){hr(),zt.current=(0,U.Z)(function(){Qr(function(No){switch(xr){case"align":return"motion";case"motion":return"stable";default:}return No}),mo==null||mo()})}return(0,k.useEffect)(function(){Qr("measure")},[xt]),(0,k.useEffect)(function(){switch(xr){case"measure":sn();break;default:}xr&&(zt.current=(0,U.Z)((0,$i.Z)((0,Li.Z)().mark(function mo(){var No,io;return(0,Li.Z)().wrap(function(Fi){for(;;)switch(Fi.prev=Fi.next){case 0:No=co.indexOf(xr),io=co[No+1],io&&No!==-1&&Qr(io);case 3:case"end":return Fi.stop()}},mo)}))))},[xr]),(0,k.useEffect)(function(){return function(){hr()}},[]),[xr,gi]},Wo=function(xt){var sn=k.useState({width:0,height:0}),Ht=(0,L.Z)(sn,2),jn=Ht[0],xr=Ht[1];function nr(Qr){var hr=Qr.offsetWidth,gi=Qr.offsetHeight,mo=Qr.getBoundingClientRect(),No=mo.width,io=mo.height;Math.abs(hr-No)<1&&Math.abs(gi-io)<1&&(hr=No,gi=io),xr({width:hr,height:gi})}var zt=k.useMemo(function(){var Qr={};if(xt){var hr=jn.width,gi=jn.height;xt.indexOf("height")!==-1&&gi?Qr.height=gi:xt.indexOf("minHeight")!==-1&&gi&&(Qr.minHeight=gi),xt.indexOf("width")!==-1&&hr?Qr.width=hr:xt.indexOf("minWidth")!==-1&&hr&&(Qr.minWidth=hr)}return Qr},[xt,jn]);return[zt,nr]},hi=k.forwardRef(function(xt,sn){var Ht=xt.visible,jn=xt.prefixCls,xr=xt.className,nr=xt.style,zt=xt.children,Qr=xt.zIndex,hr=xt.stretch,gi=xt.destroyPopupOnHide,mo=xt.forceRender,No=xt.align,io=xt.point,Ti=xt.getRootDomNode,Fi=xt.getClassNameFromAlign,ha=xt.onAlign,Ea=xt.onMouseEnter,ea=xt.onMouseLeave,Ja=xt.onMouseDown,hs=xt.onTouchStart,Gs=xt.onClick,Ki=(0,k.useRef)(),Oa=(0,k.useRef)(),qa=(0,k.useState)(),da=(0,L.Z)(qa,2),Aa=da[0],Ps=da[1],wa=Wo(hr),is=(0,L.Z)(wa,2),Pl=is[0],F=is[1];function X(){hr&&F(Ti())}var ge=Do(Ht,X),_e=(0,L.Z)(ge,2),Je=_e[0],tt=_e[1],gt=(0,k.useState)(0),_n=(0,L.Z)(gt,2),Dn=_n[0],Un=_n[1],Mr=(0,k.useRef)();(0,ke.Z)(function(){Je==="alignPre"&&Un(0)},[Je]);function Dr(){return io||Ti}function fr(){var ut;(ut=Ki.current)===null||ut===void 0||ut.forceAlign()}function Er(ut,on){var xn=Fi(on);Aa!==xn&&Ps(xn),Un(function(cr){return cr+1}),Je==="align"&&(ha==null||ha(ut,on))}(0,ke.Z)(function(){Je==="align"&&(Dn<3?fr():tt(function(){var ut;(ut=Mr.current)===null||ut===void 0||ut.call(Mr)}))},[Dn]);var ao=(0,v.Z)({},je(xt));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(ut){var on=ao[ut];ao[ut]=function(xn,cr){return tt(),on==null?void 0:on(xn,cr)}});function oo(){return new Promise(function(ut){Mr.current=ut})}k.useEffect(function(){!ao.motionName&&Je==="motion"&&tt()},[ao.motionName,Je]),k.useImperativeHandle(sn,function(){return{forceAlign:fr,getElement:function(){return Oa.current}}});var ba=(0,v.Z)((0,v.Z)({},Pl),{},{zIndex:Qr,opacity:Je==="motion"||Je==="stable"||!Ht?void 0:0,pointerEvents:!Ht&&Je!=="stable"?"none":void 0},nr),es=!0;No!=null&&No.points&&(Je==="align"||Je==="stable")&&(es=!1);var Da=zt;return k.Children.count(zt)>1&&(Da=k.createElement("div",{className:"".concat(jn,"-content")},zt)),k.createElement(Be.ZP,(0,d.Z)({visible:Ht,ref:Oa,leavedClassName:"".concat(jn,"-hidden")},ao,{onAppearPrepare:oo,onEnterPrepare:oo,removeOnLeave:gi,forceRender:mo}),function(ut,on){var xn=ut.className,cr=ut.style,mn=le()(jn,xr,Aa,xn);return k.createElement(qn,{target:Dr(),key:"popup",ref:Ki,monitorWindowResize:!0,disabled:es,align:No,onAlign:Er},k.createElement("div",{ref:on,className:mn,onMouseEnter:Ea,onMouseLeave:ea,onMouseDownCapture:Ja,onTouchStartCapture:hs,onClick:Gs,style:(0,v.Z)((0,v.Z)({},cr),ba)},Da))})});hi.displayName="PopupInner";var ua=hi,ya=k.forwardRef(function(xt,sn){var Ht=xt.prefixCls,jn=xt.visible,xr=xt.zIndex,nr=xt.children,zt=xt.mobile;zt=zt===void 0?{}:zt;var Qr=zt.popupClassName,hr=zt.popupStyle,gi=zt.popupMotion,mo=gi===void 0?{}:gi,No=zt.popupRender,io=xt.onClick,Ti=k.useRef();k.useImperativeHandle(sn,function(){return{forceAlign:function(){},getElement:function(){return Ti.current}}});var Fi=(0,v.Z)({zIndex:xr},hr),ha=nr;return k.Children.count(nr)>1&&(ha=k.createElement("div",{className:"".concat(Ht,"-content")},nr)),No&&(ha=No(ha)),k.createElement(Be.ZP,(0,d.Z)({visible:jn,ref:Ti,removeOnLeave:!0},mo),function(Ea,ea){var Ja=Ea.className,hs=Ea.style,Gs=le()(Ht,Qr,Ja);return k.createElement("div",{ref:ea,className:Gs,onClick:io,style:(0,v.Z)((0,v.Z)({},hs),Fi)},ha)})});ya.displayName="MobilePopupInner";var fi=ya,Pi=["visible","mobile"],Qi=k.forwardRef(function(xt,sn){var Ht=xt.visible,jn=xt.mobile,xr=(0,Pe.Z)(xt,Pi),nr=(0,k.useState)(Ht),zt=(0,L.Z)(nr,2),Qr=zt[0],hr=zt[1],gi=(0,k.useState)(!1),mo=(0,L.Z)(gi,2),No=mo[0],io=mo[1],Ti=(0,v.Z)((0,v.Z)({},xr),{},{visible:Qr});(0,k.useEffect)(function(){hr(Ht),Ht&&jn&&io((0,pe.Z)())},[Ht,jn]);var Fi=No?k.createElement(fi,(0,d.Z)({},Ti,{mobile:jn,ref:sn})):k.createElement(ua,(0,d.Z)({},Ti,{ref:sn}));return k.createElement("div",null,k.createElement(he,Ti),Fi)});Qi.displayName="Popup";var Zi=Qi,Ta=k.createContext(null),uo=Ta;function xa(){}function Qo(){return""}function ra(xt){return xt?xt.ownerDocument:window.document}var To=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function fa(xt){var sn=function(Ht){(0,A.Z)(xr,Ht);var jn=(0,E.Z)(xr);function xr(nr){var zt;(0,m.Z)(this,xr),zt=jn.call(this,nr),(0,w.Z)((0,x.Z)(zt),"popupRef",k.createRef()),(0,w.Z)((0,x.Z)(zt),"triggerRef",k.createRef()),(0,w.Z)((0,x.Z)(zt),"portalContainer",void 0),(0,w.Z)((0,x.Z)(zt),"attachId",void 0),(0,w.Z)((0,x.Z)(zt),"clickOutsideHandler",void 0),(0,w.Z)((0,x.Z)(zt),"touchOutsideHandler",void 0),(0,w.Z)((0,x.Z)(zt),"contextMenuOutsideHandler1",void 0),(0,w.Z)((0,x.Z)(zt),"contextMenuOutsideHandler2",void 0),(0,w.Z)((0,x.Z)(zt),"mouseDownTimeout",void 0),(0,w.Z)((0,x.Z)(zt),"focusTime",void 0),(0,w.Z)((0,x.Z)(zt),"preClickTime",void 0),(0,w.Z)((0,x.Z)(zt),"preTouchTime",void 0),(0,w.Z)((0,x.Z)(zt),"delayTimer",void 0),(0,w.Z)((0,x.Z)(zt),"hasPopupMouseDown",void 0),(0,w.Z)((0,x.Z)(zt),"onMouseEnter",function(hr){var gi=zt.props.mouseEnterDelay;zt.fireEvents("onMouseEnter",hr),zt.delaySetPopupVisible(!0,gi,gi?null:hr)}),(0,w.Z)((0,x.Z)(zt),"onMouseMove",function(hr){zt.fireEvents("onMouseMove",hr),zt.setPoint(hr)}),(0,w.Z)((0,x.Z)(zt),"onMouseLeave",function(hr){zt.fireEvents("onMouseLeave",hr),zt.delaySetPopupVisible(!1,zt.props.mouseLeaveDelay)}),(0,w.Z)((0,x.Z)(zt),"onPopupMouseEnter",function(){zt.clearDelayTimer()}),(0,w.Z)((0,x.Z)(zt),"onPopupMouseLeave",function(hr){var gi;hr.relatedTarget&&!hr.relatedTarget.setTimeout&&(0,$.Z)((gi=zt.popupRef.current)===null||gi===void 0?void 0:gi.getElement(),hr.relatedTarget)||zt.delaySetPopupVisible(!1,zt.props.mouseLeaveDelay)}),(0,w.Z)((0,x.Z)(zt),"onFocus",function(hr){zt.fireEvents("onFocus",hr),zt.clearDelayTimer(),zt.isFocusToShow()&&(zt.focusTime=Date.now(),zt.delaySetPopupVisible(!0,zt.props.focusDelay))}),(0,w.Z)((0,x.Z)(zt),"onMouseDown",function(hr){zt.fireEvents("onMouseDown",hr),zt.preClickTime=Date.now()}),(0,w.Z)((0,x.Z)(zt),"onTouchStart",function(hr){zt.fireEvents("onTouchStart",hr),zt.preTouchTime=Date.now()}),(0,w.Z)((0,x.Z)(zt),"onBlur",function(hr){zt.fireEvents("onBlur",hr),zt.clearDelayTimer(),zt.isBlurToHide()&&zt.delaySetPopupVisible(!1,zt.props.blurDelay)}),(0,w.Z)((0,x.Z)(zt),"onContextMenu",function(hr){hr.preventDefault(),zt.fireEvents("onContextMenu",hr),zt.setPopupVisible(!0,hr)}),(0,w.Z)((0,x.Z)(zt),"onContextMenuClose",function(){zt.isContextMenuToShow()&&zt.close()}),(0,w.Z)((0,x.Z)(zt),"onClick",function(hr){if(zt.fireEvents("onClick",hr),zt.focusTime){var gi;if(zt.preClickTime&&zt.preTouchTime?gi=Math.min(zt.preClickTime,zt.preTouchTime):zt.preClickTime?gi=zt.preClickTime:zt.preTouchTime&&(gi=zt.preTouchTime),Math.abs(gi-zt.focusTime)<20)return;zt.focusTime=0}zt.preClickTime=0,zt.preTouchTime=0,zt.isClickToShow()&&(zt.isClickToHide()||zt.isBlurToHide())&&hr&&hr.preventDefault&&hr.preventDefault();var mo=!zt.state.popupVisible;(zt.isClickToHide()&&!mo||mo&&zt.isClickToShow())&&zt.setPopupVisible(!zt.state.popupVisible,hr)}),(0,w.Z)((0,x.Z)(zt),"onPopupMouseDown",function(){if(zt.hasPopupMouseDown=!0,clearTimeout(zt.mouseDownTimeout),zt.mouseDownTimeout=window.setTimeout(function(){zt.hasPopupMouseDown=!1},0),zt.context){var hr;(hr=zt.context).onPopupMouseDown.apply(hr,arguments)}}),(0,w.Z)((0,x.Z)(zt),"onDocumentClick",function(hr){if(!(zt.props.mask&&!zt.props.maskClosable)){var gi=hr.target,mo=zt.getRootDomNode(),No=zt.getPopupDomNode();(!(0,$.Z)(mo,gi)||zt.isContextMenuOnly())&&!(0,$.Z)(No,gi)&&!zt.hasPopupMouseDown&&zt.close()}}),(0,w.Z)((0,x.Z)(zt),"getRootDomNode",function(){var hr=zt.props.getTriggerDOMNode;if(hr)return hr(zt.triggerRef.current);try{var gi=(0,te.ZP)(zt.triggerRef.current);if(gi)return gi}catch(mo){}return Z.findDOMNode((0,x.Z)(zt))}),(0,w.Z)((0,x.Z)(zt),"getPopupClassNameFromAlign",function(hr){var gi=[],mo=zt.props,No=mo.popupPlacement,io=mo.builtinPlacements,Ti=mo.prefixCls,Fi=mo.alignPoint,ha=mo.getPopupClassNameFromAlign;return No&&io&&gi.push(Oe(io,Ti,hr,Fi)),ha&&gi.push(ha(hr)),gi.join(" ")}),(0,w.Z)((0,x.Z)(zt),"getComponent",function(){var hr=zt.props,gi=hr.prefixCls,mo=hr.destroyPopupOnHide,No=hr.popupClassName,io=hr.onPopupAlign,Ti=hr.popupMotion,Fi=hr.popupAnimation,ha=hr.popupTransitionName,Ea=hr.popupStyle,ea=hr.mask,Ja=hr.maskAnimation,hs=hr.maskTransitionName,Gs=hr.maskMotion,Ki=hr.zIndex,Oa=hr.popup,qa=hr.stretch,da=hr.alignPoint,Aa=hr.mobile,Ps=hr.forceRender,wa=hr.onPopupClick,is=zt.state,Pl=is.popupVisible,F=is.point,X=zt.getPopupAlign(),ge={};return zt.isMouseEnterToShow()&&(ge.onMouseEnter=zt.onPopupMouseEnter),zt.isMouseLeaveToHide()&&(ge.onMouseLeave=zt.onPopupMouseLeave),ge.onMouseDown=zt.onPopupMouseDown,ge.onTouchStart=zt.onPopupMouseDown,k.createElement(Zi,(0,d.Z)({prefixCls:gi,destroyPopupOnHide:mo,visible:Pl,point:da&&F,className:No,align:X,onAlign:io,animation:Fi,getClassNameFromAlign:zt.getPopupClassNameFromAlign},ge,{stretch:qa,getRootDomNode:zt.getRootDomNode,style:Ea,mask:ea,zIndex:Ki,transitionName:ha,maskAnimation:Ja,maskTransitionName:hs,maskMotion:Gs,ref:zt.popupRef,motion:Ti,mobile:Aa,forceRender:Ps,onClick:wa}),typeof Oa=="function"?Oa():Oa)}),(0,w.Z)((0,x.Z)(zt),"attachParent",function(hr){U.Z.cancel(zt.attachId);var gi=zt.props,mo=gi.getPopupContainer,No=gi.getDocument,io=zt.getRootDomNode(),Ti;mo?(io||mo.length===0)&&(Ti=mo(io)):Ti=No(zt.getRootDomNode()).body,Ti?Ti.appendChild(hr):zt.attachId=(0,U.Z)(function(){zt.attachParent(hr)})}),(0,w.Z)((0,x.Z)(zt),"getContainer",function(){if(!zt.portalContainer){var hr=zt.props.getDocument,gi=hr(zt.getRootDomNode()).createElement("div");gi.style.position="absolute",gi.style.top="0",gi.style.left="0",gi.style.width="100%",zt.portalContainer=gi}return zt.attachParent(zt.portalContainer),zt.portalContainer}),(0,w.Z)((0,x.Z)(zt),"setPoint",function(hr){var gi=zt.props.alignPoint;!gi||!hr||zt.setState({point:{pageX:hr.pageX,pageY:hr.pageY}})}),(0,w.Z)((0,x.Z)(zt),"handlePortalUpdate",function(){zt.state.prevPopupVisible!==zt.state.popupVisible&&zt.props.afterPopupVisibleChange(zt.state.popupVisible)}),(0,w.Z)((0,x.Z)(zt),"triggerContextValue",{onPopupMouseDown:zt.onPopupMouseDown});var Qr;return"popupVisible"in nr?Qr=!!nr.popupVisible:Qr=!!nr.defaultPopupVisible,zt.state={prevPopupVisible:Qr,popupVisible:Qr},To.forEach(function(hr){zt["fire".concat(hr)]=function(gi){zt.fireEvents(hr,gi)}}),zt}return(0,g.Z)(xr,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var zt=this.props,Qr=this.state;if(Qr.popupVisible){var hr;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(hr=zt.getDocument(this.getRootDomNode()),this.clickOutsideHandler=(0,J.Z)(hr,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(hr=hr||zt.getDocument(this.getRootDomNode()),this.touchOutsideHandler=(0,J.Z)(hr,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(hr=hr||zt.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=(0,J.Z)(hr,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=(0,J.Z)(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),U.Z.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var zt;return((zt=this.popupRef.current)===null||zt===void 0?void 0:zt.getElement())||null}},{key:"getPopupAlign",value:function(){var zt=this.props,Qr=zt.popupPlacement,hr=zt.popupAlign,gi=zt.builtinPlacements;return Qr&&gi?ve(gi,Qr,hr):hr}},{key:"setPopupVisible",value:function(zt,Qr){var hr=this.props.alignPoint,gi=this.state.popupVisible;this.clearDelayTimer(),gi!==zt&&("popupVisible"in this.props||this.setState({popupVisible:zt,prevPopupVisible:gi}),this.props.onPopupVisibleChange(zt)),hr&&Qr&&zt&&this.setPoint(Qr)}},{key:"delaySetPopupVisible",value:function(zt,Qr,hr){var gi=this,mo=Qr*1e3;if(this.clearDelayTimer(),mo){var No=hr?{pageX:hr.pageX,pageY:hr.pageY}:null;this.delayTimer=window.setTimeout(function(){gi.setPopupVisible(zt,No),gi.clearDelayTimer()},mo)}else this.setPopupVisible(zt,hr)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(zt){var Qr=this.props.children.props,hr=this.props;return Qr[zt]&&hr[zt]?this["fire".concat(zt)]:Qr[zt]||hr[zt]}},{key:"isClickToShow",value:function(){var zt=this.props,Qr=zt.action,hr=zt.showAction;return Qr.indexOf("click")!==-1||hr.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var zt=this.props.action;return zt==="contextMenu"||zt.length===1&&zt[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var zt=this.props,Qr=zt.action,hr=zt.showAction;return Qr.indexOf("contextMenu")!==-1||hr.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var zt=this.props,Qr=zt.action,hr=zt.hideAction;return Qr.indexOf("click")!==-1||hr.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var zt=this.props,Qr=zt.action,hr=zt.showAction;return Qr.indexOf("hover")!==-1||hr.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var zt=this.props,Qr=zt.action,hr=zt.hideAction;return Qr.indexOf("hover")!==-1||hr.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var zt=this.props,Qr=zt.action,hr=zt.showAction;return Qr.indexOf("focus")!==-1||hr.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var zt=this.props,Qr=zt.action,hr=zt.hideAction;return Qr.indexOf("focus")!==-1||hr.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var zt;(zt=this.popupRef.current)===null||zt===void 0||zt.forceAlign()}}},{key:"fireEvents",value:function(zt,Qr){var hr=this.props.children.props[zt];hr&&hr(Qr);var gi=this.props[zt];gi&&gi(Qr)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var zt=this.state.popupVisible,Qr=this.props,hr=Qr.children,gi=Qr.forceRender,mo=Qr.alignPoint,No=Qr.className,io=Qr.autoDestroy,Ti=k.Children.only(hr),Fi={key:"trigger"};this.isContextMenuToShow()?Fi.onContextMenu=this.onContextMenu:Fi.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(Fi.onClick=this.onClick,Fi.onMouseDown=this.onMouseDown,Fi.onTouchStart=this.onTouchStart):(Fi.onClick=this.createTwoChains("onClick"),Fi.onMouseDown=this.createTwoChains("onMouseDown"),Fi.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(Fi.onMouseEnter=this.onMouseEnter,mo&&(Fi.onMouseMove=this.onMouseMove)):Fi.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?Fi.onMouseLeave=this.onMouseLeave:Fi.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(Fi.onFocus=this.onFocus,Fi.onBlur=this.onBlur):(Fi.onFocus=this.createTwoChains("onFocus"),Fi.onBlur=this.createTwoChains("onBlur"));var ha=le()(Ti&&Ti.props&&Ti.props.className,No);ha&&(Fi.className=ha);var Ea=(0,v.Z)({},Fi);(0,Q.Yr)(Ti)&&(Ea.ref=(0,Q.sQ)(this.triggerRef,Ti.ref));var ea=k.cloneElement(Ti,Ea),Ja;return(zt||this.popupRef.current||gi)&&(Ja=k.createElement(xt,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!zt&&io&&(Ja=null),k.createElement(uo.Provider,{value:this.triggerContextValue},ea,Ja)}}],[{key:"getDerivedStateFromProps",value:function(zt,Qr){var hr=zt.popupVisible,gi={};return hr!==void 0&&Qr.popupVisible!==hr&&(gi.popupVisible=hr,gi.prevPopupVisible=Qr.popupVisible),gi}}]),xr}(k.Component);return(0,w.Z)(sn,"contextType",uo),(0,w.Z)(sn,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Qo,getDocument:ra,onPopupVisibleChange:xa,afterPopupVisibleChange:xa,onPopupAlign:xa,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),sn}var Ba=fa(re)},64019:function(j,M,l){"use strict";l.d(M,{Z:function(){return d}});var v=l(73935);function d(m,g,x,A){var E=v.unstable_batchedUpdates?function(k){v.unstable_batchedUpdates(x,k)}:x;return m!=null&&m.addEventListener&&m.addEventListener(g,E,A),{remove:function(){m!=null&&m.removeEventListener&&m.removeEventListener(g,E,A)}}}},38135:function(j,M,l){"use strict";var v;l.d(M,{s:function(){return re},v:function(){return Oe}});var d=l(74165),m=l(15861),g=l(71002),x=l(1413),A=l(73935),E=(0,x.Z)({},v||(v=l.t(A,2))),w=E.version,k=E.render,Z=E.unmountComponentAtNode,U;try{var $=Number((w||"").split(".")[0]);$>=18&&(U=E.createRoot)}catch(Pe){}function te(Pe){var pe=E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;pe&&(0,g.Z)(pe)==="object"&&(pe.usingClientEntryPoint=Pe)}var Q="__rc_react_root__";function J(Pe,pe){te(!0);var Be=pe[Q]||U(pe);te(!1),Be.render(Pe),pe[Q]=Be}function K(Pe,pe){k(Pe,pe)}function Y(Pe,pe){}function re(Pe,pe){if(U){J(Pe,pe);return}K(Pe,pe)}function fe(Pe){return le.apply(this,arguments)}function le(){return le=(0,m.Z)((0,d.Z)().mark(function Pe(pe){return(0,d.Z)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.abrupt("return",Promise.resolve().then(function(){var he;(he=pe[Q])===null||he===void 0||he.unmount(),delete pe[Q]}));case 1:case"end":return je.stop()}},Pe)})),le.apply(this,arguments)}function ie(Pe){Z(Pe)}function ve(Pe){}function Oe(Pe){return L.apply(this,arguments)}function L(){return L=(0,m.Z)((0,d.Z)().mark(function Pe(pe){return(0,d.Z)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(U===void 0){je.next=2;break}return je.abrupt("return",fe(pe));case 2:ie(pe);case 3:case"end":return je.stop()}},Pe)})),L.apply(this,arguments)}},24754:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.autoprefix=void 0;var v=l(2525),d=g(v),m=Object.assign||function(E){for(var w=1;w<arguments.length;w++){var k=arguments[w];for(var Z in k)Object.prototype.hasOwnProperty.call(k,Z)&&(E[Z]=k[Z])}return E};function g(E){return E&&E.__esModule?E:{default:E}}var x={borderRadius:function(w){return{msBorderRadius:w,MozBorderRadius:w,OBorderRadius:w,WebkitBorderRadius:w,borderRadius:w}},boxShadow:function(w){return{msBoxShadow:w,MozBoxShadow:w,OBoxShadow:w,WebkitBoxShadow:w,boxShadow:w}},userSelect:function(w){return{WebkitTouchCallout:w,KhtmlUserSelect:w,MozUserSelect:w,msUserSelect:w,WebkitUserSelect:w,userSelect:w}},flex:function(w){return{WebkitBoxFlex:w,MozBoxFlex:w,WebkitFlex:w,msFlex:w,flex:w}},flexBasis:function(w){return{WebkitFlexBasis:w,flexBasis:w}},justifyContent:function(w){return{WebkitJustifyContent:w,justifyContent:w}},transition:function(w){return{msTransition:w,MozTransition:w,OTransition:w,WebkitTransition:w,transition:w}},transform:function(w){return{msTransform:w,MozTransform:w,OTransform:w,WebkitTransform:w,transform:w}},absolute:function(w){var k=w&&w.split(" ");return{position:"absolute",top:k&&k[0],right:k&&k[1],bottom:k&&k[2],left:k&&k[3]}},extend:function(w,k){var Z=k[w];return Z||{extend:w}}},A=M.autoprefix=function(w){var k={};return(0,d.default)(w,function(Z,U){var $={};(0,d.default)(Z,function(te,Q){var J=x[Q];J?$=m({},$,J(te)):$[Q]=te}),k[U]=$}),k};M.default=A},36002:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.active=void 0;var v=Object.assign||function(k){for(var Z=1;Z<arguments.length;Z++){var U=arguments[Z];for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(k[$]=U[$])}return k},d=l(67294),m=g(d);function g(k){return k&&k.__esModule?k:{default:k}}function x(k,Z){if(!(k instanceof Z))throw new TypeError("Cannot call a class as a function")}function A(k,Z){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:k}function E(k,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);k.prototype=Object.create(Z&&Z.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(k,Z):k.__proto__=Z)}var w=M.active=function(Z){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function($){E(te,$);function te(){var Q,J,K,Y;x(this,te);for(var re=arguments.length,fe=Array(re),le=0;le<re;le++)fe[le]=arguments[le];return Y=(J=(K=A(this,(Q=te.__proto__||Object.getPrototypeOf(te)).call.apply(Q,[this].concat(fe))),K),K.state={active:!1},K.handleMouseDown=function(){return K.setState({active:!0})},K.handleMouseUp=function(){return K.setState({active:!1})},K.render=function(){return m.default.createElement(U,{onMouseDown:K.handleMouseDown,onMouseUp:K.handleMouseUp},m.default.createElement(Z,v({},K.props,K.state)))},J),A(K,Y)}return te}(m.default.Component)};M.default=w},91765:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.hover=void 0;var v=Object.assign||function(k){for(var Z=1;Z<arguments.length;Z++){var U=arguments[Z];for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(k[$]=U[$])}return k},d=l(67294),m=g(d);function g(k){return k&&k.__esModule?k:{default:k}}function x(k,Z){if(!(k instanceof Z))throw new TypeError("Cannot call a class as a function")}function A(k,Z){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:k}function E(k,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);k.prototype=Object.create(Z&&Z.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(k,Z):k.__proto__=Z)}var w=M.hover=function(Z){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function($){E(te,$);function te(){var Q,J,K,Y;x(this,te);for(var re=arguments.length,fe=Array(re),le=0;le<re;le++)fe[le]=arguments[le];return Y=(J=(K=A(this,(Q=te.__proto__||Object.getPrototypeOf(te)).call.apply(Q,[this].concat(fe))),K),K.state={hover:!1},K.handleMouseOver=function(){return K.setState({hover:!0})},K.handleMouseOut=function(){return K.setState({hover:!1})},K.render=function(){return m.default.createElement(U,{onMouseOver:K.handleMouseOver,onMouseOut:K.handleMouseOut},m.default.createElement(Z,v({},K.props,K.state)))},J),A(K,Y)}return te}(m.default.Component)};M.default=w},14147:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.flattenNames=void 0;var v=l(47037),d=k(v),m=l(2525),g=k(m),x=l(68630),A=k(x),E=l(35161),w=k(E);function k(U){return U&&U.__esModule?U:{default:U}}var Z=M.flattenNames=function U(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],te=[];return(0,w.default)($,function(Q){Array.isArray(Q)?U(Q).map(function(J){return te.push(J)}):(0,A.default)(Q)?(0,g.default)(Q,function(J,K){J===!0&&te.push(K),te.push(K+"-"+J)}):(0,d.default)(Q)&&te.push(Q)}),te};M.default=Z},79941:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ReactCSS=M.loop=M.handleActive=M.handleHover=M.hover=void 0;var v=l(14147),d=te(v),m=l(18556),g=te(m),x=l(24754),A=te(x),E=l(91765),w=te(E),k=l(36002),Z=te(k),U=l(57742),$=te(U);function te(J){return J&&J.__esModule?J:{default:J}}M.hover=w.default,M.handleHover=w.default,M.handleActive=Z.default,M.loop=$.default;var Q=M.ReactCSS=function(K){for(var Y=arguments.length,re=Array(Y>1?Y-1:0),fe=1;fe<Y;fe++)re[fe-1]=arguments[fe];var le=(0,d.default)(re),ie=(0,g.default)(K,le);return(0,A.default)(ie)};M.default=Q},57742:function(j,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var l=function(d,m){var g={},x=function(E){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;g[E]=w};return d===0&&x("first-child"),d===m-1&&x("last-child"),(d===0||d%2===0)&&x("even"),Math.abs(d%2)===1&&x("odd"),x("nth-child",d),g};M.default=l},18556:function(j,M,l){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.mergeClasses=void 0;var v=l(2525),d=A(v),m=l(50361),g=A(m),x=Object.assign||function(w){for(var k=1;k<arguments.length;k++){var Z=arguments[k];for(var U in Z)Object.prototype.hasOwnProperty.call(Z,U)&&(w[U]=Z[U])}return w};function A(w){return w&&w.__esModule?w:{default:w}}var E=M.mergeClasses=function(k){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],U=k.default&&(0,g.default)(k.default)||{};return Z.map(function($){var te=k[$];return te&&(0,d.default)(te,function(Q,J){U[J]||(U[J]={}),U[J]=x({},U[J],te[J])}),$}),U};M.default=E},28660:function(j,M,l){var v=l(34155);var d;(function(m){(function(g){var x=typeof l.g=="object"?l.g:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),A=E(m);typeof x.Reflect=="undefined"?x.Reflect=m:A=E(x.Reflect,A),g(A);function E(w,k){return function(Z,U){typeof w[Z]!="function"&&Object.defineProperty(w,Z,{configurable:!0,writable:!0,value:U}),k&&k(Z,U)}}})(function(g){var x=Object.prototype.hasOwnProperty,A=typeof Symbol=="function",E=A&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",w=A&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",k=typeof Object.create=="function",Z={__proto__:[]}instanceof Array,U=!k&&!Z,$={create:k?function(){return pt(Object.create(null))}:Z?function(){return pt({__proto__:null})}:function(){return pt({})},has:U?function(He,Et){return x.call(He,Et)}:function(He,Et){return Et in He},get:U?function(He,Et){return x.call(He,Et)?He[Et]:void 0}:function(He,Et){return He[Et]}},te=Object.getPrototypeOf(Function),Q=typeof v=="object"&&v.env&&v.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",J=!Q&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:ot(),K=!Q&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Xe(),Y=!Q&&typeof WeakMap=="function"?WeakMap:et(),re=new Y;function fe(He,Et,Vt,On){if(Ae(Vt)){if(!lt(He))throw new TypeError;if(!qt(Et))throw new TypeError;return he(He,Et)}else{if(!lt(He))throw new TypeError;if(!Re(Et))throw new TypeError;if(!Re(On)&&!Ae(On)&&!be(On))throw new TypeError;return be(On)&&(On=void 0),Vt=Dt(Vt),st(He,Et,Vt,On)}}g("decorate",fe);function le(He,Et){function Vt(On,Wn){if(!Re(On))throw new TypeError;if(!Ae(Wn)&&!Nn(Wn))throw new TypeError;Me(He,Et,On,Wn)}return Vt}g("metadata",le);function ie(He,Et,Vt,On){if(!Re(Vt))throw new TypeError;return Ae(On)||(On=Dt(On)),Me(He,Et,Vt,On)}g("defineMetadata",ie);function ve(He,Et,Vt){if(!Re(Et))throw new TypeError;return Ae(Vt)||(Vt=Dt(Vt)),vn(He,Et,Vt)}g("hasMetadata",ve);function Oe(He,Et,Vt){if(!Re(Et))throw new TypeError;return Ae(Vt)||(Vt=Dt(Vt)),Mt(He,Et,Vt)}g("hasOwnMetadata",Oe);function L(He,Et,Vt){if(!Re(Et))throw new TypeError;return Ae(Vt)||(Vt=Dt(Vt)),It(He,Et,Vt)}g("getMetadata",L);function Pe(He,Et,Vt){if(!Re(Et))throw new TypeError;return Ae(Vt)||(Vt=Dt(Vt)),Ve(He,Et,Vt)}g("getOwnMetadata",Pe);function pe(He,Et){if(!Re(He))throw new TypeError;return Ae(Et)||(Et=Dt(Et)),Qe(He,Et)}g("getMetadataKeys",pe);function Be(He,Et){if(!Re(He))throw new TypeError;return Ae(Et)||(Et=Dt(Et)),bt(He,Et)}g("getOwnMetadataKeys",Be);function je(He,Et,Vt){if(!Re(Et))throw new TypeError;Ae(Vt)||(Vt=Dt(Vt));var On=en(Et,Vt,!1);if(Ae(On)||!On.delete(He))return!1;if(On.size>0)return!0;var Wn=re.get(Et);return Wn.delete(Vt),Wn.size>0||re.delete(Et),!0}g("deleteMetadata",je);function he(He,Et){for(var Vt=He.length-1;Vt>=0;--Vt){var On=He[Vt],Wn=On(Et);if(!Ae(Wn)&&!be(Wn)){if(!qt(Wn))throw new TypeError;Et=Wn}}return Et}function st(He,Et,Vt,On){for(var Wn=He.length-1;Wn>=0;--Wn){var pr=He[Wn],Cr=pr(Et,Vt,On);if(!Ae(Cr)&&!be(Cr)){if(!Re(Cr))throw new TypeError;On=Cr}}return On}function en(He,Et,Vt){var On=re.get(He);if(Ae(On)){if(!Vt)return;On=new J,re.set(He,On)}var Wn=On.get(Et);if(Ae(Wn)){if(!Vt)return;Wn=new J,On.set(Et,Wn)}return Wn}function vn(He,Et,Vt){var On=Mt(He,Et,Vt);if(On)return!0;var Wn=Ze(Et);return be(Wn)?!1:vn(He,Wn,Vt)}function Mt(He,Et,Vt){var On=en(Et,Vt,!1);return Ae(On)?!1:Yt(On.has(He))}function It(He,Et,Vt){var On=Mt(He,Et,Vt);if(On)return Ve(He,Et,Vt);var Wn=Ze(Et);if(!be(Wn))return It(He,Wn,Vt)}function Ve(He,Et,Vt){var On=en(Et,Vt,!1);if(!Ae(On))return On.get(He)}function Me(He,Et,Vt,On){var Wn=en(Vt,On,!0);Wn.set(He,Et)}function Qe(He,Et){var Vt=bt(He,Et),On=Ze(He);if(On===null)return Vt;var Wn=Qe(On,Et);if(Wn.length<=0)return Vt;if(Vt.length<=0)return Wn;for(var pr=new K,Cr=[],Sn=0,Cn=Vt;Sn<Cn.length;Sn++){var Fn=Cn[Sn],Hn=pr.has(Fn);Hn||(pr.add(Fn),Cr.push(Fn))}for(var sr=0,ti=Wn;sr<ti.length;sr++){var Fn=ti[sr],Hn=pr.has(Fn);Hn||(pr.add(Fn),Cr.push(Fn))}return Cr}function bt(He,Et){var Vt=[],On=en(He,Et,!1);if(Ae(On))return Vt;for(var Wn=On.keys(),pr=An(Wn),Cr=0;;){var Sn=ee(pr);if(!Sn)return Vt.length=Cr,Vt;var Cn=Kn(Sn);try{Vt[Cr]=Cn}catch(Fn){try{it(pr)}finally{throw Fn}}Cr++}}function Ge(He){if(He===null)return 1;switch(typeof He){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return He===null?1:6;default:return 6}}function Ae(He){return He===void 0}function be(He){return He===null}function Ne(He){return typeof He=="symbol"}function Re(He){return typeof He=="object"?He!==null:typeof He=="function"}function ht(He,Et){switch(Ge(He)){case 0:return He;case 1:return He;case 2:return He;case 3:return He;case 4:return He;case 5:return He}var Vt=Et===3?"string":Et===5?"number":"default",On=kn(He,E);if(On!==void 0){var Wn=On.call(He,Vt);if(Re(Wn))throw new TypeError;return Wn}return Wt(He,Vt==="default"?"number":Vt)}function Wt(He,Et){if(Et==="string"){var Vt=He.toString;if(Ft(Vt)){var On=Vt.call(He);if(!Re(On))return On}var Wn=He.valueOf;if(Ft(Wn)){var On=Wn.call(He);if(!Re(On))return On}}else{var Wn=He.valueOf;if(Ft(Wn)){var On=Wn.call(He);if(!Re(On))return On}var pr=He.toString;if(Ft(pr)){var On=pr.call(He);if(!Re(On))return On}}throw new TypeError}function Yt(He){return!!He}function Lt(He){return""+He}function Dt(He){var Et=ht(He,3);return Ne(Et)?Et:Lt(Et)}function lt(He){return Array.isArray?Array.isArray(He):He instanceof Object?He instanceof Array:Object.prototype.toString.call(He)==="[object Array]"}function Ft(He){return typeof He=="function"}function qt(He){return typeof He=="function"}function Nn(He){switch(Ge(He)){case 3:return!0;case 4:return!0;default:return!1}}function kn(He,Et){var Vt=He[Et];if(Vt!=null){if(!Ft(Vt))throw new TypeError;return Vt}}function An(He){var Et=kn(He,w);if(!Ft(Et))throw new TypeError;var Vt=Et.call(He);if(!Re(Vt))throw new TypeError;return Vt}function Kn(He){return He.value}function ee(He){var Et=He.next();return Et.done?!1:Et}function it(He){var Et=He.return;Et&&Et.call(He)}function Ze(He){var Et=Object.getPrototypeOf(He);if(typeof He!="function"||He===te||Et!==te)return Et;var Vt=He.prototype,On=Vt&&Object.getPrototypeOf(Vt);if(On==null||On===Object.prototype)return Et;var Wn=On.constructor;return typeof Wn!="function"||Wn===He?Et:Wn}function ot(){var He={},Et=[],Vt=function(){function Cr(Sn,Cn,Fn){this._index=0,this._keys=Sn,this._values=Cn,this._selector=Fn}return Cr.prototype["@@iterator"]=function(){return this},Cr.prototype[w]=function(){return this},Cr.prototype.next=function(){var Sn=this._index;if(Sn>=0&&Sn<this._keys.length){var Cn=this._selector(this._keys[Sn],this._values[Sn]);return Sn+1>=this._keys.length?(this._index=-1,this._keys=Et,this._values=Et):this._index++,{value:Cn,done:!1}}return{value:void 0,done:!0}},Cr.prototype.throw=function(Sn){throw this._index>=0&&(this._index=-1,this._keys=Et,this._values=Et),Sn},Cr.prototype.return=function(Sn){return this._index>=0&&(this._index=-1,this._keys=Et,this._values=Et),{value:Sn,done:!0}},Cr}();return function(){function Cr(){this._keys=[],this._values=[],this._cacheKey=He,this._cacheIndex=-2}return Object.defineProperty(Cr.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Cr.prototype.has=function(Sn){return this._find(Sn,!1)>=0},Cr.prototype.get=function(Sn){var Cn=this._find(Sn,!1);return Cn>=0?this._values[Cn]:void 0},Cr.prototype.set=function(Sn,Cn){var Fn=this._find(Sn,!0);return this._values[Fn]=Cn,this},Cr.prototype.delete=function(Sn){var Cn=this._find(Sn,!1);if(Cn>=0){for(var Fn=this._keys.length,Hn=Cn+1;Hn<Fn;Hn++)this._keys[Hn-1]=this._keys[Hn],this._values[Hn-1]=this._values[Hn];return this._keys.length--,this._values.length--,Sn===this._cacheKey&&(this._cacheKey=He,this._cacheIndex=-2),!0}return!1},Cr.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=He,this._cacheIndex=-2},Cr.prototype.keys=function(){return new Vt(this._keys,this._values,On)},Cr.prototype.values=function(){return new Vt(this._keys,this._values,Wn)},Cr.prototype.entries=function(){return new Vt(this._keys,this._values,pr)},Cr.prototype["@@iterator"]=function(){return this.entries()},Cr.prototype[w]=function(){return this.entries()},Cr.prototype._find=function(Sn,Cn){return this._cacheKey!==Sn&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Sn)),this._cacheIndex<0&&Cn&&(this._cacheIndex=this._keys.length,this._keys.push(Sn),this._values.push(void 0)),this._cacheIndex},Cr}();function On(Cr,Sn){return Cr}function Wn(Cr,Sn){return Sn}function pr(Cr,Sn){return[Cr,Sn]}}function Xe(){return function(){function He(){this._map=new J}return Object.defineProperty(He.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),He.prototype.has=function(Et){return this._map.has(Et)},He.prototype.add=function(Et){return this._map.set(Et,Et),this},He.prototype.delete=function(Et){return this._map.delete(Et)},He.prototype.clear=function(){this._map.clear()},He.prototype.keys=function(){return this._map.keys()},He.prototype.values=function(){return this._map.values()},He.prototype.entries=function(){return this._map.entries()},He.prototype["@@iterator"]=function(){return this.keys()},He.prototype[w]=function(){return this.keys()},He}()}function et(){var He=16,Et=$.create(),Vt=On();return function(){function Cn(){this._key=On()}return Cn.prototype.has=function(Fn){var Hn=Wn(Fn,!1);return Hn!==void 0?$.has(Hn,this._key):!1},Cn.prototype.get=function(Fn){var Hn=Wn(Fn,!1);return Hn!==void 0?$.get(Hn,this._key):void 0},Cn.prototype.set=function(Fn,Hn){var sr=Wn(Fn,!0);return sr[this._key]=Hn,this},Cn.prototype.delete=function(Fn){var Hn=Wn(Fn,!1);return Hn!==void 0?delete Hn[this._key]:!1},Cn.prototype.clear=function(){this._key=On()},Cn}();function On(){var Cn;do Cn="@@WeakMap@@"+Sn();while($.has(Et,Cn));return Et[Cn]=!0,Cn}function Wn(Cn,Fn){if(!x.call(Cn,Vt)){if(!Fn)return;Object.defineProperty(Cn,Vt,{value:$.create()})}return Cn[Vt]}function pr(Cn,Fn){for(var Hn=0;Hn<Fn;++Hn)Cn[Hn]=Math.random()*255|0;return Cn}function Cr(Cn){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(Cn)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(Cn)):pr(new Uint8Array(Cn),Cn):pr(new Array(Cn),Cn)}function Sn(){var Cn=Cr(He);Cn[6]=Cn[6]&79|64,Cn[8]=Cn[8]&191|128;for(var Fn="",Hn=0;Hn<He;++Hn){var sr=Cn[Hn];(Hn===4||Hn===6||Hn===8)&&(Fn+="-"),sr<16&&(Fn+="0"),Fn+=sr.toString(16).toLowerCase()}return Fn}}function pt(He){return He.__=void 0,delete He.__,He}})})(d||(d={}))},81550:function(j){(function(M,l){j.exports=l()})(this,function(){"use strict";var M=function($e){return $e instanceof Uint8Array||$e instanceof Uint16Array||$e instanceof Uint32Array||$e instanceof Int8Array||$e instanceof Int16Array||$e instanceof Int32Array||$e instanceof Float32Array||$e instanceof Float64Array||$e instanceof Uint8ClampedArray},l=function($e,Jt){for(var Gn=Object.keys(Jt),Kr=0;Kr<Gn.length;++Kr)$e[Gn[Kr]]=Jt[Gn[Kr]];return $e},v=`
`;function d($e){return typeof atob!="undefined"?atob($e):"base64:"+$e}function m($e){var Jt=new Error("(regl) "+$e);throw console.error(Jt),Jt}function g($e,Jt){$e||m(Jt)}function x($e){return $e?": "+$e:""}function A($e,Jt,Gn){$e in Jt||m("unknown parameter ("+$e+")"+x(Gn)+". possible values: "+Object.keys(Jt).join())}function E($e,Jt){M($e)||m("invalid parameter type"+x(Jt)+". must be a typed array")}function w($e,Jt){switch(Jt){case"number":return typeof $e=="number";case"object":return typeof $e=="object";case"string":return typeof $e=="string";case"boolean":return typeof $e=="boolean";case"function":return typeof $e=="function";case"undefined":return typeof $e=="undefined";case"symbol":return typeof $e=="symbol"}}function k($e,Jt,Gn){w($e,Jt)||m("invalid parameter type"+x(Gn)+". expected "+Jt+", got "+typeof $e)}function Z($e,Jt){$e>=0&&($e|0)===$e||m("invalid parameter type, ("+$e+")"+x(Jt)+". must be a nonnegative integer")}function U($e,Jt,Gn){Jt.indexOf($e)<0&&m("invalid value"+x(Gn)+". must be one of: "+Jt)}var $=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function te($e){Object.keys($e).forEach(function(Jt){$.indexOf(Jt)<0&&m('invalid regl constructor argument "'+Jt+'". must be one of '+$)})}function Q($e,Jt){for($e=$e+"";$e.length<Jt;)$e=" "+$e;return $e}function J(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function K($e,Jt){this.number=$e,this.line=Jt,this.errors=[]}function Y($e,Jt,Gn){this.file=$e,this.line=Jt,this.message=Gn}function re(){var $e=new Error,Jt=($e.stack||$e).toString(),Gn=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(Jt);if(Gn)return Gn[1];var Kr=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(Jt);return Kr?Kr[1]:"unknown"}function fe(){var $e=new Error,Jt=($e.stack||$e).toString(),Gn=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(Jt);if(Gn)return Gn[1];var Kr=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(Jt);return Kr?Kr[1]:"unknown"}function le($e,Jt){var Gn=$e.split(`
`),Kr=1,Br=0,Yr={unknown:new J,0:new J};Yr.unknown.name=Yr[0].name=Jt||re(),Yr.unknown.lines.push(new K(0,""));for(var ri=0;ri<Gn.length;++ri){var Ii=Gn[ri],Wi=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Ii);if(Wi)switch(Wi[1]){case"line":var Xi=/(\d+)(\s+\d+)?/.exec(Wi[2]);Xi&&(Kr=Xi[1]|0,Xi[2]&&(Br=Xi[2]|0,Br in Yr||(Yr[Br]=new J)));break;case"define":var zi=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Wi[2]);zi&&(Yr[Br].name=zi[1]?d(zi[2]):zi[2]);break}Yr[Br].lines.push(new K(Kr++,Ii))}return Object.keys(Yr).forEach(function(Ui){var _o=Yr[Ui];_o.lines.forEach(function(Vi){_o.index[Vi.number]=Vi})}),Yr}function ie($e){var Jt=[];return $e.split(`
`).forEach(function(Gn){if(!(Gn.length<5)){var Kr=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Gn);Kr?Jt.push(new Y(Kr[1]|0,Kr[2]|0,Kr[3].trim())):Gn.length>0&&Jt.push(new Y("unknown",0,Gn))}}),Jt}function ve($e,Jt){Jt.forEach(function(Gn){var Kr=$e[Gn.file];if(Kr){var Br=Kr.index[Gn.line];if(Br){Br.errors.push(Gn),Kr.hasErrors=!0;return}}$e.unknown.hasErrors=!0,$e.unknown.lines[0].errors.push(Gn)})}function Oe($e,Jt,Gn,Kr,Br){if(!$e.getShaderParameter(Jt,$e.COMPILE_STATUS)){var Yr=$e.getShaderInfoLog(Jt),ri=Kr===$e.FRAGMENT_SHADER?"fragment":"vertex";st(Gn,"string",ri+" shader source must be a string",Br);var Ii=le(Gn,Br),Wi=ie(Yr);ve(Ii,Wi),Object.keys(Ii).forEach(function(Xi){var zi=Ii[Xi];if(!zi.hasErrors)return;var Ui=[""],_o=[""];function Vi(vo,Gr){Ui.push(vo),_o.push(Gr||"")}Vi("file number "+Xi+": "+zi.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),zi.lines.forEach(function(vo){if(vo.errors.length>0){Vi(Q(vo.number,4)+"|  ","background-color:yellow; font-weight:bold"),Vi(vo.line+v,"color:red; background-color:yellow; font-weight:bold");var Gr=0;vo.errors.forEach(function(li){var Ji=li.message,Zo=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Ji);if(Zo){var Di=Zo[1];switch(Ji=Zo[2],Di){case"assign":Di="=";break}Gr=Math.max(vo.line.indexOf(Di,Gr),0)}else Gr=0;Vi(Q("| ",6)),Vi(Q("^^^",Gr+3)+v,"font-weight:bold"),Vi(Q("| ",6)),Vi(Ji+v,"font-weight:bold")}),Vi(Q("| ",6)+v)}else Vi(Q(vo.number,4)+"|  "),Vi(vo.line+v,"color:red")}),typeof document!="undefined"&&!window.chrome?(_o[0]=Ui.join("%c"),console.log.apply(console,_o)):console.log(Ui.join(""))}),g.raise("Error compiling "+ri+" shader, "+Ii[0].name)}}function L($e,Jt,Gn,Kr,Br){if(!$e.getProgramParameter(Jt,$e.LINK_STATUS)){var Yr=$e.getProgramInfoLog(Jt),ri=le(Gn,Br),Ii=le(Kr,Br),Wi='Error linking program with vertex shader, "'+Ii[0].name+'", and fragment shader "'+ri[0].name+'"';typeof document!="undefined"?console.log("%c"+Wi+v+"%c"+Yr,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Wi+v+Yr),g.raise(Wi)}}function Pe($e){$e._commandRef=re()}function pe($e,Jt,Gn,Kr){Pe($e);function Br(Wi){return Wi?Kr.id(Wi):0}$e._fragId=Br($e.static.frag),$e._vertId=Br($e.static.vert);function Yr(Wi,Xi){Object.keys(Xi).forEach(function(zi){Wi[Kr.id(zi)]=!0})}var ri=$e._uniformSet={};Yr(ri,Jt.static),Yr(ri,Jt.dynamic);var Ii=$e._attributeSet={};Yr(Ii,Gn.static),Yr(Ii,Gn.dynamic),$e._hasCount="count"in $e.static||"count"in $e.dynamic||"elements"in $e.static||"elements"in $e.dynamic}function Be($e,Jt){var Gn=fe();m($e+" in command "+(Jt||re())+(Gn==="unknown"?"":" called from "+Gn))}function je($e,Jt,Gn){$e||Be(Jt,Gn||re())}function he($e,Jt,Gn,Kr){$e in Jt||Be("unknown parameter ("+$e+")"+x(Gn)+". possible values: "+Object.keys(Jt).join(),Kr||re())}function st($e,Jt,Gn,Kr){w($e,Jt)||Be("invalid parameter type"+x(Gn)+". expected "+Jt+", got "+typeof $e,Kr||re())}function en($e){$e()}function vn($e,Jt,Gn){$e.texture?U($e.texture._texture.internalformat,Jt,"unsupported texture format for attachment"):U($e.renderbuffer._renderbuffer.format,Gn,"unsupported renderbuffer format for attachment")}var Mt=33071,It=9728,Ve=9984,Me=9985,Qe=9986,bt=9987,Ge=5120,Ae=5121,be=5122,Ne=5123,Re=5124,ht=5125,Wt=5126,Yt=32819,Lt=32820,Dt=33635,lt=34042,Ft=36193,qt={};qt[Ge]=qt[Ae]=1,qt[be]=qt[Ne]=qt[Ft]=qt[Dt]=qt[Yt]=qt[Lt]=2,qt[Re]=qt[ht]=qt[Wt]=qt[lt]=4;function Nn($e,Jt){return $e===Lt||$e===Yt||$e===Dt?2:$e===lt?4:qt[$e]*Jt}function kn($e){return!($e&$e-1)&&!!$e}function An($e,Jt,Gn){var Kr,Br=Jt.width,Yr=Jt.height,ri=Jt.channels;g(Br>0&&Br<=Gn.maxTextureSize&&Yr>0&&Yr<=Gn.maxTextureSize,"invalid texture shape"),($e.wrapS!==Mt||$e.wrapT!==Mt)&&g(kn(Br)&&kn(Yr),"incompatible wrap mode for texture, both width and height must be power of 2"),Jt.mipmask===1?Br!==1&&Yr!==1&&g($e.minFilter!==Ve&&$e.minFilter!==Qe&&$e.minFilter!==Me&&$e.minFilter!==bt,"min filter requires mipmap"):(g(kn(Br)&&kn(Yr),"texture must be a square power of 2 to support mipmapping"),g(Jt.mipmask===(Br<<1)-1,"missing or incomplete mipmap data")),Jt.type===Wt&&(Gn.extensions.indexOf("oes_texture_float_linear")<0&&g($e.minFilter===It&&$e.magFilter===It,"filter not supported, must enable oes_texture_float_linear"),g(!$e.genMipmaps,"mipmap generation not supported with float textures"));var Ii=Jt.images;for(Kr=0;Kr<16;++Kr)if(Ii[Kr]){var Wi=Br>>Kr,Xi=Yr>>Kr;g(Jt.mipmask&1<<Kr,"missing mipmap data");var zi=Ii[Kr];if(g(zi.width===Wi&&zi.height===Xi,"invalid shape for mip images"),g(zi.format===Jt.format&&zi.internalformat===Jt.internalformat&&zi.type===Jt.type,"incompatible type for mip image"),!zi.compressed)if(zi.data){var Ui=Math.ceil(Nn(zi.type,ri)*Wi/zi.unpackAlignment)*zi.unpackAlignment;g(zi.data.byteLength===Ui*Xi,"invalid data for image, buffer size is inconsistent with image format")}else zi.element||zi.copy}else $e.genMipmaps||g((Jt.mipmask&1<<Kr)===0,"extra mipmap data");Jt.compressed&&g(!$e.genMipmaps,"mipmap generation for compressed images not supported")}function Kn($e,Jt,Gn,Kr){var Br=$e.width,Yr=$e.height,ri=$e.channels;g(Br>0&&Br<=Kr.maxTextureSize&&Yr>0&&Yr<=Kr.maxTextureSize,"invalid texture shape"),g(Br===Yr,"cube map must be square"),g(Jt.wrapS===Mt&&Jt.wrapT===Mt,"wrap mode not supported by cube map");for(var Ii=0;Ii<Gn.length;++Ii){var Wi=Gn[Ii];g(Wi.width===Br&&Wi.height===Yr,"inconsistent cube map face shape"),Jt.genMipmaps&&(g(!Wi.compressed,"can not generate mipmap for compressed textures"),g(Wi.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Xi=Wi.images,zi=0;zi<16;++zi){var Ui=Xi[zi];if(Ui){var _o=Br>>zi,Vi=Yr>>zi;g(Wi.mipmask&1<<zi,"missing mipmap data"),g(Ui.width===_o&&Ui.height===Vi,"invalid shape for mip images"),g(Ui.format===$e.format&&Ui.internalformat===$e.internalformat&&Ui.type===$e.type,"incompatible type for mip image"),Ui.compressed||(Ui.data?g(Ui.data.byteLength===_o*Vi*Math.max(Nn(Ui.type,ri),Ui.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Ui.element||Ui.copy)}}}}var ee=l(g,{optional:en,raise:m,commandRaise:Be,command:je,parameter:A,commandParameter:he,constructor:te,type:k,commandType:st,isTypedArray:E,nni:Z,oneOf:U,shaderError:Oe,linkError:L,callSite:fe,saveCommandRef:Pe,saveDrawInfo:pe,framebufferFormat:vn,guessCommand:re,texture2D:An,textureCube:Kn}),it=0,Ze=0,ot=5,Xe=6;function et($e,Jt){this.id=it++,this.type=$e,this.data=Jt}function pt($e){return $e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function He($e){if($e.length===0)return[];var Jt=$e.charAt(0),Gn=$e.charAt($e.length-1);if($e.length>1&&Jt===Gn&&(Jt==='"'||Jt==="'"))return['"'+pt($e.substr(1,$e.length-2))+'"'];var Kr=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec($e);if(Kr)return He($e.substr(0,Kr.index)).concat(He(Kr[1])).concat(He($e.substr(Kr.index+Kr[0].length)));var Br=$e.split(".");if(Br.length===1)return['"'+pt($e)+'"'];for(var Yr=[],ri=0;ri<Br.length;++ri)Yr=Yr.concat(He(Br[ri]));return Yr}function Et($e){return"["+He($e).join("][")+"]"}function Vt($e,Jt){return new et($e,Et(Jt+""))}function On($e){return typeof $e=="function"&&!$e._reglType||$e instanceof et}function Wn($e,Jt){if(typeof $e=="function")return new et(Ze,$e);if(typeof $e=="number"||typeof $e=="boolean")return new et(ot,$e);if(Array.isArray($e))return new et(Xe,$e.map((Gn,Kr)=>Wn(Gn,Jt+"["+Kr+"]")));if($e instanceof et)return $e;ee(!1,"invalid option type in uniform "+Jt)}var pr={DynamicVariable:et,define:Vt,isDynamic:On,unbox:Wn,accessor:Et},Cr={next:typeof requestAnimationFrame=="function"?function($e){return requestAnimationFrame($e)}:function($e){return setTimeout($e,16)},cancel:typeof cancelAnimationFrame=="function"?function($e){return cancelAnimationFrame($e)}:clearTimeout},Sn=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Cn(){var $e={"":0},Jt=[""];return{id:function(Gn){var Kr=$e[Gn];return Kr||(Kr=$e[Gn]=Jt.length,Jt.push(Gn),Kr)},str:function(Gn){return Jt[Gn]}}}function Fn($e,Jt,Gn){var Kr=document.createElement("canvas");l(Kr.style,{border:0,margin:0,padding:0,top:0,left:0}),$e.appendChild(Kr),$e===document.body&&(Kr.style.position="absolute",l($e.style,{margin:0,padding:0}));function Br(){var Ii=window.innerWidth,Wi=window.innerHeight;if($e!==document.body){var Xi=$e.getBoundingClientRect();Ii=Xi.right-Xi.left,Wi=Xi.bottom-Xi.top}Kr.width=Gn*Ii,Kr.height=Gn*Wi,l(Kr.style,{width:Ii+"px",height:Wi+"px"})}var Yr;$e!==document.body&&typeof ResizeObserver=="function"?(Yr=new ResizeObserver(function(){setTimeout(Br)}),Yr.observe($e)):window.addEventListener("resize",Br,!1);function ri(){Yr?Yr.disconnect():window.removeEventListener("resize",Br),$e.removeChild(Kr)}return Br(),{canvas:Kr,onDestroy:ri}}function Hn($e,Jt){function Gn(Kr){try{return $e.getContext(Kr,Jt)}catch(Br){return null}}return Gn("webgl")||Gn("experimental-webgl")||Gn("webgl-experimental")}function sr($e){return typeof $e.nodeName=="string"&&typeof $e.appendChild=="function"&&typeof $e.getBoundingClientRect=="function"}function ti($e){return typeof $e.drawArrays=="function"||typeof $e.drawElements=="function"}function Ir($e){return typeof $e=="string"?$e.split():(ee(Array.isArray($e),"invalid extension array"),$e)}function kr($e){return typeof $e=="string"?(ee(typeof document!="undefined","not supported outside of DOM"),document.querySelector($e)):$e}function di($e){var Jt=$e||{},Gn,Kr,Br,Yr,ri={},Ii=[],Wi=[],Xi=typeof window=="undefined"?1:window.devicePixelRatio,zi=!1,Ui=function(vo){vo&&ee.raise(vo)},_o=function(){};if(typeof Jt=="string"?(ee(typeof document!="undefined","selector queries only supported in DOM enviroments"),Gn=document.querySelector(Jt),ee(Gn,"invalid query string for element")):typeof Jt=="object"?sr(Jt)?Gn=Jt:ti(Jt)?(Yr=Jt,Br=Yr.canvas):(ee.constructor(Jt),"gl"in Jt?Yr=Jt.gl:"canvas"in Jt?Br=kr(Jt.canvas):"container"in Jt&&(Kr=kr(Jt.container)),"attributes"in Jt&&(ri=Jt.attributes,ee.type(ri,"object","invalid context attributes")),"extensions"in Jt&&(Ii=Ir(Jt.extensions)),"optionalExtensions"in Jt&&(Wi=Ir(Jt.optionalExtensions)),"onDone"in Jt&&(ee.type(Jt.onDone,"function","invalid or missing onDone callback"),Ui=Jt.onDone),"profile"in Jt&&(zi=!!Jt.profile),"pixelRatio"in Jt&&(Xi=+Jt.pixelRatio,ee(Xi>0,"invalid pixel ratio"))):ee.raise("invalid arguments to regl"),Gn&&(Gn.nodeName.toLowerCase()==="canvas"?Br=Gn:Kr=Gn),!Yr){if(!Br){ee(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Vi=Fn(Kr||document.body,Ui,Xi);if(!Vi)return null;Br=Vi.canvas,_o=Vi.onDestroy}ri.premultipliedAlpha===void 0&&(ri.premultipliedAlpha=!0),Yr=Hn(Br,ri)}return Yr?{gl:Yr,canvas:Br,container:Kr,extensions:Ii,optionalExtensions:Wi,pixelRatio:Xi,profile:zi,onDone:Ui,onDestroy:_o}:(_o(),Ui("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Yn($e,Jt){var Gn={};function Kr(ri){ee.type(ri,"string","extension name must be string");var Ii=ri.toLowerCase(),Wi;try{Wi=Gn[Ii]=$e.getExtension(Ii)}catch(Xi){}return!!Wi}for(var Br=0;Br<Jt.extensions.length;++Br){var Yr=Jt.extensions[Br];if(!Kr(Yr))return Jt.onDestroy(),Jt.onDone('"'+Yr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Jt.optionalExtensions.forEach(Kr),{extensions:Gn,restore:function(){Object.keys(Gn).forEach(function(ri){if(Gn[ri]&&!Kr(ri))throw new Error("(regl): error restoring extension "+ri)})}}}function Bt($e,Jt){for(var Gn=Array($e),Kr=0;Kr<$e;++Kr)Gn[Kr]=Jt(Kr);return Gn}var kt=5120,dn=5121,Ot=5122,ur=5123,Mn=5124,zr=5125,jt=5126;function gn($e){for(var Jt=16;Jt<=1<<28;Jt*=16)if($e<=Jt)return Jt;return 0}function Ln($e){var Jt,Gn;return Jt=($e>65535)<<4,$e>>>=Jt,Gn=($e>255)<<3,$e>>>=Gn,Jt|=Gn,Gn=($e>15)<<2,$e>>>=Gn,Jt|=Gn,Gn=($e>3)<<1,$e>>>=Gn,Jt|=Gn,Jt|$e>>1}function vt(){var $e=Bt(8,function(){return[]});function Jt(Yr){var ri=gn(Yr),Ii=$e[Ln(ri)>>2];return Ii.length>0?Ii.pop():new ArrayBuffer(ri)}function Gn(Yr){$e[Ln(Yr.byteLength)>>2].push(Yr)}function Kr(Yr,ri){var Ii=null;switch(Yr){case kt:Ii=new Int8Array(Jt(ri),0,ri);break;case dn:Ii=new Uint8Array(Jt(ri),0,ri);break;case Ot:Ii=new Int16Array(Jt(2*ri),0,ri);break;case ur:Ii=new Uint16Array(Jt(2*ri),0,ri);break;case Mn:Ii=new Int32Array(Jt(4*ri),0,ri);break;case zr:Ii=new Uint32Array(Jt(4*ri),0,ri);break;case jt:Ii=new Float32Array(Jt(4*ri),0,ri);break;default:return null}return Ii.length!==ri?Ii.subarray(0,ri):Ii}function Br(Yr){Gn(Yr.buffer)}return{alloc:Jt,free:Gn,allocType:Kr,freeType:Br}}var Zt=vt();Zt.zero=vt();var or=3408,ir=3410,lr=3411,Pr=3412,$r=3413,dr=3414,ni=3415,un=33901,ue=33902,De=3379,oe=3386,R=34921,N=36347,G=36348,ye=35661,Ie=35660,ze=34930,Ce=36349,ke=34076,rt=34024,Tt=7936,En=7937,Rn=7938,$n=35724,Xn=34047,$t=36063,hn=34852,bn=3553,br=34067,qn=34069,Li=33984,$i=6408,Bi=5126,co=5121,Do=36160,Wo=36053,hi=36064,ua=16384,ya=function($e,Jt){var Gn=1;Jt.ext_texture_filter_anisotropic&&(Gn=$e.getParameter(Xn));var Kr=1,Br=1;Jt.webgl_draw_buffers&&(Kr=$e.getParameter(hn),Br=$e.getParameter($t));var Yr=!!Jt.oes_texture_float;if(Yr){var ri=$e.createTexture();$e.bindTexture(bn,ri),$e.texImage2D(bn,0,$i,1,1,0,$i,Bi,null);var Ii=$e.createFramebuffer();if($e.bindFramebuffer(Do,Ii),$e.framebufferTexture2D(Do,hi,bn,ri,0),$e.bindTexture(bn,null),$e.checkFramebufferStatus(Do)!==Wo)Yr=!1;else{$e.viewport(0,0,1,1),$e.clearColor(1,0,0,1),$e.clear(ua);var Wi=Zt.allocType(Bi,4);$e.readPixels(0,0,1,1,$i,Bi,Wi),$e.getError()?Yr=!1:($e.deleteFramebuffer(Ii),$e.deleteTexture(ri),Yr=Wi[0]===1),Zt.freeType(Wi)}}var Xi=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),zi=!0;if(!Xi){var Ui=$e.createTexture(),_o=Zt.allocType(co,36);$e.activeTexture(Li),$e.bindTexture(br,Ui),$e.texImage2D(qn,0,$i,3,3,0,$i,co,_o),Zt.freeType(_o),$e.bindTexture(br,null),$e.deleteTexture(Ui),zi=!$e.getError()}return{colorBits:[$e.getParameter(ir),$e.getParameter(lr),$e.getParameter(Pr),$e.getParameter($r)],depthBits:$e.getParameter(dr),stencilBits:$e.getParameter(ni),subpixelBits:$e.getParameter(or),extensions:Object.keys(Jt).filter(function(Vi){return!!Jt[Vi]}),maxAnisotropic:Gn,maxDrawbuffers:Kr,maxColorAttachments:Br,pointSizeDims:$e.getParameter(un),lineWidthDims:$e.getParameter(ue),maxViewportDims:$e.getParameter(oe),maxCombinedTextureUnits:$e.getParameter(ye),maxCubeMapSize:$e.getParameter(ke),maxRenderbufferSize:$e.getParameter(rt),maxTextureUnits:$e.getParameter(ze),maxTextureSize:$e.getParameter(De),maxAttributes:$e.getParameter(R),maxVertexUniforms:$e.getParameter(N),maxVertexTextureUnits:$e.getParameter(Ie),maxVaryingVectors:$e.getParameter(G),maxFragmentUniforms:$e.getParameter(Ce),glsl:$e.getParameter($n),renderer:$e.getParameter(En),vendor:$e.getParameter(Tt),version:$e.getParameter(Rn),readFloat:Yr,npotTextureCube:zi}};function fi($e){return!!$e&&typeof $e=="object"&&Array.isArray($e.shape)&&Array.isArray($e.stride)&&typeof $e.offset=="number"&&$e.shape.length===$e.stride.length&&(Array.isArray($e.data)||M($e.data))}var Pi=function($e){return Object.keys($e).map(function(Jt){return $e[Jt]})},Qi={shape:ra,flatten:Qo};function Zi($e,Jt,Gn){for(var Kr=0;Kr<Jt;++Kr)Gn[Kr]=$e[Kr]}function Ta($e,Jt,Gn,Kr){for(var Br=0,Yr=0;Yr<Jt;++Yr)for(var ri=$e[Yr],Ii=0;Ii<Gn;++Ii)Kr[Br++]=ri[Ii]}function uo($e,Jt,Gn,Kr,Br,Yr){for(var ri=Yr,Ii=0;Ii<Jt;++Ii)for(var Wi=$e[Ii],Xi=0;Xi<Gn;++Xi)for(var zi=Wi[Xi],Ui=0;Ui<Kr;++Ui)Br[ri++]=zi[Ui]}function xa($e,Jt,Gn,Kr,Br){for(var Yr=1,ri=Gn+1;ri<Jt.length;++ri)Yr*=Jt[ri];var Ii=Jt[Gn];if(Jt.length-Gn===4){var Wi=Jt[Gn+1],Xi=Jt[Gn+2],zi=Jt[Gn+3];for(ri=0;ri<Ii;++ri)uo($e[ri],Wi,Xi,zi,Kr,Br),Br+=Yr}else for(ri=0;ri<Ii;++ri)xa($e[ri],Jt,Gn+1,Kr,Br),Br+=Yr}function Qo($e,Jt,Gn,Kr){var Br=1;if(Jt.length)for(var Yr=0;Yr<Jt.length;++Yr)Br*=Jt[Yr];else Br=0;var ri=Kr||Zt.allocType(Gn,Br);switch(Jt.length){case 0:break;case 1:Zi($e,Jt[0],ri);break;case 2:Ta($e,Jt[0],Jt[1],ri);break;case 3:uo($e,Jt[0],Jt[1],Jt[2],ri,0);break;default:xa($e,Jt,0,ri,0)}return ri}function ra($e){for(var Jt=[],Gn=$e;Gn.length;Gn=Gn[0])Jt.push(Gn.length);return Jt}var To={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},fa=5120,Ba=5122,xt=5124,sn=5121,Ht=5123,jn=5125,xr=5126,nr=5126,zt={int8:fa,int16:Ba,int32:xt,uint8:sn,uint16:Ht,uint32:jn,float:xr,float32:nr},Qr=35048,hr=35040,gi={dynamic:Qr,stream:hr,static:35044},mo=Qi.flatten,No=Qi.shape,io=35044,Ti=35040,Fi=5121,ha=5126,Ea=[];Ea[5120]=1,Ea[5122]=2,Ea[5124]=4,Ea[5121]=1,Ea[5123]=2,Ea[5125]=4,Ea[5126]=4;function ea($e){return To[Object.prototype.toString.call($e)]|0}function Ja($e,Jt){for(var Gn=0;Gn<Jt.length;++Gn)$e[Gn]=Jt[Gn]}function hs($e,Jt,Gn,Kr,Br,Yr,ri){for(var Ii=0,Wi=0;Wi<Gn;++Wi)for(var Xi=0;Xi<Kr;++Xi)$e[Ii++]=Jt[Br*Wi+Yr*Xi+ri]}function Gs($e,Jt,Gn,Kr){var Br=0,Yr={};function ri(Gr){this.id=Br++,this.buffer=$e.createBuffer(),this.type=Gr,this.usage=io,this.byteLength=0,this.dimension=1,this.dtype=Fi,this.persistentData=null,Gn.profile&&(this.stats={size:0})}ri.prototype.bind=function(){$e.bindBuffer(this.type,this.buffer)},ri.prototype.destroy=function(){_o(this)};var Ii=[];function Wi(Gr,li){var Ji=Ii.pop();return Ji||(Ji=new ri(Gr)),Ji.bind(),Ui(Ji,li,Ti,0,1,!1),Ji}function Xi(Gr){Ii.push(Gr)}function zi(Gr,li,Ji){Gr.byteLength=li.byteLength,$e.bufferData(Gr.type,li,Ji)}function Ui(Gr,li,Ji,Zo,Di,Go){var Mi;if(Gr.usage=Ji,Array.isArray(li)){if(Gr.dtype=Zo||ha,li.length>0){var bo;if(Array.isArray(li[0])){Mi=No(li);for(var Ci=1,Co=1;Co<Mi.length;++Co)Ci*=Mi[Co];Gr.dimension=Ci,bo=mo(li,Mi,Gr.dtype),zi(Gr,bo,Ji),Go?Gr.persistentData=bo:Zt.freeType(bo)}else if(typeof li[0]=="number"){Gr.dimension=Di;var Na=Zt.allocType(Gr.dtype,li.length);Ja(Na,li),zi(Gr,Na,Ji),Go?Gr.persistentData=Na:Zt.freeType(Na)}else M(li[0])?(Gr.dimension=li[0].length,Gr.dtype=Zo||ea(li[0])||ha,bo=mo(li,[li.length,li[0].length],Gr.dtype),zi(Gr,bo,Ji),Go?Gr.persistentData=bo:Zt.freeType(bo)):ee.raise("invalid buffer data")}}else if(M(li))Gr.dtype=Zo||ea(li),Gr.dimension=Di,zi(Gr,li,Ji),Go&&(Gr.persistentData=new Uint8Array(new Uint8Array(li.buffer)));else if(fi(li)){Mi=li.shape;var gs=li.stride,Eo=li.offset,no=0,Oi=0,Xa=0,Es=0;Mi.length===1?(no=Mi[0],Oi=1,Xa=gs[0],Es=0):Mi.length===2?(no=Mi[0],Oi=Mi[1],Xa=gs[0],Es=gs[1]):ee.raise("invalid shape"),Gr.dtype=Zo||ea(li.data)||ha,Gr.dimension=Oi;var la=Zt.allocType(Gr.dtype,no*Oi);hs(la,li.data,no,Oi,Xa,Es,Eo),zi(Gr,la,Ji),Go?Gr.persistentData=la:Zt.freeType(la)}else li instanceof ArrayBuffer?(Gr.dtype=Fi,Gr.dimension=Di,zi(Gr,li,Ji),Go&&(Gr.persistentData=new Uint8Array(new Uint8Array(li)))):ee.raise("invalid buffer data")}function _o(Gr){Jt.bufferCount--,Kr(Gr);var li=Gr.buffer;ee(li,"buffer must not be deleted already"),$e.deleteBuffer(li),Gr.buffer=null,delete Yr[Gr.id]}function Vi(Gr,li,Ji,Zo){Jt.bufferCount++;var Di=new ri(li);Yr[Di.id]=Di;function Go(Ci){var Co=io,Na=null,gs=0,Eo=0,no=1;return Array.isArray(Ci)||M(Ci)||fi(Ci)||Ci instanceof ArrayBuffer?Na=Ci:typeof Ci=="number"?gs=Ci|0:Ci&&(ee.type(Ci,"object","buffer arguments must be an object, a number or an array"),"data"in Ci&&(ee(Na===null||Array.isArray(Na)||M(Na)||fi(Na),"invalid data for buffer"),Na=Ci.data),"usage"in Ci&&(ee.parameter(Ci.usage,gi,"invalid buffer usage"),Co=gi[Ci.usage]),"type"in Ci&&(ee.parameter(Ci.type,zt,"invalid buffer type"),Eo=zt[Ci.type]),"dimension"in Ci&&(ee.type(Ci.dimension,"number","invalid dimension"),no=Ci.dimension|0),"length"in Ci&&(ee.nni(gs,"buffer length must be a nonnegative integer"),gs=Ci.length|0)),Di.bind(),Na?Ui(Di,Na,Co,Eo,no,Zo):(gs&&$e.bufferData(Di.type,gs,Co),Di.dtype=Eo||Fi,Di.usage=Co,Di.dimension=no,Di.byteLength=gs),Gn.profile&&(Di.stats.size=Di.byteLength*Ea[Di.dtype]),Go}function Mi(Ci,Co){ee(Co+Ci.byteLength<=Di.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Ci.byteLength+" starting from offset "+Co+" to a buffer of size "+Di.byteLength),$e.bufferSubData(Di.type,Co,Ci)}function bo(Ci,Co){var Na=(Co||0)|0,gs;if(Di.bind(),M(Ci)||Ci instanceof ArrayBuffer)Mi(Ci,Na);else if(Array.isArray(Ci)){if(Ci.length>0)if(typeof Ci[0]=="number"){var Eo=Zt.allocType(Di.dtype,Ci.length);Ja(Eo,Ci),Mi(Eo,Na),Zt.freeType(Eo)}else if(Array.isArray(Ci[0])||M(Ci[0])){gs=No(Ci);var no=mo(Ci,gs,Di.dtype);Mi(no,Na),Zt.freeType(no)}else ee.raise("invalid buffer data")}else if(fi(Ci)){gs=Ci.shape;var Oi=Ci.stride,Xa=0,Es=0,la=0,Zs=0;gs.length===1?(Xa=gs[0],Es=1,la=Oi[0],Zs=0):gs.length===2?(Xa=gs[0],Es=gs[1],la=Oi[0],Zs=Oi[1]):ee.raise("invalid shape");var vs=Array.isArray(Ci.data)?Di.dtype:ea(Ci.data),Os=Zt.allocType(vs,Xa*Es);hs(Os,Ci.data,Xa,Es,la,Zs,Ci.offset),Mi(Os,Na),Zt.freeType(Os)}else ee.raise("invalid data for buffer subdata");return Go}return Ji||Go(Gr),Go._reglType="buffer",Go._buffer=Di,Go.subdata=bo,Gn.profile&&(Go.stats=Di.stats),Go.destroy=function(){_o(Di)},Go}function vo(){Pi(Yr).forEach(function(Gr){Gr.buffer=$e.createBuffer(),$e.bindBuffer(Gr.type,Gr.buffer),$e.bufferData(Gr.type,Gr.persistentData||Gr.byteLength,Gr.usage)})}return Gn.profile&&(Jt.getTotalBufferSize=function(){var Gr=0;return Object.keys(Yr).forEach(function(li){Gr+=Yr[li].stats.size}),Gr}),{create:Vi,createStream:Wi,destroyStream:Xi,clear:function(){Pi(Yr).forEach(_o),Ii.forEach(_o)},getBuffer:function(Gr){return Gr&&Gr._buffer instanceof ri?Gr._buffer:null},restore:vo,_initBuffer:Ui}}var Ki=0,Oa=0,qa=1,da=1,Aa=4,Ps=4,wa={points:Ki,point:Oa,lines:qa,line:da,triangles:Aa,triangle:Ps,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},is=0,Pl=1,F=4,X=5120,ge=5121,_e=5122,Je=5123,tt=5124,gt=5125,_n=34963,Dn=35040,Un=35044;function Mr($e,Jt,Gn,Kr){var Br={},Yr=0,ri={uint8:ge,uint16:Je};Jt.oes_element_index_uint&&(ri.uint32=gt);function Ii(vo){this.id=Yr++,Br[this.id]=this,this.buffer=vo,this.primType=F,this.vertCount=0,this.type=0}Ii.prototype.bind=function(){this.buffer.bind()};var Wi=[];function Xi(vo){var Gr=Wi.pop();return Gr||(Gr=new Ii(Gn.create(null,_n,!0,!1)._buffer)),Ui(Gr,vo,Dn,-1,-1,0,0),Gr}function zi(vo){Wi.push(vo)}function Ui(vo,Gr,li,Ji,Zo,Di,Go){vo.buffer.bind();var Mi;if(Gr){var bo=Go;!Go&&(!M(Gr)||fi(Gr)&&!M(Gr.data))&&(bo=Jt.oes_element_index_uint?gt:Je),Gn._initBuffer(vo.buffer,Gr,li,bo,3)}else $e.bufferData(_n,Di,li),vo.buffer.dtype=Mi||ge,vo.buffer.usage=li,vo.buffer.dimension=3,vo.buffer.byteLength=Di;if(Mi=Go,!Go){switch(vo.buffer.dtype){case ge:case X:Mi=ge;break;case Je:case _e:Mi=Je;break;case gt:case tt:Mi=gt;break;default:ee.raise("unsupported type for element array")}vo.buffer.dtype=Mi}vo.type=Mi,ee(Mi!==gt||!!Jt.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Ci=Zo;Ci<0&&(Ci=vo.buffer.byteLength,Mi===Je?Ci>>=1:Mi===gt&&(Ci>>=2)),vo.vertCount=Ci;var Co=Ji;if(Ji<0){Co=F;var Na=vo.buffer.dimension;Na===1&&(Co=is),Na===2&&(Co=Pl),Na===3&&(Co=F)}vo.primType=Co}function _o(vo){Kr.elementsCount--,ee(vo.buffer!==null,"must not double destroy elements"),delete Br[vo.id],vo.buffer.destroy(),vo.buffer=null}function Vi(vo,Gr){var li=Gn.create(null,_n,!0),Ji=new Ii(li._buffer);Kr.elementsCount++;function Zo(Di){if(!Di)li(),Ji.primType=F,Ji.vertCount=0,Ji.type=ge;else if(typeof Di=="number")li(Di),Ji.primType=F,Ji.vertCount=Di|0,Ji.type=ge;else{var Go=null,Mi=Un,bo=-1,Ci=-1,Co=0,Na=0;Array.isArray(Di)||M(Di)||fi(Di)?Go=Di:(ee.type(Di,"object","invalid arguments for elements"),"data"in Di&&(Go=Di.data,ee(Array.isArray(Go)||M(Go)||fi(Go),"invalid data for element buffer")),"usage"in Di&&(ee.parameter(Di.usage,gi,"invalid element buffer usage"),Mi=gi[Di.usage]),"primitive"in Di&&(ee.parameter(Di.primitive,wa,"invalid element buffer primitive"),bo=wa[Di.primitive]),"count"in Di&&(ee(typeof Di.count=="number"&&Di.count>=0,"invalid vertex count for elements"),Ci=Di.count|0),"type"in Di&&(ee.parameter(Di.type,ri,"invalid buffer type"),Na=ri[Di.type]),"length"in Di?Co=Di.length|0:(Co=Ci,Na===Je||Na===_e?Co*=2:(Na===gt||Na===tt)&&(Co*=4))),Ui(Ji,Go,Mi,bo,Ci,Co,Na)}return Zo}return Zo(vo),Zo._reglType="elements",Zo._elements=Ji,Zo.subdata=function(Di,Go){return li.subdata(Di,Go),Zo},Zo.destroy=function(){_o(Ji)},Zo}return{create:Vi,createStream:Xi,destroyStream:zi,getElements:function(vo){return typeof vo=="function"&&vo._elements instanceof Ii?vo._elements:null},clear:function(){Pi(Br).forEach(_o)}}}var Dr=new Float32Array(1),fr=new Uint32Array(Dr.buffer),Er=5123;function ao($e){for(var Jt=Zt.allocType(Er,$e.length),Gn=0;Gn<$e.length;++Gn)if(isNaN($e[Gn]))Jt[Gn]=65535;else if($e[Gn]===1/0)Jt[Gn]=31744;else if($e[Gn]===-1/0)Jt[Gn]=64512;else{Dr[0]=$e[Gn];var Kr=fr[0],Br=Kr>>>31<<15,Yr=(Kr<<1>>>24)-127,ri=Kr>>13&1023;if(Yr<-24)Jt[Gn]=Br;else if(Yr<-14){var Ii=-14-Yr;Jt[Gn]=Br+(ri+1024>>Ii)}else Yr>15?Jt[Gn]=Br+31744:Jt[Gn]=Br+(Yr+15<<10)+ri}return Jt}function oo($e){return Array.isArray($e)||M($e)}var ba=function($e){return!($e&$e-1)&&!!$e},es=34467,Da=3553,ut=34067,on=34069,xn=6408,cr=6406,mn=6407,Or=6409,ei=6410,Ni=32854,ki=32855,yo=36194,Ro=32819,Lo=32820,Jo=33635,Io=34042,qo=6402,Vo=34041,jo=35904,so=35906,Si=36193,pa=33776,xo=33777,Pa=33778,Fo=33779,Sa=35986,Bo=35987,se=34798,Ye=35840,ft=35841,Ct=35842,nn=35843,yn=36196,Vn=5121,wr=5123,Nr=5125,jr=5126,bi=10242,Hr=10243,_r=10497,Lr=33071,Ar=33648,mi=10240,oi=10241,Pt=9728,cn=9729,Qn=9984,_t=9985,Xt=9986,an=9987,yr=33170,Ur=4352,ci=4353,Yi=4354,ui=34046,go=3317,wo=37440,ji=37441,ko=37443,os=37444,La=33984,Ua=[Qn,Xt,_t,an],cs=[0,Or,ei,mn,xn],sa={};sa[Or]=sa[cr]=sa[qo]=1,sa[Vo]=sa[ei]=2,sa[mn]=sa[jo]=3,sa[xn]=sa[so]=4;function Ka($e){return"[object "+$e+"]"}var Ks=Ka("HTMLCanvasElement"),qs=Ka("OffscreenCanvas"),yl=Ka("CanvasRenderingContext2D"),Ds=Ka("ImageBitmap"),tc=Ka("HTMLImageElement"),Rl=Ka("HTMLVideoElement"),Ca=Object.keys(To).concat([Ks,qs,yl,Ds,tc,Rl]),us=[];us[Vn]=1,us[jr]=4,us[Si]=2,us[wr]=2,us[Nr]=4;var Va=[];Va[Ni]=2,Va[ki]=2,Va[yo]=2,Va[Vo]=4,Va[pa]=.5,Va[xo]=.5,Va[Pa]=1,Va[Fo]=1,Va[Sa]=.5,Va[Bo]=1,Va[se]=1,Va[Ye]=.5,Va[ft]=.25,Va[Ct]=.5,Va[nn]=.25,Va[yn]=.5;function zs($e){return Array.isArray($e)&&($e.length===0||typeof $e[0]=="number")}function Fa($e){if(!Array.isArray($e))return!1;var Jt=$e.length;return!(Jt===0||!oo($e[0]))}function Ys($e){return Object.prototype.toString.call($e)}function Us($e){return Ys($e)===Ks}function _s($e){return Ys($e)===qs}function Tl($e){return Ys($e)===yl}function Bl($e){return Ys($e)===Ds}function Zl($e){return Ys($e)===tc}function Pc($e){return Ys($e)===Rl}function zl($e){if(!$e)return!1;var Jt=Ys($e);return Ca.indexOf(Jt)>=0?!0:zs($e)||Fa($e)||fi($e)}function uc($e){return To[Object.prototype.toString.call($e)]|0}function Uc($e,Jt){var Gn=Jt.length;switch($e.type){case Vn:case wr:case Nr:case jr:var Kr=Zt.allocType($e.type,Gn);Kr.set(Jt),$e.data=Kr;break;case Si:$e.data=ao(Jt);break;default:ee.raise("unsupported texture type, must specify a typed array")}}function nl($e,Jt){return Zt.allocType($e.type===Si?jr:$e.type,Jt)}function bc($e,Jt){$e.type===Si?($e.data=ao(Jt),Zt.freeType(Jt)):$e.data=Jt}function kc($e,Jt,Gn,Kr,Br,Yr){for(var ri=$e.width,Ii=$e.height,Wi=$e.channels,Xi=ri*Ii*Wi,zi=nl($e,Xi),Ui=0,_o=0;_o<Ii;++_o)for(var Vi=0;Vi<ri;++Vi)for(var vo=0;vo<Wi;++vo)zi[Ui++]=Jt[Gn*Vi+Kr*_o+Br*vo+Yr];bc($e,zi)}function ll($e,Jt,Gn,Kr,Br,Yr){var ri;if(typeof Va[$e]!="undefined"?ri=Va[$e]:ri=sa[$e]*us[Jt],Yr&&(ri*=6),Br){for(var Ii=0,Wi=Gn;Wi>=1;)Ii+=ri*Wi*Wi,Wi/=2;return Ii}else return ri*Gn*Kr}function fc($e,Jt,Gn,Kr,Br,Yr,ri){var Ii={"don't care":Ur,"dont care":Ur,nice:Yi,fast:ci},Wi={repeat:_r,clamp:Lr,mirror:Ar},Xi={nearest:Pt,linear:cn},zi=l({mipmap:an,"nearest mipmap nearest":Qn,"linear mipmap nearest":_t,"nearest mipmap linear":Xt,"linear mipmap linear":an},Xi),Ui={none:0,browser:os},_o={uint8:Vn,rgba4:Ro,rgb565:Jo,"rgb5 a1":Lo},Vi={alpha:cr,luminance:Or,"luminance alpha":ei,rgb:mn,rgba:xn,rgba4:Ni,"rgb5 a1":ki,rgb565:yo},vo={};Jt.ext_srgb&&(Vi.srgb=jo,Vi.srgba=so),Jt.oes_texture_float&&(_o.float32=_o.float=jr),Jt.oes_texture_half_float&&(_o.float16=_o["half float"]=Si),Jt.webgl_depth_texture&&(l(Vi,{depth:qo,"depth stencil":Vo}),l(_o,{uint16:wr,uint32:Nr,"depth stencil":Io})),Jt.webgl_compressed_texture_s3tc&&l(vo,{"rgb s3tc dxt1":pa,"rgba s3tc dxt1":xo,"rgba s3tc dxt3":Pa,"rgba s3tc dxt5":Fo}),Jt.webgl_compressed_texture_atc&&l(vo,{"rgb atc":Sa,"rgba atc explicit alpha":Bo,"rgba atc interpolated alpha":se}),Jt.webgl_compressed_texture_pvrtc&&l(vo,{"rgb pvrtc 4bppv1":Ye,"rgb pvrtc 2bppv1":ft,"rgba pvrtc 4bppv1":Ct,"rgba pvrtc 2bppv1":nn}),Jt.webgl_compressed_texture_etc1&&(vo["rgb etc1"]=yn);var Gr=Array.prototype.slice.call($e.getParameter(es));Object.keys(vo).forEach(function(Tn){var er=vo[Tn];Gr.indexOf(er)>=0&&(Vi[Tn]=er)});var li=Object.keys(Vi);Gn.textureFormats=li;var Ji=[];Object.keys(Vi).forEach(function(Tn){var er=Vi[Tn];Ji[er]=Tn});var Zo=[];Object.keys(_o).forEach(function(Tn){var er=_o[Tn];Zo[er]=Tn});var Di=[];Object.keys(Xi).forEach(function(Tn){var er=Xi[Tn];Di[er]=Tn});var Go=[];Object.keys(zi).forEach(function(Tn){var er=zi[Tn];Go[er]=Tn});var Mi=[];Object.keys(Wi).forEach(function(Tn){var er=Wi[Tn];Mi[er]=Tn});var bo=li.reduce(function(Tn,er){var Xr=Vi[er];return Xr===Or||Xr===cr||Xr===Or||Xr===ei||Xr===qo||Xr===Vo||Jt.ext_srgb&&(Xr===jo||Xr===so)?Tn[Xr]=Xr:Xr===ki||er.indexOf("rgba")>=0?Tn[Xr]=xn:Tn[Xr]=mn,Tn},{});function Ci(){this.internalformat=xn,this.format=xn,this.type=Vn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=os,this.width=0,this.height=0,this.channels=0}function Co(Tn,er){Tn.internalformat=er.internalformat,Tn.format=er.format,Tn.type=er.type,Tn.compressed=er.compressed,Tn.premultiplyAlpha=er.premultiplyAlpha,Tn.flipY=er.flipY,Tn.unpackAlignment=er.unpackAlignment,Tn.colorSpace=er.colorSpace,Tn.width=er.width,Tn.height=er.height,Tn.channels=er.channels}function Na(Tn,er){if(!(typeof er!="object"||!er)){if("premultiplyAlpha"in er&&(ee.type(er.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),Tn.premultiplyAlpha=er.premultiplyAlpha),"flipY"in er&&(ee.type(er.flipY,"boolean","invalid texture flip"),Tn.flipY=er.flipY),"alignment"in er&&(ee.oneOf(er.alignment,[1,2,4,8],"invalid texture unpack alignment"),Tn.unpackAlignment=er.alignment),"colorSpace"in er&&(ee.parameter(er.colorSpace,Ui,"invalid colorSpace"),Tn.colorSpace=Ui[er.colorSpace]),"type"in er){var Xr=er.type;ee(Jt.oes_texture_float||!(Xr==="float"||Xr==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),ee(Jt.oes_texture_half_float||!(Xr==="half float"||Xr==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ee(Jt.webgl_depth_texture||!(Xr==="uint16"||Xr==="uint32"||Xr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ee.parameter(Xr,_o,"invalid texture type"),Tn.type=_o[Xr]}var na=Tn.width,Rs=Tn.height,fn=Tn.channels,Ut=!1;"shape"in er?(ee(Array.isArray(er.shape)&&er.shape.length>=2,"shape must be an array"),na=er.shape[0],Rs=er.shape[1],er.shape.length===3&&(fn=er.shape[2],ee(fn>0&&fn<=4,"invalid number of channels"),Ut=!0),ee(na>=0&&na<=Gn.maxTextureSize,"invalid width"),ee(Rs>=0&&Rs<=Gn.maxTextureSize,"invalid height")):("radius"in er&&(na=Rs=er.radius,ee(na>=0&&na<=Gn.maxTextureSize,"invalid radius")),"width"in er&&(na=er.width,ee(na>=0&&na<=Gn.maxTextureSize,"invalid width")),"height"in er&&(Rs=er.height,ee(Rs>=0&&Rs<=Gn.maxTextureSize,"invalid height")),"channels"in er&&(fn=er.channels,ee(fn>0&&fn<=4,"invalid number of channels"),Ut=!0)),Tn.width=na|0,Tn.height=Rs|0,Tn.channels=fn|0;var tr=!1;if("format"in er){var Rr=er.format;ee(Jt.webgl_depth_texture||!(Rr==="depth"||Rr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ee.parameter(Rr,Vi,"invalid texture format");var Fr=Tn.internalformat=Vi[Rr];Tn.format=bo[Fr],Rr in _o&&("type"in er||(Tn.type=_o[Rr])),Rr in vo&&(Tn.compressed=!0),tr=!0}!Ut&&tr?Tn.channels=sa[Tn.format]:Ut&&!tr?Tn.channels!==cs[Tn.format]&&(Tn.format=Tn.internalformat=cs[Tn.channels]):tr&&Ut&&ee(Tn.channels===sa[Tn.format],"number of channels inconsistent with specified format")}}function gs(Tn){$e.pixelStorei(wo,Tn.flipY),$e.pixelStorei(ji,Tn.premultiplyAlpha),$e.pixelStorei(ko,Tn.colorSpace),$e.pixelStorei(go,Tn.unpackAlignment)}function Eo(){Ci.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function no(Tn,er){var Xr=null;if(zl(er)?Xr=er:er&&(ee.type(er,"object","invalid pixel data type"),Na(Tn,er),"x"in er&&(Tn.xOffset=er.x|0),"y"in er&&(Tn.yOffset=er.y|0),zl(er.data)&&(Xr=er.data)),ee(!Tn.compressed||Xr instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),er.copy){ee(!Xr,"can not specify copy and data field for the same texture");var na=Br.viewportWidth,Rs=Br.viewportHeight;Tn.width=Tn.width||na-Tn.xOffset,Tn.height=Tn.height||Rs-Tn.yOffset,Tn.needsCopy=!0,ee(Tn.xOffset>=0&&Tn.xOffset<na&&Tn.yOffset>=0&&Tn.yOffset<Rs&&Tn.width>0&&Tn.width<=na&&Tn.height>0&&Tn.height<=Rs,"copy texture read out of bounds")}else if(!Xr)Tn.width=Tn.width||1,Tn.height=Tn.height||1,Tn.channels=Tn.channels||4;else if(M(Xr))Tn.channels=Tn.channels||4,Tn.data=Xr,!("type"in er)&&Tn.type===Vn&&(Tn.type=uc(Xr));else if(zs(Xr))Tn.channels=Tn.channels||4,Uc(Tn,Xr),Tn.alignment=1,Tn.needsFree=!0;else if(fi(Xr)){var fn=Xr.data;!Array.isArray(fn)&&Tn.type===Vn&&(Tn.type=uc(fn));var Ut=Xr.shape,tr=Xr.stride,Rr,Fr,ar,Jn,vr,Qt;Ut.length===3?(ar=Ut[2],Qt=tr[2]):(ee(Ut.length===2,"invalid ndarray pixel data, must be 2 or 3D"),ar=1,Qt=1),Rr=Ut[0],Fr=Ut[1],Jn=tr[0],vr=tr[1],Tn.alignment=1,Tn.width=Rr,Tn.height=Fr,Tn.channels=ar,Tn.format=Tn.internalformat=cs[ar],Tn.needsFree=!0,kc(Tn,fn,Jn,vr,Qt,Xr.offset)}else if(Us(Xr)||_s(Xr)||Tl(Xr))Us(Xr)||_s(Xr)?Tn.element=Xr:Tn.element=Xr.canvas,Tn.width=Tn.element.width,Tn.height=Tn.element.height,Tn.channels=4;else if(Bl(Xr))Tn.element=Xr,Tn.width=Xr.width,Tn.height=Xr.height,Tn.channels=4;else if(Zl(Xr))Tn.element=Xr,Tn.width=Xr.naturalWidth,Tn.height=Xr.naturalHeight,Tn.channels=4;else if(Pc(Xr))Tn.element=Xr,Tn.width=Xr.videoWidth,Tn.height=Xr.videoHeight,Tn.channels=4;else if(Fa(Xr)){var Zn=Tn.width||Xr[0].length,ln=Tn.height||Xr.length,mr=Tn.channels;oo(Xr[0][0])?mr=mr||Xr[0][0].length:mr=mr||1;for(var Zr=Qi.shape(Xr),pi=1,vi=0;vi<Zr.length;++vi)pi*=Zr[vi];var Jr=nl(Tn,pi);Qi.flatten(Xr,Zr,"",Jr),bc(Tn,Jr),Tn.alignment=1,Tn.width=Zn,Tn.height=ln,Tn.channels=mr,Tn.format=Tn.internalformat=cs[mr],Tn.needsFree=!0}Tn.type===jr?ee(Gn.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):Tn.type===Si&&ee(Gn.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Oi(Tn,er,Xr){var na=Tn.element,Rs=Tn.data,fn=Tn.internalformat,Ut=Tn.format,tr=Tn.type,Rr=Tn.width,Fr=Tn.height;gs(Tn),na?$e.texImage2D(er,Xr,Ut,Ut,tr,na):Tn.compressed?$e.compressedTexImage2D(er,Xr,fn,Rr,Fr,0,Rs):Tn.needsCopy?(Kr(),$e.copyTexImage2D(er,Xr,Ut,Tn.xOffset,Tn.yOffset,Rr,Fr,0)):$e.texImage2D(er,Xr,Ut,Rr,Fr,0,Ut,tr,Rs||null)}function Xa(Tn,er,Xr,na,Rs){var fn=Tn.element,Ut=Tn.data,tr=Tn.internalformat,Rr=Tn.format,Fr=Tn.type,ar=Tn.width,Jn=Tn.height;gs(Tn),fn?$e.texSubImage2D(er,Rs,Xr,na,Rr,Fr,fn):Tn.compressed?$e.compressedTexSubImage2D(er,Rs,Xr,na,tr,ar,Jn,Ut):Tn.needsCopy?(Kr(),$e.copyTexSubImage2D(er,Rs,Xr,na,Tn.xOffset,Tn.yOffset,ar,Jn)):$e.texSubImage2D(er,Rs,Xr,na,ar,Jn,Rr,Fr,Ut)}var Es=[];function la(){return Es.pop()||new Eo}function Zs(Tn){Tn.needsFree&&Zt.freeType(Tn.data),Eo.call(Tn),Es.push(Tn)}function vs(){Ci.call(this),this.genMipmaps=!1,this.mipmapHint=Ur,this.mipmask=0,this.images=Array(16)}function Os(Tn,er,Xr){var na=Tn.images[0]=la();Tn.mipmask=1,na.width=Tn.width=er,na.height=Tn.height=Xr,na.channels=Tn.channels=4}function hl(Tn,er){var Xr=null;if(zl(er))Xr=Tn.images[0]=la(),Co(Xr,Tn),no(Xr,er),Tn.mipmask=1;else if(Na(Tn,er),Array.isArray(er.mipmap))for(var na=er.mipmap,Rs=0;Rs<na.length;++Rs)Xr=Tn.images[Rs]=la(),Co(Xr,Tn),Xr.width>>=Rs,Xr.height>>=Rs,no(Xr,na[Rs]),Tn.mipmask|=1<<Rs;else Xr=Tn.images[0]=la(),Co(Xr,Tn),no(Xr,er),Tn.mipmask=1;Co(Tn,Tn.images[0]),Tn.compressed&&(Tn.internalformat===pa||Tn.internalformat===xo||Tn.internalformat===Pa||Tn.internalformat===Fo)&&ee(Tn.width%4===0&&Tn.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Wc(Tn,er){for(var Xr=Tn.images,na=0;na<Xr.length;++na){if(!Xr[na])return;Oi(Xr[na],er,na)}}var Bc=[];function Ns(){var Tn=Bc.pop()||new vs;Ci.call(Tn),Tn.mipmask=0;for(var er=0;er<16;++er)Tn.images[er]=null;return Tn}function Rc(Tn){for(var er=Tn.images,Xr=0;Xr<er.length;++Xr)er[Xr]&&Zs(er[Xr]),er[Xr]=null;Bc.push(Tn)}function sl(){this.minFilter=Pt,this.magFilter=Pt,this.wrapS=Lr,this.wrapT=Lr,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Ur}function jl(Tn,er){if("min"in er){var Xr=er.min;ee.parameter(Xr,zi),Tn.minFilter=zi[Xr],Ua.indexOf(Tn.minFilter)>=0&&!("faces"in er)&&(Tn.genMipmaps=!0)}if("mag"in er){var na=er.mag;ee.parameter(na,Xi),Tn.magFilter=Xi[na]}var Rs=Tn.wrapS,fn=Tn.wrapT;if("wrap"in er){var Ut=er.wrap;typeof Ut=="string"?(ee.parameter(Ut,Wi),Rs=fn=Wi[Ut]):Array.isArray(Ut)&&(ee.parameter(Ut[0],Wi),ee.parameter(Ut[1],Wi),Rs=Wi[Ut[0]],fn=Wi[Ut[1]])}else{if("wrapS"in er){var tr=er.wrapS;ee.parameter(tr,Wi),Rs=Wi[tr]}if("wrapT"in er){var Rr=er.wrapT;ee.parameter(Rr,Wi),fn=Wi[Rr]}}if(Tn.wrapS=Rs,Tn.wrapT=fn,"anisotropic"in er){var Fr=er.anisotropic;ee(typeof Fr=="number"&&Fr>=1&&Fr<=Gn.maxAnisotropic,"aniso samples must be between 1 and "),Tn.anisotropic=er.anisotropic}if("mipmap"in er){var ar=!1;switch(typeof er.mipmap){case"string":ee.parameter(er.mipmap,Ii,"invalid mipmap hint"),Tn.mipmapHint=Ii[er.mipmap],Tn.genMipmaps=!0,ar=!0;break;case"boolean":ar=Tn.genMipmaps=er.mipmap;break;case"object":ee(Array.isArray(er.mipmap),"invalid mipmap type"),Tn.genMipmaps=!1,ar=!0;break;default:ee.raise("invalid mipmap type")}ar&&!("min"in er)&&(Tn.minFilter=Qn)}}function xc(Tn,er){$e.texParameteri(er,oi,Tn.minFilter),$e.texParameteri(er,mi,Tn.magFilter),$e.texParameteri(er,bi,Tn.wrapS),$e.texParameteri(er,Hr,Tn.wrapT),Jt.ext_texture_filter_anisotropic&&$e.texParameteri(er,ui,Tn.anisotropic),Tn.genMipmaps&&($e.hint(yr,Tn.mipmapHint),$e.generateMipmap(er))}var Al=0,vc={},Ic=Gn.maxTextureUnits,Hc=Array(Ic).map(function(){return null});function ws(Tn){Ci.call(this),this.mipmask=0,this.internalformat=xn,this.id=Al++,this.refCount=1,this.target=Tn,this.texture=$e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new sl,ri.profile&&(this.stats={size:0})}function Tu(Tn){$e.activeTexture(La),$e.bindTexture(Tn.target,Tn.texture)}function Dl(){var Tn=Hc[0];Tn?$e.bindTexture(Tn.target,Tn.texture):$e.bindTexture(Da,null)}function za(Tn){var er=Tn.texture;ee(er,"must not double destroy texture");var Xr=Tn.unit,na=Tn.target;Xr>=0&&($e.activeTexture(La+Xr),$e.bindTexture(na,null),Hc[Xr]=null),$e.deleteTexture(er),Tn.texture=null,Tn.params=null,Tn.pixels=null,Tn.refCount=0,delete vc[Tn.id],Yr.textureCount--}l(ws.prototype,{bind:function(){var Tn=this;Tn.bindCount+=1;var er=Tn.unit;if(er<0){for(var Xr=0;Xr<Ic;++Xr){var na=Hc[Xr];if(na){if(na.bindCount>0)continue;na.unit=-1}Hc[Xr]=Tn,er=Xr;break}er>=Ic&&ee.raise("insufficient number of texture units"),ri.profile&&Yr.maxTextureUnits<er+1&&(Yr.maxTextureUnits=er+1),Tn.unit=er,$e.activeTexture(La+er),$e.bindTexture(Tn.target,Tn.texture)}return er},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&za(this)}});function js(Tn,er){var Xr=new ws(Da);vc[Xr.id]=Xr,Yr.textureCount++;function na(Ut,tr){var Rr=Xr.texInfo;sl.call(Rr);var Fr=Ns();return typeof Ut=="number"?typeof tr=="number"?Os(Fr,Ut|0,tr|0):Os(Fr,Ut|0,Ut|0):Ut?(ee.type(Ut,"object","invalid arguments to regl.texture"),jl(Rr,Ut),hl(Fr,Ut)):Os(Fr,1,1),Rr.genMipmaps&&(Fr.mipmask=(Fr.width<<1)-1),Xr.mipmask=Fr.mipmask,Co(Xr,Fr),ee.texture2D(Rr,Fr,Gn),Xr.internalformat=Fr.internalformat,na.width=Fr.width,na.height=Fr.height,Tu(Xr),Wc(Fr,Da),xc(Rr,Da),Dl(),Rc(Fr),ri.profile&&(Xr.stats.size=ll(Xr.internalformat,Xr.type,Fr.width,Fr.height,Rr.genMipmaps,!1)),na.format=Ji[Xr.internalformat],na.type=Zo[Xr.type],na.mag=Di[Rr.magFilter],na.min=Go[Rr.minFilter],na.wrapS=Mi[Rr.wrapS],na.wrapT=Mi[Rr.wrapT],na}function Rs(Ut,tr,Rr,Fr){ee(!!Ut,"must specify image data");var ar=tr|0,Jn=Rr|0,vr=Fr|0,Qt=la();return Co(Qt,Xr),Qt.width=0,Qt.height=0,no(Qt,Ut),Qt.width=Qt.width||(Xr.width>>vr)-ar,Qt.height=Qt.height||(Xr.height>>vr)-Jn,ee(Xr.type===Qt.type&&Xr.format===Qt.format&&Xr.internalformat===Qt.internalformat,"incompatible format for texture.subimage"),ee(ar>=0&&Jn>=0&&ar+Qt.width<=Xr.width&&Jn+Qt.height<=Xr.height,"texture.subimage write out of bounds"),ee(Xr.mipmask&1<<vr,"missing mipmap data"),ee(Qt.data||Qt.element||Qt.needsCopy,"missing image data"),Tu(Xr),Xa(Qt,Da,ar,Jn,vr),Dl(),Zs(Qt),na}function fn(Ut,tr){var Rr=Ut|0,Fr=tr|0||Rr;if(Rr===Xr.width&&Fr===Xr.height)return na;na.width=Xr.width=Rr,na.height=Xr.height=Fr,Tu(Xr);for(var ar=0;Xr.mipmask>>ar;++ar){var Jn=Rr>>ar,vr=Fr>>ar;if(!Jn||!vr)break;$e.texImage2D(Da,ar,Xr.format,Jn,vr,0,Xr.format,Xr.type,null)}return Dl(),ri.profile&&(Xr.stats.size=ll(Xr.internalformat,Xr.type,Rr,Fr,!1,!1)),na}return na(Tn,er),na.subimage=Rs,na.resize=fn,na._reglType="texture2d",na._texture=Xr,ri.profile&&(na.stats=Xr.stats),na.destroy=function(){Xr.decRef()},na}function pl(Tn,er,Xr,na,Rs,fn){var Ut=new ws(ut);vc[Ut.id]=Ut,Yr.cubeCount++;var tr=new Array(6);function Rr(Jn,vr,Qt,Zn,ln,mr){var Zr,pi=Ut.texInfo;for(sl.call(pi),Zr=0;Zr<6;++Zr)tr[Zr]=Ns();if(typeof Jn=="number"||!Jn){var vi=Jn|0||1;for(Zr=0;Zr<6;++Zr)Os(tr[Zr],vi,vi)}else if(typeof Jn=="object")if(vr)hl(tr[0],Jn),hl(tr[1],vr),hl(tr[2],Qt),hl(tr[3],Zn),hl(tr[4],ln),hl(tr[5],mr);else if(jl(pi,Jn),Na(Ut,Jn),"faces"in Jn){var Jr=Jn.faces;for(ee(Array.isArray(Jr)&&Jr.length===6,"cube faces must be a length 6 array"),Zr=0;Zr<6;++Zr)ee(typeof Jr[Zr]=="object"&&!!Jr[Zr],"invalid input for cube map face"),Co(tr[Zr],Ut),hl(tr[Zr],Jr[Zr])}else for(Zr=0;Zr<6;++Zr)hl(tr[Zr],Jn);else ee.raise("invalid arguments to cube map");for(Co(Ut,tr[0]),Gn.npotTextureCube||ee(ba(Ut.width)&&ba(Ut.height),"your browser does not support non power or two texture dimensions"),pi.genMipmaps?Ut.mipmask=(tr[0].width<<1)-1:Ut.mipmask=tr[0].mipmask,ee.textureCube(Ut,pi,tr,Gn),Ut.internalformat=tr[0].internalformat,Rr.width=tr[0].width,Rr.height=tr[0].height,Tu(Ut),Zr=0;Zr<6;++Zr)Wc(tr[Zr],on+Zr);for(xc(pi,ut),Dl(),ri.profile&&(Ut.stats.size=ll(Ut.internalformat,Ut.type,Rr.width,Rr.height,pi.genMipmaps,!0)),Rr.format=Ji[Ut.internalformat],Rr.type=Zo[Ut.type],Rr.mag=Di[pi.magFilter],Rr.min=Go[pi.minFilter],Rr.wrapS=Mi[pi.wrapS],Rr.wrapT=Mi[pi.wrapT],Zr=0;Zr<6;++Zr)Rc(tr[Zr]);return Rr}function Fr(Jn,vr,Qt,Zn,ln){ee(!!vr,"must specify image data"),ee(typeof Jn=="number"&&Jn===(Jn|0)&&Jn>=0&&Jn<6,"invalid face");var mr=Qt|0,Zr=Zn|0,pi=ln|0,vi=la();return Co(vi,Ut),vi.width=0,vi.height=0,no(vi,vr),vi.width=vi.width||(Ut.width>>pi)-mr,vi.height=vi.height||(Ut.height>>pi)-Zr,ee(Ut.type===vi.type&&Ut.format===vi.format&&Ut.internalformat===vi.internalformat,"incompatible format for texture.subimage"),ee(mr>=0&&Zr>=0&&mr+vi.width<=Ut.width&&Zr+vi.height<=Ut.height,"texture.subimage write out of bounds"),ee(Ut.mipmask&1<<pi,"missing mipmap data"),ee(vi.data||vi.element||vi.needsCopy,"missing image data"),Tu(Ut),Xa(vi,on+Jn,mr,Zr,pi),Dl(),Zs(vi),Rr}function ar(Jn){var vr=Jn|0;if(vr!==Ut.width){Rr.width=Ut.width=vr,Rr.height=Ut.height=vr,Tu(Ut);for(var Qt=0;Qt<6;++Qt)for(var Zn=0;Ut.mipmask>>Zn;++Zn)$e.texImage2D(on+Qt,Zn,Ut.format,vr>>Zn,vr>>Zn,0,Ut.format,Ut.type,null);return Dl(),ri.profile&&(Ut.stats.size=ll(Ut.internalformat,Ut.type,Rr.width,Rr.height,!1,!0)),Rr}}return Rr(Tn,er,Xr,na,Rs,fn),Rr.subimage=Fr,Rr.resize=ar,Rr._reglType="textureCube",Rr._texture=Ut,ri.profile&&(Rr.stats=Ut.stats),Rr.destroy=function(){Ut.decRef()},Rr}function Kc(){for(var Tn=0;Tn<Ic;++Tn)$e.activeTexture(La+Tn),$e.bindTexture(Da,null),Hc[Tn]=null;Pi(vc).forEach(za),Yr.cubeCount=0,Yr.textureCount=0}ri.profile&&(Yr.getTotalTextureSize=function(){var Tn=0;return Object.keys(vc).forEach(function(er){Tn+=vc[er].stats.size}),Tn});function nd(){for(var Tn=0;Tn<Ic;++Tn){var er=Hc[Tn];er&&(er.bindCount=0,er.unit=-1,Hc[Tn]=null)}Pi(vc).forEach(function(Xr){Xr.texture=$e.createTexture(),$e.bindTexture(Xr.target,Xr.texture);for(var na=0;na<32;++na)if(Xr.mipmask&1<<na)if(Xr.target===Da)$e.texImage2D(Da,na,Xr.internalformat,Xr.width>>na,Xr.height>>na,0,Xr.internalformat,Xr.type,null);else for(var Rs=0;Rs<6;++Rs)$e.texImage2D(on+Rs,na,Xr.internalformat,Xr.width>>na,Xr.height>>na,0,Xr.internalformat,Xr.type,null);xc(Xr.texInfo,Xr.target)})}function Pd(){for(var Tn=0;Tn<Ic;++Tn){var er=Hc[Tn];er&&(er.bindCount=0,er.unit=-1,Hc[Tn]=null),$e.activeTexture(La+Tn),$e.bindTexture(Da,null),$e.bindTexture(ut,null)}}return{create2D:js,createCube:pl,clear:Kc,getTexture:function(Tn){return null},restore:nd,refresh:Pd}}var bl=36161,Ha=32854,Ts=32855,Yl=36194,nc=33189,Ol=36168,Wl=34041,sc=35907,Cl=34836,cl=34842,bs=34843,Ia=[];Ia[Ha]=2,Ia[Ts]=2,Ia[Yl]=2,Ia[nc]=2,Ia[Ol]=1,Ia[Wl]=4,Ia[sc]=4,Ia[Cl]=16,Ia[cl]=8,Ia[bs]=6;function ta($e,Jt,Gn){return Ia[$e]*Jt*Gn}var Bs=function($e,Jt,Gn,Kr,Br){var Yr={rgba4:Ha,rgb565:Yl,"rgb5 a1":Ts,depth:nc,stencil:Ol,"depth stencil":Wl};Jt.ext_srgb&&(Yr.srgba=sc),Jt.ext_color_buffer_half_float&&(Yr.rgba16f=cl,Yr.rgb16f=bs),Jt.webgl_color_buffer_float&&(Yr.rgba32f=Cl);var ri=[];Object.keys(Yr).forEach(function(Vi){var vo=Yr[Vi];ri[vo]=Vi});var Ii=0,Wi={};function Xi(Vi){this.id=Ii++,this.refCount=1,this.renderbuffer=Vi,this.format=Ha,this.width=0,this.height=0,Br.profile&&(this.stats={size:0})}Xi.prototype.decRef=function(){--this.refCount<=0&&zi(this)};function zi(Vi){var vo=Vi.renderbuffer;ee(vo,"must not double destroy renderbuffer"),$e.bindRenderbuffer(bl,null),$e.deleteRenderbuffer(vo),Vi.renderbuffer=null,Vi.refCount=0,delete Wi[Vi.id],Kr.renderbufferCount--}function Ui(Vi,vo){var Gr=new Xi($e.createRenderbuffer());Wi[Gr.id]=Gr,Kr.renderbufferCount++;function li(Zo,Di){var Go=0,Mi=0,bo=Ha;if(typeof Zo=="object"&&Zo){var Ci=Zo;if("shape"in Ci){var Co=Ci.shape;ee(Array.isArray(Co)&&Co.length>=2,"invalid renderbuffer shape"),Go=Co[0]|0,Mi=Co[1]|0}else"radius"in Ci&&(Go=Mi=Ci.radius|0),"width"in Ci&&(Go=Ci.width|0),"height"in Ci&&(Mi=Ci.height|0);"format"in Ci&&(ee.parameter(Ci.format,Yr,"invalid renderbuffer format"),bo=Yr[Ci.format])}else typeof Zo=="number"?(Go=Zo|0,typeof Di=="number"?Mi=Di|0:Mi=Go):Zo?ee.raise("invalid arguments to renderbuffer constructor"):Go=Mi=1;if(ee(Go>0&&Mi>0&&Go<=Gn.maxRenderbufferSize&&Mi<=Gn.maxRenderbufferSize,"invalid renderbuffer size"),!(Go===Gr.width&&Mi===Gr.height&&bo===Gr.format))return li.width=Gr.width=Go,li.height=Gr.height=Mi,Gr.format=bo,$e.bindRenderbuffer(bl,Gr.renderbuffer),$e.renderbufferStorage(bl,bo,Go,Mi),ee($e.getError()===0,"invalid render buffer format"),Br.profile&&(Gr.stats.size=ta(Gr.format,Gr.width,Gr.height)),li.format=ri[Gr.format],li}function Ji(Zo,Di){var Go=Zo|0,Mi=Di|0||Go;return Go===Gr.width&&Mi===Gr.height||(ee(Go>0&&Mi>0&&Go<=Gn.maxRenderbufferSize&&Mi<=Gn.maxRenderbufferSize,"invalid renderbuffer size"),li.width=Gr.width=Go,li.height=Gr.height=Mi,$e.bindRenderbuffer(bl,Gr.renderbuffer),$e.renderbufferStorage(bl,Gr.format,Go,Mi),ee($e.getError()===0,"invalid render buffer format"),Br.profile&&(Gr.stats.size=ta(Gr.format,Gr.width,Gr.height))),li}return li(Vi,vo),li.resize=Ji,li._reglType="renderbuffer",li._renderbuffer=Gr,Br.profile&&(li.stats=Gr.stats),li.destroy=function(){Gr.decRef()},li}Br.profile&&(Kr.getTotalRenderbufferSize=function(){var Vi=0;return Object.keys(Wi).forEach(function(vo){Vi+=Wi[vo].stats.size}),Vi});function _o(){Pi(Wi).forEach(function(Vi){Vi.renderbuffer=$e.createRenderbuffer(),$e.bindRenderbuffer(bl,Vi.renderbuffer),$e.renderbufferStorage(bl,Vi.format,Vi.width,Vi.height)}),$e.bindRenderbuffer(bl,null)}return{create:Ui,clear:function(){Pi(Wi).forEach(zi)},restore:_o}},ts=36160,Cs=36161,Ul=3553,Lc=34069,rl=36064,Du=36096,Vc=36128,dc=33306,ul=36053,yt=36054,Ga=36055,fl=36057,ps=36061,fs=36193,Nu=5121,qu=5126,jc=6407,lc=6408,af=6402,Af=[jc,lc],ju=[];ju[lc]=4,ju[jc]=3;var il=[];il[Nu]=1,il[qu]=4,il[fs]=2;var Ws=32854,Ya=32855,Vl=36194,ds=33189,Za=36168,xl=34041,yu=35907,ef=34836,iu=34842,Xl=34843,Xo=[Ws,Ya,Vl,yu,iu,Xl,ef],$u={};$u[ul]="complete",$u[yt]="incomplete attachment",$u[fl]="incomplete dimensions",$u[Ga]="incomplete, missing attachment",$u[ps]="unsupported";function Uf($e,Jt,Gn,Kr,Br,Yr){var ri={cur:null,next:null,dirty:!1,setFBO:null},Ii=["rgba"],Wi=["rgba4","rgb565","rgb5 a1"];Jt.ext_srgb&&Wi.push("srgba"),Jt.ext_color_buffer_half_float&&Wi.push("rgba16f","rgb16f"),Jt.webgl_color_buffer_float&&Wi.push("rgba32f");var Xi=["uint8"];Jt.oes_texture_half_float&&Xi.push("half float","float16"),Jt.oes_texture_float&&Xi.push("float","float32");function zi(Eo,no,Oi){this.target=Eo,this.texture=no,this.renderbuffer=Oi;var Xa=0,Es=0;no?(Xa=no.width,Es=no.height):Oi&&(Xa=Oi.width,Es=Oi.height),this.width=Xa,this.height=Es}function Ui(Eo){Eo&&(Eo.texture&&Eo.texture._texture.decRef(),Eo.renderbuffer&&Eo.renderbuffer._renderbuffer.decRef())}function _o(Eo,no,Oi){if(Eo)if(Eo.texture){var Xa=Eo.texture._texture,Es=Math.max(1,Xa.width),la=Math.max(1,Xa.height);ee(Es===no&&la===Oi,"inconsistent width/height for supplied texture"),Xa.refCount+=1}else{var Zs=Eo.renderbuffer._renderbuffer;ee(Zs.width===no&&Zs.height===Oi,"inconsistent width/height for renderbuffer"),Zs.refCount+=1}}function Vi(Eo,no){no&&(no.texture?$e.framebufferTexture2D(ts,Eo,no.target,no.texture._texture.texture,0):$e.framebufferRenderbuffer(ts,Eo,Cs,no.renderbuffer._renderbuffer.renderbuffer))}function vo(Eo){var no=Ul,Oi=null,Xa=null,Es=Eo;typeof Eo=="object"&&(Es=Eo.data,"target"in Eo&&(no=Eo.target|0)),ee.type(Es,"function","invalid attachment data");var la=Es._reglType;return la==="texture2d"?(Oi=Es,ee(no===Ul)):la==="textureCube"?(Oi=Es,ee(no>=Lc&&no<Lc+6,"invalid cube map target")):la==="renderbuffer"?(Xa=Es,no=Cs):ee.raise("invalid regl object for attachment"),new zi(no,Oi,Xa)}function Gr(Eo,no,Oi,Xa,Es){if(Oi){var la=Kr.create2D({width:Eo,height:no,format:Xa,type:Es});return la._texture.refCount=0,new zi(Ul,la,null)}else{var Zs=Br.create({width:Eo,height:no,format:Xa});return Zs._renderbuffer.refCount=0,new zi(Cs,null,Zs)}}function li(Eo){return Eo&&(Eo.texture||Eo.renderbuffer)}function Ji(Eo,no,Oi){Eo&&(Eo.texture?Eo.texture.resize(no,Oi):Eo.renderbuffer&&Eo.renderbuffer.resize(no,Oi),Eo.width=no,Eo.height=Oi)}var Zo=0,Di={};function Go(){this.id=Zo++,Di[this.id]=this,this.framebuffer=$e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Mi(Eo){Eo.colorAttachments.forEach(Ui),Ui(Eo.depthAttachment),Ui(Eo.stencilAttachment),Ui(Eo.depthStencilAttachment)}function bo(Eo){var no=Eo.framebuffer;ee(no,"must not double destroy framebuffer"),$e.deleteFramebuffer(no),Eo.framebuffer=null,Yr.framebufferCount--,delete Di[Eo.id]}function Ci(Eo){var no;$e.bindFramebuffer(ts,Eo.framebuffer);var Oi=Eo.colorAttachments;for(no=0;no<Oi.length;++no)Vi(rl+no,Oi[no]);for(no=Oi.length;no<Gn.maxColorAttachments;++no)$e.framebufferTexture2D(ts,rl+no,Ul,null,0);$e.framebufferTexture2D(ts,dc,Ul,null,0),$e.framebufferTexture2D(ts,Du,Ul,null,0),$e.framebufferTexture2D(ts,Vc,Ul,null,0),Vi(Du,Eo.depthAttachment),Vi(Vc,Eo.stencilAttachment),Vi(dc,Eo.depthStencilAttachment);var Xa=$e.checkFramebufferStatus(ts);!$e.isContextLost()&&Xa!==ul&&ee.raise("framebuffer configuration not supported, status = "+$u[Xa]),$e.bindFramebuffer(ts,ri.next?ri.next.framebuffer:null),ri.cur=ri.next,$e.getError()}function Co(Eo,no){var Oi=new Go;Yr.framebufferCount++;function Xa(la,Zs){var vs;ee(ri.next!==Oi,"can not update framebuffer which is currently in use");var Os=0,hl=0,Wc=!0,Bc=!0,Ns=null,Rc=!0,sl="rgba",jl="uint8",xc=1,Al=null,vc=null,Ic=null,Hc=!1;if(typeof la=="number")Os=la|0,hl=Zs|0||Os;else if(!la)Os=hl=1;else{ee.type(la,"object","invalid arguments for framebuffer");var ws=la;if("shape"in ws){var Tu=ws.shape;ee(Array.isArray(Tu)&&Tu.length>=2,"invalid shape for framebuffer"),Os=Tu[0],hl=Tu[1]}else"radius"in ws&&(Os=hl=ws.radius),"width"in ws&&(Os=ws.width),"height"in ws&&(hl=ws.height);("color"in ws||"colors"in ws)&&(Ns=ws.color||ws.colors,Array.isArray(Ns)&&ee(Ns.length===1||Jt.webgl_draw_buffers,"multiple render targets not supported")),Ns||("colorCount"in ws&&(xc=ws.colorCount|0,ee(xc>0,"invalid color buffer count")),"colorTexture"in ws&&(Rc=!!ws.colorTexture,sl="rgba4"),"colorType"in ws&&(jl=ws.colorType,Rc?(ee(Jt.oes_texture_float||!(jl==="float"||jl==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ee(Jt.oes_texture_half_float||!(jl==="half float"||jl==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):jl==="half float"||jl==="float16"?(ee(Jt.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),sl="rgba16f"):(jl==="float"||jl==="float32")&&(ee(Jt.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),sl="rgba32f"),ee.oneOf(jl,Xi,"invalid color type")),"colorFormat"in ws&&(sl=ws.colorFormat,Ii.indexOf(sl)>=0?Rc=!0:Wi.indexOf(sl)>=0?Rc=!1:Rc?ee.oneOf(ws.colorFormat,Ii,"invalid color format for texture"):ee.oneOf(ws.colorFormat,Wi,"invalid color format for renderbuffer"))),("depthTexture"in ws||"depthStencilTexture"in ws)&&(Hc=!!(ws.depthTexture||ws.depthStencilTexture),ee(!Hc||Jt.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in ws&&(typeof ws.depth=="boolean"?Wc=ws.depth:(Al=ws.depth,Bc=!1)),"stencil"in ws&&(typeof ws.stencil=="boolean"?Bc=ws.stencil:(vc=ws.stencil,Wc=!1)),"depthStencil"in ws&&(typeof ws.depthStencil=="boolean"?Wc=Bc=ws.depthStencil:(Ic=ws.depthStencil,Wc=!1,Bc=!1))}var Dl=null,za=null,js=null,pl=null;if(Array.isArray(Ns))Dl=Ns.map(vo);else if(Ns)Dl=[vo(Ns)];else for(Dl=new Array(xc),vs=0;vs<xc;++vs)Dl[vs]=Gr(Os,hl,Rc,sl,jl);ee(Jt.webgl_draw_buffers||Dl.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ee(Dl.length<=Gn.maxColorAttachments,"too many color attachments, not supported"),Os=Os||Dl[0].width,hl=hl||Dl[0].height,Al?za=vo(Al):Wc&&!Bc&&(za=Gr(Os,hl,Hc,"depth","uint32")),vc?js=vo(vc):Bc&&!Wc&&(js=Gr(Os,hl,!1,"stencil","uint8")),Ic?pl=vo(Ic):!Al&&!vc&&Bc&&Wc&&(pl=Gr(Os,hl,Hc,"depth stencil","depth stencil")),ee(!!Al+!!vc+!!Ic<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Kc=null;for(vs=0;vs<Dl.length;++vs)if(_o(Dl[vs],Os,hl),ee(!Dl[vs]||Dl[vs].texture&&Af.indexOf(Dl[vs].texture._texture.format)>=0||Dl[vs].renderbuffer&&Xo.indexOf(Dl[vs].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+vs+" is invalid"),Dl[vs]&&Dl[vs].texture){var nd=ju[Dl[vs].texture._texture.format]*il[Dl[vs].texture._texture.type];Kc===null?Kc=nd:ee(Kc===nd,"all color attachments much have the same number of bits per pixel.")}return _o(za,Os,hl),ee(!za||za.texture&&za.texture._texture.format===af||za.renderbuffer&&za.renderbuffer._renderbuffer.format===ds,"invalid depth attachment for framebuffer object"),_o(js,Os,hl),ee(!js||js.renderbuffer&&js.renderbuffer._renderbuffer.format===Za,"invalid stencil attachment for framebuffer object"),_o(pl,Os,hl),ee(!pl||pl.texture&&pl.texture._texture.format===xl||pl.renderbuffer&&pl.renderbuffer._renderbuffer.format===xl,"invalid depth-stencil attachment for framebuffer object"),Mi(Oi),Oi.width=Os,Oi.height=hl,Oi.colorAttachments=Dl,Oi.depthAttachment=za,Oi.stencilAttachment=js,Oi.depthStencilAttachment=pl,Xa.color=Dl.map(li),Xa.depth=li(za),Xa.stencil=li(js),Xa.depthStencil=li(pl),Xa.width=Oi.width,Xa.height=Oi.height,Ci(Oi),Xa}function Es(la,Zs){ee(ri.next!==Oi,"can not resize a framebuffer which is currently in use");var vs=Math.max(la|0,1),Os=Math.max(Zs|0||vs,1);if(vs===Oi.width&&Os===Oi.height)return Xa;for(var hl=Oi.colorAttachments,Wc=0;Wc<hl.length;++Wc)Ji(hl[Wc],vs,Os);return Ji(Oi.depthAttachment,vs,Os),Ji(Oi.stencilAttachment,vs,Os),Ji(Oi.depthStencilAttachment,vs,Os),Oi.width=Xa.width=vs,Oi.height=Xa.height=Os,Ci(Oi),Xa}return Xa(Eo,no),l(Xa,{resize:Es,_reglType:"framebuffer",_framebuffer:Oi,destroy:function(){bo(Oi),Mi(Oi)},use:function(la){ri.setFBO({framebuffer:Xa},la)}})}function Na(Eo){var no=Array(6);function Oi(Es){var la;ee(no.indexOf(ri.next)<0,"can not update framebuffer which is currently in use");var Zs={color:null},vs=0,Os=null,hl="rgba",Wc="uint8",Bc=1;if(typeof Es=="number")vs=Es|0;else if(!Es)vs=1;else{ee.type(Es,"object","invalid arguments for framebuffer");var Ns=Es;if("shape"in Ns){var Rc=Ns.shape;ee(Array.isArray(Rc)&&Rc.length>=2,"invalid shape for framebuffer"),ee(Rc[0]===Rc[1],"cube framebuffer must be square"),vs=Rc[0]}else"radius"in Ns&&(vs=Ns.radius|0),"width"in Ns?(vs=Ns.width|0,"height"in Ns&&ee(Ns.height===vs,"must be square")):"height"in Ns&&(vs=Ns.height|0);("color"in Ns||"colors"in Ns)&&(Os=Ns.color||Ns.colors,Array.isArray(Os)&&ee(Os.length===1||Jt.webgl_draw_buffers,"multiple render targets not supported")),Os||("colorCount"in Ns&&(Bc=Ns.colorCount|0,ee(Bc>0,"invalid color buffer count")),"colorType"in Ns&&(ee.oneOf(Ns.colorType,Xi,"invalid color type"),Wc=Ns.colorType),"colorFormat"in Ns&&(hl=Ns.colorFormat,ee.oneOf(Ns.colorFormat,Ii,"invalid color format for texture"))),"depth"in Ns&&(Zs.depth=Ns.depth),"stencil"in Ns&&(Zs.stencil=Ns.stencil),"depthStencil"in Ns&&(Zs.depthStencil=Ns.depthStencil)}var sl;if(Os)if(Array.isArray(Os))for(sl=[],la=0;la<Os.length;++la)sl[la]=Os[la];else sl=[Os];else{sl=Array(Bc);var jl={radius:vs,format:hl,type:Wc};for(la=0;la<Bc;++la)sl[la]=Kr.createCube(jl)}for(Zs.color=Array(sl.length),la=0;la<sl.length;++la){var xc=sl[la];ee(typeof xc=="function"&&xc._reglType==="textureCube","invalid cube map"),vs=vs||xc.width,ee(xc.width===vs&&xc.height===vs,"invalid cube map shape"),Zs.color[la]={target:Lc,data:sl[la]}}for(la=0;la<6;++la){for(var Al=0;Al<sl.length;++Al)Zs.color[Al].target=Lc+la;la>0&&(Zs.depth=no[0].depth,Zs.stencil=no[0].stencil,Zs.depthStencil=no[0].depthStencil),no[la]?no[la](Zs):no[la]=Co(Zs)}return l(Oi,{width:vs,height:vs,color:sl})}function Xa(Es){var la,Zs=Es|0;if(ee(Zs>0&&Zs<=Gn.maxCubeMapSize,"invalid radius for cube fbo"),Zs===Oi.width)return Oi;var vs=Oi.color;for(la=0;la<vs.length;++la)vs[la].resize(Zs);for(la=0;la<6;++la)no[la].resize(Zs);return Oi.width=Oi.height=Zs,Oi}return Oi(Eo),l(Oi,{faces:no,resize:Xa,_reglType:"framebufferCube",destroy:function(){no.forEach(function(Es){Es.destroy()})}})}function gs(){ri.cur=null,ri.next=null,ri.dirty=!0,Pi(Di).forEach(function(Eo){Eo.framebuffer=$e.createFramebuffer(),Ci(Eo)})}return l(ri,{getFramebuffer:function(Eo){if(typeof Eo=="function"&&Eo._reglType==="framebuffer"){var no=Eo._framebuffer;if(no instanceof Go)return no}return null},create:Co,createCube:Na,clear:function(){Pi(Di).forEach(bo)},restore:gs})}var Tc=5126,fo=34962;function Hs(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Tc,this.offset=0,this.stride=0,this.divisor=0}function tu($e,Jt,Gn,Kr,Br){for(var Yr=Gn.maxAttributes,ri=new Array(Yr),Ii=0;Ii<Yr;++Ii)ri[Ii]=new Hs;var Wi=0,Xi={},zi={Record:Hs,scope:{},state:ri,currentVAO:null,targetVAO:null,restore:_o()?Di:function(){},createVAO:Go,getVAO:vo,destroyBuffer:Ui,setVAO:_o()?Gr:li,clear:_o()?Ji:function(){}};function Ui(Mi){for(var bo=0;bo<ri.length;++bo){var Ci=ri[bo];Ci.buffer===Mi&&($e.disableVertexAttribArray(bo),Ci.buffer=null)}}function _o(){return Jt.oes_vertex_array_object}function Vi(){return Jt.angle_instanced_arrays}function vo(Mi){return typeof Mi=="function"&&Mi._vao?Mi._vao:null}function Gr(Mi){if(Mi!==zi.currentVAO){var bo=_o();Mi?bo.bindVertexArrayOES(Mi.vao):bo.bindVertexArrayOES(null),zi.currentVAO=Mi}}function li(Mi){if(Mi!==zi.currentVAO){if(Mi)Mi.bindAttrs();else for(var bo=Vi(),Ci=0;Ci<ri.length;++Ci){var Co=ri[Ci];Co.buffer?($e.enableVertexAttribArray(Ci),$e.vertexAttribPointer(Ci,Co.size,Co.type,Co.normalized,Co.stride,Co.offfset),bo&&Co.divisor&&bo.vertexAttribDivisorANGLE(Ci,Co.divisor)):($e.disableVertexAttribArray(Ci),$e.vertexAttrib4f(Ci,Co.x,Co.y,Co.z,Co.w))}zi.currentVAO=Mi}}function Ji(){Pi(Xi).forEach(function(Mi){Mi.destroy()})}function Zo(){this.id=++Wi,this.attributes=[];var Mi=_o();Mi?this.vao=Mi.createVertexArrayOES():this.vao=null,Xi[this.id]=this,this.buffers=[]}Zo.prototype.bindAttrs=function(){for(var Mi=Vi(),bo=this.attributes,Ci=0;Ci<bo.length;++Ci){var Co=bo[Ci];Co.buffer?($e.enableVertexAttribArray(Ci),$e.bindBuffer(fo,Co.buffer.buffer),$e.vertexAttribPointer(Ci,Co.size,Co.type,Co.normalized,Co.stride,Co.offset),Mi&&Co.divisor&&Mi.vertexAttribDivisorANGLE(Ci,Co.divisor)):($e.disableVertexAttribArray(Ci),$e.vertexAttrib4f(Ci,Co.x,Co.y,Co.z,Co.w))}for(var Na=bo.length;Na<Yr;++Na)$e.disableVertexAttribArray(Na)},Zo.prototype.refresh=function(){var Mi=_o();Mi&&(Mi.bindVertexArrayOES(this.vao),this.bindAttrs(),zi.currentVAO=this)},Zo.prototype.destroy=function(){if(this.vao){var Mi=_o();this===zi.currentVAO&&(zi.currentVAO=null,Mi.bindVertexArrayOES(null)),Mi.deleteVertexArrayOES(this.vao),this.vao=null}Xi[this.id]&&(delete Xi[this.id],Kr.vaoCount-=1)};function Di(){var Mi=_o();Mi&&Pi(Xi).forEach(function(bo){bo.refresh()})}function Go(Mi){var bo=new Zo;Kr.vaoCount+=1;function Ci(Co){ee(Array.isArray(Co),"arguments to vertex array constructor must be an array"),ee(Co.length<Yr,"too many attributes"),ee(Co.length>0,"must specify at least one attribute");var Na={},gs=bo.attributes;gs.length=Co.length;for(var Eo=0;Eo<Co.length;++Eo){var no=Co[Eo],Oi=gs[Eo]=new Hs,Xa=no.data||no;if(Array.isArray(Xa)||M(Xa)||fi(Xa)){var Es;bo.buffers[Eo]&&(Es=bo.buffers[Eo],M(Xa)&&Es._buffer.byteLength>=Xa.byteLength?Es.subdata(Xa):(Es.destroy(),bo.buffers[Eo]=null)),bo.buffers[Eo]||(Es=bo.buffers[Eo]=Br.create(no,fo,!1,!0)),Oi.buffer=Br.getBuffer(Es),Oi.size=Oi.buffer.dimension|0,Oi.normalized=!1,Oi.type=Oi.buffer.dtype,Oi.offset=0,Oi.stride=0,Oi.divisor=0,Oi.state=1,Na[Eo]=1}else Br.getBuffer(no)?(Oi.buffer=Br.getBuffer(no),Oi.size=Oi.buffer.dimension|0,Oi.normalized=!1,Oi.type=Oi.buffer.dtype,Oi.offset=0,Oi.stride=0,Oi.divisor=0,Oi.state=1):Br.getBuffer(no.buffer)?(Oi.buffer=Br.getBuffer(no.buffer),Oi.size=(+no.size||Oi.buffer.dimension)|0,Oi.normalized=!!no.normalized||!1,"type"in no?(ee.parameter(no.type,zt,"invalid buffer type"),Oi.type=zt[no.type]):Oi.type=Oi.buffer.dtype,Oi.offset=(no.offset||0)|0,Oi.stride=(no.stride||0)|0,Oi.divisor=(no.divisor||0)|0,Oi.state=1,ee(Oi.size>=1&&Oi.size<=4,"size must be between 1 and 4"),ee(Oi.offset>=0,"invalid offset"),ee(Oi.stride>=0&&Oi.stride<=255,"stride must be between 0 and 255"),ee(Oi.divisor>=0,"divisor must be positive"),ee(!Oi.divisor||!!Jt.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in no?(ee(Eo>0,"first attribute must not be a constant"),Oi.x=+no.x||0,Oi.y=+no.y||0,Oi.z=+no.z||0,Oi.w=+no.w||0,Oi.state=2):ee(!1,"invalid attribute spec for location "+Eo)}for(var la=0;la<bo.buffers.length;++la)!Na[la]&&bo.buffers[la]&&(bo.buffers[la].destroy(),bo.buffers[la]=null);return bo.refresh(),Ci}return Ci.destroy=function(){for(var Co=0;Co<bo.buffers.length;++Co)bo.buffers[Co]&&bo.buffers[Co].destroy();bo.buffers.length=0,bo.destroy()},Ci._vao=bo,Ci._reglType="vao",Ci(Mi)}return zi}var sf=35632,Xs=35633,mf=35718,Df=35721;function yf($e,Jt,Gn,Kr){var Br={},Yr={};function ri(Gr,li,Ji,Zo){this.name=Gr,this.id=li,this.location=Ji,this.info=Zo}function Ii(Gr,li){for(var Ji=0;Ji<Gr.length;++Ji)if(Gr[Ji].id===li.id){Gr[Ji].location=li.location;return}Gr.push(li)}function Wi(Gr,li,Ji){var Zo=Gr===sf?Br:Yr,Di=Zo[li];if(!Di){var Go=Jt.str(li);Di=$e.createShader(Gr),$e.shaderSource(Di,Go),$e.compileShader(Di),ee.shaderError($e,Di,Go,Gr,Ji),Zo[li]=Di}return Di}var Xi={},zi=[],Ui=0;function _o(Gr,li){this.id=Ui++,this.fragId=Gr,this.vertId=li,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Kr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Vi(Gr,li,Ji){var Zo,Di,Go=Wi(sf,Gr.fragId),Mi=Wi(Xs,Gr.vertId),bo=Gr.program=$e.createProgram();if($e.attachShader(bo,Go),$e.attachShader(bo,Mi),Ji)for(Zo=0;Zo<Ji.length;++Zo){var Ci=Ji[Zo];$e.bindAttribLocation(bo,Ci[0],Ci[1])}$e.linkProgram(bo),ee.linkError($e,bo,Jt.str(Gr.fragId),Jt.str(Gr.vertId),li);var Co=$e.getProgramParameter(bo,mf);Kr.profile&&(Gr.stats.uniformsCount=Co);var Na=Gr.uniforms;for(Zo=0;Zo<Co;++Zo)if(Di=$e.getActiveUniform(bo,Zo),Di)if(Di.size>1)for(var gs=0;gs<Di.size;++gs){var Eo=Di.name.replace("[0]","["+gs+"]");Ii(Na,new ri(Eo,Jt.id(Eo),$e.getUniformLocation(bo,Eo),Di))}else Ii(Na,new ri(Di.name,Jt.id(Di.name),$e.getUniformLocation(bo,Di.name),Di));var no=$e.getProgramParameter(bo,Df);Kr.profile&&(Gr.stats.attributesCount=no);var Oi=Gr.attributes;for(Zo=0;Zo<no;++Zo)Di=$e.getActiveAttrib(bo,Zo),Di&&Ii(Oi,new ri(Di.name,Jt.id(Di.name),$e.getAttribLocation(bo,Di.name),Di))}Kr.profile&&(Gn.getMaxUniformsCount=function(){var Gr=0;return zi.forEach(function(li){li.stats.uniformsCount>Gr&&(Gr=li.stats.uniformsCount)}),Gr},Gn.getMaxAttributesCount=function(){var Gr=0;return zi.forEach(function(li){li.stats.attributesCount>Gr&&(Gr=li.stats.attributesCount)}),Gr});function vo(){Br={},Yr={};for(var Gr=0;Gr<zi.length;++Gr)Vi(zi[Gr],null,zi[Gr].attributes.map(function(li){return[li.location,li.name]}))}return{clear:function(){var Gr=$e.deleteShader.bind($e);Pi(Br).forEach(Gr),Br={},Pi(Yr).forEach(Gr),Yr={},zi.forEach(function(li){$e.deleteProgram(li.program)}),zi.length=0,Xi={},Gn.shaderCount=0},program:function(Gr,li,Ji,Zo){ee.command(Gr>=0,"missing vertex shader",Ji),ee.command(li>=0,"missing fragment shader",Ji);var Di=Xi[li];Di||(Di=Xi[li]={});var Go=Di[Gr];if(Go&&(Go.refCount++,!Zo))return Go;var Mi=new _o(li,Gr);return Gn.shaderCount++,Vi(Mi,Ji,Zo),Go||(Di[Gr]=Mi),zi.push(Mi),l(Mi,{destroy:function(){if(Mi.refCount--,Mi.refCount<=0){$e.deleteProgram(Mi.program);var bo=zi.indexOf(Mi);zi.splice(bo,1),Gn.shaderCount--}Di[Mi.vertId].refCount<=0&&($e.deleteShader(Yr[Mi.vertId]),delete Yr[Mi.vertId],delete Xi[Mi.fragId][Mi.vertId]),Object.keys(Xi[Mi.fragId]).length||($e.deleteShader(Br[Mi.fragId]),delete Br[Mi.fragId],delete Xi[Mi.fragId])}})},restore:vo,shader:Wi,frag:-1,vert:-1}}var Mu=6408,nu=5121,eh=3333,Vf=5126;function bd($e,Jt,Gn,Kr,Br,Yr,ri){function Ii(zi){var Ui;Jt.next===null?(ee(Br.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Ui=nu):(ee(Jt.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Ui=Jt.next.colorAttachments[0].texture._texture.type,Yr.oes_texture_float?(ee(Ui===nu||Ui===Vf,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Ui===Vf&&ee(ri.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ee(Ui===nu,"Reading from a framebuffer is only allowed for the type 'uint8'"));var _o=0,Vi=0,vo=Kr.framebufferWidth,Gr=Kr.framebufferHeight,li=null;M(zi)?li=zi:zi&&(ee.type(zi,"object","invalid arguments to regl.read()"),_o=zi.x|0,Vi=zi.y|0,ee(_o>=0&&_o<Kr.framebufferWidth,"invalid x offset for regl.read"),ee(Vi>=0&&Vi<Kr.framebufferHeight,"invalid y offset for regl.read"),vo=(zi.width||Kr.framebufferWidth-_o)|0,Gr=(zi.height||Kr.framebufferHeight-Vi)|0,li=zi.data||null),li&&(Ui===nu?ee(li instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Ui===Vf&&ee(li instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ee(vo>0&&vo+_o<=Kr.framebufferWidth,"invalid width for read pixels"),ee(Gr>0&&Gr+Vi<=Kr.framebufferHeight,"invalid height for read pixels"),Gn();var Ji=vo*Gr*4;return li||(Ui===nu?li=new Uint8Array(Ji):Ui===Vf&&(li=li||new Float32Array(Ji))),ee.isTypedArray(li,"data buffer for regl.read() must be a typedarray"),ee(li.byteLength>=Ji,"data buffer for regl.read() too small"),$e.pixelStorei(eh,4),$e.readPixels(_o,Vi,vo,Gr,Mu,Ui,li),li}function Wi(zi){var Ui;return Jt.setFBO({framebuffer:zi.framebuffer},function(){Ui=Ii(zi)}),Ui}function Xi(zi){return!zi||!("framebuffer"in zi)?Ii(zi):Wi(zi)}return Xi}function ol($e){return Array.prototype.slice.call($e)}function ou($e){return ol($e).join("")}function Jl(){var $e=0,Jt=[],Gn=[];function Kr(Ui){for(var _o=0;_o<Gn.length;++_o)if(Gn[_o]===Ui)return Jt[_o];var Vi="g"+$e++;return Jt.push(Vi),Gn.push(Ui),Vi}function Br(){var Ui=[];function _o(){Ui.push.apply(Ui,ol(arguments))}var Vi=[];function vo(){var Gr="v"+$e++;return Vi.push(Gr),arguments.length>0&&(Ui.push(Gr,"="),Ui.push.apply(Ui,ol(arguments)),Ui.push(";")),Gr}return l(_o,{def:vo,toString:function(){return ou([Vi.length>0?"var "+Vi.join(",")+";":"",ou(Ui)])}})}function Yr(){var Ui=Br(),_o=Br(),Vi=Ui.toString,vo=_o.toString;function Gr(li,Ji){_o(li,Ji,"=",Ui.def(li,Ji),";")}return l(function(){Ui.apply(Ui,ol(arguments))},{def:Ui.def,entry:Ui,exit:_o,save:Gr,set:function(li,Ji,Zo){Gr(li,Ji),Ui(li,Ji,"=",Zo,";")},toString:function(){return Vi()+vo()}})}function ri(){var Ui=ou(arguments),_o=Yr(),Vi=Yr(),vo=_o.toString,Gr=Vi.toString;return l(_o,{then:function(){return _o.apply(_o,ol(arguments)),this},else:function(){return Vi.apply(Vi,ol(arguments)),this},toString:function(){var li=Gr();return li&&(li="else{"+li+"}"),ou(["if(",Ui,"){",vo(),"}",li])}})}var Ii=Br(),Wi={};function Xi(Ui,_o){var Vi=[];function vo(){var Di="a"+Vi.length;return Vi.push(Di),Di}_o=_o||0;for(var Gr=0;Gr<_o;++Gr)vo();var li=Yr(),Ji=li.toString,Zo=Wi[Ui]=l(li,{arg:vo,toString:function(){return ou(["function(",Vi.join(),"){",Ji(),"}"])}});return Zo}function zi(){var Ui=['"use strict";',Ii,"return {"];Object.keys(Wi).forEach(function(vo){Ui.push('"',vo,'":',Wi[vo].toString(),",")}),Ui.push("}");var _o=ou(Ui).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Vi=Function.apply(null,Jt.concat(_o));return Vi.apply(null,Gn)}return{global:Ii,link:Kr,block:Br,proc:Xi,scope:Yr,cond:ri,compile:zi}}var Ru="xyzw".split(""),ad=5121,hc=1,Iu=2,ku=0,Fc=1,Cd=2,_l=3,Nf=4,lf=5,$c=6,sd="dither",Lu="blend.enable",tf="blend.color",ld="blend.equation",cf="blend.func",Gc="depth.enable",bf="depth.func",qf="depth.range",au="depth.mask",su="colorMask",Cf="cull.enable",rc="cull.face",pc="frontFace",Ql="lineWidth",ed="polygonOffset.enable",Rf="polygonOffset.offset",xf="sample.alpha",xd="sample.enable",lu="sample.coverage",Wu="stencil.enable",Ef="stencil.mask",Ee="stencil.func",Le="stencil.opFront",at="stencil.opBack",ct="scissor.enable",dt="scissor.box",mt="viewport",St="profile",Nt="framebuffer",O="vert",V="frag",ae="elements",we="primitive",qe="count",Rt="offset",In="instances",Wr="vao",_i="Width",So="Height",Ho=Nt+_i,ga=Nt+So,ns=mt+_i,xs=mt+So,el="drawingBuffer",ja=el+_i,Vs=el+So,dl=[cf,ld,Ee,Le,at,lu,mt,dt,Rf],al=34962,Oc=34963,$a=35632,Ao=35633,eo=3553,As=34067,ic=2884,_c=3042,Ac=3024,cc=2960,Pu=2929,gc=3089,fu=32823,Cc=32926,bu=32928,vl=5126,oc=35664,Dc=35665,Fu=35666,Gu=5124,Ch=35667,Ed=35668,th=35669,nh=35670,Bd=35671,nf=35672,Zd=35673,wf=35674,rh=35675,If=35676,ih=35678,oh=35680,xh=4,ah=1028,uf=1029,ug=2304,zd=2305,fg=32775,dg=32776,_p=519,cd=7680,Bu=0,kf=1,Ap=32774,hg=513,Eh=36160,ud=36064,jf={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Dp=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],sh={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},fd={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},wd={frag:$a,vert:Ao},Sd={cw:ug,ccw:zd};function Kh($e){return Array.isArray($e)||M($e)||fi($e)}function Yh($e){return $e.sort(function(Jt,Gn){return Jt===mt?-1:Gn===mt?1:Jt<Gn?-1:1})}function Cu($e,Jt,Gn,Kr){this.thisDep=$e,this.contextDep=Jt,this.propDep=Gn,this.append=Kr}function Lf($e){return $e&&!($e.thisDep||$e.contextDep||$e.propDep)}function Nc($e){return new Cu(!1,!1,!1,$e)}function xu($e,Jt){var Gn=$e.type;if(Gn===ku){var Kr=$e.data.length;return new Cu(!0,Kr>=1,Kr>=2,Jt)}else if(Gn===Nf){var Br=$e.data;return new Cu(Br.thisDep,Br.contextDep,Br.propDep,Jt)}else{if(Gn===lf)return new Cu(!1,!1,!1,Jt);if(Gn===$c){for(var Yr=!1,ri=!1,Ii=!1,Wi=0;Wi<$e.data.length;++Wi){var Xi=$e.data[Wi];if(Xi.type===Fc)Ii=!0;else if(Xi.type===Cd)ri=!0;else if(Xi.type===_l)Yr=!0;else if(Xi.type===ku){Yr=!0;var zi=Xi.data;zi>=1&&(ri=!0),zi>=2&&(Ii=!0)}else Xi.type===Nf&&(Yr=Yr||Xi.data.thisDep,ri=ri||Xi.data.contextDep,Ii=Ii||Xi.data.propDep)}return new Cu(Yr,ri,Ii,Jt)}else return new Cu(Gn===_l,Gn===Cd,Gn===Fc,Jt)}}var ql=new Cu(!1,!1,!1,function(){});function Xh($e,Jt,Gn,Kr,Br,Yr,ri,Ii,Wi,Xi,zi,Ui,_o,Vi,vo){var Gr=Xi.Record,li={add:32774,subtract:32778,"reverse subtract":32779};Gn.ext_blend_minmax&&(li.min=fg,li.max=dg);var Ji=Gn.angle_instanced_arrays,Zo=Gn.webgl_draw_buffers,Di={dirty:!0,profile:vo.profile},Go={},Mi=[],bo={},Ci={};function Co(fn){return fn.replace(".","_")}function Na(fn,Ut,tr){var Rr=Co(fn);Mi.push(fn),Go[Rr]=Di[Rr]=!!tr,bo[Rr]=Ut}function gs(fn,Ut,tr){var Rr=Co(fn);Mi.push(fn),Array.isArray(tr)?(Di[Rr]=tr.slice(),Go[Rr]=tr.slice()):Di[Rr]=Go[Rr]=tr,Ci[Rr]=Ut}Na(sd,Ac),Na(Lu,_c),gs(tf,"blendColor",[0,0,0,0]),gs(ld,"blendEquationSeparate",[Ap,Ap]),gs(cf,"blendFuncSeparate",[kf,Bu,kf,Bu]),Na(Gc,Pu,!0),gs(bf,"depthFunc",hg),gs(qf,"depthRange",[0,1]),gs(au,"depthMask",!0),gs(su,su,[!0,!0,!0,!0]),Na(Cf,ic),gs(rc,"cullFace",uf),gs(pc,pc,zd),gs(Ql,Ql,1),Na(ed,fu),gs(Rf,"polygonOffset",[0,0]),Na(xf,Cc),Na(xd,bu),gs(lu,"sampleCoverage",[1,!1]),Na(Wu,cc),gs(Ef,"stencilMask",-1),gs(Ee,"stencilFunc",[_p,0,-1]),gs(Le,"stencilOpSeparate",[ah,cd,cd,cd]),gs(at,"stencilOpSeparate",[uf,cd,cd,cd]),Na(ct,gc),gs(dt,"scissor",[0,0,$e.drawingBufferWidth,$e.drawingBufferHeight]),gs(mt,mt,[0,0,$e.drawingBufferWidth,$e.drawingBufferHeight]);var Eo={gl:$e,context:_o,strings:Jt,next:Go,current:Di,draw:Ui,elements:Yr,buffer:Br,shader:zi,attributes:Xi.state,vao:Xi,uniforms:Wi,framebuffer:Ii,extensions:Gn,timer:Vi,isBufferArgs:Kh},no={primTypes:wa,compareFuncs:sh,blendFuncs:jf,blendEquations:li,stencilOps:fd,glTypes:zt,orientationType:Sd};ee.optional(function(){Eo.isArrayLike=oo}),Zo&&(no.backBuffer=[uf],no.drawBuffer=Bt(Kr.maxDrawbuffers,function(fn){return fn===0?[0]:Bt(fn,function(Ut){return ud+Ut})}));var Oi=0;function Xa(){var fn=Jl(),Ut=fn.link,tr=fn.global;fn.id=Oi++,fn.batchId="0";var Rr=Ut(Eo),Fr=fn.shared={props:"a0"};Object.keys(Eo).forEach(function(Zn){Fr[Zn]=tr.def(Rr,".",Zn)}),ee.optional(function(){fn.CHECK=Ut(ee),fn.commandStr=ee.guessCommand(),fn.command=Ut(fn.commandStr),fn.assert=function(Zn,ln,mr){Zn("if(!(",ln,"))",this.CHECK,".commandRaise(",Ut(mr),",",this.command,");")},no.invalidBlendCombinations=Dp});var ar=fn.next={},Jn=fn.current={};Object.keys(Ci).forEach(function(Zn){Array.isArray(Di[Zn])&&(ar[Zn]=tr.def(Fr.next,".",Zn),Jn[Zn]=tr.def(Fr.current,".",Zn))});var vr=fn.constants={};Object.keys(no).forEach(function(Zn){vr[Zn]=tr.def(JSON.stringify(no[Zn]))}),fn.invoke=function(Zn,ln){switch(ln.type){case ku:var mr=["this",Fr.context,Fr.props,fn.batchId];return Zn.def(Ut(ln.data),".call(",mr.slice(0,Math.max(ln.data.length+1,4)),")");case Fc:return Zn.def(Fr.props,ln.data);case Cd:return Zn.def(Fr.context,ln.data);case _l:return Zn.def("this",ln.data);case Nf:return ln.data.append(fn,Zn),ln.data.ref;case lf:return ln.data.toString();case $c:return ln.data.map(function(Zr){return fn.invoke(Zn,Zr)})}},fn.attribCache={};var Qt={};return fn.scopeAttrib=function(Zn){var ln=Jt.id(Zn);if(ln in Qt)return Qt[ln];var mr=Xi.scope[ln];mr||(mr=Xi.scope[ln]=new Gr);var Zr=Qt[ln]=Ut(mr);return Zr},fn}function Es(fn){var Ut=fn.static,tr=fn.dynamic,Rr;if(St in Ut){var Fr=!!Ut[St];Rr=Nc(function(Jn,vr){return Fr}),Rr.enable=Fr}else if(St in tr){var ar=tr[St];Rr=xu(ar,function(Jn,vr){return Jn.invoke(vr,ar)})}return Rr}function la(fn,Ut){var tr=fn.static,Rr=fn.dynamic;if(Nt in tr){var Fr=tr[Nt];return Fr?(Fr=Ii.getFramebuffer(Fr),ee.command(Fr,"invalid framebuffer object"),Nc(function(Jn,vr){var Qt=Jn.link(Fr),Zn=Jn.shared;vr.set(Zn.framebuffer,".next",Qt);var ln=Zn.context;return vr.set(ln,"."+Ho,Qt+".width"),vr.set(ln,"."+ga,Qt+".height"),Qt})):Nc(function(Jn,vr){var Qt=Jn.shared;vr.set(Qt.framebuffer,".next","null");var Zn=Qt.context;return vr.set(Zn,"."+Ho,Zn+"."+ja),vr.set(Zn,"."+ga,Zn+"."+Vs),"null"})}else if(Nt in Rr){var ar=Rr[Nt];return xu(ar,function(Jn,vr){var Qt=Jn.invoke(vr,ar),Zn=Jn.shared,ln=Zn.framebuffer,mr=vr.def(ln,".getFramebuffer(",Qt,")");ee.optional(function(){Jn.assert(vr,"!"+Qt+"||"+mr,"invalid framebuffer object")}),vr.set(ln,".next",mr);var Zr=Zn.context;return vr.set(Zr,"."+Ho,mr+"?"+mr+".width:"+Zr+"."+ja),vr.set(Zr,"."+ga,mr+"?"+mr+".height:"+Zr+"."+Vs),mr})}else return null}function Zs(fn,Ut,tr){var Rr=fn.static,Fr=fn.dynamic;function ar(Qt){if(Qt in Rr){var Zn=Rr[Qt];ee.commandType(Zn,"object","invalid "+Qt,tr.commandStr);var ln=!0,mr=Zn.x|0,Zr=Zn.y|0,pi,vi;return"width"in Zn?(pi=Zn.width|0,ee.command(pi>=0,"invalid "+Qt,tr.commandStr)):ln=!1,"height"in Zn?(vi=Zn.height|0,ee.command(vi>=0,"invalid "+Qt,tr.commandStr)):ln=!1,new Cu(!ln&&Ut&&Ut.thisDep,!ln&&Ut&&Ut.contextDep,!ln&&Ut&&Ut.propDep,function(va,ms){var $o=va.shared.context,_a=pi;"width"in Zn||(_a=ms.def($o,".",Ho,"-",mr));var as=vi;return"height"in Zn||(as=ms.def($o,".",ga,"-",Zr)),[mr,Zr,_a,as]})}else if(Qt in Fr){var Jr=Fr[Qt],Hi=xu(Jr,function(va,ms){var $o=va.invoke(ms,Jr);ee.optional(function(){va.assert(ms,$o+"&&typeof "+$o+'==="object"',"invalid "+Qt)});var _a=va.shared.context,as=ms.def($o,".x|0"),Qs=ms.def($o,".y|0"),mc=ms.def('"width" in ',$o,"?",$o,".width|0:","(",_a,".",Ho,"-",as,")"),Hu=ms.def('"height" in ',$o,"?",$o,".height|0:","(",_a,".",ga,"-",Qs,")");return ee.optional(function(){va.assert(ms,mc+">=0&&"+Hu+">=0","invalid "+Qt)}),[as,Qs,mc,Hu]});return Ut&&(Hi.thisDep=Hi.thisDep||Ut.thisDep,Hi.contextDep=Hi.contextDep||Ut.contextDep,Hi.propDep=Hi.propDep||Ut.propDep),Hi}else return Ut?new Cu(Ut.thisDep,Ut.contextDep,Ut.propDep,function(va,ms){var $o=va.shared.context;return[0,0,ms.def($o,".",Ho),ms.def($o,".",ga)]}):null}var Jn=ar(mt);if(Jn){var vr=Jn;Jn=new Cu(Jn.thisDep,Jn.contextDep,Jn.propDep,function(Qt,Zn){var ln=vr.append(Qt,Zn),mr=Qt.shared.context;return Zn.set(mr,"."+ns,ln[2]),Zn.set(mr,"."+xs,ln[3]),ln})}return{viewport:Jn,scissor_box:ar(dt)}}function vs(fn,Ut){var tr=fn.static,Rr=typeof tr[V]=="string"&&typeof tr[O]=="string";if(Rr){if(Object.keys(Ut.dynamic).length>0)return null;var Fr=Ut.static,ar=Object.keys(Fr);if(ar.length>0&&typeof Fr[ar[0]]=="number"){for(var Jn=[],vr=0;vr<ar.length;++vr)ee(typeof Fr[ar[vr]]=="number","must specify all vertex attribute locations when using vaos"),Jn.push([Fr[ar[vr]]|0,ar[vr]]);return Jn}}return null}function Os(fn,Ut,tr){var Rr=fn.static,Fr=fn.dynamic;function ar(ln){if(ln in Rr){var mr=Jt.id(Rr[ln]);ee.optional(function(){zi.shader(wd[ln],mr,ee.guessCommand())});var Zr=Nc(function(){return mr});return Zr.id=mr,Zr}else if(ln in Fr){var pi=Fr[ln];return xu(pi,function(vi,Jr){var Hi=vi.invoke(Jr,pi),va=Jr.def(vi.shared.strings,".id(",Hi,")");return ee.optional(function(){Jr(vi.shared.shader,".shader(",wd[ln],",",va,",",vi.command,");")}),va})}return null}var Jn=ar(V),vr=ar(O),Qt=null,Zn;return Lf(Jn)&&Lf(vr)?(Qt=zi.program(vr.id,Jn.id,null,tr),Zn=Nc(function(ln,mr){return ln.link(Qt)})):Zn=new Cu(Jn&&Jn.thisDep||vr&&vr.thisDep,Jn&&Jn.contextDep||vr&&vr.contextDep,Jn&&Jn.propDep||vr&&vr.propDep,function(ln,mr){var Zr=ln.shared.shader,pi;Jn?pi=Jn.append(ln,mr):pi=mr.def(Zr,".",V);var vi;vr?vi=vr.append(ln,mr):vi=mr.def(Zr,".",O);var Jr=Zr+".program("+vi+","+pi;return ee.optional(function(){Jr+=","+ln.command}),mr.def(Jr+")")}),{frag:Jn,vert:vr,progVar:Zn,program:Qt}}function hl(fn,Ut){var tr=fn.static,Rr=fn.dynamic;function Fr(){if(ae in tr){var ln=tr[ae];Kh(ln)?ln=Yr.getElements(Yr.create(ln,!0)):ln&&(ln=Yr.getElements(ln),ee.command(ln,"invalid elements",Ut.commandStr));var mr=Nc(function(pi,vi){if(ln){var Jr=pi.link(ln);return pi.ELEMENTS=Jr,Jr}return pi.ELEMENTS=null,null});return mr.value=ln,mr}else if(ae in Rr){var Zr=Rr[ae];return xu(Zr,function(pi,vi){var Jr=pi.shared,Hi=Jr.isBufferArgs,va=Jr.elements,ms=pi.invoke(vi,Zr),$o=vi.def("null"),_a=vi.def(Hi,"(",ms,")"),as=pi.cond(_a).then($o,"=",va,".createStream(",ms,");").else($o,"=",va,".getElements(",ms,");");return ee.optional(function(){pi.assert(as.else,"!"+ms+"||"+$o,"invalid elements")}),vi.entry(as),vi.exit(pi.cond(_a).then(va,".destroyStream(",$o,");")),pi.ELEMENTS=$o,$o})}return null}var ar=Fr();function Jn(){if(we in tr){var ln=tr[we];return ee.commandParameter(ln,wa,"invalid primitve",Ut.commandStr),Nc(function(Zr,pi){return wa[ln]})}else if(we in Rr){var mr=Rr[we];return xu(mr,function(Zr,pi){var vi=Zr.constants.primTypes,Jr=Zr.invoke(pi,mr);return ee.optional(function(){Zr.assert(pi,Jr+" in "+vi,"invalid primitive, must be one of "+Object.keys(wa))}),pi.def(vi,"[",Jr,"]")})}else if(ar)return Lf(ar)?ar.value?Nc(function(Zr,pi){return pi.def(Zr.ELEMENTS,".primType")}):Nc(function(){return xh}):new Cu(ar.thisDep,ar.contextDep,ar.propDep,function(Zr,pi){var vi=Zr.ELEMENTS;return pi.def(vi,"?",vi,".primType:",xh)});return null}function vr(ln,mr){if(ln in tr){var Zr=tr[ln]|0;return ee.command(!mr||Zr>=0,"invalid "+ln,Ut.commandStr),Nc(function(vi,Jr){return mr&&(vi.OFFSET=Zr),Zr})}else if(ln in Rr){var pi=Rr[ln];return xu(pi,function(vi,Jr){var Hi=vi.invoke(Jr,pi);return mr&&(vi.OFFSET=Hi,ee.optional(function(){vi.assert(Jr,Hi+">=0","invalid "+ln)})),Hi})}else if(mr&&ar)return Nc(function(vi,Jr){return vi.OFFSET="0",0});return null}var Qt=vr(Rt,!0);function Zn(){if(qe in tr){var ln=tr[qe]|0;return ee.command(typeof ln=="number"&&ln>=0,"invalid vertex count",Ut.commandStr),Nc(function(){return ln})}else if(qe in Rr){var mr=Rr[qe];return xu(mr,function(vi,Jr){var Hi=vi.invoke(Jr,mr);return ee.optional(function(){vi.assert(Jr,"typeof "+Hi+'==="number"&&'+Hi+">=0&&"+Hi+"===("+Hi+"|0)","invalid vertex count")}),Hi})}else if(ar)if(Lf(ar)){if(ar)return Qt?new Cu(Qt.thisDep,Qt.contextDep,Qt.propDep,function(vi,Jr){var Hi=Jr.def(vi.ELEMENTS,".vertCount-",vi.OFFSET);return ee.optional(function(){vi.assert(Jr,Hi+">=0","invalid vertex offset/element buffer too small")}),Hi}):Nc(function(vi,Jr){return Jr.def(vi.ELEMENTS,".vertCount")});var Zr=Nc(function(){return-1});return ee.optional(function(){Zr.MISSING=!0}),Zr}else{var pi=new Cu(ar.thisDep||Qt.thisDep,ar.contextDep||Qt.contextDep,ar.propDep||Qt.propDep,function(vi,Jr){var Hi=vi.ELEMENTS;return vi.OFFSET?Jr.def(Hi,"?",Hi,".vertCount-",vi.OFFSET,":-1"):Jr.def(Hi,"?",Hi,".vertCount:-1")});return ee.optional(function(){pi.DYNAMIC=!0}),pi}return null}return{elements:ar,primitive:Jn(),count:Zn(),instances:vr(In,!1),offset:Qt}}function Wc(fn,Ut){var tr=fn.static,Rr=fn.dynamic,Fr={};return Mi.forEach(function(ar){var Jn=Co(ar);function vr(Qt,Zn){if(ar in tr){var ln=Qt(tr[ar]);Fr[Jn]=Nc(function(){return ln})}else if(ar in Rr){var mr=Rr[ar];Fr[Jn]=xu(mr,function(Zr,pi){return Zn(Zr,pi,Zr.invoke(pi,mr))})}}switch(ar){case Cf:case Lu:case sd:case Wu:case Gc:case ct:case ed:case xf:case xd:case au:return vr(function(Qt){return ee.commandType(Qt,"boolean",ar,Ut.commandStr),Qt},function(Qt,Zn,ln){return ee.optional(function(){Qt.assert(Zn,"typeof "+ln+'==="boolean"',"invalid flag "+ar,Qt.commandStr)}),ln});case bf:return vr(function(Qt){return ee.commandParameter(Qt,sh,"invalid "+ar,Ut.commandStr),sh[Qt]},function(Qt,Zn,ln){var mr=Qt.constants.compareFuncs;return ee.optional(function(){Qt.assert(Zn,ln+" in "+mr,"invalid "+ar+", must be one of "+Object.keys(sh))}),Zn.def(mr,"[",ln,"]")});case qf:return vr(function(Qt){return ee.command(oo(Qt)&&Qt.length===2&&typeof Qt[0]=="number"&&typeof Qt[1]=="number"&&Qt[0]<=Qt[1],"depth range is 2d array",Ut.commandStr),Qt},function(Qt,Zn,ln){ee.optional(function(){Qt.assert(Zn,Qt.shared.isArrayLike+"("+ln+")&&"+ln+".length===2&&typeof "+ln+'[0]==="number"&&typeof '+ln+'[1]==="number"&&'+ln+"[0]<="+ln+"[1]","depth range must be a 2d array")});var mr=Zn.def("+",ln,"[0]"),Zr=Zn.def("+",ln,"[1]");return[mr,Zr]});case cf:return vr(function(Qt){ee.commandType(Qt,"object","blend.func",Ut.commandStr);var Zn="srcRGB"in Qt?Qt.srcRGB:Qt.src,ln="srcAlpha"in Qt?Qt.srcAlpha:Qt.src,mr="dstRGB"in Qt?Qt.dstRGB:Qt.dst,Zr="dstAlpha"in Qt?Qt.dstAlpha:Qt.dst;return ee.commandParameter(Zn,jf,Jn+".srcRGB",Ut.commandStr),ee.commandParameter(ln,jf,Jn+".srcAlpha",Ut.commandStr),ee.commandParameter(mr,jf,Jn+".dstRGB",Ut.commandStr),ee.commandParameter(Zr,jf,Jn+".dstAlpha",Ut.commandStr),ee.command(Dp.indexOf(Zn+", "+mr)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Zn+", "+mr+")",Ut.commandStr),[jf[Zn],jf[mr],jf[ln],jf[Zr]]},function(Qt,Zn,ln){var mr=Qt.constants.blendFuncs;ee.optional(function(){Qt.assert(Zn,ln+"&&typeof "+ln+'==="object"',"invalid blend func, must be an object")});function Zr($o,_a){var as=Zn.def('"',$o,_a,'" in ',ln,"?",ln,".",$o,_a,":",ln,".",$o);return ee.optional(function(){Qt.assert(Zn,as+" in "+mr,"invalid "+ar+"."+$o+_a+", must be one of "+Object.keys(jf))}),as}var pi=Zr("src","RGB"),vi=Zr("dst","RGB");ee.optional(function(){var $o=Qt.constants.invalidBlendCombinations;Qt.assert(Zn,$o+".indexOf("+pi+'+", "+'+vi+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Jr=Zn.def(mr,"[",pi,"]"),Hi=Zn.def(mr,"[",Zr("src","Alpha"),"]"),va=Zn.def(mr,"[",vi,"]"),ms=Zn.def(mr,"[",Zr("dst","Alpha"),"]");return[Jr,va,Hi,ms]});case ld:return vr(function(Qt){if(typeof Qt=="string")return ee.commandParameter(Qt,li,"invalid "+ar,Ut.commandStr),[li[Qt],li[Qt]];if(typeof Qt=="object")return ee.commandParameter(Qt.rgb,li,ar+".rgb",Ut.commandStr),ee.commandParameter(Qt.alpha,li,ar+".alpha",Ut.commandStr),[li[Qt.rgb],li[Qt.alpha]];ee.commandRaise("invalid blend.equation",Ut.commandStr)},function(Qt,Zn,ln){var mr=Qt.constants.blendEquations,Zr=Zn.def(),pi=Zn.def(),vi=Qt.cond("typeof ",ln,'==="string"');return ee.optional(function(){function Jr(Hi,va,ms){Qt.assert(Hi,ms+" in "+mr,"invalid "+va+", must be one of "+Object.keys(li))}Jr(vi.then,ar,ln),Qt.assert(vi.else,ln+"&&typeof "+ln+'==="object"',"invalid "+ar),Jr(vi.else,ar+".rgb",ln+".rgb"),Jr(vi.else,ar+".alpha",ln+".alpha")}),vi.then(Zr,"=",pi,"=",mr,"[",ln,"];"),vi.else(Zr,"=",mr,"[",ln,".rgb];",pi,"=",mr,"[",ln,".alpha];"),Zn(vi),[Zr,pi]});case tf:return vr(function(Qt){return ee.command(oo(Qt)&&Qt.length===4,"blend.color must be a 4d array",Ut.commandStr),Bt(4,function(Zn){return+Qt[Zn]})},function(Qt,Zn,ln){return ee.optional(function(){Qt.assert(Zn,Qt.shared.isArrayLike+"("+ln+")&&"+ln+".length===4","blend.color must be a 4d array")}),Bt(4,function(mr){return Zn.def("+",ln,"[",mr,"]")})});case Ef:return vr(function(Qt){return ee.commandType(Qt,"number",Jn,Ut.commandStr),Qt|0},function(Qt,Zn,ln){return ee.optional(function(){Qt.assert(Zn,"typeof "+ln+'==="number"',"invalid stencil.mask")}),Zn.def(ln,"|0")});case Ee:return vr(function(Qt){ee.commandType(Qt,"object",Jn,Ut.commandStr);var Zn=Qt.cmp||"keep",ln=Qt.ref||0,mr="mask"in Qt?Qt.mask:-1;return ee.commandParameter(Zn,sh,ar+".cmp",Ut.commandStr),ee.commandType(ln,"number",ar+".ref",Ut.commandStr),ee.commandType(mr,"number",ar+".mask",Ut.commandStr),[sh[Zn],ln,mr]},function(Qt,Zn,ln){var mr=Qt.constants.compareFuncs;ee.optional(function(){function Jr(){Qt.assert(Zn,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Jr(ln+"&&typeof ",ln,'==="object"'),Jr('!("cmp" in ',ln,")||(",ln,".cmp in ",mr,")")});var Zr=Zn.def('"cmp" in ',ln,"?",mr,"[",ln,".cmp]",":",cd),pi=Zn.def(ln,".ref|0"),vi=Zn.def('"mask" in ',ln,"?",ln,".mask|0:-1");return[Zr,pi,vi]});case Le:case at:return vr(function(Qt){ee.commandType(Qt,"object",Jn,Ut.commandStr);var Zn=Qt.fail||"keep",ln=Qt.zfail||"keep",mr=Qt.zpass||"keep";return ee.commandParameter(Zn,fd,ar+".fail",Ut.commandStr),ee.commandParameter(ln,fd,ar+".zfail",Ut.commandStr),ee.commandParameter(mr,fd,ar+".zpass",Ut.commandStr),[ar===at?uf:ah,fd[Zn],fd[ln],fd[mr]]},function(Qt,Zn,ln){var mr=Qt.constants.stencilOps;ee.optional(function(){Qt.assert(Zn,ln+"&&typeof "+ln+'==="object"',"invalid "+ar)});function Zr(pi){return ee.optional(function(){Qt.assert(Zn,'!("'+pi+'" in '+ln+")||("+ln+"."+pi+" in "+mr+")","invalid "+ar+"."+pi+", must be one of "+Object.keys(fd))}),Zn.def('"',pi,'" in ',ln,"?",mr,"[",ln,".",pi,"]:",cd)}return[ar===at?uf:ah,Zr("fail"),Zr("zfail"),Zr("zpass")]});case Rf:return vr(function(Qt){ee.commandType(Qt,"object",Jn,Ut.commandStr);var Zn=Qt.factor|0,ln=Qt.units|0;return ee.commandType(Zn,"number",Jn+".factor",Ut.commandStr),ee.commandType(ln,"number",Jn+".units",Ut.commandStr),[Zn,ln]},function(Qt,Zn,ln){ee.optional(function(){Qt.assert(Zn,ln+"&&typeof "+ln+'==="object"',"invalid "+ar)});var mr=Zn.def(ln,".factor|0"),Zr=Zn.def(ln,".units|0");return[mr,Zr]});case rc:return vr(function(Qt){var Zn=0;return Qt==="front"?Zn=ah:Qt==="back"&&(Zn=uf),ee.command(!!Zn,Jn,Ut.commandStr),Zn},function(Qt,Zn,ln){return ee.optional(function(){Qt.assert(Zn,ln+'==="front"||'+ln+'==="back"',"invalid cull.face")}),Zn.def(ln,'==="front"?',ah,":",uf)});case Ql:return vr(function(Qt){return ee.command(typeof Qt=="number"&&Qt>=Kr.lineWidthDims[0]&&Qt<=Kr.lineWidthDims[1],"invalid line width, must be a positive number between "+Kr.lineWidthDims[0]+" and "+Kr.lineWidthDims[1],Ut.commandStr),Qt},function(Qt,Zn,ln){return ee.optional(function(){Qt.assert(Zn,"typeof "+ln+'==="number"&&'+ln+">="+Kr.lineWidthDims[0]+"&&"+ln+"<="+Kr.lineWidthDims[1],"invalid line width")}),ln});case pc:return vr(function(Qt){return ee.commandParameter(Qt,Sd,Jn,Ut.commandStr),Sd[Qt]},function(Qt,Zn,ln){return ee.optional(function(){Qt.assert(Zn,ln+'==="cw"||'+ln+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Zn.def(ln+'==="cw"?'+ug+":"+zd)});case su:return vr(function(Qt){return ee.command(oo(Qt)&&Qt.length===4,"color.mask must be length 4 array",Ut.commandStr),Qt.map(function(Zn){return!!Zn})},function(Qt,Zn,ln){return ee.optional(function(){Qt.assert(Zn,Qt.shared.isArrayLike+"("+ln+")&&"+ln+".length===4","invalid color.mask")}),Bt(4,function(mr){return"!!"+ln+"["+mr+"]"})});case lu:return vr(function(Qt){ee.command(typeof Qt=="object"&&Qt,Jn,Ut.commandStr);var Zn="value"in Qt?Qt.value:1,ln=!!Qt.invert;return ee.command(typeof Zn=="number"&&Zn>=0&&Zn<=1,"sample.coverage.value must be a number between 0 and 1",Ut.commandStr),[Zn,ln]},function(Qt,Zn,ln){ee.optional(function(){Qt.assert(Zn,ln+"&&typeof "+ln+'==="object"',"invalid sample.coverage")});var mr=Zn.def('"value" in ',ln,"?+",ln,".value:1"),Zr=Zn.def("!!",ln,".invert");return[mr,Zr]})}}),Fr}function Bc(fn,Ut){var tr=fn.static,Rr=fn.dynamic,Fr={};return Object.keys(tr).forEach(function(ar){var Jn=tr[ar],vr;if(typeof Jn=="number"||typeof Jn=="boolean")vr=Nc(function(){return Jn});else if(typeof Jn=="function"){var Qt=Jn._reglType;Qt==="texture2d"||Qt==="textureCube"?vr=Nc(function(Zn){return Zn.link(Jn)}):Qt==="framebuffer"||Qt==="framebufferCube"?(ee.command(Jn.color.length>0,'missing color attachment for framebuffer sent to uniform "'+ar+'"',Ut.commandStr),vr=Nc(function(Zn){return Zn.link(Jn.color[0])})):ee.commandRaise('invalid data for uniform "'+ar+'"',Ut.commandStr)}else oo(Jn)?vr=Nc(function(Zn){var ln=Zn.global.def("[",Bt(Jn.length,function(mr){return ee.command(typeof Jn[mr]=="number"||typeof Jn[mr]=="boolean","invalid uniform "+ar,Zn.commandStr),Jn[mr]}),"]");return ln}):ee.commandRaise('invalid or missing data for uniform "'+ar+'"',Ut.commandStr);vr.value=Jn,Fr[ar]=vr}),Object.keys(Rr).forEach(function(ar){var Jn=Rr[ar];Fr[ar]=xu(Jn,function(vr,Qt){return vr.invoke(Qt,Jn)})}),Fr}function Ns(fn,Ut){var tr=fn.static,Rr=fn.dynamic,Fr={};return Object.keys(tr).forEach(function(ar){var Jn=tr[ar],vr=Jt.id(ar),Qt=new Gr;if(Kh(Jn))Qt.state=hc,Qt.buffer=Br.getBuffer(Br.create(Jn,al,!1,!0)),Qt.type=0;else{var Zn=Br.getBuffer(Jn);if(Zn)Qt.state=hc,Qt.buffer=Zn,Qt.type=0;else if(ee.command(typeof Jn=="object"&&Jn,"invalid data for attribute "+ar,Ut.commandStr),"constant"in Jn){var ln=Jn.constant;Qt.buffer="null",Qt.state=Iu,typeof ln=="number"?Qt.x=ln:(ee.command(oo(ln)&&ln.length>0&&ln.length<=4,"invalid constant for attribute "+ar,Ut.commandStr),Ru.forEach(function(va,ms){ms<ln.length&&(Qt[va]=ln[ms])}))}else{Kh(Jn.buffer)?Zn=Br.getBuffer(Br.create(Jn.buffer,al,!1,!0)):Zn=Br.getBuffer(Jn.buffer),ee.command(!!Zn,'missing buffer for attribute "'+ar+'"',Ut.commandStr);var mr=Jn.offset|0;ee.command(mr>=0,'invalid offset for attribute "'+ar+'"',Ut.commandStr);var Zr=Jn.stride|0;ee.command(Zr>=0&&Zr<256,'invalid stride for attribute "'+ar+'", must be integer betweeen [0, 255]',Ut.commandStr);var pi=Jn.size|0;ee.command(!("size"in Jn)||pi>0&&pi<=4,'invalid size for attribute "'+ar+'", must be 1,2,3,4',Ut.commandStr);var vi=!!Jn.normalized,Jr=0;"type"in Jn&&(ee.commandParameter(Jn.type,zt,"invalid type for attribute "+ar,Ut.commandStr),Jr=zt[Jn.type]);var Hi=Jn.divisor|0;"divisor"in Jn&&(ee.command(Hi===0||Ji,'cannot specify divisor for attribute "'+ar+'", instancing not supported',Ut.commandStr),ee.command(Hi>=0,'invalid divisor for attribute "'+ar+'"',Ut.commandStr)),ee.optional(function(){var va=Ut.commandStr,ms=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Jn).forEach(function($o){ee.command(ms.indexOf($o)>=0,'unknown parameter "'+$o+'" for attribute pointer "'+ar+'" (valid parameters are '+ms+")",va)})}),Qt.buffer=Zn,Qt.state=hc,Qt.size=pi,Qt.normalized=vi,Qt.type=Jr||Zn.dtype,Qt.offset=mr,Qt.stride=Zr,Qt.divisor=Hi}}Fr[ar]=Nc(function(va,ms){var $o=va.attribCache;if(vr in $o)return $o[vr];var _a={isStream:!1};return Object.keys(Qt).forEach(function(as){_a[as]=Qt[as]}),Qt.buffer&&(_a.buffer=va.link(Qt.buffer),_a.type=_a.type||_a.buffer+".dtype"),$o[vr]=_a,_a})}),Object.keys(Rr).forEach(function(ar){var Jn=Rr[ar];function vr(Qt,Zn){var ln=Qt.invoke(Zn,Jn),mr=Qt.shared,Zr=Qt.constants,pi=mr.isBufferArgs,vi=mr.buffer;ee.optional(function(){Qt.assert(Zn,ln+"&&(typeof "+ln+'==="object"||typeof '+ln+'==="function")&&('+pi+"("+ln+")||"+vi+".getBuffer("+ln+")||"+vi+".getBuffer("+ln+".buffer)||"+pi+"("+ln+'.buffer)||("constant" in '+ln+"&&(typeof "+ln+'.constant==="number"||'+mr.isArrayLike+"("+ln+".constant))))",'invalid dynamic attribute "'+ar+'"')});var Jr={isStream:Zn.def(!1)},Hi=new Gr;Hi.state=hc,Object.keys(Hi).forEach(function(_a){Jr[_a]=Zn.def(""+Hi[_a])});var va=Jr.buffer,ms=Jr.type;Zn("if(",pi,"(",ln,")){",Jr.isStream,"=true;",va,"=",vi,".createStream(",al,",",ln,");",ms,"=",va,".dtype;","}else{",va,"=",vi,".getBuffer(",ln,");","if(",va,"){",ms,"=",va,".dtype;",'}else if("constant" in ',ln,"){",Jr.state,"=",Iu,";","if(typeof "+ln+'.constant === "number"){',Jr[Ru[0]],"=",ln,".constant;",Ru.slice(1).map(function(_a){return Jr[_a]}).join("="),"=0;","}else{",Ru.map(function(_a,as){return Jr[_a]+"="+ln+".constant.length>"+as+"?"+ln+".constant["+as+"]:0;"}).join(""),"}}else{","if(",pi,"(",ln,".buffer)){",va,"=",vi,".createStream(",al,",",ln,".buffer);","}else{",va,"=",vi,".getBuffer(",ln,".buffer);","}",ms,'="type" in ',ln,"?",Zr.glTypes,"[",ln,".type]:",va,".dtype;",Jr.normalized,"=!!",ln,".normalized;");function $o(_a){Zn(Jr[_a],"=",ln,".",_a,"|0;")}return $o("size"),$o("offset"),$o("stride"),$o("divisor"),Zn("}}"),Zn.exit("if(",Jr.isStream,"){",vi,".destroyStream(",va,");","}"),Jr}Fr[ar]=xu(Jn,vr)}),Fr}function Rc(fn,Ut){var tr=fn.static,Rr=fn.dynamic;if(Wr in tr){var Fr=tr[Wr];return Fr!==null&&Xi.getVAO(Fr)===null&&(Fr=Xi.createVAO(Fr)),Nc(function(Jn){return Jn.link(Xi.getVAO(Fr))})}else if(Wr in Rr){var ar=Rr[Wr];return xu(ar,function(Jn,vr){var Qt=Jn.invoke(vr,ar);return vr.def(Jn.shared.vao+".getVAO("+Qt+")")})}return null}function sl(fn){var Ut=fn.static,tr=fn.dynamic,Rr={};return Object.keys(Ut).forEach(function(Fr){var ar=Ut[Fr];Rr[Fr]=Nc(function(Jn,vr){return typeof ar=="number"||typeof ar=="boolean"?""+ar:Jn.link(ar)})}),Object.keys(tr).forEach(function(Fr){var ar=tr[Fr];Rr[Fr]=xu(ar,function(Jn,vr){return Jn.invoke(vr,ar)})}),Rr}function jl(fn,Ut,tr,Rr,Fr){var ar=fn.static,Jn=fn.dynamic;ee.optional(function(){var $o=[Nt,O,V,ae,we,Rt,qe,In,St,Wr].concat(Mi);function _a(as){Object.keys(as).forEach(function(Qs){ee.command($o.indexOf(Qs)>=0,'unknown parameter "'+Qs+'"',Fr.commandStr)})}_a(ar),_a(Jn)});var vr=vs(fn,Ut),Qt=la(fn,Fr),Zn=Zs(fn,Qt,Fr),ln=hl(fn,Fr),mr=Wc(fn,Fr),Zr=Os(fn,Fr,vr);function pi($o){var _a=Zn[$o];_a&&(mr[$o]=_a)}pi(mt),pi(Co(dt));var vi=Object.keys(mr).length>0,Jr={framebuffer:Qt,draw:ln,shader:Zr,state:mr,dirty:vi,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Jr.profile=Es(fn,Fr),Jr.uniforms=Bc(tr,Fr),Jr.drawVAO=Jr.scopeVAO=Rc(fn,Fr),!Jr.drawVAO&&Zr.program&&!vr&&Gn.angle_instanced_arrays){var Hi=!0,va=Zr.program.attributes.map(function($o){var _a=Ut.static[$o];return Hi=Hi&&!!_a,_a});if(Hi&&va.length>0){var ms=Xi.getVAO(Xi.createVAO(va));Jr.drawVAO=new Cu(null,null,null,function($o,_a){return $o.link(ms)}),Jr.useVAO=!0}}return vr?Jr.useVAO=!0:Jr.attributes=Ns(Ut,Fr),Jr.context=sl(Rr,Fr),Jr}function xc(fn,Ut,tr){var Rr=fn.shared,Fr=Rr.context,ar=fn.scope();Object.keys(tr).forEach(function(Jn){Ut.save(Fr,"."+Jn);var vr=tr[Jn],Qt=vr.append(fn,Ut);Array.isArray(Qt)?ar(Fr,".",Jn,"=[",Qt.join(),"];"):ar(Fr,".",Jn,"=",Qt,";")}),Ut(ar)}function Al(fn,Ut,tr,Rr){var Fr=fn.shared,ar=Fr.gl,Jn=Fr.framebuffer,vr;Zo&&(vr=Ut.def(Fr.extensions,".webgl_draw_buffers"));var Qt=fn.constants,Zn=Qt.drawBuffer,ln=Qt.backBuffer,mr;tr?mr=tr.append(fn,Ut):mr=Ut.def(Jn,".next"),Rr||Ut("if(",mr,"!==",Jn,".cur){"),Ut("if(",mr,"){",ar,".bindFramebuffer(",Eh,",",mr,".framebuffer);"),Zo&&Ut(vr,".drawBuffersWEBGL(",Zn,"[",mr,".colorAttachments.length]);"),Ut("}else{",ar,".bindFramebuffer(",Eh,",null);"),Zo&&Ut(vr,".drawBuffersWEBGL(",ln,");"),Ut("}",Jn,".cur=",mr,";"),Rr||Ut("}")}function vc(fn,Ut,tr){var Rr=fn.shared,Fr=Rr.gl,ar=fn.current,Jn=fn.next,vr=Rr.current,Qt=Rr.next,Zn=fn.cond(vr,".dirty");Mi.forEach(function(ln){var mr=Co(ln);if(!(mr in tr.state)){var Zr,pi;if(mr in Jn){Zr=Jn[mr],pi=ar[mr];var vi=Bt(Di[mr].length,function(Hi){return Zn.def(Zr,"[",Hi,"]")});Zn(fn.cond(vi.map(function(Hi,va){return Hi+"!=="+pi+"["+va+"]"}).join("||")).then(Fr,".",Ci[mr],"(",vi,");",vi.map(function(Hi,va){return pi+"["+va+"]="+Hi}).join(";"),";"))}else{Zr=Zn.def(Qt,".",mr);var Jr=fn.cond(Zr,"!==",vr,".",mr);Zn(Jr),mr in bo?Jr(fn.cond(Zr).then(Fr,".enable(",bo[mr],");").else(Fr,".disable(",bo[mr],");"),vr,".",mr,"=",Zr,";"):Jr(Fr,".",Ci[mr],"(",Zr,");",vr,".",mr,"=",Zr,";")}}}),Object.keys(tr.state).length===0&&Zn(vr,".dirty=false;"),Ut(Zn)}function Ic(fn,Ut,tr,Rr){var Fr=fn.shared,ar=fn.current,Jn=Fr.current,vr=Fr.gl;Yh(Object.keys(tr)).forEach(function(Qt){var Zn=tr[Qt];if(!(Rr&&!Rr(Zn))){var ln=Zn.append(fn,Ut);if(bo[Qt]){var mr=bo[Qt];Lf(Zn)?ln?Ut(vr,".enable(",mr,");"):Ut(vr,".disable(",mr,");"):Ut(fn.cond(ln).then(vr,".enable(",mr,");").else(vr,".disable(",mr,");")),Ut(Jn,".",Qt,"=",ln,";")}else if(oo(ln)){var Zr=ar[Qt];Ut(vr,".",Ci[Qt],"(",ln,");",ln.map(function(pi,vi){return Zr+"["+vi+"]="+pi}).join(";"),";")}else Ut(vr,".",Ci[Qt],"(",ln,");",Jn,".",Qt,"=",ln,";")}})}function Hc(fn,Ut){Ji&&(fn.instancing=Ut.def(fn.shared.extensions,".angle_instanced_arrays"))}function ws(fn,Ut,tr,Rr,Fr){var ar=fn.shared,Jn=fn.stats,vr=ar.current,Qt=ar.timer,Zn=tr.profile;function ln(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var mr,Zr;function pi($o){mr=Ut.def(),$o(mr,"=",ln(),";"),typeof Fr=="string"?$o(Jn,".count+=",Fr,";"):$o(Jn,".count++;"),Vi&&(Rr?(Zr=Ut.def(),$o(Zr,"=",Qt,".getNumPendingQueries();")):$o(Qt,".beginQuery(",Jn,");"))}function vi($o){$o(Jn,".cpuTime+=",ln(),"-",mr,";"),Vi&&(Rr?$o(Qt,".pushScopeStats(",Zr,",",Qt,".getNumPendingQueries(),",Jn,");"):$o(Qt,".endQuery();"))}function Jr($o){var _a=Ut.def(vr,".profile");Ut(vr,".profile=",$o,";"),Ut.exit(vr,".profile=",_a,";")}var Hi;if(Zn){if(Lf(Zn)){Zn.enable?(pi(Ut),vi(Ut.exit),Jr("true")):Jr("false");return}Hi=Zn.append(fn,Ut),Jr(Hi)}else Hi=Ut.def(vr,".profile");var va=fn.block();pi(va),Ut("if(",Hi,"){",va,"}");var ms=fn.block();vi(ms),Ut.exit("if(",Hi,"){",ms,"}")}function Tu(fn,Ut,tr,Rr,Fr){var ar=fn.shared;function Jn(Qt){switch(Qt){case oc:case Ch:case Bd:return 2;case Dc:case Ed:case nf:return 3;case Fu:case th:case Zd:return 4;default:return 1}}function vr(Qt,Zn,ln){var mr=ar.gl,Zr=Ut.def(Qt,".location"),pi=Ut.def(ar.attributes,"[",Zr,"]"),vi=ln.state,Jr=ln.buffer,Hi=[ln.x,ln.y,ln.z,ln.w],va=["buffer","normalized","offset","stride"];function ms(){Ut("if(!",pi,".buffer){",mr,".enableVertexAttribArray(",Zr,");}");var _a=ln.type,as;if(ln.size?as=Ut.def(ln.size,"||",Zn):as=Zn,Ut("if(",pi,".type!==",_a,"||",pi,".size!==",as,"||",va.map(function(mc){return pi+"."+mc+"!=="+ln[mc]}).join("||"),"){",mr,".bindBuffer(",al,",",Jr,".buffer);",mr,".vertexAttribPointer(",[Zr,as,_a,ln.normalized,ln.stride,ln.offset],");",pi,".type=",_a,";",pi,".size=",as,";",va.map(function(mc){return pi+"."+mc+"="+ln[mc]+";"}).join(""),"}"),Ji){var Qs=ln.divisor;Ut("if(",pi,".divisor!==",Qs,"){",fn.instancing,".vertexAttribDivisorANGLE(",[Zr,Qs],");",pi,".divisor=",Qs,";}")}}function $o(){Ut("if(",pi,".buffer){",mr,".disableVertexAttribArray(",Zr,");",pi,".buffer=null;","}if(",Ru.map(function(_a,as){return pi+"."+_a+"!=="+Hi[as]}).join("||"),"){",mr,".vertexAttrib4f(",Zr,",",Hi,");",Ru.map(function(_a,as){return pi+"."+_a+"="+Hi[as]+";"}).join(""),"}")}vi===hc?ms():vi===Iu?$o():(Ut("if(",vi,"===",hc,"){"),ms(),Ut("}else{"),$o(),Ut("}"))}Rr.forEach(function(Qt){var Zn=Qt.name,ln=tr.attributes[Zn],mr;if(ln){if(!Fr(ln))return;mr=ln.append(fn,Ut)}else{if(!Fr(ql))return;var Zr=fn.scopeAttrib(Zn);ee.optional(function(){fn.assert(Ut,Zr+".state","missing attribute "+Zn)}),mr={},Object.keys(new Gr).forEach(function(pi){mr[pi]=Ut.def(Zr,".",pi)})}vr(fn.link(Qt),Jn(Qt.info.type),mr)})}function Dl(fn,Ut,tr,Rr,Fr){for(var ar=fn.shared,Jn=ar.gl,vr,Qt=0;Qt<Rr.length;++Qt){var Zn=Rr[Qt],ln=Zn.name,mr=Zn.info.type,Zr=tr.uniforms[ln],pi=fn.link(Zn),vi=pi+".location",Jr;if(Zr){if(!Fr(Zr))continue;if(Lf(Zr)){var Hi=Zr.value;if(ee.command(Hi!==null&&typeof Hi!="undefined",'missing uniform "'+ln+'"',fn.commandStr),mr===ih||mr===oh){ee.command(typeof Hi=="function"&&(mr===ih&&(Hi._reglType==="texture2d"||Hi._reglType==="framebuffer")||mr===oh&&(Hi._reglType==="textureCube"||Hi._reglType==="framebufferCube")),"invalid texture for uniform "+ln,fn.commandStr);var va=fn.link(Hi._texture||Hi.color[0]._texture);Ut(Jn,".uniform1i(",vi,",",va+".bind());"),Ut.exit(va,".unbind();")}else if(mr===wf||mr===rh||mr===If){ee.optional(function(){ee.command(oo(Hi),"invalid matrix for uniform "+ln,fn.commandStr),ee.command(mr===wf&&Hi.length===4||mr===rh&&Hi.length===9||mr===If&&Hi.length===16,"invalid length for matrix uniform "+ln,fn.commandStr)});var ms=fn.global.def("new Float32Array(["+Array.prototype.slice.call(Hi)+"])"),$o=2;mr===rh?$o=3:mr===If&&($o=4),Ut(Jn,".uniformMatrix",$o,"fv(",vi,",false,",ms,");")}else{switch(mr){case vl:ee.commandType(Hi,"number","uniform "+ln,fn.commandStr),vr="1f";break;case oc:ee.command(oo(Hi)&&Hi.length===2,"uniform "+ln,fn.commandStr),vr="2f";break;case Dc:ee.command(oo(Hi)&&Hi.length===3,"uniform "+ln,fn.commandStr),vr="3f";break;case Fu:ee.command(oo(Hi)&&Hi.length===4,"uniform "+ln,fn.commandStr),vr="4f";break;case nh:ee.commandType(Hi,"boolean","uniform "+ln,fn.commandStr),vr="1i";break;case Gu:ee.commandType(Hi,"number","uniform "+ln,fn.commandStr),vr="1i";break;case Bd:ee.command(oo(Hi)&&Hi.length===2,"uniform "+ln,fn.commandStr),vr="2i";break;case Ch:ee.command(oo(Hi)&&Hi.length===2,"uniform "+ln,fn.commandStr),vr="2i";break;case nf:ee.command(oo(Hi)&&Hi.length===3,"uniform "+ln,fn.commandStr),vr="3i";break;case Ed:ee.command(oo(Hi)&&Hi.length===3,"uniform "+ln,fn.commandStr),vr="3i";break;case Zd:ee.command(oo(Hi)&&Hi.length===4,"uniform "+ln,fn.commandStr),vr="4i";break;case th:ee.command(oo(Hi)&&Hi.length===4,"uniform "+ln,fn.commandStr),vr="4i";break}Ut(Jn,".uniform",vr,"(",vi,",",oo(Hi)?Array.prototype.slice.call(Hi):Hi,");")}continue}else Jr=Zr.append(fn,Ut)}else{if(!Fr(ql))continue;Jr=Ut.def(ar.uniforms,"[",Jt.id(ln),"]")}mr===ih?(ee(!Array.isArray(Jr),"must specify a scalar prop for textures"),Ut("if(",Jr,"&&",Jr,'._reglType==="framebuffer"){',Jr,"=",Jr,".color[0];","}")):mr===oh&&(ee(!Array.isArray(Jr),"must specify a scalar prop for cube maps"),Ut("if(",Jr,"&&",Jr,'._reglType==="framebufferCube"){',Jr,"=",Jr,".color[0];","}")),ee.optional(function(){function Hu(cu,qh){fn.assert(Ut,cu,'bad data or missing for uniform "'+ln+'".  '+qh)}function lh(cu){ee(!Array.isArray(Jr),"must not specify an array type for uniform"),Hu("typeof "+Jr+'==="'+cu+'"',"invalid type, expected "+cu)}function Sf(cu,qh){Array.isArray(Jr)?ee(Jr.length===cu,"must have length "+cu):Hu(ar.isArrayLike+"("+Jr+")&&"+Jr+".length==="+cu,"invalid vector, should have length "+cu,fn.commandStr)}function Th(cu){ee(!Array.isArray(Jr),"must not specify a value type"),Hu("typeof "+Jr+'==="function"&&'+Jr+'._reglType==="texture'+(cu===eo?"2d":"Cube")+'"',"invalid texture type",fn.commandStr)}switch(mr){case Gu:lh("number");break;case Ch:Sf(2,"number");break;case Ed:Sf(3,"number");break;case th:Sf(4,"number");break;case vl:lh("number");break;case oc:Sf(2,"number");break;case Dc:Sf(3,"number");break;case Fu:Sf(4,"number");break;case nh:lh("boolean");break;case Bd:Sf(2,"boolean");break;case nf:Sf(3,"boolean");break;case Zd:Sf(4,"boolean");break;case wf:Sf(4,"number");break;case rh:Sf(9,"number");break;case If:Sf(16,"number");break;case ih:Th(eo);break;case oh:Th(As);break}});var _a=1;switch(mr){case ih:case oh:var as=Ut.def(Jr,"._texture");Ut(Jn,".uniform1i(",vi,",",as,".bind());"),Ut.exit(as,".unbind();");continue;case Gu:case nh:vr="1i";break;case Ch:case Bd:vr="2i",_a=2;break;case Ed:case nf:vr="3i",_a=3;break;case th:case Zd:vr="4i",_a=4;break;case vl:vr="1f";break;case oc:vr="2f",_a=2;break;case Dc:vr="3f",_a=3;break;case Fu:vr="4f",_a=4;break;case wf:vr="Matrix2fv";break;case rh:vr="Matrix3fv";break;case If:vr="Matrix4fv";break}if(Ut(Jn,".uniform",vr,"(",vi,","),vr.charAt(0)==="M"){var Qs=Math.pow(mr-wf+2,2),mc=fn.global.def("new Float32Array(",Qs,")");Array.isArray(Jr)?Ut("false,(",Bt(Qs,function(Hu){return mc+"["+Hu+"]="+Jr[Hu]}),",",mc,")"):Ut("false,(Array.isArray(",Jr,")||",Jr," instanceof Float32Array)?",Jr,":(",Bt(Qs,function(Hu){return mc+"["+Hu+"]="+Jr+"["+Hu+"]"}),",",mc,")")}else _a>1?Ut(Bt(_a,function(Hu){return Array.isArray(Jr)?Jr[Hu]:Jr+"["+Hu+"]"})):(ee(!Array.isArray(Jr),"uniform value must not be an array"),Ut(Jr));Ut(");")}}function za(fn,Ut,tr,Rr){var Fr=fn.shared,ar=Fr.gl,Jn=Fr.draw,vr=Rr.draw;function Qt(){var as=vr.elements,Qs,mc=Ut;return as?((as.contextDep&&Rr.contextDynamic||as.propDep)&&(mc=tr),Qs=as.append(fn,mc)):Qs=mc.def(Jn,".",ae),Qs&&mc("if("+Qs+")"+ar+".bindBuffer("+Oc+","+Qs+".buffer.buffer);"),Qs}function Zn(){var as=vr.count,Qs,mc=Ut;return as?((as.contextDep&&Rr.contextDynamic||as.propDep)&&(mc=tr),Qs=as.append(fn,mc),ee.optional(function(){as.MISSING&&fn.assert(Ut,"false","missing vertex count"),as.DYNAMIC&&fn.assert(mc,Qs+">=0","missing vertex count")})):(Qs=mc.def(Jn,".",qe),ee.optional(function(){fn.assert(mc,Qs+">=0","missing vertex count")})),Qs}var ln=Qt();function mr(as){var Qs=vr[as];return Qs?Qs.contextDep&&Rr.contextDynamic||Qs.propDep?Qs.append(fn,tr):Qs.append(fn,Ut):Ut.def(Jn,".",as)}var Zr=mr(we),pi=mr(Rt),vi=Zn();if(typeof vi=="number"){if(vi===0)return}else tr("if(",vi,"){"),tr.exit("}");var Jr,Hi;Ji&&(Jr=mr(In),Hi=fn.instancing);var va=ln+".type",ms=vr.elements&&Lf(vr.elements);function $o(){function as(){tr(Hi,".drawElementsInstancedANGLE(",[Zr,vi,va,pi+"<<(("+va+"-"+ad+")>>1)",Jr],");")}function Qs(){tr(Hi,".drawArraysInstancedANGLE(",[Zr,pi,vi,Jr],");")}ln?ms?as():(tr("if(",ln,"){"),as(),tr("}else{"),Qs(),tr("}")):Qs()}function _a(){function as(){tr(ar+".drawElements("+[Zr,vi,va,pi+"<<(("+va+"-"+ad+")>>1)"]+");")}function Qs(){tr(ar+".drawArrays("+[Zr,pi,vi]+");")}ln?ms?as():(tr("if(",ln,"){"),as(),tr("}else{"),Qs(),tr("}")):Qs()}Ji&&(typeof Jr!="number"||Jr>=0)?typeof Jr=="string"?(tr("if(",Jr,">0){"),$o(),tr("}else if(",Jr,"<0){"),_a(),tr("}")):$o():_a()}function js(fn,Ut,tr,Rr,Fr){var ar=Xa(),Jn=ar.proc("body",Fr);return ee.optional(function(){ar.commandStr=Ut.commandStr,ar.command=ar.link(Ut.commandStr)}),Ji&&(ar.instancing=Jn.def(ar.shared.extensions,".angle_instanced_arrays")),fn(ar,Jn,tr,Rr),ar.compile().body}function pl(fn,Ut,tr,Rr){Hc(fn,Ut),tr.useVAO?tr.drawVAO?Ut(fn.shared.vao,".setVAO(",tr.drawVAO.append(fn,Ut),");"):Ut(fn.shared.vao,".setVAO(",fn.shared.vao,".targetVAO);"):(Ut(fn.shared.vao,".setVAO(null);"),Tu(fn,Ut,tr,Rr.attributes,function(){return!0})),Dl(fn,Ut,tr,Rr.uniforms,function(){return!0}),za(fn,Ut,Ut,tr)}function Kc(fn,Ut){var tr=fn.proc("draw",1);Hc(fn,tr),xc(fn,tr,Ut.context),Al(fn,tr,Ut.framebuffer),vc(fn,tr,Ut),Ic(fn,tr,Ut.state),ws(fn,tr,Ut,!1,!0);var Rr=Ut.shader.progVar.append(fn,tr);if(tr(fn.shared.gl,".useProgram(",Rr,".program);"),Ut.shader.program)pl(fn,tr,Ut,Ut.shader.program);else{tr(fn.shared.vao,".setVAO(null);");var Fr=fn.global.def("{}"),ar=tr.def(Rr,".id"),Jn=tr.def(Fr,"[",ar,"]");tr(fn.cond(Jn).then(Jn,".call(this,a0);").else(Jn,"=",Fr,"[",ar,"]=",fn.link(function(vr){return js(pl,fn,Ut,vr,1)}),"(",Rr,");",Jn,".call(this,a0);"))}Object.keys(Ut.state).length>0&&tr(fn.shared.current,".dirty=true;")}function nd(fn,Ut,tr,Rr){fn.batchId="a1",Hc(fn,Ut);function Fr(){return!0}Tu(fn,Ut,tr,Rr.attributes,Fr),Dl(fn,Ut,tr,Rr.uniforms,Fr),za(fn,Ut,Ut,tr)}function Pd(fn,Ut,tr,Rr){Hc(fn,Ut);var Fr=tr.contextDep,ar=Ut.def(),Jn="a0",vr="a1",Qt=Ut.def();fn.shared.props=Qt,fn.batchId=ar;var Zn=fn.scope(),ln=fn.scope();Ut(Zn.entry,"for(",ar,"=0;",ar,"<",vr,";++",ar,"){",Qt,"=",Jn,"[",ar,"];",ln,"}",Zn.exit);function mr(va){return va.contextDep&&Fr||va.propDep}function Zr(va){return!mr(va)}if(tr.needsContext&&xc(fn,ln,tr.context),tr.needsFramebuffer&&Al(fn,ln,tr.framebuffer),Ic(fn,ln,tr.state,mr),tr.profile&&mr(tr.profile)&&ws(fn,ln,tr,!1,!0),Rr)tr.useVAO?tr.drawVAO?mr(tr.drawVAO)?ln(fn.shared.vao,".setVAO(",tr.drawVAO.append(fn,ln),");"):Zn(fn.shared.vao,".setVAO(",tr.drawVAO.append(fn,Zn),");"):Zn(fn.shared.vao,".setVAO(",fn.shared.vao,".targetVAO);"):(Zn(fn.shared.vao,".setVAO(null);"),Tu(fn,Zn,tr,Rr.attributes,Zr),Tu(fn,ln,tr,Rr.attributes,mr)),Dl(fn,Zn,tr,Rr.uniforms,Zr),Dl(fn,ln,tr,Rr.uniforms,mr),za(fn,Zn,ln,tr);else{var pi=fn.global.def("{}"),vi=tr.shader.progVar.append(fn,ln),Jr=ln.def(vi,".id"),Hi=ln.def(pi,"[",Jr,"]");ln(fn.shared.gl,".useProgram(",vi,".program);","if(!",Hi,"){",Hi,"=",pi,"[",Jr,"]=",fn.link(function(va){return js(nd,fn,tr,va,2)}),"(",vi,");}",Hi,".call(this,a0[",ar,"],",ar,");")}}function Tn(fn,Ut){var tr=fn.proc("batch",2);fn.batchId="0",Hc(fn,tr);var Rr=!1,Fr=!0;Object.keys(Ut.context).forEach(function(pi){Rr=Rr||Ut.context[pi].propDep}),Rr||(xc(fn,tr,Ut.context),Fr=!1);var ar=Ut.framebuffer,Jn=!1;ar?(ar.propDep?Rr=Jn=!0:ar.contextDep&&Rr&&(Jn=!0),Jn||Al(fn,tr,ar)):Al(fn,tr,null),Ut.state.viewport&&Ut.state.viewport.propDep&&(Rr=!0);function vr(pi){return pi.contextDep&&Rr||pi.propDep}vc(fn,tr,Ut),Ic(fn,tr,Ut.state,function(pi){return!vr(pi)}),(!Ut.profile||!vr(Ut.profile))&&ws(fn,tr,Ut,!1,"a1"),Ut.contextDep=Rr,Ut.needsContext=Fr,Ut.needsFramebuffer=Jn;var Qt=Ut.shader.progVar;if(Qt.contextDep&&Rr||Qt.propDep)Pd(fn,tr,Ut,null);else{var Zn=Qt.append(fn,tr);if(tr(fn.shared.gl,".useProgram(",Zn,".program);"),Ut.shader.program)Pd(fn,tr,Ut,Ut.shader.program);else{tr(fn.shared.vao,".setVAO(null);");var ln=fn.global.def("{}"),mr=tr.def(Zn,".id"),Zr=tr.def(ln,"[",mr,"]");tr(fn.cond(Zr).then(Zr,".call(this,a0,a1);").else(Zr,"=",ln,"[",mr,"]=",fn.link(function(pi){return js(Pd,fn,Ut,pi,2)}),"(",Zn,");",Zr,".call(this,a0,a1);"))}}Object.keys(Ut.state).length>0&&tr(fn.shared.current,".dirty=true;")}function er(fn,Ut){var tr=fn.proc("scope",3);fn.batchId="a2";var Rr=fn.shared,Fr=Rr.current;xc(fn,tr,Ut.context),Ut.framebuffer&&Ut.framebuffer.append(fn,tr),Yh(Object.keys(Ut.state)).forEach(function(Jn){var vr=Ut.state[Jn],Qt=vr.append(fn,tr);oo(Qt)?Qt.forEach(function(Zn,ln){tr.set(fn.next[Jn],"["+ln+"]",Zn)}):tr.set(Rr.next,"."+Jn,Qt)}),ws(fn,tr,Ut,!0,!0),[ae,Rt,qe,In,we].forEach(function(Jn){var vr=Ut.draw[Jn];vr&&tr.set(Rr.draw,"."+Jn,""+vr.append(fn,tr))}),Object.keys(Ut.uniforms).forEach(function(Jn){var vr=Ut.uniforms[Jn].append(fn,tr);Array.isArray(vr)&&(vr="["+vr.join()+"]"),tr.set(Rr.uniforms,"["+Jt.id(Jn)+"]",vr)}),Object.keys(Ut.attributes).forEach(function(Jn){var vr=Ut.attributes[Jn].append(fn,tr),Qt=fn.scopeAttrib(Jn);Object.keys(new Gr).forEach(function(Zn){tr.set(Qt,"."+Zn,vr[Zn])})}),Ut.scopeVAO&&tr.set(Rr.vao,".targetVAO",Ut.scopeVAO.append(fn,tr));function ar(Jn){var vr=Ut.shader[Jn];vr&&tr.set(Rr.shader,"."+Jn,vr.append(fn,tr))}ar(O),ar(V),Object.keys(Ut.state).length>0&&(tr(Fr,".dirty=true;"),tr.exit(Fr,".dirty=true;")),tr("a1(",fn.shared.context,",a0,",fn.batchId,");")}function Xr(fn){if(!(typeof fn!="object"||oo(fn))){for(var Ut=Object.keys(fn),tr=0;tr<Ut.length;++tr)if(pr.isDynamic(fn[Ut[tr]]))return!0;return!1}}function na(fn,Ut,tr){var Rr=Ut.static[tr];if(!Rr||!Xr(Rr))return;var Fr=fn.global,ar=Object.keys(Rr),Jn=!1,vr=!1,Qt=!1,Zn=fn.global.def("{}");ar.forEach(function(mr){var Zr=Rr[mr];if(pr.isDynamic(Zr)){typeof Zr=="function"&&(Zr=Rr[mr]=pr.unbox(Zr));var pi=xu(Zr,null);Jn=Jn||pi.thisDep,Qt=Qt||pi.propDep,vr=vr||pi.contextDep}else{switch(Fr(Zn,".",mr,"="),typeof Zr){case"number":Fr(Zr);break;case"string":Fr('"',Zr,'"');break;case"object":Array.isArray(Zr)&&Fr("[",Zr.join(),"]");break;default:Fr(fn.link(Zr));break}Fr(";")}});function ln(mr,Zr){ar.forEach(function(pi){var vi=Rr[pi];if(pr.isDynamic(vi)){var Jr=mr.invoke(Zr,vi);Zr(Zn,".",pi,"=",Jr,";")}})}Ut.dynamic[tr]=new pr.DynamicVariable(Nf,{thisDep:Jn,contextDep:vr,propDep:Qt,ref:Zn,append:ln}),delete Ut.static[tr]}function Rs(fn,Ut,tr,Rr,Fr){var ar=Xa();ar.stats=ar.link(Fr),Object.keys(Ut.static).forEach(function(vr){na(ar,Ut,vr)}),dl.forEach(function(vr){na(ar,fn,vr)});var Jn=jl(fn,Ut,tr,Rr,ar);return Kc(ar,Jn),er(ar,Jn),Tn(ar,Jn),l(ar.compile(),{destroy:function(){Jn.shader.program.destroy()}})}return{next:Go,current:Di,procs:function(){var fn=Xa(),Ut=fn.proc("poll"),tr=fn.proc("refresh"),Rr=fn.block();Ut(Rr),tr(Rr);var Fr=fn.shared,ar=Fr.gl,Jn=Fr.next,vr=Fr.current;Rr(vr,".dirty=false;"),Al(fn,Ut),Al(fn,tr,null,!0);var Qt;Ji&&(Qt=fn.link(Ji)),Gn.oes_vertex_array_object&&tr(fn.link(Gn.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Zn=0;Zn<Kr.maxAttributes;++Zn){var ln=tr.def(Fr.attributes,"[",Zn,"]"),mr=fn.cond(ln,".buffer");mr.then(ar,".enableVertexAttribArray(",Zn,");",ar,".bindBuffer(",al,",",ln,".buffer.buffer);",ar,".vertexAttribPointer(",Zn,",",ln,".size,",ln,".type,",ln,".normalized,",ln,".stride,",ln,".offset);").else(ar,".disableVertexAttribArray(",Zn,");",ar,".vertexAttrib4f(",Zn,",",ln,".x,",ln,".y,",ln,".z,",ln,".w);",ln,".buffer=null;"),tr(mr),Ji&&tr(Qt,".vertexAttribDivisorANGLE(",Zn,",",ln,".divisor);")}return tr(fn.shared.vao,".currentVAO=null;",fn.shared.vao,".setVAO(",fn.shared.vao,".targetVAO);"),Object.keys(bo).forEach(function(Zr){var pi=bo[Zr],vi=Rr.def(Jn,".",Zr),Jr=fn.block();Jr("if(",vi,"){",ar,".enable(",pi,")}else{",ar,".disable(",pi,")}",vr,".",Zr,"=",vi,";"),tr(Jr),Ut("if(",vi,"!==",vr,".",Zr,"){",Jr,"}")}),Object.keys(Ci).forEach(function(Zr){var pi=Ci[Zr],vi=Di[Zr],Jr,Hi,va=fn.block();if(va(ar,".",pi,"("),oo(vi)){var ms=vi.length;Jr=fn.global.def(Jn,".",Zr),Hi=fn.global.def(vr,".",Zr),va(Bt(ms,function($o){return Jr+"["+$o+"]"}),");",Bt(ms,function($o){return Hi+"["+$o+"]="+Jr+"["+$o+"];"}).join("")),Ut("if(",Bt(ms,function($o){return Jr+"["+$o+"]!=="+Hi+"["+$o+"]"}).join("||"),"){",va,"}")}else Jr=Rr.def(Jn,".",Zr),Hi=Rr.def(vr,".",Zr),va(Jr,");",vr,".",Zr,"=",Jr,";"),Ut("if(",Jr,"!==",Hi,"){",va,"}");tr(va)}),fn.compile()}(),compile:Rs}}function pg(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var iv=34918,wh=34919,Sh=35007,Md=function($e,Jt){if(!Jt.ext_disjoint_timer_query)return null;var Gn=[];function Kr(){return Gn.pop()||Jt.ext_disjoint_timer_query.createQueryEXT()}function Br(Ji){Gn.push(Ji)}var Yr=[];function ri(Ji){var Zo=Kr();Jt.ext_disjoint_timer_query.beginQueryEXT(Sh,Zo),Yr.push(Zo),Vi(Yr.length-1,Yr.length,Ji)}function Ii(){Jt.ext_disjoint_timer_query.endQueryEXT(Sh)}function Wi(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Xi=[];function zi(){return Xi.pop()||new Wi}function Ui(Ji){Xi.push(Ji)}var _o=[];function Vi(Ji,Zo,Di){var Go=zi();Go.startQueryIndex=Ji,Go.endQueryIndex=Zo,Go.sum=0,Go.stats=Di,_o.push(Go)}var vo=[],Gr=[];function li(){var Ji,Zo,Di=Yr.length;if(Di!==0){Gr.length=Math.max(Gr.length,Di+1),vo.length=Math.max(vo.length,Di+1),vo[0]=0,Gr[0]=0;var Go=0;for(Ji=0,Zo=0;Zo<Yr.length;++Zo){var Mi=Yr[Zo];Jt.ext_disjoint_timer_query.getQueryObjectEXT(Mi,wh)?(Go+=Jt.ext_disjoint_timer_query.getQueryObjectEXT(Mi,iv),Br(Mi)):Yr[Ji++]=Mi,vo[Zo+1]=Go,Gr[Zo+1]=Ji}for(Yr.length=Ji,Ji=0,Zo=0;Zo<_o.length;++Zo){var bo=_o[Zo],Ci=bo.startQueryIndex,Co=bo.endQueryIndex;bo.sum+=vo[Co]-vo[Ci];var Na=Gr[Ci],gs=Gr[Co];gs===Na?(bo.stats.gpuTime+=bo.sum/1e6,Ui(bo)):(bo.startQueryIndex=Na,bo.endQueryIndex=gs,_o[Ji++]=bo)}_o.length=Ji}}return{beginQuery:ri,endQuery:Ii,pushScopeStats:Vi,update:li,getNumPendingQueries:function(){return Yr.length},clear:function(){Gn.push.apply(Gn,Yr);for(var Ji=0;Ji<Gn.length;Ji++)Jt.ext_disjoint_timer_query.deleteQueryEXT(Gn[Ji]);Yr.length=0,Gn.length=0},restore:function(){Yr.length=0,Gn.length=0}}},dd=16384,ov=256,td=1024,Mh=34962,Np="webglcontextlost",Qh="webglcontextrestored",hd=1,Jh=2,Ph=3;function pd($e,Jt){for(var Gn=0;Gn<$e.length;++Gn)if($e[Gn]===Jt)return Gn;return-1}function Rp($e){var Jt=di($e);if(!Jt)return null;var Gn=Jt.gl,Kr=Gn.getContextAttributes(),Br=Gn.isContextLost(),Yr=Yn(Gn,Jt);if(!Yr)return null;var ri=Cn(),Ii=pg(),Wi=Yr.extensions,Xi=Md(Gn,Wi),zi=Sn(),Ui=Gn.drawingBufferWidth,_o=Gn.drawingBufferHeight,Vi={tick:0,time:0,viewportWidth:Ui,viewportHeight:_o,framebufferWidth:Ui,framebufferHeight:_o,drawingBufferWidth:Ui,drawingBufferHeight:_o,pixelRatio:Jt.pixelRatio},vo={},Gr={elements:null,primitive:4,count:-1,offset:0,instances:-1},li=ya(Gn,Wi),Ji=Gs(Gn,Ii,Jt,Di),Zo=tu(Gn,Wi,li,Ii,Ji);function Di(za){return Zo.destroyBuffer(za)}var Go=Mr(Gn,Wi,Ji,Ii),Mi=yf(Gn,ri,Ii,Jt),bo=fc(Gn,Wi,li,function(){Na.procs.poll()},Vi,Ii,Jt),Ci=Bs(Gn,Wi,li,Ii,Jt),Co=Uf(Gn,Wi,li,bo,Ci,Ii),Na=Xh(Gn,ri,Wi,li,Ji,Go,bo,Co,vo,Zo,Mi,Gr,Vi,Xi,Jt),gs=bd(Gn,Co,Na.procs.poll,Vi,Kr,Wi,li),Eo=Na.next,no=Gn.canvas,Oi=[],Xa=[],Es=[],la=[Jt.onDestroy],Zs=null;function vs(){if(Oi.length===0){Xi&&Xi.update(),Zs=null;return}Zs=Cr.next(vs),Ic();for(var za=Oi.length-1;za>=0;--za){var js=Oi[za];js&&js(Vi,null,0)}Gn.flush(),Xi&&Xi.update()}function Os(){!Zs&&Oi.length>0&&(Zs=Cr.next(vs))}function hl(){Zs&&(Cr.cancel(vs),Zs=null)}function Wc(za){za.preventDefault(),Br=!0,hl(),Xa.forEach(function(js){js()})}function Bc(za){Gn.getError(),Br=!1,Yr.restore(),Mi.restore(),Ji.restore(),bo.restore(),Ci.restore(),Co.restore(),Zo.restore(),Xi&&Xi.restore(),Na.procs.refresh(),Os(),Es.forEach(function(js){js()})}no&&(no.addEventListener(Np,Wc,!1),no.addEventListener(Qh,Bc,!1));function Ns(){Oi.length=0,hl(),no&&(no.removeEventListener(Np,Wc),no.removeEventListener(Qh,Bc)),Mi.clear(),Co.clear(),Ci.clear(),bo.clear(),Go.clear(),Ji.clear(),Zo.clear(),Xi&&Xi.clear(),la.forEach(function(za){za()})}function Rc(za){ee(!!za,"invalid args to regl({...})"),ee.type(za,"object","invalid args to regl({...})");function js(Fr){var ar=l({},Fr);delete ar.uniforms,delete ar.attributes,delete ar.context,delete ar.vao,"stencil"in ar&&ar.stencil.op&&(ar.stencil.opBack=ar.stencil.opFront=ar.stencil.op,delete ar.stencil.op);function Jn(vr){if(vr in ar){var Qt=ar[vr];delete ar[vr],Object.keys(Qt).forEach(function(Zn){ar[vr+"."+Zn]=Qt[Zn]})}}return Jn("blend"),Jn("depth"),Jn("cull"),Jn("stencil"),Jn("polygonOffset"),Jn("scissor"),Jn("sample"),"vao"in Fr&&(ar.vao=Fr.vao),ar}function pl(Fr,ar){var Jn={},vr={};return Object.keys(Fr).forEach(function(Qt){var Zn=Fr[Qt];if(pr.isDynamic(Zn)){vr[Qt]=pr.unbox(Zn,Qt);return}else if(ar&&Array.isArray(Zn)){for(var ln=0;ln<Zn.length;++ln)if(pr.isDynamic(Zn[ln])){vr[Qt]=pr.unbox(Zn,Qt);return}}Jn[Qt]=Zn}),{dynamic:vr,static:Jn}}var Kc=pl(za.context||{},!0),nd=pl(za.uniforms||{},!0),Pd=pl(za.attributes||{},!1),Tn=pl(js(za),!1),er={gpuTime:0,cpuTime:0,count:0},Xr=Na.compile(Tn,Pd,nd,Kc,er),na=Xr.draw,Rs=Xr.batch,fn=Xr.scope,Ut=[];function tr(Fr){for(;Ut.length<Fr;)Ut.push(null);return Ut}function Rr(Fr,ar){var Jn;if(Br&&ee.raise("context lost"),typeof Fr=="function")return fn.call(this,null,Fr,0);if(typeof ar=="function")if(typeof Fr=="number")for(Jn=0;Jn<Fr;++Jn)fn.call(this,null,ar,Jn);else if(Array.isArray(Fr))for(Jn=0;Jn<Fr.length;++Jn)fn.call(this,Fr[Jn],ar,Jn);else return fn.call(this,Fr,ar,0);else if(typeof Fr=="number"){if(Fr>0)return Rs.call(this,tr(Fr|0),Fr|0)}else if(Array.isArray(Fr)){if(Fr.length)return Rs.call(this,Fr,Fr.length)}else return na.call(this,Fr)}return l(Rr,{stats:er,destroy:function(){Xr.destroy()}})}var sl=Co.setFBO=Rc({framebuffer:pr.define.call(null,hd,"framebuffer")});function jl(za,js){var pl=0;Na.procs.poll();var Kc=js.color;Kc&&(Gn.clearColor(+Kc[0]||0,+Kc[1]||0,+Kc[2]||0,+Kc[3]||0),pl|=dd),"depth"in js&&(Gn.clearDepth(+js.depth),pl|=ov),"stencil"in js&&(Gn.clearStencil(js.stencil|0),pl|=td),ee(!!pl,"called regl.clear with no buffer specified"),Gn.clear(pl)}function xc(za){if(ee(typeof za=="object"&&za,"regl.clear() takes an object as input"),"framebuffer"in za)if(za.framebuffer&&za.framebuffer_reglType==="framebufferCube")for(var js=0;js<6;++js)sl(l({framebuffer:za.framebuffer.faces[js]},za),jl);else sl(za,jl);else jl(null,za)}function Al(za){ee.type(za,"function","regl.frame() callback must be a function"),Oi.push(za);function js(){var pl=pd(Oi,za);ee(pl>=0,"cannot cancel a frame twice");function Kc(){var nd=pd(Oi,Kc);Oi[nd]=Oi[Oi.length-1],Oi.length-=1,Oi.length<=0&&hl()}Oi[pl]=Kc}return Os(),{cancel:js}}function vc(){var za=Eo.viewport,js=Eo.scissor_box;za[0]=za[1]=js[0]=js[1]=0,Vi.viewportWidth=Vi.framebufferWidth=Vi.drawingBufferWidth=za[2]=js[2]=Gn.drawingBufferWidth,Vi.viewportHeight=Vi.framebufferHeight=Vi.drawingBufferHeight=za[3]=js[3]=Gn.drawingBufferHeight}function Ic(){Vi.tick+=1,Vi.time=ws(),vc(),Na.procs.poll()}function Hc(){bo.refresh(),vc(),Na.procs.refresh(),Xi&&Xi.update()}function ws(){return(Sn()-zi)/1e3}Hc();function Tu(za,js){ee.type(js,"function","listener callback must be a function");var pl;switch(za){case"frame":return Al(js);case"lost":pl=Xa;break;case"restore":pl=Es;break;case"destroy":pl=la;break;default:ee.raise("invalid event, must be one of frame,lost,restore,destroy")}return pl.push(js),{cancel:function(){for(var Kc=0;Kc<pl.length;++Kc)if(pl[Kc]===js){pl[Kc]=pl[pl.length-1],pl.pop();return}}}}var Dl=l(Rc,{clear:xc,prop:pr.define.bind(null,hd),context:pr.define.bind(null,Jh),this:pr.define.bind(null,Ph),draw:Rc({}),buffer:function(za){return Ji.create(za,Mh,!1,!1)},elements:function(za){return Go.create(za,!1)},texture:bo.create2D,cube:bo.createCube,renderbuffer:Ci.create,framebuffer:Co.create,framebufferCube:Co.createCube,vao:Zo.createVAO,attributes:Kr,frame:Al,on:Tu,limits:li,hasExtension:function(za){return li.extensions.indexOf(za.toLowerCase())>=0},read:gs,destroy:Ns,_gl:Gn,_refresh:Hc,poll:function(){Ic(),Xi&&Xi.update()},now:ws,stats:Ii});return Jt.onDone(null,Dl),Dl}return Rp})},94633:function(j){j.exports=function(m){return M(l(m),m)},j.exports.array=M;function M(m,g){var x=m.length,A=new Array(x),E={},w=x,k=v(g),Z=d(m);for(g.forEach(function($){if(!Z.has($[0])||!Z.has($[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});w--;)E[w]||U(m[w],w,new Set);return A;function U($,te,Q){if(Q.has($)){var J;try{J=", node was:"+JSON.stringify($)}catch(re){J=""}throw new Error("Cyclic dependency"+J)}if(!Z.has($))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify($));if(!E[te]){E[te]=!0;var K=k.get($)||new Set;if(K=Array.from(K),te=K.length){Q.add($);do{var Y=K[--te];U(Y,Z.get(Y),Q)}while(te);Q.delete($)}A[--x]=$}}}function l(m){for(var g=new Set,x=0,A=m.length;x<A;x++){var E=m[x];g.add(E[0]),g.add(E[1])}return Array.from(g)}function v(m){for(var g=new Map,x=0,A=m.length;x<A;x++){var E=m[x];g.has(E[0])||g.set(E[0],new Set),g.has(E[1])||g.set(E[1],new Set),g.get(E[0]).add(E[1])}return g}function d(m){for(var g=new Map,x=0,A=m.length;x<A;x++)g.set(m[x],x);return g}},17061:function(j,M,l){var v=l(18698).default;function d(){"use strict";j.exports=d=function(){return g},j.exports.__esModule=!0,j.exports.default=j.exports;var m,g={},x=Object.prototype,A=x.hasOwnProperty,E=Object.defineProperty||function(Ve,Me,Qe){Ve[Me]=Qe.value},w=typeof Symbol=="function"?Symbol:{},k=w.iterator||"@@iterator",Z=w.asyncIterator||"@@asyncIterator",U=w.toStringTag||"@@toStringTag";function $(Ve,Me,Qe){return Object.defineProperty(Ve,Me,{value:Qe,enumerable:!0,configurable:!0,writable:!0}),Ve[Me]}try{$({},"")}catch(Ve){$=function(Qe,bt,Ge){return Qe[bt]=Ge}}function te(Ve,Me,Qe,bt){var Ge=Me&&Me.prototype instanceof le?Me:le,Ae=Object.create(Ge.prototype),be=new Mt(bt||[]);return E(Ae,"_invoke",{value:he(Ve,Qe,be)}),Ae}function Q(Ve,Me,Qe){try{return{type:"normal",arg:Ve.call(Me,Qe)}}catch(bt){return{type:"throw",arg:bt}}}g.wrap=te;var J="suspendedStart",K="suspendedYield",Y="executing",re="completed",fe={};function le(){}function ie(){}function ve(){}var Oe={};$(Oe,k,function(){return this});var L=Object.getPrototypeOf,Pe=L&&L(L(It([])));Pe&&Pe!==x&&A.call(Pe,k)&&(Oe=Pe);var pe=ve.prototype=le.prototype=Object.create(Oe);function Be(Ve){["next","throw","return"].forEach(function(Me){$(Ve,Me,function(Qe){return this._invoke(Me,Qe)})})}function je(Ve,Me){function Qe(Ge,Ae,be,Ne){var Re=Q(Ve[Ge],Ve,Ae);if(Re.type!=="throw"){var ht=Re.arg,Wt=ht.value;return Wt&&v(Wt)=="object"&&A.call(Wt,"__await")?Me.resolve(Wt.__await).then(function(Yt){Qe("next",Yt,be,Ne)},function(Yt){Qe("throw",Yt,be,Ne)}):Me.resolve(Wt).then(function(Yt){ht.value=Yt,be(ht)},function(Yt){return Qe("throw",Yt,be,Ne)})}Ne(Re.arg)}var bt;E(this,"_invoke",{value:function(Ae,be){function Ne(){return new Me(function(Re,ht){Qe(Ae,be,Re,ht)})}return bt=bt?bt.then(Ne,Ne):Ne()}})}function he(Ve,Me,Qe){var bt=J;return function(Ge,Ae){if(bt===Y)throw Error("Generator is already running");if(bt===re){if(Ge==="throw")throw Ae;return{value:m,done:!0}}for(Qe.method=Ge,Qe.arg=Ae;;){var be=Qe.delegate;if(be){var Ne=st(be,Qe);if(Ne){if(Ne===fe)continue;return Ne}}if(Qe.method==="next")Qe.sent=Qe._sent=Qe.arg;else if(Qe.method==="throw"){if(bt===J)throw bt=re,Qe.arg;Qe.dispatchException(Qe.arg)}else Qe.method==="return"&&Qe.abrupt("return",Qe.arg);bt=Y;var Re=Q(Ve,Me,Qe);if(Re.type==="normal"){if(bt=Qe.done?re:K,Re.arg===fe)continue;return{value:Re.arg,done:Qe.done}}Re.type==="throw"&&(bt=re,Qe.method="throw",Qe.arg=Re.arg)}}}function st(Ve,Me){var Qe=Me.method,bt=Ve.iterator[Qe];if(bt===m)return Me.delegate=null,Qe==="throw"&&Ve.iterator.return&&(Me.method="return",Me.arg=m,st(Ve,Me),Me.method==="throw")||Qe!=="return"&&(Me.method="throw",Me.arg=new TypeError("The iterator does not provide a '"+Qe+"' method")),fe;var Ge=Q(bt,Ve.iterator,Me.arg);if(Ge.type==="throw")return Me.method="throw",Me.arg=Ge.arg,Me.delegate=null,fe;var Ae=Ge.arg;return Ae?Ae.done?(Me[Ve.resultName]=Ae.value,Me.next=Ve.nextLoc,Me.method!=="return"&&(Me.method="next",Me.arg=m),Me.delegate=null,fe):Ae:(Me.method="throw",Me.arg=new TypeError("iterator result is not an object"),Me.delegate=null,fe)}function en(Ve){var Me={tryLoc:Ve[0]};1 in Ve&&(Me.catchLoc=Ve[1]),2 in Ve&&(Me.finallyLoc=Ve[2],Me.afterLoc=Ve[3]),this.tryEntries.push(Me)}function vn(Ve){var Me=Ve.completion||{};Me.type="normal",delete Me.arg,Ve.completion=Me}function Mt(Ve){this.tryEntries=[{tryLoc:"root"}],Ve.forEach(en,this),this.reset(!0)}function It(Ve){if(Ve||Ve===""){var Me=Ve[k];if(Me)return Me.call(Ve);if(typeof Ve.next=="function")return Ve;if(!isNaN(Ve.length)){var Qe=-1,bt=function Ge(){for(;++Qe<Ve.length;)if(A.call(Ve,Qe))return Ge.value=Ve[Qe],Ge.done=!1,Ge;return Ge.value=m,Ge.done=!0,Ge};return bt.next=bt}}throw new TypeError(v(Ve)+" is not iterable")}return ie.prototype=ve,E(pe,"constructor",{value:ve,configurable:!0}),E(ve,"constructor",{value:ie,configurable:!0}),ie.displayName=$(ve,U,"GeneratorFunction"),g.isGeneratorFunction=function(Ve){var Me=typeof Ve=="function"&&Ve.constructor;return!!Me&&(Me===ie||(Me.displayName||Me.name)==="GeneratorFunction")},g.mark=function(Ve){return Object.setPrototypeOf?Object.setPrototypeOf(Ve,ve):(Ve.__proto__=ve,$(Ve,U,"GeneratorFunction")),Ve.prototype=Object.create(pe),Ve},g.awrap=function(Ve){return{__await:Ve}},Be(je.prototype),$(je.prototype,Z,function(){return this}),g.AsyncIterator=je,g.async=function(Ve,Me,Qe,bt,Ge){Ge===void 0&&(Ge=Promise);var Ae=new je(te(Ve,Me,Qe,bt),Ge);return g.isGeneratorFunction(Me)?Ae:Ae.next().then(function(be){return be.done?be.value:Ae.next()})},Be(pe),$(pe,U,"Generator"),$(pe,k,function(){return this}),$(pe,"toString",function(){return"[object Generator]"}),g.keys=function(Ve){var Me=Object(Ve),Qe=[];for(var bt in Me)Qe.push(bt);return Qe.reverse(),function Ge(){for(;Qe.length;){var Ae=Qe.pop();if(Ae in Me)return Ge.value=Ae,Ge.done=!1,Ge}return Ge.done=!0,Ge}},g.values=It,Mt.prototype={constructor:Mt,reset:function(Me){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(vn),!Me)for(var Qe in this)Qe.charAt(0)==="t"&&A.call(this,Qe)&&!isNaN(+Qe.slice(1))&&(this[Qe]=m)},stop:function(){this.done=!0;var Me=this.tryEntries[0].completion;if(Me.type==="throw")throw Me.arg;return this.rval},dispatchException:function(Me){if(this.done)throw Me;var Qe=this;function bt(ht,Wt){return be.type="throw",be.arg=Me,Qe.next=ht,Wt&&(Qe.method="next",Qe.arg=m),!!Wt}for(var Ge=this.tryEntries.length-1;Ge>=0;--Ge){var Ae=this.tryEntries[Ge],be=Ae.completion;if(Ae.tryLoc==="root")return bt("end");if(Ae.tryLoc<=this.prev){var Ne=A.call(Ae,"catchLoc"),Re=A.call(Ae,"finallyLoc");if(Ne&&Re){if(this.prev<Ae.catchLoc)return bt(Ae.catchLoc,!0);if(this.prev<Ae.finallyLoc)return bt(Ae.finallyLoc)}else if(Ne){if(this.prev<Ae.catchLoc)return bt(Ae.catchLoc,!0)}else{if(!Re)throw Error("try statement without catch or finally");if(this.prev<Ae.finallyLoc)return bt(Ae.finallyLoc)}}}},abrupt:function(Me,Qe){for(var bt=this.tryEntries.length-1;bt>=0;--bt){var Ge=this.tryEntries[bt];if(Ge.tryLoc<=this.prev&&A.call(Ge,"finallyLoc")&&this.prev<Ge.finallyLoc){var Ae=Ge;break}}Ae&&(Me==="break"||Me==="continue")&&Ae.tryLoc<=Qe&&Qe<=Ae.finallyLoc&&(Ae=null);var be=Ae?Ae.completion:{};return be.type=Me,be.arg=Qe,Ae?(this.method="next",this.next=Ae.finallyLoc,fe):this.complete(be)},complete:function(Me,Qe){if(Me.type==="throw")throw Me.arg;return Me.type==="break"||Me.type==="continue"?this.next=Me.arg:Me.type==="return"?(this.rval=this.arg=Me.arg,this.method="return",this.next="end"):Me.type==="normal"&&Qe&&(this.next=Qe),fe},finish:function(Me){for(var Qe=this.tryEntries.length-1;Qe>=0;--Qe){var bt=this.tryEntries[Qe];if(bt.finallyLoc===Me)return this.complete(bt.completion,bt.afterLoc),vn(bt),fe}},catch:function(Me){for(var Qe=this.tryEntries.length-1;Qe>=0;--Qe){var bt=this.tryEntries[Qe];if(bt.tryLoc===Me){var Ge=bt.completion;if(Ge.type==="throw"){var Ae=Ge.arg;vn(bt)}return Ae}}throw Error("illegal catch attempt")},delegateYield:function(Me,Qe,bt){return this.delegate={iterator:It(Me),resultName:Qe,nextLoc:bt},this.method==="next"&&(this.arg=m),fe}},g}j.exports=d,j.exports.__esModule=!0,j.exports.default=j.exports},18698:function(j){function M(l){"@babel/helpers - typeof";return j.exports=M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},j.exports.__esModule=!0,j.exports.default=j.exports,M(l)}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},64687:function(j,M,l){var v=l(17061)();j.exports=v;try{regeneratorRuntime=v}catch(d){typeof globalThis=="object"?globalThis.regeneratorRuntime=v:Function("r","regeneratorRuntime = r")(v)}},96446:function(j,M,l){var v=l(37923);function d(m){if(Array.isArray(m))return v(m)}j.exports=d,j.exports.__esModule=!0,j.exports.default=j.exports},25098:function(j){function M(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},97235:function(j){function M(l,v){if(v.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},28771:function(j){function M(l,v){return v.get?v.get.call(l):v.value}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},40008:function(j){function M(l,v,d){if(v.set)v.set.call(l,d);else{if(!v.writable)throw new TypeError("attempted to set read only private field");v.value=d}}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},56194:function(j){function M(l,v,d){if(!v.has(l))throw new TypeError("attempted to "+d+" private field on non-instance");return v.get(l)}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},33862:function(j,M,l){var v=l(28771),d=l(56194);function m(g,x){var A=d(g,x,"get");return v(g,A)}j.exports=m,j.exports.__esModule=!0,j.exports.default=j.exports},29777:function(j,M,l){var v=l(97235);function d(m,g,x){v(m,g),g.set(m,x)}j.exports=d,j.exports.__esModule=!0,j.exports.default=j.exports},25457:function(j,M,l){var v=l(40008),d=l(56194);function m(g,x,A){var E=d(g,x,"set");return v(g,E,A),A}j.exports=m,j.exports.__esModule=!0,j.exports.default=j.exports},74978:function(j){function M(l,v,d){if(!v.has(l))throw new TypeError("attempted to get private field on non-instance");return d}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},80363:function(j,M,l){var v=l(97235);function d(m,g){v(m,g),g.add(m)}j.exports=d,j.exports.__esModule=!0,j.exports.default=j.exports},64599:function(j,M,l){var v=l(96263);function d(m,g){var x=typeof Symbol!="undefined"&&m[Symbol.iterator]||m["@@iterator"];if(!x){if(Array.isArray(m)||(x=v(m))||g&&m&&typeof m.length=="number"){x&&(m=x);var A=0,E=function(){};return{s:E,n:function(){return A>=m.length?{done:!0}:{done:!1,value:m[A++]}},e:function($){throw $},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,k=!1,Z;return{s:function(){x=x.call(m)},n:function(){var $=x.next();return w=$.done,$},e:function($){k=!0,Z=$},f:function(){try{!w&&x.return!=null&&x.return()}finally{if(k)throw Z}}}}j.exports=d,j.exports.__esModule=!0,j.exports.default=j.exports},26037:function(j,M,l){var v=l(48374),d=l(21771),m=l(73408);function g(x){var A=d();return function(){var w=v(x),k;if(A){var Z=v(this).constructor;k=Reflect.construct(w,arguments,Z)}else k=w.apply(this,arguments);return m(this,k)}}j.exports=g,j.exports.__esModule=!0,j.exports.default=j.exports},28785:function(j,M,l){var v=l(70426);function d(){return typeof Reflect!="undefined"&&Reflect.get?(j.exports=d=Reflect.get.bind(),j.exports.__esModule=!0,j.exports.default=j.exports):(j.exports=d=function(g,x,A){var E=v(g,x);if(E){var w=Object.getOwnPropertyDescriptor(E,x);return w.get?w.get.call(arguments.length<3?g:A):w.value}},j.exports.__esModule=!0,j.exports.default=j.exports),d.apply(this,arguments)}j.exports=d,j.exports.__esModule=!0,j.exports.default=j.exports},48374:function(j){function M(l){return j.exports=M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},j.exports.__esModule=!0,j.exports.default=j.exports,M(l)}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},31996:function(j,M,l){var v=l(21314);function d(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),g&&v(m,g)}j.exports=d,j.exports.__esModule=!0,j.exports.default=j.exports},21771:function(j){function M(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},96936:function(j){function M(l){if(typeof Symbol!="undefined"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},88619:function(j){function M(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},49677:function(j){function M(l){if(l==null)throw new TypeError("Cannot destructure "+l)}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},13769:function(j,M,l){var v=l(48541);function d(m,g){if(m==null)return{};var x=v(m,g),A,E;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(m);for(E=0;E<w.length;E++)A=w[E],!(g.indexOf(A)>=0)&&Object.prototype.propertyIsEnumerable.call(m,A)&&(x[A]=m[A])}return x}j.exports=d,j.exports.__esModule=!0,j.exports.default=j.exports},48541:function(j){function M(l,v){if(l==null)return{};var d={},m=Object.keys(l),g,x;for(x=0;x<m.length;x++)g=m[x],!(v.indexOf(g)>=0)&&(d[g]=l[g]);return d}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},73408:function(j,M,l){var v=l(52677).default,d=l(25098);function m(g,x){if(x&&(v(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(g)}j.exports=m,j.exports.__esModule=!0,j.exports.default=j.exports},21314:function(j){function M(l,v){return j.exports=M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,g){return m.__proto__=g,m},j.exports.__esModule=!0,j.exports.default=j.exports,M(l,v)}j.exports=M,j.exports.__esModule=!0,j.exports.default=j.exports},70426:function(j,M,l){var v=l(48374);function d(m,g){for(;!Object.prototype.hasOwnProperty.call(m,g)&&(m=v(m),m!==null););return m}j.exports=d,j.exports.__esModule=!0,j.exports.default=j.exports},19632:function(j,M,l){var v=l(96446),d=l(96936),m=l(96263),g=l(88619);function x(A){return v(A)||d(A)||m(A)||g()}j.exports=x,j.exports.__esModule=!0,j.exports.default=j.exports},68207:function(j){(function(M,l){j.exports=l()})(this,function(){"use strict";function M(be){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ne){return typeof Ne}:function(Ne){return Ne&&typeof Symbol=="function"&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},M(be)}var l=/^\s+/,v=/\s+$/;function d(be,Ne){if(be=be||"",Ne=Ne||{},be instanceof d)return be;if(!(this instanceof d))return new d(be,Ne);var Re=m(be);this._originalInput=be,this._r=Re.r,this._g=Re.g,this._b=Re.b,this._a=Re.a,this._roundA=Math.round(100*this._a)/100,this._format=Ne.format||Re.format,this._gradientType=Ne.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=Re.ok}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Ne=this.toRgb();return(Ne.r*299+Ne.g*587+Ne.b*114)/1e3},getLuminance:function(){var Ne=this.toRgb(),Re,ht,Wt,Yt,Lt,Dt;return Re=Ne.r/255,ht=Ne.g/255,Wt=Ne.b/255,Re<=.03928?Yt=Re/12.92:Yt=Math.pow((Re+.055)/1.055,2.4),ht<=.03928?Lt=ht/12.92:Lt=Math.pow((ht+.055)/1.055,2.4),Wt<=.03928?Dt=Wt/12.92:Dt=Math.pow((Wt+.055)/1.055,2.4),.2126*Yt+.7152*Lt+.0722*Dt},setAlpha:function(Ne){return this._a=Be(Ne),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var Ne=E(this._r,this._g,this._b);return{h:Ne.h*360,s:Ne.s,v:Ne.v,a:this._a}},toHsvString:function(){var Ne=E(this._r,this._g,this._b),Re=Math.round(Ne.h*360),ht=Math.round(Ne.s*100),Wt=Math.round(Ne.v*100);return this._a==1?"hsv("+Re+", "+ht+"%, "+Wt+"%)":"hsva("+Re+", "+ht+"%, "+Wt+"%, "+this._roundA+")"},toHsl:function(){var Ne=x(this._r,this._g,this._b);return{h:Ne.h*360,s:Ne.s,l:Ne.l,a:this._a}},toHslString:function(){var Ne=x(this._r,this._g,this._b),Re=Math.round(Ne.h*360),ht=Math.round(Ne.s*100),Wt=Math.round(Ne.l*100);return this._a==1?"hsl("+Re+", "+ht+"%, "+Wt+"%)":"hsla("+Re+", "+ht+"%, "+Wt+"%, "+this._roundA+")"},toHex:function(Ne){return k(this._r,this._g,this._b,Ne)},toHexString:function(Ne){return"#"+this.toHex(Ne)},toHex8:function(Ne){return Z(this._r,this._g,this._b,this._a,Ne)},toHex8String:function(Ne){return"#"+this.toHex8(Ne)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(je(this._r,255)*100)+"%",g:Math.round(je(this._g,255)*100)+"%",b:Math.round(je(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(je(this._r,255)*100)+"%, "+Math.round(je(this._g,255)*100)+"%, "+Math.round(je(this._b,255)*100)+"%)":"rgba("+Math.round(je(this._r,255)*100)+"%, "+Math.round(je(this._g,255)*100)+"%, "+Math.round(je(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Pe[k(this._r,this._g,this._b,!0)]||!1},toFilter:function(Ne){var Re="#"+U(this._r,this._g,this._b,this._a),ht=Re,Wt=this._gradientType?"GradientType = 1, ":"";if(Ne){var Yt=d(Ne);ht="#"+U(Yt._r,Yt._g,Yt._b,Yt._a)}return"progid:DXImageTransform.Microsoft.gradient("+Wt+"startColorstr="+Re+",endColorstr="+ht+")"},toString:function(Ne){var Re=!!Ne;Ne=Ne||this._format;var ht=!1,Wt=this._a<1&&this._a>=0,Yt=!Re&&Wt&&(Ne==="hex"||Ne==="hex6"||Ne==="hex3"||Ne==="hex4"||Ne==="hex8"||Ne==="name");return Yt?Ne==="name"&&this._a===0?this.toName():this.toRgbString():(Ne==="rgb"&&(ht=this.toRgbString()),Ne==="prgb"&&(ht=this.toPercentageRgbString()),(Ne==="hex"||Ne==="hex6")&&(ht=this.toHexString()),Ne==="hex3"&&(ht=this.toHexString(!0)),Ne==="hex4"&&(ht=this.toHex8String(!0)),Ne==="hex8"&&(ht=this.toHex8String()),Ne==="name"&&(ht=this.toName()),Ne==="hsl"&&(ht=this.toHslString()),Ne==="hsv"&&(ht=this.toHsvString()),ht||this.toHexString())},clone:function(){return d(this.toString())},_applyModification:function(Ne,Re){var ht=Ne.apply(null,[this].concat([].slice.call(Re)));return this._r=ht._r,this._g=ht._g,this._b=ht._b,this.setAlpha(ht._a),this},lighten:function(){return this._applyModification(J,arguments)},brighten:function(){return this._applyModification(K,arguments)},darken:function(){return this._applyModification(Y,arguments)},desaturate:function(){return this._applyModification($,arguments)},saturate:function(){return this._applyModification(te,arguments)},greyscale:function(){return this._applyModification(Q,arguments)},spin:function(){return this._applyModification(re,arguments)},_applyCombination:function(Ne,Re){return Ne.apply(null,[this].concat([].slice.call(Re)))},analogous:function(){return this._applyCombination(ve,arguments)},complement:function(){return this._applyCombination(fe,arguments)},monochromatic:function(){return this._applyCombination(Oe,arguments)},splitcomplement:function(){return this._applyCombination(ie,arguments)},triad:function(){return this._applyCombination(le,[3])},tetrad:function(){return this._applyCombination(le,[4])}},d.fromRatio=function(be,Ne){if(M(be)=="object"){var Re={};for(var ht in be)be.hasOwnProperty(ht)&&(ht==="a"?Re[ht]=be[ht]:Re[ht]=It(be[ht]));be=Re}return d(be,Ne)};function m(be){var Ne={r:0,g:0,b:0},Re=1,ht=null,Wt=null,Yt=null,Lt=!1,Dt=!1;return typeof be=="string"&&(be=Ge(be)),M(be)=="object"&&(bt(be.r)&&bt(be.g)&&bt(be.b)?(Ne=g(be.r,be.g,be.b),Lt=!0,Dt=String(be.r).substr(-1)==="%"?"prgb":"rgb"):bt(be.h)&&bt(be.s)&&bt(be.v)?(ht=It(be.s),Wt=It(be.v),Ne=w(be.h,ht,Wt),Lt=!0,Dt="hsv"):bt(be.h)&&bt(be.s)&&bt(be.l)&&(ht=It(be.s),Yt=It(be.l),Ne=A(be.h,ht,Yt),Lt=!0,Dt="hsl"),be.hasOwnProperty("a")&&(Re=be.a)),Re=Be(Re),{ok:Lt,format:be.format||Dt,r:Math.min(255,Math.max(Ne.r,0)),g:Math.min(255,Math.max(Ne.g,0)),b:Math.min(255,Math.max(Ne.b,0)),a:Re}}function g(be,Ne,Re){return{r:je(be,255)*255,g:je(Ne,255)*255,b:je(Re,255)*255}}function x(be,Ne,Re){be=je(be,255),Ne=je(Ne,255),Re=je(Re,255);var ht=Math.max(be,Ne,Re),Wt=Math.min(be,Ne,Re),Yt,Lt,Dt=(ht+Wt)/2;if(ht==Wt)Yt=Lt=0;else{var lt=ht-Wt;switch(Lt=Dt>.5?lt/(2-ht-Wt):lt/(ht+Wt),ht){case be:Yt=(Ne-Re)/lt+(Ne<Re?6:0);break;case Ne:Yt=(Re-be)/lt+2;break;case Re:Yt=(be-Ne)/lt+4;break}Yt/=6}return{h:Yt,s:Lt,l:Dt}}function A(be,Ne,Re){var ht,Wt,Yt;be=je(be,360),Ne=je(Ne,100),Re=je(Re,100);function Lt(Ft,qt,Nn){return Nn<0&&(Nn+=1),Nn>1&&(Nn-=1),Nn<1/6?Ft+(qt-Ft)*6*Nn:Nn<1/2?qt:Nn<2/3?Ft+(qt-Ft)*(2/3-Nn)*6:Ft}if(Ne===0)ht=Wt=Yt=Re;else{var Dt=Re<.5?Re*(1+Ne):Re+Ne-Re*Ne,lt=2*Re-Dt;ht=Lt(lt,Dt,be+1/3),Wt=Lt(lt,Dt,be),Yt=Lt(lt,Dt,be-1/3)}return{r:ht*255,g:Wt*255,b:Yt*255}}function E(be,Ne,Re){be=je(be,255),Ne=je(Ne,255),Re=je(Re,255);var ht=Math.max(be,Ne,Re),Wt=Math.min(be,Ne,Re),Yt,Lt,Dt=ht,lt=ht-Wt;if(Lt=ht===0?0:lt/ht,ht==Wt)Yt=0;else{switch(ht){case be:Yt=(Ne-Re)/lt+(Ne<Re?6:0);break;case Ne:Yt=(Re-be)/lt+2;break;case Re:Yt=(be-Ne)/lt+4;break}Yt/=6}return{h:Yt,s:Lt,v:Dt}}function w(be,Ne,Re){be=je(be,360)*6,Ne=je(Ne,100),Re=je(Re,100);var ht=Math.floor(be),Wt=be-ht,Yt=Re*(1-Ne),Lt=Re*(1-Wt*Ne),Dt=Re*(1-(1-Wt)*Ne),lt=ht%6,Ft=[Re,Lt,Yt,Yt,Dt,Re][lt],qt=[Dt,Re,Re,Lt,Yt,Yt][lt],Nn=[Yt,Yt,Dt,Re,Re,Lt][lt];return{r:Ft*255,g:qt*255,b:Nn*255}}function k(be,Ne,Re,ht){var Wt=[Mt(Math.round(be).toString(16)),Mt(Math.round(Ne).toString(16)),Mt(Math.round(Re).toString(16))];return ht&&Wt[0].charAt(0)==Wt[0].charAt(1)&&Wt[1].charAt(0)==Wt[1].charAt(1)&&Wt[2].charAt(0)==Wt[2].charAt(1)?Wt[0].charAt(0)+Wt[1].charAt(0)+Wt[2].charAt(0):Wt.join("")}function Z(be,Ne,Re,ht,Wt){var Yt=[Mt(Math.round(be).toString(16)),Mt(Math.round(Ne).toString(16)),Mt(Math.round(Re).toString(16)),Mt(Ve(ht))];return Wt&&Yt[0].charAt(0)==Yt[0].charAt(1)&&Yt[1].charAt(0)==Yt[1].charAt(1)&&Yt[2].charAt(0)==Yt[2].charAt(1)&&Yt[3].charAt(0)==Yt[3].charAt(1)?Yt[0].charAt(0)+Yt[1].charAt(0)+Yt[2].charAt(0)+Yt[3].charAt(0):Yt.join("")}function U(be,Ne,Re,ht){var Wt=[Mt(Ve(ht)),Mt(Math.round(be).toString(16)),Mt(Math.round(Ne).toString(16)),Mt(Math.round(Re).toString(16))];return Wt.join("")}d.equals=function(be,Ne){return!be||!Ne?!1:d(be).toRgbString()==d(Ne).toRgbString()},d.random=function(){return d.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function $(be,Ne){Ne=Ne===0?0:Ne||10;var Re=d(be).toHsl();return Re.s-=Ne/100,Re.s=he(Re.s),d(Re)}function te(be,Ne){Ne=Ne===0?0:Ne||10;var Re=d(be).toHsl();return Re.s+=Ne/100,Re.s=he(Re.s),d(Re)}function Q(be){return d(be).desaturate(100)}function J(be,Ne){Ne=Ne===0?0:Ne||10;var Re=d(be).toHsl();return Re.l+=Ne/100,Re.l=he(Re.l),d(Re)}function K(be,Ne){Ne=Ne===0?0:Ne||10;var Re=d(be).toRgb();return Re.r=Math.max(0,Math.min(255,Re.r-Math.round(255*-(Ne/100)))),Re.g=Math.max(0,Math.min(255,Re.g-Math.round(255*-(Ne/100)))),Re.b=Math.max(0,Math.min(255,Re.b-Math.round(255*-(Ne/100)))),d(Re)}function Y(be,Ne){Ne=Ne===0?0:Ne||10;var Re=d(be).toHsl();return Re.l-=Ne/100,Re.l=he(Re.l),d(Re)}function re(be,Ne){var Re=d(be).toHsl(),ht=(Re.h+Ne)%360;return Re.h=ht<0?360+ht:ht,d(Re)}function fe(be){var Ne=d(be).toHsl();return Ne.h=(Ne.h+180)%360,d(Ne)}function le(be,Ne){if(isNaN(Ne)||Ne<=0)throw new Error("Argument to polyad must be a positive number");for(var Re=d(be).toHsl(),ht=[d(be)],Wt=360/Ne,Yt=1;Yt<Ne;Yt++)ht.push(d({h:(Re.h+Yt*Wt)%360,s:Re.s,l:Re.l}));return ht}function ie(be){var Ne=d(be).toHsl(),Re=Ne.h;return[d(be),d({h:(Re+72)%360,s:Ne.s,l:Ne.l}),d({h:(Re+216)%360,s:Ne.s,l:Ne.l})]}function ve(be,Ne,Re){Ne=Ne||6,Re=Re||30;var ht=d(be).toHsl(),Wt=360/Re,Yt=[d(be)];for(ht.h=(ht.h-(Wt*Ne>>1)+720)%360;--Ne;)ht.h=(ht.h+Wt)%360,Yt.push(d(ht));return Yt}function Oe(be,Ne){Ne=Ne||6;for(var Re=d(be).toHsv(),ht=Re.h,Wt=Re.s,Yt=Re.v,Lt=[],Dt=1/Ne;Ne--;)Lt.push(d({h:ht,s:Wt,v:Yt})),Yt=(Yt+Dt)%1;return Lt}d.mix=function(be,Ne,Re){Re=Re===0?0:Re||50;var ht=d(be).toRgb(),Wt=d(Ne).toRgb(),Yt=Re/100,Lt={r:(Wt.r-ht.r)*Yt+ht.r,g:(Wt.g-ht.g)*Yt+ht.g,b:(Wt.b-ht.b)*Yt+ht.b,a:(Wt.a-ht.a)*Yt+ht.a};return d(Lt)},d.readability=function(be,Ne){var Re=d(be),ht=d(Ne);return(Math.max(Re.getLuminance(),ht.getLuminance())+.05)/(Math.min(Re.getLuminance(),ht.getLuminance())+.05)},d.isReadable=function(be,Ne,Re){var ht=d.readability(be,Ne),Wt,Yt;switch(Yt=!1,Wt=Ae(Re),Wt.level+Wt.size){case"AAsmall":case"AAAlarge":Yt=ht>=4.5;break;case"AAlarge":Yt=ht>=3;break;case"AAAsmall":Yt=ht>=7;break}return Yt},d.mostReadable=function(be,Ne,Re){var ht=null,Wt=0,Yt,Lt,Dt,lt;Re=Re||{},Lt=Re.includeFallbackColors,Dt=Re.level,lt=Re.size;for(var Ft=0;Ft<Ne.length;Ft++)Yt=d.readability(be,Ne[Ft]),Yt>Wt&&(Wt=Yt,ht=d(Ne[Ft]));return d.isReadable(be,ht,{level:Dt,size:lt})||!Lt?ht:(Re.includeFallbackColors=!1,d.mostReadable(be,["#fff","#000"],Re))};var L=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Pe=d.hexNames=pe(L);function pe(be){var Ne={};for(var Re in be)be.hasOwnProperty(Re)&&(Ne[be[Re]]=Re);return Ne}function Be(be){return be=parseFloat(be),(isNaN(be)||be<0||be>1)&&(be=1),be}function je(be,Ne){en(be)&&(be="100%");var Re=vn(be);return be=Math.min(Ne,Math.max(0,parseFloat(be))),Re&&(be=parseInt(be*Ne,10)/100),Math.abs(be-Ne)<1e-6?1:be%Ne/parseFloat(Ne)}function he(be){return Math.min(1,Math.max(0,be))}function st(be){return parseInt(be,16)}function en(be){return typeof be=="string"&&be.indexOf(".")!=-1&&parseFloat(be)===1}function vn(be){return typeof be=="string"&&be.indexOf("%")!=-1}function Mt(be){return be.length==1?"0"+be:""+be}function It(be){return be<=1&&(be=be*100+"%"),be}function Ve(be){return Math.round(parseFloat(be)*255).toString(16)}function Me(be){return st(be)/255}var Qe=function(){var be="[-\\+]?\\d+%?",Ne="[-\\+]?\\d*\\.\\d+%?",Re="(?:"+Ne+")|(?:"+be+")",ht="[\\s|\\(]+("+Re+")[,|\\s]+("+Re+")[,|\\s]+("+Re+")\\s*\\)?",Wt="[\\s|\\(]+("+Re+")[,|\\s]+("+Re+")[,|\\s]+("+Re+")[,|\\s]+("+Re+")\\s*\\)?";return{CSS_UNIT:new RegExp(Re),rgb:new RegExp("rgb"+ht),rgba:new RegExp("rgba"+Wt),hsl:new RegExp("hsl"+ht),hsla:new RegExp("hsla"+Wt),hsv:new RegExp("hsv"+ht),hsva:new RegExp("hsva"+Wt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function bt(be){return!!Qe.CSS_UNIT.exec(be)}function Ge(be){be=be.replace(l,"").replace(v,"").toLowerCase();var Ne=!1;if(L[be])be=L[be],Ne=!0;else if(be=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Re;return(Re=Qe.rgb.exec(be))?{r:Re[1],g:Re[2],b:Re[3]}:(Re=Qe.rgba.exec(be))?{r:Re[1],g:Re[2],b:Re[3],a:Re[4]}:(Re=Qe.hsl.exec(be))?{h:Re[1],s:Re[2],l:Re[3]}:(Re=Qe.hsla.exec(be))?{h:Re[1],s:Re[2],l:Re[3],a:Re[4]}:(Re=Qe.hsv.exec(be))?{h:Re[1],s:Re[2],v:Re[3]}:(Re=Qe.hsva.exec(be))?{h:Re[1],s:Re[2],v:Re[3],a:Re[4]}:(Re=Qe.hex8.exec(be))?{r:st(Re[1]),g:st(Re[2]),b:st(Re[3]),a:Me(Re[4]),format:Ne?"name":"hex8"}:(Re=Qe.hex6.exec(be))?{r:st(Re[1]),g:st(Re[2]),b:st(Re[3]),format:Ne?"name":"hex"}:(Re=Qe.hex4.exec(be))?{r:st(Re[1]+""+Re[1]),g:st(Re[2]+""+Re[2]),b:st(Re[3]+""+Re[3]),a:Me(Re[4]+""+Re[4]),format:Ne?"name":"hex8"}:(Re=Qe.hex3.exec(be))?{r:st(Re[1]+""+Re[1]),g:st(Re[2]+""+Re[2]),b:st(Re[3]+""+Re[3]),format:Ne?"name":"hex"}:!1}function Ae(be){var Ne,Re;return be=be||{level:"AA",size:"small"},Ne=(be.level||"AA").toUpperCase(),Re=(be.size||"small").toLowerCase(),Ne!=="AA"&&Ne!=="AAA"&&(Ne="AA"),Re!=="small"&&Re!=="large"&&(Re="small"),{level:Ne,size:Re}}return d})},15861:function(j,M,l){"use strict";l.d(M,{Z:function(){return d}});function v(m,g,x,A,E,w,k){try{var Z=m[w](k),U=Z.value}catch($){return void x($)}Z.done?g(U):Promise.resolve(U).then(A,E)}function d(m){return function(){var g=this,x=arguments;return new Promise(function(A,E){var w=m.apply(g,x);function k(U){v(w,A,E,k,Z,"next",U)}function Z(U){v(w,A,E,k,Z,"throw",U)}k(void 0)})}}},74165:function(j,M,l){"use strict";l.d(M,{Z:function(){return d}});var v=l(71002);function d(){"use strict";d=function(){return g};var m,g={},x=Object.prototype,A=x.hasOwnProperty,E=Object.defineProperty||function(Ve,Me,Qe){Ve[Me]=Qe.value},w=typeof Symbol=="function"?Symbol:{},k=w.iterator||"@@iterator",Z=w.asyncIterator||"@@asyncIterator",U=w.toStringTag||"@@toStringTag";function $(Ve,Me,Qe){return Object.defineProperty(Ve,Me,{value:Qe,enumerable:!0,configurable:!0,writable:!0}),Ve[Me]}try{$({},"")}catch(Ve){$=function(Qe,bt,Ge){return Qe[bt]=Ge}}function te(Ve,Me,Qe,bt){var Ge=Me&&Me.prototype instanceof le?Me:le,Ae=Object.create(Ge.prototype),be=new Mt(bt||[]);return E(Ae,"_invoke",{value:he(Ve,Qe,be)}),Ae}function Q(Ve,Me,Qe){try{return{type:"normal",arg:Ve.call(Me,Qe)}}catch(bt){return{type:"throw",arg:bt}}}g.wrap=te;var J="suspendedStart",K="suspendedYield",Y="executing",re="completed",fe={};function le(){}function ie(){}function ve(){}var Oe={};$(Oe,k,function(){return this});var L=Object.getPrototypeOf,Pe=L&&L(L(It([])));Pe&&Pe!==x&&A.call(Pe,k)&&(Oe=Pe);var pe=ve.prototype=le.prototype=Object.create(Oe);function Be(Ve){["next","throw","return"].forEach(function(Me){$(Ve,Me,function(Qe){return this._invoke(Me,Qe)})})}function je(Ve,Me){function Qe(Ge,Ae,be,Ne){var Re=Q(Ve[Ge],Ve,Ae);if(Re.type!=="throw"){var ht=Re.arg,Wt=ht.value;return Wt&&(0,v.Z)(Wt)=="object"&&A.call(Wt,"__await")?Me.resolve(Wt.__await).then(function(Yt){Qe("next",Yt,be,Ne)},function(Yt){Qe("throw",Yt,be,Ne)}):Me.resolve(Wt).then(function(Yt){ht.value=Yt,be(ht)},function(Yt){return Qe("throw",Yt,be,Ne)})}Ne(Re.arg)}var bt;E(this,"_invoke",{value:function(Ae,be){function Ne(){return new Me(function(Re,ht){Qe(Ae,be,Re,ht)})}return bt=bt?bt.then(Ne,Ne):Ne()}})}function he(Ve,Me,Qe){var bt=J;return function(Ge,Ae){if(bt===Y)throw Error("Generator is already running");if(bt===re){if(Ge==="throw")throw Ae;return{value:m,done:!0}}for(Qe.method=Ge,Qe.arg=Ae;;){var be=Qe.delegate;if(be){var Ne=st(be,Qe);if(Ne){if(Ne===fe)continue;return Ne}}if(Qe.method==="next")Qe.sent=Qe._sent=Qe.arg;else if(Qe.method==="throw"){if(bt===J)throw bt=re,Qe.arg;Qe.dispatchException(Qe.arg)}else Qe.method==="return"&&Qe.abrupt("return",Qe.arg);bt=Y;var Re=Q(Ve,Me,Qe);if(Re.type==="normal"){if(bt=Qe.done?re:K,Re.arg===fe)continue;return{value:Re.arg,done:Qe.done}}Re.type==="throw"&&(bt=re,Qe.method="throw",Qe.arg=Re.arg)}}}function st(Ve,Me){var Qe=Me.method,bt=Ve.iterator[Qe];if(bt===m)return Me.delegate=null,Qe==="throw"&&Ve.iterator.return&&(Me.method="return",Me.arg=m,st(Ve,Me),Me.method==="throw")||Qe!=="return"&&(Me.method="throw",Me.arg=new TypeError("The iterator does not provide a '"+Qe+"' method")),fe;var Ge=Q(bt,Ve.iterator,Me.arg);if(Ge.type==="throw")return Me.method="throw",Me.arg=Ge.arg,Me.delegate=null,fe;var Ae=Ge.arg;return Ae?Ae.done?(Me[Ve.resultName]=Ae.value,Me.next=Ve.nextLoc,Me.method!=="return"&&(Me.method="next",Me.arg=m),Me.delegate=null,fe):Ae:(Me.method="throw",Me.arg=new TypeError("iterator result is not an object"),Me.delegate=null,fe)}function en(Ve){var Me={tryLoc:Ve[0]};1 in Ve&&(Me.catchLoc=Ve[1]),2 in Ve&&(Me.finallyLoc=Ve[2],Me.afterLoc=Ve[3]),this.tryEntries.push(Me)}function vn(Ve){var Me=Ve.completion||{};Me.type="normal",delete Me.arg,Ve.completion=Me}function Mt(Ve){this.tryEntries=[{tryLoc:"root"}],Ve.forEach(en,this),this.reset(!0)}function It(Ve){if(Ve||Ve===""){var Me=Ve[k];if(Me)return Me.call(Ve);if(typeof Ve.next=="function")return Ve;if(!isNaN(Ve.length)){var Qe=-1,bt=function Ge(){for(;++Qe<Ve.length;)if(A.call(Ve,Qe))return Ge.value=Ve[Qe],Ge.done=!1,Ge;return Ge.value=m,Ge.done=!0,Ge};return bt.next=bt}}throw new TypeError((0,v.Z)(Ve)+" is not iterable")}return ie.prototype=ve,E(pe,"constructor",{value:ve,configurable:!0}),E(ve,"constructor",{value:ie,configurable:!0}),ie.displayName=$(ve,U,"GeneratorFunction"),g.isGeneratorFunction=function(Ve){var Me=typeof Ve=="function"&&Ve.constructor;return!!Me&&(Me===ie||(Me.displayName||Me.name)==="GeneratorFunction")},g.mark=function(Ve){return Object.setPrototypeOf?Object.setPrototypeOf(Ve,ve):(Ve.__proto__=ve,$(Ve,U,"GeneratorFunction")),Ve.prototype=Object.create(pe),Ve},g.awrap=function(Ve){return{__await:Ve}},Be(je.prototype),$(je.prototype,Z,function(){return this}),g.AsyncIterator=je,g.async=function(Ve,Me,Qe,bt,Ge){Ge===void 0&&(Ge=Promise);var Ae=new je(te(Ve,Me,Qe,bt),Ge);return g.isGeneratorFunction(Me)?Ae:Ae.next().then(function(be){return be.done?be.value:Ae.next()})},Be(pe),$(pe,U,"Generator"),$(pe,k,function(){return this}),$(pe,"toString",function(){return"[object Generator]"}),g.keys=function(Ve){var Me=Object(Ve),Qe=[];for(var bt in Me)Qe.push(bt);return Qe.reverse(),function Ge(){for(;Qe.length;){var Ae=Qe.pop();if(Ae in Me)return Ge.value=Ae,Ge.done=!1,Ge}return Ge.done=!0,Ge}},g.values=It,Mt.prototype={constructor:Mt,reset:function(Me){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(vn),!Me)for(var Qe in this)Qe.charAt(0)==="t"&&A.call(this,Qe)&&!isNaN(+Qe.slice(1))&&(this[Qe]=m)},stop:function(){this.done=!0;var Me=this.tryEntries[0].completion;if(Me.type==="throw")throw Me.arg;return this.rval},dispatchException:function(Me){if(this.done)throw Me;var Qe=this;function bt(ht,Wt){return be.type="throw",be.arg=Me,Qe.next=ht,Wt&&(Qe.method="next",Qe.arg=m),!!Wt}for(var Ge=this.tryEntries.length-1;Ge>=0;--Ge){var Ae=this.tryEntries[Ge],be=Ae.completion;if(Ae.tryLoc==="root")return bt("end");if(Ae.tryLoc<=this.prev){var Ne=A.call(Ae,"catchLoc"),Re=A.call(Ae,"finallyLoc");if(Ne&&Re){if(this.prev<Ae.catchLoc)return bt(Ae.catchLoc,!0);if(this.prev<Ae.finallyLoc)return bt(Ae.finallyLoc)}else if(Ne){if(this.prev<Ae.catchLoc)return bt(Ae.catchLoc,!0)}else{if(!Re)throw Error("try statement without catch or finally");if(this.prev<Ae.finallyLoc)return bt(Ae.finallyLoc)}}}},abrupt:function(Me,Qe){for(var bt=this.tryEntries.length-1;bt>=0;--bt){var Ge=this.tryEntries[bt];if(Ge.tryLoc<=this.prev&&A.call(Ge,"finallyLoc")&&this.prev<Ge.finallyLoc){var Ae=Ge;break}}Ae&&(Me==="break"||Me==="continue")&&Ae.tryLoc<=Qe&&Qe<=Ae.finallyLoc&&(Ae=null);var be=Ae?Ae.completion:{};return be.type=Me,be.arg=Qe,Ae?(this.method="next",this.next=Ae.finallyLoc,fe):this.complete(be)},complete:function(Me,Qe){if(Me.type==="throw")throw Me.arg;return Me.type==="break"||Me.type==="continue"?this.next=Me.arg:Me.type==="return"?(this.rval=this.arg=Me.arg,this.method="return",this.next="end"):Me.type==="normal"&&Qe&&(this.next=Qe),fe},finish:function(Me){for(var Qe=this.tryEntries.length-1;Qe>=0;--Qe){var bt=this.tryEntries[Qe];if(bt.finallyLoc===Me)return this.complete(bt.completion,bt.afterLoc),vn(bt),fe}},catch:function(Me){for(var Qe=this.tryEntries.length-1;Qe>=0;--Qe){var bt=this.tryEntries[Qe];if(bt.tryLoc===Me){var Ge=bt.completion;if(Ge.type==="throw"){var Ae=Ge.arg;vn(bt)}return Ae}}throw Error("illegal catch attempt")},delegateYield:function(Me,Qe,bt){return this.delegate={iterator:It(Me),resultName:Qe,nextLoc:bt},this.method==="next"&&(this.arg=m),fe}},g}},18990:function(j,M,l){"use strict";l.d(M,{ZP:function(){return m}});function v(g,x,A){g._context.bezierCurveTo((2*g._x0+g._x1)/3,(2*g._y0+g._y1)/3,(g._x0+2*g._x1)/3,(g._y0+2*g._y1)/3,(g._x0+4*g._x1+x)/6,(g._y0+4*g._y1+A)/6)}function d(g){this._context=g}d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:v(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(g,x){switch(g=+g,x=+x,this._point){case 0:this._point=1,this._line?this._context.lineTo(g,x):this._context.moveTo(g,x);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:v(this,g,x);break}this._x0=this._x1,this._x1=g,this._y0=this._y1,this._y1=x}};function m(g){return new d(g)}},62386:function(j,M,l){"use strict";l.d(M,{Z:function(){return re}});var v=Array.prototype.slice;function d(fe){return typeof fe=="object"&&"length"in fe?fe:Array.from(fe)}function m(fe){return function(){return fe}}function g(fe){this._context=fe}g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(fe,le){switch(fe=+fe,le=+le,this._point){case 0:this._point=1,this._line?this._context.lineTo(fe,le):this._context.moveTo(fe,le);break;case 1:this._point=2;default:this._context.lineTo(fe,le);break}}};function x(fe){return new g(fe)}const A=Math.PI,E=2*A,w=1e-6,k=E-w;function Z(fe){this._+=fe[0];for(let le=1,ie=fe.length;le<ie;++le)this._+=arguments[le]+fe[le]}function U(fe){let le=Math.floor(fe);if(!(le>=0))throw new Error(`invalid digits: ${fe}`);if(le>15)return Z;const ie=sM(10,le);return function(ve){this._+=ve[0];for(let Oe=1,L=ve.length;Oe<L;++Oe)this._+=Math.round(arguments[Oe]*ie)/ie+ve[Oe]}}class ${constructor(le){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=le==null?Z:U(le)}moveTo(le,ie){this._append`M${this._x0=this._x1=+le},${this._y0=this._y1=+ie}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(le,ie){this._append`L${this._x1=+le},${this._y1=+ie}`}quadraticCurveTo(le,ie,ve,Oe){this._append`Q${+le},${+ie},${this._x1=+ve},${this._y1=+Oe}`}bezierCurveTo(le,ie,ve,Oe,L,Pe){this._append`C${+le},${+ie},${+ve},${+Oe},${this._x1=+L},${this._y1=+Pe}`}arcTo(le,ie,ve,Oe,L){if(le=+le,ie=+ie,ve=+ve,Oe=+Oe,L=+L,L<0)throw new Error(`negative radius: ${L}`);let Pe=this._x1,pe=this._y1,Be=ve-le,je=Oe-ie,he=Pe-le,st=pe-ie,en=he*he+st*st;if(this._x1===null)this._append`M${this._x1=le},${this._y1=ie}`;else if(en>w)if(!(Math.abs(st*Be-je*he)>w)||!L)this._append`L${this._x1=le},${this._y1=ie}`;else{let vn=ve-Pe,Mt=Oe-pe,It=Be*Be+je*je,Ve=vn*vn+Mt*Mt,Me=Math.sqrt(It),Qe=Math.sqrt(en),bt=L*Math.tan((A-Math.acos((It+en-Ve)/(2*Me*Qe)))/2),Ge=bt/Qe,Ae=bt/Me;Math.abs(Ge-1)>w&&this._append`L${le+Ge*he},${ie+Ge*st}`,this._append`A${L},${L},0,0,${+(st*vn>he*Mt)},${this._x1=le+Ae*Be},${this._y1=ie+Ae*je}`}}arc(le,ie,ve,Oe,L,Pe){if(le=+le,ie=+ie,ve=+ve,Pe=!!Pe,ve<0)throw new Error(`negative radius: ${ve}`);let pe=ve*Math.cos(Oe),Be=ve*Math.sin(Oe),je=le+pe,he=ie+Be,st=1^Pe,en=Pe?Oe-L:L-Oe;this._x1===null?this._append`M${je},${he}`:(Math.abs(this._x1-je)>w||Math.abs(this._y1-he)>w)&&this._append`L${je},${he}`,ve&&(en<0&&(en=en%E+E),en>k?this._append`A${ve},${ve},0,1,${st},${le-pe},${ie-Be}A${ve},${ve},0,1,${st},${this._x1=je},${this._y1=he}`:en>w&&this._append`A${ve},${ve},0,${+(en>=A)},${st},${this._x1=le+ve*Math.cos(L)},${this._y1=ie+ve*Math.sin(L)}`)}rect(le,ie,ve,Oe){this._append`M${this._x0=this._x1=+le},${this._y0=this._y1=+ie}h${ve=+ve}v${+Oe}h${-ve}Z`}toString(){return this._}}function te(){return new $}te.prototype=$.prototype;function Q(fe=3){return new $(+fe)}function J(fe){let le=3;return fe.digits=function(ie){if(!arguments.length)return le;if(ie==null)le=null;else{const ve=Math.floor(ie);if(!(ve>=0))throw new RangeError(`invalid digits: ${ie}`);le=ve}return fe},()=>new $(le)}function K(fe){return fe[0]}function Y(fe){return fe[1]}function re(fe,le){var ie=m(!0),ve=null,Oe=x,L=null,Pe=J(pe);fe=typeof fe=="function"?fe:fe===void 0?K:m(fe),le=typeof le=="function"?le:le===void 0?Y:m(le);function pe(Be){var je,he=(Be=d(Be)).length,st,en=!1,vn;for(ve==null&&(L=Oe(vn=Pe())),je=0;je<=he;++je)!(je<he&&ie(st=Be[je],je,Be))===en&&((en=!en)?L.lineStart():L.lineEnd()),en&&L.point(+fe(st,je,Be),+le(st,je,Be));if(vn)return L=null,vn+""||null}return pe.x=function(Be){return arguments.length?(fe=typeof Be=="function"?Be:m(+Be),pe):fe},pe.y=function(Be){return arguments.length?(le=typeof Be=="function"?Be:m(+Be),pe):le},pe.defined=function(Be){return arguments.length?(ie=typeof Be=="function"?Be:m(!!Be),pe):ie},pe.curve=function(Be){return arguments.length?(Oe=Be,ve!=null&&(L=Oe(ve)),pe):Oe},pe.context=function(Be){return arguments.length?(Be==null?ve=L=null:L=Oe(ve=Be),pe):ve},pe}},67308:function(j,M,l){"use strict";l.d(M,{Z:function(){return Y}});function v(){this.__data__=[],this.size=0}var d=v,m=l(79651);function g(re,fe){for(var le=re.length;le--;)if((0,m.Z)(re[le][0],fe))return le;return-1}var x=g,A=Array.prototype,E=A.splice;function w(re){var fe=this.__data__,le=x(fe,re);if(le<0)return!1;var ie=fe.length-1;return le==ie?fe.pop():E.call(fe,le,1),--this.size,!0}var k=w;function Z(re){var fe=this.__data__,le=x(fe,re);return le<0?void 0:fe[le][1]}var U=Z;function $(re){return x(this.__data__,re)>-1}var te=$;function Q(re,fe){var le=this.__data__,ie=x(le,re);return ie<0?(++this.size,le.push([re,fe])):le[ie][1]=fe,this}var J=Q;function K(re){var fe=-1,le=re==null?0:re.length;for(this.clear();++fe<le;){var ie=re[fe];this.set(ie[0],ie[1])}}K.prototype.clear=d,K.prototype.delete=k,K.prototype.get=U,K.prototype.has=te,K.prototype.set=J;var Y=K},86183:function(j,M,l){"use strict";var v=l(62508),d=l(66092),m=(0,v.Z)(d.Z,"Map");M.Z=m},37834:function(j,M,l){"use strict";l.d(M,{Z:function(){return Ge}});var v=l(62508),d=(0,v.Z)(Object,"create"),m=d;function g(){this.__data__=m?m(null):{},this.size=0}var x=g;function A(Ae){var be=this.has(Ae)&&delete this.__data__[Ae];return this.size-=be?1:0,be}var E=A,w="__lodash_hash_undefined__",k=Object.prototype,Z=k.hasOwnProperty;function U(Ae){var be=this.__data__;if(m){var Ne=be[Ae];return Ne===w?void 0:Ne}return Z.call(be,Ae)?be[Ae]:void 0}var $=U,te=Object.prototype,Q=te.hasOwnProperty;function J(Ae){var be=this.__data__;return m?be[Ae]!==void 0:Q.call(be,Ae)}var K=J,Y="__lodash_hash_undefined__";function re(Ae,be){var Ne=this.__data__;return this.size+=this.has(Ae)?0:1,Ne[Ae]=m&&be===void 0?Y:be,this}var fe=re;function le(Ae){var be=-1,Ne=Ae==null?0:Ae.length;for(this.clear();++be<Ne;){var Re=Ae[be];this.set(Re[0],Re[1])}}le.prototype.clear=x,le.prototype.delete=E,le.prototype.get=$,le.prototype.has=K,le.prototype.set=fe;var ie=le,ve=l(67308),Oe=l(86183);function L(){this.size=0,this.__data__={hash:new ie,map:new(Oe.Z||ve.Z),string:new ie}}var Pe=L;function pe(Ae){var be=typeof Ae;return be=="string"||be=="number"||be=="symbol"||be=="boolean"?Ae!=="__proto__":Ae===null}var Be=pe;function je(Ae,be){var Ne=Ae.__data__;return Be(be)?Ne[typeof be=="string"?"string":"hash"]:Ne.map}var he=je;function st(Ae){var be=he(this,Ae).delete(Ae);return this.size-=be?1:0,be}var en=st;function vn(Ae){return he(this,Ae).get(Ae)}var Mt=vn;function It(Ae){return he(this,Ae).has(Ae)}var Ve=It;function Me(Ae,be){var Ne=he(this,Ae),Re=Ne.size;return Ne.set(Ae,be),this.size+=Ne.size==Re?0:1,this}var Qe=Me;function bt(Ae){var be=-1,Ne=Ae==null?0:Ae.length;for(this.clear();++be<Ne;){var Re=Ae[be];this.set(Re[0],Re[1])}}bt.prototype.clear=Pe,bt.prototype.delete=en,bt.prototype.get=Mt,bt.prototype.has=Ve,bt.prototype.set=Qe;var Ge=bt},93203:function(j,M,l){"use strict";var v=l(62508),d=l(66092),m=(0,v.Z)(d.Z,"Set");M.Z=m},63001:function(j,M,l){"use strict";l.d(M,{Z:function(){return w}});var v=l(37834),d="__lodash_hash_undefined__";function m(k){return this.__data__.set(k,d),this}var g=m;function x(k){return this.__data__.has(k)}var A=x;function E(k){var Z=-1,U=k==null?0:k.length;for(this.__data__=new v.Z;++Z<U;)this.add(k[Z])}E.prototype.add=E.prototype.push=g,E.prototype.has=A;var w=E},31667:function(j,M,l){"use strict";l.d(M,{Z:function(){return K}});var v=l(67308);function d(){this.__data__=new v.Z,this.size=0}var m=d;function g(Y){var re=this.__data__,fe=re.delete(Y);return this.size=re.size,fe}var x=g;function A(Y){return this.__data__.get(Y)}var E=A;function w(Y){return this.__data__.has(Y)}var k=w,Z=l(86183),U=l(37834),$=200;function te(Y,re){var fe=this.__data__;if(fe instanceof v.Z){var le=fe.__data__;if(!Z.Z||le.length<$-1)return le.push([Y,re]),this.size=++fe.size,this;fe=this.__data__=new U.Z(le)}return fe.set(Y,re),this.size=fe.size,this}var Q=te;function J(Y){var re=this.__data__=new v.Z(Y);this.size=re.size}J.prototype.clear=m,J.prototype.delete=x,J.prototype.get=E,J.prototype.has=k,J.prototype.set=Q;var K=J},17685:function(j,M,l){"use strict";var v=l(66092),d=v.Z.Symbol;M.Z=d},84073:function(j,M,l){"use strict";var v=l(66092),d=v.Z.Uint8Array;M.Z=d},18069:function(j,M){"use strict";function l(v,d,m){switch(m.length){case 0:return v.call(d);case 1:return v.call(d,m[0]);case 2:return v.call(d,m[0],m[1]);case 3:return v.call(d,m[0],m[1],m[2])}return v.apply(d,m)}M.Z=l},76579:function(j,M){"use strict";function l(v,d){for(var m=-1,g=v==null?0:v.length;++m<g&&d(v[m],m,v)!==!1;);return v}M.Z=l},87668:function(j,M,l){"use strict";l.d(M,{Z:function(){return U}});function v($,te){for(var Q=-1,J=Array($);++Q<$;)J[Q]=te(Q);return J}var d=v,m=l(29169),g=l(27771),x=l(77008),A=l(56009),E=l(18843),w=Object.prototype,k=w.hasOwnProperty;function Z($,te){var Q=(0,g.Z)($),J=!Q&&(0,m.Z)($),K=!Q&&!J&&(0,x.Z)($),Y=!Q&&!J&&!K&&(0,E.Z)($),re=Q||J||K||Y,fe=re?d($.length,String):[],le=fe.length;for(var ie in $)(te||k.call($,ie))&&!(re&&(ie=="length"||K&&(ie=="offset"||ie=="parent")||Y&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||(0,A.Z)(ie,le)))&&fe.push(ie);return fe}var U=Z},74073:function(j,M){"use strict";function l(v,d){for(var m=-1,g=v==null?0:v.length,x=Array(g);++m<g;)x[m]=d(v[m],m,v);return x}M.Z=l},58694:function(j,M){"use strict";function l(v,d){for(var m=-1,g=d.length,x=v.length;++m<g;)v[x+m]=d[m];return v}M.Z=l},72954:function(j,M,l){"use strict";var v=l(74752),d=l(79651),m=Object.prototype,g=m.hasOwnProperty;function x(A,E,w){var k=A[E];(!(g.call(A,E)&&(0,d.Z)(k,w))||w===void 0&&!(E in A))&&(0,v.Z)(A,E,w)}M.Z=x},74752:function(j,M,l){"use strict";var v=l(77904);function d(m,g,x){g=="__proto__"&&v.Z?(0,v.Z)(m,g,{configurable:!0,enumerable:!0,value:x,writable:!0}):m[g]=x}M.Z=d},45401:function(j,M,l){"use strict";l.d(M,{Z:function(){return Ce}});var v=l(31667),d=l(76579),m=l(72954),g=l(31899),x=l(17179);function A(ke,rt){return ke&&(0,g.Z)(rt,(0,x.Z)(rt),ke)}var E=A,w=l(32957);function k(ke,rt){return ke&&(0,g.Z)(rt,(0,w.Z)(rt),ke)}var Z=k,U=l(91050),$=l(87215),te=l(41574);function Q(ke,rt){return(0,g.Z)(ke,(0,te.Z)(ke),rt)}var J=Q,K=l(17502);function Y(ke,rt){return(0,g.Z)(ke,(0,K.Z)(ke),rt)}var re=Y,fe=l(1808),le=l(4403),ie=l(83970),ve=Object.prototype,Oe=ve.hasOwnProperty;function L(ke){var rt=ke.length,Tt=new ke.constructor(rt);return rt&&typeof ke[0]=="string"&&Oe.call(ke,"index")&&(Tt.index=ke.index,Tt.input=ke.input),Tt}var Pe=L,pe=l(41884);function Be(ke,rt){var Tt=rt?(0,pe.Z)(ke.buffer):ke.buffer;return new ke.constructor(Tt,ke.byteOffset,ke.byteLength)}var je=Be,he=/\w*$/;function st(ke){var rt=new ke.constructor(ke.source,he.exec(ke));return rt.lastIndex=ke.lastIndex,rt}var en=st,vn=l(17685),Mt=vn.Z?vn.Z.prototype:void 0,It=Mt?Mt.valueOf:void 0;function Ve(ke){return It?Object(It.call(ke)):{}}var Me=Ve,Qe=l(12701),bt="[object Boolean]",Ge="[object Date]",Ae="[object Map]",be="[object Number]",Ne="[object RegExp]",Re="[object Set]",ht="[object String]",Wt="[object Symbol]",Yt="[object ArrayBuffer]",Lt="[object DataView]",Dt="[object Float32Array]",lt="[object Float64Array]",Ft="[object Int8Array]",qt="[object Int16Array]",Nn="[object Int32Array]",kn="[object Uint8Array]",An="[object Uint8ClampedArray]",Kn="[object Uint16Array]",ee="[object Uint32Array]";function it(ke,rt,Tt){var En=ke.constructor;switch(rt){case Yt:return(0,pe.Z)(ke);case bt:case Ge:return new En(+ke);case Lt:return je(ke,Tt);case Dt:case lt:case Ft:case qt:case Nn:case kn:case An:case Kn:case ee:return(0,Qe.Z)(ke,Tt);case Ae:return new En;case be:case ht:return new En(ke);case Ne:return en(ke);case Re:return new En;case Wt:return Me(ke)}}var Ze=it,ot=l(73658),Xe=l(27771),et=l(77008),pt=l(18533),He="[object Map]";function Et(ke){return(0,pt.Z)(ke)&&(0,ie.Z)(ke)==He}var Vt=Et,On=l(21162),Wn=l(98351),pr=Wn.Z&&Wn.Z.isMap,Cr=pr?(0,On.Z)(pr):Vt,Sn=Cr,Cn=l(77226),Fn="[object Set]";function Hn(ke){return(0,pt.Z)(ke)&&(0,ie.Z)(ke)==Fn}var sr=Hn,ti=Wn.Z&&Wn.Z.isSet,Ir=ti?(0,On.Z)(ti):sr,kr=Ir,di=1,Yn=2,Bt=4,kt="[object Arguments]",dn="[object Array]",Ot="[object Boolean]",ur="[object Date]",Mn="[object Error]",zr="[object Function]",jt="[object GeneratorFunction]",gn="[object Map]",Ln="[object Number]",vt="[object Object]",Zt="[object RegExp]",or="[object Set]",ir="[object String]",lr="[object Symbol]",Pr="[object WeakMap]",$r="[object ArrayBuffer]",dr="[object DataView]",ni="[object Float32Array]",un="[object Float64Array]",ue="[object Int8Array]",De="[object Int16Array]",oe="[object Int32Array]",R="[object Uint8Array]",N="[object Uint8ClampedArray]",G="[object Uint16Array]",ye="[object Uint32Array]",Ie={};Ie[kt]=Ie[dn]=Ie[$r]=Ie[dr]=Ie[Ot]=Ie[ur]=Ie[ni]=Ie[un]=Ie[ue]=Ie[De]=Ie[oe]=Ie[gn]=Ie[Ln]=Ie[vt]=Ie[Zt]=Ie[or]=Ie[ir]=Ie[lr]=Ie[R]=Ie[N]=Ie[G]=Ie[ye]=!0,Ie[Mn]=Ie[zr]=Ie[Pr]=!1;function ze(ke,rt,Tt,En,Rn,$n){var Xn,$t=rt&di,hn=rt&Yn,bn=rt&Bt;if(Tt&&(Xn=Rn?Tt(ke,En,Rn,$n):Tt(ke)),Xn!==void 0)return Xn;if(!(0,Cn.Z)(ke))return ke;var br=(0,Xe.Z)(ke);if(br){if(Xn=Pe(ke),!$t)return(0,$.Z)(ke,Xn)}else{var qn=(0,ie.Z)(ke),Li=qn==zr||qn==jt;if((0,et.Z)(ke))return(0,U.Z)(ke,$t);if(qn==vt||qn==kt||Li&&!Rn){if(Xn=hn||Li?{}:(0,ot.Z)(ke),!$t)return hn?re(ke,Z(Xn,ke)):J(ke,E(Xn,ke))}else{if(!Ie[qn])return Rn?ke:{};Xn=Ze(ke,qn,$t)}}$n||($n=new v.Z);var $i=$n.get(ke);if($i)return $i;$n.set(ke,Xn),kr(ke)?ke.forEach(function(Do){Xn.add(ze(Do,rt,Tt,Do,ke,$n))}):Sn(ke)&&ke.forEach(function(Do,Wo){Xn.set(Wo,ze(Do,rt,Tt,Wo,ke,$n))});var Bi=bn?hn?le.Z:fe.Z:hn?w.Z:x.Z,co=br?void 0:Bi(ke);return(0,d.Z)(co||ke,function(Do,Wo){co&&(Wo=Do,Do=ke[Wo]),(0,m.Z)(Xn,Wo,ze(Do,rt,Tt,Wo,ke,$n))}),Xn}var Ce=ze},52310:function(j,M,l){"use strict";l.d(M,{Z:function(){return k}});var v=l(61395),d=l(17179);function m(Z,U){return Z&&(0,v.Z)(Z,U,d.Z)}var g=m,x=l(50585);function A(Z,U){return function($,te){if($==null)return $;if(!(0,x.Z)($))return Z($,te);for(var Q=$.length,J=U?Q:-1,K=Object($);(U?J--:++J<Q)&&te(K[J],J,K)!==!1;);return $}}var E=A,w=E(g),k=w},10626:function(j,M,l){"use strict";l.d(M,{Z:function(){return k}});var v=l(58694),d=l(17685),m=l(29169),g=l(27771),x=d.Z?d.Z.isConcatSpreadable:void 0;function A(Z){return(0,g.Z)(Z)||(0,m.Z)(Z)||!!(x&&Z&&Z[x])}var E=A;function w(Z,U,$,te,Q){var J=-1,K=Z.length;for($||($=E),Q||(Q=[]);++J<K;){var Y=Z[J];U>0&&$(Y)?U>1?w(Y,U-1,$,te,Q):(0,v.Z)(Q,Y):te||(Q[Q.length]=Y)}return Q}var k=w},61395:function(j,M,l){"use strict";l.d(M,{Z:function(){return g}});function v(x){return function(A,E,w){for(var k=-1,Z=Object(A),U=w(A),$=U.length;$--;){var te=U[x?$:++k];if(E(Z[te],te,Z)===!1)break}return A}}var d=v,m=d(),g=m},13317:function(j,M,l){"use strict";var v=l(10134),d=l(62281);function m(g,x){x=(0,v.Z)(x,g);for(var A=0,E=x.length;g!=null&&A<E;)g=g[(0,d.Z)(x[A++])];return A&&A==E?g:void 0}M.Z=m},63327:function(j,M,l){"use strict";var v=l(58694),d=l(27771);function m(g,x,A){var E=x(g);return(0,d.Z)(g)?E:(0,v.Z)(E,A(g))}M.Z=m},93589:function(j,M,l){"use strict";l.d(M,{Z:function(){return K}});var v=l(17685),d=Object.prototype,m=d.hasOwnProperty,g=d.toString,x=v.Z?v.Z.toStringTag:void 0;function A(Y){var re=m.call(Y,x),fe=Y[x];try{Y[x]=void 0;var le=!0}catch(ve){}var ie=g.call(Y);return le&&(re?Y[x]=fe:delete Y[x]),ie}var E=A,w=Object.prototype,k=w.toString;function Z(Y){return k.call(Y)}var U=Z,$="[object Null]",te="[object Undefined]",Q=v.Z?v.Z.toStringTag:void 0;function J(Y){return Y==null?Y===void 0?te:$:Q&&Q in Object(Y)?E(Y):U(Y)}var K=J},2674:function(j,M,l){"use strict";l.d(M,{Z:function(){return kn}});var v=l(31667),d=l(63001);function m(An,Kn){for(var ee=-1,it=An==null?0:An.length;++ee<it;)if(Kn(An[ee],ee,An))return!0;return!1}var g=m,x=l(59548),A=1,E=2;function w(An,Kn,ee,it,Ze,ot){var Xe=ee&A,et=An.length,pt=Kn.length;if(et!=pt&&!(Xe&&pt>et))return!1;var He=ot.get(An),Et=ot.get(Kn);if(He&&Et)return He==Kn&&Et==An;var Vt=-1,On=!0,Wn=ee&E?new d.Z:void 0;for(ot.set(An,Kn),ot.set(Kn,An);++Vt<et;){var pr=An[Vt],Cr=Kn[Vt];if(it)var Sn=Xe?it(Cr,pr,Vt,Kn,An,ot):it(pr,Cr,Vt,An,Kn,ot);if(Sn!==void 0){if(Sn)continue;On=!1;break}if(Wn){if(!g(Kn,function(Cn,Fn){if(!(0,x.Z)(Wn,Fn)&&(pr===Cn||Ze(pr,Cn,ee,it,ot)))return Wn.push(Fn)})){On=!1;break}}else if(!(pr===Cr||Ze(pr,Cr,ee,it,ot))){On=!1;break}}return ot.delete(An),ot.delete(Kn),On}var k=w,Z=l(17685),U=l(84073),$=l(79651);function te(An){var Kn=-1,ee=Array(An.size);return An.forEach(function(it,Ze){ee[++Kn]=[Ze,it]}),ee}var Q=te,J=l(6545),K=1,Y=2,re="[object Boolean]",fe="[object Date]",le="[object Error]",ie="[object Map]",ve="[object Number]",Oe="[object RegExp]",L="[object Set]",Pe="[object String]",pe="[object Symbol]",Be="[object ArrayBuffer]",je="[object DataView]",he=Z.Z?Z.Z.prototype:void 0,st=he?he.valueOf:void 0;function en(An,Kn,ee,it,Ze,ot,Xe){switch(ee){case je:if(An.byteLength!=Kn.byteLength||An.byteOffset!=Kn.byteOffset)return!1;An=An.buffer,Kn=Kn.buffer;case Be:return!(An.byteLength!=Kn.byteLength||!ot(new U.Z(An),new U.Z(Kn)));case re:case fe:case ve:return(0,$.Z)(+An,+Kn);case le:return An.name==Kn.name&&An.message==Kn.message;case Oe:case Pe:return An==Kn+"";case ie:var et=Q;case L:var pt=it&K;if(et||(et=J.Z),An.size!=Kn.size&&!pt)return!1;var He=Xe.get(An);if(He)return He==Kn;it|=Y,Xe.set(An,Kn);var Et=k(et(An),et(Kn),it,Ze,ot,Xe);return Xe.delete(An),Et;case pe:if(st)return st.call(An)==st.call(Kn)}return!1}var vn=en,Mt=l(1808),It=1,Ve=Object.prototype,Me=Ve.hasOwnProperty;function Qe(An,Kn,ee,it,Ze,ot){var Xe=ee&It,et=(0,Mt.Z)(An),pt=et.length,He=(0,Mt.Z)(Kn),Et=He.length;if(pt!=Et&&!Xe)return!1;for(var Vt=pt;Vt--;){var On=et[Vt];if(!(Xe?On in Kn:Me.call(Kn,On)))return!1}var Wn=ot.get(An),pr=ot.get(Kn);if(Wn&&pr)return Wn==Kn&&pr==An;var Cr=!0;ot.set(An,Kn),ot.set(Kn,An);for(var Sn=Xe;++Vt<pt;){On=et[Vt];var Cn=An[On],Fn=Kn[On];if(it)var Hn=Xe?it(Fn,Cn,On,Kn,An,ot):it(Cn,Fn,On,An,Kn,ot);if(!(Hn===void 0?Cn===Fn||Ze(Cn,Fn,ee,it,ot):Hn)){Cr=!1;break}Sn||(Sn=On=="constructor")}if(Cr&&!Sn){var sr=An.constructor,ti=Kn.constructor;sr!=ti&&"constructor"in An&&"constructor"in Kn&&!(typeof sr=="function"&&sr instanceof sr&&typeof ti=="function"&&ti instanceof ti)&&(Cr=!1)}return ot.delete(An),ot.delete(Kn),Cr}var bt=Qe,Ge=l(83970),Ae=l(27771),be=l(77008),Ne=l(18843),Re=1,ht="[object Arguments]",Wt="[object Array]",Yt="[object Object]",Lt=Object.prototype,Dt=Lt.hasOwnProperty;function lt(An,Kn,ee,it,Ze,ot){var Xe=(0,Ae.Z)(An),et=(0,Ae.Z)(Kn),pt=Xe?Wt:(0,Ge.Z)(An),He=et?Wt:(0,Ge.Z)(Kn);pt=pt==ht?Yt:pt,He=He==ht?Yt:He;var Et=pt==Yt,Vt=He==Yt,On=pt==He;if(On&&(0,be.Z)(An)){if(!(0,be.Z)(Kn))return!1;Xe=!0,Et=!1}if(On&&!Et)return ot||(ot=new v.Z),Xe||(0,Ne.Z)(An)?k(An,Kn,ee,it,Ze,ot):vn(An,Kn,pt,ee,it,Ze,ot);if(!(ee&Re)){var Wn=Et&&Dt.call(An,"__wrapped__"),pr=Vt&&Dt.call(Kn,"__wrapped__");if(Wn||pr){var Cr=Wn?An.value():An,Sn=pr?Kn.value():Kn;return ot||(ot=new v.Z),Ze(Cr,Sn,ee,it,ot)}}return On?(ot||(ot=new v.Z),bt(An,Kn,ee,it,Ze,ot)):!1}var Ft=lt,qt=l(18533);function Nn(An,Kn,ee,it,Ze){return An===Kn?!0:An==null||Kn==null||!(0,qt.Z)(An)&&!(0,qt.Z)(Kn)?An!==An&&Kn!==Kn:Ft(An,Kn,ee,it,Nn,Ze)}var kn=Nn},14669:function(j,M,l){"use strict";l.d(M,{Z:function(){return Ve}});var v=l(31667),d=l(2674),m=1,g=2;function x(Me,Qe,bt,Ge){var Ae=bt.length,be=Ae,Ne=!Ge;if(Me==null)return!be;for(Me=Object(Me);Ae--;){var Re=bt[Ae];if(Ne&&Re[2]?Re[1]!==Me[Re[0]]:!(Re[0]in Me))return!1}for(;++Ae<be;){Re=bt[Ae];var ht=Re[0],Wt=Me[ht],Yt=Re[1];if(Ne&&Re[2]){if(Wt===void 0&&!(ht in Me))return!1}else{var Lt=new v.Z;if(Ge)var Dt=Ge(Wt,Yt,ht,Me,Qe,Lt);if(!(Dt===void 0?(0,d.Z)(Yt,Wt,m|g,Ge,Lt):Dt))return!1}}return!0}var A=x,E=l(77226);function w(Me){return Me===Me&&!(0,E.Z)(Me)}var k=w,Z=l(17179);function U(Me){for(var Qe=(0,Z.Z)(Me),bt=Qe.length;bt--;){var Ge=Qe[bt],Ae=Me[Ge];Qe[bt]=[Ge,Ae,k(Ae)]}return Qe}var $=U;function te(Me,Qe){return function(bt){return bt==null?!1:bt[Me]===Qe&&(Qe!==void 0||Me in Object(bt))}}var Q=te;function J(Me){var Qe=$(Me);return Qe.length==1&&Qe[0][2]?Q(Qe[0][0],Qe[0][1]):function(bt){return bt===Me||A(bt,Me,Qe)}}var K=J,Y=l(13317);function re(Me,Qe,bt){var Ge=Me==null?void 0:(0,Y.Z)(Me,Qe);return Ge===void 0?bt:Ge}var fe=re,le=l(75487),ie=l(99365),ve=l(62281),Oe=1,L=2;function Pe(Me,Qe){return(0,ie.Z)(Me)&&k(Qe)?Q((0,ve.Z)(Me),Qe):function(bt){var Ge=fe(bt,Me);return Ge===void 0&&Ge===Qe?(0,le.Z)(bt,Me):(0,d.Z)(Qe,Ge,Oe|L)}}var pe=Pe,Be=l(69203),je=l(27771),he=l(54193);function st(Me){return function(Qe){return(0,Y.Z)(Qe,Me)}}var en=st;function vn(Me){return(0,ie.Z)(Me)?(0,he.Z)((0,ve.Z)(Me)):en(Me)}var Mt=vn;function It(Me){return typeof Me=="function"?Me:Me==null?Be.Z:typeof Me=="object"?(0,je.Z)(Me)?pe(Me[0],Me[1]):K(Me):Mt(Me)}var Ve=It},39473:function(j,M,l){"use strict";l.d(M,{Z:function(){return w}});var v=l(72764),d=l(1851),m=(0,d.Z)(Object.keys,Object),g=m,x=Object.prototype,A=x.hasOwnProperty;function E(k){if(!(0,v.Z)(k))return g(k);var Z=[];for(var U in Object(k))A.call(k,U)&&U!="constructor"&&Z.push(U);return Z}var w=E},21018:function(j,M,l){"use strict";var v=l(52310),d=l(50585);function m(g,x){var A=-1,E=(0,d.Z)(g)?Array(g.length):[];return(0,v.Z)(g,function(w,k,Z){E[++A]=x(w,k,Z)}),E}M.Z=m},11363:function(j,M,l){"use strict";l.d(M,{Z:function(){return je}});var v=l(31667),d=l(74752),m=l(79651);function g(he,st,en){(en!==void 0&&!(0,m.Z)(he[st],en)||en===void 0&&!(st in he))&&(0,d.Z)(he,st,en)}var x=g,A=l(61395),E=l(91050),w=l(12701),k=l(87215),Z=l(73658),U=l(29169),$=l(27771),te=l(836),Q=l(77008),J=l(73234),K=l(77226),Y=l(37514),re=l(18843);function fe(he,st){if(!(st==="constructor"&&typeof he[st]=="function")&&st!="__proto__")return he[st]}var le=fe,ie=l(31899),ve=l(32957);function Oe(he){return(0,ie.Z)(he,(0,ve.Z)(he))}var L=Oe;function Pe(he,st,en,vn,Mt,It,Ve){var Me=le(he,en),Qe=le(st,en),bt=Ve.get(Qe);if(bt){x(he,en,bt);return}var Ge=It?It(Me,Qe,en+"",he,st,Ve):void 0,Ae=Ge===void 0;if(Ae){var be=(0,$.Z)(Qe),Ne=!be&&(0,Q.Z)(Qe),Re=!be&&!Ne&&(0,re.Z)(Qe);Ge=Qe,be||Ne||Re?(0,$.Z)(Me)?Ge=Me:(0,te.Z)(Me)?Ge=(0,k.Z)(Me):Ne?(Ae=!1,Ge=(0,E.Z)(Qe,!0)):Re?(Ae=!1,Ge=(0,w.Z)(Qe,!0)):Ge=[]:(0,Y.Z)(Qe)||(0,U.Z)(Qe)?(Ge=Me,(0,U.Z)(Me)?Ge=L(Me):(!(0,K.Z)(Me)||(0,J.Z)(Me))&&(Ge=(0,Z.Z)(Qe))):Ae=!1}Ae&&(Ve.set(Qe,Ge),Mt(Ge,Qe,vn,It,Ve),Ve.delete(Qe)),x(he,en,Ge)}var pe=Pe;function Be(he,st,en,vn,Mt){he!==st&&(0,A.Z)(st,function(It,Ve){if(Mt||(Mt=new v.Z),(0,K.Z)(It))pe(he,st,Ve,en,Be,vn,Mt);else{var Me=vn?vn(le(he,Ve),It,Ve+"",he,st,Mt):void 0;Me===void 0&&(Me=It),x(he,Ve,Me)}},ve.Z)}var je=Be},54193:function(j,M){"use strict";function l(v){return function(d){return d==null?void 0:d[v]}}M.Z=l},69581:function(j,M,l){"use strict";var v=l(69203),d=l(45644),m=l(64594);function g(x,A){return(0,m.Z)((0,d.Z)(x,A,v.Z),x+"")}M.Z=g},47855:function(j,M){"use strict";function l(v,d,m){var g=-1,x=v.length;d<0&&(d=-d>x?0:x+d),m=m>x?x:m,m<0&&(m+=x),x=d>m?0:m-d>>>0,d>>>=0;for(var A=Array(x);++g<x;)A[g]=v[g+d];return A}M.Z=l},42845:function(j,M,l){"use strict";var v=l(17685),d=l(74073),m=l(27771),g=l(72714),x=1/0,A=v.Z?v.Z.prototype:void 0,E=A?A.toString:void 0;function w(k){if(typeof k=="string")return k;if((0,m.Z)(k))return(0,d.Z)(k,w)+"";if((0,g.Z)(k))return E?E.call(k):"";var Z=k+"";return Z=="0"&&1/k==-x?"-0":Z}M.Z=w},21162:function(j,M){"use strict";function l(v){return function(d){return v(d)}}M.Z=l},59548:function(j,M){"use strict";function l(v,d){return v.has(d)}M.Z=l},68882:function(j,M,l){"use strict";var v=l(69203);function d(m){return typeof m=="function"?m:v.Z}M.Z=d},10134:function(j,M,l){"use strict";l.d(M,{Z:function(){return K}});var v=l(27771),d=l(99365),m=l(37834),g="Expected a function";function x(Y,re){if(typeof Y!="function"||re!=null&&typeof re!="function")throw new TypeError(g);var fe=function(){var le=arguments,ie=re?re.apply(this,le):le[0],ve=fe.cache;if(ve.has(ie))return ve.get(ie);var Oe=Y.apply(this,le);return fe.cache=ve.set(ie,Oe)||ve,Oe};return fe.cache=new(x.Cache||m.Z),fe}x.Cache=m.Z;var A=x,E=500;function w(Y){var re=A(Y,function(le){return fe.size===E&&fe.clear(),le}),fe=re.cache;return re}var k=w,Z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U=/\\(\\)?/g,$=k(function(Y){var re=[];return Y.charCodeAt(0)===46&&re.push(""),Y.replace(Z,function(fe,le,ie,ve){re.push(ie?ve.replace(U,"$1"):le||fe)}),re}),te=$,Q=l(77338);function J(Y,re){return(0,v.Z)(Y)?Y:(0,d.Z)(Y,re)?[Y]:te((0,Q.Z)(Y))}var K=J},41884:function(j,M,l){"use strict";var v=l(84073);function d(m){var g=new m.constructor(m.byteLength);return new v.Z(g).set(new v.Z(m)),g}M.Z=d},91050:function(j,M,l){"use strict";var v=l(66092),d=typeof exports=="object"&&exports&&!exports.nodeType&&exports,m=d&&typeof module=="object"&&module&&!module.nodeType&&module,g=m&&m.exports===d,x=g?v.Z.Buffer:void 0,A=x?x.allocUnsafe:void 0;function E(w,k){if(k)return w.slice();var Z=w.length,U=A?A(Z):new w.constructor(Z);return w.copy(U),U}M.Z=E},12701:function(j,M,l){"use strict";var v=l(41884);function d(m,g){var x=g?(0,v.Z)(m.buffer):m.buffer;return new m.constructor(x,m.byteOffset,m.length)}M.Z=d},87215:function(j,M){"use strict";function l(v,d){var m=-1,g=v.length;for(d||(d=Array(g));++m<g;)d[m]=v[m];return d}M.Z=l},31899:function(j,M,l){"use strict";var v=l(72954),d=l(74752);function m(g,x,A,E){var w=!A;A||(A={});for(var k=-1,Z=x.length;++k<Z;){var U=x[k],$=E?E(A[U],g[U],U,A,g):void 0;$===void 0&&($=g[U]),w?(0,d.Z)(A,U,$):(0,v.Z)(A,U,$)}return A}M.Z=m},49268:function(j,M,l){"use strict";var v=l(69581),d=l(50439);function m(g){return(0,v.Z)(function(x,A){var E=-1,w=A.length,k=w>1?A[w-1]:void 0,Z=w>2?A[2]:void 0;for(k=g.length>3&&typeof k=="function"?(w--,k):void 0,Z&&(0,d.Z)(A[0],A[1],Z)&&(k=w<3?void 0:k,w=1),x=Object(x);++E<w;){var U=A[E];U&&g(x,U,E,k)}return x})}M.Z=m},77904:function(j,M,l){"use strict";var v=l(62508),d=function(){try{var m=(0,v.Z)(Object,"defineProperty");return m({},"",{}),m}catch(g){}}();M.Z=d},94008:function(j,M,l){"use strict";l.d(M,{Z:function(){return E}});var v=l(10626);function d(w){var k=w==null?0:w.length;return k?(0,v.Z)(w,1):[]}var m=d,g=l(45644),x=l(64594);function A(w){return(0,x.Z)((0,g.Z)(w,void 0,m),w+"")}var E=A},13413:function(j,M){"use strict";var l=typeof global=="object"&&global&&global.Object===Object&&global;M.Z=l},1808:function(j,M,l){"use strict";var v=l(63327),d=l(41574),m=l(17179);function g(x){return(0,v.Z)(x,m.Z,d.Z)}M.Z=g},4403:function(j,M,l){"use strict";var v=l(63327),d=l(17502),m=l(32957);function g(x){return(0,v.Z)(x,m.Z,d.Z)}M.Z=g},62508:function(j,M,l){"use strict";l.d(M,{Z:function(){return ve}});var v=l(73234),d=l(66092),m=d.Z["__core-js_shared__"],g=m,x=function(){var Oe=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return Oe?"Symbol(src)_1."+Oe:""}();function A(Oe){return!!x&&x in Oe}var E=A,w=l(77226),k=l(90019),Z=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,$=Function.prototype,te=Object.prototype,Q=$.toString,J=te.hasOwnProperty,K=RegExp("^"+Q.call(J).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Y(Oe){if(!(0,w.Z)(Oe)||E(Oe))return!1;var L=(0,v.Z)(Oe)?K:U;return L.test((0,k.Z)(Oe))}var re=Y;function fe(Oe,L){return Oe==null?void 0:Oe[L]}var le=fe;function ie(Oe,L){var Pe=le(Oe,L);return re(Pe)?Pe:void 0}var ve=ie},12513:function(j,M,l){"use strict";var v=l(1851),d=(0,v.Z)(Object.getPrototypeOf,Object);M.Z=d},41574:function(j,M,l){"use strict";l.d(M,{Z:function(){return w}});function v(k,Z){for(var U=-1,$=k==null?0:k.length,te=0,Q=[];++U<$;){var J=k[U];Z(J,U,k)&&(Q[te++]=J)}return Q}var d=v,m=l(60532),g=Object.prototype,x=g.propertyIsEnumerable,A=Object.getOwnPropertySymbols,E=A?function(k){return k==null?[]:(k=Object(k),d(A(k),function(Z){return x.call(k,Z)}))}:m.Z,w=E},17502:function(j,M,l){"use strict";var v=l(58694),d=l(12513),m=l(41574),g=l(60532),x=Object.getOwnPropertySymbols,A=x?function(E){for(var w=[];E;)(0,v.Z)(w,(0,m.Z)(E)),E=(0,d.Z)(E);return w}:g.Z;M.Z=A},83970:function(j,M,l){"use strict";l.d(M,{Z:function(){return Pe}});var v=l(62508),d=l(66092),m=(0,v.Z)(d.Z,"DataView"),g=m,x=l(86183),A=(0,v.Z)(d.Z,"Promise"),E=A,w=l(93203),k=(0,v.Z)(d.Z,"WeakMap"),Z=k,U=l(93589),$=l(90019),te="[object Map]",Q="[object Object]",J="[object Promise]",K="[object Set]",Y="[object WeakMap]",re="[object DataView]",fe=(0,$.Z)(g),le=(0,$.Z)(x.Z),ie=(0,$.Z)(E),ve=(0,$.Z)(w.Z),Oe=(0,$.Z)(Z),L=U.Z;(g&&L(new g(new ArrayBuffer(1)))!=re||x.Z&&L(new x.Z)!=te||E&&L(E.resolve())!=J||w.Z&&L(new w.Z)!=K||Z&&L(new Z)!=Y)&&(L=function(pe){var Be=(0,U.Z)(pe),je=Be==Q?pe.constructor:void 0,he=je?(0,$.Z)(je):"";if(he)switch(he){case fe:return re;case le:return te;case ie:return J;case ve:return K;case Oe:return Y}return Be});var Pe=L},16174:function(j,M,l){"use strict";var v=l(10134),d=l(29169),m=l(27771),g=l(56009),x=l(1656),A=l(62281);function E(w,k,Z){k=(0,v.Z)(k,w);for(var U=-1,$=k.length,te=!1;++U<$;){var Q=(0,A.Z)(k[U]);if(!(te=w!=null&&Z(w,Q)))break;w=w[Q]}return te||++U!=$?te:($=w==null?0:w.length,!!$&&(0,x.Z)($)&&(0,g.Z)(Q,$)&&((0,m.Z)(w)||(0,d.Z)(w)))}M.Z=E},73658:function(j,M,l){"use strict";l.d(M,{Z:function(){return w}});var v=l(77226),d=Object.create,m=function(){function k(){}return function(Z){if(!(0,v.Z)(Z))return{};if(d)return d(Z);k.prototype=Z;var U=new k;return k.prototype=void 0,U}}(),g=m,x=l(12513),A=l(72764);function E(k){return typeof k.constructor=="function"&&!(0,A.Z)(k)?g((0,x.Z)(k)):{}}var w=E},56009:function(j,M){"use strict";var l=9007199254740991,v=/^(?:0|[1-9]\d*)$/;function d(m,g){var x=typeof m;return g=g==null?l:g,!!g&&(x=="number"||x!="symbol"&&v.test(m))&&m>-1&&m%1==0&&m<g}M.Z=d},50439:function(j,M,l){"use strict";var v=l(79651),d=l(50585),m=l(56009),g=l(77226);function x(A,E,w){if(!(0,g.Z)(w))return!1;var k=typeof E;return(k=="number"?(0,d.Z)(w)&&(0,m.Z)(E,w.length):k=="string"&&E in w)?(0,v.Z)(w[E],A):!1}M.Z=x},99365:function(j,M,l){"use strict";var v=l(27771),d=l(72714),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;function x(A,E){if((0,v.Z)(A))return!1;var w=typeof A;return w=="number"||w=="symbol"||w=="boolean"||A==null||(0,d.Z)(A)?!0:g.test(A)||!m.test(A)||E!=null&&A in Object(E)}M.Z=x},72764:function(j,M){"use strict";var l=Object.prototype;function v(d){var m=d&&d.constructor,g=typeof m=="function"&&m.prototype||l;return d===g}M.Z=v},98351:function(j,M,l){"use strict";var v=l(13413),d=typeof exports=="object"&&exports&&!exports.nodeType&&exports,m=d&&typeof module=="object"&&module&&!module.nodeType&&module,g=m&&m.exports===d,x=g&&v.Z.process,A=function(){try{var E=m&&m.require&&m.require("util").types;return E||x&&x.binding&&x.binding("util")}catch(w){}}();M.Z=A},1851:function(j,M){"use strict";function l(v,d){return function(m){return v(d(m))}}M.Z=l},45644:function(j,M,l){"use strict";var v=l(18069),d=Math.max;function m(g,x,A){return x=d(x===void 0?g.length-1:x,0),function(){for(var E=arguments,w=-1,k=d(E.length-x,0),Z=Array(k);++w<k;)Z[w]=E[x+w];w=-1;for(var U=Array(x+1);++w<x;)U[w]=E[w];return U[x]=A(Z),(0,v.Z)(g,this,U)}}M.Z=m},66092:function(j,M,l){"use strict";var v=l(13413),d=typeof self=="object"&&self&&self.Object===Object&&self,m=v.Z||d||Function("return this")();M.Z=m},6545:function(j,M){"use strict";function l(v){var d=-1,m=Array(v.size);return v.forEach(function(g){m[++d]=g}),m}M.Z=l},64594:function(j,M,l){"use strict";l.d(M,{Z:function(){return te}});function v(Q){return function(){return Q}}var d=v,m=l(77904),g=l(69203),x=m.Z?function(Q,J){return(0,m.Z)(Q,"toString",{configurable:!0,enumerable:!1,value:d(J),writable:!0})}:g.Z,A=x,E=800,w=16,k=Date.now;function Z(Q){var J=0,K=0;return function(){var Y=k(),re=w-(Y-K);if(K=Y,re>0){if(++J>=E)return arguments[0]}else J=0;return Q.apply(void 0,arguments)}}var U=Z,$=U(A),te=$},62281:function(j,M,l){"use strict";var v=l(72714),d=1/0;function m(g){if(typeof g=="string"||(0,v.Z)(g))return g;var x=g+"";return x=="0"&&1/g==-d?"-0":x}M.Z=m},90019:function(j,M){"use strict";var l=Function.prototype,v=l.toString;function d(m){if(m!=null){try{return v.call(m)}catch(g){}try{return m+""}catch(g){}}return""}M.Z=d},36409:function(j,M,l){"use strict";l.d(M,{Z:function(){return Z}});var v=l(77226),d=l(66092),m=function(){return d.Z.Date.now()},g=m,x=l(21357),A="Expected a function",E=Math.max,w=Math.min;function k(U,$,te){var Q,J,K,Y,re,fe,le=0,ie=!1,ve=!1,Oe=!0;if(typeof U!="function")throw new TypeError(A);$=(0,x.Z)($)||0,(0,v.Z)(te)&&(ie=!!te.leading,ve="maxWait"in te,K=ve?E((0,x.Z)(te.maxWait)||0,$):K,Oe="trailing"in te?!!te.trailing:Oe);function L(Mt){var It=Q,Ve=J;return Q=J=void 0,le=Mt,Y=U.apply(Ve,It),Y}function Pe(Mt){return le=Mt,re=setTimeout(je,$),ie?L(Mt):Y}function pe(Mt){var It=Mt-fe,Ve=Mt-le,Me=$-It;return ve?w(Me,K-Ve):Me}function Be(Mt){var It=Mt-fe,Ve=Mt-le;return fe===void 0||It>=$||It<0||ve&&Ve>=K}function je(){var Mt=g();if(Be(Mt))return he(Mt);re=setTimeout(je,pe(Mt))}function he(Mt){return re=void 0,Oe&&Q?L(Mt):(Q=J=void 0,Y)}function st(){re!==void 0&&clearTimeout(re),le=0,Q=fe=J=re=void 0}function en(){return re===void 0?Y:he(g())}function vn(){var Mt=g(),It=Be(Mt);if(Q=arguments,J=this,fe=Mt,It){if(re===void 0)return Pe(fe);if(ve)return clearTimeout(re),re=setTimeout(je,$),L(fe)}return re===void 0&&(re=setTimeout(je,$)),Y}return vn.cancel=st,vn.flush=en,vn}var Z=k},79651:function(j,M){"use strict";function l(v,d){return v===d||v!==v&&d!==d}M.Z=l},75487:function(j,M,l){"use strict";l.d(M,{Z:function(){return x}});function v(A,E){return A!=null&&E in Object(A)}var d=v,m=l(16174);function g(A,E){return A!=null&&(0,m.Z)(A,E,d)}var x=g},69203:function(j,M){"use strict";function l(v){return v}M.Z=l},29169:function(j,M,l){"use strict";l.d(M,{Z:function(){return Z}});var v=l(93589),d=l(18533),m="[object Arguments]";function g(U){return(0,d.Z)(U)&&(0,v.Z)(U)==m}var x=g,A=Object.prototype,E=A.hasOwnProperty,w=A.propertyIsEnumerable,k=x(function(){return arguments}())?x:function(U){return(0,d.Z)(U)&&E.call(U,"callee")&&!w.call(U,"callee")},Z=k},27771:function(j,M){"use strict";var l=Array.isArray;M.Z=l},50585:function(j,M,l){"use strict";var v=l(73234),d=l(1656);function m(g){return g!=null&&(0,d.Z)(g.length)&&!(0,v.Z)(g)}M.Z=m},836:function(j,M,l){"use strict";var v=l(50585),d=l(18533);function m(g){return(0,d.Z)(g)&&(0,v.Z)(g)}M.Z=m},77008:function(j,M,l){"use strict";l.d(M,{Z:function(){return Z}});var v=l(66092);function d(){return!1}var m=d,g=typeof exports=="object"&&exports&&!exports.nodeType&&exports,x=g&&typeof module=="object"&&module&&!module.nodeType&&module,A=x&&x.exports===g,E=A?v.Z.Buffer:void 0,w=E?E.isBuffer:void 0,k=w||m,Z=k},73234:function(j,M,l){"use strict";var v=l(93589),d=l(77226),m="[object AsyncFunction]",g="[object Function]",x="[object GeneratorFunction]",A="[object Proxy]";function E(w){if(!(0,d.Z)(w))return!1;var k=(0,v.Z)(w);return k==g||k==x||k==m||k==A}M.Z=E},1656:function(j,M){"use strict";var l=9007199254740991;function v(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=l}M.Z=v},77226:function(j,M){"use strict";function l(v){var d=typeof v;return v!=null&&(d=="object"||d=="function")}M.Z=l},18533:function(j,M){"use strict";function l(v){return v!=null&&typeof v=="object"}M.Z=l},37514:function(j,M,l){"use strict";var v=l(93589),d=l(12513),m=l(18533),g="[object Object]",x=Function.prototype,A=Object.prototype,E=x.toString,w=A.hasOwnProperty,k=E.call(Object);function Z(U){if(!(0,m.Z)(U)||(0,v.Z)(U)!=g)return!1;var $=(0,d.Z)(U);if($===null)return!0;var te=w.call($,"constructor")&&$.constructor;return typeof te=="function"&&te instanceof te&&E.call(te)==k}M.Z=Z},72714:function(j,M,l){"use strict";var v=l(93589),d=l(18533),m="[object Symbol]";function g(x){return typeof x=="symbol"||(0,d.Z)(x)&&(0,v.Z)(x)==m}M.Z=g},18843:function(j,M,l){"use strict";l.d(M,{Z:function(){return Ve}});var v=l(93589),d=l(1656),m=l(18533),g="[object Arguments]",x="[object Array]",A="[object Boolean]",E="[object Date]",w="[object Error]",k="[object Function]",Z="[object Map]",U="[object Number]",$="[object Object]",te="[object RegExp]",Q="[object Set]",J="[object String]",K="[object WeakMap]",Y="[object ArrayBuffer]",re="[object DataView]",fe="[object Float32Array]",le="[object Float64Array]",ie="[object Int8Array]",ve="[object Int16Array]",Oe="[object Int32Array]",L="[object Uint8Array]",Pe="[object Uint8ClampedArray]",pe="[object Uint16Array]",Be="[object Uint32Array]",je={};je[fe]=je[le]=je[ie]=je[ve]=je[Oe]=je[L]=je[Pe]=je[pe]=je[Be]=!0,je[g]=je[x]=je[Y]=je[A]=je[re]=je[E]=je[w]=je[k]=je[Z]=je[U]=je[$]=je[te]=je[Q]=je[J]=je[K]=!1;function he(Me){return(0,m.Z)(Me)&&(0,d.Z)(Me.length)&&!!je[(0,v.Z)(Me)]}var st=he,en=l(21162),vn=l(98351),Mt=vn.Z&&vn.Z.isTypedArray,It=Mt?(0,en.Z)(Mt):st,Ve=It},17179:function(j,M,l){"use strict";var v=l(87668),d=l(39473),m=l(50585);function g(x){return(0,m.Z)(x)?(0,v.Z)(x):(0,d.Z)(x)}M.Z=g},32957:function(j,M,l){"use strict";l.d(M,{Z:function(){return $}});var v=l(87668),d=l(77226),m=l(72764);function g(te){var Q=[];if(te!=null)for(var J in Object(te))Q.push(J);return Q}var x=g,A=Object.prototype,E=A.hasOwnProperty;function w(te){if(!(0,d.Z)(te))return x(te);var Q=(0,m.Z)(te),J=[];for(var K in te)K=="constructor"&&(Q||!E.call(te,K))||J.push(K);return J}var k=w,Z=l(50585);function U(te){return(0,Z.Z)(te)?(0,v.Z)(te,!0):k(te)}var $=U},48568:function(j,M,l){"use strict";var v=l(11363),d=l(49268),m=(0,d.Z)(function(g,x,A){(0,v.Z)(g,x,A)});M.Z=m},60532:function(j,M){"use strict";function l(){return[]}M.Z=l},21357:function(j,M,l){"use strict";l.d(M,{Z:function(){return J}});var v=/\s/;function d(K){for(var Y=K.length;Y--&&v.test(K.charAt(Y)););return Y}var m=d,g=/^\s+/;function x(K){return K&&K.slice(0,m(K)+1).replace(g,"")}var A=x,E=l(77226),w=l(72714),k=NaN,Z=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,$=/^0o[0-7]+$/i,te=parseInt;function Q(K){if(typeof K=="number")return K;if((0,w.Z)(K))return k;if((0,E.Z)(K)){var Y=typeof K.valueOf=="function"?K.valueOf():K;K=(0,E.Z)(Y)?Y+"":Y}if(typeof K!="string")return K===0?K:+K;K=A(K);var re=U.test(K);return re||$.test(K)?te(K.slice(2),re?2:8):Z.test(K)?k:+K}var J=Q},77338:function(j,M,l){"use strict";var v=l(42845);function d(m){return m==null?"":(0,v.Z)(m)}M.Z=d}}]);
}());